import{a as z}from"./chunk-TCVQJ2HF.js";import{a as h,c as J}from"./chunk-ZRT45YCM.js";var ue=J(((e,t)=>{"use strict";function n(e,t,n){n=n||2;var i,o,h,u,a,f,v,p=t&&t.length,l=p?t[0]*n:e.length,y=r(e,0,l,n,!0),c=[];if(!y||y.next===y.prev)return c;if(p&&(y=s(e,t,y,n)),e.length>80*n){i=h=e[0],o=u=e[1];for(var d=n;d<l;d+=n)(a=e[d])<i&&(i=a),(f=e[d+1])<o&&(o=f),a>h&&(h=a),f>u&&(u=f);v=0!==(v=Math.max(h-i,u-o))?32767/v:0}return x(y,c,n,i,o,v,0),c}function r(e,t,n,r,i){var x,o;if(i===N(e,t,n,r)>0)for(x=t;x<n;x+=r)o=J(x,e[x],e[x+1],o);else for(x=n-r;x>=t;x-=r)o=J(x,e[x],e[x+1],o);return o&&k(o,o.next)&&(j(o),o=o.next),o}function i(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!k(r,r.next)&&0!==b(r.prev,r,r.next))r=r.next;else{if(j(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function x(e,t,n,r,h,s,v){if(e){!v&&s&&c(e,r,h,s);for(var p,l,y=e;e.prev!==e.next;)if(p=e.prev,l=e.next,s?u(e,r,h,s):o(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),j(e),e=l.next,y=l.next;else if((e=l)===y){v?1===v?x(e=a(i(e),t,n),t,n,r,h,s,2):2===v&&f(e,t,n,r,h,s):x(i(e),t,n,r,h,s,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(b(t,n,r)>=0)return!1;for(var i=t.x,x=n.x,o=r.x,h=t.y,u=n.y,a=r.y,f=i<x?i<o?i:o:x<o?x:o,s=h<u?h<a?h:a:u<a?u:a,v=i>x?i>o?i:o:x>o?x:o,p=h>u?h>a?h:a:u>a?u:a,l=r.next;l!==t;){if(l.x>=f&&l.x<=v&&l.y>=s&&l.y<=p&&m(i,h,x,u,o,a,l.x,l.y)&&b(l.prev,l,l.next)>=0)return!1;l=l.next}return!0}function u(e,t,n,r){var i=e.prev,x=e,o=e.next;if(b(i,x,o)>=0)return!1;for(var h=i.x,u=x.x,a=o.x,f=i.y,s=x.y,v=o.y,p=h<u?h<a?h:a:u<a?u:a,l=f<s?f<v?f:v:s<v?s:v,y=h>u?h>a?h:a:u>a?u:a,c=f>s?f>v?f:v:s>v?s:v,d=g(p,l,t,n,r),Z=g(y,c,t,n,r),w=e.prevZ,z=e.nextZ;w&&w.z>=d&&z&&z.z<=Z;){if(w.x>=p&&w.x<=y&&w.y>=l&&w.y<=c&&w!==i&&w!==o&&m(h,f,u,s,a,v,w.x,w.y)&&b(w.prev,w,w.next)>=0||(w=w.prevZ,z.x>=p&&z.x<=y&&z.y>=l&&z.y<=c&&z!==i&&z!==o&&m(h,f,u,s,a,v,z.x,z.y)&&b(z.prev,z,z.next)>=0))return!1;z=z.nextZ}for(;w&&w.z>=d;){if(w.x>=p&&w.x<=y&&w.y>=l&&w.y<=c&&w!==i&&w!==o&&m(h,f,u,s,a,v,w.x,w.y)&&b(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;z&&z.z<=Z;){if(z.x>=p&&z.x<=y&&z.y>=l&&z.y<=c&&z!==i&&z!==o&&m(h,f,u,s,a,v,z.x,z.y)&&b(z.prev,z,z.next)>=0)return!1;z=z.nextZ}return!0}function a(e,t,n){var r=e;do{var x=r.prev,o=r.next.next;!k(x,o)&&M(x,r,r.next,o)&&L(x,o)&&L(o,x)&&(t.push(x.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),j(r),j(r.next),r=e=o),r=r.next}while(r!==e);return i(r)}function f(e,t,n,r,o,h){var u=e;do{for(var a=u.next.next;a!==u.prev;){if(u.i!==a.i&&w(u,a)){var f=I(u,a);return u=i(u,u.next),f=i(f,f.next),x(u,t,n,r,o,h,0),void x(f,t,n,r,o,h,0)}a=a.next}u=u.next}while(u!==e)}function s(e,t,n,i){var x,o,h,u=[];for(x=0,o=t.length;x<o;x++)(h=r(e,t[x]*i,x<o-1?t[x+1]*i:e.length,i,!1))===h.next&&(h.steiner=!0),u.push(Z(h));for(u.sort(v),x=0;x<u.length;x++)n=p(u[x],n);return n}function v(e,t){return e.x-t.x}function p(e,t){var n=l(e,t);if(!n)return t;var r=I(n,e);return i(r,r.next),i(n,n.next)}function l(e,t){var n,r=t,i=e.x,x=e.y,o=-1/0;do{if(x<=r.y&&x>=r.next.y&&r.next.y!==r.y){var h=r.x+(x-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=i&&h>o&&(o=h,n=r.x<r.next.x?r:r.next,h===i))return n}r=r.next}while(r!==t);if(!n)return null;var u,a=n,f=n.x,s=n.y,v=1/0;r=n;do{i>=r.x&&r.x>=f&&i!==r.x&&m(x<s?i:o,x,f,s,x<s?o:i,x,r.x,r.y)&&(u=Math.abs(x-r.y)/(i-r.x),L(r,e)&&(u<v||u===v&&(r.x>n.x||r.x===n.x&&y(n,r)))&&(n=r,v=u)),r=r.next}while(r!==a);return n}function y(e,t){return b(e.prev,e,t.prev)<0&&b(t.next,e,e.next)<0}function c(e,t,n,r){var i=e;do{0===i.z&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,d(i)}function d(e){var t,n,r,i,x,o,h,u,a=1;do{for(n=e,e=null,x=null,o=0;n;){for(o++,r=n,h=0,t=0;t<a&&(h++,r=r.nextZ);t++);for(u=a;h>0||u>0&&r;)0!==h&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,h--):(i=r,r=r.nextZ,u--),x?x.nextZ=i:e=i,i.prevZ=x,x=i;n=r}x.nextZ=null,a*=2}while(o>1);return e}function g(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Z(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function m(e,t,n,r,i,x,o,h){return(i-o)*(t-h)>=(e-o)*(x-h)&&(e-o)*(r-h)>=(n-o)*(t-h)&&(n-o)*(x-h)>=(i-o)*(r-h)}function w(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!H(e,t)&&(L(e,t)&&L(t,e)&&T(e,t)&&(b(e.prev,e,t.prev)||b(e,t.prev,t))||k(e,t)&&b(e.prev,e,e.next)>0&&b(t.prev,t,t.next)>0)}function b(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function k(e,t){return e.x===t.x&&e.y===t.y}function M(e,t,n,r){var i=C(b(e,t,n)),x=C(b(e,t,r)),o=C(b(n,r,e)),h=C(b(n,r,t));return!!(i!==x&&o!==h||0===i&&_(e,n,t)||0===x&&_(e,r,t)||0===o&&_(n,e,r)||0===h&&_(n,t,r))}function _(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function C(e){return e>0?1:e<0?-1:0}function H(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&M(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function L(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function T(e,t){var n=e,r=!1,i=(e.x+t.x)/2,x=(e.y+t.y)/2;do{n.y>x!=n.next.y>x&&n.next.y!==n.y&&i<(n.next.x-n.x)*(x-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function I(e,t){var n=new E(e.i,e.x,e.y),r=new E(t.i,t.x,t.y),i=e.next,x=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,x.next=r,r.prev=x,r}function J(e,t,n,r){var i=new E(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function j(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function E(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(e,t,n,r){for(var i=0,x=t,o=n-r;x<n;x+=r)i+=(e[o]-e[x])*(e[x+1]+e[o+1]),o=x;return i}z(),t.exports=n,t.exports.default=n,h(n,"earcut"),h(r,"linkedList"),h(i,"filterPoints"),h(x,"earcutLinked"),h(o,"isEar"),h(u,"isEarHashed"),h(a,"cureLocalIntersections"),h(f,"splitEarcut"),h(s,"eliminateHoles"),h(v,"compareX"),h(p,"eliminateHole"),h(l,"findHoleBridge"),h(y,"sectorContainsSector"),h(c,"indexCurve"),h(d,"sortLinked"),h(g,"zOrder"),h(Z,"getLeftmost"),h(m,"pointInTriangle"),h(w,"isValidDiagonal"),h(b,"area"),h(k,"equals"),h(M,"intersects"),h(_,"onSegment"),h(C,"sign"),h(H,"intersectsPolygon"),h(L,"locallyInside"),h(T,"middleInside"),h(I,"splitPolygon"),h(J,"insertNode"),h(j,"removeNode"),h(E,"Node"),n.deviation=function(e,t,n,r){var i=t&&t.length,x=i?t[0]*n:e.length,o=Math.abs(N(e,0,x,n));if(i)for(var h=0,u=t.length;h<u;h++){var a=t[h]*n,f=h<u-1?t[h+1]*n:e.length;o-=Math.abs(N(e,a,f,n))}var s=0;for(h=0;h<r.length;h+=3){var v=r[h]*n,p=r[h+1]*n,l=r[h+2]*n;s+=Math.abs((e[v]-e[l])*(e[p+1]-e[v+1])-(e[v]-e[p])*(e[l+1]-e[v+1]))}return 0===o&&0===s?0:Math.abs((s-o)/o)},h(N,"signedArea"),n.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var x=0;x<e[i].length;x++)for(var o=0;o<t;o++)n.vertices.push(e[i][x][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}})),fe=J(((e,t)=>{var n,r;z(),n=e,r=function(){"use strict";var e=h((function(e,n){if(void 0===e&&(e=[]),void 0===n&&(n=t),this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}),"TinyQueue");function t(e,t){return e<t?-1:e>t?1:0}return e.prototype.push=h((function(e){this.data.push(e),this.length++,this._up(this.length-1)}),"push"),e.prototype.pop=h((function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}),"pop"),e.prototype.peek=h((function(){return this.data[0]}),"peek"),e.prototype._up=h((function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,x=t[i];if(n(r,x)>=0)break;t[e]=x,e=i}t[e]=r}),"_up"),e.prototype._down=h((function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var x=1+(e<<1),o=t[x],h=x+1;if(h<this.length&&n(t[h],o)<0&&(x=h,o=t[h]),n(o,i)>=0)break;t[e]=o,e=x}t[e]=i}),"_down"),h(t,"defaultCompare"),e},"object"==typeof e&&typeof t<"u"?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).TinyQueue=r()}));export{fe as a,ue as b};