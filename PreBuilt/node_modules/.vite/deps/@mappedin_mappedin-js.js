import {
  fe,
  ue
} from "./chunk-FBLCN4N2.js";
import {
  c,
  e
} from "./chunk-HTJBKITB.js";
import {
  o,
  p,
  q,
  s,
  u,
  v,
  w,
  x,
  y
} from "./chunk-JTA7SHR4.js";
import "./chunk-LQ2VYIYD.js";

// node_modules/@mappedin/mappedin-js/lib/esm/renderer/index.js
var bA = s((t48, e6) => {
  c(), function(i, n) {
    "use strict";
    var r = "function", o3 = "undefined", s6 = "object", a = "string", l = "model", h = "name", c2 = "type", p4 = "vendor", d = "version", f = "architecture", g = "console", m = "mobile", v4 = "tablet", y4 = "smarttv", x4 = "wearable", _ = "embedded", b = "Amazon", M = "Apple", E = "ASUS", w4 = "BlackBerry", A = "Browser", S = "Chrome", T = "Firefox", C = "Google", P = "Huawei", I = "LG", L = "Microsoft", O = "Motorola", N = "Opera", D = "Samsung", R = "Sony", q4 = "Xiaomi", B = "Zebra", k = "Facebook", F = q(function(t49, e10) {
      var i10 = {};
      for (var n10 in t49)
        e10[n10] && e10[n10].length % 2 == 0 ? i10[n10] = e10[n10].concat(t49[n10]) : i10[n10] = t49[n10];
      return i10;
    }, "extend"), U = q(function(t49) {
      for (var e10 = {}, i10 = 0; i10 < t49.length; i10++)
        e10[t49[i10].toUpperCase()] = t49[i10];
      return e10;
    }, "enumerize"), z = q(function(t49, e10) {
      return typeof t49 === a && -1 !== V(e10).indexOf(V(t49));
    }, "has"), V = q(function(t49) {
      return t49.toLowerCase();
    }, "lowerize"), j = q(function(t49) {
      return typeof t49 === a ? t49.replace(/[^\d\.]/g, "").split(".")[0] : n;
    }, "majorize"), G = q(function(t49, e10) {
      if (typeof t49 === a)
        return t49 = t49.replace(/^\s\s*/, "").replace(/\s\s*$/, ""), typeof e10 === o3 ? t49 : t49.substring(0, 275);
    }, "trim"), W = q(function(t49, e10) {
      for (var i10, o6, a3, l3, u2, h2, c4 = 0; c4 < e10.length && !u2; ) {
        var p10 = e10[c4], d4 = e10[c4 + 1];
        for (i10 = o6 = 0; i10 < p10.length && !u2; )
          if (u2 = p10[i10++].exec(t49))
            for (a3 = 0; a3 < d4.length; a3++)
              h2 = u2[++o6], typeof (l3 = d4[a3]) === s6 && l3.length > 0 ? 2 === l3.length ? typeof l3[1] == r ? this[l3[0]] = l3[1].call(this, h2) : this[l3[0]] = l3[1] : 3 === l3.length ? typeof l3[1] !== r || l3[1].exec && l3[1].test ? this[l3[0]] = h2 ? h2.replace(l3[1], l3[2]) : n : this[l3[0]] = h2 ? l3[1].call(this, h2, l3[2]) : n : 4 === l3.length && (this[l3[0]] = h2 ? l3[3].call(this, h2.replace(l3[1], l3[2])) : n) : this[l3] = h2 || n;
        c4 += 2;
      }
    }, "rgxMapper"), H = q(function(t49, e10) {
      for (var i10 in e10)
        if (typeof e10[i10] === s6 && e10[i10].length > 0) {
          for (var r6 = 0; r6 < e10[i10].length; r6++)
            if (z(e10[i10][r6], t49))
              return "?" === i10 ? n : i10;
        } else if (z(e10[i10], t49))
          return "?" === i10 ? n : i10;
      return t49;
    }, "strMapper"), Y = { ME: "4.90", "NT 3.11": "NT3.51", "NT 4.0": "NT4.0", 2e3: "NT 5.0", XP: ["NT 5.1", "NT 5.2"], Vista: "NT 6.0", 7: "NT 6.1", 8: "NT 6.2", 8.1: "NT 6.3", 10: ["NT 6.4", "NT 10.0"], RT: "ARM" }, X = { browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [d, [h, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [d, [h, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [h, d], [/opios[\/ ]+([\w\.]+)/i], [d, [h, N + " Mini"]], [/\bopr\/([\w\.]+)/i], [d, [h, N]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i, /(ba?idubrowser)[\/ ]?([\w\.]+)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i, /(weibo)__([\d\.]+)/i], [h, d], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [d, [h, "UC" + A]], [/\bqbcore\/([\w\.]+)/i], [d, [h, "WeChat(Win) Desktop"]], [/micromessenger\/([\w\.]+)/i], [d, [h, "WeChat"]], [/konqueror\/([\w\.]+)/i], [d, [h, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [d, [h, "IE"]], [/yabrowser\/([\w\.]+)/i], [d, [h, "Yandex"]], [/(avast|avg)\/([\w\.]+)/i], [[h, /(.+)/, "$1 Secure " + A], d], [/\bfocus\/([\w\.]+)/i], [d, [h, T + " Focus"]], [/\bopt\/([\w\.]+)/i], [d, [h, N + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [d, [h, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [d, [h, "Dolphin"]], [/coast\/([\w\.]+)/i], [d, [h, N + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [d, [h, "MIUI " + A]], [/fxios\/([-\w\.]+)/i], [d, [h, T]], [/\bqihu|(qi?ho?o?|360)browser/i], [[h, "360 " + A]], [/(oculus|samsung|sailfish)browser\/([\w\.]+)/i], [[h, /(.+)/, "$1 " + A], d], [/(comodo_dragon)\/([\w\.]+)/i], [[h, /_/g, " "], d], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i], [h, d], [/(metasr)[\/ ]?([\w\.]+)/i, /(lbbrowser)/i], [h], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[h, k], d], [/safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(chromium|instagram)[\/ ]([-\w\.]+)/i], [h, d], [/\bgsa\/([\w\.]+) .*safari\//i], [d, [h, "GSA"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [d, [h, S + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[h, S + " WebView"], d], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [d, [h, "Android " + A]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [h, d], [/version\/([\w\.]+) .*mobile\/\w+ (safari)/i], [d, [h, "Mobile Safari"]], [/version\/([\w\.]+) .*(mobile ?safari|safari)/i], [d, h], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [h, [d, H, { "1.0": "/8", 1.2: "/1", 1.3: "/3", "2.0": "/412", "2.0.2": "/416", "2.0.3": "/417", "2.0.4": "/419", "?": "/" }]], [/(webkit|khtml)\/([\w\.]+)/i], [h, d], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[h, "Netscape"], d], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [d, [h, T + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i], [h, d]], cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[f, "amd64"]], [/(ia32(?=;))/i], [[f, V]], [/((?:i[346]|x)86)[;\)]/i], [[f, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[f, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[f, "armhf"]], [/windows (ce|mobile); ppc;/i], [[f, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[f, /ower/, "", V]], [/(sun4\w)[;\)]/i], [[f, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[f, V]]], device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [l, [p4, D], [c2, v4]], [/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i], [l, [p4, D], [c2, m]], [/((ipod|iphone)\d+,\d+)/i], [l, [p4, M], [c2, m]], [/(ipad\d+,\d+)/i], [l, [p4, M], [c2, v4]], [/\((ip(?:hone|od)[\w ]*);/i], [l, [p4, M], [c2, m]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [l, [p4, M], [c2, v4]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [l, [p4, P], [c2, v4]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [l, [p4, P], [c2, m]], [/\b(poco[\w ]+)(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i], [[l, /_/g, " "], [p4, q4], [c2, m]], [/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[l, /_/g, " "], [p4, q4], [c2, v4]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [l, [p4, "OPPO"], [c2, m]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [l, [p4, "Vivo"], [c2, m]], [/\b(rmx[12]\d{3})(?: bui|;|\))/i], [l, [p4, "Realme"], [c2, m]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [l, [p4, O], [c2, m]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [l, [p4, O], [c2, v4]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [l, [p4, I], [c2, v4]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [l, [p4, I], [c2, m]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [l, [p4, "Lenovo"], [c2, v4]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[l, /_/g, " "], [p4, "Nokia"], [c2, m]], [/(pixel c)\b/i], [l, [p4, C], [c2, v4]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [l, [p4, C], [c2, m]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [l, [p4, R], [c2, m]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[l, "Xperia Tablet"], [p4, R], [c2, v4]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [l, [p4, "OnePlus"], [c2, m]], [/(alexa)webm/i, /(kf[a-z]{2}wi)( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [l, [p4, b], [c2, v4]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[l, /(.+)/g, "Fire Phone $1"], [p4, b], [c2, m]], [/(playbook);[-\w\),; ]+(rim)/i], [l, p4, [c2, v4]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [l, [p4, w4], [c2, m]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [l, [p4, E], [c2, v4]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [l, [p4, E], [c2, m]], [/(nexus 9)/i], [l, [p4, "HTC"], [c2, v4]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i], [p4, [l, /_/g, " "], [c2, m]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [l, [p4, "Acer"], [c2, v4]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [l, [p4, "Meizu"], [c2, m]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [l, [p4, "Sharp"], [c2, m]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [p4, l, [c2, m]], [/(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [p4, l, [c2, v4]], [/(surface duo)/i], [l, [p4, L], [c2, v4]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [l, [p4, "Fairphone"], [c2, m]], [/(u304aa)/i], [l, [p4, "AT&T"], [c2, m]], [/\bsie-(\w*)/i], [l, [p4, "Siemens"], [c2, m]], [/\b(rct\w+) b/i], [l, [p4, "RCA"], [c2, v4]], [/\b(venue[\d ]{2,7}) b/i], [l, [p4, "Dell"], [c2, v4]], [/\b(q(?:mv|ta)\w+) b/i], [l, [p4, "Verizon"], [c2, v4]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [l, [p4, "Barnes & Noble"], [c2, v4]], [/\b(tm\d{3}\w+) b/i], [l, [p4, "NuVision"], [c2, v4]], [/\b(k88) b/i], [l, [p4, "ZTE"], [c2, v4]], [/\b(nx\d{3}j) b/i], [l, [p4, "ZTE"], [c2, m]], [/\b(gen\d{3}) b.+49h/i], [l, [p4, "Swiss"], [c2, m]], [/\b(zur\d{3}) b/i], [l, [p4, "Swiss"], [c2, v4]], [/\b((zeki)?tb.*\b) b/i], [l, [p4, "Zeki"], [c2, v4]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[p4, "Dragon Touch"], l, [c2, v4]], [/\b(ns-?\w{0,9}) b/i], [l, [p4, "Insignia"], [c2, v4]], [/\b((nxa|next)-?\w{0,9}) b/i], [l, [p4, "NextBook"], [c2, v4]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[p4, "Voice"], l, [c2, m]], [/\b(lvtel\-)?(v1[12]) b/i], [[p4, "LvTel"], l, [c2, m]], [/\b(ph-1) /i], [l, [p4, "Essential"], [c2, m]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [l, [p4, "Envizen"], [c2, v4]], [/\b(trio[-\w\. ]+) b/i], [l, [p4, "MachSpeed"], [c2, v4]], [/\btu_(1491) b/i], [l, [p4, "Rotor"], [c2, v4]], [/(shield[\w ]+) b/i], [l, [p4, "Nvidia"], [c2, v4]], [/(sprint) (\w+)/i], [p4, l, [c2, m]], [/(kin\.[onetw]{3})/i], [[l, /\./g, " "], [p4, L], [c2, m]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [l, [p4, B], [c2, v4]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [l, [p4, B], [c2, m]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [p4, l, [c2, g]], [/droid.+; (shield) bui/i], [l, [p4, "Nvidia"], [c2, g]], [/(playstation [345portablevi]+)/i], [l, [p4, R], [c2, g]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [l, [p4, L], [c2, g]], [/smart-tv.+(samsung)/i], [p4, [c2, y4]], [/hbbtv.+maple;(\d+)/i], [[l, /^/, "SmartTV"], [p4, D], [c2, y4]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[p4, I], [c2, y4]], [/(apple) ?tv/i], [p4, [l, M + " TV"], [c2, y4]], [/crkey/i], [[l, S + "cast"], [p4, C], [c2, y4]], [/droid.+aft(\w)( bui|\))/i], [l, [p4, b], [c2, y4]], [/\(dtv[\);].+(aquos)/i], [l, [p4, "Sharp"], [c2, y4]], [/(bravia[\w- ]+) bui/i], [l, [p4, R], [c2, y4]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i], [[p4, G], [l, G], [c2, y4]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[c2, y4]], [/((pebble))app/i], [p4, l, [c2, x4]], [/droid.+; (glass) \d/i], [l, [p4, C], [c2, x4]], [/droid.+; (wt63?0{2,3})\)/i], [l, [p4, B], [c2, x4]], [/(quest( 2)?)/i], [l, [p4, k], [c2, x4]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [p4, [c2, _]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i], [l, [c2, m]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [l, [c2, v4]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[c2, v4]], [/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i], [[c2, m]], [/(android[-\w\. ]{0,9});.+buil/i], [l, [p4, "Generic"]]], engine: [[/windows.+ edge\/([\w\.]+)/i], [d, [h, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [d, [h, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i], [h, d], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [d, h]], os: [[/microsoft (windows) (vista|xp)/i], [h, d], [/(windows) nt 6\.2; (arm)/i, /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i, /(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i], [h, [d, H, Y]], [/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[h, "Windows"], [d, H, Y]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /cfnetwork\/.+darwin/i], [[d, /_/g, "."], [h, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[h, "Mac OS"], [d, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86)/i], [d, h], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [h, d], [/\(bb(10);/i], [d, [h, w4]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [d, [h, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [d, [h, T + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [d, [h, "webOS"]], [/crkey\/([\d\.]+)/i], [d, [h, S + "cast"]], [/(cros) [\w]+ ([\w\.]+\w)/i], [[h, "Chromium OS"], d], [/(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [h, d], [/(sunos) ?([\w\.\d]*)/i], [[h, "Solaris"], d], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i, /(unix) ?([\w\.]*)/i], [h, d]] }, K10 = q(function(t49, e10) {
      if (typeof t49 === s6 && (e10 = t49, t49 = n), !(this instanceof K10))
        return new K10(t49, e10).getResult();
      var r6 = t49 || (typeof i !== o3 && i.navigator && i.navigator.userAgent ? i.navigator.userAgent : ""), u2 = e10 ? F(X, e10) : X;
      return this.getBrowser = function() {
        var t50 = {};
        return t50[h] = n, t50[d] = n, W.call(t50, r6, u2.browser), t50.major = j(t50.version), t50;
      }, this.getCPU = function() {
        var t50 = {};
        return t50[f] = n, W.call(t50, r6, u2.cpu), t50;
      }, this.getDevice = function() {
        var t50 = {};
        return t50[p4] = n, t50[l] = n, t50[c2] = n, W.call(t50, r6, u2.device), t50;
      }, this.getEngine = function() {
        var t50 = {};
        return t50[h] = n, t50[d] = n, W.call(t50, r6, u2.engine), t50;
      }, this.getOS = function() {
        var t50 = {};
        return t50[h] = n, t50[d] = n, W.call(t50, r6, u2.os), t50;
      }, this.getResult = function() {
        return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() };
      }, this.getUA = function() {
        return r6;
      }, this.setUA = function(t50) {
        return r6 = typeof t50 === a && t50.length > 275 ? G(t50, 275) : t50, this;
      }, this.setUA(r6), this;
    }, "UAParser");
    K10.VERSION = "0.7.31", K10.BROWSER = U([h, d, "major"]), K10.CPU = U([f]), K10.DEVICE = U([l, p4, c2, g, m, y4, v4, x4, _]), K10.ENGINE = K10.OS = U([h, d]), typeof t48 !== o3 ? (typeof e6 !== o3 && e6.exports && (t48 = e6.exports = K10), t48.UAParser = K10) : typeof define === r && define.amd ? define(function() {
      return K10;
    }) : typeof i !== o3 && (i.UAParser = K10);
    var Z = typeof i !== o3 && (i.jQuery || i.Zepto);
    if (Z && !Z.ua) {
      var Q = new K10();
      Z.ua = Q.getResult(), Z.ua.get = function() {
        return Q.getUA();
      }, Z.ua.set = function(t49) {
        Q.setUA(t49);
        var e10 = Q.getResult();
        for (var i10 in e10)
          Z.ua[i10] = e10[i10];
      };
    }
  }("object" == typeof window ? window : t48);
});
var jk = s((t48, e6) => {
  c();
  var i = "__lodash_hash_undefined__", n = 9007199254740991, r = "[object Arguments]", o3 = "[object Array]", s6 = "[object Boolean]", a = "[object Date]", l = "[object Error]", h = "[object Function]", c2 = "[object Map]", p4 = "[object Number]", d = "[object Object]", f = "[object Promise]", g = "[object RegExp]", m = "[object Set]", v4 = "[object String]", y4 = "[object WeakMap]", x4 = "[object ArrayBuffer]", _ = "[object DataView]", b = /^\[object .+?Constructor\]$/, M = /^(?:0|[1-9]\d*)$/, w4 = {};
  w4["[object Float32Array]"] = w4["[object Float64Array]"] = w4["[object Int8Array]"] = w4["[object Int16Array]"] = w4["[object Int32Array]"] = w4["[object Uint8Array]"] = w4["[object Uint8ClampedArray]"] = w4["[object Uint16Array]"] = w4["[object Uint32Array]"] = true, w4[r] = w4[o3] = w4[x4] = w4[s6] = w4[_] = w4[a] = w4[l] = w4[h] = w4[c2] = w4[p4] = w4[d] = w4[g] = w4[m] = w4[v4] = w4[y4] = false;
  var A = "object" == typeof global && global && global.Object === Object && global, S = "object" == typeof self && self && self.Object === Object && self, T = A || S || Function("return this")(), C = "object" == typeof t48 && t48 && !t48.nodeType && t48, P = C && "object" == typeof e6 && e6 && !e6.nodeType && e6, I = P && P.exports === C, L = I && A.process, O = function() {
    try {
      return L && L.binding && L.binding("util");
    } catch {
    }
  }(), N = O && O.isTypedArray;
  function D(t49, e10) {
    for (var i10 = -1, n10 = null == t49 ? 0 : t49.length, r6 = 0, o6 = []; ++i10 < n10; ) {
      var s10 = t49[i10];
      e10(s10, i10, t49) && (o6[r6++] = s10);
    }
    return o6;
  }
  function R(t49, e10) {
    for (var i10 = -1, n10 = e10.length, r6 = t49.length; ++i10 < n10; )
      t49[r6 + i10] = e10[i10];
    return t49;
  }
  function q4(t49, e10) {
    for (var i10 = -1, n10 = null == t49 ? 0 : t49.length; ++i10 < n10; )
      if (e10(t49[i10], i10, t49))
        return true;
    return false;
  }
  function B(t49, e10) {
    for (var i10 = -1, n10 = Array(t49); ++i10 < t49; )
      n10[i10] = e10(i10);
    return n10;
  }
  function k(t49) {
    return function(e10) {
      return t49(e10);
    };
  }
  function F(t49, e10) {
    return t49.has(e10);
  }
  function U(t49, e10) {
    return null == t49 ? void 0 : t49[e10];
  }
  function z(t49) {
    var e10 = -1, i10 = Array(t49.size);
    return t49.forEach(function(t50, n10) {
      i10[++e10] = [n10, t50];
    }), i10;
  }
  function V(t49, e10) {
    return function(i10) {
      return t49(e10(i10));
    };
  }
  function j(t49) {
    var e10 = -1, i10 = Array(t49.size);
    return t49.forEach(function(t50) {
      i10[++e10] = t50;
    }), i10;
  }
  q(D, "arrayFilter"), q(R, "arrayPush"), q(q4, "arraySome"), q(B, "baseTimes"), q(k, "baseUnary"), q(F, "cacheHas"), q(U, "getValue"), q(z, "mapToArray"), q(V, "overArg"), q(j, "setToArray");
  var G, W = Array.prototype, H = Function.prototype, Y = Object.prototype, X = T["__core-js_shared__"], K10 = H.toString, Z = Y.hasOwnProperty, Q = (G = /[^.]+$/.exec(X && X.keys && X.keys.IE_PROTO || "")) ? "Symbol(src)_1." + G : "", J = Y.toString, $ = RegExp("^" + K10.call(Z).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), tt = I ? T.Buffer : void 0, et = T.Symbol, it = T.Uint8Array, nt2 = Y.propertyIsEnumerable, rt = W.splice, ot = et ? et.toStringTag : void 0, st = Object.getOwnPropertySymbols, at2 = tt ? tt.isBuffer : void 0, lt = V(Object.keys, Object), ut = he(T, "DataView"), ht2 = he(T, "Map"), ct = he(T, "Promise"), pt = he(T, "Set"), dt2 = he(T, "WeakMap"), ft = he(Object, "create"), gt = xe(ut), mt2 = xe(ht2), vt = xe(ct), yt = xe(pt), xt = xe(dt2), _t = et ? et.prototype : void 0, bt = _t ? _t.valueOf : void 0;
  function Mt(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function Et() {
    this.__data__ = ft ? ft(null) : {}, this.size = 0;
  }
  function wt2(t49) {
    var e10 = this.has(t49) && delete this.__data__[t49];
    return this.size -= e10 ? 1 : 0, e10;
  }
  function At(t49) {
    var e10 = this.__data__;
    if (ft) {
      var n10 = e10[t49];
      return n10 === i ? void 0 : n10;
    }
    return Z.call(e10, t49) ? e10[t49] : void 0;
  }
  function St2(t49) {
    var e10 = this.__data__;
    return ft ? void 0 !== e10[t49] : Z.call(e10, t49);
  }
  function Tt(t49, e10) {
    var n10 = this.__data__;
    return this.size += this.has(t49) ? 0 : 1, n10[t49] = ft && void 0 === e10 ? i : e10, this;
  }
  function Ct(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function Pt() {
    this.__data__ = [], this.size = 0;
  }
  function It(t49) {
    var e10 = this.__data__, i10 = Zt(e10, t49);
    return !(i10 < 0) && (i10 == e10.length - 1 ? e10.pop() : rt.call(e10, i10, 1), --this.size, true);
  }
  function Lt(t49) {
    var e10 = this.__data__, i10 = Zt(e10, t49);
    return i10 < 0 ? void 0 : e10[i10][1];
  }
  function Ot2(t49) {
    return Zt(this.__data__, t49) > -1;
  }
  function Nt(t49, e10) {
    var i10 = this.__data__, n10 = Zt(i10, t49);
    return n10 < 0 ? (++this.size, i10.push([t49, e10])) : i10[n10][1] = e10, this;
  }
  function Dt(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function Rt() {
    this.size = 0, this.__data__ = { hash: new Mt(), map: new (ht2 || Ct)(), string: new Mt() };
  }
  function qt(t49) {
    var e10 = ue2(this, t49).delete(t49);
    return this.size -= e10 ? 1 : 0, e10;
  }
  function Bt(t49) {
    return ue2(this, t49).get(t49);
  }
  function kt(t49) {
    return ue2(this, t49).has(t49);
  }
  function Ft2(t49, e10) {
    var i10 = ue2(this, t49), n10 = i10.size;
    return i10.set(t49, e10), this.size += i10.size == n10 ? 0 : 1, this;
  }
  function Ut(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.__data__ = new Dt(); ++e10 < i10; )
      this.add(t49[e10]);
  }
  function zt(t49) {
    return this.__data__.set(t49, i), this;
  }
  function Vt2(t49) {
    return this.__data__.has(t49);
  }
  function jt2(t49) {
    var e10 = this.__data__ = new Ct(t49);
    this.size = e10.size;
  }
  function Gt2() {
    this.__data__ = new Ct(), this.size = 0;
  }
  function Wt2(t49) {
    var e10 = this.__data__, i10 = e10.delete(t49);
    return this.size = e10.size, i10;
  }
  function Ht(t49) {
    return this.__data__.get(t49);
  }
  function Yt2(t49) {
    return this.__data__.has(t49);
  }
  function Xt2(t49, e10) {
    var i10 = this.__data__;
    if (i10 instanceof Ct) {
      var n10 = i10.__data__;
      if (!ht2 || n10.length < 199)
        return n10.push([t49, e10]), this.size = ++i10.size, this;
      i10 = this.__data__ = new Dt(n10);
    }
    return i10.set(t49, e10), this.size = i10.size, this;
  }
  function Kt(t49, e10) {
    var i10 = Me(t49), n10 = !i10 && be(t49), r6 = !i10 && !n10 && we(t49), o6 = !i10 && !n10 && !r6 && Ie(t49), s10 = i10 || n10 || r6 || o6, a3 = s10 ? B(t49.length, String) : [], l3 = a3.length;
    for (var u2 in t49)
      (e10 || Z.call(t49, u2)) && (!s10 || !("length" == u2 || r6 && ("offset" == u2 || "parent" == u2) || o6 && ("buffer" == u2 || "byteLength" == u2 || "byteOffset" == u2) || fe2(u2, l3))) && a3.push(u2);
    return a3;
  }
  function Zt(t49, e10) {
    for (var i10 = t49.length; i10--; )
      if (_e(t49[i10][0], e10))
        return i10;
    return -1;
  }
  function Qt(t49, e10, i10) {
    var n10 = e10(t49);
    return Me(t49) ? n10 : R(n10, i10(t49));
  }
  function Jt(t49) {
    return null == t49 ? void 0 === t49 ? "[object Undefined]" : "[object Null]" : ot && ot in Object(t49) ? ce(t49) : ye(t49);
  }
  function $t2(t49) {
    return Pe(t49) && Jt(t49) == r;
  }
  function te(t49, e10, i10, n10, r6) {
    return t49 === e10 || (null == t49 || null == e10 || !Pe(t49) && !Pe(e10) ? t49 != t49 && e10 != e10 : ee(t49, e10, i10, n10, te, r6));
  }
  function ee(t49, e10, i10, n10, s10, a3) {
    var l3 = Me(t49), u2 = Me(e10), h2 = l3 ? o3 : de(t49), c4 = u2 ? o3 : de(e10), p10 = (h2 = h2 == r ? d : h2) == d, f2 = (c4 = c4 == r ? d : c4) == d, g4 = h2 == c4;
    if (g4 && we(t49)) {
      if (!we(e10))
        return false;
      l3 = true, p10 = false;
    }
    if (g4 && !p10)
      return a3 || (a3 = new jt2()), l3 || Ie(t49) ? oe(t49, e10, i10, n10, s10, a3) : se(t49, e10, h2, i10, n10, s10, a3);
    if (!(1 & i10)) {
      var m4 = p10 && Z.call(t49, "__wrapped__"), v10 = f2 && Z.call(e10, "__wrapped__");
      if (m4 || v10) {
        var y10 = m4 ? t49.value() : t49, x10 = v10 ? e10.value() : e10;
        return a3 || (a3 = new jt2()), s10(y10, x10, i10, n10, a3);
      }
    }
    return !!g4 && (a3 || (a3 = new jt2()), ae(t49, e10, i10, n10, s10, a3));
  }
  function ie(t49) {
    return !(!Ce(t49) || me(t49)) && (Se(t49) ? $ : b).test(xe(t49));
  }
  function ne(t49) {
    return Pe(t49) && Te(t49.length) && !!w4[Jt(t49)];
  }
  function re(t49) {
    if (!ve(t49))
      return lt(t49);
    var e10 = [];
    for (var i10 in Object(t49))
      Z.call(t49, i10) && "constructor" != i10 && e10.push(i10);
    return e10;
  }
  function oe(t49, e10, i10, n10, r6, o6) {
    var s10 = 1 & i10, a3 = t49.length, l3 = e10.length;
    if (a3 != l3 && !(s10 && l3 > a3))
      return false;
    var u2 = o6.get(t49);
    if (u2 && o6.get(e10))
      return u2 == e10;
    var h2 = -1, c4 = true, p10 = 2 & i10 ? new Ut() : void 0;
    for (o6.set(t49, e10), o6.set(e10, t49); ++h2 < a3; ) {
      var d4 = t49[h2], f2 = e10[h2];
      if (n10)
        var g4 = s10 ? n10(f2, d4, h2, e10, t49, o6) : n10(d4, f2, h2, t49, e10, o6);
      if (void 0 !== g4) {
        if (g4)
          continue;
        c4 = false;
        break;
      }
      if (p10) {
        if (!q4(e10, function(t50, e11) {
          if (!F(p10, e11) && (d4 === t50 || r6(d4, t50, i10, n10, o6)))
            return p10.push(e11);
        })) {
          c4 = false;
          break;
        }
      } else if (d4 !== f2 && !r6(d4, f2, i10, n10, o6)) {
        c4 = false;
        break;
      }
    }
    return o6.delete(t49), o6.delete(e10), c4;
  }
  function se(t49, e10, i10, n10, r6, o6, u2) {
    switch (i10) {
      case _:
        if (t49.byteLength != e10.byteLength || t49.byteOffset != e10.byteOffset)
          return false;
        t49 = t49.buffer, e10 = e10.buffer;
      case x4:
        return !(t49.byteLength != e10.byteLength || !o6(new it(t49), new it(e10)));
      case s6:
      case a:
      case p4:
        return _e(+t49, +e10);
      case l:
        return t49.name == e10.name && t49.message == e10.message;
      case g:
      case v4:
        return t49 == e10 + "";
      case c2:
        var h2 = z;
      case m:
        var d4 = 1 & n10;
        if (h2 || (h2 = j), t49.size != e10.size && !d4)
          return false;
        var f2 = u2.get(t49);
        if (f2)
          return f2 == e10;
        n10 |= 2, u2.set(t49, e10);
        var y10 = oe(h2(t49), h2(e10), n10, r6, o6, u2);
        return u2.delete(t49), y10;
      case "[object Symbol]":
        if (bt)
          return bt.call(t49) == bt.call(e10);
    }
    return false;
  }
  function ae(t49, e10, i10, n10, r6, o6) {
    var s10 = 1 & i10, a3 = le(t49), l3 = a3.length;
    if (l3 != le(e10).length && !s10)
      return false;
    for (var u2 = l3; u2--; ) {
      var h2 = a3[u2];
      if (!(s10 ? h2 in e10 : Z.call(e10, h2)))
        return false;
    }
    var c4 = o6.get(t49);
    if (c4 && o6.get(e10))
      return c4 == e10;
    var p10 = true;
    o6.set(t49, e10), o6.set(e10, t49);
    for (var d4 = s10; ++u2 < l3; ) {
      var f2 = t49[h2 = a3[u2]], g4 = e10[h2];
      if (n10)
        var m4 = s10 ? n10(g4, f2, h2, e10, t49, o6) : n10(f2, g4, h2, t49, e10, o6);
      if (!(void 0 === m4 ? f2 === g4 || r6(f2, g4, i10, n10, o6) : m4)) {
        p10 = false;
        break;
      }
      d4 || (d4 = "constructor" == h2);
    }
    if (p10 && !d4) {
      var v10 = t49.constructor, y10 = e10.constructor;
      v10 != y10 && "constructor" in t49 && "constructor" in e10 && !("function" == typeof v10 && v10 instanceof v10 && "function" == typeof y10 && y10 instanceof y10) && (p10 = false);
    }
    return o6.delete(t49), o6.delete(e10), p10;
  }
  function le(t49) {
    return Qt(t49, Le2, pe);
  }
  function ue2(t49, e10) {
    var i10 = t49.__data__;
    return ge(e10) ? i10["string" == typeof e10 ? "string" : "hash"] : i10.map;
  }
  function he(t49, e10) {
    var i10 = U(t49, e10);
    return ie(i10) ? i10 : void 0;
  }
  function ce(t49) {
    var e10 = Z.call(t49, ot), i10 = t49[ot];
    try {
      t49[ot] = void 0;
      var n10 = true;
    } catch {
    }
    var r6 = J.call(t49);
    return n10 && (e10 ? t49[ot] = i10 : delete t49[ot]), r6;
  }
  q(Mt, "Hash"), q(Et, "hashClear"), q(wt2, "hashDelete"), q(At, "hashGet"), q(St2, "hashHas"), q(Tt, "hashSet"), Mt.prototype.clear = Et, Mt.prototype.delete = wt2, Mt.prototype.get = At, Mt.prototype.has = St2, Mt.prototype.set = Tt, q(Ct, "ListCache"), q(Pt, "listCacheClear"), q(It, "listCacheDelete"), q(Lt, "listCacheGet"), q(Ot2, "listCacheHas"), q(Nt, "listCacheSet"), Ct.prototype.clear = Pt, Ct.prototype.delete = It, Ct.prototype.get = Lt, Ct.prototype.has = Ot2, Ct.prototype.set = Nt, q(Dt, "MapCache"), q(Rt, "mapCacheClear"), q(qt, "mapCacheDelete"), q(Bt, "mapCacheGet"), q(kt, "mapCacheHas"), q(Ft2, "mapCacheSet"), Dt.prototype.clear = Rt, Dt.prototype.delete = qt, Dt.prototype.get = Bt, Dt.prototype.has = kt, Dt.prototype.set = Ft2, q(Ut, "SetCache"), q(zt, "setCacheAdd"), q(Vt2, "setCacheHas"), Ut.prototype.add = Ut.prototype.push = zt, Ut.prototype.has = Vt2, q(jt2, "Stack"), q(Gt2, "stackClear"), q(Wt2, "stackDelete"), q(Ht, "stackGet"), q(Yt2, "stackHas"), q(Xt2, "stackSet"), jt2.prototype.clear = Gt2, jt2.prototype.delete = Wt2, jt2.prototype.get = Ht, jt2.prototype.has = Yt2, jt2.prototype.set = Xt2, q(Kt, "arrayLikeKeys"), q(Zt, "assocIndexOf"), q(Qt, "baseGetAllKeys"), q(Jt, "baseGetTag"), q($t2, "baseIsArguments"), q(te, "baseIsEqual"), q(ee, "baseIsEqualDeep"), q(ie, "baseIsNative"), q(ne, "baseIsTypedArray"), q(re, "baseKeys"), q(oe, "equalArrays"), q(se, "equalByTag"), q(ae, "equalObjects"), q(le, "getAllKeys"), q(ue2, "getMapData"), q(he, "getNative"), q(ce, "getRawTag");
  var pe = st ? function(t49) {
    return null == t49 ? [] : (t49 = Object(t49), D(st(t49), function(e10) {
      return nt2.call(t49, e10);
    }));
  } : Oe, de = Jt;
  function fe2(t49, e10) {
    return !!(e10 = null == e10 ? n : e10) && ("number" == typeof t49 || M.test(t49)) && t49 > -1 && t49 % 1 == 0 && t49 < e10;
  }
  function ge(t49) {
    var e10 = typeof t49;
    return "string" == e10 || "number" == e10 || "symbol" == e10 || "boolean" == e10 ? "__proto__" !== t49 : null === t49;
  }
  function me(t49) {
    return !!Q && Q in t49;
  }
  function ve(t49) {
    var e10 = t49 && t49.constructor;
    return t49 === ("function" == typeof e10 && e10.prototype || Y);
  }
  function ye(t49) {
    return J.call(t49);
  }
  function xe(t49) {
    if (null != t49) {
      try {
        return K10.call(t49);
      } catch {
      }
      try {
        return t49 + "";
      } catch {
      }
    }
    return "";
  }
  function _e(t49, e10) {
    return t49 === e10 || t49 != t49 && e10 != e10;
  }
  (ut && de(new ut(new ArrayBuffer(1))) != _ || ht2 && de(new ht2()) != c2 || ct && de(ct.resolve()) != f || pt && de(new pt()) != m || dt2 && de(new dt2()) != y4) && (de = q(function(t49) {
    var e10 = Jt(t49), i10 = e10 == d ? t49.constructor : void 0, n10 = i10 ? xe(i10) : "";
    if (n10)
      switch (n10) {
        case gt:
          return _;
        case mt2:
          return c2;
        case vt:
          return f;
        case yt:
          return m;
        case xt:
          return y4;
      }
    return e10;
  }, "getTag")), q(fe2, "isIndex"), q(ge, "isKeyable"), q(me, "isMasked"), q(ve, "isPrototype"), q(ye, "objectToString"), q(xe, "toSource"), q(_e, "eq");
  var be = $t2(/* @__PURE__ */ function() {
    return arguments;
  }()) ? $t2 : function(t49) {
    return Pe(t49) && Z.call(t49, "callee") && !nt2.call(t49, "callee");
  }, Me = Array.isArray;
  function Ee(t49) {
    return null != t49 && Te(t49.length) && !Se(t49);
  }
  q(Ee, "isArrayLike");
  var we = at2 || Ne;
  function Ae(t49, e10) {
    return te(t49, e10);
  }
  function Se(t49) {
    if (!Ce(t49))
      return false;
    var e10 = Jt(t49);
    return e10 == h || "[object GeneratorFunction]" == e10 || "[object AsyncFunction]" == e10 || "[object Proxy]" == e10;
  }
  function Te(t49) {
    return "number" == typeof t49 && t49 > -1 && t49 % 1 == 0 && t49 <= n;
  }
  function Ce(t49) {
    var e10 = typeof t49;
    return null != t49 && ("object" == e10 || "function" == e10);
  }
  function Pe(t49) {
    return null != t49 && "object" == typeof t49;
  }
  q(Ae, "isEqual"), q(Se, "isFunction"), q(Te, "isLength"), q(Ce, "isObject"), q(Pe, "isObjectLike");
  var Ie = N ? k(N) : ne;
  function Le2(t49) {
    return Ee(t49) ? Kt(t49) : re(t49);
  }
  function Oe() {
    return [];
  }
  function Ne() {
    return false;
  }
  q(Le2, "keys"), q(Oe, "stubArray"), q(Ne, "stubFalse"), e6.exports = Ae;
});
var O4 = s((t48, e6) => {
  c();
  var i = "__lodash_hash_undefined__", n = 9007199254740991, r = "[object Arguments]", o3 = "[object Function]", s6 = "[object Object]", a = /^\[object .+?Constructor\]$/, l = /^(?:0|[1-9]\d*)$/, h = {};
  h["[object Float32Array]"] = h["[object Float64Array]"] = h["[object Int8Array]"] = h["[object Int16Array]"] = h["[object Int32Array]"] = h["[object Uint8Array]"] = h["[object Uint8ClampedArray]"] = h["[object Uint16Array]"] = h["[object Uint32Array]"] = true, h[r] = h["[object Array]"] = h["[object ArrayBuffer]"] = h["[object Boolean]"] = h["[object DataView]"] = h["[object Date]"] = h["[object Error]"] = h[o3] = h["[object Map]"] = h["[object Number]"] = h[s6] = h["[object RegExp]"] = h["[object Set]"] = h["[object String]"] = h["[object WeakMap]"] = false;
  var c2 = "object" == typeof global && global && global.Object === Object && global, p4 = "object" == typeof self && self && self.Object === Object && self, d = c2 || p4 || Function("return this")(), f = "object" == typeof t48 && t48 && !t48.nodeType && t48, g = f && "object" == typeof e6 && e6 && !e6.nodeType && e6, m = g && g.exports === f, v4 = m && c2.process, y4 = function() {
    try {
      return g && g.require && g.require("util").types || v4 && v4.binding && v4.binding("util");
    } catch {
    }
  }(), x4 = y4 && y4.isTypedArray;
  function _(t49, e10, i10) {
    switch (i10.length) {
      case 0:
        return t49.call(e10);
      case 1:
        return t49.call(e10, i10[0]);
      case 2:
        return t49.call(e10, i10[0], i10[1]);
      case 3:
        return t49.call(e10, i10[0], i10[1], i10[2]);
    }
    return t49.apply(e10, i10);
  }
  function b(t49, e10) {
    for (var i10 = -1, n10 = Array(t49); ++i10 < t49; )
      n10[i10] = e10(i10);
    return n10;
  }
  function M(t49) {
    return function(e10) {
      return t49(e10);
    };
  }
  function w4(t49, e10) {
    return null == t49 ? void 0 : t49[e10];
  }
  function A(t49, e10) {
    return function(i10) {
      return t49(e10(i10));
    };
  }
  q(_, "apply"), q(b, "baseTimes"), q(M, "baseUnary"), q(w4, "getValue"), q(A, "overArg");
  var S, T = Array.prototype, C = Function.prototype, P = Object.prototype, I = d["__core-js_shared__"], L = C.toString, O = P.hasOwnProperty, N = (S = /[^.]+$/.exec(I && I.keys && I.keys.IE_PROTO || "")) ? "Symbol(src)_1." + S : "", D = P.toString, R = L.call(Object), q4 = RegExp("^" + L.call(O).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), B = m ? d.Buffer : void 0, k = d.Symbol, F = d.Uint8Array, U = B ? B.allocUnsafe : void 0, z = A(Object.getPrototypeOf, Object), V = Object.create, j = P.propertyIsEnumerable, G = T.splice, W = k ? k.toStringTag : void 0, H = function() {
    try {
      var t49 = Ht(Object, "defineProperty");
      return t49({}, "", {}), t49;
    } catch {
    }
  }(), Y = B ? B.isBuffer : void 0, X = Math.max, K10 = Date.now, Z = Ht(d, "Map"), Q = Ht(Object, "create"), J = function() {
    function t49() {
    }
    return q(t49, "object"), function(e10) {
      if (!ge(e10))
        return {};
      if (V)
        return V(e10);
      t49.prototype = e10;
      var i10 = new t49();
      return t49.prototype = void 0, i10;
    };
  }();
  function $(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function tt() {
    this.__data__ = Q ? Q(null) : {}, this.size = 0;
  }
  function et(t49) {
    var e10 = this.has(t49) && delete this.__data__[t49];
    return this.size -= e10 ? 1 : 0, e10;
  }
  function it(t49) {
    var e10 = this.__data__;
    if (Q) {
      var n10 = e10[t49];
      return n10 === i ? void 0 : n10;
    }
    return O.call(e10, t49) ? e10[t49] : void 0;
  }
  function nt2(t49) {
    var e10 = this.__data__;
    return Q ? void 0 !== e10[t49] : O.call(e10, t49);
  }
  function rt(t49, e10) {
    var n10 = this.__data__;
    return this.size += this.has(t49) ? 0 : 1, n10[t49] = Q && void 0 === e10 ? i : e10, this;
  }
  function ot(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function st() {
    this.__data__ = [], this.size = 0;
  }
  function at2(t49) {
    var e10 = this.__data__, i10 = St2(e10, t49);
    return !(i10 < 0) && (i10 == e10.length - 1 ? e10.pop() : G.call(e10, i10, 1), --this.size, true);
  }
  function lt(t49) {
    var e10 = this.__data__, i10 = St2(e10, t49);
    return i10 < 0 ? void 0 : e10[i10][1];
  }
  function ut(t49) {
    return St2(this.__data__, t49) > -1;
  }
  function ht2(t49, e10) {
    var i10 = this.__data__, n10 = St2(i10, t49);
    return n10 < 0 ? (++this.size, i10.push([t49, e10])) : i10[n10][1] = e10, this;
  }
  function ct(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function pt() {
    this.size = 0, this.__data__ = { hash: new $(), map: new (Z || ot)(), string: new $() };
  }
  function dt2(t49) {
    var e10 = Wt2(this, t49).delete(t49);
    return this.size -= e10 ? 1 : 0, e10;
  }
  function ft(t49) {
    return Wt2(this, t49).get(t49);
  }
  function gt(t49) {
    return Wt2(this, t49).has(t49);
  }
  function mt2(t49, e10) {
    var i10 = Wt2(this, t49), n10 = i10.size;
    return i10.set(t49, e10), this.size += i10.size == n10 ? 0 : 1, this;
  }
  function vt(t49) {
    var e10 = this.__data__ = new ot(t49);
    this.size = e10.size;
  }
  function yt() {
    this.__data__ = new ot(), this.size = 0;
  }
  function xt(t49) {
    var e10 = this.__data__, i10 = e10.delete(t49);
    return this.size = e10.size, i10;
  }
  function _t(t49) {
    return this.__data__.get(t49);
  }
  function bt(t49) {
    return this.__data__.has(t49);
  }
  function Mt(t49, e10) {
    var i10 = this.__data__;
    if (i10 instanceof ot) {
      var n10 = i10.__data__;
      if (!Z || n10.length < 199)
        return n10.push([t49, e10]), this.size = ++i10.size, this;
      i10 = this.__data__ = new ct(n10);
    }
    return i10.set(t49, e10), this.size = i10.size, this;
  }
  function Et(t49, e10) {
    var i10 = ue2(t49), n10 = !i10 && le(t49), r6 = !i10 && !n10 && pe(t49), o6 = !i10 && !n10 && !r6 && ye(t49), s10 = i10 || n10 || r6 || o6, a3 = s10 ? b(t49.length, String) : [], l3 = a3.length;
    for (var u2 in t49)
      (e10 || O.call(t49, u2)) && (!s10 || !("length" == u2 || r6 && ("offset" == u2 || "parent" == u2) || o6 && ("buffer" == u2 || "byteLength" == u2 || "byteOffset" == u2) || Kt(u2, l3))) && a3.push(u2);
    return a3;
  }
  function wt2(t49, e10, i10) {
    (void 0 !== i10 && !ae(t49[e10], i10) || void 0 === i10 && !(e10 in t49)) && Tt(t49, e10, i10);
  }
  function At(t49, e10, i10) {
    var n10 = t49[e10];
    (!O.call(t49, e10) || !ae(n10, i10) || void 0 === i10 && !(e10 in t49)) && Tt(t49, e10, i10);
  }
  function St2(t49, e10) {
    for (var i10 = t49.length; i10--; )
      if (ae(t49[i10][0], e10))
        return i10;
    return -1;
  }
  function Tt(t49, e10, i10) {
    "__proto__" == e10 && H ? H(t49, e10, { configurable: true, enumerable: true, value: i10, writable: true }) : t49[e10] = i10;
  }
  q($, "Hash"), q(tt, "hashClear"), q(et, "hashDelete"), q(it, "hashGet"), q(nt2, "hashHas"), q(rt, "hashSet"), $.prototype.clear = tt, $.prototype.delete = et, $.prototype.get = it, $.prototype.has = nt2, $.prototype.set = rt, q(ot, "ListCache"), q(st, "listCacheClear"), q(at2, "listCacheDelete"), q(lt, "listCacheGet"), q(ut, "listCacheHas"), q(ht2, "listCacheSet"), ot.prototype.clear = st, ot.prototype.delete = at2, ot.prototype.get = lt, ot.prototype.has = ut, ot.prototype.set = ht2, q(ct, "MapCache"), q(pt, "mapCacheClear"), q(dt2, "mapCacheDelete"), q(ft, "mapCacheGet"), q(gt, "mapCacheHas"), q(mt2, "mapCacheSet"), ct.prototype.clear = pt, ct.prototype.delete = dt2, ct.prototype.get = ft, ct.prototype.has = gt, ct.prototype.set = mt2, q(vt, "Stack"), q(yt, "stackClear"), q(xt, "stackDelete"), q(_t, "stackGet"), q(bt, "stackHas"), q(Mt, "stackSet"), vt.prototype.clear = yt, vt.prototype.delete = xt, vt.prototype.get = _t, vt.prototype.has = bt, vt.prototype.set = Mt, q(Et, "arrayLikeKeys"), q(wt2, "assignMergeValue"), q(At, "assignValue"), q(St2, "assocIndexOf"), q(Tt, "baseAssignValue");
  var Ct = Gt2();
  function Pt(t49) {
    return null == t49 ? void 0 === t49 ? "[object Undefined]" : "[object Null]" : W && W in Object(t49) ? Yt2(t49) : ee(t49);
  }
  function It(t49) {
    return me(t49) && Pt(t49) == r;
  }
  function Lt(t49) {
    return !(!ge(t49) || Jt(t49)) && (de(t49) ? q4 : a).test(se(t49));
  }
  function Ot2(t49) {
    return me(t49) && fe2(t49.length) && !!h[Pt(t49)];
  }
  function Nt(t49) {
    if (!ge(t49))
      return te(t49);
    var e10 = $t2(t49), i10 = [];
    for (var n10 in t49)
      "constructor" == n10 && (e10 || !O.call(t49, n10)) || i10.push(n10);
    return i10;
  }
  function Dt(t49, e10, i10, n10, r6) {
    t49 !== e10 && Ct(e10, function(o6, s10) {
      if (r6 || (r6 = new vt()), ge(o6))
        Rt(t49, e10, s10, i10, Dt, n10, r6);
      else {
        var a3 = n10 ? n10(ne(t49, s10), o6, s10 + "", t49, e10, r6) : void 0;
        void 0 === a3 && (a3 = o6), wt2(t49, s10, a3);
      }
    }, _e);
  }
  function Rt(t49, e10, i10, n10, r6, o6, s10) {
    var a3 = ne(t49, i10), l3 = ne(e10, i10), u2 = s10.get(l3);
    if (u2)
      wt2(t49, i10, u2);
    else {
      var h2 = o6 ? o6(a3, l3, i10 + "", t49, e10, s10) : void 0, c4 = void 0 === h2;
      if (c4) {
        var p10 = ue2(l3), d4 = !p10 && pe(l3), f2 = !p10 && !d4 && ye(l3);
        h2 = l3, p10 || d4 || f2 ? ue2(a3) ? h2 = a3 : ce(a3) ? h2 = zt(a3) : d4 ? (c4 = false, h2 = kt(l3, true)) : f2 ? (c4 = false, h2 = Ut(l3, true)) : h2 = [] : ve(l3) || le(l3) ? (h2 = a3, le(a3) ? h2 = xe(a3) : (!ge(a3) || de(a3)) && (h2 = Xt2(l3))) : c4 = false;
      }
      c4 && (s10.set(l3, h2), r6(h2, l3, n10, o6, s10), s10.delete(l3)), wt2(t49, i10, h2);
    }
  }
  function qt(t49, e10) {
    return re(ie(t49, e10, Ee), t49 + "");
  }
  q(Pt, "baseGetTag"), q(It, "baseIsArguments"), q(Lt, "baseIsNative"), q(Ot2, "baseIsTypedArray"), q(Nt, "baseKeysIn"), q(Dt, "baseMerge"), q(Rt, "baseMergeDeep"), q(qt, "baseRest");
  var Bt = H ? function(t49, e10) {
    return H(t49, "toString", { configurable: true, enumerable: false, value: Me(e10), writable: true });
  } : Ee;
  function kt(t49, e10) {
    if (e10)
      return t49.slice();
    var i10 = t49.length, n10 = U ? U(i10) : new t49.constructor(i10);
    return t49.copy(n10), n10;
  }
  function Ft2(t49) {
    var e10 = new t49.constructor(t49.byteLength);
    return new F(e10).set(new F(t49)), e10;
  }
  function Ut(t49, e10) {
    var i10 = e10 ? Ft2(t49.buffer) : t49.buffer;
    return new t49.constructor(i10, t49.byteOffset, t49.length);
  }
  function zt(t49, e10) {
    var i10 = -1, n10 = t49.length;
    for (e10 || (e10 = Array(n10)); ++i10 < n10; )
      e10[i10] = t49[i10];
    return e10;
  }
  function Vt2(t49, e10, i10, n10) {
    var r6 = !i10;
    i10 || (i10 = {});
    for (var o6 = -1, s10 = e10.length; ++o6 < s10; ) {
      var a3 = e10[o6], l3 = n10 ? n10(i10[a3], t49[a3], a3, i10, t49) : void 0;
      void 0 === l3 && (l3 = t49[a3]), r6 ? Tt(i10, a3, l3) : At(i10, a3, l3);
    }
    return i10;
  }
  function jt2(t49) {
    return qt(function(e10, i10) {
      var n10 = -1, r6 = i10.length, o6 = r6 > 1 ? i10[r6 - 1] : void 0, s10 = r6 > 2 ? i10[2] : void 0;
      for (o6 = t49.length > 3 && "function" == typeof o6 ? (r6--, o6) : void 0, s10 && Zt(i10[0], i10[1], s10) && (o6 = r6 < 3 ? void 0 : o6, r6 = 1), e10 = Object(e10); ++n10 < r6; ) {
        var a3 = i10[n10];
        a3 && t49(e10, a3, n10, o6);
      }
      return e10;
    });
  }
  function Gt2(t49) {
    return function(e10, i10, n10) {
      for (var r6 = -1, o6 = Object(e10), s10 = n10(e10), a3 = s10.length; a3--; ) {
        var l3 = s10[t49 ? a3 : ++r6];
        if (false === i10(o6[l3], l3, o6))
          break;
      }
      return e10;
    };
  }
  function Wt2(t49, e10) {
    var i10 = t49.__data__;
    return Qt(e10) ? i10["string" == typeof e10 ? "string" : "hash"] : i10.map;
  }
  function Ht(t49, e10) {
    var i10 = w4(t49, e10);
    return Lt(i10) ? i10 : void 0;
  }
  function Yt2(t49) {
    var e10 = O.call(t49, W), i10 = t49[W];
    try {
      t49[W] = void 0;
      var n10 = true;
    } catch {
    }
    var r6 = D.call(t49);
    return n10 && (e10 ? t49[W] = i10 : delete t49[W]), r6;
  }
  function Xt2(t49) {
    return "function" != typeof t49.constructor || $t2(t49) ? {} : J(z(t49));
  }
  function Kt(t49, e10) {
    var i10 = typeof t49;
    return !!(e10 = null == e10 ? n : e10) && ("number" == i10 || "symbol" != i10 && l.test(t49)) && t49 > -1 && t49 % 1 == 0 && t49 < e10;
  }
  function Zt(t49, e10, i10) {
    if (!ge(i10))
      return false;
    var n10 = typeof e10;
    return !!("number" == n10 ? he(i10) && Kt(e10, i10.length) : "string" == n10 && e10 in i10) && ae(i10[e10], t49);
  }
  function Qt(t49) {
    var e10 = typeof t49;
    return "string" == e10 || "number" == e10 || "symbol" == e10 || "boolean" == e10 ? "__proto__" !== t49 : null === t49;
  }
  function Jt(t49) {
    return !!N && N in t49;
  }
  function $t2(t49) {
    var e10 = t49 && t49.constructor;
    return t49 === ("function" == typeof e10 && e10.prototype || P);
  }
  function te(t49) {
    var e10 = [];
    if (null != t49)
      for (var i10 in Object(t49))
        e10.push(i10);
    return e10;
  }
  function ee(t49) {
    return D.call(t49);
  }
  function ie(t49, e10, i10) {
    return e10 = X(void 0 === e10 ? t49.length - 1 : e10, 0), function() {
      for (var n10 = arguments, r6 = -1, o6 = X(n10.length - e10, 0), s10 = Array(o6); ++r6 < o6; )
        s10[r6] = n10[e10 + r6];
      r6 = -1;
      for (var a3 = Array(e10 + 1); ++r6 < e10; )
        a3[r6] = n10[r6];
      return a3[e10] = i10(s10), _(t49, this, a3);
    };
  }
  function ne(t49, e10) {
    if (("constructor" !== e10 || "function" != typeof t49[e10]) && "__proto__" != e10)
      return t49[e10];
  }
  q(kt, "cloneBuffer"), q(Ft2, "cloneArrayBuffer"), q(Ut, "cloneTypedArray"), q(zt, "copyArray"), q(Vt2, "copyObject"), q(jt2, "createAssigner"), q(Gt2, "createBaseFor"), q(Wt2, "getMapData"), q(Ht, "getNative"), q(Yt2, "getRawTag"), q(Xt2, "initCloneObject"), q(Kt, "isIndex"), q(Zt, "isIterateeCall"), q(Qt, "isKeyable"), q(Jt, "isMasked"), q($t2, "isPrototype"), q(te, "nativeKeysIn"), q(ee, "objectToString"), q(ie, "overRest"), q(ne, "safeGet");
  var re = oe(Bt);
  function oe(t49) {
    var e10 = 0, i10 = 0;
    return function() {
      var n10 = K10(), r6 = 16 - (n10 - i10);
      if (i10 = n10, r6 > 0) {
        if (++e10 >= 800)
          return arguments[0];
      } else
        e10 = 0;
      return t49.apply(void 0, arguments);
    };
  }
  function se(t49) {
    if (null != t49) {
      try {
        return L.call(t49);
      } catch {
      }
      try {
        return t49 + "";
      } catch {
      }
    }
    return "";
  }
  function ae(t49, e10) {
    return t49 === e10 || t49 != t49 && e10 != e10;
  }
  q(oe, "shortOut"), q(se, "toSource"), q(ae, "eq");
  var le = It(/* @__PURE__ */ function() {
    return arguments;
  }()) ? It : function(t49) {
    return me(t49) && O.call(t49, "callee") && !j.call(t49, "callee");
  }, ue2 = Array.isArray;
  function he(t49) {
    return null != t49 && fe2(t49.length) && !de(t49);
  }
  function ce(t49) {
    return me(t49) && he(t49);
  }
  q(he, "isArrayLike"), q(ce, "isArrayLikeObject");
  var pe = Y || we;
  function de(t49) {
    if (!ge(t49))
      return false;
    var e10 = Pt(t49);
    return e10 == o3 || "[object GeneratorFunction]" == e10 || "[object AsyncFunction]" == e10 || "[object Proxy]" == e10;
  }
  function fe2(t49) {
    return "number" == typeof t49 && t49 > -1 && t49 % 1 == 0 && t49 <= n;
  }
  function ge(t49) {
    var e10 = typeof t49;
    return null != t49 && ("object" == e10 || "function" == e10);
  }
  function me(t49) {
    return null != t49 && "object" == typeof t49;
  }
  function ve(t49) {
    if (!me(t49) || Pt(t49) != s6)
      return false;
    var e10 = z(t49);
    if (null === e10)
      return true;
    var i10 = O.call(e10, "constructor") && e10.constructor;
    return "function" == typeof i10 && i10 instanceof i10 && L.call(i10) == R;
  }
  q(de, "isFunction"), q(fe2, "isLength"), q(ge, "isObject"), q(me, "isObjectLike"), q(ve, "isPlainObject");
  var ye = x4 ? M(x4) : Ot2;
  function xe(t49) {
    return Vt2(t49, _e(t49));
  }
  function _e(t49) {
    return he(t49) ? Et(t49, true) : Nt(t49);
  }
  q(xe, "toPlainObject"), q(_e, "keysIn");
  var be = jt2(function(t49, e10, i10) {
    Dt(t49, e10, i10);
  });
  function Me(t49) {
    return function() {
      return t49;
    };
  }
  function Ee(t49) {
    return t49;
  }
  function we() {
    return false;
  }
  q(Me, "constant"), q(Ee, "identity"), q(we, "stubFalse"), e6.exports = be;
});
var bq = s((t48, e6) => {
  c(), function(i) {
    var n = "object" == typeof t48 && t48, r = "object" == typeof e6 && e6 && e6.exports == n && e6, o3 = "object" == typeof global && global;
    (o3.global === o3 || o3.window === o3) && (i = o3);
    var s6 = q(function(t49) {
      this.message = t49;
    }, "InvalidCharacterError");
    s6.prototype = new Error(), s6.prototype.name = "InvalidCharacterError";
    var a = q(function(t49) {
      throw new s6(t49);
    }, "error"), l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", h = /[\t\n\f\r ]/g, c2 = q(function(t49) {
      var e10 = (t49 = String(t49).replace(h, "")).length;
      e10 % 4 == 0 && (e10 = (t49 = t49.replace(/==?$/, "")).length), (e10 % 4 == 1 || /[^+a-zA-Z0-9/]/.test(t49)) && a("Invalid character: the string to be decoded is not correctly encoded.");
      for (var i10, n10, r6 = 0, o6 = "", s10 = -1; ++s10 < e10; )
        n10 = l.indexOf(t49.charAt(s10)), i10 = r6 % 4 ? 64 * i10 + n10 : n10, r6++ % 4 && (o6 += String.fromCharCode(255 & i10 >> (-2 * r6 & 6)));
      return o6;
    }, "decode"), p4 = { encode: q(function(t49) {
      t49 = String(t49), /[^\0-\xFF]/.test(t49) && a("The string to be encoded contains characters outside of the Latin1 range.");
      for (var e10, i10, n10, r6, o6 = t49.length % 3, s10 = "", u2 = -1, h2 = t49.length - o6; ++u2 < h2; )
        e10 = t49.charCodeAt(u2) << 16, i10 = t49.charCodeAt(++u2) << 8, n10 = t49.charCodeAt(++u2), s10 += l.charAt((r6 = e10 + i10 + n10) >> 18 & 63) + l.charAt(r6 >> 12 & 63) + l.charAt(r6 >> 6 & 63) + l.charAt(63 & r6);
      return 2 == o6 ? (e10 = t49.charCodeAt(u2) << 8, i10 = t49.charCodeAt(++u2), s10 += l.charAt((r6 = e10 + i10) >> 10) + l.charAt(r6 >> 4 & 63) + l.charAt(r6 << 2 & 63) + "=") : 1 == o6 && (r6 = t49.charCodeAt(u2), s10 += l.charAt(r6 >> 2) + l.charAt(r6 << 4 & 63) + "=="), s10;
    }, "encode"), decode: c2, version: "1.0.0" };
    if ("function" == typeof define && "object" == typeof define.amd && define.amd)
      define(function() {
        return p4;
      });
    else if (n && !n.nodeType)
      if (r)
        r.exports = p4;
      else
        for (var d in p4)
          p4.hasOwnProperty(d) && (n[d] = p4[d]);
    else
      i.base64 = p4;
  }(t48);
});
var to = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.areaConversion = t48.timeConversion = t48.distanceConversion = t48.altitudeKeys = t48.latitudeKeys = t48.longitudeKeys = t48.MAXLON = t48.MINLON = t48.MAXLAT = t48.MINLAT = t48.earthRadius = t48.sexagesimalPattern = void 0;
  t48.sexagesimalPattern = /^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)[']\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["]\s*)?([NEOSW]?)$/;
  t48.earthRadius = 6378137;
  t48.MINLAT = -90;
  t48.MAXLAT = 90;
  t48.MINLON = -180;
  t48.MAXLON = 180;
  t48.longitudeKeys = ["lng", "lon", "longitude", 0];
  t48.latitudeKeys = ["lat", "latitude", 1];
  t48.altitudeKeys = ["alt", "altitude", "elevation", "elev", 2];
  t48.distanceConversion = { m: 1, km: 1e-3, cm: 100, mm: 1e3, mi: 1 / 1609.344, sm: 1 / 1852.216, ft: 100 / 30.48, in: 100 / 2.54, yd: 1 / 0.9144 };
  t48.timeConversion = { m: 60, h: 3600, d: 86400 };
  var e6 = { m2: 1, km2: 1e-6, ha: 1e-4, a: 0.01, ft2: 10.763911, yd2: 1.19599, in2: 1550.0031 };
  t48.areaConversion = e6, e6.sqm = e6.m2, e6.sqkm = e6.km2, e6.sqft = e6.ft2, e6.sqyd = e6.yd2, e6.sqin = e6.in2;
});
var c1 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = q(function(t49, e10) {
    return e10.reduce(function(e11, i) {
      if (typeof t49 > "u" || null === t49)
        throw new Error("'".concat(t49, "' is no valid coordinate."));
      return Object.prototype.hasOwnProperty.call(t49, i) && typeof i < "u" && typeof e11 > "u" ? (e11 = i, i) : e11;
    }, void 0);
  }, "getCoordinateKey");
  t48.default = e6;
});
var h1 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = q(function(t49) {
    var e10 = t49.toString().trim();
    return !isNaN(parseFloat(e10)) && parseFloat(e10) === Number(e10);
  }, "isDecimal");
  t48.default = e6;
});
var f1 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = q(function(t49) {
    return e6.sexagesimalPattern.test(t49.toString().trim());
  }, "isSexagesimal");
  t48.default = i;
});
var p1 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = q(function(t49) {
    var i10 = new RegExp(e6.sexagesimalPattern).exec(t49);
    if (typeof i10 > "u" || null === i10)
      throw new Error("Given value is not in sexagesimal format");
    var n = Number(i10[2]) / 60 || 0, r = Number(i10[4]) / 3600 || 0, o3 = parseFloat(i10[1]) + n + r;
    return ["S", "W"].includes(i10[7]) ? -o3 : o3;
  }, "sexagesimalToDecimal");
  t48.default = i;
});
var B_ = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = n(c1());
  function n(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  function r(t49, e10) {
    var i10 = Object.keys(t49);
    if (Object.getOwnPropertySymbols) {
      var n10 = Object.getOwnPropertySymbols(t49);
      e10 && (n10 = n10.filter(function(e11) {
        return Object.getOwnPropertyDescriptor(t49, e11).enumerable;
      })), i10.push.apply(i10, n10);
    }
    return i10;
  }
  function o3(t49) {
    for (var e10 = 1; e10 < arguments.length; e10++) {
      var i10 = null != arguments[e10] ? arguments[e10] : {};
      e10 % 2 ? r(Object(i10), true).forEach(function(e11) {
        s6(t49, e11, i10[e11]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t49, Object.getOwnPropertyDescriptors(i10)) : r(Object(i10)).forEach(function(e11) {
        Object.defineProperty(t49, e11, Object.getOwnPropertyDescriptor(i10, e11));
      });
    }
    return t49;
  }
  function s6(t49, e10, i10) {
    return e10 in t49 ? Object.defineProperty(t49, e10, { value: i10, enumerable: true, configurable: true, writable: true }) : t49[e10] = i10, t49;
  }
  q(n, "_interopRequireDefault"), q(r, "ownKeys"), q(o3, "_objectSpread"), q(s6, "_defineProperty");
  var a = q(function(t49) {
    var n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { longitude: e6.longitudeKeys, latitude: e6.latitudeKeys, altitude: e6.altitudeKeys }, r6 = (0, i.default)(t49, n10.longitude), s10 = (0, i.default)(t49, n10.latitude), a3 = (0, i.default)(t49, n10.altitude);
    return o3({ latitude: s10, longitude: r6 }, a3 ? { altitude: a3 } : {});
  }, "getCoordinateKeys");
  t48.default = a;
});
var R4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(h1()), i = o3(f1()), n = o3(p1()), r = to();
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function t49(o6) {
    return (0, e6.default)(o6) ? !(parseFloat(o6) > r.MAXLAT || o6 < r.MINLAT) : !!(0, i.default)(o6) && t49((0, n.default)(o6));
  }, "isValidLatitude");
  t48.default = s6;
});
var k4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(h1()), i = o3(f1()), n = o3(p1()), r = to();
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function t49(o6) {
    return (0, e6.default)(o6) ? !(parseFloat(o6) > r.MAXLON || o6 < r.MINLON) : !!(0, i.default)(o6) && t49((0, n.default)(o6));
  }, "isValidLongitude");
  t48.default = s6;
});
var F4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = r(B_()), i = r(R4()), n = r(k4());
  function r(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(r, "_interopRequireDefault");
  var o3 = q(function(t49) {
    var r6 = (0, e6.default)(t49), o6 = r6.latitude, s6 = r6.longitude;
    if (Array.isArray(t49) && t49.length >= 2)
      return (0, n.default)(t49[0]) && (0, i.default)(t49[1]);
    if (typeof o6 > "u" || typeof s6 > "u")
      return false;
    var a = t49[s6], l = t49[o6];
    return !(typeof l > "u" || typeof a > "u" || false === (0, i.default)(l) || false === (0, n.default)(a));
  }, "isValidCoordinate");
  t48.default = o3;
});
var z_ = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = s6(h1()), i = s6(f1()), n = s6(p1()), r = s6(F4()), o3 = s6(B_());
  function s6(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  function a(t49, e10) {
    var i10 = Object.keys(t49);
    if (Object.getOwnPropertySymbols) {
      var n10 = Object.getOwnPropertySymbols(t49);
      e10 && (n10 = n10.filter(function(e11) {
        return Object.getOwnPropertyDescriptor(t49, e11).enumerable;
      })), i10.push.apply(i10, n10);
    }
    return i10;
  }
  function l(t49) {
    for (var e10 = 1; e10 < arguments.length; e10++) {
      var i10 = null != arguments[e10] ? arguments[e10] : {};
      e10 % 2 ? a(Object(i10), true).forEach(function(e11) {
        h(t49, e11, i10[e11]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t49, Object.getOwnPropertyDescriptors(i10)) : a(Object(i10)).forEach(function(e11) {
        Object.defineProperty(t49, e11, Object.getOwnPropertyDescriptor(i10, e11));
      });
    }
    return t49;
  }
  function h(t49, e10, i10) {
    return e10 in t49 ? Object.defineProperty(t49, e10, { value: i10, enumerable: true, configurable: true, writable: true }) : t49[e10] = i10, t49;
  }
  q(s6, "_interopRequireDefault"), q(a, "ownKeys"), q(l, "_objectSpread"), q(h, "_defineProperty");
  var c2 = q(function t49(s10) {
    if ((0, e6.default)(s10))
      return Number(s10);
    if ((0, i.default)(s10))
      return (0, n.default)(s10);
    if ((0, r.default)(s10)) {
      var a3 = (0, o3.default)(s10);
      return Array.isArray(s10) ? s10.map(function(e10, i10) {
        return [0, 1].includes(i10) ? t49(e10) : e10;
      }) : l(l(l({}, s10), a3.latitude && h({}, a3.latitude, t49(s10[a3.latitude]))), a3.longitude && h({}, a3.longitude, t49(s10[a3.longitude])));
    }
    return Array.isArray(s10) ? s10.map(function(e10) {
      return (0, r.default)(e10) ? t49(e10) : e10;
    }) : s10;
  }, "toDecimal");
  t48.default = c2;
});
var Ya = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = r(c1()), n = r(z_());
  function r(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(r, "_interopRequireDefault");
  var o3 = q(function(t49, r6) {
    var o6 = (0, i.default)(t49, e6.latitudeKeys);
    if (!(typeof o6 > "u" || null === o6)) {
      var s6 = t49[o6];
      return true === r6 ? s6 : (0, n.default)(s6);
    }
  }, "getLatitude");
  t48.default = o3;
});
var Xa = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = r(c1()), n = r(z_());
  function r(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(r, "_interopRequireDefault");
  var o3 = q(function(t49, r6) {
    var o6 = (0, i.default)(t49, e6.longitudeKeys);
    if (!(typeof o6 > "u" || null === o6)) {
      var s6 = t49[o6];
      return true === r6 ? s6 : (0, n.default)(s6);
    }
  }, "getLongitude");
  t48.default = o3;
});
var au = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = q(function(t49) {
    return t49 * Math.PI / 180;
  }, "toRad");
  t48.default = e6;
});
var Qf = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = q(function(t49) {
    return 180 * t49 / Math.PI;
  }, "toDeg");
  t48.default = e6;
});
var Oq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = s6(Ya()), i = s6(Xa()), n = s6(au()), r = s6(Qf()), o3 = to();
  function s6(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(s6, "_interopRequireDefault");
  var a = q(function(t49, s10, a3) {
    var l = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 6371e3, u2 = (0, e6.default)(t49), h = (0, i.default)(t49), c2 = s10 / l, p4 = (0, n.default)(a3), d = (0, n.default)(u2), f = (0, n.default)(h), g = Math.asin(Math.sin(d) * Math.cos(c2) + Math.cos(d) * Math.sin(c2) * Math.cos(p4)), m = f + Math.atan2(Math.sin(p4) * Math.sin(c2) * Math.cos(d), Math.cos(c2) - Math.sin(d) * Math.sin(g)), v4 = (0, r.default)(m);
    return (v4 < o3.MINLON || v4 > o3.MAXLON) && (m = (m + 3 * Math.PI) % (2 * Math.PI) - Math.PI, v4 = (0, r.default)(m)), { latitude: (0, r.default)(g), longitude: v4 };
  }, "computeDestinationPoint");
  t48.default = a;
});
var Lq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = q(function(t49) {
    var i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "m", n = e6.areaConversion[i10];
    if (n)
      return t49 * n;
    throw new Error("Invalid unit used for area conversion.");
  }, "convertArea");
  t48.default = i;
});
var Dq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = q(function(t49) {
    var i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "m", n = e6.distanceConversion[i10];
    if (n)
      return t49 * n;
    throw new Error("Invalid unit used for distance conversion.");
  }, "convertDistance");
  t48.default = i;
});
var Nq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = to(), i = q(function(t49) {
    var i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "kmh";
    switch (i10) {
      case "kmh":
        return t49 * e6.timeConversion.h * e6.distanceConversion.km;
      case "mph":
        return t49 * e6.timeConversion.h * e6.distanceConversion.mi;
      default:
        return t49;
    }
  }, "convertSpeed");
  t48.default = i;
});
var kq = s((t48) => {
  "use strict";
  function e6(t49, e10) {
    return s6(t49) || o3(t49, e10) || n(t49, e10) || i();
  }
  function i() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  function n(t49, e10) {
    if (t49) {
      if ("string" == typeof t49)
        return r(t49, e10);
      var i10 = Object.prototype.toString.call(t49).slice(8, -1);
      if ("Object" === i10 && t49.constructor && (i10 = t49.constructor.name), "Map" === i10 || "Set" === i10)
        return Array.from(t49);
      if ("Arguments" === i10 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i10))
        return r(t49, e10);
    }
  }
  function r(t49, e10) {
    (null == e10 || e10 > t49.length) && (e10 = t49.length);
    for (var i10 = 0, n10 = new Array(e10); i10 < e10; i10++)
      n10[i10] = t49[i10];
    return n10;
  }
  function o3(t49, e10) {
    if (!(typeof Symbol > "u") && Symbol.iterator in Object(t49)) {
      var i10 = [], n10 = true, r6 = false, o6 = void 0;
      try {
        for (var s10, a3 = t49[Symbol.iterator](); !(n10 = (s10 = a3.next()).done) && (i10.push(s10.value), !e10 || i10.length !== e10); n10 = true)
          ;
      } catch (t50) {
        r6 = true, o6 = t50;
      } finally {
        try {
          !n10 && null != a3.return && a3.return();
        } finally {
          if (r6)
            throw o6;
        }
      }
      return i10;
    }
  }
  function s6(t49) {
    if (Array.isArray(t49))
      return t49;
  }
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0, q(e6, "_slicedToArray"), q(i, "_nonIterableRest"), q(n, "_unsupportedIterableToArray"), q(r, "_arrayLikeToArray"), q(o3, "_iterableToArrayLimit"), q(s6, "_arrayWithHoles");
  var a = q(function(t49) {
    var e10 = Math.pow(10, 12);
    return Math.round(t49 * e10) / e10;
  }, "imprecise"), l = q(function(t49) {
    var i10 = e6(t49.toString().split("."), 2), n10 = i10[0], r6 = i10[1], o6 = Math.abs(Number(n10)), s10 = a(60 * +("0." + (r6 || 0))), l3 = Math.floor(s10), u2 = a(60 * (s10 % l3 || 0));
    return o6 + " " + Number(l3.toFixed(6)).toString().split(".").map(function(t50, e10) {
      return 0 === e10 ? t50.padStart(2, "0") : t50;
    }).join(".") + "' " + Number(u2.toFixed(4)).toString().split(".").map(function(t50, e10) {
      return 0 === e10 ? t50.padStart(2, "0") : t50;
    }).join(".") + '"';
  }, "decimal2sexagesimal");
  t48.default = l;
});
var H4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = q(function(t49) {
    return t49 > 1 ? 1 : t49 < -1 ? -1 : t49;
  }, "robustAcos");
  t48.default = e6;
});
var Ch = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = s6(Ya()), i = s6(Xa()), n = s6(au()), r = s6(H4()), o3 = to();
  function s6(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(s6, "_interopRequireDefault");
  var a = q(function(t49, s10) {
    var a3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
    a3 = typeof a3 < "u" && !isNaN(a3) ? a3 : 1;
    var l = (0, e6.default)(t49), u2 = (0, i.default)(t49), h = (0, e6.default)(s10), c2 = (0, i.default)(s10), p4 = Math.acos((0, r.default)(Math.sin((0, n.default)(h)) * Math.sin((0, n.default)(l)) + Math.cos((0, n.default)(h)) * Math.cos((0, n.default)(l)) * Math.cos((0, n.default)(u2) - (0, n.default)(c2)))) * o3.earthRadius;
    return Math.round(p4 / a3) * a3;
  }, "getDistance");
  t48.default = a;
});
var j4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(Ch());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10) {
    var n10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e6.default;
    return n10 = "function" == typeof n10 ? n10 : e6.default, i10.slice().sort(function(e10, i11) {
      return n10(t49, e10) - n10(t49, i11);
    });
  }, "orderByDistance");
  t48.default = n;
});
var zq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(j4());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10) {
    return (0, e6.default)(t49, i10)[0];
  }, "findNearest");
  t48.default = n;
});
var Hq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(au()), i = o3(Ya()), n = o3(Xa()), r = to();
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function(t49) {
    var o6 = 0;
    if (t49.length > 2) {
      for (var s10, a, l, u2 = 0; u2 < t49.length; u2++) {
        u2 === t49.length - 2 ? (s10 = t49.length - 2, a = t49.length - 1, l = 0) : u2 === t49.length - 1 ? (s10 = t49.length - 1, a = 0, l = 1) : (s10 = u2, a = u2 + 1, l = u2 + 2);
        var h = (0, n.default)(t49[s10]), c2 = (0, i.default)(t49[a]), p4 = (0, n.default)(t49[l]);
        o6 += ((0, e6.default)(p4) - (0, e6.default)(h)) * Math.sin((0, e6.default)(c2));
      }
      o6 = o6 * r.earthRadius * r.earthRadius / 2;
    }
    return Math.abs(o6);
  }, "getAreaOfPolygon");
  t48.default = s6;
});
var X4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = n(Ya()), i = n(Xa());
  function n(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(n, "_interopRequireDefault");
  var r = q(function(t49) {
    if (false === Array.isArray(t49) || 0 === t49.length)
      throw new Error("No points were given.");
    return t49.reduce(function(t50, n10) {
      var r6 = (0, e6.default)(n10), o3 = (0, i.default)(n10);
      return { maxLat: Math.max(r6, t50.maxLat), minLat: Math.min(r6, t50.minLat), maxLng: Math.max(o3, t50.maxLng), minLng: Math.min(o3, t50.minLng) };
    }, { maxLat: -1 / 0, minLat: 1 / 0, maxLng: -1 / 0, minLng: 1 / 0 });
  }, "getBounds");
  t48.default = r;
});
var Wq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = s6(Ya()), i = s6(Xa()), n = s6(au()), r = s6(Qf()), o3 = to();
  function s6(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(s6, "_interopRequireDefault");
  var a = q(function(t49, s10) {
    var a3, l, u2 = (0, e6.default)(t49), h = (0, i.default)(t49), c2 = (0, n.default)(u2), p4 = (0, n.default)(h), d = s10 / o3.earthRadius, f = c2 - d, g = c2 + d, m = (0, n.default)(o3.MAXLAT), v4 = (0, n.default)(o3.MINLAT), y4 = (0, n.default)(o3.MAXLON), x4 = (0, n.default)(o3.MINLON);
    if (f > v4 && g < m) {
      var _ = Math.asin(Math.sin(d) / Math.cos(c2));
      (a3 = p4 - _) < x4 && (a3 += 2 * Math.PI), (l = p4 + _) > y4 && (l -= 2 * Math.PI);
    } else
      f = Math.max(f, v4), g = Math.min(g, m), a3 = x4, l = y4;
    return [{ latitude: (0, r.default)(f), longitude: (0, r.default)(a3) }, { latitude: (0, r.default)(g), longitude: (0, r.default)(l) }];
  }, "getBoundsOfDistance");
  t48.default = a;
});
var Zq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(Ya()), i = o3(Xa()), n = o3(au()), r = o3(Qf());
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function(t49) {
    if (false === Array.isArray(t49) || 0 === t49.length)
      return false;
    var o6 = t49.length, s10 = t49.reduce(function(t50, r6) {
      var o7 = (0, n.default)((0, e6.default)(r6)), s11 = (0, n.default)((0, i.default)(r6));
      return { X: t50.X + Math.cos(o7) * Math.cos(s11), Y: t50.Y + Math.cos(o7) * Math.sin(s11), Z: t50.Z + Math.sin(o7) };
    }, { X: 0, Y: 0, Z: 0 }), a = s10.X / o6, l = s10.Y / o6, u2 = s10.Z / o6;
    return { longitude: (0, r.default)(Math.atan2(l, a)), latitude: (0, r.default)(Math.atan2(u2, Math.sqrt(a * a + l * l))) };
  }, "getCenter");
  t48.default = s6;
});
var Qq = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(X4());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49) {
    var i10 = (0, e6.default)(t49), n10 = i10.minLat + (i10.maxLat - i10.minLat) / 2, r = i10.minLng + (i10.maxLng - i10.minLng) / 2;
    return { latitude: parseFloat(n10.toFixed(6)), longitude: parseFloat(r.toFixed(6)) };
  }, "getCenterOfBounds");
  t48.default = n;
});
var Z4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(Ya()), i = o3(Xa()), n = o3(au()), r = o3(Qf());
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function(t49, o6) {
    var s10 = (0, n.default)((0, i.default)(o6)) - (0, n.default)((0, i.default)(t49)), a = Math.log(Math.tan((0, n.default)((0, e6.default)(o6)) / 2 + Math.PI / 4) / Math.tan((0, n.default)((0, e6.default)(t49)) / 2 + Math.PI / 4));
    return Math.abs(s10) > Math.PI && (s10 = s10 > 0 ? -1 * (2 * Math.PI - s10) : 2 * Math.PI + s10), ((0, r.default)(Math.atan2(s10, a)) + 360) % 360;
  }, "getRhumbLineBearing");
  t48.default = s6;
});
var eF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(Z4());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10) {
    var n10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e6.default, r = "function" == typeof n10 ? n10(t49, i10) : (0, e6.default)(t49, i10);
    if (isNaN(r))
      throw new Error("Could not calculate bearing for given points. Check your bearing function");
    switch (Math.round(r / 22.5)) {
      case 1:
        return "NNE";
      case 2:
        return "NE";
      case 3:
        return "ENE";
      case 4:
        return "E";
      case 5:
        return "ESE";
      case 6:
        return "SE";
      case 7:
        return "SSE";
      case 8:
        return "S";
      case 9:
        return "SSW";
      case 10:
        return "SW";
      case 11:
        return "WSW";
      case 12:
        return "W";
      case 13:
        return "WNW";
      case 14:
        return "NW";
      case 15:
        return "NNW";
      default:
        return "N";
    }
  }, "getCompassDirection");
  t48.default = n;
});
var K4 = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = n(Ch()), i = n(H4());
  function n(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(n, "_interopRequireDefault");
  var r = q(function(t49, n10, r6) {
    var o3 = (0, e6.default)(n10, t49), s6 = (0, e6.default)(t49, r6), a = (0, e6.default)(n10, r6), l = Math.acos((0, i.default)((o3 * o3 + a * a - s6 * s6) / (2 * o3 * a))), u2 = Math.acos((0, i.default)((s6 * s6 + a * a - o3 * o3) / (2 * s6 * a)));
    return l > Math.PI / 2 ? o3 : u2 > Math.PI / 2 ? s6 : Math.sin(l) * o3;
  }, "getDistanceFromLine");
  t48.default = r;
});
var sF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(Ya()), i = o3(Xa()), n = o3(au()), r = o3(Qf());
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function(t49, o6) {
    var s10 = (0, e6.default)(o6), a = (0, i.default)(o6), l = (0, e6.default)(t49), u2 = (0, i.default)(t49);
    return ((0, r.default)(Math.atan2(Math.sin((0, n.default)(a) - (0, n.default)(u2)) * Math.cos((0, n.default)(s10)), Math.cos((0, n.default)(l)) * Math.sin((0, n.default)(s10)) - Math.sin((0, n.default)(l)) * Math.cos((0, n.default)(s10)) * Math.cos((0, n.default)(a) - (0, n.default)(u2)))) + 360) % 360;
  }, "getGreatCircleBearing");
  t48.default = s6;
});
var oF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(Ch());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  function n(t49) {
    return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? q(function(t50) {
      return typeof t50;
    }, "_typeof") : q(function(t50) {
      return t50 && "function" == typeof Symbol && t50.constructor === Symbol && t50 !== Symbol.prototype ? "symbol" : typeof t50;
    }, "_typeof"))(t49);
  }
  q(i, "_interopRequireDefault"), q(n, "_typeof");
  var r = q(function(t49) {
    var i10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e6.default;
    return t49.reduce(function(t50, e10) {
      return "object" === n(t50) && null !== t50.last && (t50.distance += i10(e10, t50.last)), t50.last = e10, t50;
    }, { last: null, distance: 0 }).distance;
  }, "getPathLength");
  t48.default = r;
});
var cF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = o3(Ya()), i = o3(Xa()), n = o3(au()), r = to();
  function o3(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(o3, "_interopRequireDefault");
  var s6 = q(function(t49, o6) {
    var s10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
    s10 = typeof s10 < "u" && !isNaN(s10) ? s10 : 1;
    var a, l, u2, h, c2, p4, d, f = (0, e6.default)(t49), g = (0, i.default)(t49), m = (0, e6.default)(o6), v4 = (0, i.default)(o6), y4 = 6356752314245e-6, x4 = 1 / 298.257223563, _ = (0, n.default)(v4 - g), b = Math.atan((1 - x4) * Math.tan((0, n.default)(parseFloat(f)))), M = Math.atan((1 - x4) * Math.tan((0, n.default)(parseFloat(m)))), E = Math.sin(b), w4 = Math.cos(b), A = Math.sin(M), S = Math.cos(M), T = _, C = 100;
    do {
      var P = Math.sin(T), I = Math.cos(T);
      if (0 === (p4 = Math.sqrt(S * P * (S * P) + (w4 * A - E * S * I) * (w4 * A - E * S * I))))
        return 0;
      a = E * A + w4 * S * I, l = Math.atan2(p4, a), c2 = a - 2 * E * A / (h = 1 - (u2 = w4 * S * P / p4) * u2), isNaN(c2) && (c2 = 0);
      var L = x4 / 16 * h * (4 + x4 * (4 - 3 * h));
      d = T, T = _ + (1 - L) * x4 * u2 * (l + L * p4 * (c2 + L * a * (2 * c2 * c2 - 1)));
    } while (Math.abs(T - d) > 1e-12 && --C > 0);
    if (0 === C)
      return NaN;
    var O = h * (r.earthRadius * r.earthRadius - y4 * y4) / (y4 * y4), N = 1 + O / 16384 * (4096 + O * (O * (320 - 175 * O) - 768)), D = O / 1024 * (256 + O * (O * (74 - 47 * O) - 128)), R = D * p4 * (c2 + D / 4 * (a * (2 * c2 * c2 - 1) - D / 6 * c2 * (4 * p4 * p4 - 3) * (4 * c2 * c2 - 3))), q4 = y4 * N * (l - R);
    return Math.round(q4 / s10) * s10;
  }, "getDistance");
  t48.default = s6;
});
var hF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = q(function(t49) {
    return /^NNE|NE|NNW|N$/.test(t49) ? "N" : /^ENE|E|ESE|SE$/.test(t49) ? "E" : /^SSE|S|SSW|SW$/.test(t49) ? "S" : /^WSW|W|WNW|NW$/.test(t49) ? "W" : void 0;
  }, "getRoughCompassDirection");
  t48.default = e6;
});
var fF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(Ch());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10) {
    var n10 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e6.default, r = n10(t49, i10), o3 = Number(i10.time) - Number(t49.time), s6 = r / o3 * 1e3;
    return s6;
  }, "getSpeed");
  t48.default = n;
});
var pF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(Ch());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10, n10) {
    return (0, e6.default)(i10, t49) + (0, e6.default)(t49, n10) === (0, e6.default)(i10, n10);
  }, "isPointInLine");
  t48.default = n;
});
var mF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = n(Ya()), i = n(Xa());
  function n(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(n, "_interopRequireDefault");
  var r = q(function(t49, n10) {
    for (var r6 = false, o3 = n10.length, s6 = -1, a = o3 - 1; ++s6 < o3; a = s6)
      ((0, i.default)(n10[s6]) <= (0, i.default)(t49) && (0, i.default)(t49) < (0, i.default)(n10[a]) || (0, i.default)(n10[a]) <= (0, i.default)(t49) && (0, i.default)(t49) < (0, i.default)(n10[s6])) && (0, e6.default)(t49) < ((0, e6.default)(n10[a]) - (0, e6.default)(n10[s6])) * ((0, i.default)(t49) - (0, i.default)(n10[s6])) / ((0, i.default)(n10[a]) - (0, i.default)(n10[s6])) + (0, e6.default)(n10[s6]) && (r6 = !r6);
    return r6;
  }, "isPointInPolygon");
  t48.default = r;
});
var gF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(K4());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10, n10, r) {
    return (0, e6.default)(t49, i10, n10) < r;
  }, "isPointNearLine");
  t48.default = n;
});
var vF = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0;
  var e6 = i(Ch());
  function i(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  q(i, "_interopRequireDefault");
  var n = q(function(t49, i10, n10) {
    return (0, e6.default)(t49, i10) < n10;
  }, "isPointWithinRadius");
  t48.default = n;
});
var xF = s((t48) => {
  "use strict";
  function e6(t49, e10) {
    return s6(t49) || o3(t49, e10) || n(t49, e10) || i();
  }
  function i() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  function n(t49, e10) {
    if (t49) {
      if ("string" == typeof t49)
        return r(t49, e10);
      var i10 = Object.prototype.toString.call(t49).slice(8, -1);
      if ("Object" === i10 && t49.constructor && (i10 = t49.constructor.name), "Map" === i10 || "Set" === i10)
        return Array.from(t49);
      if ("Arguments" === i10 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i10))
        return r(t49, e10);
    }
  }
  function r(t49, e10) {
    (null == e10 || e10 > t49.length) && (e10 = t49.length);
    for (var i10 = 0, n10 = new Array(e10); i10 < e10; i10++)
      n10[i10] = t49[i10];
    return n10;
  }
  function o3(t49, e10) {
    if (!(typeof Symbol > "u") && Symbol.iterator in Object(t49)) {
      var i10 = [], n10 = true, r6 = false, o6 = void 0;
      try {
        for (var s10, a3 = t49[Symbol.iterator](); !(n10 = (s10 = a3.next()).done) && (i10.push(s10.value), !e10 || i10.length !== e10); n10 = true)
          ;
      } catch (t50) {
        r6 = true, o6 = t50;
      } finally {
        try {
          !n10 && null != a3.return && a3.return();
        } finally {
          if (r6)
            throw o6;
        }
      }
      return i10;
    }
  }
  function s6(t49) {
    if (Array.isArray(t49))
      return t49;
  }
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.default = void 0, q(e6, "_slicedToArray"), q(i, "_nonIterableRest"), q(n, "_unsupportedIterableToArray"), q(r, "_arrayLikeToArray"), q(o3, "_iterableToArrayLimit"), q(s6, "_arrayWithHoles");
  var a = q(function(t49) {
    if (!t49.startsWith("POLYGON"))
      throw new Error("Invalid wkt.");
    return t49.slice(t49.indexOf("(") + 2, t49.indexOf(")")).split(", ").map(function(t50) {
      var i10 = e6(t50.split(" "), 2), n10 = i10[0], r6 = i10[1];
      return { longitude: parseFloat(n10), latitude: parseFloat(r6) };
    });
  }, "wktToPolygon");
  t48.default = a;
});
var _F = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true });
  var e6 = { computeDestinationPoint: true, convertArea: true, convertDistance: true, convertSpeed: true, decimalToSexagesimal: true, findNearest: true, getAreaOfPolygon: true, getBounds: true, getBoundsOfDistance: true, getCenter: true, getCenterOfBounds: true, getCompassDirection: true, getCoordinateKey: true, getCoordinateKeys: true, getDistance: true, getDistanceFromLine: true, getGreatCircleBearing: true, getLatitude: true, getLongitude: true, getPathLength: true, getPreciseDistance: true, getRhumbLineBearing: true, getRoughCompassDirection: true, getSpeed: true, isDecimal: true, isPointInLine: true, isPointInPolygon: true, isPointNearLine: true, isPointWithinRadius: true, isSexagesimal: true, isValidCoordinate: true, isValidLatitude: true, isValidLongitude: true, orderByDistance: true, sexagesimalToDecimal: true, toDecimal: true, toRad: true, toDeg: true, wktToPolygon: true };
  Object.defineProperty(t48, "computeDestinationPoint", { enumerable: true, get: q(function() {
    return i.default;
  }, "get") }), Object.defineProperty(t48, "convertArea", { enumerable: true, get: q(function() {
    return n.default;
  }, "get") }), Object.defineProperty(t48, "convertDistance", { enumerable: true, get: q(function() {
    return r.default;
  }, "get") }), Object.defineProperty(t48, "convertSpeed", { enumerable: true, get: q(function() {
    return o3.default;
  }, "get") }), Object.defineProperty(t48, "decimalToSexagesimal", { enumerable: true, get: q(function() {
    return s6.default;
  }, "get") }), Object.defineProperty(t48, "findNearest", { enumerable: true, get: q(function() {
    return a.default;
  }, "get") }), Object.defineProperty(t48, "getAreaOfPolygon", { enumerable: true, get: q(function() {
    return l.default;
  }, "get") }), Object.defineProperty(t48, "getBounds", { enumerable: true, get: q(function() {
    return h.default;
  }, "get") }), Object.defineProperty(t48, "getBoundsOfDistance", { enumerable: true, get: q(function() {
    return c2.default;
  }, "get") }), Object.defineProperty(t48, "getCenter", { enumerable: true, get: q(function() {
    return p4.default;
  }, "get") }), Object.defineProperty(t48, "getCenterOfBounds", { enumerable: true, get: q(function() {
    return d.default;
  }, "get") }), Object.defineProperty(t48, "getCompassDirection", { enumerable: true, get: q(function() {
    return f.default;
  }, "get") }), Object.defineProperty(t48, "getCoordinateKey", { enumerable: true, get: q(function() {
    return g.default;
  }, "get") }), Object.defineProperty(t48, "getCoordinateKeys", { enumerable: true, get: q(function() {
    return m.default;
  }, "get") }), Object.defineProperty(t48, "getDistance", { enumerable: true, get: q(function() {
    return v4.default;
  }, "get") }), Object.defineProperty(t48, "getDistanceFromLine", { enumerable: true, get: q(function() {
    return y4.default;
  }, "get") }), Object.defineProperty(t48, "getGreatCircleBearing", { enumerable: true, get: q(function() {
    return x4.default;
  }, "get") }), Object.defineProperty(t48, "getLatitude", { enumerable: true, get: q(function() {
    return _.default;
  }, "get") }), Object.defineProperty(t48, "getLongitude", { enumerable: true, get: q(function() {
    return b.default;
  }, "get") }), Object.defineProperty(t48, "getPathLength", { enumerable: true, get: q(function() {
    return M.default;
  }, "get") }), Object.defineProperty(t48, "getPreciseDistance", { enumerable: true, get: q(function() {
    return w4.default;
  }, "get") }), Object.defineProperty(t48, "getRhumbLineBearing", { enumerable: true, get: q(function() {
    return A.default;
  }, "get") }), Object.defineProperty(t48, "getRoughCompassDirection", { enumerable: true, get: q(function() {
    return S.default;
  }, "get") }), Object.defineProperty(t48, "getSpeed", { enumerable: true, get: q(function() {
    return T.default;
  }, "get") }), Object.defineProperty(t48, "isDecimal", { enumerable: true, get: q(function() {
    return C.default;
  }, "get") }), Object.defineProperty(t48, "isPointInLine", { enumerable: true, get: q(function() {
    return P.default;
  }, "get") }), Object.defineProperty(t48, "isPointInPolygon", { enumerable: true, get: q(function() {
    return I.default;
  }, "get") }), Object.defineProperty(t48, "isPointNearLine", { enumerable: true, get: q(function() {
    return L.default;
  }, "get") }), Object.defineProperty(t48, "isPointWithinRadius", { enumerable: true, get: q(function() {
    return O.default;
  }, "get") }), Object.defineProperty(t48, "isSexagesimal", { enumerable: true, get: q(function() {
    return N.default;
  }, "get") }), Object.defineProperty(t48, "isValidCoordinate", { enumerable: true, get: q(function() {
    return D.default;
  }, "get") }), Object.defineProperty(t48, "isValidLatitude", { enumerable: true, get: q(function() {
    return R.default;
  }, "get") }), Object.defineProperty(t48, "isValidLongitude", { enumerable: true, get: q(function() {
    return q4.default;
  }, "get") }), Object.defineProperty(t48, "orderByDistance", { enumerable: true, get: q(function() {
    return B.default;
  }, "get") }), Object.defineProperty(t48, "sexagesimalToDecimal", { enumerable: true, get: q(function() {
    return k.default;
  }, "get") }), Object.defineProperty(t48, "toDecimal", { enumerable: true, get: q(function() {
    return F.default;
  }, "get") }), Object.defineProperty(t48, "toRad", { enumerable: true, get: q(function() {
    return U.default;
  }, "get") }), Object.defineProperty(t48, "toDeg", { enumerable: true, get: q(function() {
    return z.default;
  }, "get") }), Object.defineProperty(t48, "wktToPolygon", { enumerable: true, get: q(function() {
    return V.default;
  }, "get") });
  var i = G(Oq()), n = G(Lq()), r = G(Dq()), o3 = G(Nq()), s6 = G(kq()), a = G(zq()), l = G(Hq()), h = G(X4()), c2 = G(Wq()), p4 = G(Zq()), d = G(Qq()), f = G(eF()), g = G(c1()), m = G(B_()), v4 = G(Ch()), y4 = G(K4()), x4 = G(sF()), _ = G(Ya()), b = G(Xa()), M = G(oF()), w4 = G(cF()), A = G(Z4()), S = G(hF()), T = G(fF()), C = G(h1()), P = G(pF()), I = G(mF()), L = G(gF()), O = G(vF()), N = G(f1()), D = G(F4()), R = G(R4()), q4 = G(k4()), B = G(j4()), k = G(p1()), F = G(z_()), U = G(au()), z = G(Qf()), V = G(xF()), j = to();
  function G(t49) {
    return t49 && t49.__esModule ? t49 : { default: t49 };
  }
  Object.keys(j).forEach(function(i10) {
    "default" === i10 || "__esModule" === i10 || Object.prototype.hasOwnProperty.call(e6, i10) || Object.defineProperty(t48, i10, { enumerable: true, get: q(function() {
      return j[i10];
    }, "get") });
  }), q(G, "_interopRequireDefault");
});
var Nw = s((t48, e6) => {
  "use strict";
  c();
  var i = Object.getOwnPropertySymbols, n = Object.prototype.hasOwnProperty, r = Object.prototype.propertyIsEnumerable;
  function o3(t49) {
    if (null == t49)
      throw new TypeError("Object.assign cannot be called with null or undefined");
    return Object(t49);
  }
  function s6() {
    try {
      if (!Object.assign)
        return false;
      var t49 = new String("abc");
      if (t49[5] = "de", "5" === Object.getOwnPropertyNames(t49)[0])
        return false;
      for (var e10 = {}, i10 = 0; i10 < 10; i10++)
        e10["_" + String.fromCharCode(i10)] = i10;
      if ("0123456789" !== Object.getOwnPropertyNames(e10).map(function(t50) {
        return e10[t50];
      }).join(""))
        return false;
      var n10 = {};
      return "abcdefghijklmnopqrst".split("").forEach(function(t50) {
        n10[t50] = t50;
      }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n10)).join("");
    } catch {
      return false;
    }
  }
  q(o3, "toObject"), q(s6, "shouldUseNative"), e6.exports = s6() ? Object.assign : function(t49, e10) {
    for (var s10, a, l = o3(t49), u2 = 1; u2 < arguments.length; u2++) {
      for (var h in s10 = Object(arguments[u2]))
        n.call(s10, h) && (l[h] = s10[h]);
      if (i) {
        a = i(s10);
        for (var c2 = 0; c2 < a.length; c2++)
          r.call(s10, a[c2]) && (l[a[c2]] = s10[a[c2]]);
      }
    }
    return l;
  };
});
var OF = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function() {
    "use strict";
    function t49(t50, n11, r6, o6, s10) {
      q(function t51(i11, n12, r10, o7, s11) {
        for (; o7 > r10; ) {
          if (o7 - r10 > 600) {
            var a3 = o7 - r10 + 1, l3 = n12 - r10 + 1, u2 = Math.log(a3), h2 = 0.5 * Math.exp(2 * u2 / 3), c4 = 0.5 * Math.sqrt(u2 * h2 * (a3 - h2) / a3) * (l3 - a3 / 2 < 0 ? -1 : 1);
            t51(i11, n12, Math.max(r10, Math.floor(n12 - l3 * h2 / a3 + c4)), Math.min(o7, Math.floor(n12 + (a3 - l3) * h2 / a3 + c4)), s11);
          }
          var p10 = i11[n12], d4 = r10, f2 = o7;
          for (e10(i11, r10, n12), s11(i11[o7], p10) > 0 && e10(i11, r10, o7); d4 < f2; ) {
            for (e10(i11, d4, f2), d4++, f2--; s11(i11[d4], p10) < 0; )
              d4++;
            for (; s11(i11[f2], p10) > 0; )
              f2--;
          }
          0 === s11(i11[r10], p10) ? e10(i11, r10, f2) : e10(i11, ++f2, o7), f2 <= n12 && (r10 = f2 + 1), n12 <= f2 && (o7 = f2 - 1);
        }
      }, "t")(t50, n11, r6 || 0, o6 || t50.length - 1, s10 || i10);
    }
    function e10(t50, e11, i11) {
      var n11 = t50[e11];
      t50[e11] = t50[i11], t50[i11] = n11;
    }
    function i10(t50, e11) {
      return t50 < e11 ? -1 : t50 > e11 ? 1 : 0;
    }
    q(t49, "t"), q(e10, "i"), q(i10, "n");
    var n10 = q(function(t50) {
      void 0 === t50 && (t50 = 9), this._maxEntries = Math.max(4, t50), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();
    }, "r");
    function r(t50, e11, i11) {
      if (!i11)
        return e11.indexOf(t50);
      for (var n11 = 0; n11 < e11.length; n11++)
        if (i11(t50, e11[n11]))
          return n11;
      return -1;
    }
    function o3(t50, e11) {
      s6(t50, 0, t50.children.length, e11, t50);
    }
    function s6(t50, e11, i11, n11, r6) {
      r6 || (r6 = g(null)), r6.minX = 1 / 0, r6.minY = 1 / 0, r6.maxX = -1 / 0, r6.maxY = -1 / 0;
      for (var o6 = e11; o6 < i11; o6++) {
        var s10 = t50.children[o6];
        a(r6, t50.leaf ? n11(s10) : s10);
      }
      return r6;
    }
    function a(t50, e11) {
      return t50.minX = Math.min(t50.minX, e11.minX), t50.minY = Math.min(t50.minY, e11.minY), t50.maxX = Math.max(t50.maxX, e11.maxX), t50.maxY = Math.max(t50.maxY, e11.maxY), t50;
    }
    function l(t50, e11) {
      return t50.minX - e11.minX;
    }
    function h(t50, e11) {
      return t50.minY - e11.minY;
    }
    function c2(t50) {
      return (t50.maxX - t50.minX) * (t50.maxY - t50.minY);
    }
    function p4(t50) {
      return t50.maxX - t50.minX + (t50.maxY - t50.minY);
    }
    function d(t50, e11) {
      return t50.minX <= e11.minX && t50.minY <= e11.minY && e11.maxX <= t50.maxX && e11.maxY <= t50.maxY;
    }
    function f(t50, e11) {
      return e11.minX <= t50.maxX && e11.minY <= t50.maxY && e11.maxX >= t50.minX && e11.maxY >= t50.minY;
    }
    function g(t50) {
      return { children: t50, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
    }
    function m(e11, i11, n11, r6, o6) {
      for (var s10 = [i11, n11]; s10.length; )
        if (!((n11 = s10.pop()) - (i11 = s10.pop()) <= r6)) {
          var a3 = i11 + Math.ceil((n11 - i11) / r6 / 2) * r6;
          t49(e11, a3, i11, n11, o6), s10.push(i11, a3, a3, n11);
        }
    }
    return q(r, "e"), q(o3, "a"), q(s6, "h"), q(a, "o"), q(l, "s"), q(h, "l"), q(c2, "f"), q(p4, "u"), q(d, "m"), q(f, "c"), q(g, "p"), q(m, "d"), n10.prototype.all = function() {
      return this._all(this.data, []);
    }, n10.prototype.search = function(t50) {
      var e11 = this.data, i11 = [];
      if (!f(t50, e11))
        return i11;
      for (var n11 = this.toBBox, r6 = []; e11; ) {
        for (var o6 = 0; o6 < e11.children.length; o6++) {
          var s10 = e11.children[o6], a3 = e11.leaf ? n11(s10) : s10;
          f(t50, a3) && (e11.leaf ? i11.push(s10) : d(t50, a3) ? this._all(s10, i11) : r6.push(s10));
        }
        e11 = r6.pop();
      }
      return i11;
    }, n10.prototype.collides = function(t50) {
      var e11 = this.data;
      if (!f(t50, e11))
        return false;
      for (var i11 = []; e11; ) {
        for (var n11 = 0; n11 < e11.children.length; n11++) {
          var r6 = e11.children[n11], o6 = e11.leaf ? this.toBBox(r6) : r6;
          if (f(t50, o6)) {
            if (e11.leaf || d(t50, o6))
              return true;
            i11.push(r6);
          }
        }
        e11 = i11.pop();
      }
      return false;
    }, n10.prototype.load = function(t50) {
      if (!t50 || !t50.length)
        return this;
      if (t50.length < this._minEntries) {
        for (var e11 = 0; e11 < t50.length; e11++)
          this.insert(t50[e11]);
        return this;
      }
      var i11 = this._build(t50.slice(), 0, t50.length - 1, 0);
      if (this.data.children.length)
        if (this.data.height === i11.height)
          this._splitRoot(this.data, i11);
        else {
          if (this.data.height < i11.height) {
            var n11 = this.data;
            this.data = i11, i11 = n11;
          }
          this._insert(i11, this.data.height - i11.height - 1, true);
        }
      else
        this.data = i11;
      return this;
    }, n10.prototype.insert = function(t50) {
      return t50 && this._insert(t50, this.data.height - 1), this;
    }, n10.prototype.clear = function() {
      return this.data = g([]), this;
    }, n10.prototype.remove = function(t50, e11) {
      if (!t50)
        return this;
      for (var i11, n11, o6, s10 = this.data, a3 = this.toBBox(t50), l3 = [], u2 = []; s10 || l3.length; ) {
        if (s10 || (s10 = l3.pop(), n11 = l3[l3.length - 1], i11 = u2.pop(), o6 = true), s10.leaf) {
          var h2 = r(t50, s10.children, e11);
          if (-1 !== h2)
            return s10.children.splice(h2, 1), l3.push(s10), this._condense(l3), this;
        }
        o6 || s10.leaf || !d(s10, a3) ? n11 ? (i11++, s10 = n11.children[i11], o6 = false) : s10 = null : (l3.push(s10), u2.push(i11), i11 = 0, n11 = s10, s10 = s10.children[0]);
      }
      return this;
    }, n10.prototype.toBBox = function(t50) {
      return t50;
    }, n10.prototype.compareMinX = function(t50, e11) {
      return t50.minX - e11.minX;
    }, n10.prototype.compareMinY = function(t50, e11) {
      return t50.minY - e11.minY;
    }, n10.prototype.toJSON = function() {
      return this.data;
    }, n10.prototype.fromJSON = function(t50) {
      return this.data = t50, this;
    }, n10.prototype._all = function(t50, e11) {
      for (var i11 = []; t50; )
        t50.leaf ? e11.push.apply(e11, t50.children) : i11.push.apply(i11, t50.children), t50 = i11.pop();
      return e11;
    }, n10.prototype._build = function(t50, e11, i11, n11) {
      var r6, s10 = i11 - e11 + 1, a3 = this._maxEntries;
      if (s10 <= a3)
        return o3(r6 = g(t50.slice(e11, i11 + 1)), this.toBBox), r6;
      n11 || (n11 = Math.ceil(Math.log(s10) / Math.log(a3)), a3 = Math.ceil(s10 / Math.pow(a3, n11 - 1))), (r6 = g([])).leaf = false, r6.height = n11;
      var l3 = Math.ceil(s10 / a3), u2 = l3 * Math.ceil(Math.sqrt(a3));
      m(t50, e11, i11, u2, this.compareMinX);
      for (var h2 = e11; h2 <= i11; h2 += u2) {
        var c4 = Math.min(h2 + u2 - 1, i11);
        m(t50, h2, c4, l3, this.compareMinY);
        for (var p10 = h2; p10 <= c4; p10 += l3) {
          var d4 = Math.min(p10 + l3 - 1, c4);
          r6.children.push(this._build(t50, p10, d4, n11 - 1));
        }
      }
      return o3(r6, this.toBBox), r6;
    }, n10.prototype._chooseSubtree = function(t50, e11, i11, n11) {
      for (; n11.push(e11), !e11.leaf && n11.length - 1 !== i11; ) {
        for (var r6 = 1 / 0, o6 = 1 / 0, s10 = void 0, a3 = 0; a3 < e11.children.length; a3++) {
          var l3 = e11.children[a3], u2 = c2(l3), h2 = (p10 = t50, d4 = l3, (Math.max(d4.maxX, p10.maxX) - Math.min(d4.minX, p10.minX)) * (Math.max(d4.maxY, p10.maxY) - Math.min(d4.minY, p10.minY)) - u2);
          h2 < o6 ? (o6 = h2, r6 = u2 < r6 ? u2 : r6, s10 = l3) : h2 === o6 && u2 < r6 && (r6 = u2, s10 = l3);
        }
        e11 = s10 || e11.children[0];
      }
      var p10, d4;
      return e11;
    }, n10.prototype._insert = function(t50, e11, i11) {
      var n11 = i11 ? t50 : this.toBBox(t50), r6 = [], o6 = this._chooseSubtree(n11, this.data, e11, r6);
      for (o6.children.push(t50), a(o6, n11); e11 >= 0 && r6[e11].children.length > this._maxEntries; )
        this._split(r6, e11), e11--;
      this._adjustParentBBoxes(n11, r6, e11);
    }, n10.prototype._split = function(t50, e11) {
      var i11 = t50[e11], n11 = i11.children.length, r6 = this._minEntries;
      this._chooseSplitAxis(i11, r6, n11);
      var s10 = this._chooseSplitIndex(i11, r6, n11), a3 = g(i11.children.splice(s10, i11.children.length - s10));
      a3.height = i11.height, a3.leaf = i11.leaf, o3(i11, this.toBBox), o3(a3, this.toBBox), e11 ? t50[e11 - 1].children.push(a3) : this._splitRoot(i11, a3);
    }, n10.prototype._splitRoot = function(t50, e11) {
      this.data = g([t50, e11]), this.data.height = t50.height + 1, this.data.leaf = false, o3(this.data, this.toBBox);
    }, n10.prototype._chooseSplitIndex = function(t50, e11, i11) {
      for (var n11, r6, o6, a3, l3, u2, h2, p10 = 1 / 0, d4 = 1 / 0, f2 = e11; f2 <= i11 - e11; f2++) {
        var g4 = s6(t50, 0, f2, this.toBBox), m4 = s6(t50, f2, i11, this.toBBox), v4 = (r6 = g4, o6 = m4, a3 = Math.max(r6.minX, o6.minX), l3 = Math.max(r6.minY, o6.minY), u2 = Math.min(r6.maxX, o6.maxX), h2 = Math.min(r6.maxY, o6.maxY), Math.max(0, u2 - a3) * Math.max(0, h2 - l3)), y4 = c2(g4) + c2(m4);
        v4 < p10 ? (p10 = v4, n11 = f2, d4 = y4 < d4 ? y4 : d4) : v4 === p10 && y4 < d4 && (d4 = y4, n11 = f2);
      }
      return n11 || i11 - e11;
    }, n10.prototype._chooseSplitAxis = function(t50, e11, i11) {
      var n11 = t50.leaf ? this.compareMinX : l, r6 = t50.leaf ? this.compareMinY : h;
      this._allDistMargin(t50, e11, i11, n11) < this._allDistMargin(t50, e11, i11, r6) && t50.children.sort(n11);
    }, n10.prototype._allDistMargin = function(t50, e11, i11, n11) {
      t50.children.sort(n11);
      for (var r6 = this.toBBox, o6 = s6(t50, 0, e11, r6), l3 = s6(t50, i11 - e11, i11, r6), u2 = p4(o6) + p4(l3), h2 = e11; h2 < i11 - e11; h2++) {
        var c4 = t50.children[h2];
        a(o6, t50.leaf ? r6(c4) : c4), u2 += p4(o6);
      }
      for (var d4 = i11 - e11 - 1; d4 >= e11; d4--) {
        var f2 = t50.children[d4];
        a(l3, t50.leaf ? r6(f2) : f2), u2 += p4(l3);
      }
      return u2;
    }, n10.prototype._adjustParentBBoxes = function(t50, e11, i11) {
      for (var n11 = i11; n11 >= 0; n11--)
        a(e11[n11], t50);
    }, n10.prototype._condense = function(t50) {
      for (var e11 = t50.length - 1, i11 = void 0; e11 >= 0; e11--)
        0 === t50[e11].children.length ? e11 > 0 ? (i11 = t50[e11 - 1].children).splice(i11.indexOf(t50[e11]), 1) : this.clear() : o3(t50[e11], this.toBBox);
    }, n10;
  }, "object" == typeof t48 && typeof e6 < "u" ? e6.exports = n() : "function" == typeof define && define.amd ? define(n) : (i = i || self).RBush = n();
});
var DF = s((t48, e6) => {
  c(), e6.exports = q(function(t49, e10, i, n) {
    var r = t49[0], o3 = t49[1], s6 = false;
    void 0 === i && (i = 0), void 0 === n && (n = e10.length);
    for (var a = (n - i) / 2, l = 0, u2 = a - 1; l < a; u2 = l++) {
      var h = e10[i + 2 * l + 0], c2 = e10[i + 2 * l + 1], p4 = e10[i + 2 * u2 + 0], d = e10[i + 2 * u2 + 1];
      c2 > o3 != d > o3 && r < (p4 - h) * (o3 - c2) / (d - c2) + h && (s6 = !s6);
    }
    return s6;
  }, "pointInPolygonFlat");
});
var RF = s((t48, e6) => {
  c(), e6.exports = q(function(t49, e10, i, n) {
    var r = t49[0], o3 = t49[1], s6 = false;
    void 0 === i && (i = 0), void 0 === n && (n = e10.length);
    for (var a = n - i, l = 0, u2 = a - 1; l < a; u2 = l++) {
      var h = e10[l + i][0], c2 = e10[l + i][1], p4 = e10[u2 + i][0], d = e10[u2 + i][1];
      c2 > o3 != d > o3 && r < (p4 - h) * (o3 - c2) / (d - c2) + h && (s6 = !s6);
    }
    return s6;
  }, "pointInPolygonNested");
});
var qF = s((t48, e6) => {
  c();
  var i = DF(), n = RF();
  e6.exports = q(function(t49, e10, r, o3) {
    return e10.length > 0 && Array.isArray(e10[0]) ? n(t49, e10, r, o3) : i(t49, e10, r, o3);
  }, "pointInPolygon"), e6.exports.nested = n, e6.exports.flat = i;
});
var UF = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function(t49) {
    "use strict";
    function e10(t50, e11, i11, n11, r6) {
      let o6, s10, a3, l, u2 = e11[0], h = n11[0], c2 = 0, p4 = 0;
      h > u2 == h > -u2 ? (o6 = u2, u2 = e11[++c2]) : (o6 = h, h = n11[++p4]);
      let d = 0;
      if (c2 < t50 && p4 < i11)
        for (h > u2 == h > -u2 ? (a3 = o6 - ((s10 = u2 + o6) - u2), u2 = e11[++c2]) : (a3 = o6 - ((s10 = h + o6) - h), h = n11[++p4]), o6 = s10, 0 !== a3 && (r6[d++] = a3); c2 < t50 && p4 < i11; )
          h > u2 == h > -u2 ? (a3 = o6 - ((s10 = o6 + u2) - (l = s10 - o6)) + (u2 - l), u2 = e11[++c2]) : (a3 = o6 - ((s10 = o6 + h) - (l = s10 - o6)) + (h - l), h = n11[++p4]), o6 = s10, 0 !== a3 && (r6[d++] = a3);
      for (; c2 < t50; )
        a3 = o6 - ((s10 = o6 + u2) - (l = s10 - o6)) + (u2 - l), u2 = e11[++c2], o6 = s10, 0 !== a3 && (r6[d++] = a3);
      for (; p4 < i11; )
        a3 = o6 - ((s10 = o6 + h) - (l = s10 - o6)) + (h - l), h = n11[++p4], o6 = s10, 0 !== a3 && (r6[d++] = a3);
      return 0 === o6 && 0 !== d || (r6[d++] = o6), d;
    }
    function i10(t50) {
      return new Float64Array(t50);
    }
    q(e10, "r"), q(i10, "o");
    let n10 = i10(4), r = i10(8), o3 = i10(12), s6 = i10(16), a = i10(4);
    t49.orient2d = function(t50, i11, l, u2, h, c2) {
      let p4 = (i11 - c2) * (l - h), d = (t50 - h) * (u2 - c2), f = p4 - d;
      if (0 === p4 || 0 === d || p4 > 0 != d > 0)
        return f;
      let g = Math.abs(p4 + d);
      return Math.abs(f) >= 33306690738754716e-32 * g ? f : -function(t51, i12, l3, u3, h2, c4, p10) {
        let d4, f2, g4, m, v4, y4, x4, _, b, M, E, w4, A, S, T, C, P, I, L = t51 - h2, O = l3 - h2, N = i12 - c4, D = u3 - c4;
        v4 = (T = (_ = L - (x4 = (y4 = 134217729 * L) - (y4 - L))) * (M = D - (b = (y4 = 134217729 * D) - (y4 - D))) - ((S = L * D) - x4 * b - _ * b - x4 * M)) - (E = T - (P = (_ = N - (x4 = (y4 = 134217729 * N) - (y4 - N))) * (M = O - (b = (y4 = 134217729 * O) - (y4 - O))) - ((C = N * O) - x4 * b - _ * b - x4 * M))), n10[0] = T - (E + v4) + (v4 - P), v4 = (A = S - ((w4 = S + E) - (v4 = w4 - S)) + (E - v4)) - (E = A - C), n10[1] = A - (E + v4) + (v4 - C), v4 = (I = w4 + E) - w4, n10[2] = w4 - (I - v4) + (E - v4), n10[3] = I;
        let R = function(t52, e11) {
          let i13 = e11[0];
          for (let t53 = 1; t53 < 4; t53++)
            i13 += e11[t53];
          return i13;
        }(0, n10), q4 = 22204460492503146e-32 * p10;
        if (R >= q4 || -R >= q4 || (d4 = t51 - (L + (v4 = t51 - L)) + (v4 - h2), g4 = l3 - (O + (v4 = l3 - O)) + (v4 - h2), f2 = i12 - (N + (v4 = i12 - N)) + (v4 - c4), m = u3 - (D + (v4 = u3 - D)) + (v4 - c4), 0 === d4 && 0 === f2 && 0 === g4 && 0 === m) || (q4 = 11093356479670487e-47 * p10 + 33306690738754706e-32 * Math.abs(R), (R += L * m + D * d4 - (N * g4 + O * f2)) >= q4 || -R >= q4))
          return R;
        v4 = (T = (_ = d4 - (x4 = (y4 = 134217729 * d4) - (y4 - d4))) * (M = D - (b = (y4 = 134217729 * D) - (y4 - D))) - ((S = d4 * D) - x4 * b - _ * b - x4 * M)) - (E = T - (P = (_ = f2 - (x4 = (y4 = 134217729 * f2) - (y4 - f2))) * (M = O - (b = (y4 = 134217729 * O) - (y4 - O))) - ((C = f2 * O) - x4 * b - _ * b - x4 * M))), a[0] = T - (E + v4) + (v4 - P), v4 = (A = S - ((w4 = S + E) - (v4 = w4 - S)) + (E - v4)) - (E = A - C), a[1] = A - (E + v4) + (v4 - C), v4 = (I = w4 + E) - w4, a[2] = w4 - (I - v4) + (E - v4), a[3] = I;
        let B = e10(4, n10, 4, a, r);
        v4 = (T = (_ = L - (x4 = (y4 = 134217729 * L) - (y4 - L))) * (M = m - (b = (y4 = 134217729 * m) - (y4 - m))) - ((S = L * m) - x4 * b - _ * b - x4 * M)) - (E = T - (P = (_ = N - (x4 = (y4 = 134217729 * N) - (y4 - N))) * (M = g4 - (b = (y4 = 134217729 * g4) - (y4 - g4))) - ((C = N * g4) - x4 * b - _ * b - x4 * M))), a[0] = T - (E + v4) + (v4 - P), v4 = (A = S - ((w4 = S + E) - (v4 = w4 - S)) + (E - v4)) - (E = A - C), a[1] = A - (E + v4) + (v4 - C), v4 = (I = w4 + E) - w4, a[2] = w4 - (I - v4) + (E - v4), a[3] = I;
        let k = e10(B, r, 4, a, o3);
        v4 = (T = (_ = d4 - (x4 = (y4 = 134217729 * d4) - (y4 - d4))) * (M = m - (b = (y4 = 134217729 * m) - (y4 - m))) - ((S = d4 * m) - x4 * b - _ * b - x4 * M)) - (E = T - (P = (_ = f2 - (x4 = (y4 = 134217729 * f2) - (y4 - f2))) * (M = g4 - (b = (y4 = 134217729 * g4) - (y4 - g4))) - ((C = f2 * g4) - x4 * b - _ * b - x4 * M))), a[0] = T - (E + v4) + (v4 - P), v4 = (A = S - ((w4 = S + E) - (v4 = w4 - S)) + (E - v4)) - (E = A - C), a[1] = A - (E + v4) + (v4 - C), v4 = (I = w4 + E) - w4, a[2] = w4 - (I - v4) + (E - v4), a[3] = I;
        let F = e10(k, o3, 4, a, s6);
        return s6[F - 1];
      }(t50, i11, l, u2, h, c2, g);
    }, t49.orient2dfast = function(t50, e11, i11, n11, r6, o6) {
      return (e11 - o6) * (i11 - r6) - (t50 - r6) * (n11 - o6);
    }, Object.defineProperty(t49, "__esModule", { value: true });
  }, "object" == typeof t48 && typeof e6 < "u" ? n(t48) : "function" == typeof define && define.amd ? define(["exports"], n) : n((i = i || self).predicates = {});
});
var WF = s((t48, e6) => {
  "use strict";
  c();
  var i = OF(), n = fe(), r = qF(), o3 = UF().orient2d;
  function s6(t49, e10, n10) {
    e10 = Math.max(0, void 0 === e10 ? 2 : e10), n10 = n10 || 0;
    var r6 = m(t49), o6 = new i(16);
    o6.toBBox = function(t50) {
      return { minX: t50[0], minY: t50[1], maxX: t50[0], maxY: t50[1] };
    }, o6.compareMinX = function(t50, e11) {
      return t50[0] - e11[0];
    }, o6.compareMinY = function(t50, e11) {
      return t50[1] - e11[1];
    }, o6.load(t49);
    for (var s10, l3 = [], u2 = 0; u2 < r6.length; u2++) {
      var h2 = r6[u2];
      o6.remove(h2), s10 = v4(h2, s10), l3.push(s10);
    }
    var c4 = new i(16);
    for (u2 = 0; u2 < l3.length; u2++)
      c4.insert(g(l3[u2]));
    for (var p10 = e10 * e10, d4 = n10 * n10; l3.length; ) {
      var f2 = l3.shift(), x10 = f2.p, _4 = f2.next.p, b4 = y4(x10, _4);
      if (!(b4 < d4)) {
        var M4 = b4 / p10;
        (h2 = a(o6, f2.prev.p, x10, _4, f2.next.next.p, M4, c4)) && Math.min(y4(h2, x10), y4(h2, _4)) <= M4 && (l3.push(f2), l3.push(v4(h2, f2)), o6.remove(h2), c4.remove(f2), c4.insert(g(f2)), c4.insert(g(f2.next)));
      }
    }
    f2 = s10;
    var E = [];
    do {
      E.push(f2.p), f2 = f2.next;
    } while (f2 !== s10);
    return E.push(f2.p), E;
  }
  function a(t49, e10, i10, r6, o6, s10, a3) {
    for (var u2 = new n([], l), c4 = t49.data; c4; ) {
      for (var d4 = 0; d4 < c4.children.length; d4++) {
        var f2 = c4.children[d4], g4 = c4.leaf ? x4(f2, i10, r6) : h(i10, r6, f2);
        g4 > s10 || u2.push({ node: f2, dist: g4 });
      }
      for (; u2.length && !u2.peek().node.children; ) {
        var m4 = u2.pop(), v10 = m4.node, y10 = x4(v10, e10, i10), _4 = x4(v10, r6, o6);
        if (m4.dist < y10 && m4.dist < _4 && p4(i10, v10, a3) && p4(r6, v10, a3))
          return v10;
      }
      (c4 = u2.pop()) && (c4 = c4.node);
    }
    return null;
  }
  function l(t49, e10) {
    return t49.dist - e10.dist;
  }
  function h(t49, e10, i10) {
    if (c2(t49, i10) || c2(e10, i10))
      return 0;
    var n10 = _(t49[0], t49[1], e10[0], e10[1], i10.minX, i10.minY, i10.maxX, i10.minY);
    if (0 === n10)
      return 0;
    var r6 = _(t49[0], t49[1], e10[0], e10[1], i10.minX, i10.minY, i10.minX, i10.maxY);
    if (0 === r6)
      return 0;
    var o6 = _(t49[0], t49[1], e10[0], e10[1], i10.maxX, i10.minY, i10.maxX, i10.maxY);
    if (0 === o6)
      return 0;
    var s10 = _(t49[0], t49[1], e10[0], e10[1], i10.minX, i10.maxY, i10.maxX, i10.maxY);
    return 0 === s10 ? 0 : Math.min(n10, r6, o6, s10);
  }
  function c2(t49, e10) {
    return t49[0] >= e10.minX && t49[0] <= e10.maxX && t49[1] >= e10.minY && t49[1] <= e10.maxY;
  }
  function p4(t49, e10, i10) {
    for (var n10 = Math.min(t49[0], e10[0]), r6 = Math.min(t49[1], e10[1]), o6 = Math.max(t49[0], e10[0]), s10 = Math.max(t49[1], e10[1]), a3 = i10.search({ minX: n10, minY: r6, maxX: o6, maxY: s10 }), l3 = 0; l3 < a3.length; l3++)
      if (f(a3[l3].p, a3[l3].next.p, t49, e10))
        return false;
    return true;
  }
  function d(t49, e10, i10) {
    return o3(t49[0], t49[1], e10[0], e10[1], i10[0], i10[1]);
  }
  function f(t49, e10, i10, n10) {
    return t49 !== n10 && e10 !== i10 && d(t49, e10, i10) > 0 != d(t49, e10, n10) > 0 && d(i10, n10, t49) > 0 != d(i10, n10, e10) > 0;
  }
  function g(t49) {
    var e10 = t49.p, i10 = t49.next.p;
    return t49.minX = Math.min(e10[0], i10[0]), t49.minY = Math.min(e10[1], i10[1]), t49.maxX = Math.max(e10[0], i10[0]), t49.maxY = Math.max(e10[1], i10[1]), t49;
  }
  function m(t49) {
    for (var e10 = t49[0], i10 = t49[0], n10 = t49[0], o6 = t49[0], s10 = 0; s10 < t49.length; s10++) {
      var a3 = t49[s10];
      a3[0] < e10[0] && (e10 = a3), a3[0] > n10[0] && (n10 = a3), a3[1] < i10[1] && (i10 = a3), a3[1] > o6[1] && (o6 = a3);
    }
    var l3 = [e10, i10, n10, o6], u2 = l3.slice();
    for (s10 = 0; s10 < t49.length; s10++)
      r(t49[s10], l3) || u2.push(t49[s10]);
    return M(u2);
  }
  function v4(t49, e10) {
    var i10 = { p: t49, prev: null, next: null, minX: 0, minY: 0, maxX: 0, maxY: 0 };
    return e10 ? (i10.next = e10.next, i10.prev = e10, e10.next.prev = i10, e10.next = i10) : (i10.prev = i10, i10.next = i10), i10;
  }
  function y4(t49, e10) {
    var i10 = t49[0] - e10[0], n10 = t49[1] - e10[1];
    return i10 * i10 + n10 * n10;
  }
  function x4(t49, e10, i10) {
    var n10 = e10[0], r6 = e10[1], o6 = i10[0] - n10, s10 = i10[1] - r6;
    if (0 !== o6 || 0 !== s10) {
      var a3 = ((t49[0] - n10) * o6 + (t49[1] - r6) * s10) / (o6 * o6 + s10 * s10);
      a3 > 1 ? (n10 = i10[0], r6 = i10[1]) : a3 > 0 && (n10 += o6 * a3, r6 += s10 * a3);
    }
    return (o6 = t49[0] - n10) * o6 + (s10 = t49[1] - r6) * s10;
  }
  function _(t49, e10, i10, n10, r6, o6, s10, a3) {
    var l3, u2, h2, c4, p10 = i10 - t49, d4 = n10 - e10, f2 = s10 - r6, g4 = a3 - o6, m4 = t49 - r6, v10 = e10 - o6, y10 = p10 * p10 + d4 * d4, x10 = p10 * f2 + d4 * g4, _4 = f2 * f2 + g4 * g4, b4 = p10 * m4 + d4 * v10, M4 = f2 * m4 + g4 * v10, E = y10 * _4 - x10 * x10, w4 = E, A = E;
    0 === E ? (u2 = 0, w4 = 1, c4 = M4, A = _4) : (c4 = y10 * M4 - x10 * b4, (u2 = x10 * M4 - _4 * b4) < 0 ? (u2 = 0, c4 = M4, A = _4) : u2 > w4 && (u2 = w4, c4 = M4 + x10, A = _4)), c4 < 0 ? (c4 = 0, -b4 < 0 ? u2 = 0 : -b4 > y10 ? u2 = w4 : (u2 = -b4, w4 = y10)) : c4 > A && (c4 = A, -b4 + x10 < 0 ? u2 = 0 : -b4 + x10 > y10 ? u2 = w4 : (u2 = -b4 + x10, w4 = y10));
    var S = (1 - (h2 = 0 === c4 ? 0 : c4 / A)) * r6 + h2 * s10 - ((1 - (l3 = 0 === u2 ? 0 : u2 / w4)) * t49 + l3 * i10), T = (1 - h2) * o6 + h2 * a3 - ((1 - l3) * e10 + l3 * n10);
    return S * S + T * T;
  }
  function b(t49, e10) {
    return t49[0] === e10[0] ? t49[1] - e10[1] : t49[0] - e10[0];
  }
  function M(t49) {
    t49.sort(b);
    for (var e10 = [], i10 = 0; i10 < t49.length; i10++) {
      for (; e10.length >= 2 && d(e10[e10.length - 2], e10[e10.length - 1], t49[i10]) <= 0; )
        e10.pop();
      e10.push(t49[i10]);
    }
    for (var n10 = [], r6 = t49.length - 1; r6 >= 0; r6--) {
      for (; n10.length >= 2 && d(n10[n10.length - 2], n10[n10.length - 1], t49[r6]) <= 0; )
        n10.pop();
      n10.push(t49[r6]);
    }
    return n10.pop(), e10.pop(), e10.concat(n10);
  }
  n.default && (n = n.default), e6.exports = s6, e6.exports.default = s6, q(s6, "concaveman"), q(a, "findCandidate"), q(l, "compareDist"), q(h, "sqSegBoxDist"), q(c2, "inside"), q(p4, "noIntersections"), q(d, "cross"), q(f, "intersects"), q(g, "updateBBox"), q(m, "fastConvexHull"), q(v4, "insertNode"), q(y4, "getSqDist"), q(x4, "sqSegDist"), q(_, "sqSegSegDist"), q(b, "compareByX"), q(M, "convexHull");
});
var KF = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function() {
    "use strict";
    function t49(t50, i11, r, o3, s6) {
      e10(t50, i11, r || 0, o3 || t50.length - 1, s6 || n10);
    }
    function e10(t50, n11, r, o3, s6) {
      for (; o3 > r; ) {
        if (o3 - r > 600) {
          var a = o3 - r + 1, l = n11 - r + 1, u2 = Math.log(a), h = 0.5 * Math.exp(2 * u2 / 3), c2 = 0.5 * Math.sqrt(u2 * h * (a - h) / a) * (l - a / 2 < 0 ? -1 : 1);
          e10(t50, n11, Math.max(r, Math.floor(n11 - l * h / a + c2)), Math.min(o3, Math.floor(n11 + (a - l) * h / a + c2)), s6);
        }
        var p4 = t50[n11], d = r, f = o3;
        for (i10(t50, r, n11), s6(t50[o3], p4) > 0 && i10(t50, r, o3); d < f; ) {
          for (i10(t50, d, f), d++, f--; s6(t50[d], p4) < 0; )
            d++;
          for (; s6(t50[f], p4) > 0; )
            f--;
        }
        0 === s6(t50[r], p4) ? i10(t50, r, f) : i10(t50, ++f, o3), f <= n11 && (r = f + 1), n11 <= f && (o3 = f - 1);
      }
    }
    function i10(t50, e11, i11) {
      var n11 = t50[e11];
      t50[e11] = t50[i11], t50[i11] = n11;
    }
    function n10(t50, e11) {
      return t50 < e11 ? -1 : t50 > e11 ? 1 : 0;
    }
    return q(t49, "quickselect"), q(e10, "quickselectStep"), q(i10, "swap"), q(n10, "defaultCompare"), t49;
  }, "object" == typeof t48 && typeof e6 < "u" ? e6.exports = n() : "function" == typeof define && define.amd ? define(n) : i.quickselect = n();
});
var CP = s((t48, e6) => {
  "use strict";
  c(), e6.exports = n, e6.exports.default = n;
  var i = KF();
  function n(t49, e10) {
    if (!(this instanceof n))
      return new n(t49, e10);
    this._maxEntries = Math.max(4, t49 || 9), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), e10 && this._initFormat(e10), this.clear();
  }
  function r(t49, e10, i10) {
    if (!i10)
      return e10.indexOf(t49);
    for (var n10 = 0; n10 < e10.length; n10++)
      if (i10(t49, e10[n10]))
        return n10;
    return -1;
  }
  function o3(t49, e10) {
    s6(t49, 0, t49.children.length, e10, t49);
  }
  function s6(t49, e10, i10, n10, r6) {
    r6 || (r6 = v4(null)), r6.minX = 1 / 0, r6.minY = 1 / 0, r6.maxX = -1 / 0, r6.maxY = -1 / 0;
    for (var o6, s10 = e10; s10 < i10; s10++)
      o6 = t49.children[s10], a(r6, t49.leaf ? n10(o6) : o6);
    return r6;
  }
  function a(t49, e10) {
    return t49.minX = Math.min(t49.minX, e10.minX), t49.minY = Math.min(t49.minY, e10.minY), t49.maxX = Math.max(t49.maxX, e10.maxX), t49.maxY = Math.max(t49.maxY, e10.maxY), t49;
  }
  function l(t49, e10) {
    return t49.minX - e10.minX;
  }
  function h(t49, e10) {
    return t49.minY - e10.minY;
  }
  function c2(t49) {
    return (t49.maxX - t49.minX) * (t49.maxY - t49.minY);
  }
  function p4(t49) {
    return t49.maxX - t49.minX + (t49.maxY - t49.minY);
  }
  function d(t49, e10) {
    return (Math.max(e10.maxX, t49.maxX) - Math.min(e10.minX, t49.minX)) * (Math.max(e10.maxY, t49.maxY) - Math.min(e10.minY, t49.minY));
  }
  function f(t49, e10) {
    var i10 = Math.max(t49.minX, e10.minX), n10 = Math.max(t49.minY, e10.minY), r6 = Math.min(t49.maxX, e10.maxX), o6 = Math.min(t49.maxY, e10.maxY);
    return Math.max(0, r6 - i10) * Math.max(0, o6 - n10);
  }
  function g(t49, e10) {
    return t49.minX <= e10.minX && t49.minY <= e10.minY && e10.maxX <= t49.maxX && e10.maxY <= t49.maxY;
  }
  function m(t49, e10) {
    return e10.minX <= t49.maxX && e10.minY <= t49.maxY && e10.maxX >= t49.minX && e10.maxY >= t49.minY;
  }
  function v4(t49) {
    return { children: t49, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
  }
  function y4(t49, e10, n10, r6, o6) {
    for (var s10, a3 = [e10, n10]; a3.length; )
      !((n10 = a3.pop()) - (e10 = a3.pop()) <= r6) && (s10 = e10 + Math.ceil((n10 - e10) / r6 / 2) * r6, i(t49, s10, e10, n10, o6), a3.push(e10, s10, s10, n10));
  }
  q(n, "rbush"), n.prototype = { all: function() {
    return this._all(this.data, []);
  }, search: function(t49) {
    var e10 = this.data, i10 = [], n10 = this.toBBox;
    if (!m(t49, e10))
      return i10;
    for (var r6, o6, s10, a3, l3 = []; e10; ) {
      for (r6 = 0, o6 = e10.children.length; r6 < o6; r6++)
        s10 = e10.children[r6], m(t49, a3 = e10.leaf ? n10(s10) : s10) && (e10.leaf ? i10.push(s10) : g(t49, a3) ? this._all(s10, i10) : l3.push(s10));
      e10 = l3.pop();
    }
    return i10;
  }, collides: function(t49) {
    var e10 = this.data, i10 = this.toBBox;
    if (!m(t49, e10))
      return false;
    for (var n10, r6, o6, s10, a3 = []; e10; ) {
      for (n10 = 0, r6 = e10.children.length; n10 < r6; n10++)
        if (o6 = e10.children[n10], m(t49, s10 = e10.leaf ? i10(o6) : o6)) {
          if (e10.leaf || g(t49, s10))
            return true;
          a3.push(o6);
        }
      e10 = a3.pop();
    }
    return false;
  }, load: function(t49) {
    if (!t49 || !t49.length)
      return this;
    if (t49.length < this._minEntries) {
      for (var e10 = 0, i10 = t49.length; e10 < i10; e10++)
        this.insert(t49[e10]);
      return this;
    }
    var n10 = this._build(t49.slice(), 0, t49.length - 1, 0);
    if (this.data.children.length)
      if (this.data.height === n10.height)
        this._splitRoot(this.data, n10);
      else {
        if (this.data.height < n10.height) {
          var r6 = this.data;
          this.data = n10, n10 = r6;
        }
        this._insert(n10, this.data.height - n10.height - 1, true);
      }
    else
      this.data = n10;
    return this;
  }, insert: function(t49) {
    return t49 && this._insert(t49, this.data.height - 1), this;
  }, clear: function() {
    return this.data = v4([]), this;
  }, remove: function(t49, e10) {
    if (!t49)
      return this;
    for (var i10, n10, o6, s10, a3 = this.data, l3 = this.toBBox(t49), u2 = [], h2 = []; a3 || u2.length; ) {
      if (a3 || (a3 = u2.pop(), n10 = u2[u2.length - 1], i10 = h2.pop(), s10 = true), a3.leaf && -1 !== (o6 = r(t49, a3.children, e10)))
        return a3.children.splice(o6, 1), u2.push(a3), this._condense(u2), this;
      s10 || a3.leaf || !g(a3, l3) ? n10 ? (i10++, a3 = n10.children[i10], s10 = false) : a3 = null : (u2.push(a3), h2.push(i10), i10 = 0, n10 = a3, a3 = a3.children[0]);
    }
    return this;
  }, toBBox: function(t49) {
    return t49;
  }, compareMinX: l, compareMinY: h, toJSON: function() {
    return this.data;
  }, fromJSON: function(t49) {
    return this.data = t49, this;
  }, _all: function(t49, e10) {
    for (var i10 = []; t49; )
      t49.leaf ? e10.push.apply(e10, t49.children) : i10.push.apply(i10, t49.children), t49 = i10.pop();
    return e10;
  }, _build: function(t49, e10, i10, n10) {
    var r6, s10 = i10 - e10 + 1, a3 = this._maxEntries;
    if (s10 <= a3)
      return o3(r6 = v4(t49.slice(e10, i10 + 1)), this.toBBox), r6;
    n10 || (n10 = Math.ceil(Math.log(s10) / Math.log(a3)), a3 = Math.ceil(s10 / Math.pow(a3, n10 - 1))), (r6 = v4([])).leaf = false, r6.height = n10;
    var l3, u2, h2, c4, p10 = Math.ceil(s10 / a3), d4 = p10 * Math.ceil(Math.sqrt(a3));
    for (y4(t49, e10, i10, d4, this.compareMinX), l3 = e10; l3 <= i10; l3 += d4)
      for (y4(t49, l3, h2 = Math.min(l3 + d4 - 1, i10), p10, this.compareMinY), u2 = l3; u2 <= h2; u2 += p10)
        c4 = Math.min(u2 + p10 - 1, h2), r6.children.push(this._build(t49, u2, c4, n10 - 1));
    return o3(r6, this.toBBox), r6;
  }, _chooseSubtree: function(t49, e10, i10, n10) {
    for (var r6, o6, s10, a3, l3, u2, h2, p10; n10.push(e10), !e10.leaf && n10.length - 1 !== i10; ) {
      for (h2 = p10 = 1 / 0, r6 = 0, o6 = e10.children.length; r6 < o6; r6++)
        l3 = c2(s10 = e10.children[r6]), (u2 = d(t49, s10) - l3) < p10 ? (p10 = u2, h2 = l3 < h2 ? l3 : h2, a3 = s10) : u2 === p10 && l3 < h2 && (h2 = l3, a3 = s10);
      e10 = a3 || e10.children[0];
    }
    return e10;
  }, _insert: function(t49, e10, i10) {
    var n10 = this.toBBox, r6 = i10 ? t49 : n10(t49), o6 = [], s10 = this._chooseSubtree(r6, this.data, e10, o6);
    for (s10.children.push(t49), a(s10, r6); e10 >= 0 && o6[e10].children.length > this._maxEntries; )
      this._split(o6, e10), e10--;
    this._adjustParentBBoxes(r6, o6, e10);
  }, _split: function(t49, e10) {
    var i10 = t49[e10], n10 = i10.children.length, r6 = this._minEntries;
    this._chooseSplitAxis(i10, r6, n10);
    var s10 = this._chooseSplitIndex(i10, r6, n10), a3 = v4(i10.children.splice(s10, i10.children.length - s10));
    a3.height = i10.height, a3.leaf = i10.leaf, o3(i10, this.toBBox), o3(a3, this.toBBox), e10 ? t49[e10 - 1].children.push(a3) : this._splitRoot(i10, a3);
  }, _splitRoot: function(t49, e10) {
    this.data = v4([t49, e10]), this.data.height = t49.height + 1, this.data.leaf = false, o3(this.data, this.toBBox);
  }, _chooseSplitIndex: function(t49, e10, i10) {
    var n10, r6, o6, a3, l3, u2, h2, p10;
    for (u2 = h2 = 1 / 0, n10 = e10; n10 <= i10 - e10; n10++)
      a3 = f(r6 = s6(t49, 0, n10, this.toBBox), o6 = s6(t49, n10, i10, this.toBBox)), l3 = c2(r6) + c2(o6), a3 < u2 ? (u2 = a3, p10 = n10, h2 = l3 < h2 ? l3 : h2) : a3 === u2 && l3 < h2 && (h2 = l3, p10 = n10);
    return p10;
  }, _chooseSplitAxis: function(t49, e10, i10) {
    var n10 = t49.leaf ? this.compareMinX : l, r6 = t49.leaf ? this.compareMinY : h;
    this._allDistMargin(t49, e10, i10, n10) < this._allDistMargin(t49, e10, i10, r6) && t49.children.sort(n10);
  }, _allDistMargin: function(t49, e10, i10, n10) {
    t49.children.sort(n10);
    var r6, o6, l3 = this.toBBox, u2 = s6(t49, 0, e10, l3), h2 = s6(t49, i10 - e10, i10, l3), c4 = p4(u2) + p4(h2);
    for (r6 = e10; r6 < i10 - e10; r6++)
      o6 = t49.children[r6], a(u2, t49.leaf ? l3(o6) : o6), c4 += p4(u2);
    for (r6 = i10 - e10 - 1; r6 >= e10; r6--)
      o6 = t49.children[r6], a(h2, t49.leaf ? l3(o6) : o6), c4 += p4(h2);
    return c4;
  }, _adjustParentBBoxes: function(t49, e10, i10) {
    for (var n10 = i10; n10 >= 0; n10--)
      a(e10[n10], t49);
  }, _condense: function(t49) {
    for (var e10, i10 = t49.length - 1; i10 >= 0; i10--)
      0 === t49[i10].children.length ? i10 > 0 ? (e10 = t49[i10 - 1].children).splice(e10.indexOf(t49[i10]), 1) : this.clear() : o3(t49[i10], this.toBBox);
  }, _initFormat: function(t49) {
    var e10 = ["return a", " - b", ";"];
    this.compareMinX = new Function("a", "b", e10.join(t49[0])), this.compareMinY = new Function("a", "b", e10.join(t49[1])), this.toBBox = new Function("a", "return {minX: a" + t49[0] + ", minY: a" + t49[1] + ", maxX: a" + t49[2] + ", maxY: a" + t49[3] + "};");
  } }, q(r, "findItem"), q(o3, "calcBBox"), q(s6, "distBBox"), q(a, "extend"), q(l, "compareNodeMinX"), q(h, "compareNodeMinY"), q(c2, "bboxArea"), q(p4, "bboxMargin"), q(d, "enlargedArea"), q(f, "intersectionArea"), q(g, "contains"), q(m, "intersects"), q(v4, "createNode"), q(y4, "multiSelect");
});
var tU = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function() {
    "use strict";
    function t49(t50, n11, r6, o6, s10) {
      q(function t51(i11, n12, r10, o7, s11) {
        for (; o7 > r10; ) {
          if (o7 - r10 > 600) {
            var a3 = o7 - r10 + 1, l3 = n12 - r10 + 1, u2 = Math.log(a3), h2 = 0.5 * Math.exp(2 * u2 / 3), c4 = 0.5 * Math.sqrt(u2 * h2 * (a3 - h2) / a3) * (l3 - a3 / 2 < 0 ? -1 : 1);
            t51(i11, n12, Math.max(r10, Math.floor(n12 - l3 * h2 / a3 + c4)), Math.min(o7, Math.floor(n12 + (a3 - l3) * h2 / a3 + c4)), s11);
          }
          var p10 = i11[n12], d4 = r10, f2 = o7;
          for (e10(i11, r10, n12), s11(i11[o7], p10) > 0 && e10(i11, r10, o7); d4 < f2; ) {
            for (e10(i11, d4, f2), d4++, f2--; s11(i11[d4], p10) < 0; )
              d4++;
            for (; s11(i11[f2], p10) > 0; )
              f2--;
          }
          0 === s11(i11[r10], p10) ? e10(i11, r10, f2) : e10(i11, ++f2, o7), f2 <= n12 && (r10 = f2 + 1), n12 <= f2 && (o7 = f2 - 1);
        }
      }, "t")(t50, n11, r6 || 0, o6 || t50.length - 1, s10 || i10);
    }
    function e10(t50, e11, i11) {
      var n11 = t50[e11];
      t50[e11] = t50[i11], t50[i11] = n11;
    }
    function i10(t50, e11) {
      return t50 < e11 ? -1 : t50 > e11 ? 1 : 0;
    }
    q(t49, "t"), q(e10, "i"), q(i10, "n");
    var n10 = q(function(t50) {
      void 0 === t50 && (t50 = 9), this._maxEntries = Math.max(4, t50), this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries)), this.clear();
    }, "r");
    function r(t50, e11, i11) {
      if (!i11)
        return e11.indexOf(t50);
      for (var n11 = 0; n11 < e11.length; n11++)
        if (i11(t50, e11[n11]))
          return n11;
      return -1;
    }
    function o3(t50, e11) {
      s6(t50, 0, t50.children.length, e11, t50);
    }
    function s6(t50, e11, i11, n11, r6) {
      r6 || (r6 = g(null)), r6.minX = 1 / 0, r6.minY = 1 / 0, r6.maxX = -1 / 0, r6.maxY = -1 / 0;
      for (var o6 = e11; o6 < i11; o6++) {
        var s10 = t50.children[o6];
        a(r6, t50.leaf ? n11(s10) : s10);
      }
      return r6;
    }
    function a(t50, e11) {
      return t50.minX = Math.min(t50.minX, e11.minX), t50.minY = Math.min(t50.minY, e11.minY), t50.maxX = Math.max(t50.maxX, e11.maxX), t50.maxY = Math.max(t50.maxY, e11.maxY), t50;
    }
    function l(t50, e11) {
      return t50.minX - e11.minX;
    }
    function h(t50, e11) {
      return t50.minY - e11.minY;
    }
    function c2(t50) {
      return (t50.maxX - t50.minX) * (t50.maxY - t50.minY);
    }
    function p4(t50) {
      return t50.maxX - t50.minX + (t50.maxY - t50.minY);
    }
    function d(t50, e11) {
      return t50.minX <= e11.minX && t50.minY <= e11.minY && e11.maxX <= t50.maxX && e11.maxY <= t50.maxY;
    }
    function f(t50, e11) {
      return e11.minX <= t50.maxX && e11.minY <= t50.maxY && e11.maxX >= t50.minX && e11.maxY >= t50.minY;
    }
    function g(t50) {
      return { children: t50, height: 1, leaf: true, minX: 1 / 0, minY: 1 / 0, maxX: -1 / 0, maxY: -1 / 0 };
    }
    function m(e11, i11, n11, r6, o6) {
      for (var s10 = [i11, n11]; s10.length; )
        if (!((n11 = s10.pop()) - (i11 = s10.pop()) <= r6)) {
          var a3 = i11 + Math.ceil((n11 - i11) / r6 / 2) * r6;
          t49(e11, a3, i11, n11, o6), s10.push(i11, a3, a3, n11);
        }
    }
    return q(r, "e"), q(o3, "a"), q(s6, "h"), q(a, "o"), q(l, "s"), q(h, "l"), q(c2, "f"), q(p4, "u"), q(d, "m"), q(f, "c"), q(g, "p"), q(m, "d"), n10.prototype.all = function() {
      return this._all(this.data, []);
    }, n10.prototype.search = function(t50) {
      var e11 = this.data, i11 = [];
      if (!f(t50, e11))
        return i11;
      for (var n11 = this.toBBox, r6 = []; e11; ) {
        for (var o6 = 0; o6 < e11.children.length; o6++) {
          var s10 = e11.children[o6], a3 = e11.leaf ? n11(s10) : s10;
          f(t50, a3) && (e11.leaf ? i11.push(s10) : d(t50, a3) ? this._all(s10, i11) : r6.push(s10));
        }
        e11 = r6.pop();
      }
      return i11;
    }, n10.prototype.collides = function(t50) {
      var e11 = this.data;
      if (!f(t50, e11))
        return false;
      for (var i11 = []; e11; ) {
        for (var n11 = 0; n11 < e11.children.length; n11++) {
          var r6 = e11.children[n11], o6 = e11.leaf ? this.toBBox(r6) : r6;
          if (f(t50, o6)) {
            if (e11.leaf || d(t50, o6))
              return true;
            i11.push(r6);
          }
        }
        e11 = i11.pop();
      }
      return false;
    }, n10.prototype.load = function(t50) {
      if (!t50 || !t50.length)
        return this;
      if (t50.length < this._minEntries) {
        for (var e11 = 0; e11 < t50.length; e11++)
          this.insert(t50[e11]);
        return this;
      }
      var i11 = this._build(t50.slice(), 0, t50.length - 1, 0);
      if (this.data.children.length)
        if (this.data.height === i11.height)
          this._splitRoot(this.data, i11);
        else {
          if (this.data.height < i11.height) {
            var n11 = this.data;
            this.data = i11, i11 = n11;
          }
          this._insert(i11, this.data.height - i11.height - 1, true);
        }
      else
        this.data = i11;
      return this;
    }, n10.prototype.insert = function(t50) {
      return t50 && this._insert(t50, this.data.height - 1), this;
    }, n10.prototype.clear = function() {
      return this.data = g([]), this;
    }, n10.prototype.remove = function(t50, e11) {
      if (!t50)
        return this;
      for (var i11, n11, o6, s10 = this.data, a3 = this.toBBox(t50), l3 = [], u2 = []; s10 || l3.length; ) {
        if (s10 || (s10 = l3.pop(), n11 = l3[l3.length - 1], i11 = u2.pop(), o6 = true), s10.leaf) {
          var h2 = r(t50, s10.children, e11);
          if (-1 !== h2)
            return s10.children.splice(h2, 1), l3.push(s10), this._condense(l3), this;
        }
        o6 || s10.leaf || !d(s10, a3) ? n11 ? (i11++, s10 = n11.children[i11], o6 = false) : s10 = null : (l3.push(s10), u2.push(i11), i11 = 0, n11 = s10, s10 = s10.children[0]);
      }
      return this;
    }, n10.prototype.toBBox = function(t50) {
      return t50;
    }, n10.prototype.compareMinX = function(t50, e11) {
      return t50.minX - e11.minX;
    }, n10.prototype.compareMinY = function(t50, e11) {
      return t50.minY - e11.minY;
    }, n10.prototype.toJSON = function() {
      return this.data;
    }, n10.prototype.fromJSON = function(t50) {
      return this.data = t50, this;
    }, n10.prototype._all = function(t50, e11) {
      for (var i11 = []; t50; )
        t50.leaf ? e11.push.apply(e11, t50.children) : i11.push.apply(i11, t50.children), t50 = i11.pop();
      return e11;
    }, n10.prototype._build = function(t50, e11, i11, n11) {
      var r6, s10 = i11 - e11 + 1, a3 = this._maxEntries;
      if (s10 <= a3)
        return o3(r6 = g(t50.slice(e11, i11 + 1)), this.toBBox), r6;
      n11 || (n11 = Math.ceil(Math.log(s10) / Math.log(a3)), a3 = Math.ceil(s10 / Math.pow(a3, n11 - 1))), (r6 = g([])).leaf = false, r6.height = n11;
      var l3 = Math.ceil(s10 / a3), u2 = l3 * Math.ceil(Math.sqrt(a3));
      m(t50, e11, i11, u2, this.compareMinX);
      for (var h2 = e11; h2 <= i11; h2 += u2) {
        var c4 = Math.min(h2 + u2 - 1, i11);
        m(t50, h2, c4, l3, this.compareMinY);
        for (var p10 = h2; p10 <= c4; p10 += l3) {
          var d4 = Math.min(p10 + l3 - 1, c4);
          r6.children.push(this._build(t50, p10, d4, n11 - 1));
        }
      }
      return o3(r6, this.toBBox), r6;
    }, n10.prototype._chooseSubtree = function(t50, e11, i11, n11) {
      for (; n11.push(e11), !e11.leaf && n11.length - 1 !== i11; ) {
        for (var r6 = 1 / 0, o6 = 1 / 0, s10 = void 0, a3 = 0; a3 < e11.children.length; a3++) {
          var l3 = e11.children[a3], u2 = c2(l3), h2 = (p10 = t50, d4 = l3, (Math.max(d4.maxX, p10.maxX) - Math.min(d4.minX, p10.minX)) * (Math.max(d4.maxY, p10.maxY) - Math.min(d4.minY, p10.minY)) - u2);
          h2 < o6 ? (o6 = h2, r6 = u2 < r6 ? u2 : r6, s10 = l3) : h2 === o6 && u2 < r6 && (r6 = u2, s10 = l3);
        }
        e11 = s10 || e11.children[0];
      }
      var p10, d4;
      return e11;
    }, n10.prototype._insert = function(t50, e11, i11) {
      var n11 = i11 ? t50 : this.toBBox(t50), r6 = [], o6 = this._chooseSubtree(n11, this.data, e11, r6);
      for (o6.children.push(t50), a(o6, n11); e11 >= 0 && r6[e11].children.length > this._maxEntries; )
        this._split(r6, e11), e11--;
      this._adjustParentBBoxes(n11, r6, e11);
    }, n10.prototype._split = function(t50, e11) {
      var i11 = t50[e11], n11 = i11.children.length, r6 = this._minEntries;
      this._chooseSplitAxis(i11, r6, n11);
      var s10 = this._chooseSplitIndex(i11, r6, n11), a3 = g(i11.children.splice(s10, i11.children.length - s10));
      a3.height = i11.height, a3.leaf = i11.leaf, o3(i11, this.toBBox), o3(a3, this.toBBox), e11 ? t50[e11 - 1].children.push(a3) : this._splitRoot(i11, a3);
    }, n10.prototype._splitRoot = function(t50, e11) {
      this.data = g([t50, e11]), this.data.height = t50.height + 1, this.data.leaf = false, o3(this.data, this.toBBox);
    }, n10.prototype._chooseSplitIndex = function(t50, e11, i11) {
      for (var n11, r6, o6, a3, l3, u2, h2, p10 = 1 / 0, d4 = 1 / 0, f2 = e11; f2 <= i11 - e11; f2++) {
        var g4 = s6(t50, 0, f2, this.toBBox), m4 = s6(t50, f2, i11, this.toBBox), v4 = (r6 = g4, o6 = m4, a3 = Math.max(r6.minX, o6.minX), l3 = Math.max(r6.minY, o6.minY), u2 = Math.min(r6.maxX, o6.maxX), h2 = Math.min(r6.maxY, o6.maxY), Math.max(0, u2 - a3) * Math.max(0, h2 - l3)), y4 = c2(g4) + c2(m4);
        v4 < p10 ? (p10 = v4, n11 = f2, d4 = y4 < d4 ? y4 : d4) : v4 === p10 && y4 < d4 && (d4 = y4, n11 = f2);
      }
      return n11 || i11 - e11;
    }, n10.prototype._chooseSplitAxis = function(t50, e11, i11) {
      var n11 = t50.leaf ? this.compareMinX : l, r6 = t50.leaf ? this.compareMinY : h;
      this._allDistMargin(t50, e11, i11, n11) < this._allDistMargin(t50, e11, i11, r6) && t50.children.sort(n11);
    }, n10.prototype._allDistMargin = function(t50, e11, i11, n11) {
      t50.children.sort(n11);
      for (var r6 = this.toBBox, o6 = s6(t50, 0, e11, r6), l3 = s6(t50, i11 - e11, i11, r6), u2 = p4(o6) + p4(l3), h2 = e11; h2 < i11 - e11; h2++) {
        var c4 = t50.children[h2];
        a(o6, t50.leaf ? r6(c4) : c4), u2 += p4(o6);
      }
      for (var d4 = i11 - e11 - 1; d4 >= e11; d4--) {
        var f2 = t50.children[d4];
        a(l3, t50.leaf ? r6(f2) : f2), u2 += p4(l3);
      }
      return u2;
    }, n10.prototype._adjustParentBBoxes = function(t50, e11, i11) {
      for (var n11 = i11; n11 >= 0; n11--)
        a(e11[n11], t50);
    }, n10.prototype._condense = function(t50) {
      for (var e11 = t50.length - 1, i11 = void 0; e11 >= 0; e11--)
        0 === t50[e11].children.length ? e11 > 0 ? (i11 = t50[e11 - 1].children).splice(i11.indexOf(t50[e11]), 1) : this.clear() : o3(t50[e11], this.toBBox);
    }, n10;
  }, "object" == typeof t48 && typeof e6 < "u" ? e6.exports = n() : "function" == typeof define && define.amd ? define(n) : (i = i || self).RBush = n();
});
var BP = s((t48) => {
  "use strict";
  function e6(t49, e10, i10) {
    void 0 === i10 && (i10 = {});
    var n10 = { type: "Feature" };
    return (0 === i10.id || i10.id) && (n10.id = i10.id), i10.bbox && (n10.bbox = i10.bbox), n10.properties = e10 || {}, n10.geometry = t49, n10;
  }
  function i(t49, e10, i10) {
    switch (void 0 === i10 && (i10 = {}), t49) {
      case "Point":
        return n(e10).geometry;
      case "LineString":
        return a(e10).geometry;
      case "Polygon":
        return o3(e10).geometry;
      case "MultiPoint":
        return p4(e10).geometry;
      case "MultiLineString":
        return c2(e10).geometry;
      case "MultiPolygon":
        return d(e10).geometry;
      default:
        throw new Error(t49 + " is invalid");
    }
  }
  function n(t49, i10, n10) {
    if (void 0 === n10 && (n10 = {}), !t49)
      throw new Error("coordinates is required");
    if (!Array.isArray(t49))
      throw new Error("coordinates must be an Array");
    if (t49.length < 2)
      throw new Error("coordinates must be at least 2 numbers long");
    if (!A(t49[0]) || !A(t49[1]))
      throw new Error("coordinates must contain numbers");
    return e6({ type: "Point", coordinates: t49 }, i10, n10);
  }
  function r(t49, e10, i10) {
    return void 0 === i10 && (i10 = {}), h(t49.map(function(t50) {
      return n(t50, e10);
    }), i10);
  }
  function o3(t49, i10, n10) {
    void 0 === n10 && (n10 = {});
    for (var r6 = 0, o6 = t49; r6 < o6.length; r6++) {
      var s10 = o6[r6];
      if (s10.length < 4)
        throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
      for (var a3 = 0; a3 < s10[s10.length - 1].length; a3++)
        if (s10[s10.length - 1][a3] !== s10[0][a3])
          throw new Error("First and last Position are not equivalent.");
    }
    return e6({ type: "Polygon", coordinates: t49 }, i10, n10);
  }
  function s6(t49, e10, i10) {
    return void 0 === i10 && (i10 = {}), h(t49.map(function(t50) {
      return o3(t50, e10);
    }), i10);
  }
  function a(t49, i10, n10) {
    if (void 0 === n10 && (n10 = {}), t49.length < 2)
      throw new Error("coordinates must be an array of two or more positions");
    return e6({ type: "LineString", coordinates: t49 }, i10, n10);
  }
  function l(t49, e10, i10) {
    return void 0 === i10 && (i10 = {}), h(t49.map(function(t50) {
      return a(t50, e10);
    }), i10);
  }
  function h(t49, e10) {
    void 0 === e10 && (e10 = {});
    var i10 = { type: "FeatureCollection" };
    return e10.id && (i10.id = e10.id), e10.bbox && (i10.bbox = e10.bbox), i10.features = t49, i10;
  }
  function c2(t49, i10, n10) {
    return void 0 === n10 && (n10 = {}), e6({ type: "MultiLineString", coordinates: t49 }, i10, n10);
  }
  function p4(t49, i10, n10) {
    return void 0 === n10 && (n10 = {}), e6({ type: "MultiPoint", coordinates: t49 }, i10, n10);
  }
  function d(t49, i10, n10) {
    return void 0 === n10 && (n10 = {}), e6({ type: "MultiPolygon", coordinates: t49 }, i10, n10);
  }
  function f(t49, i10, n10) {
    return void 0 === n10 && (n10 = {}), e6({ type: "GeometryCollection", geometries: t49 }, i10, n10);
  }
  function g(t49, e10) {
    if (void 0 === e10 && (e10 = 0), e10 && !(e10 >= 0))
      throw new Error("precision must be a positive number");
    var i10 = Math.pow(10, e10 || 0);
    return Math.round(t49 * i10) / i10;
  }
  function m(e10, i10) {
    void 0 === i10 && (i10 = "kilometers");
    var n10 = t48.factors[i10];
    if (!n10)
      throw new Error(i10 + " units is invalid");
    return e10 * n10;
  }
  function v4(e10, i10) {
    void 0 === i10 && (i10 = "kilometers");
    var n10 = t48.factors[i10];
    if (!n10)
      throw new Error(i10 + " units is invalid");
    return e10 / n10;
  }
  function y4(t49, e10) {
    return _(v4(t49, e10));
  }
  function x4(t49) {
    var e10 = t49 % 360;
    return e10 < 0 && (e10 += 360), e10;
  }
  function _(t49) {
    return 180 * (t49 % (2 * Math.PI)) / Math.PI;
  }
  function b(t49) {
    return t49 % 360 * Math.PI / 180;
  }
  function M(t49, e10, i10) {
    if (void 0 === e10 && (e10 = "kilometers"), void 0 === i10 && (i10 = "kilometers"), !(t49 >= 0))
      throw new Error("length must be a positive number");
    return m(v4(t49, e10), i10);
  }
  function w4(e10, i10, n10) {
    if (void 0 === i10 && (i10 = "meters"), void 0 === n10 && (n10 = "kilometers"), !(e10 >= 0))
      throw new Error("area must be a positive number");
    var r6 = t48.areaFactors[i10];
    if (!r6)
      throw new Error("invalid original units");
    var o6 = t48.areaFactors[n10];
    if (!o6)
      throw new Error("invalid final units");
    return e10 / r6 * o6;
  }
  function A(t49) {
    return !isNaN(t49) && null !== t49 && !Array.isArray(t49);
  }
  function S(t49) {
    return !!t49 && t49.constructor === Object;
  }
  function T(t49) {
    if (!t49)
      throw new Error("bbox is required");
    if (!Array.isArray(t49))
      throw new Error("bbox must be an Array");
    if (4 !== t49.length && 6 !== t49.length)
      throw new Error("bbox must be an Array of 4 or 6 numbers");
    t49.forEach(function(t50) {
      if (!A(t50))
        throw new Error("bbox must only contain numbers");
    });
  }
  function C(t49) {
    if (!t49)
      throw new Error("id is required");
    if (-1 === ["string", "number"].indexOf(typeof t49))
      throw new Error("id must be a number or a string");
  }
  c(), Object.defineProperty(t48, "__esModule", { value: true }), t48.earthRadius = 63710088e-1, t48.factors = { centimeters: 100 * t48.earthRadius, centimetres: 100 * t48.earthRadius, degrees: t48.earthRadius / 111325, feet: 3.28084 * t48.earthRadius, inches: 39.37 * t48.earthRadius, kilometers: t48.earthRadius / 1e3, kilometres: t48.earthRadius / 1e3, meters: t48.earthRadius, metres: t48.earthRadius, miles: t48.earthRadius / 1609.344, millimeters: 1e3 * t48.earthRadius, millimetres: 1e3 * t48.earthRadius, nauticalmiles: t48.earthRadius / 1852, radians: 1, yards: 1.0936 * t48.earthRadius }, t48.unitsFactors = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1e-3, kilometres: 1e-3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / t48.earthRadius, yards: 1.0936133 }, t48.areaFactors = { acres: 247105e-9, centimeters: 1e4, centimetres: 1e4, feet: 10.763910417, hectares: 1e-4, inches: 1550.003100006, kilometers: 1e-6, kilometres: 1e-6, meters: 1, metres: 1, miles: 386e-9, millimeters: 1e6, millimetres: 1e6, yards: 1.195990046 }, q(e6, "feature"), t48.feature = e6, q(i, "geometry"), t48.geometry = i, q(n, "point"), t48.point = n, q(r, "points"), t48.points = r, q(o3, "polygon"), t48.polygon = o3, q(s6, "polygons"), t48.polygons = s6, q(a, "lineString"), t48.lineString = a, q(l, "lineStrings"), t48.lineStrings = l, q(h, "featureCollection"), t48.featureCollection = h, q(c2, "multiLineString"), t48.multiLineString = c2, q(p4, "multiPoint"), t48.multiPoint = p4, q(d, "multiPolygon"), t48.multiPolygon = d, q(f, "geometryCollection"), t48.geometryCollection = f, q(g, "round"), t48.round = g, q(m, "radiansToLength"), t48.radiansToLength = m, q(v4, "lengthToRadians"), t48.lengthToRadians = v4, q(y4, "lengthToDegrees"), t48.lengthToDegrees = y4, q(x4, "bearingToAzimuth"), t48.bearingToAzimuth = x4, q(_, "radiansToDegrees"), t48.radiansToDegrees = _, q(b, "degreesToRadians"), t48.degreesToRadians = b, q(M, "convertLength"), t48.convertLength = M, q(w4, "convertArea"), t48.convertArea = w4, q(A, "isNumber"), t48.isNumber = A, q(S, "isObject"), t48.isObject = S, q(T, "validateBBox"), t48.validateBBox = T, q(C, "validateId"), t48.validateId = C;
});
var qP = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true });
  var e6 = BP();
  function i(t49, e10, n10) {
    if (null !== t49)
      for (var r6, o6, s10, a3, l3, u2, h2, c4, p10 = 0, d4 = 0, f2 = t49.type, g4 = "FeatureCollection" === f2, m4 = "Feature" === f2, v10 = g4 ? t49.features.length : 1, y10 = 0; y10 < v10; y10++) {
        l3 = (c4 = !!(h2 = g4 ? t49.features[y10].geometry : m4 ? t49.geometry : t49) && "GeometryCollection" === h2.type) ? h2.geometries.length : 1;
        for (var x10 = 0; x10 < l3; x10++) {
          var _ = 0, b = 0;
          if (null !== (a3 = c4 ? h2.geometries[x10] : h2)) {
            u2 = a3.coordinates;
            var M = a3.type;
            switch (p10 = !n10 || "Polygon" !== M && "MultiPolygon" !== M ? 0 : 1, M) {
              case null:
                break;
              case "Point":
                if (false === e10(u2, d4, y10, _, b))
                  return false;
                d4++, _++;
                break;
              case "LineString":
              case "MultiPoint":
                for (r6 = 0; r6 < u2.length; r6++) {
                  if (false === e10(u2[r6], d4, y10, _, b))
                    return false;
                  d4++, "MultiPoint" === M && _++;
                }
                "LineString" === M && _++;
                break;
              case "Polygon":
              case "MultiLineString":
                for (r6 = 0; r6 < u2.length; r6++) {
                  for (o6 = 0; o6 < u2[r6].length - p10; o6++) {
                    if (false === e10(u2[r6][o6], d4, y10, _, b))
                      return false;
                    d4++;
                  }
                  "MultiLineString" === M && _++, "Polygon" === M && b++;
                }
                "Polygon" === M && _++;
                break;
              case "MultiPolygon":
                for (r6 = 0; r6 < u2.length; r6++) {
                  for (b = 0, o6 = 0; o6 < u2[r6].length; o6++) {
                    for (s10 = 0; s10 < u2[r6][o6].length - p10; s10++) {
                      if (false === e10(u2[r6][o6][s10], d4, y10, _, b))
                        return false;
                      d4++;
                    }
                    b++;
                  }
                  _++;
                }
                break;
              case "GeometryCollection":
                for (r6 = 0; r6 < a3.geometries.length; r6++)
                  if (false === i(a3.geometries[r6], e10, n10))
                    return false;
                break;
              default:
                throw new Error("Unknown Geometry Type");
            }
          }
        }
      }
  }
  function n(t49, e10, n10, r6) {
    var o6 = n10;
    return i(t49, function(t50, i10, r10, s10, a3) {
      o6 = 0 === i10 && void 0 === n10 ? t50 : e10(o6, t50, i10, r10, s10, a3);
    }, r6), o6;
  }
  function r(t49, e10) {
    var i10;
    switch (t49.type) {
      case "FeatureCollection":
        for (i10 = 0; i10 < t49.features.length && false !== e10(t49.features[i10].properties, i10); i10++)
          ;
        break;
      case "Feature":
        e10(t49.properties, 0);
    }
  }
  function o3(t49, e10, i10) {
    var n10 = i10;
    return r(t49, function(t50, r6) {
      n10 = 0 === r6 && void 0 === i10 ? t50 : e10(n10, t50, r6);
    }), n10;
  }
  function s6(t49, e10) {
    if ("Feature" === t49.type)
      e10(t49, 0);
    else if ("FeatureCollection" === t49.type)
      for (var i10 = 0; i10 < t49.features.length && false !== e10(t49.features[i10], i10); i10++)
        ;
  }
  function a(t49, e10, i10) {
    var n10 = i10;
    return s6(t49, function(t50, r6) {
      n10 = 0 === r6 && void 0 === i10 ? t50 : e10(n10, t50, r6);
    }), n10;
  }
  function l(t49) {
    var e10 = [];
    return i(t49, function(t50) {
      e10.push(t50);
    }), e10;
  }
  function h(t49, e10) {
    var i10, n10, r6, o6, s10, a3, l3, u2, h2, c4, p10 = 0, d4 = "FeatureCollection" === t49.type, f2 = "Feature" === t49.type, g4 = d4 ? t49.features.length : 1;
    for (i10 = 0; i10 < g4; i10++) {
      for (a3 = d4 ? t49.features[i10].geometry : f2 ? t49.geometry : t49, u2 = d4 ? t49.features[i10].properties : f2 ? t49.properties : {}, h2 = d4 ? t49.features[i10].bbox : f2 ? t49.bbox : void 0, c4 = d4 ? t49.features[i10].id : f2 ? t49.id : void 0, s10 = (l3 = !!a3 && "GeometryCollection" === a3.type) ? a3.geometries.length : 1, r6 = 0; r6 < s10; r6++)
        if (null !== (o6 = l3 ? a3.geometries[r6] : a3))
          switch (o6.type) {
            case "Point":
            case "LineString":
            case "MultiPoint":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon":
              if (false === e10(o6, p10, u2, h2, c4))
                return false;
              break;
            case "GeometryCollection":
              for (n10 = 0; n10 < o6.geometries.length; n10++)
                if (false === e10(o6.geometries[n10], p10, u2, h2, c4))
                  return false;
              break;
            default:
              throw new Error("Unknown Geometry Type");
          }
        else if (false === e10(null, p10, u2, h2, c4))
          return false;
      p10++;
    }
  }
  function c2(t49, e10, i10) {
    var n10 = i10;
    return h(t49, function(t50, r6, o6, s10, a3) {
      n10 = 0 === r6 && void 0 === i10 ? t50 : e10(n10, t50, r6, o6, s10, a3);
    }), n10;
  }
  function p4(t49, i10) {
    h(t49, function(t50, n10, r6, o6, s10) {
      var a3, l3 = null === t50 ? null : t50.type;
      switch (l3) {
        case null:
        case "Point":
        case "LineString":
        case "Polygon":
          return false !== i10(e6.feature(t50, r6, { bbox: o6, id: s10 }), n10, 0) && void 0;
      }
      switch (l3) {
        case "MultiPoint":
          a3 = "Point";
          break;
        case "MultiLineString":
          a3 = "LineString";
          break;
        case "MultiPolygon":
          a3 = "Polygon";
      }
      for (var u2 = 0; u2 < t50.coordinates.length; u2++) {
        var h2 = { type: a3, coordinates: t50.coordinates[u2] };
        if (false === i10(e6.feature(h2, r6), n10, u2))
          return false;
      }
    });
  }
  function d(t49, e10, i10) {
    var n10 = i10;
    return p4(t49, function(t50, r6, o6) {
      n10 = 0 === r6 && 0 === o6 && void 0 === i10 ? t50 : e10(n10, t50, r6, o6);
    }), n10;
  }
  function f(t49, n10) {
    p4(t49, function(t50, r6, o6) {
      var s10 = 0;
      if (t50.geometry) {
        var a3 = t50.geometry.type;
        if ("Point" !== a3 && "MultiPoint" !== a3) {
          var l3, u2 = 0, h2 = 0, c4 = 0;
          if (false === i(t50, function(i10, a7, p10, d4, f2) {
            if (void 0 === l3 || r6 > u2 || d4 > h2 || f2 > c4)
              return l3 = i10, u2 = r6, h2 = d4, c4 = f2, void (s10 = 0);
            var g4 = e6.lineString([l3, i10], t50.properties);
            if (false === n10(g4, r6, o6, f2, s10))
              return false;
            s10++, l3 = i10;
          }))
            return false;
        }
      }
    });
  }
  function g(t49, e10, i10) {
    var n10 = i10, r6 = false;
    return f(t49, function(t50, o6, s10, a3, l3) {
      n10 = false === r6 && void 0 === i10 ? t50 : e10(n10, t50, o6, s10, a3, l3), r6 = true;
    }), n10;
  }
  function m(t49, i10) {
    if (!t49)
      throw new Error("geojson is required");
    p4(t49, function(t50, n10, r6) {
      if (null !== t50.geometry) {
        var o6 = t50.geometry.type, s10 = t50.geometry.coordinates;
        switch (o6) {
          case "LineString":
            if (false === i10(t50, n10, r6, 0, 0))
              return false;
            break;
          case "Polygon":
            for (var a3 = 0; a3 < s10.length; a3++)
              if (false === i10(e6.lineString(s10[a3], t50.properties), n10, r6, a3))
                return false;
        }
      }
    });
  }
  function v4(t49, e10, i10) {
    var n10 = i10;
    return m(t49, function(t50, r6, o6, s10) {
      n10 = 0 === r6 && void 0 === i10 ? t50 : e10(n10, t50, r6, o6, s10);
    }), n10;
  }
  function y4(t49, i10) {
    if (i10 = i10 || {}, !e6.isObject(i10))
      throw new Error("options is invalid");
    var n10, r6 = i10.featureIndex || 0, o6 = i10.multiFeatureIndex || 0, s10 = i10.geometryIndex || 0, a3 = i10.segmentIndex || 0, l3 = i10.properties;
    switch (t49.type) {
      case "FeatureCollection":
        r6 < 0 && (r6 = t49.features.length + r6), l3 = l3 || t49.features[r6].properties, n10 = t49.features[r6].geometry;
        break;
      case "Feature":
        l3 = l3 || t49.properties, n10 = t49.geometry;
        break;
      case "Point":
      case "MultiPoint":
        return null;
      case "LineString":
      case "Polygon":
      case "MultiLineString":
      case "MultiPolygon":
        n10 = t49;
        break;
      default:
        throw new Error("geojson is invalid");
    }
    if (null === n10)
      return null;
    var u2 = n10.coordinates;
    switch (n10.type) {
      case "Point":
      case "MultiPoint":
        return null;
      case "LineString":
        return a3 < 0 && (a3 = u2.length + a3 - 1), e6.lineString([u2[a3], u2[a3 + 1]], l3, i10);
      case "Polygon":
        return s10 < 0 && (s10 = u2.length + s10), a3 < 0 && (a3 = u2[s10].length + a3 - 1), e6.lineString([u2[s10][a3], u2[s10][a3 + 1]], l3, i10);
      case "MultiLineString":
        return o6 < 0 && (o6 = u2.length + o6), a3 < 0 && (a3 = u2[o6].length + a3 - 1), e6.lineString([u2[o6][a3], u2[o6][a3 + 1]], l3, i10);
      case "MultiPolygon":
        return o6 < 0 && (o6 = u2.length + o6), s10 < 0 && (s10 = u2[o6].length + s10), a3 < 0 && (a3 = u2[o6][s10].length - a3 - 1), e6.lineString([u2[o6][s10][a3], u2[o6][s10][a3 + 1]], l3, i10);
    }
    throw new Error("geojson is invalid");
  }
  function x4(t49, i10) {
    if (i10 = i10 || {}, !e6.isObject(i10))
      throw new Error("options is invalid");
    var n10, r6 = i10.featureIndex || 0, o6 = i10.multiFeatureIndex || 0, s10 = i10.geometryIndex || 0, a3 = i10.coordIndex || 0, l3 = i10.properties;
    switch (t49.type) {
      case "FeatureCollection":
        r6 < 0 && (r6 = t49.features.length + r6), l3 = l3 || t49.features[r6].properties, n10 = t49.features[r6].geometry;
        break;
      case "Feature":
        l3 = l3 || t49.properties, n10 = t49.geometry;
        break;
      case "Point":
      case "MultiPoint":
        return null;
      case "LineString":
      case "Polygon":
      case "MultiLineString":
      case "MultiPolygon":
        n10 = t49;
        break;
      default:
        throw new Error("geojson is invalid");
    }
    if (null === n10)
      return null;
    var u2 = n10.coordinates;
    switch (n10.type) {
      case "Point":
        return e6.point(u2, l3, i10);
      case "MultiPoint":
        return o6 < 0 && (o6 = u2.length + o6), e6.point(u2[o6], l3, i10);
      case "LineString":
        return a3 < 0 && (a3 = u2.length + a3), e6.point(u2[a3], l3, i10);
      case "Polygon":
        return s10 < 0 && (s10 = u2.length + s10), a3 < 0 && (a3 = u2[s10].length + a3), e6.point(u2[s10][a3], l3, i10);
      case "MultiLineString":
        return o6 < 0 && (o6 = u2.length + o6), a3 < 0 && (a3 = u2[o6].length + a3), e6.point(u2[o6][a3], l3, i10);
      case "MultiPolygon":
        return o6 < 0 && (o6 = u2.length + o6), s10 < 0 && (s10 = u2[o6].length + s10), a3 < 0 && (a3 = u2[o6][s10].length - a3), e6.point(u2[o6][s10][a3], l3, i10);
    }
    throw new Error("geojson is invalid");
  }
  q(i, "coordEach"), q(n, "coordReduce"), q(r, "propEach"), q(o3, "propReduce"), q(s6, "featureEach"), q(a, "featureReduce"), q(l, "coordAll"), q(h, "geomEach"), q(c2, "geomReduce"), q(p4, "flattenEach"), q(d, "flattenReduce"), q(f, "segmentEach"), q(g, "segmentReduce"), q(m, "lineEach"), q(v4, "lineReduce"), q(y4, "findSegment"), q(x4, "findPoint"), t48.coordAll = l, t48.coordEach = i, t48.coordReduce = n, t48.featureEach = s6, t48.featureReduce = a, t48.findPoint = x4, t48.findSegment = y4, t48.flattenEach = p4, t48.flattenReduce = d, t48.geomEach = h, t48.geomReduce = c2, t48.lineEach = m, t48.lineReduce = v4, t48.propEach = r, t48.propReduce = o3, t48.segmentEach = f, t48.segmentReduce = g;
});
var hU = s((t48) => {
  "use strict";
  c(), Object.defineProperty(t48, "__esModule", { value: true });
  var e6 = qP();
  function i(t49) {
    var i10 = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
    return e6.coordEach(t49, function(t50) {
      i10[0] > t50[0] && (i10[0] = t50[0]), i10[1] > t50[1] && (i10[1] = t50[1]), i10[2] < t50[0] && (i10[2] = t50[0]), i10[3] < t50[1] && (i10[3] = t50[1]);
    }), i10;
  }
  q(i, "bbox"), i.default = i, t48.default = i;
});
var Ww = s((t48, e6) => {
  c();
  var i = tU(), n = BP(), r = qP(), o3 = hU().default, s6 = r.featureEach, a = (r.coordEach, n.polygon, n.featureCollection);
  function l(t49) {
    var e10 = new i(t49);
    return e10.insert = function(t50) {
      if ("Feature" !== t50.type)
        throw new Error("invalid feature");
      return t50.bbox = t50.bbox ? t50.bbox : o3(t50), i.prototype.insert.call(this, t50);
    }, e10.load = function(t50) {
      var e11 = [];
      return Array.isArray(t50) ? t50.forEach(function(t51) {
        if ("Feature" !== t51.type)
          throw new Error("invalid features");
        t51.bbox = t51.bbox ? t51.bbox : o3(t51), e11.push(t51);
      }) : s6(t50, function(t51) {
        if ("Feature" !== t51.type)
          throw new Error("invalid features");
        t51.bbox = t51.bbox ? t51.bbox : o3(t51), e11.push(t51);
      }), i.prototype.load.call(this, e11);
    }, e10.remove = function(t50, e11) {
      if ("Feature" !== t50.type)
        throw new Error("invalid feature");
      return t50.bbox = t50.bbox ? t50.bbox : o3(t50), i.prototype.remove.call(this, t50, e11);
    }, e10.clear = function() {
      return i.prototype.clear.call(this);
    }, e10.search = function(t50) {
      var e11 = i.prototype.search.call(this, this.toBBox(t50));
      return a(e11);
    }, e10.collides = function(t50) {
      return i.prototype.collides.call(this, this.toBBox(t50));
    }, e10.all = function() {
      var t50 = i.prototype.all.call(this);
      return a(t50);
    }, e10.toJSON = function() {
      return i.prototype.toJSON.call(this);
    }, e10.fromJSON = function(t50) {
      return i.prototype.fromJSON.call(this, t50);
    }, e10.toBBox = function(t50) {
      var e11;
      if (t50.bbox)
        e11 = t50.bbox;
      else if (Array.isArray(t50) && 4 === t50.length)
        e11 = t50;
      else if (Array.isArray(t50) && 6 === t50.length)
        e11 = [t50[0], t50[1], t50[3], t50[4]];
      else if ("Feature" === t50.type)
        e11 = o3(t50);
      else {
        if ("FeatureCollection" !== t50.type)
          throw new Error("invalid geojson");
        e11 = o3(t50);
      }
      return { minX: e11[0], minY: e11[1], maxX: e11[2], maxY: e11[3] };
    }, e10;
  }
  q(l, "geojsonRbush"), e6.exports = l, e6.exports.default = l;
});
var WP = s((t48, e6) => {
  "use strict";
  c();
  var i = Object.prototype.toString;
  e6.exports = q(function(t49) {
    var e10 = i.call(t49), n = "[object Arguments]" === e10;
    return n || (n = "[object Array]" !== e10 && null !== t49 && "object" == typeof t49 && "number" == typeof t49.length && t49.length >= 0 && "[object Function]" === i.call(t49.callee)), n;
  }, "isArguments");
});
var NU = s((t48, e6) => {
  "use strict";
  var i, n, r, o3, s6, a, l, h, c2, p4, d, f;
  c(), Object.keys || (n = Object.prototype.hasOwnProperty, r = Object.prototype.toString, o3 = WP(), s6 = Object.prototype.propertyIsEnumerable, a = !s6.call({ toString: null }, "toString"), l = s6.call(function() {
  }, "prototype"), h = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], c2 = q(function(t49) {
    var e10 = t49.constructor;
    return e10 && e10.prototype === t49;
  }, "equalsConstructorPrototype"), p4 = { $applicationCache: true, $console: true, $external: true, $frame: true, $frameElement: true, $frames: true, $innerHeight: true, $innerWidth: true, $onmozfullscreenchange: true, $onmozfullscreenerror: true, $outerHeight: true, $outerWidth: true, $pageXOffset: true, $pageYOffset: true, $parent: true, $scrollLeft: true, $scrollTop: true, $scrollX: true, $scrollY: true, $self: true, $webkitIndexedDB: true, $webkitStorageInfo: true, $window: true }, d = function() {
    if (typeof window > "u")
      return false;
    for (var t49 in window)
      try {
        if (!p4["$" + t49] && n.call(window, t49) && null !== window[t49] && "object" == typeof window[t49])
          try {
            c2(window[t49]);
          } catch {
            return true;
          }
      } catch {
        return true;
      }
    return false;
  }(), f = q(function(t49) {
    if (typeof window > "u" || !d)
      return c2(t49);
    try {
      return c2(t49);
    } catch {
      return false;
    }
  }, "equalsConstructorPrototypeIfNotBuggy"), i = q(function(t49) {
    var e10 = null !== t49 && "object" == typeof t49, i10 = "[object Function]" === r.call(t49), s10 = o3(t49), u2 = e10 && "[object String]" === r.call(t49), c4 = [];
    if (!e10 && !i10 && !s10)
      throw new TypeError("Object.keys called on a non-object");
    var p10 = l && i10;
    if (u2 && t49.length > 0 && !n.call(t49, 0))
      for (var d4 = 0; d4 < t49.length; ++d4)
        c4.push(String(d4));
    if (s10 && t49.length > 0)
      for (var g = 0; g < t49.length; ++g)
        c4.push(String(g));
    else
      for (var m in t49)
        (!p10 || "prototype" !== m) && n.call(t49, m) && c4.push(String(m));
    if (a)
      for (var v4 = f(t49), y4 = 0; y4 < h.length; ++y4)
        (!v4 || "constructor" !== h[y4]) && n.call(t49, h[y4]) && c4.push(h[y4]);
    return c4;
  }, "keys")), e6.exports = i;
});
var Kw = s((t48, e6) => {
  "use strict";
  c();
  var i = Array.prototype.slice, n = WP(), r = Object.keys, o3 = r ? q(function(t49) {
    return r(t49);
  }, "keys") : NU(), s6 = Object.keys;
  o3.shim = q(function() {
    if (Object.keys) {
      var t49 = function() {
        var t50 = Object.keys(arguments);
        return t50 && t50.length === arguments.length;
      }(1, 2);
      t49 || (Object.keys = q(function(t50) {
        return n(t50) ? s6(i.call(t50)) : s6(t50);
      }, "keys"));
    } else
      Object.keys = o3;
    return Object.keys || o3;
  }, "shimObjectKeys"), e6.exports = o3;
});
var FU = s((t48, e6) => {
  "use strict";
  c(), e6.exports = q(function() {
    if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
      return false;
    if ("symbol" == typeof Symbol.iterator)
      return true;
    var t49 = {}, e10 = Symbol("test"), i = Object(e10);
    if ("string" == typeof e10 || "[object Symbol]" !== Object.prototype.toString.call(e10) || "[object Symbol]" !== Object.prototype.toString.call(i))
      return false;
    for (e10 in t49[e10] = 42, t49)
      return false;
    if ("function" == typeof Object.keys && 0 !== Object.keys(t49).length || "function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(t49).length)
      return false;
    var n = Object.getOwnPropertySymbols(t49);
    if (1 !== n.length || n[0] !== e10 || !Object.prototype.propertyIsEnumerable.call(t49, e10))
      return false;
    if ("function" == typeof Object.getOwnPropertyDescriptor) {
      var r = Object.getOwnPropertyDescriptor(t49, e10);
      if (42 !== r.value || true !== r.enumerable)
        return false;
    }
    return true;
  }, "hasSymbols");
});
var ZP = s((t48, e6) => {
  "use strict";
  c();
  var i = FU();
  e6.exports = q(function() {
    return i() && !!Symbol.toStringTag;
  }, "hasToStringTagShams");
});
var GU = s((t48, e6) => {
  "use strict";
  c(), e6.exports = q(function() {
    if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
      return false;
    if ("symbol" == typeof Symbol.iterator)
      return true;
    var t49 = {}, e10 = Symbol("test"), i = Object(e10);
    if ("string" == typeof e10 || "[object Symbol]" !== Object.prototype.toString.call(e10) || "[object Symbol]" !== Object.prototype.toString.call(i))
      return false;
    for (e10 in t49[e10] = 42, t49)
      return false;
    if ("function" == typeof Object.keys && 0 !== Object.keys(t49).length || "function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(t49).length)
      return false;
    var n = Object.getOwnPropertySymbols(t49);
    if (1 !== n.length || n[0] !== e10 || !Object.prototype.propertyIsEnumerable.call(t49, e10))
      return false;
    if ("function" == typeof Object.getOwnPropertyDescriptor) {
      var r = Object.getOwnPropertyDescriptor(t49, e10);
      if (42 !== r.value || true !== r.enumerable)
        return false;
    }
    return true;
  }, "hasSymbols");
});
var jU = s((t48, e6) => {
  "use strict";
  c();
  var i = typeof Symbol < "u" && Symbol, n = GU();
  e6.exports = q(function() {
    return "function" == typeof i && "function" == typeof Symbol && "symbol" == typeof i("foo") && "symbol" == typeof Symbol("bar") && n();
  }, "hasNativeSymbols");
});
var YU = s((t48, e6) => {
  "use strict";
  c();
  var i = "Function.prototype.bind called on incompatible ", n = Array.prototype.slice, r = Object.prototype.toString, o3 = "[object Function]";
  e6.exports = q(function(t49) {
    var e10 = this;
    if ("function" != typeof e10 || r.call(e10) !== o3)
      throw new TypeError(i + e10);
    for (var s6, a = n.call(arguments, 1), l = q(function() {
      if (this instanceof s6) {
        var i10 = e10.apply(this, a.concat(n.call(arguments)));
        return Object(i10) === i10 ? i10 : this;
      }
      return e10.apply(t49, a.concat(n.call(arguments)));
    }, "binder"), h = Math.max(0, e10.length - a.length), c2 = [], p4 = 0; p4 < h; p4++)
      c2.push("$" + p4);
    if (s6 = Function("binder", "return function (" + c2.join(",") + "){ return binder.apply(this,arguments); }")(l), e10.prototype) {
      var d = q(function() {
      }, "Empty");
      d.prototype = e10.prototype, s6.prototype = new d(), d.prototype = null;
    }
    return s6;
  }, "bind");
});
var A1 = s((t48, e6) => {
  "use strict";
  c();
  var i = YU();
  e6.exports = Function.prototype.bind || i;
});
var KP = s((t48, e6) => {
  "use strict";
  c();
  var i = A1();
  e6.exports = i.call(Function.call, Object.prototype.hasOwnProperty);
});
var eI = s((t48, e6) => {
  "use strict";
  c();
  var i, n = SyntaxError, r = Function, o3 = TypeError, s6 = q(function(t49) {
    try {
      return r('"use strict"; return (' + t49 + ").constructor;")();
    } catch {
    }
  }, "getEvalledConstructor"), a = Object.getOwnPropertyDescriptor;
  if (a)
    try {
      a({}, "");
    } catch {
      a = null;
    }
  var l = q(function() {
    throw new o3();
  }, "throwTypeError"), h = a ? function() {
    try {
      return l;
    } catch {
      try {
        return a(arguments, "callee").get;
      } catch {
        return l;
      }
    }
  }() : l, c2 = jU()(), p4 = Object.getPrototypeOf || function(t49) {
    return t49.__proto__;
  }, d = {}, f = typeof Uint8Array > "u" ? i : p4(Uint8Array), g = { "%AggregateError%": typeof AggregateError > "u" ? i : AggregateError, "%Array%": Array, "%ArrayBuffer%": typeof ArrayBuffer > "u" ? i : ArrayBuffer, "%ArrayIteratorPrototype%": c2 ? p4([][Symbol.iterator]()) : i, "%AsyncFromSyncIteratorPrototype%": i, "%AsyncFunction%": d, "%AsyncGenerator%": d, "%AsyncGeneratorFunction%": d, "%AsyncIteratorPrototype%": d, "%Atomics%": typeof Atomics > "u" ? i : Atomics, "%BigInt%": typeof BigInt > "u" ? i : BigInt, "%Boolean%": Boolean, "%DataView%": typeof DataView > "u" ? i : DataView, "%Date%": Date, "%decodeURI%": decodeURI, "%decodeURIComponent%": decodeURIComponent, "%encodeURI%": encodeURI, "%encodeURIComponent%": encodeURIComponent, "%Error%": Error, "%eval%": eval, "%EvalError%": EvalError, "%Float32Array%": typeof Float32Array > "u" ? i : Float32Array, "%Float64Array%": typeof Float64Array > "u" ? i : Float64Array, "%FinalizationRegistry%": typeof FinalizationRegistry > "u" ? i : FinalizationRegistry, "%Function%": r, "%GeneratorFunction%": d, "%Int8Array%": typeof Int8Array > "u" ? i : Int8Array, "%Int16Array%": typeof Int16Array > "u" ? i : Int16Array, "%Int32Array%": typeof Int32Array > "u" ? i : Int32Array, "%isFinite%": isFinite, "%isNaN%": isNaN, "%IteratorPrototype%": c2 ? p4(p4([][Symbol.iterator]())) : i, "%JSON%": "object" == typeof JSON ? JSON : i, "%Map%": typeof Map > "u" ? i : Map, "%MapIteratorPrototype%": typeof Map > "u" || !c2 ? i : p4((/* @__PURE__ */ new Map())[Symbol.iterator]()), "%Math%": Math, "%Number%": Number, "%Object%": Object, "%parseFloat%": parseFloat, "%parseInt%": parseInt, "%Promise%": typeof Promise > "u" ? i : Promise, "%Proxy%": typeof Proxy > "u" ? i : Proxy, "%RangeError%": RangeError, "%ReferenceError%": ReferenceError, "%Reflect%": typeof Reflect > "u" ? i : Reflect, "%RegExp%": RegExp, "%Set%": typeof Set > "u" ? i : Set, "%SetIteratorPrototype%": typeof Set > "u" || !c2 ? i : p4((/* @__PURE__ */ new Set())[Symbol.iterator]()), "%SharedArrayBuffer%": typeof SharedArrayBuffer > "u" ? i : SharedArrayBuffer, "%String%": String, "%StringIteratorPrototype%": c2 ? p4(""[Symbol.iterator]()) : i, "%Symbol%": c2 ? Symbol : i, "%SyntaxError%": n, "%ThrowTypeError%": h, "%TypedArray%": f, "%TypeError%": o3, "%Uint8Array%": typeof Uint8Array > "u" ? i : Uint8Array, "%Uint8ClampedArray%": typeof Uint8ClampedArray > "u" ? i : Uint8ClampedArray, "%Uint16Array%": typeof Uint16Array > "u" ? i : Uint16Array, "%Uint32Array%": typeof Uint32Array > "u" ? i : Uint32Array, "%URIError%": URIError, "%WeakMap%": typeof WeakMap > "u" ? i : WeakMap, "%WeakRef%": typeof WeakRef > "u" ? i : WeakRef, "%WeakSet%": typeof WeakSet > "u" ? i : WeakSet }, m = q(function t49(e10) {
    var i10;
    if ("%AsyncFunction%" === e10)
      i10 = s6("async function () {}");
    else if ("%GeneratorFunction%" === e10)
      i10 = s6("function* () {}");
    else if ("%AsyncGeneratorFunction%" === e10)
      i10 = s6("async function* () {}");
    else if ("%AsyncGenerator%" === e10) {
      var n10 = t49("%AsyncGeneratorFunction%");
      n10 && (i10 = n10.prototype);
    } else if ("%AsyncIteratorPrototype%" === e10) {
      var r6 = t49("%AsyncGenerator%");
      r6 && (i10 = p4(r6.prototype));
    }
    return g[e10] = i10, i10;
  }, "doEval"), v4 = { "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"], "%ArrayPrototype%": ["Array", "prototype"], "%ArrayProto_entries%": ["Array", "prototype", "entries"], "%ArrayProto_forEach%": ["Array", "prototype", "forEach"], "%ArrayProto_keys%": ["Array", "prototype", "keys"], "%ArrayProto_values%": ["Array", "prototype", "values"], "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"], "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"], "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"], "%BooleanPrototype%": ["Boolean", "prototype"], "%DataViewPrototype%": ["DataView", "prototype"], "%DatePrototype%": ["Date", "prototype"], "%ErrorPrototype%": ["Error", "prototype"], "%EvalErrorPrototype%": ["EvalError", "prototype"], "%Float32ArrayPrototype%": ["Float32Array", "prototype"], "%Float64ArrayPrototype%": ["Float64Array", "prototype"], "%FunctionPrototype%": ["Function", "prototype"], "%Generator%": ["GeneratorFunction", "prototype"], "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"], "%Int8ArrayPrototype%": ["Int8Array", "prototype"], "%Int16ArrayPrototype%": ["Int16Array", "prototype"], "%Int32ArrayPrototype%": ["Int32Array", "prototype"], "%JSONParse%": ["JSON", "parse"], "%JSONStringify%": ["JSON", "stringify"], "%MapPrototype%": ["Map", "prototype"], "%NumberPrototype%": ["Number", "prototype"], "%ObjectPrototype%": ["Object", "prototype"], "%ObjProto_toString%": ["Object", "prototype", "toString"], "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"], "%PromisePrototype%": ["Promise", "prototype"], "%PromiseProto_then%": ["Promise", "prototype", "then"], "%Promise_all%": ["Promise", "all"], "%Promise_reject%": ["Promise", "reject"], "%Promise_resolve%": ["Promise", "resolve"], "%RangeErrorPrototype%": ["RangeError", "prototype"], "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"], "%RegExpPrototype%": ["RegExp", "prototype"], "%SetPrototype%": ["Set", "prototype"], "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"], "%StringPrototype%": ["String", "prototype"], "%SymbolPrototype%": ["Symbol", "prototype"], "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"], "%TypedArrayPrototype%": ["TypedArray", "prototype"], "%TypeErrorPrototype%": ["TypeError", "prototype"], "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"], "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"], "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"], "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"], "%URIErrorPrototype%": ["URIError", "prototype"], "%WeakMapPrototype%": ["WeakMap", "prototype"], "%WeakSetPrototype%": ["WeakSet", "prototype"] }, y4 = A1(), x4 = KP(), _ = y4.call(Function.call, Array.prototype.concat), b = y4.call(Function.apply, Array.prototype.splice), M = y4.call(Function.call, String.prototype.replace), w4 = y4.call(Function.call, String.prototype.slice), A = y4.call(Function.call, RegExp.prototype.exec), S = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g, T = /\\(\\)?/g, C = q(function(t49) {
    var e10 = w4(t49, 0, 1), i10 = w4(t49, -1);
    if ("%" === e10 && "%" !== i10)
      throw new n("invalid intrinsic syntax, expected closing `%`");
    if ("%" === i10 && "%" !== e10)
      throw new n("invalid intrinsic syntax, expected opening `%`");
    var r6 = [];
    return M(t49, S, function(t50, e11, i11, n10) {
      r6[r6.length] = i11 ? M(n10, T, "$1") : e11 || t50;
    }), r6;
  }, "stringToPath"), P = q(function(t49, e10) {
    var i10, r6 = t49;
    if (x4(v4, r6) && (r6 = "%" + (i10 = v4[r6])[0] + "%"), x4(g, r6)) {
      var s10 = g[r6];
      if (s10 === d && (s10 = m(r6)), typeof s10 > "u" && !e10)
        throw new o3("intrinsic " + t49 + " exists, but is not available. Please file an issue!");
      return { alias: i10, name: r6, value: s10 };
    }
    throw new n("intrinsic " + t49 + " does not exist!");
  }, "getBaseIntrinsic");
  e6.exports = q(function(t49, e10) {
    if ("string" != typeof t49 || 0 === t49.length)
      throw new o3("intrinsic name must be a non-empty string");
    if (arguments.length > 1 && "boolean" != typeof e10)
      throw new o3('"allowMissing" argument must be a boolean');
    if (null === A(/^%?[^%]*%?$/g, t49))
      throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
    var i10 = C(t49), r6 = i10.length > 0 ? i10[0] : "", s10 = P("%" + r6 + "%", e10), l3 = s10.name, u2 = s10.value, h2 = false, c4 = s10.alias;
    c4 && (r6 = c4[0], b(i10, _([0, 1], c4)));
    for (var p10 = 1, d4 = true; p10 < i10.length; p10 += 1) {
      var f2 = i10[p10], m4 = w4(f2, 0, 1), v10 = w4(f2, -1);
      if (('"' === m4 || "'" === m4 || "`" === m4 || '"' === v10 || "'" === v10 || "`" === v10) && m4 !== v10)
        throw new n("property names with quotes must have matching quotes");
      if (("constructor" === f2 || !d4) && (h2 = true), x4(g, l3 = "%" + (r6 += "." + f2) + "%"))
        u2 = g[l3];
      else if (null != u2) {
        if (!(f2 in u2)) {
          if (!e10)
            throw new o3("base intrinsic for " + t49 + " exists, but the property is not available.");
          return;
        }
        if (a && p10 + 1 >= i10.length) {
          var y10 = a(u2, f2);
          u2 = (d4 = !!y10) && "get" in y10 && !("originalValue" in y10.get) ? y10.get : u2[f2];
        } else
          d4 = x4(u2, f2), u2 = u2[f2];
        d4 && !h2 && (g[l3] = u2);
      }
    }
    return u2;
  }, "GetIntrinsic");
});
var tM = s((t48, e6) => {
  "use strict";
  c();
  var i = A1(), n = eI(), r = n("%Function.prototype.apply%"), o3 = n("%Function.prototype.call%"), s6 = n("%Reflect.apply%", true) || i.call(o3, r), a = n("%Object.getOwnPropertyDescriptor%", true), l = n("%Object.defineProperty%", true), h = n("%Math.max%");
  if (l)
    try {
      l({}, "a", { value: 1 });
    } catch {
      l = null;
    }
  e6.exports = q(function(t49) {
    var e10 = s6(i, o3, arguments);
    if (a && l) {
      var n10 = a(e10, "length");
      n10.configurable && l(e10, "length", { value: 1 + h(0, t49.length - (arguments.length - 1)) });
    }
    return e10;
  }, "callBind");
  var c2 = q(function() {
    return s6(i, r, arguments);
  }, "applyBind");
  l ? l(e6.exports, "apply", { value: c2 }) : e6.exports.apply = c2;
});
var nI = s((t48, e6) => {
  "use strict";
  c();
  var i = eI(), n = tM(), r = n(i("String.prototype.indexOf"));
  e6.exports = q(function(t49, e10) {
    var o3 = i(t49, !!e10);
    return "function" == typeof o3 && r(t49, ".prototype.") > -1 ? n(o3) : o3;
  }, "callBoundIntrinsic");
});
var cz = s((t48, e6) => {
  "use strict";
  c();
  var i = ZP()(), n = nI()("Object.prototype.toString"), r = q(function(t49) {
    return !(i && t49 && "object" == typeof t49 && Symbol.toStringTag in t49) && "[object Arguments]" === n(t49);
  }, "isArguments"), o3 = q(function(t49) {
    return !!r(t49) || null !== t49 && "object" == typeof t49 && "number" == typeof t49.length && t49.length >= 0 && "[object Array]" !== n(t49) && "[object Function]" === n(t49.callee);
  }, "isArguments"), s6 = function() {
    return r(arguments);
  }();
  r.isLegacyArguments = o3, e6.exports = s6 ? r : o3;
});
var sI = s((t48, e6) => {
  "use strict";
  c();
  var i = Kw(), n = "function" == typeof Symbol && "symbol" == typeof Symbol("foo"), r = Object.prototype.toString, o3 = Array.prototype.concat, s6 = Object.defineProperty, a = q(function(t49) {
    return "function" == typeof t49 && "[object Function]" === r.call(t49);
  }, "isFunction"), l = q(function() {
    var t49 = {};
    try {
      for (var e10 in s6(t49, "x", { enumerable: false, value: t49 }), t49)
        return false;
      return t49.x === t49;
    } catch {
      return false;
    }
  }, "arePropertyDescriptorsSupported"), h = s6 && l(), c2 = q(function(t49, e10, i10, n10) {
    e10 in t49 && (!a(n10) || !n10()) || (h ? s6(t49, e10, { configurable: true, enumerable: false, value: i10, writable: true }) : t49[e10] = i10);
  }, "defineProperty"), p4 = q(function(t49, e10) {
    var r6 = arguments.length > 2 ? arguments[2] : {}, s10 = i(e10);
    n && (s10 = o3.call(s10, Object.getOwnPropertySymbols(e10)));
    for (var a3 = 0; a3 < s10.length; a3 += 1)
      c2(t49, s10[a3], e10[s10[a3]], r6[s10[a3]]);
  }, "defineProperties");
  p4.supportsDescriptors = !!h, e6.exports = p4;
});
var oI = s((t48, e6) => {
  "use strict";
  c();
  var i = q(function(t49) {
    return t49 != t49;
  }, "numberIsNaN");
  e6.exports = q(function(t49, e10) {
    return 0 === t49 && 0 === e10 ? 1 / t49 == 1 / e10 : !!(t49 === e10 || i(t49) && i(e10));
  }, "is");
});
var aI = s((t48, e6) => {
  "use strict";
  c();
  var i = oI();
  e6.exports = q(function() {
    return "function" == typeof Object.is ? Object.is : i;
  }, "getPolyfill");
});
var yz = s((t48, e6) => {
  "use strict";
  c();
  var i = aI(), n = sI();
  e6.exports = q(function() {
    var t49 = i();
    return n(Object, { is: t49 }, { is: q(function() {
      return Object.is !== t49;
    }, "testObjectIs") }), t49;
  }, "shimObjectIs");
});
var wz = s((t48, e6) => {
  "use strict";
  c();
  var i = sI(), n = tM(), r = oI(), o3 = aI(), s6 = yz(), a = n(o3(), Object);
  i(a, { getPolyfill: o3, implementation: r, shim: s6 }), e6.exports = a;
});
var Az = s((t48, e6) => {
  "use strict";
  c();
  var i, n, r, o3, s6 = nI(), a = ZP()();
  a && (i = s6("Object.prototype.hasOwnProperty"), n = s6("RegExp.prototype.exec"), r = {}, l = q(function() {
    throw r;
  }, "throwRegexMarker"), o3 = { toString: l, valueOf: l }, "symbol" == typeof Symbol.toPrimitive && (o3[Symbol.toPrimitive] = l));
  var l, h = s6("Object.prototype.toString"), c2 = Object.getOwnPropertyDescriptor;
  e6.exports = q(a ? function(t49) {
    if (!t49 || "object" != typeof t49)
      return false;
    var e10 = c2(t49, "lastIndex");
    if (!(e10 && i(e10, "value")))
      return false;
    try {
      n(t49, o3);
    } catch (t50) {
      return t50 === r;
    }
  } : function(t49) {
    return !(!t49 || "object" != typeof t49 && "function" != typeof t49) && "[object RegExp]" === h(t49);
  }, "isRegex");
});
var Pz = s((t48, e6) => {
  "use strict";
  c(), e6.exports = q(function() {
    if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
      return false;
    if ("symbol" == typeof Symbol.iterator)
      return true;
    var t49 = {}, e10 = Symbol("test"), i = Object(e10);
    if ("string" == typeof e10 || "[object Symbol]" !== Object.prototype.toString.call(e10) || "[object Symbol]" !== Object.prototype.toString.call(i))
      return false;
    for (e10 in t49[e10] = 42, t49)
      return false;
    if ("function" == typeof Object.keys && 0 !== Object.keys(t49).length || "function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(t49).length)
      return false;
    var n = Object.getOwnPropertySymbols(t49);
    if (1 !== n.length || n[0] !== e10 || !Object.prototype.propertyIsEnumerable.call(t49, e10))
      return false;
    if ("function" == typeof Object.getOwnPropertyDescriptor) {
      var r = Object.getOwnPropertyDescriptor(t49, e10);
      if (42 !== r.value || true !== r.enumerable)
        return false;
    }
    return true;
  }, "hasSymbols");
});
var Lz = s((t48, e6) => {
  "use strict";
  c();
  var i = typeof Symbol < "u" && Symbol, n = Pz();
  e6.exports = q(function() {
    return "function" == typeof i && "function" == typeof Symbol && "symbol" == typeof i("foo") && "symbol" == typeof Symbol("bar") && n();
  }, "hasNativeSymbols");
});
var kz = s((t48, e6) => {
  "use strict";
  c();
  var i, n = SyntaxError, r = Function, o3 = TypeError, s6 = q(function(t49) {
    try {
      return r('"use strict"; return (' + t49 + ").constructor;")();
    } catch {
    }
  }, "getEvalledConstructor"), a = Object.getOwnPropertyDescriptor;
  if (a)
    try {
      a({}, "");
    } catch {
      a = null;
    }
  var l = q(function() {
    throw new o3();
  }, "throwTypeError"), h = a ? function() {
    try {
      return l;
    } catch {
      try {
        return a(arguments, "callee").get;
      } catch {
        return l;
      }
    }
  }() : l, c2 = Lz()(), p4 = Object.getPrototypeOf || function(t49) {
    return t49.__proto__;
  }, d = {}, f = typeof Uint8Array > "u" ? i : p4(Uint8Array), g = { "%AggregateError%": typeof AggregateError > "u" ? i : AggregateError, "%Array%": Array, "%ArrayBuffer%": typeof ArrayBuffer > "u" ? i : ArrayBuffer, "%ArrayIteratorPrototype%": c2 ? p4([][Symbol.iterator]()) : i, "%AsyncFromSyncIteratorPrototype%": i, "%AsyncFunction%": d, "%AsyncGenerator%": d, "%AsyncGeneratorFunction%": d, "%AsyncIteratorPrototype%": d, "%Atomics%": typeof Atomics > "u" ? i : Atomics, "%BigInt%": typeof BigInt > "u" ? i : BigInt, "%Boolean%": Boolean, "%DataView%": typeof DataView > "u" ? i : DataView, "%Date%": Date, "%decodeURI%": decodeURI, "%decodeURIComponent%": decodeURIComponent, "%encodeURI%": encodeURI, "%encodeURIComponent%": encodeURIComponent, "%Error%": Error, "%eval%": eval, "%EvalError%": EvalError, "%Float32Array%": typeof Float32Array > "u" ? i : Float32Array, "%Float64Array%": typeof Float64Array > "u" ? i : Float64Array, "%FinalizationRegistry%": typeof FinalizationRegistry > "u" ? i : FinalizationRegistry, "%Function%": r, "%GeneratorFunction%": d, "%Int8Array%": typeof Int8Array > "u" ? i : Int8Array, "%Int16Array%": typeof Int16Array > "u" ? i : Int16Array, "%Int32Array%": typeof Int32Array > "u" ? i : Int32Array, "%isFinite%": isFinite, "%isNaN%": isNaN, "%IteratorPrototype%": c2 ? p4(p4([][Symbol.iterator]())) : i, "%JSON%": "object" == typeof JSON ? JSON : i, "%Map%": typeof Map > "u" ? i : Map, "%MapIteratorPrototype%": typeof Map > "u" || !c2 ? i : p4((/* @__PURE__ */ new Map())[Symbol.iterator]()), "%Math%": Math, "%Number%": Number, "%Object%": Object, "%parseFloat%": parseFloat, "%parseInt%": parseInt, "%Promise%": typeof Promise > "u" ? i : Promise, "%Proxy%": typeof Proxy > "u" ? i : Proxy, "%RangeError%": RangeError, "%ReferenceError%": ReferenceError, "%Reflect%": typeof Reflect > "u" ? i : Reflect, "%RegExp%": RegExp, "%Set%": typeof Set > "u" ? i : Set, "%SetIteratorPrototype%": typeof Set > "u" || !c2 ? i : p4((/* @__PURE__ */ new Set())[Symbol.iterator]()), "%SharedArrayBuffer%": typeof SharedArrayBuffer > "u" ? i : SharedArrayBuffer, "%String%": String, "%StringIteratorPrototype%": c2 ? p4(""[Symbol.iterator]()) : i, "%Symbol%": c2 ? Symbol : i, "%SyntaxError%": n, "%ThrowTypeError%": h, "%TypedArray%": f, "%TypeError%": o3, "%Uint8Array%": typeof Uint8Array > "u" ? i : Uint8Array, "%Uint8ClampedArray%": typeof Uint8ClampedArray > "u" ? i : Uint8ClampedArray, "%Uint16Array%": typeof Uint16Array > "u" ? i : Uint16Array, "%Uint32Array%": typeof Uint32Array > "u" ? i : Uint32Array, "%URIError%": URIError, "%WeakMap%": typeof WeakMap > "u" ? i : WeakMap, "%WeakRef%": typeof WeakRef > "u" ? i : WeakRef, "%WeakSet%": typeof WeakSet > "u" ? i : WeakSet }, m = q(function t49(e10) {
    var i10;
    if ("%AsyncFunction%" === e10)
      i10 = s6("async function () {}");
    else if ("%GeneratorFunction%" === e10)
      i10 = s6("function* () {}");
    else if ("%AsyncGeneratorFunction%" === e10)
      i10 = s6("async function* () {}");
    else if ("%AsyncGenerator%" === e10) {
      var n10 = t49("%AsyncGeneratorFunction%");
      n10 && (i10 = n10.prototype);
    } else if ("%AsyncIteratorPrototype%" === e10) {
      var r6 = t49("%AsyncGenerator%");
      r6 && (i10 = p4(r6.prototype));
    }
    return g[e10] = i10, i10;
  }, "doEval"), v4 = { "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"], "%ArrayPrototype%": ["Array", "prototype"], "%ArrayProto_entries%": ["Array", "prototype", "entries"], "%ArrayProto_forEach%": ["Array", "prototype", "forEach"], "%ArrayProto_keys%": ["Array", "prototype", "keys"], "%ArrayProto_values%": ["Array", "prototype", "values"], "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"], "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"], "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"], "%BooleanPrototype%": ["Boolean", "prototype"], "%DataViewPrototype%": ["DataView", "prototype"], "%DatePrototype%": ["Date", "prototype"], "%ErrorPrototype%": ["Error", "prototype"], "%EvalErrorPrototype%": ["EvalError", "prototype"], "%Float32ArrayPrototype%": ["Float32Array", "prototype"], "%Float64ArrayPrototype%": ["Float64Array", "prototype"], "%FunctionPrototype%": ["Function", "prototype"], "%Generator%": ["GeneratorFunction", "prototype"], "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"], "%Int8ArrayPrototype%": ["Int8Array", "prototype"], "%Int16ArrayPrototype%": ["Int16Array", "prototype"], "%Int32ArrayPrototype%": ["Int32Array", "prototype"], "%JSONParse%": ["JSON", "parse"], "%JSONStringify%": ["JSON", "stringify"], "%MapPrototype%": ["Map", "prototype"], "%NumberPrototype%": ["Number", "prototype"], "%ObjectPrototype%": ["Object", "prototype"], "%ObjProto_toString%": ["Object", "prototype", "toString"], "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"], "%PromisePrototype%": ["Promise", "prototype"], "%PromiseProto_then%": ["Promise", "prototype", "then"], "%Promise_all%": ["Promise", "all"], "%Promise_reject%": ["Promise", "reject"], "%Promise_resolve%": ["Promise", "resolve"], "%RangeErrorPrototype%": ["RangeError", "prototype"], "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"], "%RegExpPrototype%": ["RegExp", "prototype"], "%SetPrototype%": ["Set", "prototype"], "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"], "%StringPrototype%": ["String", "prototype"], "%SymbolPrototype%": ["Symbol", "prototype"], "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"], "%TypedArrayPrototype%": ["TypedArray", "prototype"], "%TypeErrorPrototype%": ["TypeError", "prototype"], "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"], "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"], "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"], "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"], "%URIErrorPrototype%": ["URIError", "prototype"], "%WeakMapPrototype%": ["WeakMap", "prototype"], "%WeakSetPrototype%": ["WeakSet", "prototype"] }, y4 = A1(), x4 = KP(), _ = y4.call(Function.call, Array.prototype.concat), b = y4.call(Function.apply, Array.prototype.splice), M = y4.call(Function.call, String.prototype.replace), w4 = y4.call(Function.call, String.prototype.slice), A = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g, S = /\\(\\)?/g, T = q(function(t49) {
    var e10 = w4(t49, 0, 1), i10 = w4(t49, -1);
    if ("%" === e10 && "%" !== i10)
      throw new n("invalid intrinsic syntax, expected closing `%`");
    if ("%" === i10 && "%" !== e10)
      throw new n("invalid intrinsic syntax, expected opening `%`");
    var r6 = [];
    return M(t49, A, function(t50, e11, i11, n10) {
      r6[r6.length] = i11 ? M(n10, S, "$1") : e11 || t50;
    }), r6;
  }, "stringToPath"), C = q(function(t49, e10) {
    var i10, r6 = t49;
    if (x4(v4, r6) && (r6 = "%" + (i10 = v4[r6])[0] + "%"), x4(g, r6)) {
      var s10 = g[r6];
      if (s10 === d && (s10 = m(r6)), typeof s10 > "u" && !e10)
        throw new o3("intrinsic " + t49 + " exists, but is not available. Please file an issue!");
      return { alias: i10, name: r6, value: s10 };
    }
    throw new n("intrinsic " + t49 + " does not exist!");
  }, "getBaseIntrinsic");
  e6.exports = q(function(t49, e10) {
    if ("string" != typeof t49 || 0 === t49.length)
      throw new o3("intrinsic name must be a non-empty string");
    if (arguments.length > 1 && "boolean" != typeof e10)
      throw new o3('"allowMissing" argument must be a boolean');
    var i10 = T(t49), r6 = i10.length > 0 ? i10[0] : "", s10 = C("%" + r6 + "%", e10), l3 = s10.name, u2 = s10.value, h2 = false, c4 = s10.alias;
    c4 && (r6 = c4[0], b(i10, _([0, 1], c4)));
    for (var p10 = 1, d4 = true; p10 < i10.length; p10 += 1) {
      var f2 = i10[p10], m4 = w4(f2, 0, 1), v10 = w4(f2, -1);
      if (('"' === m4 || "'" === m4 || "`" === m4 || '"' === v10 || "'" === v10 || "`" === v10) && m4 !== v10)
        throw new n("property names with quotes must have matching quotes");
      if (("constructor" === f2 || !d4) && (h2 = true), x4(g, l3 = "%" + (r6 += "." + f2) + "%"))
        u2 = g[l3];
      else if (null != u2) {
        if (!(f2 in u2)) {
          if (!e10)
            throw new o3("base intrinsic for " + t49 + " exists, but the property is not available.");
          return;
        }
        if (a && p10 + 1 >= i10.length) {
          var y10 = a(u2, f2);
          u2 = (d4 = !!y10) && "get" in y10 && !("originalValue" in y10.get) ? y10.get : u2[f2];
        } else
          d4 = x4(u2, f2), u2 = u2[f2];
        d4 && !h2 && (g[l3] = u2);
      }
    }
    return u2;
  }, "GetIntrinsic");
});
var Fz = s((t48, e6) => {
  "use strict";
  c();
  var i = kz()("%Object.defineProperty%", true), n = q(function() {
    if (i)
      try {
        return i({}, "a", { value: 1 }), true;
      } catch {
        return false;
      }
    return false;
  }, "hasPropertyDescriptors");
  n.hasArrayLengthDefineBug = q(function() {
    if (!n())
      return null;
    try {
      return 1 !== i([], "length", { value: 1 }).length;
    } catch {
      return true;
    }
  }, "hasArrayLengthDefineBug"), e6.exports = n;
});
var aM = s((t48, e6) => {
  "use strict";
  c();
  var i = Kw(), n = "function" == typeof Symbol && "symbol" == typeof Symbol("foo"), r = Object.prototype.toString, o3 = Array.prototype.concat, s6 = Object.defineProperty, a = q(function(t49) {
    return "function" == typeof t49 && "[object Function]" === r.call(t49);
  }, "isFunction"), l = Fz()(), h = s6 && l, c2 = q(function(t49, e10, i10, n10) {
    if (e10 in t49) {
      if (true === n10) {
        if (t49[e10] === i10)
          return;
      } else if (!a(n10) || !n10())
        return;
    }
    h ? s6(t49, e10, { configurable: true, enumerable: false, value: i10, writable: true }) : t49[e10] = i10;
  }, "defineProperty"), p4 = q(function(t49, e10) {
    var r6 = arguments.length > 2 ? arguments[2] : {}, s10 = i(e10);
    n && (s10 = o3.call(s10, Object.getOwnPropertySymbols(e10)));
    for (var a3 = 0; a3 < s10.length; a3 += 1)
      c2(t49, s10[a3], e10[s10[a3]], r6[s10[a3]]);
  }, "defineProperties");
  p4.supportsDescriptors = !!h, e6.exports = p4;
});
var jz = s((t48, e6) => {
  "use strict";
  c();
  var i = q(function() {
    return "string" == typeof q(function() {
    }, "f").name;
  }, "functionsHaveNames"), n = Object.getOwnPropertyDescriptor;
  if (n)
    try {
      n([], "length");
    } catch {
      n = null;
    }
  i.functionsHaveConfigurableNames = q(function() {
    if (!i() || !n)
      return false;
    var t49 = n(function() {
    }, "name");
    return !!t49 && !!t49.configurable;
  }, "functionsHaveConfigurableNames");
  var r = Function.prototype.bind;
  i.boundFunctionsHaveNames = q(function() {
    return i() && "function" == typeof r && "" !== q(function() {
    }, "f").bind().name;
  }, "boundFunctionsHaveNames"), e6.exports = i;
});
var gI = s((t48, e6) => {
  "use strict";
  c();
  var i = jz().functionsHaveConfigurableNames(), n = Object, r = TypeError;
  e6.exports = q(function() {
    if (null != this && this !== n(this))
      throw new r("RegExp.prototype.flags getter called on non-object");
    var t49 = "";
    return this.hasIndices && (t49 += "d"), this.global && (t49 += "g"), this.ignoreCase && (t49 += "i"), this.multiline && (t49 += "m"), this.dotAll && (t49 += "s"), this.unicode && (t49 += "u"), this.unicodeSets && (t49 += "v"), this.sticky && (t49 += "y"), t49;
  }, "flags"), i && Object.defineProperty && Object.defineProperty(e6.exports, "name", { value: "get flags" });
});
var vI = s((t48, e6) => {
  "use strict";
  c();
  var i = gI(), n = aM().supportsDescriptors, r = Object.getOwnPropertyDescriptor;
  e6.exports = q(function() {
    if (n && "gim" === /a/gim.flags) {
      var t49 = r(RegExp.prototype, "flags");
      if (t49 && "function" == typeof t49.get && "boolean" == typeof RegExp.prototype.dotAll && "boolean" == typeof RegExp.prototype.hasIndices) {
        var e10 = "", o3 = {};
        if (Object.defineProperty(o3, "hasIndices", { get: function() {
          e10 += "d";
        } }), Object.defineProperty(o3, "sticky", { get: function() {
          e10 += "y";
        } }), "dy" === e10)
          return t49.get;
      }
    }
    return i;
  }, "getPolyfill");
});
var Zz = s((t48, e6) => {
  "use strict";
  c();
  var i = aM().supportsDescriptors, n = vI(), r = Object.getOwnPropertyDescriptor, o3 = Object.defineProperty, s6 = TypeError, a = Object.getPrototypeOf, l = /a/;
  e6.exports = q(function() {
    if (!i || !a)
      throw new s6("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");
    var t49 = n(), e10 = a(l), u2 = r(e10, "flags");
    return (!u2 || u2.get !== t49) && o3(e10, "flags", { configurable: true, enumerable: false, get: t49 }), t49;
  }, "shimFlags");
});
var $z = s((t48, e6) => {
  "use strict";
  c();
  var i = aM(), n = tM(), r = gI(), o3 = vI(), s6 = Zz(), a = n(o3());
  i(a, { getPolyfill: o3, implementation: r, shim: s6 }), e6.exports = a;
});
var tG = s((t48, e6) => {
  "use strict";
  c();
  var i = Date.prototype.getDay, n = q(function(t49) {
    try {
      return i.call(t49), true;
    } catch {
      return false;
    }
  }, "tryDateGetDayCall"), r = Object.prototype.toString, o3 = "function" == typeof Symbol && !!Symbol.toStringTag;
  e6.exports = q(function(t49) {
    return "object" == typeof t49 && null !== t49 && (o3 ? n(t49) : "[object Date]" === r.call(t49));
  }, "isDateObject");
});
var yI = s((t48, e6) => {
  c();
  var i = Kw(), n = cz(), r = wz(), o3 = Az(), s6 = $z(), a = tG(), l = Date.prototype.getTime;
  function h(t49, e10, i10) {
    var n10 = i10 || {};
    return !!(n10.strict ? r(t49, e10) : t49 === e10) || (!t49 || !e10 || "object" != typeof t49 && "object" != typeof e10 ? n10.strict ? r(t49, e10) : t49 == e10 : d(t49, e10, n10));
  }
  function c2(t49) {
    return null == t49;
  }
  function p4(t49) {
    return !(!t49 || "object" != typeof t49 || "number" != typeof t49.length || "function" != typeof t49.copy || "function" != typeof t49.slice || t49.length > 0 && "number" != typeof t49[0]);
  }
  function d(t49, e10, r6) {
    var u2, d4;
    if (typeof t49 != typeof e10 || c2(t49) || c2(e10) || t49.prototype !== e10.prototype || n(t49) !== n(e10))
      return false;
    var f = o3(t49), g = o3(e10);
    if (f !== g)
      return false;
    if (f || g)
      return t49.source === e10.source && s6(t49) === s6(e10);
    if (a(t49) && a(e10))
      return l.call(t49) === l.call(e10);
    var m = p4(t49), v4 = p4(e10);
    if (m !== v4)
      return false;
    if (m || v4) {
      if (t49.length !== e10.length)
        return false;
      for (u2 = 0; u2 < t49.length; u2++)
        if (t49[u2] !== e10[u2])
          return false;
      return true;
    }
    if (typeof t49 != typeof e10)
      return false;
    try {
      var y4 = i(t49), x4 = i(e10);
    } catch {
      return false;
    }
    if (y4.length !== x4.length)
      return false;
    for (y4.sort(), x4.sort(), u2 = y4.length - 1; u2 >= 0; u2--)
      if (y4[u2] != x4[u2])
        return false;
    for (u2 = y4.length - 1; u2 >= 0; u2--)
      if (!h(t49[d4 = y4[u2]], e10[d4], r6))
        return false;
    return true;
  }
  q(h, "deepEqual"), q(c2, "isUndefinedOrNull"), q(p4, "isBuffer"), q(d, "objEquiv"), e6.exports = h;
});
var II = s((t48, e6) => {
  c();
  var i = yI(), n = q(function(t49) {
    this.precision = t49 && t49.precision ? t49.precision : 17, this.direction = !(!t49 || !t49.direction) && t49.direction, this.pseudoNode = !(!t49 || !t49.pseudoNode) && t49.pseudoNode, this.objectComparator = t49 && t49.objectComparator ? t49.objectComparator : s6;
  }, "Equality");
  function r(t49) {
    return t49.coordinates.map(function(e10) {
      return { type: t49.type.replace("Multi", ""), coordinates: e10 };
    });
  }
  function o3(t49, e10) {
    return t49.hasOwnProperty("coordinates") ? t49.coordinates.length === e10.coordinates.length : t49.length === e10.length;
  }
  function s6(t49, e10) {
    return i(t49, e10, { strict: true });
  }
  n.prototype.compare = function(t49, e10) {
    if (t49.type !== e10.type || !o3(t49, e10))
      return false;
    switch (t49.type) {
      case "Point":
        return this.compareCoord(t49.coordinates, e10.coordinates);
      case "LineString":
        return this.compareLine(t49.coordinates, e10.coordinates, 0, false);
      case "Polygon":
        return this.comparePolygon(t49, e10);
      case "Feature":
        return this.compareFeature(t49, e10);
      default:
        if (0 === t49.type.indexOf("Multi")) {
          var i10 = this, n10 = r(t49), s10 = r(e10);
          return n10.every(function(t50) {
            return this.some(function(e11) {
              return i10.compare(t50, e11);
            });
          }, s10);
        }
    }
    return false;
  }, q(r, "explode"), q(o3, "sameLength"), n.prototype.compareCoord = function(t49, e10) {
    if (t49.length !== e10.length)
      return false;
    for (var i10 = 0; i10 < t49.length; i10++)
      if (t49[i10].toFixed(this.precision) !== e10[i10].toFixed(this.precision))
        return false;
    return true;
  }, n.prototype.compareLine = function(t49, e10, i10, n10) {
    if (!o3(t49, e10))
      return false;
    var r6 = this.pseudoNode ? t49 : this.removePseudo(t49), s10 = this.pseudoNode ? e10 : this.removePseudo(e10);
    if (!n10 || this.compareCoord(r6[0], s10[0]) || (s10 = this.fixStartIndex(s10, r6))) {
      var a = this.compareCoord(r6[i10], s10[i10]);
      return this.direction || a ? this.comparePath(r6, s10) : !!this.compareCoord(r6[i10], s10[s10.length - (1 + i10)]) && this.comparePath(r6.slice().reverse(), s10);
    }
  }, n.prototype.fixStartIndex = function(t49, e10) {
    for (var i10, n10 = -1, r6 = 0; r6 < t49.length; r6++)
      if (this.compareCoord(t49[r6], e10[0])) {
        n10 = r6;
        break;
      }
    return n10 >= 0 && (i10 = [].concat(t49.slice(n10, t49.length), t49.slice(1, n10 + 1))), i10;
  }, n.prototype.comparePath = function(t49, e10) {
    var i10 = this;
    return t49.every(function(t50, e11) {
      return i10.compareCoord(t50, this[e11]);
    }, e10);
  }, n.prototype.comparePolygon = function(t49, e10) {
    if (this.compareLine(t49.coordinates[0], e10.coordinates[0], 1, true)) {
      var i10 = t49.coordinates.slice(1, t49.coordinates.length), n10 = e10.coordinates.slice(1, e10.coordinates.length), r6 = this;
      return i10.every(function(t50) {
        return this.some(function(e11) {
          return r6.compareLine(t50, e11, 1, true);
        });
      }, n10);
    }
    return false;
  }, n.prototype.compareFeature = function(t49, e10) {
    return !(t49.id !== e10.id || !this.objectComparator(t49.properties, e10.properties) || !this.compareBBox(t49, e10)) && this.compare(t49.geometry, e10.geometry);
  }, n.prototype.compareBBox = function(t49, e10) {
    return !!(!t49.bbox && !e10.bbox || t49.bbox && e10.bbox && this.compareCoord(t49.bbox, e10.bbox));
  }, n.prototype.removePseudo = function(t49) {
    return t49;
  }, q(s6, "objectComparator"), e6.exports = n;
});
var bG = s((t48, e6) => {
  function i(t49, e10, i10, n) {
    this.dataset = [], this.epsilon = 1, this.minPts = 2, this.distance = this._euclideanDistance, this.clusters = [], this.noise = [], this._visited = [], this._assigned = [], this._datasetLength = 0, this._init(t49, e10, i10, n);
  }
  c(), q(i, "DBSCAN"), i.prototype.run = function(t49, e10, i10, n) {
    this._init(t49, e10, i10, n);
    for (var r = 0; r < this._datasetLength; r++)
      if (1 !== this._visited[r]) {
        this._visited[r] = 1;
        var o3 = this._regionQuery(r);
        if (o3.length < this.minPts)
          this.noise.push(r);
        else {
          var s6 = this.clusters.length;
          this.clusters.push([]), this._addToCluster(r, s6), this._expandCluster(s6, o3);
        }
      }
    return this.clusters;
  }, i.prototype._init = function(t49, e10, i10, n) {
    if (t49) {
      if (!(t49 instanceof Array))
        throw Error("Dataset must be of type array, " + typeof t49 + " given");
      this.dataset = t49, this.clusters = [], this.noise = [], this._datasetLength = t49.length, this._visited = new Array(this._datasetLength), this._assigned = new Array(this._datasetLength);
    }
    e10 && (this.epsilon = e10), i10 && (this.minPts = i10), n && (this.distance = n);
  }, i.prototype._expandCluster = function(t49, e10) {
    for (var i10 = 0; i10 < e10.length; i10++) {
      var n = e10[i10];
      if (1 !== this._visited[n]) {
        this._visited[n] = 1;
        var r = this._regionQuery(n);
        r.length >= this.minPts && (e10 = this._mergeArrays(e10, r));
      }
      1 !== this._assigned[n] && this._addToCluster(n, t49);
    }
  }, i.prototype._addToCluster = function(t49, e10) {
    this.clusters[e10].push(t49), this._assigned[t49] = 1;
  }, i.prototype._regionQuery = function(t49) {
    for (var e10 = [], i10 = 0; i10 < this._datasetLength; i10++) {
      this.distance(this.dataset[t49], this.dataset[i10]) < this.epsilon && e10.push(i10);
    }
    return e10;
  }, i.prototype._mergeArrays = function(t49, e10) {
    for (var i10 = e10.length, n = 0; n < i10; n++) {
      var r = e10[n];
      t49.indexOf(r) < 0 && t49.push(r);
    }
    return t49;
  }, i.prototype._euclideanDistance = function(t49, e10) {
    for (var i10 = 0, n = Math.min(t49.length, e10.length); n--; )
      i10 += (t49[n] - e10[n]) * (t49[n] - e10[n]);
    return Math.sqrt(i10);
  }, typeof e6 < "u" && e6.exports && (e6.exports = i);
});
var _G = s((t48, e6) => {
  function i(t49, e10, i10) {
    this.k = 3, this.dataset = [], this.assignments = [], this.centroids = [], this.init(t49, e10, i10);
  }
  c(), q(i, "KMEANS"), i.prototype.init = function(t49, e10, i10) {
    this.assignments = [], this.centroids = [], typeof t49 < "u" && (this.dataset = t49), typeof e10 < "u" && (this.k = e10), typeof i10 < "u" && (this.distance = i10);
  }, i.prototype.run = function(t49, e10) {
    this.init(t49, e10);
    for (var i10 = this.dataset.length, n = 0; n < this.k; n++)
      this.centroids[n] = this.randomCentroid();
    for (var r = true; r; ) {
      r = this.assign();
      for (var o3 = 0; o3 < this.k; o3++) {
        for (var s6 = new Array(h), a = 0, l = 0; l < h; l++)
          s6[l] = 0;
        for (var u2 = 0; u2 < i10; u2++) {
          var h = this.dataset[u2].length;
          if (o3 === this.assignments[u2]) {
            for (l = 0; l < h; l++)
              s6[l] += this.dataset[u2][l];
            a++;
          }
        }
        if (a > 0) {
          for (l = 0; l < h; l++)
            s6[l] /= a;
          this.centroids[o3] = s6;
        } else
          this.centroids[o3] = this.randomCentroid(), r = true;
      }
    }
    return this.getClusters();
  }, i.prototype.randomCentroid = function() {
    var t49, e10, i10 = this.dataset.length - 1;
    do {
      e10 = Math.round(Math.random() * i10), t49 = this.dataset[e10];
    } while (this.centroids.indexOf(t49) >= 0);
    return t49;
  }, i.prototype.assign = function() {
    for (var t49, e10 = false, i10 = this.dataset.length, n = 0; n < i10; n++)
      (t49 = this.argmin(this.dataset[n], this.centroids, this.distance)) != this.assignments[n] && (this.assignments[n] = t49, e10 = true);
    return e10;
  }, i.prototype.getClusters = function() {
    for (var t49, e10 = new Array(this.k), i10 = 0; i10 < this.assignments.length; i10++)
      typeof e10[t49 = this.assignments[i10]] > "u" && (e10[t49] = []), e10[t49].push(i10);
    return e10;
  }, i.prototype.argmin = function(t49, e10, i10) {
    for (var n, r = Number.MAX_VALUE, o3 = 0, s6 = e10.length, a = 0; a < s6; a++)
      (n = i10(t49, e10[a])) < r && (r = n, o3 = a);
    return o3;
  }, i.prototype.distance = function(t49, e10) {
    for (var i10 = 0, n = Math.min(t49.length, e10.length); n--; ) {
      var r = t49[n] - e10[n];
      i10 += r * r;
    }
    return Math.sqrt(i10);
  }, typeof e6 < "u" && e6.exports && (e6.exports = i);
});
var OI = s((t48, e6) => {
  function i(t49, e10, i10) {
    this._queue = [], this._priorities = [], this._sorting = "desc", this._init(t49, e10, i10);
  }
  c(), q(i, "PriorityQueue"), i.prototype.insert = function(t49, e10) {
    for (var i10 = this._queue.length, n = i10; n--; ) {
      var r = this._priorities[n];
      "desc" === this._sorting ? e10 > r && (i10 = n) : e10 < r && (i10 = n);
    }
    this._insertAt(t49, e10, i10);
  }, i.prototype.remove = function(t49) {
    for (var e10 = this._queue.length; e10--; ) {
      if (t49 === this._queue[e10]) {
        this._queue.splice(e10, 1), this._priorities.splice(e10, 1);
        break;
      }
    }
  }, i.prototype.forEach = function(t49) {
    this._queue.forEach(t49);
  }, i.prototype.getElements = function() {
    return this._queue;
  }, i.prototype.getElementPriority = function(t49) {
    return this._priorities[t49];
  }, i.prototype.getPriorities = function() {
    return this._priorities;
  }, i.prototype.getElementsWithPriorities = function() {
    for (var t49 = [], e10 = 0, i10 = this._queue.length; e10 < i10; e10++)
      t49.push([this._queue[e10], this._priorities[e10]]);
    return t49;
  }, i.prototype._init = function(t49, e10, i10) {
    if (t49 && e10) {
      if (this._queue = [], this._priorities = [], t49.length !== e10.length)
        throw new Error("Arrays must have the same length");
      for (var n = 0; n < t49.length; n++)
        this.insert(t49[n], e10[n]);
    }
    i10 && (this._sorting = i10);
  }, i.prototype._insertAt = function(t49, e10, i10) {
    this._queue.length === i10 ? (this._queue.push(t49), this._priorities.push(e10)) : (this._queue.splice(i10, 0, t49), this._priorities.splice(i10, 0, e10));
  }, typeof e6 < "u" && e6.exports && (e6.exports = i);
});
var MG = s((t48, e6) => {
  var i;
  function n(t49, e10, i10, n10) {
    this.epsilon = 1, this.minPts = 1, this.distance = this._euclideanDistance, this._reachability = [], this._processed = [], this._coreDistance = 0, this._orderedList = [], this._init(t49, e10, i10, n10);
  }
  c(), typeof e6 < "u" && e6.exports && (i = OI()), q(n, "OPTICS"), n.prototype.run = function(t49, e10, n10, r) {
    this._init(t49, e10, n10, r);
    for (var o3 = 0, s6 = this.dataset.length; o3 < s6; o3++)
      if (1 !== this._processed[o3]) {
        this._processed[o3] = 1, this.clusters.push([o3]);
        var a = this.clusters.length - 1;
        this._orderedList.push(o3);
        var l = new i(null, null, "asc"), u2 = this._regionQuery(o3);
        void 0 !== this._distanceToCore(o3) && (this._updateQueue(o3, u2, l), this._expandCluster(a, l));
      }
    return this.clusters;
  }, n.prototype.getReachabilityPlot = function() {
    for (var t49 = [], e10 = 0, i10 = this._orderedList.length; e10 < i10; e10++) {
      var n10 = this._orderedList[e10], r = this._reachability[n10];
      t49.push([n10, r]);
    }
    return t49;
  }, n.prototype._init = function(t49, e10, i10, n10) {
    if (t49) {
      if (!(t49 instanceof Array))
        throw Error("Dataset must be of type array, " + typeof t49 + " given");
      this.dataset = t49, this.clusters = [], this._reachability = new Array(this.dataset.length), this._processed = new Array(this.dataset.length), this._coreDistance = 0, this._orderedList = [];
    }
    e10 && (this.epsilon = e10), i10 && (this.minPts = i10), n10 && (this.distance = n10);
  }, n.prototype._updateQueue = function(t49, e10, i10) {
    var n10 = this;
    this._coreDistance = this._distanceToCore(t49), e10.forEach(function(e11) {
      if (void 0 === n10._processed[e11]) {
        var r = n10.distance(n10.dataset[t49], n10.dataset[e11]), o3 = Math.max(n10._coreDistance, r);
        void 0 === n10._reachability[e11] ? (n10._reachability[e11] = o3, i10.insert(e11, o3)) : o3 < n10._reachability[e11] && (n10._reachability[e11] = o3, i10.remove(e11), i10.insert(e11, o3));
      }
    });
  }, n.prototype._expandCluster = function(t49, e10) {
    for (var i10 = e10.getElements(), n10 = 0, r = i10.length; n10 < r; n10++) {
      var o3 = i10[n10];
      if (void 0 === this._processed[o3]) {
        var s6 = this._regionQuery(o3);
        this._processed[o3] = 1, this.clusters[t49].push(o3), this._orderedList.push(o3), void 0 !== this._distanceToCore(o3) && (this._updateQueue(o3, s6, e10), this._expandCluster(t49, e10));
      }
    }
  }, n.prototype._distanceToCore = function(t49) {
    for (var e10 = this.epsilon, i10 = 0; i10 < e10; i10++) {
      if (this._regionQuery(t49, i10).length >= this.minPts)
        return i10;
    }
  }, n.prototype._regionQuery = function(t49, e10) {
    e10 = e10 || this.epsilon;
    for (var i10 = [], n10 = 0, r = this.dataset.length; n10 < r; n10++)
      this.distance(this.dataset[t49], this.dataset[n10]) < e10 && i10.push(n10);
    return i10;
  }, n.prototype._euclideanDistance = function(t49, e10) {
    for (var i10 = 0, n10 = Math.min(t49.length, e10.length); n10--; )
      i10 += (t49[n10] - e10[n10]) * (t49[n10] - e10[n10]);
    return Math.sqrt(i10);
  }, typeof e6 < "u" && e6.exports && (e6.exports = n);
});
var EG = s((t48, e6) => {
  c(), typeof e6 < "u" && e6.exports && (e6.exports = { DBSCAN: bG(), KMEANS: _G(), OPTICS: MG(), PriorityQueue: OI() });
});
var LI = s((t48, e6) => {
  "use strict";
  c(), e6.exports = { eudist: q(function(t49, e10, i) {
    for (var n = t49.length, r = 0, o3 = 0; o3 < n; o3++) {
      var s6 = (t49[o3] || 0) - (e10[o3] || 0);
      r += s6 * s6;
    }
    return i ? Math.sqrt(r) : r;
  }, "eudist"), mandist: q(function(t49, e10, i) {
    for (var n = t49.length, r = 0, o3 = 0; o3 < n; o3++)
      r += Math.abs((t49[o3] || 0) - (e10[o3] || 0));
    return i ? Math.sqrt(r) : r;
  }, "mandist"), dist: q(function(t49, e10, i) {
    var n = Math.abs(t49 - e10);
    return i ? n : n * n;
  }, "dist") };
});
var PG = s((t48, e6) => {
  "use strict";
  c();
  var i = LI(), n = i.eudist, r = i.dist;
  e6.exports = { kmrand: q(function(t49, e10) {
    for (var i10 = {}, n10 = [], r6 = e10 << 2, o3 = t49.length, s6 = t49[0].length > 0; n10.length < e10 && r6-- > 0; ) {
      var a = t49[Math.floor(Math.random() * o3)], l = s6 ? a.join("_") : "" + a;
      i10[l] || (i10[l] = true, n10.push(a));
    }
    if (n10.length < e10)
      throw new Error("Error initializating clusters");
    return n10;
  }, "kmrand"), kmpp: q(function(t49, e10) {
    var i10 = t49[0].length ? n : r, o3 = [], s6 = t49.length, a = t49[0].length > 0, l = t49[Math.floor(Math.random() * s6)];
    a && l.join("_");
    for (o3.push(l); o3.length < e10; ) {
      for (var u2 = [], h = o3.length, c2 = 0, p4 = [], d = 0; d < s6; d++) {
        for (var f = 1 / 0, g = 0; g < h; g++) {
          var m = i10(t49[d], o3[g]);
          m <= f && (f = m);
        }
        u2[d] = f;
      }
      for (var v4 = 0; v4 < s6; v4++)
        c2 += u2[v4];
      for (var y4 = 0; y4 < s6; y4++)
        p4[y4] = { i: y4, v: t49[y4], pr: u2[y4] / c2, cs: 0 };
      p4.sort(function(t50, e11) {
        return t50.pr - e11.pr;
      }), p4[0].cs = p4[0].pr;
      for (var x4 = 1; x4 < s6; x4++)
        p4[x4].cs = p4[x4 - 1].cs + p4[x4].pr;
      for (var _ = Math.random(), b = 0; b < s6 - 1 && p4[b++].cs < _; )
        ;
      o3.push(p4[b - 1].v);
    }
    return o3;
  }, "kmpp") };
});
var NG = s((t48, e6) => {
  "use strict";
  c();
  var i = LI(), n = PG(), r = i.eudist, o3 = (i.mandist, i.dist, n.kmrand), s6 = n.kmpp;
  function a(t49, e10, i10) {
    i10 = i10 || [];
    for (var n10 = 0; n10 < t49; n10++)
      i10[n10] = e10;
    return i10;
  }
  function l(t49, e10, i10, n10) {
    var l3 = [], u2 = [], h = [], c2 = [], p4 = false, d = n10 || 1e4, f = t49.length, g = t49[0].length, m = g > 0, v4 = [];
    if (i10)
      l3 = "kmrand" == i10 ? o3(t49, e10) : "kmpp" == i10 ? s6(t49, e10) : i10;
    else
      for (var y4 = {}; l3.length < e10; ) {
        var x4 = Math.floor(Math.random() * f);
        y4[x4] || (y4[x4] = true, l3.push(t49[x4]));
      }
    do {
      a(e10, 0, v4);
      for (var _ = 0; _ < f; _++) {
        for (var b = 1 / 0, M = 0, E = 0; E < e10; E++) {
          (c2 = m ? r(t49[_], l3[E]) : Math.abs(t49[_] - l3[E])) <= b && (b = c2, M = E);
        }
        h[_] = M, v4[M]++;
      }
      for (var w4 = [], A = (u2 = [], 0); A < e10; A++)
        w4[A] = m ? a(g, 0, w4[A]) : 0, u2[A] = l3[A];
      if (m) {
        for (var S = 0; S < e10; S++)
          l3[S] = [];
        for (var T = 0; T < f; T++)
          for (var C = w4[h[T]], P = t49[T], I = 0; I < g; I++)
            C[I] += P[I];
        p4 = true;
        for (var L = 0; L < e10; L++) {
          for (var O = l3[L], N = w4[L], D = u2[L], R = v4[L], q4 = 0; q4 < g; q4++)
            O[q4] = N[q4] / R || 0;
          if (p4) {
            for (var B = 0; B < g; B++)
              if (D[B] != O[B]) {
                p4 = false;
                break;
              }
          }
        }
      } else {
        for (var k = 0; k < f; k++) {
          w4[h[k]] += t49[k];
        }
        for (var F = 0; F < e10; F++)
          l3[F] = w4[F] / v4[F] || 0;
        p4 = true;
        for (var U = 0; U < e10; U++)
          if (u2[U] != l3[U]) {
            p4 = false;
            break;
          }
      }
      p4 = p4 || --d <= 0;
    } while (!p4);
    return { it: 1e4 - d, k: e10, idxs: h, centroids: l3 };
  }
  q(a, "init"), q(l, "skmeans"), e6.exports = l;
});
var am = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function() {
    "use strict";
    function t49(t50, e11) {
      if (!(t50 instanceof e11))
        throw new TypeError("Cannot call a class as a function");
    }
    function e10(t50, e11) {
      for (var i11 = 0; i11 < e11.length; i11++) {
        var n11 = e11[i11];
        n11.enumerable = n11.enumerable || false, n11.configurable = true, "value" in n11 && (n11.writable = true), Object.defineProperty(t50, n11.key, n11);
      }
    }
    function i10(t50, i11, n11) {
      return i11 && e10(t50.prototype, i11), n11 && e10(t50, n11), t50;
    }
    q(t49, "_classCallCheck"), q(e10, "_defineProperties"), q(i10, "_createClass");
    var n10 = function() {
      function t50(t51, e11) {
        this.next = null, this.key = t51, this.data = e11, this.left = null, this.right = null;
      }
      return q(t50, "Node"), t50;
    }();
    function r(t50, e11) {
      return t50 > e11 ? 1 : t50 < e11 ? -1 : 0;
    }
    function o3(t50, e11, i11) {
      for (var r6 = new n10(null, null), o6 = r6, s10 = r6; ; ) {
        var a3 = i11(t50, e11.key);
        if (a3 < 0) {
          if (null === e11.left)
            break;
          if (i11(t50, e11.left.key) < 0) {
            var l3 = e11.left;
            if (e11.left = l3.right, l3.right = e11, null === (e11 = l3).left)
              break;
          }
          s10.left = e11, s10 = e11, e11 = e11.left;
        } else {
          if (!(a3 > 0))
            break;
          if (null === e11.right)
            break;
          if (i11(t50, e11.right.key) > 0 && (l3 = e11.right, e11.right = l3.left, l3.left = e11, null === (e11 = l3).right))
            break;
          o6.right = e11, o6 = e11, e11 = e11.right;
        }
      }
      return o6.right = e11.left, s10.left = e11.right, e11.left = r6.right, e11.right = r6.left, e11;
    }
    function s6(t50, e11, i11, r6) {
      var s10 = new n10(t50, e11);
      if (null === i11)
        return s10.left = s10.right = null, s10;
      var a3 = r6(t50, (i11 = o3(t50, i11, r6)).key);
      return a3 < 0 ? (s10.left = i11.left, s10.right = i11, i11.left = null) : a3 >= 0 && (s10.right = i11.right, s10.left = i11, i11.right = null), s10;
    }
    function a(t50, e11, i11) {
      var n11 = null, r6 = null;
      if (e11) {
        var s10 = i11((e11 = o3(t50, e11, i11)).key, t50);
        0 === s10 ? (n11 = e11.left, r6 = e11.right) : s10 < 0 ? (r6 = e11.right, e11.right = null, n11 = e11) : (n11 = e11.left, e11.left = null, r6 = e11);
      }
      return { left: n11, right: r6 };
    }
    function l(t50, e11, i11) {
      return null === e11 ? t50 : (null === t50 || ((e11 = o3(t50.key, e11, i11)).left = t50), e11);
    }
    function h(t50, e11, i11, n11, r6) {
      if (t50) {
        n11(e11 + (i11 ? " " : " ") + r6(t50) + "\n");
        var o6 = e11 + (i11 ? "    " : "   ");
        t50.left && h(t50.left, o6, false, n11, r6), t50.right && h(t50.right, o6, true, n11, r6);
      }
    }
    q(r, "DEFAULT_COMPARE"), q(o3, "splay"), q(s6, "insert"), q(a, "split"), q(l, "merge"), q(h, "printRow");
    var c2 = function() {
      function t50(t51) {
        void 0 === t51 && (t51 = r), this._root = null, this._size = 0, this._comparator = t51;
      }
      return q(t50, "Tree"), t50.prototype.insert = function(t51, e11) {
        return this._size++, this._root = s6(t51, e11, this._root, this._comparator);
      }, t50.prototype.add = function(t51, e11) {
        var i11 = new n10(t51, e11);
        null === this._root && (i11.left = i11.right = null, this._size++, this._root = i11);
        var r6 = this._comparator, s10 = o3(t51, this._root, r6), a3 = r6(t51, s10.key);
        return 0 === a3 ? this._root = s10 : (a3 < 0 ? (i11.left = s10.left, i11.right = s10, s10.left = null) : a3 > 0 && (i11.right = s10.right, i11.left = s10, s10.right = null), this._size++, this._root = i11), this._root;
      }, t50.prototype.remove = function(t51) {
        this._root = this._remove(t51, this._root, this._comparator);
      }, t50.prototype._remove = function(t51, e11, i11) {
        var n11;
        return null === e11 ? null : 0 === i11(t51, (e11 = o3(t51, e11, i11)).key) ? (null === e11.left ? n11 = e11.right : (n11 = o3(t51, e11.left, i11)).right = e11.right, this._size--, n11) : e11;
      }, t50.prototype.pop = function() {
        var t51 = this._root;
        if (t51) {
          for (; t51.left; )
            t51 = t51.left;
          return this._root = o3(t51.key, this._root, this._comparator), this._root = this._remove(t51.key, this._root, this._comparator), { key: t51.key, data: t51.data };
        }
        return null;
      }, t50.prototype.findStatic = function(t51) {
        for (var e11 = this._root, i11 = this._comparator; e11; ) {
          var n11 = i11(t51, e11.key);
          if (0 === n11)
            return e11;
          e11 = n11 < 0 ? e11.left : e11.right;
        }
        return null;
      }, t50.prototype.find = function(t51) {
        return this._root && (this._root = o3(t51, this._root, this._comparator), 0 !== this._comparator(t51, this._root.key)) ? null : this._root;
      }, t50.prototype.contains = function(t51) {
        for (var e11 = this._root, i11 = this._comparator; e11; ) {
          var n11 = i11(t51, e11.key);
          if (0 === n11)
            return true;
          e11 = n11 < 0 ? e11.left : e11.right;
        }
        return false;
      }, t50.prototype.forEach = function(t51, e11) {
        for (var i11 = this._root, n11 = [], r6 = false; !r6; )
          null !== i11 ? (n11.push(i11), i11 = i11.left) : 0 !== n11.length ? (i11 = n11.pop(), t51.call(e11, i11), i11 = i11.right) : r6 = true;
        return this;
      }, t50.prototype.range = function(t51, e11, i11, n11) {
        for (var r6 = [], o6 = this._comparator, s10 = this._root; 0 !== r6.length || s10; )
          if (s10)
            r6.push(s10), s10 = s10.left;
          else {
            if (o6((s10 = r6.pop()).key, e11) > 0)
              break;
            if (o6(s10.key, t51) >= 0 && i11.call(n11, s10))
              return this;
            s10 = s10.right;
          }
        return this;
      }, t50.prototype.keys = function() {
        var t51 = [];
        return this.forEach(function(e11) {
          var i11 = e11.key;
          return t51.push(i11);
        }), t51;
      }, t50.prototype.values = function() {
        var t51 = [];
        return this.forEach(function(e11) {
          var i11 = e11.data;
          return t51.push(i11);
        }), t51;
      }, t50.prototype.min = function() {
        return this._root ? this.minNode(this._root).key : null;
      }, t50.prototype.max = function() {
        return this._root ? this.maxNode(this._root).key : null;
      }, t50.prototype.minNode = function(t51) {
        if (void 0 === t51 && (t51 = this._root), t51)
          for (; t51.left; )
            t51 = t51.left;
        return t51;
      }, t50.prototype.maxNode = function(t51) {
        if (void 0 === t51 && (t51 = this._root), t51)
          for (; t51.right; )
            t51 = t51.right;
        return t51;
      }, t50.prototype.at = function(t51) {
        for (var e11 = this._root, i11 = false, n11 = 0, r6 = []; !i11; )
          if (e11)
            r6.push(e11), e11 = e11.left;
          else if (r6.length > 0) {
            if (e11 = r6.pop(), n11 === t51)
              return e11;
            n11++, e11 = e11.right;
          } else
            i11 = true;
        return null;
      }, t50.prototype.next = function(t51) {
        var e11 = this._root, i11 = null;
        if (t51.right) {
          for (i11 = t51.right; i11.left; )
            i11 = i11.left;
          return i11;
        }
        for (var n11 = this._comparator; e11; ) {
          var r6 = n11(t51.key, e11.key);
          if (0 === r6)
            break;
          r6 < 0 ? (i11 = e11, e11 = e11.left) : e11 = e11.right;
        }
        return i11;
      }, t50.prototype.prev = function(t51) {
        var e11 = this._root, i11 = null;
        if (null !== t51.left) {
          for (i11 = t51.left; i11.right; )
            i11 = i11.right;
          return i11;
        }
        for (var n11 = this._comparator; e11; ) {
          var r6 = n11(t51.key, e11.key);
          if (0 === r6)
            break;
          r6 < 0 ? e11 = e11.left : (i11 = e11, e11 = e11.right);
        }
        return i11;
      }, t50.prototype.clear = function() {
        return this._root = null, this._size = 0, this;
      }, t50.prototype.toList = function() {
        return f(this._root);
      }, t50.prototype.load = function(t51, e11, i11) {
        void 0 === e11 && (e11 = []), void 0 === i11 && (i11 = false);
        var n11 = t51.length, r6 = this._comparator;
        if (i11 && v4(t51, e11, 0, n11 - 1, r6), null === this._root)
          this._root = p4(t51, e11, 0, n11), this._size = n11;
        else {
          var o6 = m(this.toList(), d(t51, e11), r6);
          n11 = this._size + n11, this._root = g({ head: o6 }, 0, n11);
        }
        return this;
      }, t50.prototype.isEmpty = function() {
        return null === this._root;
      }, Object.defineProperty(t50.prototype, "size", { get: q(function() {
        return this._size;
      }, "get"), enumerable: true, configurable: true }), Object.defineProperty(t50.prototype, "root", { get: q(function() {
        return this._root;
      }, "get"), enumerable: true, configurable: true }), t50.prototype.toString = function(t51) {
        void 0 === t51 && (t51 = q(function(t52) {
          return String(t52.key);
        }, "printNode"));
        var e11 = [];
        return h(this._root, "", true, function(t52) {
          return e11.push(t52);
        }, t51), e11.join("");
      }, t50.prototype.update = function(t51, e11, i11) {
        var n11 = this._comparator, r6 = a(t51, this._root, n11), o6 = r6.left, u2 = r6.right;
        n11(t51, e11) < 0 ? u2 = s6(e11, i11, u2, n11) : o6 = s6(e11, i11, o6, n11), this._root = l(o6, u2, n11);
      }, t50.prototype.split = function(t51) {
        return a(t51, this._root, this._comparator);
      }, t50;
    }();
    function p4(t50, e11, i11, r6) {
      var o6 = r6 - i11;
      if (o6 > 0) {
        var s10 = i11 + Math.floor(o6 / 2), a3 = t50[s10], l3 = e11[s10], u2 = new n10(a3, l3);
        return u2.left = p4(t50, e11, i11, s10), u2.right = p4(t50, e11, s10 + 1, r6), u2;
      }
      return null;
    }
    function d(t50, e11) {
      for (var i11 = new n10(null, null), r6 = i11, o6 = 0; o6 < t50.length; o6++)
        r6 = r6.next = new n10(t50[o6], e11[o6]);
      return r6.next = null, i11.next;
    }
    function f(t50) {
      for (var e11 = t50, i11 = [], r6 = false, o6 = new n10(null, null), s10 = o6; !r6; )
        e11 ? (i11.push(e11), e11 = e11.left) : i11.length > 0 ? e11 = (e11 = s10 = s10.next = i11.pop()).right : r6 = true;
      return s10.next = null, o6.next;
    }
    function g(t50, e11, i11) {
      var n11 = i11 - e11;
      if (n11 > 0) {
        var r6 = e11 + Math.floor(n11 / 2), o6 = g(t50, e11, r6), s10 = t50.head;
        return s10.left = o6, t50.head = t50.head.next, s10.right = g(t50, r6 + 1, i11), s10;
      }
      return null;
    }
    function m(t50, e11, i11) {
      for (var r6 = new n10(null, null), o6 = r6, s10 = t50, a3 = e11; null !== s10 && null !== a3; )
        i11(s10.key, a3.key) < 0 ? (o6.next = s10, s10 = s10.next) : (o6.next = a3, a3 = a3.next), o6 = o6.next;
      return null !== s10 ? o6.next = s10 : null !== a3 && (o6.next = a3), r6.next;
    }
    function v4(t50, e11, i11, n11, r6) {
      if (!(i11 >= n11)) {
        for (var o6 = t50[i11 + n11 >> 1], s10 = i11 - 1, a3 = n11 + 1; ; ) {
          do {
            s10++;
          } while (r6(t50[s10], o6) < 0);
          do {
            a3--;
          } while (r6(t50[a3], o6) > 0);
          if (s10 >= a3)
            break;
          var l3 = t50[s10];
          t50[s10] = t50[a3], t50[a3] = l3, l3 = e11[s10], e11[s10] = e11[a3], e11[a3] = l3;
        }
        v4(t50, e11, i11, a3, r6), v4(t50, e11, a3 + 1, n11, r6);
      }
    }
    q(p4, "loadRecursive"), q(d, "createList"), q(f, "toList"), q(g, "sortedListToBST"), q(m, "mergeLists"), q(v4, "sort");
    var y4 = q(function(t50, e11) {
      return t50.ll.x <= e11.x && e11.x <= t50.ur.x && t50.ll.y <= e11.y && e11.y <= t50.ur.y;
    }, "isInBbox"), x4 = q(function(t50, e11) {
      if (e11.ur.x < t50.ll.x || t50.ur.x < e11.ll.x || e11.ur.y < t50.ll.y || t50.ur.y < e11.ll.y)
        return null;
      var i11 = t50.ll.x < e11.ll.x ? e11.ll.x : t50.ll.x, n11 = t50.ur.x < e11.ur.x ? t50.ur.x : e11.ur.x;
      return { ll: { x: i11, y: t50.ll.y < e11.ll.y ? e11.ll.y : t50.ll.y }, ur: { x: n11, y: t50.ur.y < e11.ur.y ? t50.ur.y : e11.ur.y } };
    }, "getBboxOverlap"), _ = Number.EPSILON;
    void 0 === _ && (_ = Math.pow(2, -52));
    var b = _ * _, M = q(function(t50, e11) {
      if (-_ < t50 && t50 < _ && -_ < e11 && e11 < _)
        return 0;
      var i11 = t50 - e11;
      return i11 * i11 < b * t50 * e11 ? 0 : t50 < e11 ? -1 : 1;
    }, "cmp"), E = function() {
      function e11() {
        t49(this, e11), this.reset();
      }
      return q(e11, "PtRounder"), i10(e11, [{ key: "reset", value: q(function() {
        this.xRounder = new w4(), this.yRounder = new w4();
      }, "reset") }, { key: "round", value: q(function(t50, e12) {
        return { x: this.xRounder.round(t50), y: this.yRounder.round(e12) };
      }, "round") }]), e11;
    }(), w4 = function() {
      function e11() {
        t49(this, e11), this.tree = new c2(), this.round(0);
      }
      return q(e11, "CoordRounder"), i10(e11, [{ key: "round", value: q(function(t50) {
        var e12 = this.tree.add(t50), i11 = this.tree.prev(e12);
        if (null !== i11 && 0 === M(e12.key, i11.key))
          return this.tree.remove(t50), i11.key;
        var n11 = this.tree.next(e12);
        return null !== n11 && 0 === M(e12.key, n11.key) ? (this.tree.remove(t50), n11.key) : t50;
      }, "round") }]), e11;
    }(), A = new E(), S = q(function(t50, e11) {
      return t50.x * e11.y - t50.y * e11.x;
    }, "crossProduct"), T = q(function(t50, e11) {
      return t50.x * e11.x + t50.y * e11.y;
    }, "dotProduct"), C = q(function(t50, e11, i11) {
      var n11 = { x: e11.x - t50.x, y: e11.y - t50.y }, r6 = { x: i11.x - t50.x, y: i11.y - t50.y }, o6 = S(n11, r6);
      return M(o6, 0);
    }, "compareVectorAngles"), P = q(function(t50) {
      return Math.sqrt(T(t50, t50));
    }, "length"), I = q(function(t50, e11, i11) {
      var n11 = { x: e11.x - t50.x, y: e11.y - t50.y }, r6 = { x: i11.x - t50.x, y: i11.y - t50.y };
      return S(r6, n11) / P(r6) / P(n11);
    }, "sineOfAngle"), L = q(function(t50, e11, i11) {
      var n11 = { x: e11.x - t50.x, y: e11.y - t50.y }, r6 = { x: i11.x - t50.x, y: i11.y - t50.y };
      return T(r6, n11) / P(r6) / P(n11);
    }, "cosineOfAngle"), O = q(function(t50, e11, i11) {
      return 0 === e11.y ? null : { x: t50.x + e11.x / e11.y * (i11 - t50.y), y: i11 };
    }, "horizontalIntersection"), N = q(function(t50, e11, i11) {
      return 0 === e11.x ? null : { x: i11, y: t50.y + e11.y / e11.x * (i11 - t50.x) };
    }, "verticalIntersection"), D = q(function(t50, e11, i11, n11) {
      if (0 === e11.x)
        return N(i11, n11, t50.x);
      if (0 === n11.x)
        return N(t50, e11, i11.x);
      if (0 === e11.y)
        return O(i11, n11, t50.y);
      if (0 === n11.y)
        return O(t50, e11, i11.y);
      var r6 = S(e11, n11);
      if (0 == r6)
        return null;
      var o6 = { x: i11.x - t50.x, y: i11.y - t50.y }, s10 = S(o6, e11) / r6, a3 = S(o6, n11) / r6;
      return { x: (t50.x + a3 * e11.x + (i11.x + s10 * n11.x)) / 2, y: (t50.y + a3 * e11.y + (i11.y + s10 * n11.y)) / 2 };
    }, "intersection"), R = function() {
      function e11(i11, n11) {
        t49(this, e11), void 0 === i11.events ? i11.events = [this] : i11.events.push(this), this.point = i11, this.isLeft = n11;
      }
      return i10(e11, null, [{ key: "compare", value: q(function(t50, i11) {
        var n11 = e11.comparePoints(t50.point, i11.point);
        return 0 !== n11 ? n11 : (t50.point !== i11.point && t50.link(i11), t50.isLeft !== i11.isLeft ? t50.isLeft ? 1 : -1 : k.compare(t50.segment, i11.segment));
      }, "compare") }, { key: "comparePoints", value: q(function(t50, e12) {
        return t50.x < e12.x ? -1 : t50.x > e12.x ? 1 : t50.y < e12.y ? -1 : t50.y > e12.y ? 1 : 0;
      }, "comparePoints") }]), q(e11, "SweepEvent"), i10(e11, [{ key: "link", value: q(function(t50) {
        if (t50.point === this.point)
          throw new Error("Tried to link already linked events");
        for (var e12 = t50.point.events, i11 = 0, n11 = e12.length; i11 < n11; i11++) {
          var r6 = e12[i11];
          this.point.events.push(r6), r6.point = this.point;
        }
        this.checkForConsuming();
      }, "link") }, { key: "checkForConsuming", value: q(function() {
        for (var t50 = this.point.events.length, e12 = 0; e12 < t50; e12++) {
          var i11 = this.point.events[e12];
          if (void 0 === i11.segment.consumedBy)
            for (var n11 = e12 + 1; n11 < t50; n11++) {
              var r6 = this.point.events[n11];
              void 0 === r6.consumedBy && i11.otherSE.point.events === r6.otherSE.point.events && i11.segment.consume(r6.segment);
            }
        }
      }, "checkForConsuming") }, { key: "getAvailableLinkedEvents", value: q(function() {
        for (var t50 = [], e12 = 0, i11 = this.point.events.length; e12 < i11; e12++) {
          var n11 = this.point.events[e12];
          n11 !== this && !n11.segment.ringOut && n11.segment.isInResult() && t50.push(n11);
        }
        return t50;
      }, "getAvailableLinkedEvents") }, { key: "getLeftmostComparator", value: q(function(t50) {
        var e12 = this, i11 = /* @__PURE__ */ new Map(), n11 = q(function(n12) {
          var r6 = n12.otherSE;
          i11.set(n12, { sine: I(e12.point, t50.point, r6.point), cosine: L(e12.point, t50.point, r6.point) });
        }, "fillCache");
        return function(t51, e13) {
          i11.has(t51) || n11(t51), i11.has(e13) || n11(e13);
          var r6 = i11.get(t51), o6 = r6.sine, s10 = r6.cosine, a3 = i11.get(e13), l3 = a3.sine, u2 = a3.cosine;
          return o6 >= 0 && l3 >= 0 ? s10 < u2 ? 1 : s10 > u2 ? -1 : 0 : o6 < 0 && l3 < 0 ? s10 < u2 ? -1 : s10 > u2 ? 1 : 0 : l3 < o6 ? -1 : l3 > o6 ? 1 : 0;
        };
      }, "getLeftmostComparator") }]), e11;
    }(), q4 = 0, k = function() {
      function e11(i11, n11, r6, o6) {
        t49(this, e11), this.id = ++q4, this.leftSE = i11, i11.segment = this, i11.otherSE = n11, this.rightSE = n11, n11.segment = this, n11.otherSE = i11, this.rings = r6, this.windings = o6;
      }
      return i10(e11, null, [{ key: "compare", value: q(function(t50, e12) {
        var i11 = t50.leftSE.point.x, n11 = e12.leftSE.point.x, r6 = t50.rightSE.point.x, o6 = e12.rightSE.point.x;
        if (o6 < i11)
          return 1;
        if (r6 < n11)
          return -1;
        var s10 = t50.leftSE.point.y, a3 = e12.leftSE.point.y, l3 = t50.rightSE.point.y, u2 = e12.rightSE.point.y;
        if (i11 < n11) {
          if (a3 < s10 && a3 < l3)
            return 1;
          if (a3 > s10 && a3 > l3)
            return -1;
          var h2 = t50.comparePoint(e12.leftSE.point);
          if (h2 < 0)
            return 1;
          if (h2 > 0)
            return -1;
          var c4 = e12.comparePoint(t50.rightSE.point);
          return 0 !== c4 ? c4 : -1;
        }
        if (i11 > n11) {
          if (s10 < a3 && s10 < u2)
            return -1;
          if (s10 > a3 && s10 > u2)
            return 1;
          var p10 = e12.comparePoint(t50.leftSE.point);
          if (0 !== p10)
            return p10;
          var d4 = t50.comparePoint(e12.rightSE.point);
          return d4 < 0 ? 1 : d4 > 0 ? -1 : 1;
        }
        if (s10 < a3)
          return -1;
        if (s10 > a3)
          return 1;
        if (r6 < o6) {
          var f2 = e12.comparePoint(t50.rightSE.point);
          if (0 !== f2)
            return f2;
        }
        if (r6 > o6) {
          var g4 = t50.comparePoint(e12.rightSE.point);
          if (g4 < 0)
            return 1;
          if (g4 > 0)
            return -1;
        }
        if (r6 !== o6) {
          var m4 = l3 - s10, v10 = r6 - i11, y10 = u2 - a3, x10 = o6 - n11;
          if (m4 > v10 && y10 < x10)
            return 1;
          if (m4 < v10 && y10 > x10)
            return -1;
        }
        return r6 > o6 ? 1 : r6 < o6 || l3 < u2 ? -1 : l3 > u2 ? 1 : t50.id < e12.id ? -1 : t50.id > e12.id ? 1 : 0;
      }, "compare") }]), q(e11, "Segment"), i10(e11, [{ key: "replaceRightSE", value: q(function(t50) {
        this.rightSE = t50, this.rightSE.segment = this, this.rightSE.otherSE = this.leftSE, this.leftSE.otherSE = this.rightSE;
      }, "replaceRightSE") }, { key: "bbox", value: q(function() {
        var t50 = this.leftSE.point.y, e12 = this.rightSE.point.y;
        return { ll: { x: this.leftSE.point.x, y: t50 < e12 ? t50 : e12 }, ur: { x: this.rightSE.point.x, y: t50 > e12 ? t50 : e12 } };
      }, "bbox") }, { key: "vector", value: q(function() {
        return { x: this.rightSE.point.x - this.leftSE.point.x, y: this.rightSE.point.y - this.leftSE.point.y };
      }, "vector") }, { key: "isAnEndpoint", value: q(function(t50) {
        return t50.x === this.leftSE.point.x && t50.y === this.leftSE.point.y || t50.x === this.rightSE.point.x && t50.y === this.rightSE.point.y;
      }, "isAnEndpoint") }, { key: "comparePoint", value: q(function(t50) {
        if (this.isAnEndpoint(t50))
          return 0;
        var e12 = this.leftSE.point, i11 = this.rightSE.point, n11 = this.vector();
        if (e12.x === i11.x)
          return t50.x === e12.x ? 0 : t50.x < e12.x ? 1 : -1;
        var r6 = (t50.y - e12.y) / n11.y, o6 = e12.x + r6 * n11.x;
        if (t50.x === o6)
          return 0;
        var s10 = (t50.x - e12.x) / n11.x, a3 = e12.y + s10 * n11.y;
        return t50.y === a3 ? 0 : t50.y < a3 ? -1 : 1;
      }, "comparePoint") }, { key: "getIntersection", value: q(function(t50) {
        var e12 = this.bbox(), i11 = t50.bbox(), n11 = x4(e12, i11);
        if (null === n11)
          return null;
        var r6 = this.leftSE.point, o6 = this.rightSE.point, s10 = t50.leftSE.point, a3 = t50.rightSE.point, l3 = y4(e12, s10) && 0 === this.comparePoint(s10), u2 = y4(i11, r6) && 0 === t50.comparePoint(r6), h2 = y4(e12, a3) && 0 === this.comparePoint(a3), c4 = y4(i11, o6) && 0 === t50.comparePoint(o6);
        if (u2 && l3)
          return c4 && !h2 ? o6 : !c4 && h2 ? a3 : null;
        if (u2)
          return h2 && r6.x === a3.x && r6.y === a3.y ? null : r6;
        if (l3)
          return c4 && o6.x === s10.x && o6.y === s10.y ? null : s10;
        if (c4 && h2)
          return null;
        if (c4)
          return o6;
        if (h2)
          return a3;
        var p10 = D(r6, this.vector(), s10, t50.vector());
        return null !== p10 && y4(n11, p10) ? A.round(p10.x, p10.y) : null;
      }, "getIntersection") }, { key: "split", value: q(function(t50) {
        var i11 = [], n11 = void 0 !== t50.events, r6 = new R(t50, true), o6 = new R(t50, false), s10 = this.rightSE;
        this.replaceRightSE(o6), i11.push(o6), i11.push(r6);
        var a3 = new e11(r6, s10, this.rings.slice(), this.windings.slice());
        return R.comparePoints(a3.leftSE.point, a3.rightSE.point) > 0 && a3.swapEvents(), R.comparePoints(this.leftSE.point, this.rightSE.point) > 0 && this.swapEvents(), n11 && (r6.checkForConsuming(), o6.checkForConsuming()), i11;
      }, "split") }, { key: "swapEvents", value: q(function() {
        var t50 = this.rightSE;
        this.rightSE = this.leftSE, this.leftSE = t50, this.leftSE.isLeft = true, this.rightSE.isLeft = false;
        for (var e12 = 0, i11 = this.windings.length; e12 < i11; e12++)
          this.windings[e12] *= -1;
      }, "swapEvents") }, { key: "consume", value: q(function(t50) {
        for (var i11 = this, n11 = t50; i11.consumedBy; )
          i11 = i11.consumedBy;
        for (; n11.consumedBy; )
          n11 = n11.consumedBy;
        var r6 = e11.compare(i11, n11);
        if (0 !== r6) {
          if (r6 > 0) {
            var o6 = i11;
            i11 = n11, n11 = o6;
          }
          if (i11.prev === n11) {
            var s10 = i11;
            i11 = n11, n11 = s10;
          }
          for (var a3 = 0, l3 = n11.rings.length; a3 < l3; a3++) {
            var u2 = n11.rings[a3], h2 = n11.windings[a3], c4 = i11.rings.indexOf(u2);
            -1 === c4 ? (i11.rings.push(u2), i11.windings.push(h2)) : i11.windings[c4] += h2;
          }
          n11.rings = null, n11.windings = null, n11.consumedBy = i11, n11.leftSE.consumedBy = i11.leftSE, n11.rightSE.consumedBy = i11.rightSE;
        }
      }, "consume") }, { key: "prevInResult", value: q(function() {
        return void 0 !== this._prevInResult || (this.prev ? this.prev.isInResult() ? this._prevInResult = this.prev : this._prevInResult = this.prev.prevInResult() : this._prevInResult = null), this._prevInResult;
      }, "prevInResult") }, { key: "beforeState", value: q(function() {
        if (void 0 !== this._beforeState)
          return this._beforeState;
        if (this.prev) {
          var t50 = this.prev.consumedBy || this.prev;
          this._beforeState = t50.afterState();
        } else
          this._beforeState = { rings: [], windings: [], multiPolys: [] };
        return this._beforeState;
      }, "beforeState") }, { key: "afterState", value: q(function() {
        if (void 0 !== this._afterState)
          return this._afterState;
        var t50 = this.beforeState();
        this._afterState = { rings: t50.rings.slice(0), windings: t50.windings.slice(0), multiPolys: [] };
        for (var e12 = this._afterState.rings, i11 = this._afterState.windings, n11 = this._afterState.multiPolys, r6 = 0, o6 = this.rings.length; r6 < o6; r6++) {
          var s10 = this.rings[r6], a3 = this.windings[r6], l3 = e12.indexOf(s10);
          -1 === l3 ? (e12.push(s10), i11.push(a3)) : i11[l3] += a3;
        }
        for (var u2 = [], h2 = [], c4 = 0, p10 = e12.length; c4 < p10; c4++)
          if (0 !== i11[c4]) {
            var d4 = e12[c4], f2 = d4.poly;
            if (-1 === h2.indexOf(f2))
              if (d4.isExterior)
                u2.push(f2);
              else {
                -1 === h2.indexOf(f2) && h2.push(f2);
                var g4 = u2.indexOf(d4.poly);
                -1 !== g4 && u2.splice(g4, 1);
              }
          }
        for (var m4 = 0, v10 = u2.length; m4 < v10; m4++) {
          var y10 = u2[m4].multiPoly;
          -1 === n11.indexOf(y10) && n11.push(y10);
        }
        return this._afterState;
      }, "afterState") }, { key: "isInResult", value: q(function() {
        if (this.consumedBy)
          return false;
        if (void 0 !== this._isInResult)
          return this._isInResult;
        var t50 = this.beforeState().multiPolys, e12 = this.afterState().multiPolys;
        switch (X.type) {
          case "union":
            var i11 = 0 === t50.length, n11 = 0 === e12.length;
            this._isInResult = i11 !== n11;
            break;
          case "intersection":
            var r6, o6;
            t50.length < e12.length ? (r6 = t50.length, o6 = e12.length) : (r6 = e12.length, o6 = t50.length), this._isInResult = o6 === X.numMultiPolys && r6 < o6;
            break;
          case "xor":
            var s10 = Math.abs(t50.length - e12.length);
            this._isInResult = s10 % 2 == 1;
            break;
          case "difference":
            var a3 = q(function(t51) {
              return 1 === t51.length && t51[0].isSubject;
            }, "isJustSubject");
            this._isInResult = a3(t50) !== a3(e12);
            break;
          default:
            throw new Error("Unrecognized operation type found ".concat(X.type));
        }
        return this._isInResult;
      }, "isInResult") }], [{ key: "fromRing", value: q(function(t50, i11, n11) {
        var r6, o6, s10, a3 = R.comparePoints(t50, i11);
        if (a3 < 0)
          r6 = t50, o6 = i11, s10 = 1;
        else {
          if (!(a3 > 0))
            throw new Error("Tried to create degenerate segment at [".concat(t50.x, ", ").concat(t50.y, "]"));
          r6 = i11, o6 = t50, s10 = -1;
        }
        return new e11(new R(r6, true), new R(o6, false), [n11], [s10]);
      }, "fromRing") }]), e11;
    }(), F = function() {
      function e11(i11, n11, r6) {
        if (t49(this, e11), !Array.isArray(i11) || 0 === i11.length)
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        if (this.poly = n11, this.isExterior = r6, this.segments = [], "number" != typeof i11[0][0] || "number" != typeof i11[0][1])
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        var o6 = A.round(i11[0][0], i11[0][1]);
        this.bbox = { ll: { x: o6.x, y: o6.y }, ur: { x: o6.x, y: o6.y } };
        for (var s10 = o6, a3 = 1, l3 = i11.length; a3 < l3; a3++) {
          if ("number" != typeof i11[a3][0] || "number" != typeof i11[a3][1])
            throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
          var u2 = A.round(i11[a3][0], i11[a3][1]);
          u2.x === s10.x && u2.y === s10.y || (this.segments.push(k.fromRing(s10, u2, this)), u2.x < this.bbox.ll.x && (this.bbox.ll.x = u2.x), u2.y < this.bbox.ll.y && (this.bbox.ll.y = u2.y), u2.x > this.bbox.ur.x && (this.bbox.ur.x = u2.x), u2.y > this.bbox.ur.y && (this.bbox.ur.y = u2.y), s10 = u2);
        }
        (o6.x !== s10.x || o6.y !== s10.y) && this.segments.push(k.fromRing(s10, o6, this));
      }
      return q(e11, "RingIn"), i10(e11, [{ key: "getSweepEvents", value: q(function() {
        for (var t50 = [], e12 = 0, i11 = this.segments.length; e12 < i11; e12++) {
          var n11 = this.segments[e12];
          t50.push(n11.leftSE), t50.push(n11.rightSE);
        }
        return t50;
      }, "getSweepEvents") }]), e11;
    }(), U = function() {
      function e11(i11, n11) {
        if (t49(this, e11), !Array.isArray(i11))
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        this.exteriorRing = new F(i11[0], this, true), this.bbox = { ll: { x: this.exteriorRing.bbox.ll.x, y: this.exteriorRing.bbox.ll.y }, ur: { x: this.exteriorRing.bbox.ur.x, y: this.exteriorRing.bbox.ur.y } }, this.interiorRings = [];
        for (var r6 = 1, o6 = i11.length; r6 < o6; r6++) {
          var s10 = new F(i11[r6], this, false);
          s10.bbox.ll.x < this.bbox.ll.x && (this.bbox.ll.x = s10.bbox.ll.x), s10.bbox.ll.y < this.bbox.ll.y && (this.bbox.ll.y = s10.bbox.ll.y), s10.bbox.ur.x > this.bbox.ur.x && (this.bbox.ur.x = s10.bbox.ur.x), s10.bbox.ur.y > this.bbox.ur.y && (this.bbox.ur.y = s10.bbox.ur.y), this.interiorRings.push(s10);
        }
        this.multiPoly = n11;
      }
      return q(e11, "PolyIn"), i10(e11, [{ key: "getSweepEvents", value: q(function() {
        for (var t50 = this.exteriorRing.getSweepEvents(), e12 = 0, i11 = this.interiorRings.length; e12 < i11; e12++)
          for (var n11 = this.interiorRings[e12].getSweepEvents(), r6 = 0, o6 = n11.length; r6 < o6; r6++)
            t50.push(n11[r6]);
        return t50;
      }, "getSweepEvents") }]), e11;
    }(), z = function() {
      function e11(i11, n11) {
        if (t49(this, e11), !Array.isArray(i11))
          throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
        try {
          "number" == typeof i11[0][0][0] && (i11 = [i11]);
        } catch {
        }
        this.polys = [], this.bbox = { ll: { x: Number.POSITIVE_INFINITY, y: Number.POSITIVE_INFINITY }, ur: { x: Number.NEGATIVE_INFINITY, y: Number.NEGATIVE_INFINITY } };
        for (var r6 = 0, o6 = i11.length; r6 < o6; r6++) {
          var s10 = new U(i11[r6], this);
          s10.bbox.ll.x < this.bbox.ll.x && (this.bbox.ll.x = s10.bbox.ll.x), s10.bbox.ll.y < this.bbox.ll.y && (this.bbox.ll.y = s10.bbox.ll.y), s10.bbox.ur.x > this.bbox.ur.x && (this.bbox.ur.x = s10.bbox.ur.x), s10.bbox.ur.y > this.bbox.ur.y && (this.bbox.ur.y = s10.bbox.ur.y), this.polys.push(s10);
        }
        this.isSubject = n11;
      }
      return q(e11, "MultiPolyIn"), i10(e11, [{ key: "getSweepEvents", value: q(function() {
        for (var t50 = [], e12 = 0, i11 = this.polys.length; e12 < i11; e12++)
          for (var n11 = this.polys[e12].getSweepEvents(), r6 = 0, o6 = n11.length; r6 < o6; r6++)
            t50.push(n11[r6]);
        return t50;
      }, "getSweepEvents") }]), e11;
    }(), V = function() {
      function e11(i11) {
        t49(this, e11), this.events = i11;
        for (var n11 = 0, r6 = i11.length; n11 < r6; n11++)
          i11[n11].segment.ringOut = this;
        this.poly = null;
      }
      return i10(e11, null, [{ key: "factory", value: q(function(t50) {
        for (var i11 = [], n11 = 0, r6 = t50.length; n11 < r6; n11++) {
          var o6 = t50[n11];
          if (o6.isInResult() && !o6.ringOut) {
            for (var s10 = null, a3 = o6.leftSE, l3 = o6.rightSE, u2 = [a3], h2 = a3.point, c4 = []; s10 = a3, a3 = l3, u2.push(a3), a3.point !== h2; )
              for (; ; ) {
                var p10 = a3.getAvailableLinkedEvents();
                if (0 === p10.length) {
                  var d4 = u2[0].point, f2 = u2[u2.length - 1].point;
                  throw new Error("Unable to complete output ring starting at [".concat(d4.x, ",") + " ".concat(d4.y, "]. Last matching segment found ends at") + " [".concat(f2.x, ", ").concat(f2.y, "]."));
                }
                if (1 === p10.length) {
                  l3 = p10[0].otherSE;
                  break;
                }
                for (var g4 = null, m4 = 0, v10 = c4.length; m4 < v10; m4++)
                  if (c4[m4].point === a3.point) {
                    g4 = m4;
                    break;
                  }
                if (null === g4) {
                  c4.push({ index: u2.length, point: a3.point });
                  var y10 = a3.getLeftmostComparator(s10);
                  l3 = p10.sort(y10)[0].otherSE;
                  break;
                }
                var x10 = c4.splice(g4)[0], _4 = u2.splice(x10.index);
                _4.unshift(_4[0].otherSE), i11.push(new e11(_4.reverse()));
              }
            i11.push(new e11(u2));
          }
        }
        return i11;
      }, "factory") }]), q(e11, "RingOut"), i10(e11, [{ key: "getGeom", value: q(function() {
        for (var t50 = this.events[0].point, e12 = [t50], i11 = 1, n11 = this.events.length - 1; i11 < n11; i11++) {
          var r6 = this.events[i11].point, o6 = this.events[i11 + 1].point;
          0 !== C(r6, t50, o6) && (e12.push(r6), t50 = r6);
        }
        if (1 === e12.length)
          return null;
        var s10 = e12[0], a3 = e12[1];
        0 === C(s10, t50, a3) && e12.shift(), e12.push(e12[0]);
        for (var l3 = this.isExteriorRing() ? 1 : -1, u2 = this.isExteriorRing() ? 0 : e12.length - 1, h2 = this.isExteriorRing() ? e12.length : -1, c4 = [], p10 = u2; p10 != h2; p10 += l3)
          c4.push([e12[p10].x, e12[p10].y]);
        return c4;
      }, "getGeom") }, { key: "isExteriorRing", value: q(function() {
        if (void 0 === this._isExteriorRing) {
          var t50 = this.enclosingRing();
          this._isExteriorRing = !t50 || !t50.isExteriorRing();
        }
        return this._isExteriorRing;
      }, "isExteriorRing") }, { key: "enclosingRing", value: q(function() {
        return void 0 === this._enclosingRing && (this._enclosingRing = this._calcEnclosingRing()), this._enclosingRing;
      }, "enclosingRing") }, { key: "_calcEnclosingRing", value: q(function() {
        for (var t50 = this.events[0], e12 = 1, i11 = this.events.length; e12 < i11; e12++) {
          var n11 = this.events[e12];
          R.compare(t50, n11) > 0 && (t50 = n11);
        }
        for (var r6 = t50.segment.prevInResult(), o6 = r6 ? r6.prevInResult() : null; ; ) {
          if (!r6)
            return null;
          if (!o6)
            return r6.ringOut;
          if (o6.ringOut !== r6.ringOut)
            return o6.ringOut.enclosingRing() !== r6.ringOut ? r6.ringOut : r6.ringOut.enclosingRing();
          r6 = o6.prevInResult(), o6 = r6 ? r6.prevInResult() : null;
        }
      }, "_calcEnclosingRing") }]), e11;
    }(), j = function() {
      function e11(i11) {
        t49(this, e11), this.exteriorRing = i11, i11.poly = this, this.interiorRings = [];
      }
      return q(e11, "PolyOut"), i10(e11, [{ key: "addInterior", value: q(function(t50) {
        this.interiorRings.push(t50), t50.poly = this;
      }, "addInterior") }, { key: "getGeom", value: q(function() {
        var t50 = [this.exteriorRing.getGeom()];
        if (null === t50[0])
          return null;
        for (var e12 = 0, i11 = this.interiorRings.length; e12 < i11; e12++) {
          var n11 = this.interiorRings[e12].getGeom();
          null !== n11 && t50.push(n11);
        }
        return t50;
      }, "getGeom") }]), e11;
    }(), G = function() {
      function e11(i11) {
        t49(this, e11), this.rings = i11, this.polys = this._composePolys(i11);
      }
      return q(e11, "MultiPolyOut"), i10(e11, [{ key: "getGeom", value: q(function() {
        for (var t50 = [], e12 = 0, i11 = this.polys.length; e12 < i11; e12++) {
          var n11 = this.polys[e12].getGeom();
          null !== n11 && t50.push(n11);
        }
        return t50;
      }, "getGeom") }, { key: "_composePolys", value: q(function(t50) {
        for (var e12 = [], i11 = 0, n11 = t50.length; i11 < n11; i11++) {
          var r6 = t50[i11];
          if (!r6.poly)
            if (r6.isExteriorRing())
              e12.push(new j(r6));
            else {
              var o6 = r6.enclosingRing();
              o6.poly || e12.push(new j(o6)), o6.poly.addInterior(r6);
            }
        }
        return e12;
      }, "_composePolys") }]), e11;
    }(), W = function() {
      function e11(i11) {
        var n11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : k.compare;
        t49(this, e11), this.queue = i11, this.tree = new c2(n11), this.segments = [];
      }
      return q(e11, "SweepLine"), i10(e11, [{ key: "process", value: q(function(t50) {
        var e12 = t50.segment, i11 = [];
        if (t50.consumedBy)
          return t50.isLeft ? this.queue.remove(t50.otherSE) : this.tree.remove(e12), i11;
        var n11 = t50.isLeft ? this.tree.insert(e12) : this.tree.find(e12);
        if (!n11)
          throw new Error("Unable to find segment #".concat(e12.id, " ") + "[".concat(e12.leftSE.point.x, ", ").concat(e12.leftSE.point.y, "] -> ") + "[".concat(e12.rightSE.point.x, ", ").concat(e12.rightSE.point.y, "] ") + "in SweepLine tree. Please submit a bug report.");
        for (var r6 = n11, o6 = n11, s10 = void 0, a3 = void 0; void 0 === s10; )
          null === (r6 = this.tree.prev(r6)) ? s10 = null : void 0 === r6.key.consumedBy && (s10 = r6.key);
        for (; void 0 === a3; )
          null === (o6 = this.tree.next(o6)) ? a3 = null : void 0 === o6.key.consumedBy && (a3 = o6.key);
        if (t50.isLeft) {
          var l3 = null;
          if (s10) {
            var u2 = s10.getIntersection(e12);
            if (null !== u2 && (e12.isAnEndpoint(u2) || (l3 = u2), !s10.isAnEndpoint(u2)))
              for (var h2 = this._splitSafely(s10, u2), c4 = 0, p10 = h2.length; c4 < p10; c4++)
                i11.push(h2[c4]);
          }
          var d4 = null;
          if (a3) {
            var f2 = a3.getIntersection(e12);
            if (null !== f2 && (e12.isAnEndpoint(f2) || (d4 = f2), !a3.isAnEndpoint(f2)))
              for (var g4 = this._splitSafely(a3, f2), m4 = 0, v10 = g4.length; m4 < v10; m4++)
                i11.push(g4[m4]);
          }
          if (null !== l3 || null !== d4) {
            var y10 = null;
            y10 = null === l3 ? d4 : null === d4 || R.comparePoints(l3, d4) <= 0 ? l3 : d4, this.queue.remove(e12.rightSE), i11.push(e12.rightSE);
            for (var x10 = e12.split(y10), _4 = 0, b4 = x10.length; _4 < b4; _4++)
              i11.push(x10[_4]);
          }
          i11.length > 0 ? (this.tree.remove(e12), i11.push(t50)) : (this.segments.push(e12), e12.prev = s10);
        } else {
          if (s10 && a3) {
            var M4 = s10.getIntersection(a3);
            if (null !== M4) {
              if (!s10.isAnEndpoint(M4))
                for (var E4 = this._splitSafely(s10, M4), w10 = 0, A4 = E4.length; w10 < A4; w10++)
                  i11.push(E4[w10]);
              if (!a3.isAnEndpoint(M4))
                for (var S4 = this._splitSafely(a3, M4), T4 = 0, C4 = S4.length; T4 < C4; T4++)
                  i11.push(S4[T4]);
            }
          }
          this.tree.remove(e12);
        }
        return i11;
      }, "process") }, { key: "_splitSafely", value: q(function(t50, e12) {
        this.tree.remove(t50);
        var i11 = t50.rightSE;
        this.queue.remove(i11);
        var n11 = t50.split(e12);
        return n11.push(i11), void 0 === t50.consumedBy && this.tree.insert(t50), n11;
      }, "_splitSafely") }]), e11;
    }(), H = typeof e < "u" && e.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1e6, Y = typeof e < "u" && e.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1e6, X = new (function() {
      function e11() {
        t49(this, e11);
      }
      return q(e11, "Operation"), i10(e11, [{ key: "run", value: q(function(t50, e12, i11) {
        X.type = t50, A.reset();
        for (var n11 = [new z(e12, true)], r6 = 0, o6 = i11.length; r6 < o6; r6++)
          n11.push(new z(i11[r6], false));
        if (X.numMultiPolys = n11.length, "difference" === X.type)
          for (var s10 = n11[0], a3 = 1; a3 < n11.length; )
            null !== x4(n11[a3].bbox, s10.bbox) ? a3++ : n11.splice(a3, 1);
        if ("intersection" === X.type) {
          for (var l3 = 0, u2 = n11.length; l3 < u2; l3++)
            for (var h2 = n11[l3], p10 = l3 + 1, d4 = n11.length; p10 < d4; p10++)
              if (null === x4(h2.bbox, n11[p10].bbox))
                return [];
        }
        for (var f2 = new c2(R.compare), g4 = 0, m4 = n11.length; g4 < m4; g4++)
          for (var v10 = n11[g4].getSweepEvents(), y10 = 0, _4 = v10.length; y10 < _4; y10++)
            if (f2.insert(v10[y10]), f2.size > H)
              throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");
        for (var b4 = new W(f2), M4 = f2.size, E4 = f2.pop(); E4; ) {
          var w10 = E4.key;
          if (f2.size === M4) {
            var S4 = w10.segment;
            throw new Error("Unable to pop() ".concat(w10.isLeft ? "left" : "right", " SweepEvent ") + "[".concat(w10.point.x, ", ").concat(w10.point.y, "] from segment #").concat(S4.id, " ") + "[".concat(S4.leftSE.point.x, ", ").concat(S4.leftSE.point.y, "] -> ") + "[".concat(S4.rightSE.point.x, ", ").concat(S4.rightSE.point.y, "] from queue. ") + "Please file a bug report.");
          }
          if (f2.size > H)
            throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");
          if (b4.segments.length > Y)
            throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");
          for (var T4 = b4.process(w10), C4 = 0, P4 = T4.length; C4 < P4; C4++) {
            var I4 = T4[C4];
            void 0 === I4.consumedBy && f2.insert(I4);
          }
          M4 = f2.size, E4 = f2.pop();
        }
        A.reset();
        var L4 = V.factory(b4.segments);
        return new G(L4).getGeom();
      }, "run") }]), e11;
    }())(), K10 = q(function(t50) {
      for (var e11 = arguments.length, i11 = new Array(e11 > 1 ? e11 - 1 : 0), n11 = 1; n11 < e11; n11++)
        i11[n11 - 1] = arguments[n11];
      return X.run("union", t50, i11);
    }, "union"), Z = q(function(t50) {
      for (var e11 = arguments.length, i11 = new Array(e11 > 1 ? e11 - 1 : 0), n11 = 1; n11 < e11; n11++)
        i11[n11 - 1] = arguments[n11];
      return X.run("intersection", t50, i11);
    }, "intersection"), Q = q(function(t50) {
      for (var e11 = arguments.length, i11 = new Array(e11 > 1 ? e11 - 1 : 0), n11 = 1; n11 < e11; n11++)
        i11[n11 - 1] = arguments[n11];
      return X.run("xor", t50, i11);
    }, "xor"), J = q(function(t50) {
      for (var e11 = arguments.length, i11 = new Array(e11 > 1 ? e11 - 1 : 0), n11 = 1; n11 < e11; n11++)
        i11[n11 - 1] = arguments[n11];
      return X.run("difference", t50, i11);
    }, "difference");
    return { union: K10, intersection: Z, xor: Q, difference: J };
  }, "object" == typeof t48 && typeof e6 < "u" ? e6.exports = n() : "function" == typeof define && define.amd ? define(n) : (i = typeof globalThis < "u" ? globalThis : i || self).polygonClipping = n();
});
var $G = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function(t49) {
    "use strict";
    function e10() {
    }
    function i10(t50) {
      this.message = t50 || "";
    }
    function n10(t50) {
      this.message = t50 || "";
    }
    function r(t50) {
      this.message = t50 || "";
    }
    function o3() {
    }
    function s6(t50) {
      return null === t50 ? Rt : t50.color;
    }
    function a(t50) {
      return null === t50 ? null : t50.parent;
    }
    function l(t50, e11) {
      null !== t50 && (t50.color = e11);
    }
    function h(t50) {
      return null === t50 ? null : t50.left;
    }
    function c2(t50) {
      return null === t50 ? null : t50.right;
    }
    function p4() {
      this.root_ = null, this.size_ = 0;
    }
    function d() {
    }
    function f() {
      this.array_ = [], arguments[0] instanceof bt && this.addAll(arguments[0]);
    }
    function g() {
    }
    function m(t50) {
      this.message = t50 || "";
    }
    function v4() {
      this.array_ = [];
    }
    q(e10, "e"), q(i10, "n"), q(n10, "i"), q(r, "r"), q(o3, "o"), q(s6, "s"), q(a, "a"), q(l, "u"), q(h, "l"), q(c2, "c"), q(p4, "p"), q(d, "h"), q(f, "f"), q(g, "g"), q(m, "d"), q(v4, "y"), "fill" in Array.prototype || Object.defineProperty(Array.prototype, "fill", { configurable: true, value: function(t50) {
      if (null == this)
        throw new TypeError(this + " is not an object");
      var e11 = Object(this), i11 = Math.max(Math.min(e11.length, 9007199254740991), 0) || 0, n11 = 1 in arguments && parseInt(Number(arguments[1]), 10) || 0;
      n11 = n11 < 0 ? Math.max(i11 + n11, 0) : Math.min(n11, i11);
      var r6 = 2 in arguments && void 0 !== arguments[2] ? parseInt(Number(arguments[2]), 10) || 0 : i11;
      for (r6 = r6 < 0 ? Math.max(i11 + arguments[2], 0) : Math.min(r6, i11); n11 < r6; )
        e11[n11] = t50, ++n11;
      return e11;
    }, writable: true }), Number.isFinite = Number.isFinite || function(t50) {
      return "number" == typeof t50 && isFinite(t50);
    }, Number.isInteger = Number.isInteger || function(t50) {
      return "number" == typeof t50 && isFinite(t50) && Math.floor(t50) === t50;
    }, Number.parseFloat = Number.parseFloat || parseFloat, Number.isNaN = Number.isNaN || function(t50) {
      return t50 != t50;
    }, Math.trunc = Math.trunc || function(t50) {
      return t50 < 0 ? Math.ceil(t50) : Math.floor(t50);
    };
    var y4 = q(function() {
    }, "_");
    y4.prototype.interfaces_ = function() {
      return [];
    }, y4.prototype.getClass = function() {
      return y4;
    }, y4.prototype.equalsWithTolerance = function(t50, e11, i11) {
      return Math.abs(t50 - e11) <= i11;
    };
    var x4 = function(t50) {
      function e11(e12) {
        t50.call(this, e12), this.name = "IllegalArgumentException", this.message = e12, this.stack = new t50().stack;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11;
    }(Error), _ = q(function() {
    }, "v"), b = { MAX_VALUE: { configurable: true } };
    _.isNaN = function(t50) {
      return Number.isNaN(t50);
    }, _.doubleToLongBits = function(t50) {
      return t50;
    }, _.longBitsToDouble = function(t50) {
      return t50;
    }, _.isInfinite = function(t50) {
      return !Number.isFinite(t50);
    }, b.MAX_VALUE.get = function() {
      return Number.MAX_VALUE;
    }, Object.defineProperties(_, b);
    var M = q(function() {
    }, "E"), E = q(function() {
    }, "x"), w4 = q(function() {
    }, "N"), A = q(function t50() {
      if (this.x = null, this.y = null, this.z = null, 0 === arguments.length)
        this.x = 0, this.y = 0, this.z = t50.NULL_ORDINATE;
      else if (1 === arguments.length) {
        var e11 = arguments[0];
        this.x = e11.x, this.y = e11.y, this.z = e11.z;
      } else
        2 === arguments.length ? (this.x = arguments[0], this.y = arguments[1], this.z = t50.NULL_ORDINATE) : 3 === arguments.length && (this.x = arguments[0], this.y = arguments[1], this.z = arguments[2]);
    }, "t"), S = { DimensionalComparator: { configurable: true }, serialVersionUID: { configurable: true }, NULL_ORDINATE: { configurable: true }, X: { configurable: true }, Y: { configurable: true }, Z: { configurable: true } };
    A.prototype.setOrdinate = function(t50, e11) {
      switch (t50) {
        case A.X:
          this.x = e11;
          break;
        case A.Y:
          this.y = e11;
          break;
        case A.Z:
          this.z = e11;
          break;
        default:
          throw new x4("Invalid ordinate index: " + t50);
      }
    }, A.prototype.equals2D = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this.x === t50.x && this.y === t50.y;
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return !!y4.equalsWithTolerance(this.x, e11.x, i11) && !!y4.equalsWithTolerance(this.y, e11.y, i11);
      }
    }, A.prototype.getOrdinate = function(t50) {
      switch (t50) {
        case A.X:
          return this.x;
        case A.Y:
          return this.y;
        case A.Z:
          return this.z;
      }
      throw new x4("Invalid ordinate index: " + t50);
    }, A.prototype.equals3D = function(t50) {
      return this.x === t50.x && this.y === t50.y && (this.z === t50.z || _.isNaN(this.z)) && _.isNaN(t50.z);
    }, A.prototype.equals = function(t50) {
      return t50 instanceof A && this.equals2D(t50);
    }, A.prototype.equalInZ = function(t50, e11) {
      return y4.equalsWithTolerance(this.z, t50.z, e11);
    }, A.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this.x < e11.x ? -1 : this.x > e11.x ? 1 : this.y < e11.y ? -1 : this.y > e11.y ? 1 : 0;
    }, A.prototype.clone = function() {
    }, A.prototype.copy = function() {
      return new A(this);
    }, A.prototype.toString = function() {
      return "(" + this.x + ", " + this.y + ", " + this.z + ")";
    }, A.prototype.distance3D = function(t50) {
      var e11 = this.x - t50.x, i11 = this.y - t50.y, n11 = this.z - t50.z;
      return Math.sqrt(e11 * e11 + i11 * i11 + n11 * n11);
    }, A.prototype.distance = function(t50) {
      var e11 = this.x - t50.x, i11 = this.y - t50.y;
      return Math.sqrt(e11 * e11 + i11 * i11);
    }, A.prototype.hashCode = function() {
      var t50 = 17;
      return 37 * (t50 = 37 * t50 + A.hashCode(this.x)) + A.hashCode(this.y);
    }, A.prototype.setCoordinate = function(t50) {
      this.x = t50.x, this.y = t50.y, this.z = t50.z;
    }, A.prototype.interfaces_ = function() {
      return [M, E, e10];
    }, A.prototype.getClass = function() {
      return A;
    }, A.hashCode = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = _.doubleToLongBits(t50);
        return Math.trunc((e11 ^ e11) >>> 32);
      }
    }, S.DimensionalComparator.get = function() {
      return T;
    }, S.serialVersionUID.get = function() {
      return 6683108902428367e3;
    }, S.NULL_ORDINATE.get = function() {
      return _.NaN;
    }, S.X.get = function() {
      return 0;
    }, S.Y.get = function() {
      return 1;
    }, S.Z.get = function() {
      return 2;
    }, Object.defineProperties(A, S);
    var T = q(function(t50) {
      if (this._dimensionsToTest = 2, 0 !== arguments.length && 1 === arguments.length) {
        var e11 = arguments[0];
        if (2 !== e11 && 3 !== e11)
          throw new x4("only 2 or 3 dimensions may be specified");
        this._dimensionsToTest = e11;
      }
    }, "L");
    T.prototype.compare = function(t50, e11) {
      var i11 = t50, n11 = e11, r6 = T.compare(i11.x, n11.x);
      if (0 !== r6)
        return r6;
      var o6 = T.compare(i11.y, n11.y);
      return 0 !== o6 ? o6 : this._dimensionsToTest <= 2 ? 0 : T.compare(i11.z, n11.z);
    }, T.prototype.interfaces_ = function() {
      return [w4];
    }, T.prototype.getClass = function() {
      return T;
    }, T.compare = function(t50, e11) {
      return t50 < e11 ? -1 : t50 > e11 ? 1 : _.isNaN(t50) ? _.isNaN(e11) ? 0 : -1 : _.isNaN(e11) ? 1 : 0;
    };
    var C = q(function() {
    }, "b");
    C.prototype.create = function() {
    }, C.prototype.interfaces_ = function() {
      return [];
    }, C.prototype.getClass = function() {
      return C;
    };
    var P = q(function() {
    }, "w"), I = { INTERIOR: { configurable: true }, BOUNDARY: { configurable: true }, EXTERIOR: { configurable: true }, NONE: { configurable: true } };
    P.prototype.interfaces_ = function() {
      return [];
    }, P.prototype.getClass = function() {
      return P;
    }, P.toLocationSymbol = function(t50) {
      switch (t50) {
        case P.EXTERIOR:
          return "e";
        case P.BOUNDARY:
          return "b";
        case P.INTERIOR:
          return "i";
        case P.NONE:
          return "-";
      }
      throw new x4("Unknown location value: " + t50);
    }, I.INTERIOR.get = function() {
      return 0;
    }, I.BOUNDARY.get = function() {
      return 1;
    }, I.EXTERIOR.get = function() {
      return 2;
    }, I.NONE.get = function() {
      return -1;
    }, Object.defineProperties(P, I);
    var L = q(function(t50, e11) {
      return t50.interfaces_ && t50.interfaces_().indexOf(e11) > -1;
    }, "T"), O = q(function() {
    }, "R"), N = { LOG_10: { configurable: true } };
    O.prototype.interfaces_ = function() {
      return [];
    }, O.prototype.getClass = function() {
      return O;
    }, O.log10 = function(t50) {
      var e11 = Math.log(t50);
      return _.isInfinite(e11) || _.isNaN(e11) ? e11 : e11 / O.LOG_10;
    }, O.min = function(t50, e11, i11, n11) {
      var r6 = t50;
      return e11 < r6 && (r6 = e11), i11 < r6 && (r6 = i11), n11 < r6 && (r6 = n11), r6;
    }, O.clamp = function() {
      if ("number" == typeof arguments[2] && "number" == typeof arguments[0] && "number" == typeof arguments[1]) {
        var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
        return t50 < e11 ? e11 : t50 > i11 ? i11 : t50;
      }
      if (Number.isInteger(arguments[2]) && Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
        return n11 < r6 ? r6 : n11 > o6 ? o6 : n11;
      }
    }, O.wrap = function(t50, e11) {
      return t50 < 0 ? e11 - -t50 % e11 : t50 % e11;
    }, O.max = function() {
      if (3 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = t50;
        return e11 > n11 && (n11 = e11), i11 > n11 && (n11 = i11), n11;
      }
      if (4 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2], a3 = arguments[3], l3 = r6;
        return o6 > l3 && (l3 = o6), s10 > l3 && (l3 = s10), a3 > l3 && (l3 = a3), l3;
      }
    }, O.average = function(t50, e11) {
      return (t50 + e11) / 2;
    }, N.LOG_10.get = function() {
      return Math.log(10);
    }, Object.defineProperties(O, N);
    var D = q(function(t50) {
      this.str = t50;
    }, "D");
    D.prototype.append = function(t50) {
      this.str += t50;
    }, D.prototype.setCharAt = function(t50, e11) {
      this.str = this.str.substr(0, t50) + e11 + this.str.substr(t50 + 1);
    }, D.prototype.toString = function(t50) {
      return this.str;
    };
    var R = q(function(t50) {
      this.value = t50;
    }, "M");
    R.prototype.intValue = function() {
      return this.value;
    }, R.prototype.compareTo = function(t50) {
      return this.value < t50 ? -1 : this.value > t50 ? 1 : 0;
    }, R.isNaN = function(t50) {
      return Number.isNaN(t50);
    };
    var q4 = q(function() {
    }, "A");
    q4.isWhitespace = function(t50) {
      return t50 <= 32 && t50 >= 0 || 127 === t50;
    }, q4.toUpperCase = function(t50) {
      return t50.toUpperCase();
    };
    var B = q(function t50() {
      if (this._hi = 0, this._lo = 0, 0 === arguments.length)
        this.init(0);
      else if (1 === arguments.length) {
        if ("number" == typeof arguments[0]) {
          var e11 = arguments[0];
          this.init(e11);
        } else if (arguments[0] instanceof t50) {
          var i11 = arguments[0];
          this.init(i11);
        } else if ("string" == typeof arguments[0]) {
          var n11 = arguments[0];
          t50.call(this, t50.parse(n11));
        }
      } else if (2 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1];
        this.init(r6, o6);
      }
    }, "t"), k = { PI: { configurable: true }, TWO_PI: { configurable: true }, PI_2: { configurable: true }, E: { configurable: true }, NaN: { configurable: true }, EPS: { configurable: true }, SPLIT: { configurable: true }, MAX_PRINT_DIGITS: { configurable: true }, TEN: { configurable: true }, ONE: { configurable: true }, SCI_NOT_EXPONENT_CHAR: { configurable: true }, SCI_NOT_ZERO: { configurable: true } };
    B.prototype.le = function(t50) {
      return (this._hi < t50._hi || this._hi === t50._hi) && this._lo <= t50._lo;
    }, B.prototype.extractSignificantDigits = function(t50, e11) {
      var i11 = this.abs(), n11 = B.magnitude(i11._hi), r6 = B.TEN.pow(n11);
      (i11 = i11.divide(r6)).gt(B.TEN) ? (i11 = i11.divide(B.TEN), n11 += 1) : i11.lt(B.ONE) && (i11 = i11.multiply(B.TEN), n11 -= 1);
      for (var o6 = n11 + 1, s10 = new D(), a3 = B.MAX_PRINT_DIGITS - 1, l3 = 0; l3 <= a3; l3++) {
        t50 && l3 === o6 && s10.append(".");
        var u2 = Math.trunc(i11._hi);
        if (u2 < 0)
          break;
        var h2 = false, c4 = 0;
        u2 > 9 ? (h2 = true, c4 = "9") : c4 = "0" + u2, s10.append(c4), i11 = i11.subtract(B.valueOf(u2)).multiply(B.TEN), h2 && i11.selfAdd(B.TEN);
        var p10 = true, d4 = B.magnitude(i11._hi);
        if (d4 < 0 && Math.abs(d4) >= a3 - l3 && (p10 = false), !p10)
          break;
      }
      return e11[0] = n11, s10.toString();
    }, B.prototype.sqr = function() {
      return this.multiply(this);
    }, B.prototype.doubleValue = function() {
      return this._hi + this._lo;
    }, B.prototype.subtract = function() {
      if (arguments[0] instanceof B) {
        var t50 = arguments[0];
        return this.add(t50.negate());
      }
      if ("number" == typeof arguments[0]) {
        var e11 = arguments[0];
        return this.add(-e11);
      }
    }, B.prototype.equals = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this._hi === t50._hi && this._lo === t50._lo;
      }
    }, B.prototype.isZero = function() {
      return 0 === this._hi && 0 === this._lo;
    }, B.prototype.selfSubtract = function() {
      if (arguments[0] instanceof B) {
        var t50 = arguments[0];
        return this.isNaN() ? this : this.selfAdd(-t50._hi, -t50._lo);
      }
      if ("number" == typeof arguments[0]) {
        var e11 = arguments[0];
        return this.isNaN() ? this : this.selfAdd(-e11, 0);
      }
    }, B.prototype.getSpecialNumberString = function() {
      return this.isZero() ? "0.0" : this.isNaN() ? "NaN " : null;
    }, B.prototype.min = function(t50) {
      return this.le(t50) ? this : t50;
    }, B.prototype.selfDivide = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof B) {
          var t50 = arguments[0];
          return this.selfDivide(t50._hi, t50._lo);
        }
        if ("number" == typeof arguments[0]) {
          var e11 = arguments[0];
          return this.selfDivide(e11, 0);
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = null, o6 = null, s10 = null, a3 = null, l3 = null, u2 = null, h2 = null, c4 = null;
        return l3 = this._hi / i11, c4 = (r6 = (u2 = B.SPLIT * l3) - (r6 = u2 - l3)) * (s10 = (c4 = B.SPLIT * i11) - (s10 = c4 - i11)) - (h2 = l3 * i11) + r6 * (a3 = i11 - s10) + (o6 = l3 - r6) * s10 + o6 * a3, c4 = l3 + (u2 = (this._hi - h2 - c4 + this._lo - l3 * n11) / i11), this._hi = c4, this._lo = l3 - c4 + u2, this;
      }
    }, B.prototype.dump = function() {
      return "DD<" + this._hi + ", " + this._lo + ">";
    }, B.prototype.divide = function() {
      if (arguments[0] instanceof B) {
        var t50 = arguments[0], e11 = null, i11 = null, n11 = null, r6 = null, o6 = null, s10 = null, a3 = null, l3 = null;
        return i11 = (o6 = this._hi / t50._hi) - (e11 = (s10 = B.SPLIT * o6) - (e11 = s10 - o6)), l3 = e11 * (n11 = (l3 = B.SPLIT * t50._hi) - (n11 = l3 - t50._hi)) - (a3 = o6 * t50._hi) + e11 * (r6 = t50._hi - n11) + i11 * n11 + i11 * r6, s10 = (this._hi - a3 - l3 + this._lo - o6 * t50._lo) / t50._hi, new B(l3 = o6 + s10, o6 - l3 + s10);
      }
      if ("number" == typeof arguments[0]) {
        var u2 = arguments[0];
        return _.isNaN(u2) ? B.createNaN() : B.copy(this).selfDivide(u2, 0);
      }
    }, B.prototype.ge = function(t50) {
      return (this._hi > t50._hi || this._hi === t50._hi) && this._lo >= t50._lo;
    }, B.prototype.pow = function(t50) {
      if (0 === t50)
        return B.valueOf(1);
      var e11 = new B(this), i11 = B.valueOf(1), n11 = Math.abs(t50);
      if (n11 > 1)
        for (; n11 > 0; )
          n11 % 2 == 1 && i11.selfMultiply(e11), (n11 /= 2) > 0 && (e11 = e11.sqr());
      else
        i11 = e11;
      return t50 < 0 ? i11.reciprocal() : i11;
    }, B.prototype.ceil = function() {
      if (this.isNaN())
        return B.NaN;
      var t50 = Math.ceil(this._hi), e11 = 0;
      return t50 === this._hi && (e11 = Math.ceil(this._lo)), new B(t50, e11);
    }, B.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this._hi < e11._hi ? -1 : this._hi > e11._hi ? 1 : this._lo < e11._lo ? -1 : this._lo > e11._lo ? 1 : 0;
    }, B.prototype.rint = function() {
      return this.isNaN() ? this : this.add(0.5).floor();
    }, B.prototype.setValue = function() {
      if (arguments[0] instanceof B) {
        var t50 = arguments[0];
        return this.init(t50), this;
      }
      if ("number" == typeof arguments[0]) {
        var e11 = arguments[0];
        return this.init(e11), this;
      }
    }, B.prototype.max = function(t50) {
      return this.ge(t50) ? this : t50;
    }, B.prototype.sqrt = function() {
      if (this.isZero())
        return B.valueOf(0);
      if (this.isNegative())
        return B.NaN;
      var t50 = 1 / Math.sqrt(this._hi), e11 = this._hi * t50, i11 = B.valueOf(e11), n11 = this.subtract(i11.sqr())._hi * (0.5 * t50);
      return i11.add(n11);
    }, B.prototype.selfAdd = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof B) {
          var t50 = arguments[0];
          return this.selfAdd(t50._hi, t50._lo);
        }
        if ("number" == typeof arguments[0]) {
          var e11 = arguments[0], i11 = null, n11 = null, r6 = null, o6 = null, s10 = null, a3 = null;
          return o6 = (r6 = this._hi + e11) - (s10 = r6 - this._hi), n11 = (a3 = (o6 = e11 - s10 + (this._hi - o6)) + this._lo) + (r6 - (i11 = r6 + a3)), this._hi = i11 + n11, this._lo = n11 + (i11 - this._hi), this;
        }
      } else if (2 === arguments.length) {
        var l3 = arguments[0], u2 = arguments[1], h2 = null, c4 = null, p10 = null, d4 = null, f2 = null, g4 = null, m4 = null;
        d4 = this._hi + l3, c4 = this._lo + u2, f2 = d4 - (g4 = d4 - this._hi), p10 = c4 - (m4 = c4 - this._lo);
        var v10 = (h2 = d4 + (g4 = (f2 = l3 - g4 + (this._hi - f2)) + c4)) + (g4 = (p10 = u2 - m4 + (this._lo - p10)) + (g4 + (d4 - h2))), y10 = g4 + (h2 - v10);
        return this._hi = v10, this._lo = y10, this;
      }
    }, B.prototype.selfMultiply = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof B) {
          var t50 = arguments[0];
          return this.selfMultiply(t50._hi, t50._lo);
        }
        if ("number" == typeof arguments[0]) {
          var e11 = arguments[0];
          return this.selfMultiply(e11, 0);
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = null, o6 = null, s10 = null, a3 = null, l3 = null, u2 = null;
        r6 = (l3 = B.SPLIT * this._hi) - this._hi, u2 = B.SPLIT * i11, r6 = l3 - r6, o6 = this._hi - r6, s10 = u2 - i11;
        var h2 = (l3 = this._hi * i11) + (u2 = r6 * (s10 = u2 - s10) - l3 + r6 * (a3 = i11 - s10) + o6 * s10 + o6 * a3 + (this._hi * n11 + this._lo * i11)), c4 = u2 + (r6 = l3 - h2);
        return this._hi = h2, this._lo = c4, this;
      }
    }, B.prototype.selfSqr = function() {
      return this.selfMultiply(this);
    }, B.prototype.floor = function() {
      if (this.isNaN())
        return B.NaN;
      var t50 = Math.floor(this._hi), e11 = 0;
      return t50 === this._hi && (e11 = Math.floor(this._lo)), new B(t50, e11);
    }, B.prototype.negate = function() {
      return this.isNaN() ? this : new B(-this._hi, -this._lo);
    }, B.prototype.clone = function() {
    }, B.prototype.multiply = function() {
      if (arguments[0] instanceof B) {
        var t50 = arguments[0];
        return t50.isNaN() ? B.createNaN() : B.copy(this).selfMultiply(t50);
      }
      if ("number" == typeof arguments[0]) {
        var e11 = arguments[0];
        return _.isNaN(e11) ? B.createNaN() : B.copy(this).selfMultiply(e11, 0);
      }
    }, B.prototype.isNaN = function() {
      return _.isNaN(this._hi);
    }, B.prototype.intValue = function() {
      return Math.trunc(this._hi);
    }, B.prototype.toString = function() {
      var t50 = B.magnitude(this._hi);
      return t50 >= -3 && t50 <= 20 ? this.toStandardNotation() : this.toSciNotation();
    }, B.prototype.toStandardNotation = function() {
      var t50 = this.getSpecialNumberString();
      if (null !== t50)
        return t50;
      var e11 = new Array(1).fill(null), i11 = this.extractSignificantDigits(true, e11), n11 = e11[0] + 1, r6 = i11;
      if ("." === i11.charAt(0))
        r6 = "0" + i11;
      else if (n11 < 0)
        r6 = "0." + B.stringOfChar("0", -n11) + i11;
      else if (-1 === i11.indexOf(".")) {
        var o6 = n11 - i11.length;
        r6 = i11 + B.stringOfChar("0", o6) + ".0";
      }
      return this.isNegative() ? "-" + r6 : r6;
    }, B.prototype.reciprocal = function() {
      var t50, e11, i11, n11, r6 = null, o6 = null, s10 = null, a3 = null;
      t50 = (i11 = 1 / this._hi) - (r6 = (s10 = B.SPLIT * i11) - (r6 = s10 - i11)), o6 = (a3 = B.SPLIT * this._hi) - this._hi;
      var l3 = i11 + (s10 = (1 - (n11 = i11 * this._hi) - (a3 = r6 * (o6 = a3 - o6) - n11 + r6 * (e11 = this._hi - o6) + t50 * o6 + t50 * e11) - i11 * this._lo) / this._hi);
      return new B(l3, i11 - l3 + s10);
    }, B.prototype.toSciNotation = function() {
      if (this.isZero())
        return B.SCI_NOT_ZERO;
      var t50 = this.getSpecialNumberString();
      if (null !== t50)
        return t50;
      var e11 = new Array(1).fill(null), i11 = this.extractSignificantDigits(false, e11), n11 = B.SCI_NOT_EXPONENT_CHAR + e11[0];
      if ("0" === i11.charAt(0))
        throw new Error("Found leading zero: " + i11);
      var r6 = "";
      i11.length > 1 && (r6 = i11.substring(1));
      var o6 = i11.charAt(0) + "." + r6;
      return this.isNegative() ? "-" + o6 + n11 : o6 + n11;
    }, B.prototype.abs = function() {
      return this.isNaN() ? B.NaN : this.isNegative() ? this.negate() : new B(this);
    }, B.prototype.isPositive = function() {
      return (this._hi > 0 || 0 === this._hi) && this._lo > 0;
    }, B.prototype.lt = function(t50) {
      return (this._hi < t50._hi || this._hi === t50._hi) && this._lo < t50._lo;
    }, B.prototype.add = function() {
      if (arguments[0] instanceof B) {
        var t50 = arguments[0];
        return B.copy(this).selfAdd(t50);
      }
      if ("number" == typeof arguments[0]) {
        var e11 = arguments[0];
        return B.copy(this).selfAdd(e11);
      }
    }, B.prototype.init = function() {
      if (1 === arguments.length) {
        if ("number" == typeof arguments[0]) {
          var t50 = arguments[0];
          this._hi = t50, this._lo = 0;
        } else if (arguments[0] instanceof B) {
          var e11 = arguments[0];
          this._hi = e11._hi, this._lo = e11._lo;
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        this._hi = i11, this._lo = n11;
      }
    }, B.prototype.gt = function(t50) {
      return (this._hi > t50._hi || this._hi === t50._hi) && this._lo > t50._lo;
    }, B.prototype.isNegative = function() {
      return (this._hi < 0 || 0 === this._hi) && this._lo < 0;
    }, B.prototype.trunc = function() {
      return this.isNaN() ? B.NaN : this.isPositive() ? this.floor() : this.ceil();
    }, B.prototype.signum = function() {
      return this._hi > 0 ? 1 : this._hi < 0 ? -1 : this._lo > 0 ? 1 : this._lo < 0 ? -1 : 0;
    }, B.prototype.interfaces_ = function() {
      return [e10, M, E];
    }, B.prototype.getClass = function() {
      return B;
    }, B.sqr = function(t50) {
      return B.valueOf(t50).selfMultiply(t50);
    }, B.valueOf = function() {
      if ("string" == typeof arguments[0]) {
        var t50 = arguments[0];
        return B.parse(t50);
      }
      if ("number" == typeof arguments[0]) {
        var e11 = arguments[0];
        return new B(e11);
      }
    }, B.sqrt = function(t50) {
      return B.valueOf(t50).sqrt();
    }, B.parse = function(t50) {
      for (var e11 = 0, i11 = t50.length; q4.isWhitespace(t50.charAt(e11)); )
        e11++;
      var n11 = false;
      if (e11 < i11) {
        var r6 = t50.charAt(e11);
        "-" !== r6 && "+" !== r6 || (e11++, "-" === r6 && (n11 = true));
      }
      for (var o6 = new B(), s10 = 0, a3 = 0, l3 = 0; !(e11 >= i11); ) {
        var u2 = t50.charAt(e11);
        if (e11++, q4.isDigit(u2)) {
          var h2 = u2 - "0";
          o6.selfMultiply(B.TEN), o6.selfAdd(h2), s10++;
        } else {
          if ("." !== u2) {
            if ("e" === u2 || "E" === u2) {
              var c4 = t50.substring(e11);
              try {
                l3 = R.parseInt(c4);
              } catch (e12) {
                throw e12 instanceof Error ? new Error("Invalid exponent " + c4 + " in string " + t50) : e12;
              }
              break;
            }
            throw new Error("Unexpected character '" + u2 + "' at position " + e11 + " in string " + t50);
          }
          a3 = s10;
        }
      }
      var p10 = o6, d4 = s10 - a3 - l3;
      if (0 === d4)
        p10 = o6;
      else if (d4 > 0) {
        var f2 = B.TEN.pow(d4);
        p10 = o6.divide(f2);
      } else if (d4 < 0) {
        var g4 = B.TEN.pow(-d4);
        p10 = o6.multiply(g4);
      }
      return n11 ? p10.negate() : p10;
    }, B.createNaN = function() {
      return new B(_.NaN, _.NaN);
    }, B.copy = function(t50) {
      return new B(t50);
    }, B.magnitude = function(t50) {
      var e11 = Math.abs(t50), i11 = Math.log(e11) / Math.log(10), n11 = Math.trunc(Math.floor(i11));
      return 10 * Math.pow(10, n11) <= e11 && (n11 += 1), n11;
    }, B.stringOfChar = function(t50, e11) {
      for (var i11 = new D(), n11 = 0; n11 < e11; n11++)
        i11.append(t50);
      return i11.toString();
    }, k.PI.get = function() {
      return new B(3.141592653589793, 12246467991473532e-32);
    }, k.TWO_PI.get = function() {
      return new B(6.283185307179586, 24492935982947064e-32);
    }, k.PI_2.get = function() {
      return new B(1.5707963267948966, 6123233995736766e-32);
    }, k.E.get = function() {
      return new B(2.718281828459045, 14456468917292502e-32);
    }, k.NaN.get = function() {
      return new B(_.NaN, _.NaN);
    }, k.EPS.get = function() {
      return 123259516440783e-46;
    }, k.SPLIT.get = function() {
      return 134217729;
    }, k.MAX_PRINT_DIGITS.get = function() {
      return 32;
    }, k.TEN.get = function() {
      return B.valueOf(10);
    }, k.ONE.get = function() {
      return B.valueOf(1);
    }, k.SCI_NOT_EXPONENT_CHAR.get = function() {
      return "E";
    }, k.SCI_NOT_ZERO.get = function() {
      return "0.0E0";
    }, Object.defineProperties(B, k);
    var F = q(function() {
    }, "q"), U = { DP_SAFE_EPSILON: { configurable: true } };
    F.prototype.interfaces_ = function() {
      return [];
    }, F.prototype.getClass = function() {
      return F;
    }, F.orientationIndex = function(t50, e11, i11) {
      var n11 = F.orientationIndexFilter(t50, e11, i11);
      if (n11 <= 1)
        return n11;
      var r6 = B.valueOf(e11.x).selfAdd(-t50.x), o6 = B.valueOf(e11.y).selfAdd(-t50.y), s10 = B.valueOf(i11.x).selfAdd(-e11.x), a3 = B.valueOf(i11.y).selfAdd(-e11.y);
      return r6.selfMultiply(a3).selfSubtract(o6.selfMultiply(s10)).signum();
    }, F.signOfDet2x2 = function(t50, e11, i11, n11) {
      return t50.multiply(n11).selfSubtract(e11.multiply(i11)).signum();
    }, F.intersection = function(t50, e11, i11, n11) {
      var r6 = B.valueOf(n11.y).selfSubtract(i11.y).selfMultiply(B.valueOf(e11.x).selfSubtract(t50.x)), o6 = B.valueOf(n11.x).selfSubtract(i11.x).selfMultiply(B.valueOf(e11.y).selfSubtract(t50.y)), s10 = r6.subtract(o6), a3 = B.valueOf(n11.x).selfSubtract(i11.x).selfMultiply(B.valueOf(t50.y).selfSubtract(i11.y)), l3 = B.valueOf(n11.y).selfSubtract(i11.y).selfMultiply(B.valueOf(t50.x).selfSubtract(i11.x)), u2 = a3.subtract(l3).selfDivide(s10).doubleValue(), h2 = B.valueOf(t50.x).selfAdd(B.valueOf(e11.x).selfSubtract(t50.x).selfMultiply(u2)).doubleValue(), c4 = B.valueOf(e11.x).selfSubtract(t50.x).selfMultiply(B.valueOf(t50.y).selfSubtract(i11.y)), p10 = B.valueOf(e11.y).selfSubtract(t50.y).selfMultiply(B.valueOf(t50.x).selfSubtract(i11.x)), d4 = c4.subtract(p10).selfDivide(s10).doubleValue(), f2 = B.valueOf(i11.y).selfAdd(B.valueOf(n11.y).selfSubtract(i11.y).selfMultiply(d4)).doubleValue();
      return new A(h2, f2);
    }, F.orientationIndexFilter = function(t50, e11, i11) {
      var n11 = null, r6 = (t50.x - i11.x) * (e11.y - i11.y), o6 = (t50.y - i11.y) * (e11.x - i11.x), s10 = r6 - o6;
      if (r6 > 0) {
        if (o6 <= 0)
          return F.signum(s10);
        n11 = r6 + o6;
      } else {
        if (!(r6 < 0) || o6 >= 0)
          return F.signum(s10);
        n11 = -r6 - o6;
      }
      var a3 = F.DP_SAFE_EPSILON * n11;
      return s10 >= a3 || -s10 >= a3 ? F.signum(s10) : 2;
    }, F.signum = function(t50) {
      return t50 > 0 ? 1 : t50 < 0 ? -1 : 0;
    }, U.DP_SAFE_EPSILON.get = function() {
      return 1e-15;
    }, Object.defineProperties(F, U);
    var z = q(function() {
    }, "V"), V = { X: { configurable: true }, Y: { configurable: true }, Z: { configurable: true }, M: { configurable: true } };
    V.X.get = function() {
      return 0;
    }, V.Y.get = function() {
      return 1;
    }, V.Z.get = function() {
      return 2;
    }, V.M.get = function() {
      return 3;
    }, z.prototype.setOrdinate = function(t50, e11, i11) {
    }, z.prototype.size = function() {
    }, z.prototype.getOrdinate = function(t50, e11) {
    }, z.prototype.getCoordinate = function() {
    }, z.prototype.getCoordinateCopy = function(t50) {
    }, z.prototype.getDimension = function() {
    }, z.prototype.getX = function(t50) {
    }, z.prototype.clone = function() {
    }, z.prototype.expandEnvelope = function(t50) {
    }, z.prototype.copy = function() {
    }, z.prototype.getY = function(t50) {
    }, z.prototype.toCoordinateArray = function() {
    }, z.prototype.interfaces_ = function() {
      return [E];
    }, z.prototype.getClass = function() {
      return z;
    }, Object.defineProperties(z, V);
    var j = q(function() {
    }, "z"), G = function(t50) {
      function e11() {
        t50.call(this, "Projective point not representable on the Cartesian plane.");
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(j), W = q(function() {
    }, "Y");
    W.arraycopy = function(t50, e11, i11, n11, r6) {
      for (var o6 = 0, s10 = e11; s10 < e11 + r6; s10++)
        i11[n11 + o6] = t50[s10], o6++;
    }, W.getProperty = function(t50) {
      return { "line.separator": "\n" }[t50];
    };
    var H = q(function t50() {
      if (this.x = null, this.y = null, this.w = null, 0 === arguments.length)
        this.x = 0, this.y = 0, this.w = 1;
      else if (1 === arguments.length) {
        var e11 = arguments[0];
        this.x = e11.x, this.y = e11.y, this.w = 1;
      } else if (2 === arguments.length) {
        if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) {
          var i11 = arguments[0], n11 = arguments[1];
          this.x = i11, this.y = n11, this.w = 1;
        } else if (arguments[0] instanceof t50 && arguments[1] instanceof t50) {
          var r6 = arguments[0], o6 = arguments[1];
          this.x = r6.y * o6.w - o6.y * r6.w, this.y = o6.x * r6.w - r6.x * o6.w, this.w = r6.x * o6.y - o6.x * r6.y;
        } else if (arguments[0] instanceof A && arguments[1] instanceof A) {
          var s10 = arguments[0], a3 = arguments[1];
          this.x = s10.y - a3.y, this.y = a3.x - s10.x, this.w = s10.x * a3.y - a3.x * s10.y;
        }
      } else if (3 === arguments.length) {
        var l3 = arguments[0], u2 = arguments[1], h2 = arguments[2];
        this.x = l3, this.y = u2, this.w = h2;
      } else if (4 === arguments.length) {
        var c4 = arguments[0], p10 = arguments[1], d4 = arguments[2], f2 = arguments[3], g4 = c4.y - p10.y, m4 = p10.x - c4.x, v10 = c4.x * p10.y - p10.x * c4.y, y10 = d4.y - f2.y, x10 = f2.x - d4.x, _4 = d4.x * f2.y - f2.x * d4.y;
        this.x = m4 * _4 - x10 * v10, this.y = y10 * v10 - g4 * _4, this.w = g4 * x10 - y10 * m4;
      }
    }, "t");
    H.prototype.getY = function() {
      var t50 = this.y / this.w;
      if (_.isNaN(t50) || _.isInfinite(t50))
        throw new G();
      return t50;
    }, H.prototype.getX = function() {
      var t50 = this.x / this.w;
      if (_.isNaN(t50) || _.isInfinite(t50))
        throw new G();
      return t50;
    }, H.prototype.getCoordinate = function() {
      var t50 = new A();
      return t50.x = this.getX(), t50.y = this.getY(), t50;
    }, H.prototype.interfaces_ = function() {
      return [];
    }, H.prototype.getClass = function() {
      return H;
    }, H.intersection = function(t50, e11, i11, n11) {
      var r6 = t50.y - e11.y, o6 = e11.x - t50.x, s10 = t50.x * e11.y - e11.x * t50.y, a3 = i11.y - n11.y, l3 = n11.x - i11.x, u2 = i11.x * n11.y - n11.x * i11.y, h2 = r6 * l3 - a3 * o6, c4 = (o6 * u2 - l3 * s10) / h2, p10 = (a3 * s10 - r6 * u2) / h2;
      if (_.isNaN(c4) || _.isInfinite(c4) || _.isNaN(p10) || _.isInfinite(p10))
        throw new G();
      return new A(c4, p10);
    };
    var Y = q(function t50() {
      if (this._minx = null, this._maxx = null, this._miny = null, this._maxy = null, 0 === arguments.length)
        this.init();
      else if (1 === arguments.length) {
        if (arguments[0] instanceof A) {
          var e11 = arguments[0];
          this.init(e11.x, e11.x, e11.y, e11.y);
        } else if (arguments[0] instanceof t50) {
          var i11 = arguments[0];
          this.init(i11);
        }
      } else if (2 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1];
        this.init(n11.x, r6.x, n11.y, r6.y);
      } else if (4 === arguments.length) {
        var o6 = arguments[0], s10 = arguments[1], a3 = arguments[2], l3 = arguments[3];
        this.init(o6, s10, a3, l3);
      }
    }, "t"), X = { serialVersionUID: { configurable: true } };
    Y.prototype.getArea = function() {
      return this.getWidth() * this.getHeight();
    }, Y.prototype.equals = function(t50) {
      if (!(t50 instanceof Y))
        return false;
      var e11 = t50;
      return this.isNull() ? e11.isNull() : this._maxx === e11.getMaxX() && this._maxy === e11.getMaxY() && this._minx === e11.getMinX() && this._miny === e11.getMinY();
    }, Y.prototype.intersection = function(t50) {
      if (this.isNull() || t50.isNull() || !this.intersects(t50))
        return new Y();
      var e11 = this._minx > t50._minx ? this._minx : t50._minx, i11 = this._miny > t50._miny ? this._miny : t50._miny, n11 = this._maxx < t50._maxx ? this._maxx : t50._maxx, r6 = this._maxy < t50._maxy ? this._maxy : t50._maxy;
      return new Y(e11, n11, i11, r6);
    }, Y.prototype.isNull = function() {
      return this._maxx < this._minx;
    }, Y.prototype.getMaxX = function() {
      return this._maxx;
    }, Y.prototype.covers = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof A) {
          var t50 = arguments[0];
          return this.covers(t50.x, t50.y);
        }
        if (arguments[0] instanceof Y) {
          var e11 = arguments[0];
          return !this.isNull() && !e11.isNull() && e11.getMinX() >= this._minx && e11.getMaxX() <= this._maxx && e11.getMinY() >= this._miny && e11.getMaxY() <= this._maxy;
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        return !this.isNull() && i11 >= this._minx && i11 <= this._maxx && n11 >= this._miny && n11 <= this._maxy;
      }
    }, Y.prototype.intersects = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof Y) {
          var t50 = arguments[0];
          return !this.isNull() && !t50.isNull() && !(t50._minx > this._maxx || t50._maxx < this._minx || t50._miny > this._maxy || t50._maxy < this._miny);
        }
        if (arguments[0] instanceof A) {
          var e11 = arguments[0];
          return this.intersects(e11.x, e11.y);
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        return !this.isNull() && !(i11 > this._maxx || i11 < this._minx || n11 > this._maxy || n11 < this._miny);
      }
    }, Y.prototype.getMinY = function() {
      return this._miny;
    }, Y.prototype.getMinX = function() {
      return this._minx;
    }, Y.prototype.expandToInclude = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof A) {
          var t50 = arguments[0];
          this.expandToInclude(t50.x, t50.y);
        } else if (arguments[0] instanceof Y) {
          var e11 = arguments[0];
          if (e11.isNull())
            return null;
          this.isNull() ? (this._minx = e11.getMinX(), this._maxx = e11.getMaxX(), this._miny = e11.getMinY(), this._maxy = e11.getMaxY()) : (e11._minx < this._minx && (this._minx = e11._minx), e11._maxx > this._maxx && (this._maxx = e11._maxx), e11._miny < this._miny && (this._miny = e11._miny), e11._maxy > this._maxy && (this._maxy = e11._maxy));
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        this.isNull() ? (this._minx = i11, this._maxx = i11, this._miny = n11, this._maxy = n11) : (i11 < this._minx && (this._minx = i11), i11 > this._maxx && (this._maxx = i11), n11 < this._miny && (this._miny = n11), n11 > this._maxy && (this._maxy = n11));
      }
    }, Y.prototype.minExtent = function() {
      if (this.isNull())
        return 0;
      var t50 = this.getWidth(), e11 = this.getHeight();
      return t50 < e11 ? t50 : e11;
    }, Y.prototype.getWidth = function() {
      return this.isNull() ? 0 : this._maxx - this._minx;
    }, Y.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this.isNull() ? e11.isNull() ? 0 : -1 : e11.isNull() ? 1 : this._minx < e11._minx ? -1 : this._minx > e11._minx ? 1 : this._miny < e11._miny ? -1 : this._miny > e11._miny ? 1 : this._maxx < e11._maxx ? -1 : this._maxx > e11._maxx ? 1 : this._maxy < e11._maxy ? -1 : this._maxy > e11._maxy ? 1 : 0;
    }, Y.prototype.translate = function(t50, e11) {
      if (this.isNull())
        return null;
      this.init(this.getMinX() + t50, this.getMaxX() + t50, this.getMinY() + e11, this.getMaxY() + e11);
    }, Y.prototype.toString = function() {
      return "Env[" + this._minx + " : " + this._maxx + ", " + this._miny + " : " + this._maxy + "]";
    }, Y.prototype.setToNull = function() {
      this._minx = 0, this._maxx = -1, this._miny = 0, this._maxy = -1;
    }, Y.prototype.getHeight = function() {
      return this.isNull() ? 0 : this._maxy - this._miny;
    }, Y.prototype.maxExtent = function() {
      if (this.isNull())
        return 0;
      var t50 = this.getWidth(), e11 = this.getHeight();
      return t50 > e11 ? t50 : e11;
    }, Y.prototype.expandBy = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.expandBy(t50, t50);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        if (this.isNull())
          return null;
        this._minx -= e11, this._maxx += e11, this._miny -= i11, this._maxy += i11, (this._minx > this._maxx || this._miny > this._maxy) && this.setToNull();
      }
    }, Y.prototype.contains = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof Y) {
          var t50 = arguments[0];
          return this.covers(t50);
        }
        if (arguments[0] instanceof A) {
          var e11 = arguments[0];
          return this.covers(e11);
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        return this.covers(i11, n11);
      }
    }, Y.prototype.centre = function() {
      return this.isNull() ? null : new A((this.getMinX() + this.getMaxX()) / 2, (this.getMinY() + this.getMaxY()) / 2);
    }, Y.prototype.init = function() {
      if (0 === arguments.length)
        this.setToNull();
      else if (1 === arguments.length) {
        if (arguments[0] instanceof A) {
          var t50 = arguments[0];
          this.init(t50.x, t50.x, t50.y, t50.y);
        } else if (arguments[0] instanceof Y) {
          var e11 = arguments[0];
          this._minx = e11._minx, this._maxx = e11._maxx, this._miny = e11._miny, this._maxy = e11._maxy;
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        this.init(i11.x, n11.x, i11.y, n11.y);
      } else if (4 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2], a3 = arguments[3];
        r6 < o6 ? (this._minx = r6, this._maxx = o6) : (this._minx = o6, this._maxx = r6), s10 < a3 ? (this._miny = s10, this._maxy = a3) : (this._miny = a3, this._maxy = s10);
      }
    }, Y.prototype.getMaxY = function() {
      return this._maxy;
    }, Y.prototype.distance = function(t50) {
      if (this.intersects(t50))
        return 0;
      var e11 = 0;
      this._maxx < t50._minx ? e11 = t50._minx - this._maxx : this._minx > t50._maxx && (e11 = this._minx - t50._maxx);
      var i11 = 0;
      return this._maxy < t50._miny ? i11 = t50._miny - this._maxy : this._miny > t50._maxy && (i11 = this._miny - t50._maxy), 0 === e11 ? i11 : 0 === i11 ? e11 : Math.sqrt(e11 * e11 + i11 * i11);
    }, Y.prototype.hashCode = function() {
      var t50 = 17;
      return 37 * (t50 = 37 * (t50 = 37 * (t50 = 37 * t50 + A.hashCode(this._minx)) + A.hashCode(this._maxx)) + A.hashCode(this._miny)) + A.hashCode(this._maxy);
    }, Y.prototype.interfaces_ = function() {
      return [M, e10];
    }, Y.prototype.getClass = function() {
      return Y;
    }, Y.intersects = function() {
      if (3 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
        return i11.x >= (t50.x < e11.x ? t50.x : e11.x) && i11.x <= (t50.x > e11.x ? t50.x : e11.x) && i11.y >= (t50.y < e11.y ? t50.y : e11.y) && i11.y <= (t50.y > e11.y ? t50.y : e11.y);
      }
      if (4 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2], s10 = arguments[3], a3 = Math.min(o6.x, s10.x), l3 = Math.max(o6.x, s10.x), u2 = Math.min(n11.x, r6.x), h2 = Math.max(n11.x, r6.x);
        return !(u2 > l3 || h2 < a3 || (a3 = Math.min(o6.y, s10.y), l3 = Math.max(o6.y, s10.y), u2 = Math.min(n11.y, r6.y), h2 = Math.max(n11.y, r6.y), u2 > l3 || h2 < a3));
      }
    }, X.serialVersionUID.get = function() {
      return 5873921885273102e3;
    }, Object.defineProperties(Y, X);
    var K10 = { typeStr: /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/, emptyTypeStr: /^\s*(\w+)\s*EMPTY\s*$/, spaces: /\s+/, parenComma: /\)\s*,\s*\(/, doubleParenComma: /\)\s*\)\s*,\s*\(\s*\(/, trimParens: /^\s*\(?(.*?)\)?\s*$/ }, Z = q(function(t50) {
      this.geometryFactory = t50 || new ye();
    }, "K");
    Z.prototype.read = function(t50) {
      var e11, i11, n11;
      t50 = t50.replace(/[\n\r]/g, " ");
      var r6 = K10.typeStr.exec(t50);
      if (-1 !== t50.search("EMPTY") && ((r6 = K10.emptyTypeStr.exec(t50))[2] = void 0), r6 && (i11 = r6[1].toLowerCase(), n11 = r6[2], J[i11] && (e11 = J[i11].apply(this, [n11]))), void 0 === e11)
        throw new Error("Could not parse WKT " + t50);
      return e11;
    }, Z.prototype.write = function(t50) {
      return this.extractGeometry(t50);
    }, Z.prototype.extractGeometry = function(t50) {
      var e11 = t50.getGeometryType().toLowerCase();
      if (!Q[e11])
        return null;
      var i11 = e11.toUpperCase();
      return t50.isEmpty() ? i11 + " EMPTY" : i11 + "(" + Q[e11].apply(this, [t50]) + ")";
    };
    var Q = { coordinate: function(t50) {
      return t50.x + " " + t50.y;
    }, point: function(t50) {
      return Q.coordinate.call(this, t50._coordinates._coordinates[0]);
    }, multipoint: function(t50) {
      for (var e11 = [], i11 = 0, n11 = t50._geometries.length; i11 < n11; ++i11)
        e11.push("(" + Q.point.apply(this, [t50._geometries[i11]]) + ")");
      return e11.join(",");
    }, linestring: function(t50) {
      for (var e11 = [], i11 = 0, n11 = t50._points._coordinates.length; i11 < n11; ++i11)
        e11.push(Q.coordinate.apply(this, [t50._points._coordinates[i11]]));
      return e11.join(",");
    }, linearring: function(t50) {
      for (var e11 = [], i11 = 0, n11 = t50._points._coordinates.length; i11 < n11; ++i11)
        e11.push(Q.coordinate.apply(this, [t50._points._coordinates[i11]]));
      return e11.join(",");
    }, multilinestring: function(t50) {
      for (var e11 = [], i11 = 0, n11 = t50._geometries.length; i11 < n11; ++i11)
        e11.push("(" + Q.linestring.apply(this, [t50._geometries[i11]]) + ")");
      return e11.join(",");
    }, polygon: function(t50) {
      var e11 = [];
      e11.push("(" + Q.linestring.apply(this, [t50._shell]) + ")");
      for (var i11 = 0, n11 = t50._holes.length; i11 < n11; ++i11)
        e11.push("(" + Q.linestring.apply(this, [t50._holes[i11]]) + ")");
      return e11.join(",");
    }, multipolygon: function(t50) {
      for (var e11 = [], i11 = 0, n11 = t50._geometries.length; i11 < n11; ++i11)
        e11.push("(" + Q.polygon.apply(this, [t50._geometries[i11]]) + ")");
      return e11.join(",");
    }, geometrycollection: function(t50) {
      for (var e11 = [], i11 = 0, n11 = t50._geometries.length; i11 < n11; ++i11)
        e11.push(this.extractGeometry(t50._geometries[i11]));
      return e11.join(",");
    } }, J = { point: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createPoint();
      var e11 = t50.trim().split(K10.spaces);
      return this.geometryFactory.createPoint(new A(Number.parseFloat(e11[0]), Number.parseFloat(e11[1])));
    }, multipoint: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createMultiPoint();
      for (var e11, i11 = t50.trim().split(","), n11 = [], r6 = 0, o6 = i11.length; r6 < o6; ++r6)
        e11 = i11[r6].replace(K10.trimParens, "$1"), n11.push(J.point.apply(this, [e11]));
      return this.geometryFactory.createMultiPoint(n11);
    }, linestring: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createLineString();
      for (var e11, i11 = t50.trim().split(","), n11 = [], r6 = 0, o6 = i11.length; r6 < o6; ++r6)
        e11 = i11[r6].trim().split(K10.spaces), n11.push(new A(Number.parseFloat(e11[0]), Number.parseFloat(e11[1])));
      return this.geometryFactory.createLineString(n11);
    }, linearring: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createLinearRing();
      for (var e11, i11 = t50.trim().split(","), n11 = [], r6 = 0, o6 = i11.length; r6 < o6; ++r6)
        e11 = i11[r6].trim().split(K10.spaces), n11.push(new A(Number.parseFloat(e11[0]), Number.parseFloat(e11[1])));
      return this.geometryFactory.createLinearRing(n11);
    }, multilinestring: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createMultiLineString();
      for (var e11, i11 = t50.trim().split(K10.parenComma), n11 = [], r6 = 0, o6 = i11.length; r6 < o6; ++r6)
        e11 = i11[r6].replace(K10.trimParens, "$1"), n11.push(J.linestring.apply(this, [e11]));
      return this.geometryFactory.createMultiLineString(n11);
    }, polygon: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createPolygon();
      for (var e11, i11, n11, r6, o6 = t50.trim().split(K10.parenComma), s10 = [], a3 = 0, l3 = o6.length; a3 < l3; ++a3)
        e11 = o6[a3].replace(K10.trimParens, "$1"), i11 = J.linestring.apply(this, [e11]), n11 = this.geometryFactory.createLinearRing(i11._points), 0 === a3 ? r6 = n11 : s10.push(n11);
      return this.geometryFactory.createPolygon(r6, s10);
    }, multipolygon: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createMultiPolygon();
      for (var e11, i11 = t50.trim().split(K10.doubleParenComma), n11 = [], r6 = 0, o6 = i11.length; r6 < o6; ++r6)
        e11 = i11[r6].replace(K10.trimParens, "$1"), n11.push(J.polygon.apply(this, [e11]));
      return this.geometryFactory.createMultiPolygon(n11);
    }, geometrycollection: function(t50) {
      if (void 0 === t50)
        return this.geometryFactory.createGeometryCollection();
      for (var e11 = (t50 = t50.replace(/,\s*([A-Za-z])/g, "|$1")).trim().split("|"), i11 = [], n11 = 0, r6 = e11.length; n11 < r6; ++n11)
        i11.push(this.read(e11[n11]));
      return this.geometryFactory.createGeometryCollection(i11);
    } }, $ = q(function(t50) {
      this.parser = new Z(t50);
    }, "Z");
    $.prototype.write = function(t50) {
      return this.parser.write(t50);
    }, $.toLineString = function(t50, e11) {
      if (2 !== arguments.length)
        throw new Error("Not implemented");
      return "LINESTRING ( " + t50.x + " " + t50.y + ", " + e11.x + " " + e11.y + " )";
    };
    var tt = function(t50) {
      function e11(e12) {
        t50.call(this, e12), this.name = "RuntimeException", this.message = e12, this.stack = new t50().stack;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11;
    }(Error), et = function(t50) {
      function e11() {
        if (t50.call(this), 0 === arguments.length)
          t50.call(this);
        else if (1 === arguments.length) {
          var e12 = arguments[0];
          t50.call(this, e12);
        }
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(tt), it = q(function() {
    }, "et");
    it.prototype.interfaces_ = function() {
      return [];
    }, it.prototype.getClass = function() {
      return it;
    }, it.shouldNeverReachHere = function() {
      if (0 === arguments.length)
        it.shouldNeverReachHere(null);
      else if (1 === arguments.length) {
        var t50 = arguments[0];
        throw new et("Should never reach here" + (null !== t50 ? ": " + t50 : ""));
      }
    }, it.isTrue = function() {
      var t50, e11;
      if (1 === arguments.length)
        t50 = arguments[0], it.isTrue(t50, null);
      else if (2 === arguments.length && (e11 = arguments[1], !(t50 = arguments[0])))
        throw null === e11 ? new et() : new et(e11);
    }, it.equals = function() {
      var t50, e11, i11;
      if (2 === arguments.length)
        t50 = arguments[0], e11 = arguments[1], it.equals(t50, e11, null);
      else if (3 === arguments.length && (t50 = arguments[0], i11 = arguments[2], !(e11 = arguments[1]).equals(t50)))
        throw new et("Expected " + t50 + " but encountered " + e11 + (null !== i11 ? ": " + i11 : ""));
    };
    var nt2 = q(function() {
      this._result = null, this._inputLines = Array(2).fill().map(function() {
        return Array(2);
      }), this._intPt = new Array(2).fill(null), this._intLineIndex = null, this._isProper = null, this._pa = null, this._pb = null, this._precisionModel = null, this._intPt[0] = new A(), this._intPt[1] = new A(), this._pa = this._intPt[0], this._pb = this._intPt[1], this._result = 0;
    }, "nt"), rt = { DONT_INTERSECT: { configurable: true }, DO_INTERSECT: { configurable: true }, COLLINEAR: { configurable: true }, NO_INTERSECTION: { configurable: true }, POINT_INTERSECTION: { configurable: true }, COLLINEAR_INTERSECTION: { configurable: true } };
    nt2.prototype.getIndexAlongSegment = function(t50, e11) {
      return this.computeIntLineIndex(), this._intLineIndex[t50][e11];
    }, nt2.prototype.getTopologySummary = function() {
      var t50 = new D();
      return this.isEndPoint() && t50.append(" endpoint"), this._isProper && t50.append(" proper"), this.isCollinear() && t50.append(" collinear"), t50.toString();
    }, nt2.prototype.computeIntersection = function(t50, e11, i11, n11) {
      this._inputLines[0][0] = t50, this._inputLines[0][1] = e11, this._inputLines[1][0] = i11, this._inputLines[1][1] = n11, this._result = this.computeIntersect(t50, e11, i11, n11);
    }, nt2.prototype.getIntersectionNum = function() {
      return this._result;
    }, nt2.prototype.computeIntLineIndex = function() {
      if (0 === arguments.length)
        null === this._intLineIndex && (this._intLineIndex = Array(2).fill().map(function() {
          return Array(2);
        }), this.computeIntLineIndex(0), this.computeIntLineIndex(1));
      else if (1 === arguments.length) {
        var t50 = arguments[0];
        this.getEdgeDistance(t50, 0) > this.getEdgeDistance(t50, 1) ? (this._intLineIndex[t50][0] = 0, this._intLineIndex[t50][1] = 1) : (this._intLineIndex[t50][0] = 1, this._intLineIndex[t50][1] = 0);
      }
    }, nt2.prototype.isProper = function() {
      return this.hasIntersection() && this._isProper;
    }, nt2.prototype.setPrecisionModel = function(t50) {
      this._precisionModel = t50;
    }, nt2.prototype.isInteriorIntersection = function() {
      if (0 === arguments.length)
        return !!this.isInteriorIntersection(0) || !!this.isInteriorIntersection(1);
      if (1 === arguments.length) {
        for (var t50 = arguments[0], e11 = 0; e11 < this._result; e11++)
          if (!this._intPt[e11].equals2D(this._inputLines[t50][0]) && !this._intPt[e11].equals2D(this._inputLines[t50][1]))
            return true;
        return false;
      }
    }, nt2.prototype.getIntersection = function(t50) {
      return this._intPt[t50];
    }, nt2.prototype.isEndPoint = function() {
      return this.hasIntersection() && !this._isProper;
    }, nt2.prototype.hasIntersection = function() {
      return this._result !== nt2.NO_INTERSECTION;
    }, nt2.prototype.getEdgeDistance = function(t50, e11) {
      return nt2.computeEdgeDistance(this._intPt[e11], this._inputLines[t50][0], this._inputLines[t50][1]);
    }, nt2.prototype.isCollinear = function() {
      return this._result === nt2.COLLINEAR_INTERSECTION;
    }, nt2.prototype.toString = function() {
      return $.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + " - " + $.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary();
    }, nt2.prototype.getEndpoint = function(t50, e11) {
      return this._inputLines[t50][e11];
    }, nt2.prototype.isIntersection = function(t50) {
      for (var e11 = 0; e11 < this._result; e11++)
        if (this._intPt[e11].equals2D(t50))
          return true;
      return false;
    }, nt2.prototype.getIntersectionAlongSegment = function(t50, e11) {
      return this.computeIntLineIndex(), this._intPt[this._intLineIndex[t50][e11]];
    }, nt2.prototype.interfaces_ = function() {
      return [];
    }, nt2.prototype.getClass = function() {
      return nt2;
    }, nt2.computeEdgeDistance = function(t50, e11, i11) {
      var n11 = Math.abs(i11.x - e11.x), r6 = Math.abs(i11.y - e11.y), o6 = -1;
      if (t50.equals(e11))
        o6 = 0;
      else if (t50.equals(i11))
        o6 = n11 > r6 ? n11 : r6;
      else {
        var s10 = Math.abs(t50.x - e11.x), a3 = Math.abs(t50.y - e11.y);
        0 !== (o6 = n11 > r6 ? s10 : a3) || t50.equals(e11) || (o6 = Math.max(s10, a3));
      }
      return it.isTrue(!(0 === o6 && !t50.equals(e11)), "Bad distance calculation"), o6;
    }, nt2.nonRobustComputeEdgeDistance = function(t50, e11, i11) {
      var n11 = t50.x - e11.x, r6 = t50.y - e11.y, o6 = Math.sqrt(n11 * n11 + r6 * r6);
      return it.isTrue(!(0 === o6 && !t50.equals(e11)), "Invalid distance calculation"), o6;
    }, rt.DONT_INTERSECT.get = function() {
      return 0;
    }, rt.DO_INTERSECT.get = function() {
      return 1;
    }, rt.COLLINEAR.get = function() {
      return 2;
    }, rt.NO_INTERSECTION.get = function() {
      return 0;
    }, rt.POINT_INTERSECTION.get = function() {
      return 1;
    }, rt.COLLINEAR_INTERSECTION.get = function() {
      return 2;
    }, Object.defineProperties(nt2, rt);
    var ot = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.isInSegmentEnvelopes = function(t51) {
        var e12 = new Y(this._inputLines[0][0], this._inputLines[0][1]), i11 = new Y(this._inputLines[1][0], this._inputLines[1][1]);
        return e12.contains(t51) && i11.contains(t51);
      }, e11.prototype.computeIntersection = function() {
        if (3 !== arguments.length)
          return t50.prototype.computeIntersection.apply(this, arguments);
        var e12 = arguments[0], i11 = arguments[1], n11 = arguments[2];
        if (this._isProper = false, Y.intersects(i11, n11, e12) && 0 === lt.orientationIndex(i11, n11, e12) && 0 === lt.orientationIndex(n11, i11, e12))
          return this._isProper = true, (e12.equals(i11) || e12.equals(n11)) && (this._isProper = false), this._result = t50.POINT_INTERSECTION, null;
        this._result = t50.NO_INTERSECTION;
      }, e11.prototype.normalizeToMinimum = function(t51, e12, i11, n11, r6) {
        r6.x = this.smallestInAbsValue(t51.x, e12.x, i11.x, n11.x), r6.y = this.smallestInAbsValue(t51.y, e12.y, i11.y, n11.y), t51.x -= r6.x, t51.y -= r6.y, e12.x -= r6.x, e12.y -= r6.y, i11.x -= r6.x, i11.y -= r6.y, n11.x -= r6.x, n11.y -= r6.y;
      }, e11.prototype.safeHCoordinateIntersection = function(t51, i11, n11, r6) {
        var o6 = null;
        try {
          o6 = H.intersection(t51, i11, n11, r6);
        } catch (s10) {
          if (!(s10 instanceof G))
            throw s10;
          o6 = e11.nearestEndpoint(t51, i11, n11, r6);
        }
        return o6;
      }, e11.prototype.intersection = function(t51, i11, n11, r6) {
        var o6 = this.intersectionWithNormalization(t51, i11, n11, r6);
        return this.isInSegmentEnvelopes(o6) || (o6 = new A(e11.nearestEndpoint(t51, i11, n11, r6))), null !== this._precisionModel && this._precisionModel.makePrecise(o6), o6;
      }, e11.prototype.smallestInAbsValue = function(t51, e12, i11, n11) {
        var r6 = t51, o6 = Math.abs(r6);
        return Math.abs(e12) < o6 && (r6 = e12, o6 = Math.abs(e12)), Math.abs(i11) < o6 && (r6 = i11, o6 = Math.abs(i11)), Math.abs(n11) < o6 && (r6 = n11), r6;
      }, e11.prototype.checkDD = function(t51, e12, i11, n11, r6) {
        var o6 = F.intersection(t51, e12, i11, n11), s10 = this.isInSegmentEnvelopes(o6);
        W.out.println("DD in env = " + s10 + "  --------------------- " + o6), r6.distance(o6) > 1e-4 && W.out.println("Distance = " + r6.distance(o6));
      }, e11.prototype.intersectionWithNormalization = function(t51, e12, i11, n11) {
        var r6 = new A(t51), o6 = new A(e12), s10 = new A(i11), a3 = new A(n11), l3 = new A();
        this.normalizeToEnvCentre(r6, o6, s10, a3, l3);
        var u2 = this.safeHCoordinateIntersection(r6, o6, s10, a3);
        return u2.x += l3.x, u2.y += l3.y, u2;
      }, e11.prototype.computeCollinearIntersection = function(e12, i11, n11, r6) {
        var o6 = Y.intersects(e12, i11, n11), s10 = Y.intersects(e12, i11, r6), a3 = Y.intersects(n11, r6, e12), l3 = Y.intersects(n11, r6, i11);
        return o6 && s10 ? (this._intPt[0] = n11, this._intPt[1] = r6, t50.COLLINEAR_INTERSECTION) : a3 && l3 ? (this._intPt[0] = e12, this._intPt[1] = i11, t50.COLLINEAR_INTERSECTION) : o6 && a3 ? (this._intPt[0] = n11, this._intPt[1] = e12, !n11.equals(e12) || s10 || l3 ? t50.COLLINEAR_INTERSECTION : t50.POINT_INTERSECTION) : o6 && l3 ? (this._intPt[0] = n11, this._intPt[1] = i11, !n11.equals(i11) || s10 || a3 ? t50.COLLINEAR_INTERSECTION : t50.POINT_INTERSECTION) : s10 && a3 ? (this._intPt[0] = r6, this._intPt[1] = e12, !r6.equals(e12) || o6 || l3 ? t50.COLLINEAR_INTERSECTION : t50.POINT_INTERSECTION) : s10 && l3 ? (this._intPt[0] = r6, this._intPt[1] = i11, !r6.equals(i11) || o6 || a3 ? t50.COLLINEAR_INTERSECTION : t50.POINT_INTERSECTION) : t50.NO_INTERSECTION;
      }, e11.prototype.normalizeToEnvCentre = function(t51, e12, i11, n11, r6) {
        var o6 = t51.x < e12.x ? t51.x : e12.x, s10 = t51.y < e12.y ? t51.y : e12.y, a3 = t51.x > e12.x ? t51.x : e12.x, l3 = t51.y > e12.y ? t51.y : e12.y, u2 = i11.x < n11.x ? i11.x : n11.x, h2 = i11.y < n11.y ? i11.y : n11.y, c4 = i11.x > n11.x ? i11.x : n11.x, p10 = i11.y > n11.y ? i11.y : n11.y, d4 = ((o6 > u2 ? o6 : u2) + (a3 < c4 ? a3 : c4)) / 2, f2 = ((s10 > h2 ? s10 : h2) + (l3 < p10 ? l3 : p10)) / 2;
        r6.x = d4, r6.y = f2, t51.x -= r6.x, t51.y -= r6.y, e12.x -= r6.x, e12.y -= r6.y, i11.x -= r6.x, i11.y -= r6.y, n11.x -= r6.x, n11.y -= r6.y;
      }, e11.prototype.computeIntersect = function(e12, i11, n11, r6) {
        if (this._isProper = false, !Y.intersects(e12, i11, n11, r6))
          return t50.NO_INTERSECTION;
        var o6 = lt.orientationIndex(e12, i11, n11), s10 = lt.orientationIndex(e12, i11, r6);
        if (o6 > 0 && s10 > 0 || o6 < 0 && s10 < 0)
          return t50.NO_INTERSECTION;
        var a3 = lt.orientationIndex(n11, r6, e12), l3 = lt.orientationIndex(n11, r6, i11);
        return a3 > 0 && l3 > 0 || a3 < 0 && l3 < 0 ? t50.NO_INTERSECTION : 0 === o6 && 0 === s10 && 0 === a3 && 0 === l3 ? this.computeCollinearIntersection(e12, i11, n11, r6) : (0 === o6 || 0 === s10 || 0 === a3 || 0 === l3 ? (this._isProper = false, e12.equals2D(n11) || e12.equals2D(r6) ? this._intPt[0] = e12 : i11.equals2D(n11) || i11.equals2D(r6) ? this._intPt[0] = i11 : 0 === o6 ? this._intPt[0] = new A(n11) : 0 === s10 ? this._intPt[0] = new A(r6) : 0 === a3 ? this._intPt[0] = new A(e12) : 0 === l3 && (this._intPt[0] = new A(i11))) : (this._isProper = true, this._intPt[0] = this.intersection(e12, i11, n11, r6)), t50.POINT_INTERSECTION);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11.nearestEndpoint = function(t51, e12, i11, n11) {
        var r6 = t51, o6 = lt.distancePointLine(t51, i11, n11), s10 = lt.distancePointLine(e12, i11, n11);
        return s10 < o6 && (o6 = s10, r6 = e12), (s10 = lt.distancePointLine(i11, t51, e12)) < o6 && (o6 = s10, r6 = i11), (s10 = lt.distancePointLine(n11, t51, e12)) < o6 && (o6 = s10, r6 = n11), r6;
      }, e11;
    }(nt2), st = q(function() {
    }, "ot");
    st.prototype.interfaces_ = function() {
      return [];
    }, st.prototype.getClass = function() {
      return st;
    }, st.orientationIndex = function(t50, e11, i11) {
      var n11 = e11.x - t50.x, r6 = e11.y - t50.y, o6 = i11.x - e11.x, s10 = i11.y - e11.y;
      return st.signOfDet2x2(n11, r6, o6, s10);
    }, st.signOfDet2x2 = function(t50, e11, i11, n11) {
      var r6 = null, o6 = null, s10 = null;
      if (r6 = 1, 0 === t50 || 0 === n11)
        return 0 === e11 || 0 === i11 ? 0 : e11 > 0 ? i11 > 0 ? -r6 : r6 : i11 > 0 ? r6 : -r6;
      if (0 === e11 || 0 === i11)
        return n11 > 0 ? t50 > 0 ? r6 : -r6 : t50 > 0 ? -r6 : r6;
      if (e11 > 0 ? n11 > 0 ? e11 <= n11 || (r6 = -r6, o6 = t50, t50 = i11, i11 = o6, o6 = e11, e11 = n11, n11 = o6) : e11 <= -n11 ? (r6 = -r6, i11 = -i11, n11 = -n11) : (o6 = t50, t50 = -i11, i11 = o6, o6 = e11, e11 = -n11, n11 = o6) : n11 > 0 ? -e11 <= n11 ? (r6 = -r6, t50 = -t50, e11 = -e11) : (o6 = -t50, t50 = i11, i11 = o6, o6 = -e11, e11 = n11, n11 = o6) : e11 >= n11 ? (t50 = -t50, e11 = -e11, i11 = -i11, n11 = -n11) : (r6 = -r6, o6 = -t50, t50 = -i11, i11 = o6, o6 = -e11, e11 = -n11, n11 = o6), t50 > 0) {
        if (!(i11 > 0 && t50 <= i11))
          return r6;
      } else {
        if (i11 > 0 || !(t50 >= i11))
          return -r6;
        r6 = -r6, t50 = -t50, i11 = -i11;
      }
      for (; ; ) {
        if ((n11 -= (s10 = Math.floor(i11 / t50)) * e11) < 0)
          return -r6;
        if (n11 > e11)
          return r6;
        if (t50 > (i11 -= s10 * t50) + i11) {
          if (e11 < n11 + n11)
            return r6;
        } else {
          if (e11 > n11 + n11)
            return -r6;
          i11 = t50 - i11, n11 = e11 - n11, r6 = -r6;
        }
        if (0 === n11)
          return 0 === i11 ? 0 : -r6;
        if (0 === i11 || (t50 -= (s10 = Math.floor(t50 / i11)) * i11, (e11 -= s10 * n11) < 0))
          return r6;
        if (e11 > n11)
          return -r6;
        if (i11 > t50 + t50) {
          if (n11 < e11 + e11)
            return -r6;
        } else {
          if (n11 > e11 + e11)
            return r6;
          t50 = i11 - t50, e11 = n11 - e11, r6 = -r6;
        }
        if (0 === e11)
          return 0 === t50 ? 0 : r6;
        if (0 === t50)
          return -r6;
      }
    };
    var at2 = q(function() {
      this._p = null, this._crossingCount = 0, this._isPointOnSegment = false;
      var t50 = arguments[0];
      this._p = t50;
    }, "st");
    at2.prototype.countSegment = function(t50, e11) {
      if (t50.x < this._p.x && e11.x < this._p.x)
        return null;
      if (this._p.x === e11.x && this._p.y === e11.y)
        return this._isPointOnSegment = true, null;
      if (t50.y === this._p.y && e11.y === this._p.y) {
        var i11 = t50.x, n11 = e11.x;
        return i11 > n11 && (i11 = e11.x, n11 = t50.x), this._p.x >= i11 && this._p.x <= n11 && (this._isPointOnSegment = true), null;
      }
      if (t50.y > this._p.y && e11.y <= this._p.y || e11.y > this._p.y && t50.y <= this._p.y) {
        var r6 = t50.x - this._p.x, o6 = t50.y - this._p.y, s10 = e11.x - this._p.x, a3 = e11.y - this._p.y, l3 = st.signOfDet2x2(r6, o6, s10, a3);
        if (0 === l3)
          return this._isPointOnSegment = true, null;
        a3 < o6 && (l3 = -l3), l3 > 0 && this._crossingCount++;
      }
    }, at2.prototype.isPointInPolygon = function() {
      return this.getLocation() !== P.EXTERIOR;
    }, at2.prototype.getLocation = function() {
      return this._isPointOnSegment ? P.BOUNDARY : this._crossingCount % 2 == 1 ? P.INTERIOR : P.EXTERIOR;
    }, at2.prototype.isOnSegment = function() {
      return this._isPointOnSegment;
    }, at2.prototype.interfaces_ = function() {
      return [];
    }, at2.prototype.getClass = function() {
      return at2;
    }, at2.locatePointInRing = function() {
      if (arguments[0] instanceof A && L(arguments[1], z)) {
        for (var t50 = arguments[0], e11 = arguments[1], i11 = new at2(t50), n11 = new A(), r6 = new A(), o6 = 1; o6 < e11.size(); o6++)
          if (e11.getCoordinate(o6, n11), e11.getCoordinate(o6 - 1, r6), i11.countSegment(n11, r6), i11.isOnSegment())
            return i11.getLocation();
        return i11.getLocation();
      }
      if (arguments[0] instanceof A && arguments[1] instanceof Array) {
        for (var s10 = arguments[0], a3 = arguments[1], l3 = new at2(s10), u2 = 1; u2 < a3.length; u2++) {
          var h2 = a3[u2], c4 = a3[u2 - 1];
          if (l3.countSegment(h2, c4), l3.isOnSegment())
            return l3.getLocation();
        }
        return l3.getLocation();
      }
    };
    var lt = q(function() {
    }, "at"), ut = { CLOCKWISE: { configurable: true }, RIGHT: { configurable: true }, COUNTERCLOCKWISE: { configurable: true }, LEFT: { configurable: true }, COLLINEAR: { configurable: true }, STRAIGHT: { configurable: true } };
    lt.prototype.interfaces_ = function() {
      return [];
    }, lt.prototype.getClass = function() {
      return lt;
    }, lt.orientationIndex = function(t50, e11, i11) {
      return F.orientationIndex(t50, e11, i11);
    }, lt.signedArea = function() {
      if (arguments[0] instanceof Array) {
        var t50 = arguments[0];
        if (t50.length < 3)
          return 0;
        for (var e11 = 0, i11 = t50[0].x, n11 = 1; n11 < t50.length - 1; n11++) {
          var r6 = t50[n11].x - i11, o6 = t50[n11 + 1].y;
          e11 += r6 * (t50[n11 - 1].y - o6);
        }
        return e11 / 2;
      }
      if (L(arguments[0], z)) {
        var s10 = arguments[0], a3 = s10.size();
        if (a3 < 3)
          return 0;
        var l3 = new A(), u2 = new A(), h2 = new A();
        s10.getCoordinate(0, u2), s10.getCoordinate(1, h2);
        var c4 = u2.x;
        h2.x -= c4;
        for (var p10 = 0, d4 = 1; d4 < a3 - 1; d4++)
          l3.y = u2.y, u2.x = h2.x, u2.y = h2.y, s10.getCoordinate(d4 + 1, h2), h2.x -= c4, p10 += u2.x * (l3.y - h2.y);
        return p10 / 2;
      }
    }, lt.distanceLineLine = function(t50, e11, i11, n11) {
      if (t50.equals(e11))
        return lt.distancePointLine(t50, i11, n11);
      if (i11.equals(n11))
        return lt.distancePointLine(n11, t50, e11);
      var r6 = false;
      if (Y.intersects(t50, e11, i11, n11)) {
        var o6 = (e11.x - t50.x) * (n11.y - i11.y) - (e11.y - t50.y) * (n11.x - i11.x);
        if (0 === o6)
          r6 = true;
        else {
          var s10 = (t50.y - i11.y) * (n11.x - i11.x) - (t50.x - i11.x) * (n11.y - i11.y), a3 = ((t50.y - i11.y) * (e11.x - t50.x) - (t50.x - i11.x) * (e11.y - t50.y)) / o6, l3 = s10 / o6;
          (l3 < 0 || l3 > 1 || a3 < 0 || a3 > 1) && (r6 = true);
        }
      } else
        r6 = true;
      return r6 ? O.min(lt.distancePointLine(t50, i11, n11), lt.distancePointLine(e11, i11, n11), lt.distancePointLine(i11, t50, e11), lt.distancePointLine(n11, t50, e11)) : 0;
    }, lt.isPointInRing = function(t50, e11) {
      return lt.locatePointInRing(t50, e11) !== P.EXTERIOR;
    }, lt.computeLength = function(t50) {
      var e11 = t50.size();
      if (e11 <= 1)
        return 0;
      var i11 = 0, n11 = new A();
      t50.getCoordinate(0, n11);
      for (var r6 = n11.x, o6 = n11.y, s10 = 1; s10 < e11; s10++) {
        t50.getCoordinate(s10, n11);
        var a3 = n11.x, l3 = n11.y, u2 = a3 - r6, h2 = l3 - o6;
        i11 += Math.sqrt(u2 * u2 + h2 * h2), r6 = a3, o6 = l3;
      }
      return i11;
    }, lt.isCCW = function(t50) {
      var e11 = t50.length - 1;
      if (e11 < 3)
        throw new x4("Ring has fewer than 4 points, so orientation cannot be determined");
      for (var i11 = t50[0], n11 = 0, r6 = 1; r6 <= e11; r6++) {
        var o6 = t50[r6];
        o6.y > i11.y && (i11 = o6, n11 = r6);
      }
      var s10 = n11;
      do {
        (s10 -= 1) < 0 && (s10 = e11);
      } while (t50[s10].equals2D(i11) && s10 !== n11);
      var a3 = n11;
      do {
        a3 = (a3 + 1) % e11;
      } while (t50[a3].equals2D(i11) && a3 !== n11);
      var l3 = t50[s10], u2 = t50[a3];
      if (l3.equals2D(i11) || u2.equals2D(i11) || l3.equals2D(u2))
        return false;
      var h2 = lt.computeOrientation(l3, i11, u2);
      return 0 === h2 ? l3.x > u2.x : h2 > 0;
    }, lt.locatePointInRing = function(t50, e11) {
      return at2.locatePointInRing(t50, e11);
    }, lt.distancePointLinePerpendicular = function(t50, e11, i11) {
      var n11 = (i11.x - e11.x) * (i11.x - e11.x) + (i11.y - e11.y) * (i11.y - e11.y), r6 = ((e11.y - t50.y) * (i11.x - e11.x) - (e11.x - t50.x) * (i11.y - e11.y)) / n11;
      return Math.abs(r6) * Math.sqrt(n11);
    }, lt.computeOrientation = function(t50, e11, i11) {
      return lt.orientationIndex(t50, e11, i11);
    }, lt.distancePointLine = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        if (0 === e11.length)
          throw new x4("Line array must contain at least one vertex");
        for (var i11 = t50.distance(e11[0]), n11 = 0; n11 < e11.length - 1; n11++) {
          var r6 = lt.distancePointLine(t50, e11[n11], e11[n11 + 1]);
          r6 < i11 && (i11 = r6);
        }
        return i11;
      }
      if (3 === arguments.length) {
        var o6 = arguments[0], s10 = arguments[1], a3 = arguments[2];
        if (s10.x === a3.x && s10.y === a3.y)
          return o6.distance(s10);
        var l3 = (a3.x - s10.x) * (a3.x - s10.x) + (a3.y - s10.y) * (a3.y - s10.y), u2 = ((o6.x - s10.x) * (a3.x - s10.x) + (o6.y - s10.y) * (a3.y - s10.y)) / l3;
        if (u2 <= 0)
          return o6.distance(s10);
        if (u2 >= 1)
          return o6.distance(a3);
        var h2 = ((s10.y - o6.y) * (a3.x - s10.x) - (s10.x - o6.x) * (a3.y - s10.y)) / l3;
        return Math.abs(h2) * Math.sqrt(l3);
      }
    }, lt.isOnLine = function(t50, e11) {
      for (var i11 = new ot(), n11 = 1; n11 < e11.length; n11++) {
        var r6 = e11[n11 - 1], o6 = e11[n11];
        if (i11.computeIntersection(t50, r6, o6), i11.hasIntersection())
          return true;
      }
      return false;
    }, ut.CLOCKWISE.get = function() {
      return -1;
    }, ut.RIGHT.get = function() {
      return lt.CLOCKWISE;
    }, ut.COUNTERCLOCKWISE.get = function() {
      return 1;
    }, ut.LEFT.get = function() {
      return lt.COUNTERCLOCKWISE;
    }, ut.COLLINEAR.get = function() {
      return 0;
    }, ut.STRAIGHT.get = function() {
      return lt.COLLINEAR;
    }, Object.defineProperties(lt, ut);
    var ht2 = q(function() {
    }, "lt");
    ht2.prototype.filter = function(t50) {
    }, ht2.prototype.interfaces_ = function() {
      return [];
    }, ht2.prototype.getClass = function() {
      return ht2;
    };
    var ct = q(function() {
      var t50 = arguments[0];
      this._envelope = null, this._factory = null, this._SRID = null, this._userData = null, this._factory = t50, this._SRID = t50.getSRID();
    }, "ct"), pt = { serialVersionUID: { configurable: true }, SORTINDEX_POINT: { configurable: true }, SORTINDEX_MULTIPOINT: { configurable: true }, SORTINDEX_LINESTRING: { configurable: true }, SORTINDEX_LINEARRING: { configurable: true }, SORTINDEX_MULTILINESTRING: { configurable: true }, SORTINDEX_POLYGON: { configurable: true }, SORTINDEX_MULTIPOLYGON: { configurable: true }, SORTINDEX_GEOMETRYCOLLECTION: { configurable: true }, geometryChangedFilter: { configurable: true } };
    ct.prototype.isGeometryCollection = function() {
      return this.getSortIndex() === ct.SORTINDEX_GEOMETRYCOLLECTION;
    }, ct.prototype.getFactory = function() {
      return this._factory;
    }, ct.prototype.getGeometryN = function(t50) {
      return this;
    }, ct.prototype.getArea = function() {
      return 0;
    }, ct.prototype.isRectangle = function() {
      return false;
    }, ct.prototype.equals = function() {
      if (arguments[0] instanceof ct) {
        var t50 = arguments[0];
        return null !== t50 && this.equalsTopo(t50);
      }
      if (arguments[0] instanceof Object) {
        var e11 = arguments[0];
        if (!(e11 instanceof ct))
          return false;
        var i11 = e11;
        return this.equalsExact(i11);
      }
    }, ct.prototype.equalsExact = function(t50) {
      return this === t50 || this.equalsExact(t50, 0);
    }, ct.prototype.geometryChanged = function() {
      this.apply(ct.geometryChangedFilter);
    }, ct.prototype.geometryChangedAction = function() {
      this._envelope = null;
    }, ct.prototype.equalsNorm = function(t50) {
      return null !== t50 && this.norm().equalsExact(t50.norm());
    }, ct.prototype.getLength = function() {
      return 0;
    }, ct.prototype.getNumGeometries = function() {
      return 1;
    }, ct.prototype.compareTo = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = t50;
        return this.getSortIndex() !== e11.getSortIndex() ? this.getSortIndex() - e11.getSortIndex() : this.isEmpty() && e11.isEmpty() ? 0 : this.isEmpty() ? -1 : e11.isEmpty() ? 1 : this.compareToSameClass(t50);
      }
      if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        return this.getSortIndex() !== i11.getSortIndex() ? this.getSortIndex() - i11.getSortIndex() : this.isEmpty() && i11.isEmpty() ? 0 : this.isEmpty() ? -1 : i11.isEmpty() ? 1 : this.compareToSameClass(i11, n11);
      }
    }, ct.prototype.getUserData = function() {
      return this._userData;
    }, ct.prototype.getSRID = function() {
      return this._SRID;
    }, ct.prototype.getEnvelope = function() {
      return this.getFactory().toGeometry(this.getEnvelopeInternal());
    }, ct.prototype.checkNotGeometryCollection = function(t50) {
      if (t50.getSortIndex() === ct.SORTINDEX_GEOMETRYCOLLECTION)
        throw new x4("This method does not support GeometryCollection arguments");
    }, ct.prototype.equal = function(t50, e11, i11) {
      return 0 === i11 ? t50.equals(e11) : t50.distance(e11) <= i11;
    }, ct.prototype.norm = function() {
      var t50 = this.copy();
      return t50.normalize(), t50;
    }, ct.prototype.getPrecisionModel = function() {
      return this._factory.getPrecisionModel();
    }, ct.prototype.getEnvelopeInternal = function() {
      return null === this._envelope && (this._envelope = this.computeEnvelopeInternal()), new Y(this._envelope);
    }, ct.prototype.setSRID = function(t50) {
      this._SRID = t50;
    }, ct.prototype.setUserData = function(t50) {
      this._userData = t50;
    }, ct.prototype.compare = function(t50, e11) {
      for (var i11 = t50.iterator(), n11 = e11.iterator(); i11.hasNext() && n11.hasNext(); ) {
        var r6 = i11.next(), o6 = n11.next(), s10 = r6.compareTo(o6);
        if (0 !== s10)
          return s10;
      }
      return i11.hasNext() ? 1 : n11.hasNext() ? -1 : 0;
    }, ct.prototype.hashCode = function() {
      return this.getEnvelopeInternal().hashCode();
    }, ct.prototype.isGeometryCollectionOrDerived = function() {
      return this.getSortIndex() === ct.SORTINDEX_GEOMETRYCOLLECTION || this.getSortIndex() === ct.SORTINDEX_MULTIPOINT || this.getSortIndex() === ct.SORTINDEX_MULTILINESTRING || this.getSortIndex() === ct.SORTINDEX_MULTIPOLYGON;
    }, ct.prototype.interfaces_ = function() {
      return [E, M, e10];
    }, ct.prototype.getClass = function() {
      return ct;
    }, ct.hasNonEmptyElements = function(t50) {
      for (var e11 = 0; e11 < t50.length; e11++)
        if (!t50[e11].isEmpty())
          return true;
      return false;
    }, ct.hasNullElements = function(t50) {
      for (var e11 = 0; e11 < t50.length; e11++)
        if (null === t50[e11])
          return true;
      return false;
    }, pt.serialVersionUID.get = function() {
      return 8763622679187377e3;
    }, pt.SORTINDEX_POINT.get = function() {
      return 0;
    }, pt.SORTINDEX_MULTIPOINT.get = function() {
      return 1;
    }, pt.SORTINDEX_LINESTRING.get = function() {
      return 2;
    }, pt.SORTINDEX_LINEARRING.get = function() {
      return 3;
    }, pt.SORTINDEX_MULTILINESTRING.get = function() {
      return 4;
    }, pt.SORTINDEX_POLYGON.get = function() {
      return 5;
    }, pt.SORTINDEX_MULTIPOLYGON.get = function() {
      return 6;
    }, pt.SORTINDEX_GEOMETRYCOLLECTION.get = function() {
      return 7;
    }, pt.geometryChangedFilter.get = function() {
      return dt2;
    }, Object.defineProperties(ct, pt);
    var dt2 = q(function() {
    }, "ht");
    dt2.interfaces_ = function() {
      return [ht2];
    }, dt2.filter = function(t50) {
      t50.geometryChangedAction();
    };
    var ft = q(function() {
    }, "ft");
    ft.prototype.filter = function(t50) {
    }, ft.prototype.interfaces_ = function() {
      return [];
    }, ft.prototype.getClass = function() {
      return ft;
    };
    var gt = q(function() {
    }, "gt"), mt2 = { Mod2BoundaryNodeRule: { configurable: true }, EndPointBoundaryNodeRule: { configurable: true }, MultiValentEndPointBoundaryNodeRule: { configurable: true }, MonoValentEndPointBoundaryNodeRule: { configurable: true }, MOD2_BOUNDARY_RULE: { configurable: true }, ENDPOINT_BOUNDARY_RULE: { configurable: true }, MULTIVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: true }, MONOVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: true }, OGC_SFS_BOUNDARY_RULE: { configurable: true } };
    gt.prototype.isInBoundary = function(t50) {
    }, gt.prototype.interfaces_ = function() {
      return [];
    }, gt.prototype.getClass = function() {
      return gt;
    }, mt2.Mod2BoundaryNodeRule.get = function() {
      return vt;
    }, mt2.EndPointBoundaryNodeRule.get = function() {
      return yt;
    }, mt2.MultiValentEndPointBoundaryNodeRule.get = function() {
      return xt;
    }, mt2.MonoValentEndPointBoundaryNodeRule.get = function() {
      return _t;
    }, mt2.MOD2_BOUNDARY_RULE.get = function() {
      return new vt();
    }, mt2.ENDPOINT_BOUNDARY_RULE.get = function() {
      return new yt();
    }, mt2.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get = function() {
      return new xt();
    }, mt2.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get = function() {
      return new _t();
    }, mt2.OGC_SFS_BOUNDARY_RULE.get = function() {
      return gt.MOD2_BOUNDARY_RULE;
    }, Object.defineProperties(gt, mt2);
    var vt = q(function() {
    }, "yt");
    vt.prototype.isInBoundary = function(t50) {
      return t50 % 2 == 1;
    }, vt.prototype.interfaces_ = function() {
      return [gt];
    }, vt.prototype.getClass = function() {
      return vt;
    };
    var yt = q(function() {
    }, "_t");
    yt.prototype.isInBoundary = function(t50) {
      return t50 > 0;
    }, yt.prototype.interfaces_ = function() {
      return [gt];
    }, yt.prototype.getClass = function() {
      return yt;
    };
    var xt = q(function() {
    }, "mt");
    xt.prototype.isInBoundary = function(t50) {
      return t50 > 1;
    }, xt.prototype.interfaces_ = function() {
      return [gt];
    }, xt.prototype.getClass = function() {
      return xt;
    };
    var _t = q(function() {
    }, "vt");
    _t.prototype.isInBoundary = function(t50) {
      return 1 === t50;
    }, _t.prototype.interfaces_ = function() {
      return [gt];
    }, _t.prototype.getClass = function() {
      return _t;
    };
    var bt = q(function() {
    }, "It");
    bt.prototype.add = function() {
    }, bt.prototype.addAll = function() {
    }, bt.prototype.isEmpty = function() {
    }, bt.prototype.iterator = function() {
    }, bt.prototype.size = function() {
    }, bt.prototype.toArray = function() {
    }, bt.prototype.remove = function() {
    }, (i10.prototype = new Error()).name = "IndexOutOfBoundsException";
    var Mt = q(function() {
    }, "Et");
    Mt.prototype.hasNext = function() {
    }, Mt.prototype.next = function() {
    }, Mt.prototype.remove = function() {
    };
    var Et = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.get = function() {
      }, e11.prototype.set = function() {
      }, e11.prototype.isEmpty = function() {
      }, e11;
    }(bt);
    (n10.prototype = new Error()).name = "NoSuchElementException";
    var wt2 = function(t50) {
      function e11() {
        t50.call(this), this.array_ = [], arguments[0] instanceof bt && this.addAll(arguments[0]);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.ensureCapacity = function() {
      }, e11.prototype.interfaces_ = function() {
        return [t50, bt];
      }, e11.prototype.add = function(t51) {
        return 1 === arguments.length ? this.array_.push(t51) : this.array_.splice(arguments[0], arguments[1]), true;
      }, e11.prototype.clear = function() {
        this.array_ = [];
      }, e11.prototype.addAll = function(t51) {
        for (var e12 = t51.iterator(); e12.hasNext(); )
          this.add(e12.next());
        return true;
      }, e11.prototype.set = function(t51, e12) {
        var i11 = this.array_[t51];
        return this.array_[t51] = e12, i11;
      }, e11.prototype.iterator = function() {
        return new At(this);
      }, e11.prototype.get = function(t51) {
        if (t51 < 0 || t51 >= this.size())
          throw new i10();
        return this.array_[t51];
      }, e11.prototype.isEmpty = function() {
        return 0 === this.array_.length;
      }, e11.prototype.size = function() {
        return this.array_.length;
      }, e11.prototype.toArray = function() {
        for (var t51 = [], e12 = 0, i11 = this.array_.length; e12 < i11; e12++)
          t51.push(this.array_[e12]);
        return t51;
      }, e11.prototype.remove = function(t51) {
        for (var e12 = false, i11 = 0, n11 = this.array_.length; i11 < n11; i11++)
          if (this.array_[i11] === t51) {
            this.array_.splice(i11, 1), e12 = true;
            break;
          }
        return e12;
      }, e11;
    }(Et), At = function(t50) {
      function e11(e12) {
        t50.call(this), this.arrayList_ = e12, this.position_ = 0;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.next = function() {
        if (this.position_ === this.arrayList_.size())
          throw new n10();
        return this.arrayList_.get(this.position_++);
      }, e11.prototype.hasNext = function() {
        return this.position_ < this.arrayList_.size();
      }, e11.prototype.set = function(t51) {
        return this.arrayList_.set(this.position_ - 1, t51);
      }, e11.prototype.remove = function() {
        this.arrayList_.remove(this.arrayList_.get(this.position_));
      }, e11;
    }(Mt), St2 = function(t50) {
      function e11() {
        if (t50.call(this), 0 !== arguments.length) {
          if (1 === arguments.length) {
            var e12 = arguments[0];
            this.ensureCapacity(e12.length), this.add(e12, true);
          } else if (2 === arguments.length) {
            var i12 = arguments[0], n11 = arguments[1];
            this.ensureCapacity(i12.length), this.add(i12, n11);
          }
        }
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { coordArrayType: { configurable: true } };
      return i11.coordArrayType.get = function() {
        return new Array(0).fill(null);
      }, e11.prototype.getCoordinate = function(t51) {
        return this.get(t51);
      }, e11.prototype.addAll = function() {
        if (2 === arguments.length) {
          for (var e12 = arguments[0], i12 = arguments[1], n11 = false, r6 = e12.iterator(); r6.hasNext(); )
            this.add(r6.next(), i12), n11 = true;
          return n11;
        }
        return t50.prototype.addAll.apply(this, arguments);
      }, e11.prototype.clone = function() {
        for (var e12 = t50.prototype.clone.call(this), i12 = 0; i12 < this.size(); i12++)
          e12.add(i12, this.get(i12).copy());
        return e12;
      }, e11.prototype.toCoordinateArray = function() {
        return this.toArray(e11.coordArrayType);
      }, e11.prototype.add = function() {
        if (1 === arguments.length) {
          var e12 = arguments[0];
          t50.prototype.add.call(this, e12);
        } else if (2 === arguments.length) {
          if (arguments[0] instanceof Array && "boolean" == typeof arguments[1]) {
            var i12 = arguments[0], n11 = arguments[1];
            return this.add(i12, n11, true), true;
          }
          if (arguments[0] instanceof A && "boolean" == typeof arguments[1]) {
            var r6 = arguments[0];
            if (!arguments[1] && this.size() >= 1 && this.get(this.size() - 1).equals2D(r6))
              return null;
            t50.prototype.add.call(this, r6);
          } else if (arguments[0] instanceof Object && "boolean" == typeof arguments[1]) {
            var o6 = arguments[0], s10 = arguments[1];
            return this.add(o6, s10), true;
          }
        } else if (3 === arguments.length) {
          if ("boolean" == typeof arguments[2] && arguments[0] instanceof Array && "boolean" == typeof arguments[1]) {
            var a3 = arguments[0], l3 = arguments[1];
            if (arguments[2])
              for (var u2 = 0; u2 < a3.length; u2++)
                this.add(a3[u2], l3);
            else
              for (var h2 = a3.length - 1; h2 >= 0; h2--)
                this.add(a3[h2], l3);
            return true;
          }
          if ("boolean" == typeof arguments[2] && Number.isInteger(arguments[0]) && arguments[1] instanceof A) {
            var c4 = arguments[0], p10 = arguments[1];
            if (!arguments[2]) {
              var d4 = this.size();
              if (d4 > 0 && (c4 > 0 && this.get(c4 - 1).equals2D(p10) || c4 < d4 && this.get(c4).equals2D(p10)))
                return null;
            }
            t50.prototype.add.call(this, c4, p10);
          }
        } else if (4 === arguments.length) {
          var f2 = arguments[0], g4 = arguments[1], m4 = arguments[2], v10 = arguments[3], y10 = 1;
          m4 > v10 && (y10 = -1);
          for (var x10 = m4; x10 !== v10; x10 += y10)
            this.add(f2[x10], g4);
          return true;
        }
      }, e11.prototype.closeRing = function() {
        this.size() > 0 && this.add(new A(this.get(0)), false);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, Object.defineProperties(e11, i11), e11;
    }(wt2), Tt = q(function() {
    }, "Lt"), Ct = { ForwardComparator: { configurable: true }, BidirectionalComparator: { configurable: true }, coordArrayType: { configurable: true } };
    Ct.ForwardComparator.get = function() {
      return Pt;
    }, Ct.BidirectionalComparator.get = function() {
      return It;
    }, Ct.coordArrayType.get = function() {
      return new Array(0).fill(null);
    }, Tt.prototype.interfaces_ = function() {
      return [];
    }, Tt.prototype.getClass = function() {
      return Tt;
    }, Tt.isRing = function(t50) {
      return !(t50.length < 4 || !t50[0].equals2D(t50[t50.length - 1]));
    }, Tt.ptNotInList = function(t50, e11) {
      for (var i11 = 0; i11 < t50.length; i11++) {
        var n11 = t50[i11];
        if (Tt.indexOf(n11, e11) < 0)
          return n11;
      }
      return null;
    }, Tt.scroll = function(t50, e11) {
      var i11 = Tt.indexOf(e11, t50);
      if (i11 < 0)
        return null;
      var n11 = new Array(t50.length).fill(null);
      W.arraycopy(t50, i11, n11, 0, t50.length - i11), W.arraycopy(t50, 0, n11, t50.length - i11, i11), W.arraycopy(n11, 0, t50, 0, t50.length);
    }, Tt.equals = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        if (t50 === e11)
          return true;
        if (null === t50 || null === e11 || t50.length !== e11.length)
          return false;
        for (var i11 = 0; i11 < t50.length; i11++)
          if (!t50[i11].equals(e11[i11]))
            return false;
        return true;
      }
      if (3 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
        if (n11 === r6)
          return true;
        if (null === n11 || null === r6 || n11.length !== r6.length)
          return false;
        for (var s10 = 0; s10 < n11.length; s10++)
          if (0 !== o6.compare(n11[s10], r6[s10]))
            return false;
        return true;
      }
    }, Tt.intersection = function(t50, e11) {
      for (var i11 = new St2(), n11 = 0; n11 < t50.length; n11++)
        e11.intersects(t50[n11]) && i11.add(t50[n11], true);
      return i11.toCoordinateArray();
    }, Tt.hasRepeatedPoints = function(t50) {
      for (var e11 = 1; e11 < t50.length; e11++)
        if (t50[e11 - 1].equals(t50[e11]))
          return true;
      return false;
    }, Tt.removeRepeatedPoints = function(t50) {
      return Tt.hasRepeatedPoints(t50) ? new St2(t50, false).toCoordinateArray() : t50;
    }, Tt.reverse = function(t50) {
      for (var e11 = t50.length - 1, i11 = Math.trunc(e11 / 2), n11 = 0; n11 <= i11; n11++) {
        var r6 = t50[n11];
        t50[n11] = t50[e11 - n11], t50[e11 - n11] = r6;
      }
    }, Tt.removeNull = function(t50) {
      for (var e11 = 0, i11 = 0; i11 < t50.length; i11++)
        null !== t50[i11] && e11++;
      var n11 = new Array(e11).fill(null);
      if (0 === e11)
        return n11;
      for (var r6 = 0, o6 = 0; o6 < t50.length; o6++)
        null !== t50[o6] && (n11[r6++] = t50[o6]);
      return n11;
    }, Tt.copyDeep = function() {
      if (1 === arguments.length) {
        for (var t50 = arguments[0], e11 = new Array(t50.length).fill(null), i11 = 0; i11 < t50.length; i11++)
          e11[i11] = new A(t50[i11]);
        return e11;
      }
      if (5 === arguments.length)
        for (var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2], s10 = arguments[3], a3 = arguments[4], l3 = 0; l3 < a3; l3++)
          o6[s10 + l3] = new A(n11[r6 + l3]);
    }, Tt.isEqualReversed = function(t50, e11) {
      for (var i11 = 0; i11 < t50.length; i11++) {
        var n11 = t50[i11], r6 = e11[t50.length - i11 - 1];
        if (0 !== n11.compareTo(r6))
          return false;
      }
      return true;
    }, Tt.envelope = function(t50) {
      for (var e11 = new Y(), i11 = 0; i11 < t50.length; i11++)
        e11.expandToInclude(t50[i11]);
      return e11;
    }, Tt.toCoordinateArray = function(t50) {
      return t50.toArray(Tt.coordArrayType);
    }, Tt.atLeastNCoordinatesOrNothing = function(t50, e11) {
      return e11.length >= t50 ? e11 : [];
    }, Tt.indexOf = function(t50, e11) {
      for (var i11 = 0; i11 < e11.length; i11++)
        if (t50.equals(e11[i11]))
          return i11;
      return -1;
    }, Tt.increasingDirection = function(t50) {
      for (var e11 = 0; e11 < Math.trunc(t50.length / 2); e11++) {
        var i11 = t50.length - 1 - e11, n11 = t50[e11].compareTo(t50[i11]);
        if (0 !== n11)
          return n11;
      }
      return 1;
    }, Tt.compare = function(t50, e11) {
      for (var i11 = 0; i11 < t50.length && i11 < e11.length; ) {
        var n11 = t50[i11].compareTo(e11[i11]);
        if (0 !== n11)
          return n11;
        i11++;
      }
      return i11 < e11.length ? -1 : i11 < t50.length ? 1 : 0;
    }, Tt.minCoordinate = function(t50) {
      for (var e11 = null, i11 = 0; i11 < t50.length; i11++)
        (null === e11 || e11.compareTo(t50[i11]) > 0) && (e11 = t50[i11]);
      return e11;
    }, Tt.extract = function(t50, e11, i11) {
      e11 = O.clamp(e11, 0, t50.length);
      var n11 = (i11 = O.clamp(i11, -1, t50.length)) - e11 + 1;
      i11 < 0 && (n11 = 0), e11 >= t50.length && (n11 = 0), i11 < e11 && (n11 = 0);
      var r6 = new Array(n11).fill(null);
      if (0 === n11)
        return r6;
      for (var o6 = 0, s10 = e11; s10 <= i11; s10++)
        r6[o6++] = t50[s10];
      return r6;
    }, Object.defineProperties(Tt, Ct);
    var Pt = q(function() {
    }, "wt");
    Pt.prototype.compare = function(t50, e11) {
      return Tt.compare(t50, e11);
    }, Pt.prototype.interfaces_ = function() {
      return [w4];
    }, Pt.prototype.getClass = function() {
      return Pt;
    };
    var It = q(function() {
    }, "Ot");
    It.prototype.compare = function(t50, e11) {
      var i11 = t50, n11 = e11;
      if (i11.length < n11.length)
        return -1;
      if (i11.length > n11.length)
        return 1;
      if (0 === i11.length)
        return 0;
      var r6 = Tt.compare(i11, n11);
      return Tt.isEqualReversed(i11, n11) ? 0 : r6;
    }, It.prototype.OLDcompare = function(t50, e11) {
      var i11 = t50, n11 = e11;
      if (i11.length < n11.length)
        return -1;
      if (i11.length > n11.length)
        return 1;
      if (0 === i11.length)
        return 0;
      for (var r6 = Tt.increasingDirection(i11), o6 = Tt.increasingDirection(n11), s10 = r6 > 0 ? 0 : i11.length - 1, a3 = o6 > 0 ? 0 : i11.length - 1, l3 = 0; l3 < i11.length; l3++) {
        var u2 = i11[s10].compareTo(n11[a3]);
        if (0 !== u2)
          return u2;
        s10 += r6, a3 += o6;
      }
      return 0;
    }, It.prototype.interfaces_ = function() {
      return [w4];
    }, It.prototype.getClass = function() {
      return It;
    };
    var Lt = q(function() {
    }, "Tt");
    Lt.prototype.get = function() {
    }, Lt.prototype.put = function() {
    }, Lt.prototype.size = function() {
    }, Lt.prototype.values = function() {
    }, Lt.prototype.entrySet = function() {
    };
    var Ot2 = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11;
    }(Lt);
    (r.prototype = new Error()).name = "OperationNotSupported", (o3.prototype = new bt()).contains = function() {
    };
    var Nt = function(t50) {
      function e11() {
        t50.call(this), this.array_ = [], arguments[0] instanceof bt && this.addAll(arguments[0]);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.contains = function(t51) {
        for (var e12 = 0, i11 = this.array_.length; e12 < i11; e12++)
          if (this.array_[e12] === t51)
            return true;
        return false;
      }, e11.prototype.add = function(t51) {
        return !this.contains(t51) && (this.array_.push(t51), true);
      }, e11.prototype.addAll = function(t51) {
        for (var e12 = t51.iterator(); e12.hasNext(); )
          this.add(e12.next());
        return true;
      }, e11.prototype.remove = function(t51) {
        throw new Error();
      }, e11.prototype.size = function() {
        return this.array_.length;
      }, e11.prototype.isEmpty = function() {
        return 0 === this.array_.length;
      }, e11.prototype.toArray = function() {
        for (var t51 = [], e12 = 0, i11 = this.array_.length; e12 < i11; e12++)
          t51.push(this.array_[e12]);
        return t51;
      }, e11.prototype.iterator = function() {
        return new Dt(this);
      }, e11;
    }(o3), Dt = function(t50) {
      function e11(e12) {
        t50.call(this), this.hashSet_ = e12, this.position_ = 0;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.next = function() {
        if (this.position_ === this.hashSet_.size())
          throw new n10();
        return this.hashSet_.array_[this.position_++];
      }, e11.prototype.hasNext = function() {
        return this.position_ < this.hashSet_.size();
      }, e11.prototype.remove = function() {
        throw new r();
      }, e11;
    }(Mt), Rt = 0;
    (p4.prototype = new Ot2()).get = function(t50) {
      for (var e11 = this.root_; null !== e11; ) {
        var i11 = t50.compareTo(e11.key);
        if (i11 < 0)
          e11 = e11.left;
        else {
          if (!(i11 > 0))
            return e11.value;
          e11 = e11.right;
        }
      }
      return null;
    }, p4.prototype.put = function(t50, e11) {
      if (null === this.root_)
        return this.root_ = { key: t50, value: e11, left: null, right: null, parent: null, color: Rt, getValue: function() {
          return this.value;
        }, getKey: function() {
          return this.key;
        } }, this.size_ = 1, null;
      var i11, n11, r6 = this.root_;
      do {
        if (i11 = r6, (n11 = t50.compareTo(r6.key)) < 0)
          r6 = r6.left;
        else {
          if (!(n11 > 0)) {
            var o6 = r6.value;
            return r6.value = e11, o6;
          }
          r6 = r6.right;
        }
      } while (null !== r6);
      var s10 = { key: t50, left: null, right: null, value: e11, parent: i11, color: Rt, getValue: function() {
        return this.value;
      }, getKey: function() {
        return this.key;
      } };
      return n11 < 0 ? i11.left = s10 : i11.right = s10, this.fixAfterInsertion(s10), this.size_++, null;
    }, p4.prototype.fixAfterInsertion = function(t50) {
      for (t50.color = 1; null != t50 && t50 !== this.root_ && 1 === t50.parent.color; )
        if (a(t50) === h(a(a(t50)))) {
          var e11 = c2(a(a(t50)));
          1 === s6(e11) ? (l(a(t50), Rt), l(e11, Rt), l(a(a(t50)), 1), t50 = a(a(t50))) : (t50 === c2(a(t50)) && (t50 = a(t50), this.rotateLeft(t50)), l(a(t50), Rt), l(a(a(t50)), 1), this.rotateRight(a(a(t50))));
        } else {
          var i11 = h(a(a(t50)));
          1 === s6(i11) ? (l(a(t50), Rt), l(i11, Rt), l(a(a(t50)), 1), t50 = a(a(t50))) : (t50 === h(a(t50)) && (t50 = a(t50), this.rotateRight(t50)), l(a(t50), Rt), l(a(a(t50)), 1), this.rotateLeft(a(a(t50))));
        }
      this.root_.color = Rt;
    }, p4.prototype.values = function() {
      var t50 = new wt2(), e11 = this.getFirstEntry();
      if (null !== e11)
        for (t50.add(e11.value); null !== (e11 = p4.successor(e11)); )
          t50.add(e11.value);
      return t50;
    }, p4.prototype.entrySet = function() {
      var t50 = new Nt(), e11 = this.getFirstEntry();
      if (null !== e11)
        for (t50.add(e11); null !== (e11 = p4.successor(e11)); )
          t50.add(e11);
      return t50;
    }, p4.prototype.rotateLeft = function(t50) {
      if (null != t50) {
        var e11 = t50.right;
        t50.right = e11.left, null != e11.left && (e11.left.parent = t50), e11.parent = t50.parent, null === t50.parent ? this.root_ = e11 : t50.parent.left === t50 ? t50.parent.left = e11 : t50.parent.right = e11, e11.left = t50, t50.parent = e11;
      }
    }, p4.prototype.rotateRight = function(t50) {
      if (null != t50) {
        var e11 = t50.left;
        t50.left = e11.right, null != e11.right && (e11.right.parent = t50), e11.parent = t50.parent, null === t50.parent ? this.root_ = e11 : t50.parent.right === t50 ? t50.parent.right = e11 : t50.parent.left = e11, e11.right = t50, t50.parent = e11;
      }
    }, p4.prototype.getFirstEntry = function() {
      var t50 = this.root_;
      if (null != t50)
        for (; null != t50.left; )
          t50 = t50.left;
      return t50;
    }, p4.successor = function(t50) {
      if (null === t50)
        return null;
      if (null !== t50.right) {
        for (var e11 = t50.right; null !== e11.left; )
          e11 = e11.left;
        return e11;
      }
      for (var i11 = t50.parent, n11 = t50; null !== i11 && n11 === i11.right; )
        n11 = i11, i11 = i11.parent;
      return i11;
    }, p4.prototype.size = function() {
      return this.size_;
    };
    var qt = q(function() {
    }, "At");
    qt.prototype.interfaces_ = function() {
      return [];
    }, qt.prototype.getClass = function() {
      return qt;
    }, d.prototype = new o3(), (f.prototype = new d()).contains = function(t50) {
      for (var e11 = 0, i11 = this.array_.length; e11 < i11; e11++)
        if (0 === this.array_[e11].compareTo(t50))
          return true;
      return false;
    }, f.prototype.add = function(t50) {
      if (this.contains(t50))
        return false;
      for (var e11 = 0, i11 = this.array_.length; e11 < i11; e11++)
        if (1 === this.array_[e11].compareTo(t50))
          return this.array_.splice(e11, 0, t50), true;
      return this.array_.push(t50), true;
    }, f.prototype.addAll = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); )
        this.add(e11.next());
      return true;
    }, f.prototype.remove = function(t50) {
      throw new r();
    }, f.prototype.size = function() {
      return this.array_.length;
    }, f.prototype.isEmpty = function() {
      return 0 === this.array_.length;
    }, f.prototype.toArray = function() {
      for (var t50 = [], e11 = 0, i11 = this.array_.length; e11 < i11; e11++)
        t50.push(this.array_[e11]);
      return t50;
    }, f.prototype.iterator = function() {
      return new Bt(this);
    };
    var Bt = q(function(t50) {
      this.treeSet_ = t50, this.position_ = 0;
    }, "Ft");
    Bt.prototype.next = function() {
      if (this.position_ === this.treeSet_.size())
        throw new n10();
      return this.treeSet_.array_[this.position_++];
    }, Bt.prototype.hasNext = function() {
      return this.position_ < this.treeSet_.size();
    }, Bt.prototype.remove = function() {
      throw new r();
    };
    var kt = q(function() {
    }, "Gt");
    kt.sort = function() {
      var t50, e11, i11, n11, r6 = arguments[0];
      if (1 === arguments.length)
        n11 = q(function(t51, e12) {
          return t51.compareTo(e12);
        }, "i"), r6.sort(n11);
      else if (2 === arguments.length)
        i11 = arguments[1], n11 = q(function(t51, e12) {
          return i11.compare(t51, e12);
        }, "i"), r6.sort(n11);
      else if (3 === arguments.length) {
        (e11 = r6.slice(arguments[1], arguments[2])).sort();
        var o6 = r6.slice(0, arguments[1]).concat(e11, r6.slice(arguments[2], r6.length));
        for (r6.splice(0, r6.length), t50 = 0; t50 < o6.length; t50++)
          r6.push(o6[t50]);
      } else if (4 === arguments.length)
        for (e11 = r6.slice(arguments[1], arguments[2]), i11 = arguments[3], n11 = q(function(t51, e12) {
          return i11.compare(t51, e12);
        }, "i"), e11.sort(n11), o6 = r6.slice(0, arguments[1]).concat(e11, r6.slice(arguments[2], r6.length)), r6.splice(0, r6.length), t50 = 0; t50 < o6.length; t50++)
          r6.push(o6[t50]);
    }, kt.asList = function(t50) {
      for (var e11 = new wt2(), i11 = 0, n11 = t50.length; i11 < n11; i11++)
        e11.add(t50[i11]);
      return e11;
    };
    var Ft2 = q(function() {
    }, "qt"), Ut = { P: { configurable: true }, L: { configurable: true }, A: { configurable: true }, FALSE: { configurable: true }, TRUE: { configurable: true }, DONTCARE: { configurable: true }, SYM_FALSE: { configurable: true }, SYM_TRUE: { configurable: true }, SYM_DONTCARE: { configurable: true }, SYM_P: { configurable: true }, SYM_L: { configurable: true }, SYM_A: { configurable: true } };
    Ut.P.get = function() {
      return 0;
    }, Ut.L.get = function() {
      return 1;
    }, Ut.A.get = function() {
      return 2;
    }, Ut.FALSE.get = function() {
      return -1;
    }, Ut.TRUE.get = function() {
      return -2;
    }, Ut.DONTCARE.get = function() {
      return -3;
    }, Ut.SYM_FALSE.get = function() {
      return "F";
    }, Ut.SYM_TRUE.get = function() {
      return "T";
    }, Ut.SYM_DONTCARE.get = function() {
      return "*";
    }, Ut.SYM_P.get = function() {
      return "0";
    }, Ut.SYM_L.get = function() {
      return "1";
    }, Ut.SYM_A.get = function() {
      return "2";
    }, Ft2.prototype.interfaces_ = function() {
      return [];
    }, Ft2.prototype.getClass = function() {
      return Ft2;
    }, Ft2.toDimensionSymbol = function(t50) {
      switch (t50) {
        case Ft2.FALSE:
          return Ft2.SYM_FALSE;
        case Ft2.TRUE:
          return Ft2.SYM_TRUE;
        case Ft2.DONTCARE:
          return Ft2.SYM_DONTCARE;
        case Ft2.P:
          return Ft2.SYM_P;
        case Ft2.L:
          return Ft2.SYM_L;
        case Ft2.A:
          return Ft2.SYM_A;
      }
      throw new x4("Unknown dimension value: " + t50);
    }, Ft2.toDimensionValue = function(t50) {
      switch (q4.toUpperCase(t50)) {
        case Ft2.SYM_FALSE:
          return Ft2.FALSE;
        case Ft2.SYM_TRUE:
          return Ft2.TRUE;
        case Ft2.SYM_DONTCARE:
          return Ft2.DONTCARE;
        case Ft2.SYM_P:
          return Ft2.P;
        case Ft2.SYM_L:
          return Ft2.L;
        case Ft2.SYM_A:
          return Ft2.A;
      }
      throw new x4("Unknown dimension symbol: " + t50);
    }, Object.defineProperties(Ft2, Ut);
    var zt = q(function() {
    }, "Vt");
    zt.prototype.filter = function(t50) {
    }, zt.prototype.interfaces_ = function() {
      return [];
    }, zt.prototype.getClass = function() {
      return zt;
    };
    var Vt2 = q(function() {
    }, "Ut");
    Vt2.prototype.filter = function(t50, e11) {
    }, Vt2.prototype.isDone = function() {
    }, Vt2.prototype.isGeometryChanged = function() {
    }, Vt2.prototype.interfaces_ = function() {
      return [];
    }, Vt2.prototype.getClass = function() {
      return Vt2;
    };
    var jt2 = function(t50) {
      function e11(e12, i12) {
        if (t50.call(this, i12), this._geometries = e12 || [], t50.hasNullElements(this._geometries))
          throw new x4("geometries must not contain null elements");
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.computeEnvelopeInternal = function() {
        for (var t51 = new Y(), e12 = 0; e12 < this._geometries.length; e12++)
          t51.expandToInclude(this._geometries[e12].getEnvelopeInternal());
        return t51;
      }, e11.prototype.getGeometryN = function(t51) {
        return this._geometries[t51];
      }, e11.prototype.getSortIndex = function() {
        return t50.SORTINDEX_GEOMETRYCOLLECTION;
      }, e11.prototype.getCoordinates = function() {
        for (var t51 = new Array(this.getNumPoints()).fill(null), e12 = -1, i12 = 0; i12 < this._geometries.length; i12++)
          for (var n11 = this._geometries[i12].getCoordinates(), r6 = 0; r6 < n11.length; r6++)
            t51[++e12] = n11[r6];
        return t51;
      }, e11.prototype.getArea = function() {
        for (var t51 = 0, e12 = 0; e12 < this._geometries.length; e12++)
          t51 += this._geometries[e12].getArea();
        return t51;
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          if (!this.isEquivalentClass(e12))
            return false;
          var n11 = e12;
          if (this._geometries.length !== n11._geometries.length)
            return false;
          for (var r6 = 0; r6 < this._geometries.length; r6++)
            if (!this._geometries[r6].equalsExact(n11._geometries[r6], i12))
              return false;
          return true;
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.normalize = function() {
        for (var t51 = 0; t51 < this._geometries.length; t51++)
          this._geometries[t51].normalize();
        kt.sort(this._geometries);
      }, e11.prototype.getCoordinate = function() {
        return this.isEmpty() ? null : this._geometries[0].getCoordinate();
      }, e11.prototype.getBoundaryDimension = function() {
        for (var t51 = Ft2.FALSE, e12 = 0; e12 < this._geometries.length; e12++)
          t51 = Math.max(t51, this._geometries[e12].getBoundaryDimension());
        return t51;
      }, e11.prototype.getDimension = function() {
        for (var t51 = Ft2.FALSE, e12 = 0; e12 < this._geometries.length; e12++)
          t51 = Math.max(t51, this._geometries[e12].getDimension());
        return t51;
      }, e11.prototype.getLength = function() {
        for (var t51 = 0, e12 = 0; e12 < this._geometries.length; e12++)
          t51 += this._geometries[e12].getLength();
        return t51;
      }, e11.prototype.getNumPoints = function() {
        for (var t51 = 0, e12 = 0; e12 < this._geometries.length; e12++)
          t51 += this._geometries[e12].getNumPoints();
        return t51;
      }, e11.prototype.getNumGeometries = function() {
        return this._geometries.length;
      }, e11.prototype.reverse = function() {
        for (var t51 = this._geometries.length, e12 = new Array(t51).fill(null), i12 = 0; i12 < this._geometries.length; i12++)
          e12[i12] = this._geometries[i12].reverse();
        return this.getFactory().createGeometryCollection(e12);
      }, e11.prototype.compareToSameClass = function() {
        if (1 === arguments.length) {
          var t51 = arguments[0], e12 = new f(kt.asList(this._geometries)), i12 = new f(kt.asList(t51._geometries));
          return this.compare(e12, i12);
        }
        if (2 === arguments.length) {
          for (var n11 = arguments[0], r6 = arguments[1], o6 = n11, s10 = this.getNumGeometries(), a3 = o6.getNumGeometries(), l3 = 0; l3 < s10 && l3 < a3; ) {
            var u2 = this.getGeometryN(l3), h2 = o6.getGeometryN(l3), c4 = u2.compareToSameClass(h2, r6);
            if (0 !== c4)
              return c4;
            l3++;
          }
          return l3 < s10 ? 1 : l3 < a3 ? -1 : 0;
        }
      }, e11.prototype.apply = function() {
        if (L(arguments[0], ft))
          for (var t51 = arguments[0], e12 = 0; e12 < this._geometries.length; e12++)
            this._geometries[e12].apply(t51);
        else if (L(arguments[0], Vt2)) {
          var i12 = arguments[0];
          if (0 === this._geometries.length)
            return null;
          for (var n11 = 0; n11 < this._geometries.length && (this._geometries[n11].apply(i12), !i12.isDone()); n11++)
            ;
          i12.isGeometryChanged() && this.geometryChanged();
        } else if (L(arguments[0], zt)) {
          var r6 = arguments[0];
          r6.filter(this);
          for (var o6 = 0; o6 < this._geometries.length; o6++)
            this._geometries[o6].apply(r6);
        } else if (L(arguments[0], ht2)) {
          var s10 = arguments[0];
          s10.filter(this);
          for (var a3 = 0; a3 < this._geometries.length; a3++)
            this._geometries[a3].apply(s10);
        }
      }, e11.prototype.getBoundary = function() {
        return this.checkNotGeometryCollection(this), it.shouldNeverReachHere(), null;
      }, e11.prototype.clone = function() {
        var e12 = t50.prototype.clone.call(this);
        e12._geometries = new Array(this._geometries.length).fill(null);
        for (var i12 = 0; i12 < this._geometries.length; i12++)
          e12._geometries[i12] = this._geometries[i12].clone();
        return e12;
      }, e11.prototype.getGeometryType = function() {
        return "GeometryCollection";
      }, e11.prototype.copy = function() {
        for (var t51 = new Array(this._geometries.length).fill(null), i12 = 0; i12 < t51.length; i12++)
          t51[i12] = this._geometries[i12].copy();
        return new e11(t51, this._factory);
      }, e11.prototype.isEmpty = function() {
        for (var t51 = 0; t51 < this._geometries.length; t51++)
          if (!this._geometries[t51].isEmpty())
            return false;
        return true;
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return -5694727726395021e3;
      }, Object.defineProperties(e11, i11), e11;
    }(ct), Gt2 = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.getSortIndex = function() {
        return ct.SORTINDEX_MULTILINESTRING;
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          return !!this.isEquivalentClass(e12) && t50.prototype.equalsExact.call(this, e12, i12);
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.getBoundaryDimension = function() {
        return this.isClosed() ? Ft2.FALSE : 0;
      }, e11.prototype.isClosed = function() {
        if (this.isEmpty())
          return false;
        for (var t51 = 0; t51 < this._geometries.length; t51++)
          if (!this._geometries[t51].isClosed())
            return false;
        return true;
      }, e11.prototype.getDimension = function() {
        return 1;
      }, e11.prototype.reverse = function() {
        for (var t51 = this._geometries.length, e12 = new Array(t51).fill(null), i12 = 0; i12 < this._geometries.length; i12++)
          e12[t51 - 1 - i12] = this._geometries[i12].reverse();
        return this.getFactory().createMultiLineString(e12);
      }, e11.prototype.getBoundary = function() {
        return new Wt2(this).getBoundary();
      }, e11.prototype.getGeometryType = function() {
        return "MultiLineString";
      }, e11.prototype.copy = function() {
        for (var t51 = new Array(this._geometries.length).fill(null), i12 = 0; i12 < t51.length; i12++)
          t51[i12] = this._geometries[i12].copy();
        return new e11(t51, this._factory);
      }, e11.prototype.interfaces_ = function() {
        return [qt];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return 8166665132445434e3;
      }, Object.defineProperties(e11, i11), e11;
    }(jt2), Wt2 = q(function() {
      if (this._geom = null, this._geomFact = null, this._bnRule = null, this._endpointMap = null, 1 === arguments.length) {
        var t50 = arguments[0], e11 = gt.MOD2_BOUNDARY_RULE;
        this._geom = t50, this._geomFact = t50.getFactory(), this._bnRule = e11;
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        this._geom = i11, this._geomFact = i11.getFactory(), this._bnRule = n11;
      }
    }, "Yt");
    Wt2.prototype.boundaryMultiLineString = function(t50) {
      if (this._geom.isEmpty())
        return this.getEmptyMultiPoint();
      var e11 = this.computeBoundaryCoordinates(t50);
      return 1 === e11.length ? this._geomFact.createPoint(e11[0]) : this._geomFact.createMultiPointFromCoords(e11);
    }, Wt2.prototype.getBoundary = function() {
      return this._geom instanceof Zt ? this.boundaryLineString(this._geom) : this._geom instanceof Gt2 ? this.boundaryMultiLineString(this._geom) : this._geom.getBoundary();
    }, Wt2.prototype.boundaryLineString = function(t50) {
      return this._geom.isEmpty() ? this.getEmptyMultiPoint() : t50.isClosed() ? this._bnRule.isInBoundary(2) ? t50.getStartPoint() : this._geomFact.createMultiPoint() : this._geomFact.createMultiPoint([t50.getStartPoint(), t50.getEndPoint()]);
    }, Wt2.prototype.getEmptyMultiPoint = function() {
      return this._geomFact.createMultiPoint();
    }, Wt2.prototype.computeBoundaryCoordinates = function(t50) {
      var e11 = new wt2();
      this._endpointMap = new p4();
      for (var i11 = 0; i11 < t50.getNumGeometries(); i11++) {
        var n11 = t50.getGeometryN(i11);
        0 !== n11.getNumPoints() && (this.addEndpoint(n11.getCoordinateN(0)), this.addEndpoint(n11.getCoordinateN(n11.getNumPoints() - 1)));
      }
      for (var r6 = this._endpointMap.entrySet().iterator(); r6.hasNext(); ) {
        var o6 = r6.next(), s10 = o6.getValue().count;
        this._bnRule.isInBoundary(s10) && e11.add(o6.getKey());
      }
      return Tt.toCoordinateArray(e11);
    }, Wt2.prototype.addEndpoint = function(t50) {
      var e11 = this._endpointMap.get(t50);
      null === e11 && (e11 = new Ht(), this._endpointMap.put(t50, e11)), e11.count++;
    }, Wt2.prototype.interfaces_ = function() {
      return [];
    }, Wt2.prototype.getClass = function() {
      return Wt2;
    }, Wt2.getBoundary = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return new Wt2(t50).getBoundary();
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return new Wt2(e11, i11).getBoundary();
      }
    };
    var Ht = q(function() {
      this.count = null;
    }, "kt");
    Ht.prototype.interfaces_ = function() {
      return [];
    }, Ht.prototype.getClass = function() {
      return Ht;
    };
    var Yt2 = q(function() {
    }, "jt"), Xt2 = { NEWLINE: { configurable: true }, SIMPLE_ORDINATE_FORMAT: { configurable: true } };
    Yt2.prototype.interfaces_ = function() {
      return [];
    }, Yt2.prototype.getClass = function() {
      return Yt2;
    }, Yt2.chars = function(t50, e11) {
      for (var i11 = new Array(e11).fill(null), n11 = 0; n11 < e11; n11++)
        i11[n11] = t50;
      return String(i11);
    }, Yt2.getStackTrace = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = new function() {
        }(), i11 = new function() {
        }(e11);
        return t50.printStackTrace(i11), e11.toString();
      }
      if (2 === arguments.length) {
        for (var n11 = arguments[0], r6 = arguments[1], o6 = "", s10 = new function() {
        }(new function() {
        }(Yt2.getStackTrace(n11))), a3 = 0; a3 < r6; a3++)
          try {
            o6 += s10.readLine() + Yt2.NEWLINE;
          } catch (t51) {
            if (!(t51 instanceof g))
              throw t51;
            it.shouldNeverReachHere();
          }
        return o6;
      }
    }, Yt2.split = function(t50, e11) {
      for (var i11 = e11.length, n11 = new wt2(), r6 = "" + t50, o6 = r6.indexOf(e11); o6 >= 0; ) {
        var s10 = r6.substring(0, o6);
        n11.add(s10), o6 = (r6 = r6.substring(o6 + i11)).indexOf(e11);
      }
      r6.length > 0 && n11.add(r6);
      for (var a3 = new Array(n11.size()).fill(null), l3 = 0; l3 < a3.length; l3++)
        a3[l3] = n11.get(l3);
      return a3;
    }, Yt2.toString = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return Yt2.SIMPLE_ORDINATE_FORMAT.format(t50);
      }
    }, Yt2.spaces = function(t50) {
      return Yt2.chars(" ", t50);
    }, Xt2.NEWLINE.get = function() {
      return W.getProperty("line.separator");
    }, Xt2.SIMPLE_ORDINATE_FORMAT.get = function() {
      return new function() {
      }("0.#");
    }, Object.defineProperties(Yt2, Xt2);
    var Kt = q(function() {
    }, "Wt");
    Kt.prototype.interfaces_ = function() {
      return [];
    }, Kt.prototype.getClass = function() {
      return Kt;
    }, Kt.copyCoord = function(t50, e11, i11, n11) {
      for (var r6 = Math.min(t50.getDimension(), i11.getDimension()), o6 = 0; o6 < r6; o6++)
        i11.setOrdinate(n11, o6, t50.getOrdinate(e11, o6));
    }, Kt.isRing = function(t50) {
      var e11 = t50.size();
      return 0 === e11 || !(e11 <= 3) && t50.getOrdinate(0, z.X) === t50.getOrdinate(e11 - 1, z.X) && t50.getOrdinate(0, z.Y) === t50.getOrdinate(e11 - 1, z.Y);
    }, Kt.isEqual = function(t50, e11) {
      var i11 = t50.size();
      if (i11 !== e11.size())
        return false;
      for (var n11 = Math.min(t50.getDimension(), e11.getDimension()), r6 = 0; r6 < i11; r6++)
        for (var o6 = 0; o6 < n11; o6++) {
          var s10 = t50.getOrdinate(r6, o6), a3 = e11.getOrdinate(r6, o6);
          if (!(t50.getOrdinate(r6, o6) === e11.getOrdinate(r6, o6) || _.isNaN(s10) && _.isNaN(a3)))
            return false;
        }
      return true;
    }, Kt.extend = function(t50, e11, i11) {
      var n11 = t50.create(i11, e11.getDimension()), r6 = e11.size();
      if (Kt.copy(e11, 0, n11, 0, r6), r6 > 0)
        for (var o6 = r6; o6 < i11; o6++)
          Kt.copy(e11, r6 - 1, n11, o6, 1);
      return n11;
    }, Kt.reverse = function(t50) {
      for (var e11 = t50.size() - 1, i11 = Math.trunc(e11 / 2), n11 = 0; n11 <= i11; n11++)
        Kt.swap(t50, n11, e11 - n11);
    }, Kt.swap = function(t50, e11, i11) {
      if (e11 === i11)
        return null;
      for (var n11 = 0; n11 < t50.getDimension(); n11++) {
        var r6 = t50.getOrdinate(e11, n11);
        t50.setOrdinate(e11, n11, t50.getOrdinate(i11, n11)), t50.setOrdinate(i11, n11, r6);
      }
    }, Kt.copy = function(t50, e11, i11, n11, r6) {
      for (var o6 = 0; o6 < r6; o6++)
        Kt.copyCoord(t50, e11 + o6, i11, n11 + o6);
    }, Kt.toString = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = t50.size();
        if (0 === e11)
          return "()";
        var i11 = t50.getDimension(), n11 = new D();
        n11.append("(");
        for (var r6 = 0; r6 < e11; r6++) {
          r6 > 0 && n11.append(" ");
          for (var o6 = 0; o6 < i11; o6++)
            o6 > 0 && n11.append(","), n11.append(Yt2.toString(t50.getOrdinate(r6, o6)));
        }
        return n11.append(")"), n11.toString();
      }
    }, Kt.ensureValidRing = function(t50, e11) {
      var i11 = e11.size();
      return 0 === i11 ? e11 : i11 <= 3 ? Kt.createClosedRing(t50, e11, 4) : e11.getOrdinate(0, z.X) === e11.getOrdinate(i11 - 1, z.X) && e11.getOrdinate(0, z.Y) === e11.getOrdinate(i11 - 1, z.Y) ? e11 : Kt.createClosedRing(t50, e11, i11 + 1);
    }, Kt.createClosedRing = function(t50, e11, i11) {
      var n11 = t50.create(i11, e11.getDimension()), r6 = e11.size();
      Kt.copy(e11, 0, n11, 0, r6);
      for (var o6 = r6; o6 < i11; o6++)
        Kt.copy(e11, 0, n11, o6, 1);
      return n11;
    };
    var Zt = function(t50) {
      function e11(e12, i12) {
        t50.call(this, i12), this._points = null, this.init(e12);
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.computeEnvelopeInternal = function() {
        return this.isEmpty() ? new Y() : this._points.expandEnvelope(new Y());
      }, e11.prototype.isRing = function() {
        return this.isClosed() && this.isSimple();
      }, e11.prototype.getSortIndex = function() {
        return t50.SORTINDEX_LINESTRING;
      }, e11.prototype.getCoordinates = function() {
        return this._points.toCoordinateArray();
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          if (!this.isEquivalentClass(e12))
            return false;
          var n11 = e12;
          if (this._points.size() !== n11._points.size())
            return false;
          for (var r6 = 0; r6 < this._points.size(); r6++)
            if (!this.equal(this._points.getCoordinate(r6), n11._points.getCoordinate(r6), i12))
              return false;
          return true;
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.normalize = function() {
        for (var t51 = 0; t51 < Math.trunc(this._points.size() / 2); t51++) {
          var e12 = this._points.size() - 1 - t51;
          if (!this._points.getCoordinate(t51).equals(this._points.getCoordinate(e12)))
            return this._points.getCoordinate(t51).compareTo(this._points.getCoordinate(e12)) > 0 && Kt.reverse(this._points), null;
        }
      }, e11.prototype.getCoordinate = function() {
        return this.isEmpty() ? null : this._points.getCoordinate(0);
      }, e11.prototype.getBoundaryDimension = function() {
        return this.isClosed() ? Ft2.FALSE : 0;
      }, e11.prototype.isClosed = function() {
        return !this.isEmpty() && this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1));
      }, e11.prototype.getEndPoint = function() {
        return this.isEmpty() ? null : this.getPointN(this.getNumPoints() - 1);
      }, e11.prototype.getDimension = function() {
        return 1;
      }, e11.prototype.getLength = function() {
        return lt.computeLength(this._points);
      }, e11.prototype.getNumPoints = function() {
        return this._points.size();
      }, e11.prototype.reverse = function() {
        var t51 = this._points.copy();
        return Kt.reverse(t51), this.getFactory().createLineString(t51);
      }, e11.prototype.compareToSameClass = function() {
        if (1 === arguments.length) {
          for (var t51 = arguments[0], e12 = 0, i12 = 0; e12 < this._points.size() && i12 < t51._points.size(); ) {
            var n11 = this._points.getCoordinate(e12).compareTo(t51._points.getCoordinate(i12));
            if (0 !== n11)
              return n11;
            e12++, i12++;
          }
          return e12 < this._points.size() ? 1 : i12 < t51._points.size() ? -1 : 0;
        }
        if (2 === arguments.length) {
          var r6 = arguments[0];
          return arguments[1].compare(this._points, r6._points);
        }
      }, e11.prototype.apply = function() {
        if (L(arguments[0], ft))
          for (var t51 = arguments[0], e12 = 0; e12 < this._points.size(); e12++)
            t51.filter(this._points.getCoordinate(e12));
        else if (L(arguments[0], Vt2)) {
          var i12 = arguments[0];
          if (0 === this._points.size())
            return null;
          for (var n11 = 0; n11 < this._points.size() && (i12.filter(this._points, n11), !i12.isDone()); n11++)
            ;
          i12.isGeometryChanged() && this.geometryChanged();
        } else
          (L(arguments[0], zt) || L(arguments[0], ht2)) && arguments[0].filter(this);
      }, e11.prototype.getBoundary = function() {
        return new Wt2(this).getBoundary();
      }, e11.prototype.isEquivalentClass = function(t51) {
        return t51 instanceof e11;
      }, e11.prototype.clone = function() {
        var e12 = t50.prototype.clone.call(this);
        return e12._points = this._points.clone(), e12;
      }, e11.prototype.getCoordinateN = function(t51) {
        return this._points.getCoordinate(t51);
      }, e11.prototype.getGeometryType = function() {
        return "LineString";
      }, e11.prototype.copy = function() {
        return new e11(this._points.copy(), this._factory);
      }, e11.prototype.getCoordinateSequence = function() {
        return this._points;
      }, e11.prototype.isEmpty = function() {
        return 0 === this._points.size();
      }, e11.prototype.init = function(t51) {
        if (null === t51 && (t51 = this.getFactory().getCoordinateSequenceFactory().create([])), 1 === t51.size())
          throw new x4("Invalid number of points in LineString (found " + t51.size() + " - must be 0 or >= 2)");
        this._points = t51;
      }, e11.prototype.isCoordinate = function(t51) {
        for (var e12 = 0; e12 < this._points.size(); e12++)
          if (this._points.getCoordinate(e12).equals(t51))
            return true;
        return false;
      }, e11.prototype.getStartPoint = function() {
        return this.isEmpty() ? null : this.getPointN(0);
      }, e11.prototype.getPointN = function(t51) {
        return this.getFactory().createPoint(this._points.getCoordinate(t51));
      }, e11.prototype.interfaces_ = function() {
        return [qt];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return 3110669828065365500;
      }, Object.defineProperties(e11, i11), e11;
    }(ct), Qt = q(function() {
    }, "Jt");
    Qt.prototype.interfaces_ = function() {
      return [];
    }, Qt.prototype.getClass = function() {
      return Qt;
    };
    var Jt = function(t50) {
      function e11(e12, i12) {
        t50.call(this, i12), this._coordinates = e12 || null, this.init(this._coordinates);
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.computeEnvelopeInternal = function() {
        if (this.isEmpty())
          return new Y();
        var t51 = new Y();
        return t51.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0)), t51;
      }, e11.prototype.getSortIndex = function() {
        return t50.SORTINDEX_POINT;
      }, e11.prototype.getCoordinates = function() {
        return this.isEmpty() ? [] : [this.getCoordinate()];
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          return !!this.isEquivalentClass(e12) && (!(!this.isEmpty() || !e12.isEmpty()) || this.isEmpty() === e12.isEmpty() && this.equal(e12.getCoordinate(), this.getCoordinate(), i12));
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.normalize = function() {
      }, e11.prototype.getCoordinate = function() {
        return 0 !== this._coordinates.size() ? this._coordinates.getCoordinate(0) : null;
      }, e11.prototype.getBoundaryDimension = function() {
        return Ft2.FALSE;
      }, e11.prototype.getDimension = function() {
        return 0;
      }, e11.prototype.getNumPoints = function() {
        return this.isEmpty() ? 0 : 1;
      }, e11.prototype.reverse = function() {
        return this.copy();
      }, e11.prototype.getX = function() {
        if (null === this.getCoordinate())
          throw new Error("getX called on empty Point");
        return this.getCoordinate().x;
      }, e11.prototype.compareToSameClass = function() {
        if (1 === arguments.length) {
          var t51 = arguments[0];
          return this.getCoordinate().compareTo(t51.getCoordinate());
        }
        if (2 === arguments.length) {
          var e12 = arguments[0];
          return arguments[1].compare(this._coordinates, e12._coordinates);
        }
      }, e11.prototype.apply = function() {
        if (L(arguments[0], ft)) {
          var t51 = arguments[0];
          if (this.isEmpty())
            return null;
          t51.filter(this.getCoordinate());
        } else if (L(arguments[0], Vt2)) {
          var e12 = arguments[0];
          if (this.isEmpty())
            return null;
          e12.filter(this._coordinates, 0), e12.isGeometryChanged() && this.geometryChanged();
        } else
          (L(arguments[0], zt) || L(arguments[0], ht2)) && arguments[0].filter(this);
      }, e11.prototype.getBoundary = function() {
        return this.getFactory().createGeometryCollection(null);
      }, e11.prototype.clone = function() {
        var e12 = t50.prototype.clone.call(this);
        return e12._coordinates = this._coordinates.clone(), e12;
      }, e11.prototype.getGeometryType = function() {
        return "Point";
      }, e11.prototype.copy = function() {
        return new e11(this._coordinates.copy(), this._factory);
      }, e11.prototype.getCoordinateSequence = function() {
        return this._coordinates;
      }, e11.prototype.getY = function() {
        if (null === this.getCoordinate())
          throw new Error("getY called on empty Point");
        return this.getCoordinate().y;
      }, e11.prototype.isEmpty = function() {
        return 0 === this._coordinates.size();
      }, e11.prototype.init = function(t51) {
        null === t51 && (t51 = this.getFactory().getCoordinateSequenceFactory().create([])), it.isTrue(t51.size() <= 1), this._coordinates = t51;
      }, e11.prototype.isSimple = function() {
        return true;
      }, e11.prototype.interfaces_ = function() {
        return [Qt];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return 4902022702746615e3;
      }, Object.defineProperties(e11, i11), e11;
    }(ct), $t2 = q(function() {
    }, "Zt");
    $t2.prototype.interfaces_ = function() {
      return [];
    }, $t2.prototype.getClass = function() {
      return $t2;
    };
    var te = function(t50) {
      function e11(e12, i12, n11) {
        if (t50.call(this, n11), this._shell = null, this._holes = null, null === e12 && (e12 = this.getFactory().createLinearRing()), null === i12 && (i12 = []), t50.hasNullElements(i12))
          throw new x4("holes must not contain null elements");
        if (e12.isEmpty() && t50.hasNonEmptyElements(i12))
          throw new x4("shell is empty but holes are not");
        this._shell = e12, this._holes = i12;
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.computeEnvelopeInternal = function() {
        return this._shell.getEnvelopeInternal();
      }, e11.prototype.getSortIndex = function() {
        return t50.SORTINDEX_POLYGON;
      }, e11.prototype.getCoordinates = function() {
        if (this.isEmpty())
          return [];
        for (var t51 = new Array(this.getNumPoints()).fill(null), e12 = -1, i12 = this._shell.getCoordinates(), n11 = 0; n11 < i12.length; n11++)
          t51[++e12] = i12[n11];
        for (var r6 = 0; r6 < this._holes.length; r6++)
          for (var o6 = this._holes[r6].getCoordinates(), s10 = 0; s10 < o6.length; s10++)
            t51[++e12] = o6[s10];
        return t51;
      }, e11.prototype.getArea = function() {
        var t51 = 0;
        t51 += Math.abs(lt.signedArea(this._shell.getCoordinateSequence()));
        for (var e12 = 0; e12 < this._holes.length; e12++)
          t51 -= Math.abs(lt.signedArea(this._holes[e12].getCoordinateSequence()));
        return t51;
      }, e11.prototype.isRectangle = function() {
        if (0 !== this.getNumInteriorRing() || null === this._shell || 5 !== this._shell.getNumPoints())
          return false;
        for (var t51 = this._shell.getCoordinateSequence(), e12 = this.getEnvelopeInternal(), i12 = 0; i12 < 5; i12++) {
          var n11 = t51.getX(i12);
          if (n11 !== e12.getMinX() && n11 !== e12.getMaxX())
            return false;
          var r6 = t51.getY(i12);
          if (r6 !== e12.getMinY() && r6 !== e12.getMaxY())
            return false;
        }
        for (var o6 = t51.getX(0), s10 = t51.getY(0), a3 = 1; a3 <= 4; a3++) {
          var l3 = t51.getX(a3), u2 = t51.getY(a3);
          if (l3 !== o6 == (u2 !== s10))
            return false;
          o6 = l3, s10 = u2;
        }
        return true;
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          if (!this.isEquivalentClass(e12))
            return false;
          var n11 = e12, r6 = this._shell, o6 = n11._shell;
          if (!r6.equalsExact(o6, i12) || this._holes.length !== n11._holes.length)
            return false;
          for (var s10 = 0; s10 < this._holes.length; s10++)
            if (!this._holes[s10].equalsExact(n11._holes[s10], i12))
              return false;
          return true;
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.normalize = function() {
        if (0 === arguments.length) {
          this.normalize(this._shell, true);
          for (var t51 = 0; t51 < this._holes.length; t51++)
            this.normalize(this._holes[t51], false);
          kt.sort(this._holes);
        } else if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          if (e12.isEmpty())
            return null;
          var n11 = new Array(e12.getCoordinates().length - 1).fill(null);
          W.arraycopy(e12.getCoordinates(), 0, n11, 0, n11.length);
          var r6 = Tt.minCoordinate(e12.getCoordinates());
          Tt.scroll(n11, r6), W.arraycopy(n11, 0, e12.getCoordinates(), 0, n11.length), e12.getCoordinates()[n11.length] = n11[0], lt.isCCW(e12.getCoordinates()) === i12 && Tt.reverse(e12.getCoordinates());
        }
      }, e11.prototype.getCoordinate = function() {
        return this._shell.getCoordinate();
      }, e11.prototype.getNumInteriorRing = function() {
        return this._holes.length;
      }, e11.prototype.getBoundaryDimension = function() {
        return 1;
      }, e11.prototype.getDimension = function() {
        return 2;
      }, e11.prototype.getLength = function() {
        var t51 = 0;
        t51 += this._shell.getLength();
        for (var e12 = 0; e12 < this._holes.length; e12++)
          t51 += this._holes[e12].getLength();
        return t51;
      }, e11.prototype.getNumPoints = function() {
        for (var t51 = this._shell.getNumPoints(), e12 = 0; e12 < this._holes.length; e12++)
          t51 += this._holes[e12].getNumPoints();
        return t51;
      }, e11.prototype.reverse = function() {
        var t51 = this.copy();
        t51._shell = this._shell.copy().reverse(), t51._holes = new Array(this._holes.length).fill(null);
        for (var e12 = 0; e12 < this._holes.length; e12++)
          t51._holes[e12] = this._holes[e12].copy().reverse();
        return t51;
      }, e11.prototype.convexHull = function() {
        return this.getExteriorRing().convexHull();
      }, e11.prototype.compareToSameClass = function() {
        if (1 === arguments.length) {
          var t51 = arguments[0], e12 = this._shell, i12 = t51._shell;
          return e12.compareToSameClass(i12);
        }
        if (2 === arguments.length) {
          var n11 = arguments[0], r6 = arguments[1], o6 = n11, s10 = this._shell, a3 = o6._shell, l3 = s10.compareToSameClass(a3, r6);
          if (0 !== l3)
            return l3;
          for (var u2 = this.getNumInteriorRing(), h2 = o6.getNumInteriorRing(), c4 = 0; c4 < u2 && c4 < h2; ) {
            var p10 = this.getInteriorRingN(c4), d4 = o6.getInteriorRingN(c4), f2 = p10.compareToSameClass(d4, r6);
            if (0 !== f2)
              return f2;
            c4++;
          }
          return c4 < u2 ? 1 : c4 < h2 ? -1 : 0;
        }
      }, e11.prototype.apply = function(t51) {
        if (L(t51, ft)) {
          this._shell.apply(t51);
          for (var e12 = 0; e12 < this._holes.length; e12++)
            this._holes[e12].apply(t51);
        } else if (L(t51, Vt2)) {
          if (this._shell.apply(t51), !t51.isDone())
            for (var i12 = 0; i12 < this._holes.length && (this._holes[i12].apply(t51), !t51.isDone()); i12++)
              ;
          t51.isGeometryChanged() && this.geometryChanged();
        } else if (L(t51, zt))
          t51.filter(this);
        else if (L(t51, ht2)) {
          t51.filter(this), this._shell.apply(t51);
          for (var n11 = 0; n11 < this._holes.length; n11++)
            this._holes[n11].apply(t51);
        }
      }, e11.prototype.getBoundary = function() {
        if (this.isEmpty())
          return this.getFactory().createMultiLineString();
        var t51 = new Array(this._holes.length + 1).fill(null);
        t51[0] = this._shell;
        for (var e12 = 0; e12 < this._holes.length; e12++)
          t51[e12 + 1] = this._holes[e12];
        return t51.length <= 1 ? this.getFactory().createLinearRing(t51[0].getCoordinateSequence()) : this.getFactory().createMultiLineString(t51);
      }, e11.prototype.clone = function() {
        var e12 = t50.prototype.clone.call(this);
        e12._shell = this._shell.clone(), e12._holes = new Array(this._holes.length).fill(null);
        for (var i12 = 0; i12 < this._holes.length; i12++)
          e12._holes[i12] = this._holes[i12].clone();
        return e12;
      }, e11.prototype.getGeometryType = function() {
        return "Polygon";
      }, e11.prototype.copy = function() {
        for (var t51 = this._shell.copy(), i12 = new Array(this._holes.length).fill(null), n11 = 0; n11 < i12.length; n11++)
          i12[n11] = this._holes[n11].copy();
        return new e11(t51, i12, this._factory);
      }, e11.prototype.getExteriorRing = function() {
        return this._shell;
      }, e11.prototype.isEmpty = function() {
        return this._shell.isEmpty();
      }, e11.prototype.getInteriorRingN = function(t51) {
        return this._holes[t51];
      }, e11.prototype.interfaces_ = function() {
        return [$t2];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return -3494792200821764600;
      }, Object.defineProperties(e11, i11), e11;
    }(ct), ee = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.getSortIndex = function() {
        return ct.SORTINDEX_MULTIPOINT;
      }, e11.prototype.isValid = function() {
        return true;
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          return !!this.isEquivalentClass(e12) && t50.prototype.equalsExact.call(this, e12, i12);
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.getCoordinate = function() {
        if (1 === arguments.length) {
          var e12 = arguments[0];
          return this._geometries[e12].getCoordinate();
        }
        return t50.prototype.getCoordinate.apply(this, arguments);
      }, e11.prototype.getBoundaryDimension = function() {
        return Ft2.FALSE;
      }, e11.prototype.getDimension = function() {
        return 0;
      }, e11.prototype.getBoundary = function() {
        return this.getFactory().createGeometryCollection(null);
      }, e11.prototype.getGeometryType = function() {
        return "MultiPoint";
      }, e11.prototype.copy = function() {
        for (var t51 = new Array(this._geometries.length).fill(null), i12 = 0; i12 < t51.length; i12++)
          t51[i12] = this._geometries[i12].copy();
        return new e11(t51, this._factory);
      }, e11.prototype.interfaces_ = function() {
        return [Qt];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return -8048474874175356e3;
      }, Object.defineProperties(e11, i11), e11;
    }(jt2), ie = function(t50) {
      function e11(e12, i12) {
        e12 instanceof A && i12 instanceof ye && (e12 = i12.getCoordinateSequenceFactory().create(e12)), t50.call(this, e12, i12), this.validateConstruction();
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { MINIMUM_VALID_SIZE: { configurable: true }, serialVersionUID: { configurable: true } };
      return e11.prototype.getSortIndex = function() {
        return ct.SORTINDEX_LINEARRING;
      }, e11.prototype.getBoundaryDimension = function() {
        return Ft2.FALSE;
      }, e11.prototype.isClosed = function() {
        return !!this.isEmpty() || t50.prototype.isClosed.call(this);
      }, e11.prototype.reverse = function() {
        var t51 = this._points.copy();
        return Kt.reverse(t51), this.getFactory().createLinearRing(t51);
      }, e11.prototype.validateConstruction = function() {
        if (!this.isEmpty() && !t50.prototype.isClosed.call(this))
          throw new x4("Points of LinearRing do not form a closed linestring");
        if (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < e11.MINIMUM_VALID_SIZE)
          throw new x4("Invalid number of points in LinearRing (found " + this.getCoordinateSequence().size() + " - must be 0 or >= 4)");
      }, e11.prototype.getGeometryType = function() {
        return "LinearRing";
      }, e11.prototype.copy = function() {
        return new e11(this._points.copy(), this._factory);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.MINIMUM_VALID_SIZE.get = function() {
        return 4;
      }, i11.serialVersionUID.get = function() {
        return -4261142084085851600;
      }, Object.defineProperties(e11, i11), e11;
    }(Zt), ne = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { serialVersionUID: { configurable: true } };
      return e11.prototype.getSortIndex = function() {
        return ct.SORTINDEX_MULTIPOLYGON;
      }, e11.prototype.equalsExact = function() {
        if (2 === arguments.length) {
          var e12 = arguments[0], i12 = arguments[1];
          return !!this.isEquivalentClass(e12) && t50.prototype.equalsExact.call(this, e12, i12);
        }
        return t50.prototype.equalsExact.apply(this, arguments);
      }, e11.prototype.getBoundaryDimension = function() {
        return 1;
      }, e11.prototype.getDimension = function() {
        return 2;
      }, e11.prototype.reverse = function() {
        for (var t51 = this._geometries.length, e12 = new Array(t51).fill(null), i12 = 0; i12 < this._geometries.length; i12++)
          e12[i12] = this._geometries[i12].reverse();
        return this.getFactory().createMultiPolygon(e12);
      }, e11.prototype.getBoundary = function() {
        if (this.isEmpty())
          return this.getFactory().createMultiLineString();
        for (var t51 = new wt2(), e12 = 0; e12 < this._geometries.length; e12++)
          for (var i12 = this._geometries[e12].getBoundary(), n11 = 0; n11 < i12.getNumGeometries(); n11++)
            t51.add(i12.getGeometryN(n11));
        var r6 = new Array(t51.size()).fill(null);
        return this.getFactory().createMultiLineString(t51.toArray(r6));
      }, e11.prototype.getGeometryType = function() {
        return "MultiPolygon";
      }, e11.prototype.copy = function() {
        for (var t51 = new Array(this._geometries.length).fill(null), i12 = 0; i12 < t51.length; i12++)
          t51[i12] = this._geometries[i12].copy();
        return new e11(t51, this._factory);
      }, e11.prototype.interfaces_ = function() {
        return [$t2];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.serialVersionUID.get = function() {
        return -551033529766975900;
      }, Object.defineProperties(e11, i11), e11;
    }(jt2), re = q(function(t50) {
      this._factory = t50 || null, this._isUserDataCopied = false;
    }, "ie"), oe = { NoOpGeometryOperation: { configurable: true }, CoordinateOperation: { configurable: true }, CoordinateSequenceOperation: { configurable: true } };
    re.prototype.setCopyUserData = function(t50) {
      this._isUserDataCopied = t50;
    }, re.prototype.edit = function(t50, e11) {
      if (null === t50)
        return null;
      var i11 = this.editInternal(t50, e11);
      return this._isUserDataCopied && i11.setUserData(t50.getUserData()), i11;
    }, re.prototype.editInternal = function(t50, e11) {
      return null === this._factory && (this._factory = t50.getFactory()), t50 instanceof jt2 ? this.editGeometryCollection(t50, e11) : t50 instanceof te ? this.editPolygon(t50, e11) : t50 instanceof Jt || t50 instanceof Zt ? e11.edit(t50, this._factory) : (it.shouldNeverReachHere("Unsupported Geometry class: " + t50.getClass().getName()), null);
    }, re.prototype.editGeometryCollection = function(t50, e11) {
      for (var i11 = e11.edit(t50, this._factory), n11 = new wt2(), r6 = 0; r6 < i11.getNumGeometries(); r6++) {
        var o6 = this.edit(i11.getGeometryN(r6), e11);
        null === o6 || o6.isEmpty() || n11.add(o6);
      }
      return i11.getClass() === ee ? this._factory.createMultiPoint(n11.toArray([])) : i11.getClass() === Gt2 ? this._factory.createMultiLineString(n11.toArray([])) : i11.getClass() === ne ? this._factory.createMultiPolygon(n11.toArray([])) : this._factory.createGeometryCollection(n11.toArray([]));
    }, re.prototype.editPolygon = function(t50, e11) {
      var i11 = e11.edit(t50, this._factory);
      if (null === i11 && (i11 = this._factory.createPolygon(null)), i11.isEmpty())
        return i11;
      var n11 = this.edit(i11.getExteriorRing(), e11);
      if (null === n11 || n11.isEmpty())
        return this._factory.createPolygon();
      for (var r6 = new wt2(), o6 = 0; o6 < i11.getNumInteriorRing(); o6++) {
        var s10 = this.edit(i11.getInteriorRingN(o6), e11);
        null === s10 || s10.isEmpty() || r6.add(s10);
      }
      return this._factory.createPolygon(n11, r6.toArray([]));
    }, re.prototype.interfaces_ = function() {
      return [];
    }, re.prototype.getClass = function() {
      return re;
    }, re.GeometryEditorOperation = function() {
    }, oe.NoOpGeometryOperation.get = function() {
      return se;
    }, oe.CoordinateOperation.get = function() {
      return ae;
    }, oe.CoordinateSequenceOperation.get = function() {
      return le;
    }, Object.defineProperties(re, oe);
    var se = q(function() {
    }, "oe");
    se.prototype.edit = function(t50, e11) {
      return t50;
    }, se.prototype.interfaces_ = function() {
      return [re.GeometryEditorOperation];
    }, se.prototype.getClass = function() {
      return se;
    };
    var ae = q(function() {
    }, "se");
    ae.prototype.edit = function(t50, e11) {
      var i11 = this.editCoordinates(t50.getCoordinates(), t50);
      return null === i11 ? t50 : t50 instanceof ie ? e11.createLinearRing(i11) : t50 instanceof Zt ? e11.createLineString(i11) : t50 instanceof Jt ? i11.length > 0 ? e11.createPoint(i11[0]) : e11.createPoint() : t50;
    }, ae.prototype.interfaces_ = function() {
      return [re.GeometryEditorOperation];
    }, ae.prototype.getClass = function() {
      return ae;
    };
    var le = q(function() {
    }, "ae");
    le.prototype.edit = function(t50, e11) {
      return t50 instanceof ie ? e11.createLinearRing(this.edit(t50.getCoordinateSequence(), t50)) : t50 instanceof Zt ? e11.createLineString(this.edit(t50.getCoordinateSequence(), t50)) : t50 instanceof Jt ? e11.createPoint(this.edit(t50.getCoordinateSequence(), t50)) : t50;
    }, le.prototype.interfaces_ = function() {
      return [re.GeometryEditorOperation];
    }, le.prototype.getClass = function() {
      return le;
    };
    var ue2 = q(function() {
      if (this._dimension = 3, this._coordinates = null, 1 === arguments.length) {
        if (arguments[0] instanceof Array)
          this._coordinates = arguments[0], this._dimension = 3;
        else if (Number.isInteger(arguments[0])) {
          var t50 = arguments[0];
          this._coordinates = new Array(t50).fill(null);
          for (var e11 = 0; e11 < t50; e11++)
            this._coordinates[e11] = new A();
        } else if (L(arguments[0], z)) {
          var i11 = arguments[0];
          if (null === i11)
            return this._coordinates = new Array(0).fill(null), null;
          this._dimension = i11.getDimension(), this._coordinates = new Array(i11.size()).fill(null);
          for (var n11 = 0; n11 < this._coordinates.length; n11++)
            this._coordinates[n11] = i11.getCoordinateCopy(n11);
        }
      } else if (2 === arguments.length) {
        if (arguments[0] instanceof Array && Number.isInteger(arguments[1])) {
          var r6 = arguments[0], o6 = arguments[1];
          this._coordinates = r6, this._dimension = o6, null === r6 && (this._coordinates = new Array(0).fill(null));
        } else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {
          var s10 = arguments[0], a3 = arguments[1];
          this._coordinates = new Array(s10).fill(null), this._dimension = a3;
          for (var l3 = 0; l3 < s10; l3++)
            this._coordinates[l3] = new A();
        }
      }
    }, "ue"), he = { serialVersionUID: { configurable: true } };
    ue2.prototype.setOrdinate = function(t50, e11, i11) {
      switch (e11) {
        case z.X:
          this._coordinates[t50].x = i11;
          break;
        case z.Y:
          this._coordinates[t50].y = i11;
          break;
        case z.Z:
          this._coordinates[t50].z = i11;
          break;
        default:
          throw new x4("invalid ordinateIndex");
      }
    }, ue2.prototype.size = function() {
      return this._coordinates.length;
    }, ue2.prototype.getOrdinate = function(t50, e11) {
      switch (e11) {
        case z.X:
          return this._coordinates[t50].x;
        case z.Y:
          return this._coordinates[t50].y;
        case z.Z:
          return this._coordinates[t50].z;
      }
      return _.NaN;
    }, ue2.prototype.getCoordinate = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this._coordinates[t50];
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        i11.x = this._coordinates[e11].x, i11.y = this._coordinates[e11].y, i11.z = this._coordinates[e11].z;
      }
    }, ue2.prototype.getCoordinateCopy = function(t50) {
      return new A(this._coordinates[t50]);
    }, ue2.prototype.getDimension = function() {
      return this._dimension;
    }, ue2.prototype.getX = function(t50) {
      return this._coordinates[t50].x;
    }, ue2.prototype.clone = function() {
      for (var t50 = new Array(this.size()).fill(null), e11 = 0; e11 < this._coordinates.length; e11++)
        t50[e11] = this._coordinates[e11].clone();
      return new ue2(t50, this._dimension);
    }, ue2.prototype.expandEnvelope = function(t50) {
      for (var e11 = 0; e11 < this._coordinates.length; e11++)
        t50.expandToInclude(this._coordinates[e11]);
      return t50;
    }, ue2.prototype.copy = function() {
      for (var t50 = new Array(this.size()).fill(null), e11 = 0; e11 < this._coordinates.length; e11++)
        t50[e11] = this._coordinates[e11].copy();
      return new ue2(t50, this._dimension);
    }, ue2.prototype.toString = function() {
      if (this._coordinates.length > 0) {
        var t50 = new D(17 * this._coordinates.length);
        t50.append("("), t50.append(this._coordinates[0]);
        for (var e11 = 1; e11 < this._coordinates.length; e11++)
          t50.append(", "), t50.append(this._coordinates[e11]);
        return t50.append(")"), t50.toString();
      }
      return "()";
    }, ue2.prototype.getY = function(t50) {
      return this._coordinates[t50].y;
    }, ue2.prototype.toCoordinateArray = function() {
      return this._coordinates;
    }, ue2.prototype.interfaces_ = function() {
      return [z, e10];
    }, ue2.prototype.getClass = function() {
      return ue2;
    }, he.serialVersionUID.get = function() {
      return -915438501601840600;
    }, Object.defineProperties(ue2, he);
    var ce = q(function() {
    }, "ce"), pe = { serialVersionUID: { configurable: true }, instanceObject: { configurable: true } };
    ce.prototype.readResolve = function() {
      return ce.instance();
    }, ce.prototype.create = function() {
      if (1 === arguments.length) {
        if (arguments[0] instanceof Array) {
          var t50 = arguments[0];
          return new ue2(t50);
        }
        if (L(arguments[0], z)) {
          var e11 = arguments[0];
          return new ue2(e11);
        }
      } else if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        return n11 > 3 && (n11 = 3), n11 < 2 ? new ue2(i11) : new ue2(i11, n11);
      }
    }, ce.prototype.interfaces_ = function() {
      return [C, e10];
    }, ce.prototype.getClass = function() {
      return ce;
    }, ce.instance = function() {
      return ce.instanceObject;
    }, pe.serialVersionUID.get = function() {
      return -4099577099607551500;
    }, pe.instanceObject.get = function() {
      return new ce();
    }, Object.defineProperties(ce, pe);
    var de = function(t50) {
      function e11() {
        t50.call(this), this.map_ = /* @__PURE__ */ new Map();
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.get = function(t51) {
        return this.map_.get(t51) || null;
      }, e11.prototype.put = function(t51, e12) {
        return this.map_.set(t51, e12), e12;
      }, e11.prototype.values = function() {
        for (var t51 = new wt2(), e12 = this.map_.values(), i11 = e12.next(); !i11.done; )
          t51.add(i11.value), i11 = e12.next();
        return t51;
      }, e11.prototype.entrySet = function() {
        var t51 = new Nt();
        return this.map_.entries().forEach(function(e12) {
          return t51.add(e12);
        }), t51;
      }, e11.prototype.size = function() {
        return this.map_.size();
      }, e11;
    }(Lt), fe2 = q(function t50() {
      if (this._modelType = null, this._scale = null, 0 === arguments.length)
        this._modelType = t50.FLOATING;
      else if (1 === arguments.length) {
        if (arguments[0] instanceof me) {
          var e11 = arguments[0];
          this._modelType = e11, e11 === t50.FIXED && this.setScale(1);
        } else if ("number" == typeof arguments[0]) {
          var i11 = arguments[0];
          this._modelType = t50.FIXED, this.setScale(i11);
        } else if (arguments[0] instanceof t50) {
          var n11 = arguments[0];
          this._modelType = n11._modelType, this._scale = n11._scale;
        }
      }
    }, "t"), ge = { serialVersionUID: { configurable: true }, maximumPreciseValue: { configurable: true } };
    fe2.prototype.equals = function(t50) {
      if (!(t50 instanceof fe2))
        return false;
      var e11 = t50;
      return this._modelType === e11._modelType && this._scale === e11._scale;
    }, fe2.prototype.compareTo = function(t50) {
      var e11 = t50, i11 = this.getMaximumSignificantDigits(), n11 = e11.getMaximumSignificantDigits();
      return new R(i11).compareTo(new R(n11));
    }, fe2.prototype.getScale = function() {
      return this._scale;
    }, fe2.prototype.isFloating = function() {
      return this._modelType === fe2.FLOATING || this._modelType === fe2.FLOATING_SINGLE;
    }, fe2.prototype.getType = function() {
      return this._modelType;
    }, fe2.prototype.toString = function() {
      var t50 = "UNKNOWN";
      return this._modelType === fe2.FLOATING ? t50 = "Floating" : this._modelType === fe2.FLOATING_SINGLE ? t50 = "Floating-Single" : this._modelType === fe2.FIXED && (t50 = "Fixed (Scale=" + this.getScale() + ")"), t50;
    }, fe2.prototype.makePrecise = function() {
      if ("number" == typeof arguments[0]) {
        var t50 = arguments[0];
        return _.isNaN(t50) || this._modelType === fe2.FLOATING_SINGLE ? t50 : this._modelType === fe2.FIXED ? Math.round(t50 * this._scale) / this._scale : t50;
      }
      if (arguments[0] instanceof A) {
        var e11 = arguments[0];
        if (this._modelType === fe2.FLOATING)
          return null;
        e11.x = this.makePrecise(e11.x), e11.y = this.makePrecise(e11.y);
      }
    }, fe2.prototype.getMaximumSignificantDigits = function() {
      var t50 = 16;
      return this._modelType === fe2.FLOATING ? t50 = 16 : this._modelType === fe2.FLOATING_SINGLE ? t50 = 6 : this._modelType === fe2.FIXED && (t50 = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)))), t50;
    }, fe2.prototype.setScale = function(t50) {
      this._scale = Math.abs(t50);
    }, fe2.prototype.interfaces_ = function() {
      return [e10, M];
    }, fe2.prototype.getClass = function() {
      return fe2;
    }, fe2.mostPrecise = function(t50, e11) {
      return t50.compareTo(e11) >= 0 ? t50 : e11;
    }, ge.serialVersionUID.get = function() {
      return 7777263578777804e3;
    }, ge.maximumPreciseValue.get = function() {
      return 9007199254740992;
    }, Object.defineProperties(fe2, ge);
    var me = q(function t50(e11) {
      this._name = e11 || null, t50.nameToTypeMap.put(e11, this);
    }, "t"), ve = { serialVersionUID: { configurable: true }, nameToTypeMap: { configurable: true } };
    me.prototype.readResolve = function() {
      return me.nameToTypeMap.get(this._name);
    }, me.prototype.toString = function() {
      return this._name;
    }, me.prototype.interfaces_ = function() {
      return [e10];
    }, me.prototype.getClass = function() {
      return me;
    }, ve.serialVersionUID.get = function() {
      return -552860263173159e4;
    }, ve.nameToTypeMap.get = function() {
      return new de();
    }, Object.defineProperties(me, ve), fe2.Type = me, fe2.FIXED = new me("FIXED"), fe2.FLOATING = new me("FLOATING"), fe2.FLOATING_SINGLE = new me("FLOATING SINGLE");
    var ye = q(function t50() {
      this._precisionModel = new fe2(), this._SRID = 0, this._coordinateSequenceFactory = t50.getDefaultCoordinateSequenceFactory(), 0 === arguments.length || (1 === arguments.length ? L(arguments[0], C) ? this._coordinateSequenceFactory = arguments[0] : arguments[0] instanceof fe2 && (this._precisionModel = arguments[0]) : 2 === arguments.length ? (this._precisionModel = arguments[0], this._SRID = arguments[1]) : 3 === arguments.length && (this._precisionModel = arguments[0], this._SRID = arguments[1], this._coordinateSequenceFactory = arguments[2]));
    }, "t"), xe = { serialVersionUID: { configurable: true } };
    ye.prototype.toGeometry = function(t50) {
      return t50.isNull() ? this.createPoint(null) : t50.getMinX() === t50.getMaxX() && t50.getMinY() === t50.getMaxY() ? this.createPoint(new A(t50.getMinX(), t50.getMinY())) : t50.getMinX() === t50.getMaxX() || t50.getMinY() === t50.getMaxY() ? this.createLineString([new A(t50.getMinX(), t50.getMinY()), new A(t50.getMaxX(), t50.getMaxY())]) : this.createPolygon(this.createLinearRing([new A(t50.getMinX(), t50.getMinY()), new A(t50.getMinX(), t50.getMaxY()), new A(t50.getMaxX(), t50.getMaxY()), new A(t50.getMaxX(), t50.getMinY()), new A(t50.getMinX(), t50.getMinY())]), null);
    }, ye.prototype.createLineString = function(t50) {
      return t50 ? t50 instanceof Array ? new Zt(this.getCoordinateSequenceFactory().create(t50), this) : L(t50, z) ? new Zt(t50, this) : void 0 : new Zt(this.getCoordinateSequenceFactory().create([]), this);
    }, ye.prototype.createMultiLineString = function() {
      if (0 === arguments.length)
        return new Gt2(null, this);
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return new Gt2(t50, this);
      }
    }, ye.prototype.buildGeometry = function(t50) {
      for (var e11 = null, i11 = false, n11 = false, r6 = t50.iterator(); r6.hasNext(); ) {
        var o6 = r6.next(), s10 = o6.getClass();
        null === e11 && (e11 = s10), s10 !== e11 && (i11 = true), o6.isGeometryCollectionOrDerived() && (n11 = true);
      }
      if (null === e11)
        return this.createGeometryCollection();
      if (i11 || n11)
        return this.createGeometryCollection(ye.toGeometryArray(t50));
      var a3 = t50.iterator().next();
      if (t50.size() > 1) {
        if (a3 instanceof te)
          return this.createMultiPolygon(ye.toPolygonArray(t50));
        if (a3 instanceof Zt)
          return this.createMultiLineString(ye.toLineStringArray(t50));
        if (a3 instanceof Jt)
          return this.createMultiPoint(ye.toPointArray(t50));
        it.shouldNeverReachHere("Unhandled class: " + a3.getClass().getName());
      }
      return a3;
    }, ye.prototype.createMultiPointFromCoords = function(t50) {
      return this.createMultiPoint(null !== t50 ? this.getCoordinateSequenceFactory().create(t50) : null);
    }, ye.prototype.createPoint = function() {
      if (0 === arguments.length)
        return this.createPoint(this.getCoordinateSequenceFactory().create([]));
      if (1 === arguments.length) {
        if (arguments[0] instanceof A) {
          var t50 = arguments[0];
          return this.createPoint(null !== t50 ? this.getCoordinateSequenceFactory().create([t50]) : null);
        }
        if (L(arguments[0], z)) {
          var e11 = arguments[0];
          return new Jt(e11, this);
        }
      }
    }, ye.prototype.getCoordinateSequenceFactory = function() {
      return this._coordinateSequenceFactory;
    }, ye.prototype.createPolygon = function() {
      if (0 === arguments.length)
        return new te(null, null, this);
      if (1 === arguments.length) {
        if (L(arguments[0], z)) {
          var t50 = arguments[0];
          return this.createPolygon(this.createLinearRing(t50));
        }
        if (arguments[0] instanceof Array) {
          var e11 = arguments[0];
          return this.createPolygon(this.createLinearRing(e11));
        }
        if (arguments[0] instanceof ie) {
          var i11 = arguments[0];
          return this.createPolygon(i11, null);
        }
      } else if (2 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1];
        return new te(n11, r6, this);
      }
    }, ye.prototype.getSRID = function() {
      return this._SRID;
    }, ye.prototype.createGeometryCollection = function() {
      if (0 === arguments.length)
        return new jt2(null, this);
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return new jt2(t50, this);
      }
    }, ye.prototype.createGeometry = function(t50) {
      return new re(this).edit(t50, { edit: function() {
        if (2 === arguments.length) {
          var t51 = arguments[0];
          return this._coordinateSequenceFactory.create(t51);
        }
      } });
    }, ye.prototype.getPrecisionModel = function() {
      return this._precisionModel;
    }, ye.prototype.createLinearRing = function() {
      if (0 === arguments.length)
        return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));
      if (1 === arguments.length) {
        if (arguments[0] instanceof Array) {
          var t50 = arguments[0];
          return this.createLinearRing(null !== t50 ? this.getCoordinateSequenceFactory().create(t50) : null);
        }
        if (L(arguments[0], z)) {
          var e11 = arguments[0];
          return new ie(e11, this);
        }
      }
    }, ye.prototype.createMultiPolygon = function() {
      if (0 === arguments.length)
        return new ne(null, this);
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return new ne(t50, this);
      }
    }, ye.prototype.createMultiPoint = function() {
      if (0 === arguments.length)
        return new ee(null, this);
      if (1 === arguments.length) {
        if (arguments[0] instanceof Array) {
          var t50 = arguments[0];
          return new ee(t50, this);
        }
        if (arguments[0] instanceof Array) {
          var e11 = arguments[0];
          return this.createMultiPoint(null !== e11 ? this.getCoordinateSequenceFactory().create(e11) : null);
        }
        if (L(arguments[0], z)) {
          var i11 = arguments[0];
          if (null === i11)
            return this.createMultiPoint(new Array(0).fill(null));
          for (var n11 = new Array(i11.size()).fill(null), r6 = 0; r6 < i11.size(); r6++) {
            var o6 = this.getCoordinateSequenceFactory().create(1, i11.getDimension());
            Kt.copy(i11, r6, o6, 0, 1), n11[r6] = this.createPoint(o6);
          }
          return this.createMultiPoint(n11);
        }
      }
    }, ye.prototype.interfaces_ = function() {
      return [e10];
    }, ye.prototype.getClass = function() {
      return ye;
    }, ye.toMultiPolygonArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.toGeometryArray = function(t50) {
      if (null === t50)
        return null;
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.getDefaultCoordinateSequenceFactory = function() {
      return ce.instance();
    }, ye.toMultiLineStringArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.toLineStringArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.toMultiPointArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.toLinearRingArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.toPointArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.toPolygonArray = function(t50) {
      var e11 = new Array(t50.size()).fill(null);
      return t50.toArray(e11);
    }, ye.createPointFromInternalCoord = function(t50, e11) {
      return e11.getPrecisionModel().makePrecise(t50), e11.getFactory().createPoint(t50);
    }, xe.serialVersionUID.get = function() {
      return -6820524753094096e3;
    }, Object.defineProperties(ye, xe);
    var _e = ["Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon"], be = q(function(t50) {
      this.geometryFactory = t50 || new ye();
    }, "Ie");
    be.prototype.read = function(t50) {
      var e11, i11 = (e11 = "string" == typeof t50 ? JSON.parse(t50) : t50).type;
      if (!Me[i11])
        throw new Error("Unknown GeoJSON type: " + e11.type);
      return -1 !== _e.indexOf(i11) ? Me[i11].apply(this, [e11.coordinates]) : "GeometryCollection" === i11 ? Me[i11].apply(this, [e11.geometries]) : Me[i11].apply(this, [e11]);
    }, be.prototype.write = function(t50) {
      var e11 = t50.getGeometryType();
      if (!Ee[e11])
        throw new Error("Geometry is not supported");
      return Ee[e11].apply(this, [t50]);
    };
    var Me = { Feature: function(t50) {
      var e11 = {};
      for (var i11 in t50)
        e11[i11] = t50[i11];
      if (t50.geometry) {
        var n11 = t50.geometry.type;
        if (!Me[n11])
          throw new Error("Unknown GeoJSON type: " + t50.type);
        e11.geometry = this.read(t50.geometry);
      }
      return t50.bbox && (e11.bbox = Me.bbox.apply(this, [t50.bbox])), e11;
    }, FeatureCollection: function(t50) {
      var e11 = {};
      if (t50.features) {
        e11.features = [];
        for (var i11 = 0; i11 < t50.features.length; ++i11)
          e11.features.push(this.read(t50.features[i11]));
      }
      return t50.bbox && (e11.bbox = this.parse.bbox.apply(this, [t50.bbox])), e11;
    }, coordinates: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50.length; ++i11) {
        var n11 = t50[i11];
        e11.push(new A(n11[0], n11[1]));
      }
      return e11;
    }, bbox: function(t50) {
      return this.geometryFactory.createLinearRing([new A(t50[0], t50[1]), new A(t50[2], t50[1]), new A(t50[2], t50[3]), new A(t50[0], t50[3]), new A(t50[0], t50[1])]);
    }, Point: function(t50) {
      var e11 = new A(t50[0], t50[1]);
      return this.geometryFactory.createPoint(e11);
    }, MultiPoint: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50.length; ++i11)
        e11.push(Me.Point.apply(this, [t50[i11]]));
      return this.geometryFactory.createMultiPoint(e11);
    }, LineString: function(t50) {
      var e11 = Me.coordinates.apply(this, [t50]);
      return this.geometryFactory.createLineString(e11);
    }, MultiLineString: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50.length; ++i11)
        e11.push(Me.LineString.apply(this, [t50[i11]]));
      return this.geometryFactory.createMultiLineString(e11);
    }, Polygon: function(t50) {
      for (var e11 = Me.coordinates.apply(this, [t50[0]]), i11 = this.geometryFactory.createLinearRing(e11), n11 = [], r6 = 1; r6 < t50.length; ++r6) {
        var o6 = t50[r6], s10 = Me.coordinates.apply(this, [o6]), a3 = this.geometryFactory.createLinearRing(s10);
        n11.push(a3);
      }
      return this.geometryFactory.createPolygon(i11, n11);
    }, MultiPolygon: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50.length; ++i11) {
        var n11 = t50[i11];
        e11.push(Me.Polygon.apply(this, [n11]));
      }
      return this.geometryFactory.createMultiPolygon(e11);
    }, GeometryCollection: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50.length; ++i11) {
        var n11 = t50[i11];
        e11.push(this.read(n11));
      }
      return this.geometryFactory.createGeometryCollection(e11);
    } }, Ee = { coordinate: function(t50) {
      return [t50.x, t50.y];
    }, Point: function(t50) {
      return { type: "Point", coordinates: Ee.coordinate.apply(this, [t50.getCoordinate()]) };
    }, MultiPoint: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50._geometries.length; ++i11) {
        var n11 = t50._geometries[i11], r6 = Ee.Point.apply(this, [n11]);
        e11.push(r6.coordinates);
      }
      return { type: "MultiPoint", coordinates: e11 };
    }, LineString: function(t50) {
      for (var e11 = [], i11 = t50.getCoordinates(), n11 = 0; n11 < i11.length; ++n11) {
        var r6 = i11[n11];
        e11.push(Ee.coordinate.apply(this, [r6]));
      }
      return { type: "LineString", coordinates: e11 };
    }, MultiLineString: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50._geometries.length; ++i11) {
        var n11 = t50._geometries[i11], r6 = Ee.LineString.apply(this, [n11]);
        e11.push(r6.coordinates);
      }
      return { type: "MultiLineString", coordinates: e11 };
    }, Polygon: function(t50) {
      var e11 = [], i11 = Ee.LineString.apply(this, [t50._shell]);
      e11.push(i11.coordinates);
      for (var n11 = 0; n11 < t50._holes.length; ++n11) {
        var r6 = t50._holes[n11], o6 = Ee.LineString.apply(this, [r6]);
        e11.push(o6.coordinates);
      }
      return { type: "Polygon", coordinates: e11 };
    }, MultiPolygon: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50._geometries.length; ++i11) {
        var n11 = t50._geometries[i11], r6 = Ee.Polygon.apply(this, [n11]);
        e11.push(r6.coordinates);
      }
      return { type: "MultiPolygon", coordinates: e11 };
    }, GeometryCollection: function(t50) {
      for (var e11 = [], i11 = 0; i11 < t50._geometries.length; ++i11) {
        var n11 = t50._geometries[i11], r6 = n11.getGeometryType();
        e11.push(Ee[r6].apply(this, [n11]));
      }
      return { type: "GeometryCollection", geometries: e11 };
    } }, we = q(function(t50) {
      this.geometryFactory = t50 || new ye(), this.precisionModel = this.geometryFactory.getPrecisionModel(), this.parser = new be(this.geometryFactory);
    }, "Ne");
    we.prototype.read = function(t50) {
      var e11 = this.parser.read(t50);
      return this.precisionModel.getType() === fe2.FIXED && this.reducePrecision(e11), e11;
    }, we.prototype.reducePrecision = function(t50) {
      var e11, i11;
      if (t50.coordinate)
        this.precisionModel.makePrecise(t50.coordinate);
      else if (t50.points)
        for (e11 = 0, i11 = t50.points.length; e11 < i11; e11++)
          this.precisionModel.makePrecise(t50.points[e11]);
      else if (t50.geometries)
        for (e11 = 0, i11 = t50.geometries.length; e11 < i11; e11++)
          this.reducePrecision(t50.geometries[e11]);
    };
    var Ae = q(function() {
      this.parser = new be(this.geometryFactory);
    }, "Ce");
    Ae.prototype.write = function(t50) {
      return this.parser.write(t50);
    };
    var Se = q(function() {
    }, "Se"), Te = { ON: { configurable: true }, LEFT: { configurable: true }, RIGHT: { configurable: true } };
    Se.prototype.interfaces_ = function() {
      return [];
    }, Se.prototype.getClass = function() {
      return Se;
    }, Se.opposite = function(t50) {
      return t50 === Se.LEFT ? Se.RIGHT : t50 === Se.RIGHT ? Se.LEFT : t50;
    }, Te.ON.get = function() {
      return 0;
    }, Te.LEFT.get = function() {
      return 1;
    }, Te.RIGHT.get = function() {
      return 2;
    }, Object.defineProperties(Se, Te), (m.prototype = new Error()).name = "EmptyStackException", (v4.prototype = new Et()).add = function(t50) {
      return this.array_.push(t50), true;
    }, v4.prototype.get = function(t50) {
      if (t50 < 0 || t50 >= this.size())
        throw new Error();
      return this.array_[t50];
    }, v4.prototype.push = function(t50) {
      return this.array_.push(t50), t50;
    }, v4.prototype.pop = function(t50) {
      if (0 === this.array_.length)
        throw new m();
      return this.array_.pop();
    }, v4.prototype.peek = function() {
      if (0 === this.array_.length)
        throw new m();
      return this.array_[this.array_.length - 1];
    }, v4.prototype.empty = function() {
      return 0 === this.array_.length;
    }, v4.prototype.isEmpty = function() {
      return this.empty();
    }, v4.prototype.search = function(t50) {
      return this.array_.indexOf(t50);
    }, v4.prototype.size = function() {
      return this.array_.length;
    }, v4.prototype.toArray = function() {
      for (var t50 = [], e11 = 0, i11 = this.array_.length; e11 < i11; e11++)
        t50.push(this.array_[e11]);
      return t50;
    };
    var Ce = q(function() {
      this._minIndex = -1, this._minCoord = null, this._minDe = null, this._orientedDe = null;
    }, "be");
    Ce.prototype.getCoordinate = function() {
      return this._minCoord;
    }, Ce.prototype.getRightmostSide = function(t50, e11) {
      var i11 = this.getRightmostSideOfSegment(t50, e11);
      return i11 < 0 && (i11 = this.getRightmostSideOfSegment(t50, e11 - 1)), i11 < 0 && (this._minCoord = null, this.checkForRightmostCoordinate(t50)), i11;
    }, Ce.prototype.findRightmostEdgeAtVertex = function() {
      var t50 = this._minDe.getEdge().getCoordinates();
      it.isTrue(this._minIndex > 0 && this._minIndex < t50.length, "rightmost point expected to be interior vertex of edge");
      var e11 = t50[this._minIndex - 1], i11 = t50[this._minIndex + 1], n11 = lt.computeOrientation(this._minCoord, i11, e11), r6 = false;
      (e11.y < this._minCoord.y && i11.y < this._minCoord.y && n11 === lt.COUNTERCLOCKWISE || e11.y > this._minCoord.y && i11.y > this._minCoord.y && n11 === lt.CLOCKWISE) && (r6 = true), r6 && (this._minIndex = this._minIndex - 1);
    }, Ce.prototype.getRightmostSideOfSegment = function(t50, e11) {
      var i11 = t50.getEdge().getCoordinates();
      if (e11 < 0 || e11 + 1 >= i11.length || i11[e11].y === i11[e11 + 1].y)
        return -1;
      var n11 = Se.LEFT;
      return i11[e11].y < i11[e11 + 1].y && (n11 = Se.RIGHT), n11;
    }, Ce.prototype.getEdge = function() {
      return this._orientedDe;
    }, Ce.prototype.checkForRightmostCoordinate = function(t50) {
      for (var e11 = t50.getEdge().getCoordinates(), i11 = 0; i11 < e11.length - 1; i11++)
        (null === this._minCoord || e11[i11].x > this._minCoord.x) && (this._minDe = t50, this._minIndex = i11, this._minCoord = e11[i11]);
    }, Ce.prototype.findRightmostEdgeAtNode = function() {
      var t50 = this._minDe.getNode().getEdges();
      this._minDe = t50.getRightmostEdge(), this._minDe.isForward() || (this._minDe = this._minDe.getSym(), this._minIndex = this._minDe.getEdge().getCoordinates().length - 1);
    }, Ce.prototype.findEdge = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        i11.isForward() && this.checkForRightmostCoordinate(i11);
      }
      it.isTrue(0 !== this._minIndex || this._minCoord.equals(this._minDe.getCoordinate()), "inconsistency in rightmost processing"), 0 === this._minIndex ? this.findRightmostEdgeAtNode() : this.findRightmostEdgeAtVertex(), this._orientedDe = this._minDe, this.getRightmostSide(this._minDe, this._minIndex) === Se.LEFT && (this._orientedDe = this._minDe.getSym());
    }, Ce.prototype.interfaces_ = function() {
      return [];
    }, Ce.prototype.getClass = function() {
      return Ce;
    };
    var Pe = function(t50) {
      function e11(i11, n11) {
        t50.call(this, e11.msgWithCoord(i11, n11)), this.pt = n11 ? new A(n11) : null, this.name = "TopologyException";
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.getCoordinate = function() {
        return this.pt;
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11.msgWithCoord = function(t51, e12) {
        return e12 ? t51 : t51 + " [ " + e12 + " ]";
      }, e11;
    }(tt), Ie = q(function() {
      this.array_ = [];
    }, "Oe");
    Ie.prototype.addLast = function(t50) {
      this.array_.push(t50);
    }, Ie.prototype.removeFirst = function() {
      return this.array_.shift();
    }, Ie.prototype.isEmpty = function() {
      return 0 === this.array_.length;
    };
    var Le2 = q(function() {
      this._finder = null, this._dirEdgeList = new wt2(), this._nodes = new wt2(), this._rightMostCoord = null, this._env = null, this._finder = new Ce();
    }, "Te");
    Le2.prototype.clearVisitedEdges = function() {
      for (var t50 = this._dirEdgeList.iterator(); t50.hasNext(); )
        t50.next().setVisited(false);
    }, Le2.prototype.getRightmostCoordinate = function() {
      return this._rightMostCoord;
    }, Le2.prototype.computeNodeDepth = function(t50) {
      for (var e11 = null, i11 = t50.getEdges().iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        if (n11.isVisited() || n11.getSym().isVisited()) {
          e11 = n11;
          break;
        }
      }
      if (null === e11)
        throw new Pe("unable to find edge to compute depths at " + t50.getCoordinate());
      t50.getEdges().computeDepths(e11);
      for (var r6 = t50.getEdges().iterator(); r6.hasNext(); ) {
        var o6 = r6.next();
        o6.setVisited(true), this.copySymDepths(o6);
      }
    }, Le2.prototype.computeDepth = function(t50) {
      this.clearVisitedEdges();
      var e11 = this._finder.getEdge();
      e11.setEdgeDepths(Se.RIGHT, t50), this.copySymDepths(e11), this.computeDepths(e11);
    }, Le2.prototype.create = function(t50) {
      this.addReachable(t50), this._finder.findEdge(this._dirEdgeList), this._rightMostCoord = this._finder.getCoordinate();
    }, Le2.prototype.findResultEdges = function() {
      for (var t50 = this._dirEdgeList.iterator(); t50.hasNext(); ) {
        var e11 = t50.next();
        e11.getDepth(Se.RIGHT) >= 1 && e11.getDepth(Se.LEFT) <= 0 && !e11.isInteriorAreaEdge() && e11.setInResult(true);
      }
    }, Le2.prototype.computeDepths = function(t50) {
      var e11 = new Nt(), i11 = new Ie(), n11 = t50.getNode();
      for (i11.addLast(n11), e11.add(n11), t50.setVisited(true); !i11.isEmpty(); ) {
        var r6 = i11.removeFirst();
        e11.add(r6), this.computeNodeDepth(r6);
        for (var o6 = r6.getEdges().iterator(); o6.hasNext(); ) {
          var s10 = o6.next().getSym();
          if (!s10.isVisited()) {
            var a3 = s10.getNode();
            e11.contains(a3) || (i11.addLast(a3), e11.add(a3));
          }
        }
      }
    }, Le2.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this._rightMostCoord.x < e11._rightMostCoord.x ? -1 : this._rightMostCoord.x > e11._rightMostCoord.x ? 1 : 0;
    }, Le2.prototype.getEnvelope = function() {
      if (null === this._env) {
        for (var t50 = new Y(), e11 = this._dirEdgeList.iterator(); e11.hasNext(); )
          for (var i11 = e11.next().getEdge().getCoordinates(), n11 = 0; n11 < i11.length - 1; n11++)
            t50.expandToInclude(i11[n11]);
        this._env = t50;
      }
      return this._env;
    }, Le2.prototype.addReachable = function(t50) {
      var e11 = new v4();
      for (e11.add(t50); !e11.empty(); ) {
        var i11 = e11.pop();
        this.add(i11, e11);
      }
    }, Le2.prototype.copySymDepths = function(t50) {
      var e11 = t50.getSym();
      e11.setDepth(Se.LEFT, t50.getDepth(Se.RIGHT)), e11.setDepth(Se.RIGHT, t50.getDepth(Se.LEFT));
    }, Le2.prototype.add = function(t50, e11) {
      t50.setVisited(true), this._nodes.add(t50);
      for (var i11 = t50.getEdges().iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        this._dirEdgeList.add(n11);
        var r6 = n11.getSym().getNode();
        r6.isVisited() || e11.push(r6);
      }
    }, Le2.prototype.getNodes = function() {
      return this._nodes;
    }, Le2.prototype.getDirectedEdges = function() {
      return this._dirEdgeList;
    }, Le2.prototype.interfaces_ = function() {
      return [M];
    }, Le2.prototype.getClass = function() {
      return Le2;
    };
    var Oe = q(function t50() {
      if (this.location = null, 1 === arguments.length) {
        if (arguments[0] instanceof Array) {
          var e11 = arguments[0];
          this.init(e11.length);
        } else if (Number.isInteger(arguments[0])) {
          var i11 = arguments[0];
          this.init(1), this.location[Se.ON] = i11;
        } else if (arguments[0] instanceof t50) {
          var n11 = arguments[0];
          if (this.init(n11.location.length), null !== n11)
            for (var r6 = 0; r6 < this.location.length; r6++)
              this.location[r6] = n11.location[r6];
        }
      } else if (3 === arguments.length) {
        var o6 = arguments[0], s10 = arguments[1], a3 = arguments[2];
        this.init(3), this.location[Se.ON] = o6, this.location[Se.LEFT] = s10, this.location[Se.RIGHT] = a3;
      }
    }, "t");
    Oe.prototype.setAllLocations = function(t50) {
      for (var e11 = 0; e11 < this.location.length; e11++)
        this.location[e11] = t50;
    }, Oe.prototype.isNull = function() {
      for (var t50 = 0; t50 < this.location.length; t50++)
        if (this.location[t50] !== P.NONE)
          return false;
      return true;
    }, Oe.prototype.setAllLocationsIfNull = function(t50) {
      for (var e11 = 0; e11 < this.location.length; e11++)
        this.location[e11] === P.NONE && (this.location[e11] = t50);
    }, Oe.prototype.isLine = function() {
      return 1 === this.location.length;
    }, Oe.prototype.merge = function(t50) {
      if (t50.location.length > this.location.length) {
        var e11 = new Array(3).fill(null);
        e11[Se.ON] = this.location[Se.ON], e11[Se.LEFT] = P.NONE, e11[Se.RIGHT] = P.NONE, this.location = e11;
      }
      for (var i11 = 0; i11 < this.location.length; i11++)
        this.location[i11] === P.NONE && i11 < t50.location.length && (this.location[i11] = t50.location[i11]);
    }, Oe.prototype.getLocations = function() {
      return this.location;
    }, Oe.prototype.flip = function() {
      if (this.location.length <= 1)
        return null;
      var t50 = this.location[Se.LEFT];
      this.location[Se.LEFT] = this.location[Se.RIGHT], this.location[Se.RIGHT] = t50;
    }, Oe.prototype.toString = function() {
      var t50 = new D();
      return this.location.length > 1 && t50.append(P.toLocationSymbol(this.location[Se.LEFT])), t50.append(P.toLocationSymbol(this.location[Se.ON])), this.location.length > 1 && t50.append(P.toLocationSymbol(this.location[Se.RIGHT])), t50.toString();
    }, Oe.prototype.setLocations = function(t50, e11, i11) {
      this.location[Se.ON] = t50, this.location[Se.LEFT] = e11, this.location[Se.RIGHT] = i11;
    }, Oe.prototype.get = function(t50) {
      return t50 < this.location.length ? this.location[t50] : P.NONE;
    }, Oe.prototype.isArea = function() {
      return this.location.length > 1;
    }, Oe.prototype.isAnyNull = function() {
      for (var t50 = 0; t50 < this.location.length; t50++)
        if (this.location[t50] === P.NONE)
          return true;
      return false;
    }, Oe.prototype.setLocation = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setLocation(Se.ON, t50);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        this.location[e11] = i11;
      }
    }, Oe.prototype.init = function(t50) {
      this.location = new Array(t50).fill(null), this.setAllLocations(P.NONE);
    }, Oe.prototype.isEqualOnSide = function(t50, e11) {
      return this.location[e11] === t50.location[e11];
    }, Oe.prototype.allPositionsEqual = function(t50) {
      for (var e11 = 0; e11 < this.location.length; e11++)
        if (this.location[e11] !== t50)
          return false;
      return true;
    }, Oe.prototype.interfaces_ = function() {
      return [];
    }, Oe.prototype.getClass = function() {
      return Oe;
    };
    var Ne = q(function t50() {
      if (this.elt = new Array(2).fill(null), 1 === arguments.length) {
        if (Number.isInteger(arguments[0])) {
          var e11 = arguments[0];
          this.elt[0] = new Oe(e11), this.elt[1] = new Oe(e11);
        } else if (arguments[0] instanceof t50) {
          var i11 = arguments[0];
          this.elt[0] = new Oe(i11.elt[0]), this.elt[1] = new Oe(i11.elt[1]);
        }
      } else if (2 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1];
        this.elt[0] = new Oe(P.NONE), this.elt[1] = new Oe(P.NONE), this.elt[n11].setLocation(r6);
      } else if (3 === arguments.length) {
        var o6 = arguments[0], s10 = arguments[1], a3 = arguments[2];
        this.elt[0] = new Oe(o6, s10, a3), this.elt[1] = new Oe(o6, s10, a3);
      } else if (4 === arguments.length) {
        var l3 = arguments[0], u2 = arguments[1], h2 = arguments[2], c4 = arguments[3];
        this.elt[0] = new Oe(P.NONE, P.NONE, P.NONE), this.elt[1] = new Oe(P.NONE, P.NONE, P.NONE), this.elt[l3].setLocations(u2, h2, c4);
      }
    }, "t");
    Ne.prototype.getGeometryCount = function() {
      var t50 = 0;
      return this.elt[0].isNull() || t50++, this.elt[1].isNull() || t50++, t50;
    }, Ne.prototype.setAllLocations = function(t50, e11) {
      this.elt[t50].setAllLocations(e11);
    }, Ne.prototype.isNull = function(t50) {
      return this.elt[t50].isNull();
    }, Ne.prototype.setAllLocationsIfNull = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setAllLocationsIfNull(0, t50), this.setAllLocationsIfNull(1, t50);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        this.elt[e11].setAllLocationsIfNull(i11);
      }
    }, Ne.prototype.isLine = function(t50) {
      return this.elt[t50].isLine();
    }, Ne.prototype.merge = function(t50) {
      for (var e11 = 0; e11 < 2; e11++)
        null === this.elt[e11] && null !== t50.elt[e11] ? this.elt[e11] = new Oe(t50.elt[e11]) : this.elt[e11].merge(t50.elt[e11]);
    }, Ne.prototype.flip = function() {
      this.elt[0].flip(), this.elt[1].flip();
    }, Ne.prototype.getLocation = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this.elt[t50].get(Se.ON);
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return this.elt[e11].get(i11);
      }
    }, Ne.prototype.toString = function() {
      var t50 = new D();
      return null !== this.elt[0] && (t50.append("A:"), t50.append(this.elt[0].toString())), null !== this.elt[1] && (t50.append(" B:"), t50.append(this.elt[1].toString())), t50.toString();
    }, Ne.prototype.isArea = function() {
      if (0 === arguments.length)
        return this.elt[0].isArea() || this.elt[1].isArea();
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this.elt[t50].isArea();
      }
    }, Ne.prototype.isAnyNull = function(t50) {
      return this.elt[t50].isAnyNull();
    }, Ne.prototype.setLocation = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        this.elt[t50].setLocation(Se.ON, e11);
      } else if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2];
        this.elt[i11].setLocation(n11, r6);
      }
    }, Ne.prototype.isEqualOnSide = function(t50, e11) {
      return this.elt[0].isEqualOnSide(t50.elt[0], e11) && this.elt[1].isEqualOnSide(t50.elt[1], e11);
    }, Ne.prototype.allPositionsEqual = function(t50, e11) {
      return this.elt[t50].allPositionsEqual(e11);
    }, Ne.prototype.toLine = function(t50) {
      this.elt[t50].isArea() && (this.elt[t50] = new Oe(this.elt[t50].location[0]));
    }, Ne.prototype.interfaces_ = function() {
      return [];
    }, Ne.prototype.getClass = function() {
      return Ne;
    }, Ne.toLineLabel = function(t50) {
      for (var e11 = new Ne(P.NONE), i11 = 0; i11 < 2; i11++)
        e11.setLocation(i11, t50.getLocation(i11));
      return e11;
    };
    var De = q(function() {
      this._startDe = null, this._maxNodeDegree = -1, this._edges = new wt2(), this._pts = new wt2(), this._label = new Ne(P.NONE), this._ring = null, this._isHole = null, this._shell = null, this._holes = new wt2(), this._geometryFactory = null;
      var t50 = arguments[0], e11 = arguments[1];
      this._geometryFactory = e11, this.computePoints(t50), this.computeRing();
    }, "De");
    De.prototype.computeRing = function() {
      if (null !== this._ring)
        return null;
      for (var t50 = new Array(this._pts.size()).fill(null), e11 = 0; e11 < this._pts.size(); e11++)
        t50[e11] = this._pts.get(e11);
      this._ring = this._geometryFactory.createLinearRing(t50), this._isHole = lt.isCCW(this._ring.getCoordinates());
    }, De.prototype.isIsolated = function() {
      return 1 === this._label.getGeometryCount();
    }, De.prototype.computePoints = function(t50) {
      this._startDe = t50;
      var e11 = t50, i11 = true;
      do {
        if (null === e11)
          throw new Pe("Found null DirectedEdge");
        if (e11.getEdgeRing() === this)
          throw new Pe("Directed Edge visited twice during ring-building at " + e11.getCoordinate());
        this._edges.add(e11);
        var n11 = e11.getLabel();
        it.isTrue(n11.isArea()), this.mergeLabel(n11), this.addPoints(e11.getEdge(), e11.isForward(), i11), i11 = false, this.setEdgeRing(e11, this), e11 = this.getNext(e11);
      } while (e11 !== this._startDe);
    }, De.prototype.getLinearRing = function() {
      return this._ring;
    }, De.prototype.getCoordinate = function(t50) {
      return this._pts.get(t50);
    }, De.prototype.computeMaxNodeDegree = function() {
      this._maxNodeDegree = 0;
      var t50 = this._startDe;
      do {
        var e11 = t50.getNode().getEdges().getOutgoingDegree(this);
        e11 > this._maxNodeDegree && (this._maxNodeDegree = e11), t50 = this.getNext(t50);
      } while (t50 !== this._startDe);
      this._maxNodeDegree *= 2;
    }, De.prototype.addPoints = function(t50, e11, i11) {
      var n11 = t50.getCoordinates();
      if (e11) {
        var r6 = 1;
        i11 && (r6 = 0);
        for (var o6 = r6; o6 < n11.length; o6++)
          this._pts.add(n11[o6]);
      } else {
        var s10 = n11.length - 2;
        i11 && (s10 = n11.length - 1);
        for (var a3 = s10; a3 >= 0; a3--)
          this._pts.add(n11[a3]);
      }
    }, De.prototype.isHole = function() {
      return this._isHole;
    }, De.prototype.setInResult = function() {
      var t50 = this._startDe;
      do {
        t50.getEdge().setInResult(true), t50 = t50.getNext();
      } while (t50 !== this._startDe);
    }, De.prototype.containsPoint = function(t50) {
      var e11 = this.getLinearRing();
      if (!e11.getEnvelopeInternal().contains(t50) || !lt.isPointInRing(t50, e11.getCoordinates()))
        return false;
      for (var i11 = this._holes.iterator(); i11.hasNext(); )
        if (i11.next().containsPoint(t50))
          return false;
      return true;
    }, De.prototype.addHole = function(t50) {
      this._holes.add(t50);
    }, De.prototype.isShell = function() {
      return null === this._shell;
    }, De.prototype.getLabel = function() {
      return this._label;
    }, De.prototype.getEdges = function() {
      return this._edges;
    }, De.prototype.getMaxNodeDegree = function() {
      return this._maxNodeDegree < 0 && this.computeMaxNodeDegree(), this._maxNodeDegree;
    }, De.prototype.getShell = function() {
      return this._shell;
    }, De.prototype.mergeLabel = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.mergeLabel(t50, 0), this.mergeLabel(t50, 1);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = e11.getLocation(i11, Se.RIGHT);
        if (n11 === P.NONE)
          return null;
        if (this._label.getLocation(i11) === P.NONE)
          return this._label.setLocation(i11, n11), null;
      }
    }, De.prototype.setShell = function(t50) {
      this._shell = t50, null !== t50 && t50.addHole(this);
    }, De.prototype.toPolygon = function(t50) {
      for (var e11 = new Array(this._holes.size()).fill(null), i11 = 0; i11 < this._holes.size(); i11++)
        e11[i11] = this._holes.get(i11).getLinearRing();
      return t50.createPolygon(this.getLinearRing(), e11);
    }, De.prototype.interfaces_ = function() {
      return [];
    }, De.prototype.getClass = function() {
      return De;
    };
    var Re = function(t50) {
      function e11() {
        var e12 = arguments[0], i11 = arguments[1];
        t50.call(this, e12, i11);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.setEdgeRing = function(t51, e12) {
        t51.setMinEdgeRing(e12);
      }, e11.prototype.getNext = function(t51) {
        return t51.getNextMin();
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(De), qe2 = function(t50) {
      function e11() {
        var e12 = arguments[0], i11 = arguments[1];
        t50.call(this, e12, i11);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.buildMinimalRings = function() {
        var t51 = new wt2(), e12 = this._startDe;
        do {
          if (null === e12.getMinEdgeRing()) {
            var i11 = new Re(e12, this._geometryFactory);
            t51.add(i11);
          }
          e12 = e12.getNext();
        } while (e12 !== this._startDe);
        return t51;
      }, e11.prototype.setEdgeRing = function(t51, e12) {
        t51.setEdgeRing(e12);
      }, e11.prototype.linkDirectedEdgesForMinimalEdgeRings = function() {
        var t51 = this._startDe;
        do {
          t51.getNode().getEdges().linkMinimalDirectedEdges(this), t51 = t51.getNext();
        } while (t51 !== this._startDe);
      }, e11.prototype.getNext = function(t51) {
        return t51.getNext();
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(De), Be = q(function() {
      if (this._label = null, this._isInResult = false, this._isCovered = false, this._isCoveredSet = false, this._isVisited = false, 0 !== arguments.length && 1 === arguments.length) {
        var t50 = arguments[0];
        this._label = t50;
      }
    }, "Fe");
    Be.prototype.setVisited = function(t50) {
      this._isVisited = t50;
    }, Be.prototype.setInResult = function(t50) {
      this._isInResult = t50;
    }, Be.prototype.isCovered = function() {
      return this._isCovered;
    }, Be.prototype.isCoveredSet = function() {
      return this._isCoveredSet;
    }, Be.prototype.setLabel = function(t50) {
      this._label = t50;
    }, Be.prototype.getLabel = function() {
      return this._label;
    }, Be.prototype.setCovered = function(t50) {
      this._isCovered = t50, this._isCoveredSet = true;
    }, Be.prototype.updateIM = function(t50) {
      it.isTrue(this._label.getGeometryCount() >= 2, "found partial label"), this.computeIM(t50);
    }, Be.prototype.isInResult = function() {
      return this._isInResult;
    }, Be.prototype.isVisited = function() {
      return this._isVisited;
    }, Be.prototype.interfaces_ = function() {
      return [];
    }, Be.prototype.getClass = function() {
      return Be;
    };
    var ke = function(t50) {
      function e11() {
        t50.call(this), this._coord = null, this._edges = null;
        var e12 = arguments[0], i11 = arguments[1];
        this._coord = e12, this._edges = i11, this._label = new Ne(0, P.NONE);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.isIncidentEdgeInResult = function() {
        for (var t51 = this.getEdges().getEdges().iterator(); t51.hasNext(); )
          if (t51.next().getEdge().isInResult())
            return true;
        return false;
      }, e11.prototype.isIsolated = function() {
        return 1 === this._label.getGeometryCount();
      }, e11.prototype.getCoordinate = function() {
        return this._coord;
      }, e11.prototype.print = function(t51) {
        t51.println("node " + this._coord + " lbl: " + this._label);
      }, e11.prototype.computeIM = function(t51) {
      }, e11.prototype.computeMergedLocation = function(t51, e12) {
        var i11 = P.NONE;
        if (i11 = this._label.getLocation(e12), !t51.isNull(e12)) {
          var n11 = t51.getLocation(e12);
          i11 !== P.BOUNDARY && (i11 = n11);
        }
        return i11;
      }, e11.prototype.setLabel = function() {
        if (2 !== arguments.length)
          return t50.prototype.setLabel.apply(this, arguments);
        var e12 = arguments[0], i11 = arguments[1];
        null === this._label ? this._label = new Ne(e12, i11) : this._label.setLocation(e12, i11);
      }, e11.prototype.getEdges = function() {
        return this._edges;
      }, e11.prototype.mergeLabel = function() {
        if (arguments[0] instanceof e11) {
          var t51 = arguments[0];
          this.mergeLabel(t51._label);
        } else if (arguments[0] instanceof Ne)
          for (var i11 = arguments[0], n11 = 0; n11 < 2; n11++) {
            var r6 = this.computeMergedLocation(i11, n11);
            this._label.getLocation(n11) === P.NONE && this._label.setLocation(n11, r6);
          }
      }, e11.prototype.add = function(t51) {
        this._edges.insert(t51), t51.setNode(this);
      }, e11.prototype.setLabelBoundary = function(t51) {
        if (null === this._label)
          return null;
        var e12 = P.NONE;
        null !== this._label && (e12 = this._label.getLocation(t51));
        var i11 = null;
        switch (e12) {
          case P.BOUNDARY:
            i11 = P.INTERIOR;
            break;
          case P.INTERIOR:
          default:
            i11 = P.BOUNDARY;
        }
        this._label.setLocation(t51, i11);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(Be), Fe = q(function() {
      this.nodeMap = new p4(), this.nodeFact = null;
      var t50 = arguments[0];
      this.nodeFact = t50;
    }, "qe");
    Fe.prototype.find = function(t50) {
      return this.nodeMap.get(t50);
    }, Fe.prototype.addNode = function() {
      if (arguments[0] instanceof A) {
        var t50 = arguments[0], e11 = this.nodeMap.get(t50);
        return null === e11 && (e11 = this.nodeFact.createNode(t50), this.nodeMap.put(t50, e11)), e11;
      }
      if (arguments[0] instanceof ke) {
        var i11 = arguments[0], n11 = this.nodeMap.get(i11.getCoordinate());
        return null === n11 ? (this.nodeMap.put(i11.getCoordinate(), i11), i11) : (n11.mergeLabel(i11), n11);
      }
    }, Fe.prototype.print = function(t50) {
      for (var e11 = this.iterator(); e11.hasNext(); )
        e11.next().print(t50);
    }, Fe.prototype.iterator = function() {
      return this.nodeMap.values().iterator();
    }, Fe.prototype.values = function() {
      return this.nodeMap.values();
    }, Fe.prototype.getBoundaryNodes = function(t50) {
      for (var e11 = new wt2(), i11 = this.iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        n11.getLabel().getLocation(t50) === P.BOUNDARY && e11.add(n11);
      }
      return e11;
    }, Fe.prototype.add = function(t50) {
      var e11 = t50.getCoordinate();
      this.addNode(e11).add(t50);
    }, Fe.prototype.interfaces_ = function() {
      return [];
    }, Fe.prototype.getClass = function() {
      return Fe;
    };
    var Ue = q(function() {
    }, "Be"), ze = { NE: { configurable: true }, NW: { configurable: true }, SW: { configurable: true }, SE: { configurable: true } };
    Ue.prototype.interfaces_ = function() {
      return [];
    }, Ue.prototype.getClass = function() {
      return Ue;
    }, Ue.isNorthern = function(t50) {
      return t50 === Ue.NE || t50 === Ue.NW;
    }, Ue.isOpposite = function(t50, e11) {
      return t50 !== e11 && (t50 - e11 + 4) % 4 == 2;
    }, Ue.commonHalfPlane = function(t50, e11) {
      if (t50 === e11)
        return t50;
      if ((t50 - e11 + 4) % 4 == 2)
        return -1;
      var i11 = t50 < e11 ? t50 : e11;
      return 0 === i11 && 3 === (t50 > e11 ? t50 : e11) ? 3 : i11;
    }, Ue.isInHalfPlane = function(t50, e11) {
      return e11 === Ue.SE ? t50 === Ue.SE || t50 === Ue.SW : t50 === e11 || t50 === e11 + 1;
    }, Ue.quadrant = function() {
      if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) {
        var t50 = arguments[0], e11 = arguments[1];
        if (0 === t50 && 0 === e11)
          throw new x4("Cannot compute the quadrant for point ( " + t50 + ", " + e11 + " )");
        return t50 >= 0 ? e11 >= 0 ? Ue.NE : Ue.SE : e11 >= 0 ? Ue.NW : Ue.SW;
      }
      if (arguments[0] instanceof A && arguments[1] instanceof A) {
        var i11 = arguments[0], n11 = arguments[1];
        if (n11.x === i11.x && n11.y === i11.y)
          throw new x4("Cannot compute the quadrant for two identical points " + i11);
        return n11.x >= i11.x ? n11.y >= i11.y ? Ue.NE : Ue.SE : n11.y >= i11.y ? Ue.NW : Ue.SW;
      }
    }, ze.NE.get = function() {
      return 0;
    }, ze.NW.get = function() {
      return 1;
    }, ze.SW.get = function() {
      return 2;
    }, ze.SE.get = function() {
      return 3;
    }, Object.defineProperties(Ue, ze);
    var Ve = q(function() {
      if (this._edge = null, this._label = null, this._node = null, this._p0 = null, this._p1 = null, this._dx = null, this._dy = null, this._quadrant = null, 1 === arguments.length) {
        var t50 = arguments[0];
        this._edge = t50;
      } else if (3 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = arguments[2];
        this._edge = e11, this.init(i11, n11), this._label = null;
      } else if (4 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2], a3 = arguments[3];
        this._edge = r6, this.init(o6, s10), this._label = a3;
      }
    }, "Ue");
    Ve.prototype.compareDirection = function(t50) {
      return this._dx === t50._dx && this._dy === t50._dy ? 0 : this._quadrant > t50._quadrant ? 1 : this._quadrant < t50._quadrant ? -1 : lt.computeOrientation(t50._p0, t50._p1, this._p1);
    }, Ve.prototype.getDy = function() {
      return this._dy;
    }, Ve.prototype.getCoordinate = function() {
      return this._p0;
    }, Ve.prototype.setNode = function(t50) {
      this._node = t50;
    }, Ve.prototype.print = function(t50) {
      var e11 = Math.atan2(this._dy, this._dx), i11 = this.getClass().getName(), n11 = i11.lastIndexOf("."), r6 = i11.substring(n11 + 1);
      t50.print("  " + r6 + ": " + this._p0 + " - " + this._p1 + " " + this._quadrant + ":" + e11 + "   " + this._label);
    }, Ve.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this.compareDirection(e11);
    }, Ve.prototype.getDirectedCoordinate = function() {
      return this._p1;
    }, Ve.prototype.getDx = function() {
      return this._dx;
    }, Ve.prototype.getLabel = function() {
      return this._label;
    }, Ve.prototype.getEdge = function() {
      return this._edge;
    }, Ve.prototype.getQuadrant = function() {
      return this._quadrant;
    }, Ve.prototype.getNode = function() {
      return this._node;
    }, Ve.prototype.toString = function() {
      var t50 = Math.atan2(this._dy, this._dx), e11 = this.getClass().getName(), i11 = e11.lastIndexOf(".");
      return "  " + e11.substring(i11 + 1) + ": " + this._p0 + " - " + this._p1 + " " + this._quadrant + ":" + t50 + "   " + this._label;
    }, Ve.prototype.computeLabel = function(t50) {
    }, Ve.prototype.init = function(t50, e11) {
      this._p0 = t50, this._p1 = e11, this._dx = e11.x - t50.x, this._dy = e11.y - t50.y, this._quadrant = Ue.quadrant(this._dx, this._dy), it.isTrue(!(0 === this._dx && 0 === this._dy), "EdgeEnd with identical endpoints found");
    }, Ve.prototype.interfaces_ = function() {
      return [M];
    }, Ve.prototype.getClass = function() {
      return Ve;
    };
    var je = function(t50) {
      function e11() {
        var e12 = arguments[0], i11 = arguments[1];
        if (t50.call(this, e12), this._isForward = null, this._isInResult = false, this._isVisited = false, this._sym = null, this._next = null, this._nextMin = null, this._edgeRing = null, this._minEdgeRing = null, this._depth = [0, -999, -999], this._isForward = i11, i11)
          this.init(e12.getCoordinate(0), e12.getCoordinate(1));
        else {
          var n11 = e12.getNumPoints() - 1;
          this.init(e12.getCoordinate(n11), e12.getCoordinate(n11 - 1));
        }
        this.computeDirectedLabel();
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.getNextMin = function() {
        return this._nextMin;
      }, e11.prototype.getDepth = function(t51) {
        return this._depth[t51];
      }, e11.prototype.setVisited = function(t51) {
        this._isVisited = t51;
      }, e11.prototype.computeDirectedLabel = function() {
        this._label = new Ne(this._edge.getLabel()), this._isForward || this._label.flip();
      }, e11.prototype.getNext = function() {
        return this._next;
      }, e11.prototype.setDepth = function(t51, e12) {
        if (-999 !== this._depth[t51] && this._depth[t51] !== e12)
          throw new Pe("assigned depths do not match", this.getCoordinate());
        this._depth[t51] = e12;
      }, e11.prototype.isInteriorAreaEdge = function() {
        for (var t51 = true, e12 = 0; e12 < 2; e12++)
          this._label.isArea(e12) && this._label.getLocation(e12, Se.LEFT) === P.INTERIOR && this._label.getLocation(e12, Se.RIGHT) === P.INTERIOR || (t51 = false);
        return t51;
      }, e11.prototype.setNextMin = function(t51) {
        this._nextMin = t51;
      }, e11.prototype.print = function(e12) {
        t50.prototype.print.call(this, e12), e12.print(" " + this._depth[Se.LEFT] + "/" + this._depth[Se.RIGHT]), e12.print(" (" + this.getDepthDelta() + ")"), this._isInResult && e12.print(" inResult");
      }, e11.prototype.setMinEdgeRing = function(t51) {
        this._minEdgeRing = t51;
      }, e11.prototype.isLineEdge = function() {
        var t51 = this._label.isLine(0) || this._label.isLine(1), e12 = !this._label.isArea(0) || this._label.allPositionsEqual(0, P.EXTERIOR), i11 = !this._label.isArea(1) || this._label.allPositionsEqual(1, P.EXTERIOR);
        return t51 && e12 && i11;
      }, e11.prototype.setEdgeRing = function(t51) {
        this._edgeRing = t51;
      }, e11.prototype.getMinEdgeRing = function() {
        return this._minEdgeRing;
      }, e11.prototype.getDepthDelta = function() {
        var t51 = this._edge.getDepthDelta();
        return this._isForward || (t51 = -t51), t51;
      }, e11.prototype.setInResult = function(t51) {
        this._isInResult = t51;
      }, e11.prototype.getSym = function() {
        return this._sym;
      }, e11.prototype.isForward = function() {
        return this._isForward;
      }, e11.prototype.getEdge = function() {
        return this._edge;
      }, e11.prototype.printEdge = function(t51) {
        this.print(t51), t51.print(" "), this._isForward ? this._edge.print(t51) : this._edge.printReverse(t51);
      }, e11.prototype.setSym = function(t51) {
        this._sym = t51;
      }, e11.prototype.setVisitedEdge = function(t51) {
        this.setVisited(t51), this._sym.setVisited(t51);
      }, e11.prototype.setEdgeDepths = function(t51, e12) {
        var i11 = this.getEdge().getDepthDelta();
        this._isForward || (i11 = -i11);
        var n11 = 1;
        t51 === Se.LEFT && (n11 = -1);
        var r6 = Se.opposite(t51), o6 = e12 + i11 * n11;
        this.setDepth(t51, e12), this.setDepth(r6, o6);
      }, e11.prototype.getEdgeRing = function() {
        return this._edgeRing;
      }, e11.prototype.isInResult = function() {
        return this._isInResult;
      }, e11.prototype.setNext = function(t51) {
        this._next = t51;
      }, e11.prototype.isVisited = function() {
        return this._isVisited;
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11.depthFactor = function(t51, e12) {
        return t51 === P.EXTERIOR && e12 === P.INTERIOR ? 1 : t51 === P.INTERIOR && e12 === P.EXTERIOR ? -1 : 0;
      }, e11;
    }(Ve), Ge = q(function() {
    }, "Xe");
    Ge.prototype.createNode = function(t50) {
      return new ke(t50, null);
    }, Ge.prototype.interfaces_ = function() {
      return [];
    }, Ge.prototype.getClass = function() {
      return Ge;
    };
    var We = q(function() {
      if (this._edges = new wt2(), this._nodes = null, this._edgeEndList = new wt2(), 0 === arguments.length)
        this._nodes = new Fe(new Ge());
      else if (1 === arguments.length) {
        var t50 = arguments[0];
        this._nodes = new Fe(t50);
      }
    }, "Ye");
    We.prototype.printEdges = function(t50) {
      t50.println("Edges:");
      for (var e11 = 0; e11 < this._edges.size(); e11++) {
        t50.println("edge " + e11 + ":");
        var i11 = this._edges.get(e11);
        i11.print(t50), i11.eiList.print(t50);
      }
    }, We.prototype.find = function(t50) {
      return this._nodes.find(t50);
    }, We.prototype.addNode = function() {
      if (arguments[0] instanceof ke) {
        var t50 = arguments[0];
        return this._nodes.addNode(t50);
      }
      if (arguments[0] instanceof A) {
        var e11 = arguments[0];
        return this._nodes.addNode(e11);
      }
    }, We.prototype.getNodeIterator = function() {
      return this._nodes.iterator();
    }, We.prototype.linkResultDirectedEdges = function() {
      for (var t50 = this._nodes.iterator(); t50.hasNext(); )
        t50.next().getEdges().linkResultDirectedEdges();
    }, We.prototype.debugPrintln = function(t50) {
      W.out.println(t50);
    }, We.prototype.isBoundaryNode = function(t50, e11) {
      var i11 = this._nodes.find(e11);
      if (null === i11)
        return false;
      var n11 = i11.getLabel();
      return null !== n11 && n11.getLocation(t50) === P.BOUNDARY;
    }, We.prototype.linkAllDirectedEdges = function() {
      for (var t50 = this._nodes.iterator(); t50.hasNext(); )
        t50.next().getEdges().linkAllDirectedEdges();
    }, We.prototype.matchInSameDirection = function(t50, e11, i11, n11) {
      return !!t50.equals(i11) && lt.computeOrientation(t50, e11, n11) === lt.COLLINEAR && Ue.quadrant(t50, e11) === Ue.quadrant(i11, n11);
    }, We.prototype.getEdgeEnds = function() {
      return this._edgeEndList;
    }, We.prototype.debugPrint = function(t50) {
      W.out.print(t50);
    }, We.prototype.getEdgeIterator = function() {
      return this._edges.iterator();
    }, We.prototype.findEdgeInSameDirection = function(t50, e11) {
      for (var i11 = 0; i11 < this._edges.size(); i11++) {
        var n11 = this._edges.get(i11), r6 = n11.getCoordinates();
        if (this.matchInSameDirection(t50, e11, r6[0], r6[1]) || this.matchInSameDirection(t50, e11, r6[r6.length - 1], r6[r6.length - 2]))
          return n11;
      }
      return null;
    }, We.prototype.insertEdge = function(t50) {
      this._edges.add(t50);
    }, We.prototype.findEdgeEnd = function(t50) {
      for (var e11 = this.getEdgeEnds().iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        if (i11.getEdge() === t50)
          return i11;
      }
      return null;
    }, We.prototype.addEdges = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        this._edges.add(i11);
        var n11 = new je(i11, true), r6 = new je(i11, false);
        n11.setSym(r6), r6.setSym(n11), this.add(n11), this.add(r6);
      }
    }, We.prototype.add = function(t50) {
      this._nodes.add(t50), this._edgeEndList.add(t50);
    }, We.prototype.getNodes = function() {
      return this._nodes.values();
    }, We.prototype.findEdge = function(t50, e11) {
      for (var i11 = 0; i11 < this._edges.size(); i11++) {
        var n11 = this._edges.get(i11), r6 = n11.getCoordinates();
        if (t50.equals(r6[0]) && e11.equals(r6[1]))
          return n11;
      }
      return null;
    }, We.prototype.interfaces_ = function() {
      return [];
    }, We.prototype.getClass = function() {
      return We;
    }, We.linkResultDirectedEdges = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); )
        e11.next().getEdges().linkResultDirectedEdges();
    };
    var He = q(function() {
      this._geometryFactory = null, this._shellList = new wt2();
      var t50 = arguments[0];
      this._geometryFactory = t50;
    }, "ke");
    He.prototype.sortShellsAndHoles = function(t50, e11, i11) {
      for (var n11 = t50.iterator(); n11.hasNext(); ) {
        var r6 = n11.next();
        r6.isHole() ? i11.add(r6) : e11.add(r6);
      }
    }, He.prototype.computePolygons = function(t50) {
      for (var e11 = new wt2(), i11 = t50.iterator(); i11.hasNext(); ) {
        var n11 = i11.next().toPolygon(this._geometryFactory);
        e11.add(n11);
      }
      return e11;
    }, He.prototype.placeFreeHoles = function(t50, e11) {
      for (var i11 = e11.iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        if (null === n11.getShell()) {
          var r6 = this.findEdgeRingContaining(n11, t50);
          if (null === r6)
            throw new Pe("unable to assign hole to a shell", n11.getCoordinate(0));
          n11.setShell(r6);
        }
      }
    }, He.prototype.buildMinimalEdgeRings = function(t50, e11, i11) {
      for (var n11 = new wt2(), r6 = t50.iterator(); r6.hasNext(); ) {
        var o6 = r6.next();
        if (o6.getMaxNodeDegree() > 2) {
          o6.linkDirectedEdgesForMinimalEdgeRings();
          var s10 = o6.buildMinimalRings(), a3 = this.findShell(s10);
          null !== a3 ? (this.placePolygonHoles(a3, s10), e11.add(a3)) : i11.addAll(s10);
        } else
          n11.add(o6);
      }
      return n11;
    }, He.prototype.containsPoint = function(t50) {
      for (var e11 = this._shellList.iterator(); e11.hasNext(); )
        if (e11.next().containsPoint(t50))
          return true;
      return false;
    }, He.prototype.buildMaximalEdgeRings = function(t50) {
      for (var e11 = new wt2(), i11 = t50.iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        if (n11.isInResult() && n11.getLabel().isArea() && null === n11.getEdgeRing()) {
          var r6 = new qe2(n11, this._geometryFactory);
          e11.add(r6), r6.setInResult();
        }
      }
      return e11;
    }, He.prototype.placePolygonHoles = function(t50, e11) {
      for (var i11 = e11.iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        n11.isHole() && n11.setShell(t50);
      }
    }, He.prototype.getPolygons = function() {
      return this.computePolygons(this._shellList);
    }, He.prototype.findEdgeRingContaining = function(t50, e11) {
      for (var i11 = t50.getLinearRing(), n11 = i11.getEnvelopeInternal(), r6 = i11.getCoordinateN(0), o6 = null, s10 = null, a3 = e11.iterator(); a3.hasNext(); ) {
        var l3 = a3.next(), u2 = l3.getLinearRing(), h2 = u2.getEnvelopeInternal();
        null !== o6 && (s10 = o6.getLinearRing().getEnvelopeInternal());
        var c4 = false;
        h2.contains(n11) && lt.isPointInRing(r6, u2.getCoordinates()) && (c4 = true), c4 && (null === o6 || s10.contains(h2)) && (o6 = l3);
      }
      return o6;
    }, He.prototype.findShell = function(t50) {
      for (var e11 = 0, i11 = null, n11 = t50.iterator(); n11.hasNext(); ) {
        var r6 = n11.next();
        r6.isHole() || (i11 = r6, e11++);
      }
      return it.isTrue(e11 <= 1, "found two shells in MinimalEdgeRing list"), i11;
    }, He.prototype.add = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.add(t50.getEdgeEnds(), t50.getNodes());
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        We.linkResultDirectedEdges(i11);
        var n11 = this.buildMaximalEdgeRings(e11), r6 = new wt2(), o6 = this.buildMinimalEdgeRings(n11, this._shellList, r6);
        this.sortShellsAndHoles(o6, this._shellList, r6), this.placeFreeHoles(this._shellList, r6);
      }
    }, He.prototype.interfaces_ = function() {
      return [];
    }, He.prototype.getClass = function() {
      return He;
    };
    var Ye = q(function() {
    }, "je");
    Ye.prototype.getBounds = function() {
    }, Ye.prototype.interfaces_ = function() {
      return [];
    }, Ye.prototype.getClass = function() {
      return Ye;
    };
    var Xe = q(function() {
      this._bounds = null, this._item = null;
      var t50 = arguments[0], e11 = arguments[1];
      this._bounds = t50, this._item = e11;
    }, "He");
    Xe.prototype.getItem = function() {
      return this._item;
    }, Xe.prototype.getBounds = function() {
      return this._bounds;
    }, Xe.prototype.interfaces_ = function() {
      return [Ye, e10];
    }, Xe.prototype.getClass = function() {
      return Xe;
    };
    var Ke = q(function() {
      this._size = null, this._items = null, this._size = 0, this._items = new wt2(), this._items.add(null);
    }, "We");
    Ke.prototype.poll = function() {
      if (this.isEmpty())
        return null;
      var t50 = this._items.get(1);
      return this._items.set(1, this._items.get(this._size)), this._size -= 1, this.reorder(1), t50;
    }, Ke.prototype.size = function() {
      return this._size;
    }, Ke.prototype.reorder = function(t50) {
      for (var e11 = null, i11 = this._items.get(t50); 2 * t50 <= this._size && ((e11 = 2 * t50) !== this._size && this._items.get(e11 + 1).compareTo(this._items.get(e11)) < 0 && e11++, this._items.get(e11).compareTo(i11) < 0); t50 = e11)
        this._items.set(t50, this._items.get(e11));
      this._items.set(t50, i11);
    }, Ke.prototype.clear = function() {
      this._size = 0, this._items.clear();
    }, Ke.prototype.isEmpty = function() {
      return 0 === this._size;
    }, Ke.prototype.add = function(t50) {
      this._items.add(null), this._size += 1;
      var e11 = this._size;
      for (this._items.set(0, t50); t50.compareTo(this._items.get(Math.trunc(e11 / 2))) < 0; e11 /= 2)
        this._items.set(e11, this._items.get(Math.trunc(e11 / 2)));
      this._items.set(e11, t50);
    }, Ke.prototype.interfaces_ = function() {
      return [];
    }, Ke.prototype.getClass = function() {
      return Ke;
    };
    var Ze = q(function() {
    }, "Ke");
    Ze.prototype.visitItem = function(t50) {
    }, Ze.prototype.interfaces_ = function() {
      return [];
    }, Ze.prototype.getClass = function() {
      return Ze;
    };
    var Qe = q(function() {
    }, "Je");
    Qe.prototype.insert = function(t50, e11) {
    }, Qe.prototype.remove = function(t50, e11) {
    }, Qe.prototype.query = function() {
    }, Qe.prototype.interfaces_ = function() {
      return [];
    }, Qe.prototype.getClass = function() {
      return Qe;
    };
    var Je = q(function() {
      if (this._childBoundables = new wt2(), this._bounds = null, this._level = null, 0 !== arguments.length && 1 === arguments.length) {
        var t50 = arguments[0];
        this._level = t50;
      }
    }, "Qe"), $e = { serialVersionUID: { configurable: true } };
    Je.prototype.getLevel = function() {
      return this._level;
    }, Je.prototype.size = function() {
      return this._childBoundables.size();
    }, Je.prototype.getChildBoundables = function() {
      return this._childBoundables;
    }, Je.prototype.addChildBoundable = function(t50) {
      it.isTrue(null === this._bounds), this._childBoundables.add(t50);
    }, Je.prototype.isEmpty = function() {
      return this._childBoundables.isEmpty();
    }, Je.prototype.getBounds = function() {
      return null === this._bounds && (this._bounds = this.computeBounds()), this._bounds;
    }, Je.prototype.interfaces_ = function() {
      return [Ye, e10];
    }, Je.prototype.getClass = function() {
      return Je;
    }, $e.serialVersionUID.get = function() {
      return 6493722185909574e3;
    }, Object.defineProperties(Je, $e);
    var ti2 = q(function() {
    }, "$e");
    ti2.reverseOrder = function() {
      return { compare: function(t50, e11) {
        return e11.compareTo(t50);
      } };
    }, ti2.min = function(t50) {
      return ti2.sort(t50), t50.get(0);
    }, ti2.sort = function(t50, e11) {
      var i11 = t50.toArray();
      e11 ? kt.sort(i11, e11) : kt.sort(i11);
      for (var n11 = t50.iterator(), r6 = 0, o6 = i11.length; r6 < o6; r6++)
        n11.next(), n11.set(i11[r6]);
    }, ti2.singletonList = function(t50) {
      var e11 = new wt2();
      return e11.add(t50), e11;
    };
    var ei2 = q(function() {
      this._boundable1 = null, this._boundable2 = null, this._distance = null, this._itemDistance = null;
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
      this._boundable1 = t50, this._boundable2 = e11, this._itemDistance = i11, this._distance = this.distance();
    }, "tn");
    ei2.prototype.expandToQueue = function(t50, e11) {
      var i11 = ei2.isComposite(this._boundable1), n11 = ei2.isComposite(this._boundable2);
      if (i11 && n11)
        return ei2.area(this._boundable1) > ei2.area(this._boundable2) ? (this.expand(this._boundable1, this._boundable2, t50, e11), null) : (this.expand(this._boundable2, this._boundable1, t50, e11), null);
      if (i11)
        return this.expand(this._boundable1, this._boundable2, t50, e11), null;
      if (n11)
        return this.expand(this._boundable2, this._boundable1, t50, e11), null;
      throw new x4("neither boundable is composite");
    }, ei2.prototype.isLeaves = function() {
      return !(ei2.isComposite(this._boundable1) || ei2.isComposite(this._boundable2));
    }, ei2.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this._distance < e11._distance ? -1 : this._distance > e11._distance ? 1 : 0;
    }, ei2.prototype.expand = function(t50, e11, i11, n11) {
      for (var r6 = t50.getChildBoundables().iterator(); r6.hasNext(); ) {
        var o6 = r6.next(), s10 = new ei2(o6, e11, this._itemDistance);
        s10.getDistance() < n11 && i11.add(s10);
      }
    }, ei2.prototype.getBoundable = function(t50) {
      return 0 === t50 ? this._boundable1 : this._boundable2;
    }, ei2.prototype.getDistance = function() {
      return this._distance;
    }, ei2.prototype.distance = function() {
      return this.isLeaves() ? this._itemDistance.distance(this._boundable1, this._boundable2) : this._boundable1.getBounds().distance(this._boundable2.getBounds());
    }, ei2.prototype.interfaces_ = function() {
      return [M];
    }, ei2.prototype.getClass = function() {
      return ei2;
    }, ei2.area = function(t50) {
      return t50.getBounds().getArea();
    }, ei2.isComposite = function(t50) {
      return t50 instanceof Je;
    };
    var ii = q(function t50() {
      if (this._root = null, this._built = false, this._itemBoundables = new wt2(), this._nodeCapacity = null, 0 === arguments.length) {
        var e11 = t50.DEFAULT_NODE_CAPACITY;
        this._nodeCapacity = e11;
      } else if (1 === arguments.length) {
        var i11 = arguments[0];
        it.isTrue(i11 > 1, "Node capacity must be greater than 1"), this._nodeCapacity = i11;
      }
    }, "t"), ni = { IntersectsOp: { configurable: true }, serialVersionUID: { configurable: true }, DEFAULT_NODE_CAPACITY: { configurable: true } };
    ii.prototype.getNodeCapacity = function() {
      return this._nodeCapacity;
    }, ii.prototype.lastNode = function(t50) {
      return t50.get(t50.size() - 1);
    }, ii.prototype.size = function() {
      if (0 === arguments.length)
        return this.isEmpty() ? 0 : (this.build(), this.size(this._root));
      if (1 === arguments.length) {
        for (var t50 = 0, e11 = arguments[0].getChildBoundables().iterator(); e11.hasNext(); ) {
          var i11 = e11.next();
          i11 instanceof Je ? t50 += this.size(i11) : i11 instanceof Xe && (t50 += 1);
        }
        return t50;
      }
    }, ii.prototype.removeItem = function(t50, e11) {
      for (var i11 = null, n11 = t50.getChildBoundables().iterator(); n11.hasNext(); ) {
        var r6 = n11.next();
        r6 instanceof Xe && r6.getItem() === e11 && (i11 = r6);
      }
      return null !== i11 && (t50.getChildBoundables().remove(i11), true);
    }, ii.prototype.itemsTree = function() {
      if (0 === arguments.length) {
        this.build();
        var t50 = this.itemsTree(this._root);
        return null === t50 ? new wt2() : t50;
      }
      if (1 === arguments.length) {
        for (var e11 = arguments[0], i11 = new wt2(), n11 = e11.getChildBoundables().iterator(); n11.hasNext(); ) {
          var r6 = n11.next();
          if (r6 instanceof Je) {
            var o6 = this.itemsTree(r6);
            null !== o6 && i11.add(o6);
          } else
            r6 instanceof Xe ? i11.add(r6.getItem()) : it.shouldNeverReachHere();
        }
        return i11.size() <= 0 ? null : i11;
      }
    }, ii.prototype.insert = function(t50, e11) {
      it.isTrue(!this._built, "Cannot insert items into an STR packed R-tree after it has been built."), this._itemBoundables.add(new Xe(t50, e11));
    }, ii.prototype.boundablesAtLevel = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = new wt2();
        return this.boundablesAtLevel(t50, this._root, e11), e11;
      }
      if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2];
        if (it.isTrue(i11 > -2), n11.getLevel() === i11)
          return r6.add(n11), null;
        for (var o6 = n11.getChildBoundables().iterator(); o6.hasNext(); ) {
          var s10 = o6.next();
          s10 instanceof Je ? this.boundablesAtLevel(i11, s10, r6) : (it.isTrue(s10 instanceof Xe), -1 === i11 && r6.add(s10));
        }
        return null;
      }
    }, ii.prototype.query = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.build();
        var e11 = new wt2();
        return this.isEmpty() || this.getIntersectsOp().intersects(this._root.getBounds(), t50) && this.query(t50, this._root, e11), e11;
      }
      if (2 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1];
        if (this.build(), this.isEmpty())
          return null;
        this.getIntersectsOp().intersects(this._root.getBounds(), i11) && this.query(i11, this._root, n11);
      } else if (3 === arguments.length) {
        if (L(arguments[2], Ze) && arguments[0] instanceof Object && arguments[1] instanceof Je)
          for (var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2], a3 = o6.getChildBoundables(), l3 = 0; l3 < a3.size(); l3++) {
            var u2 = a3.get(l3);
            this.getIntersectsOp().intersects(u2.getBounds(), r6) && (u2 instanceof Je ? this.query(r6, u2, s10) : u2 instanceof Xe ? s10.visitItem(u2.getItem()) : it.shouldNeverReachHere());
          }
        else if (L(arguments[2], Et) && arguments[0] instanceof Object && arguments[1] instanceof Je)
          for (var h2 = arguments[0], c4 = arguments[1], p10 = arguments[2], d4 = c4.getChildBoundables(), f2 = 0; f2 < d4.size(); f2++) {
            var g4 = d4.get(f2);
            this.getIntersectsOp().intersects(g4.getBounds(), h2) && (g4 instanceof Je ? this.query(h2, g4, p10) : g4 instanceof Xe ? p10.add(g4.getItem()) : it.shouldNeverReachHere());
          }
      }
    }, ii.prototype.build = function() {
      if (this._built)
        return null;
      this._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1), this._itemBoundables = null, this._built = true;
    }, ii.prototype.getRoot = function() {
      return this.build(), this._root;
    }, ii.prototype.remove = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        return this.build(), !!this.getIntersectsOp().intersects(this._root.getBounds(), t50) && this.remove(t50, this._root, e11);
      }
      if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2], o6 = this.removeItem(n11, r6);
        if (o6)
          return true;
        for (var s10 = null, a3 = n11.getChildBoundables().iterator(); a3.hasNext(); ) {
          var l3 = a3.next();
          if (this.getIntersectsOp().intersects(l3.getBounds(), i11) && l3 instanceof Je && (o6 = this.remove(i11, l3, r6))) {
            s10 = l3;
            break;
          }
        }
        return null !== s10 && s10.getChildBoundables().isEmpty() && n11.getChildBoundables().remove(s10), o6;
      }
    }, ii.prototype.createHigherLevels = function(t50, e11) {
      it.isTrue(!t50.isEmpty());
      var i11 = this.createParentBoundables(t50, e11 + 1);
      return 1 === i11.size() ? i11.get(0) : this.createHigherLevels(i11, e11 + 1);
    }, ii.prototype.depth = function() {
      if (0 === arguments.length)
        return this.isEmpty() ? 0 : (this.build(), this.depth(this._root));
      if (1 === arguments.length) {
        for (var t50 = 0, e11 = arguments[0].getChildBoundables().iterator(); e11.hasNext(); ) {
          var i11 = e11.next();
          if (i11 instanceof Je) {
            var n11 = this.depth(i11);
            n11 > t50 && (t50 = n11);
          }
        }
        return t50 + 1;
      }
    }, ii.prototype.createParentBoundables = function(t50, e11) {
      it.isTrue(!t50.isEmpty());
      var i11 = new wt2();
      i11.add(this.createNode(e11));
      var n11 = new wt2(t50);
      ti2.sort(n11, this.getComparator());
      for (var r6 = n11.iterator(); r6.hasNext(); ) {
        var o6 = r6.next();
        this.lastNode(i11).getChildBoundables().size() === this.getNodeCapacity() && i11.add(this.createNode(e11)), this.lastNode(i11).addChildBoundable(o6);
      }
      return i11;
    }, ii.prototype.isEmpty = function() {
      return this._built ? this._root.isEmpty() : this._itemBoundables.isEmpty();
    }, ii.prototype.interfaces_ = function() {
      return [e10];
    }, ii.prototype.getClass = function() {
      return ii;
    }, ii.compareDoubles = function(t50, e11) {
      return t50 > e11 ? 1 : t50 < e11 ? -1 : 0;
    }, ni.IntersectsOp.get = function() {
      return ri2;
    }, ni.serialVersionUID.get = function() {
      return -3886435814360241e3;
    }, ni.DEFAULT_NODE_CAPACITY.get = function() {
      return 10;
    }, Object.defineProperties(ii, ni);
    var ri2 = q(function() {
    }, "rn"), oi2 = q(function() {
    }, "on");
    oi2.prototype.distance = function(t50, e11) {
    }, oi2.prototype.interfaces_ = function() {
      return [];
    }, oi2.prototype.getClass = function() {
      return oi2;
    };
    var si = function(t50) {
      function i11(e11) {
        e11 = e11 || i11.DEFAULT_NODE_CAPACITY, t50.call(this, e11);
      }
      q(i11, "n"), t50 && (i11.__proto__ = t50), (i11.prototype = Object.create(t50 && t50.prototype)).constructor = i11;
      var n11 = { STRtreeNode: { configurable: true }, serialVersionUID: { configurable: true }, xComparator: { configurable: true }, yComparator: { configurable: true }, intersectsOp: { configurable: true }, DEFAULT_NODE_CAPACITY: { configurable: true } };
      return i11.prototype.createParentBoundablesFromVerticalSlices = function(t51, e11) {
        it.isTrue(t51.length > 0);
        for (var i12 = new wt2(), n12 = 0; n12 < t51.length; n12++)
          i12.addAll(this.createParentBoundablesFromVerticalSlice(t51[n12], e11));
        return i12;
      }, i11.prototype.createNode = function(t51) {
        return new ai2(t51);
      }, i11.prototype.size = function() {
        return 0 === arguments.length ? t50.prototype.size.call(this) : t50.prototype.size.apply(this, arguments);
      }, i11.prototype.insert = function() {
        if (2 !== arguments.length)
          return t50.prototype.insert.apply(this, arguments);
        var e11 = arguments[0], i12 = arguments[1];
        if (e11.isNull())
          return null;
        t50.prototype.insert.call(this, e11, i12);
      }, i11.prototype.getIntersectsOp = function() {
        return i11.intersectsOp;
      }, i11.prototype.verticalSlices = function(t51, e11) {
        for (var i12 = Math.trunc(Math.ceil(t51.size() / e11)), n12 = new Array(e11).fill(null), r6 = t51.iterator(), o6 = 0; o6 < e11; o6++) {
          n12[o6] = new wt2();
          for (var s10 = 0; r6.hasNext() && s10 < i12; ) {
            var a3 = r6.next();
            n12[o6].add(a3), s10++;
          }
        }
        return n12;
      }, i11.prototype.query = function() {
        if (1 === arguments.length) {
          var e11 = arguments[0];
          return t50.prototype.query.call(this, e11);
        }
        if (2 === arguments.length) {
          var i12 = arguments[0], n12 = arguments[1];
          t50.prototype.query.call(this, i12, n12);
        } else if (3 === arguments.length) {
          if (L(arguments[2], Ze) && arguments[0] instanceof Object && arguments[1] instanceof Je) {
            var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2];
            t50.prototype.query.call(this, r6, o6, s10);
          } else if (L(arguments[2], Et) && arguments[0] instanceof Object && arguments[1] instanceof Je) {
            var a3 = arguments[0], l3 = arguments[1], u2 = arguments[2];
            t50.prototype.query.call(this, a3, l3, u2);
          }
        }
      }, i11.prototype.getComparator = function() {
        return i11.yComparator;
      }, i11.prototype.createParentBoundablesFromVerticalSlice = function(e11, i12) {
        return t50.prototype.createParentBoundables.call(this, e11, i12);
      }, i11.prototype.remove = function() {
        if (2 === arguments.length) {
          var e11 = arguments[0], i12 = arguments[1];
          return t50.prototype.remove.call(this, e11, i12);
        }
        return t50.prototype.remove.apply(this, arguments);
      }, i11.prototype.depth = function() {
        return 0 === arguments.length ? t50.prototype.depth.call(this) : t50.prototype.depth.apply(this, arguments);
      }, i11.prototype.createParentBoundables = function(t51, e11) {
        it.isTrue(!t51.isEmpty());
        var n12 = Math.trunc(Math.ceil(t51.size() / this.getNodeCapacity())), r6 = new wt2(t51);
        ti2.sort(r6, i11.xComparator);
        var o6 = this.verticalSlices(r6, Math.trunc(Math.ceil(Math.sqrt(n12))));
        return this.createParentBoundablesFromVerticalSlices(o6, e11);
      }, i11.prototype.nearestNeighbour = function() {
        if (1 === arguments.length) {
          if (L(arguments[0], oi2)) {
            var t51 = arguments[0], e11 = new ei2(this.getRoot(), this.getRoot(), t51);
            return this.nearestNeighbour(e11);
          }
          if (arguments[0] instanceof ei2) {
            var n12 = arguments[0];
            return this.nearestNeighbour(n12, _.POSITIVE_INFINITY);
          }
        } else if (2 === arguments.length) {
          if (arguments[0] instanceof i11 && L(arguments[1], oi2)) {
            var r6 = arguments[0], o6 = arguments[1], s10 = new ei2(this.getRoot(), r6.getRoot(), o6);
            return this.nearestNeighbour(s10);
          }
          if (arguments[0] instanceof ei2 && "number" == typeof arguments[1]) {
            var a3 = arguments[0], l3 = arguments[1], u2 = null, h2 = new Ke();
            for (h2.add(a3); !h2.isEmpty() && l3 > 0; ) {
              var c4 = h2.poll(), p10 = c4.getDistance();
              if (p10 >= l3)
                break;
              c4.isLeaves() ? (l3 = p10, u2 = c4) : c4.expandToQueue(h2, l3);
            }
            return [u2.getBoundable(0).getItem(), u2.getBoundable(1).getItem()];
          }
        } else if (3 === arguments.length) {
          var d4 = arguments[0], f2 = arguments[1], g4 = arguments[2], m4 = new Xe(d4, f2), v10 = new ei2(this.getRoot(), m4, g4);
          return this.nearestNeighbour(v10)[0];
        }
      }, i11.prototype.interfaces_ = function() {
        return [Qe, e10];
      }, i11.prototype.getClass = function() {
        return i11;
      }, i11.centreX = function(t51) {
        return i11.avg(t51.getMinX(), t51.getMaxX());
      }, i11.avg = function(t51, e11) {
        return (t51 + e11) / 2;
      }, i11.centreY = function(t51) {
        return i11.avg(t51.getMinY(), t51.getMaxY());
      }, n11.STRtreeNode.get = function() {
        return ai2;
      }, n11.serialVersionUID.get = function() {
        return 259274702368956900;
      }, n11.xComparator.get = function() {
        return { interfaces_: function() {
          return [w4];
        }, compare: function(e11, n12) {
          return t50.compareDoubles(i11.centreX(e11.getBounds()), i11.centreX(n12.getBounds()));
        } };
      }, n11.yComparator.get = function() {
        return { interfaces_: function() {
          return [w4];
        }, compare: function(e11, n12) {
          return t50.compareDoubles(i11.centreY(e11.getBounds()), i11.centreY(n12.getBounds()));
        } };
      }, n11.intersectsOp.get = function() {
        return { interfaces_: function() {
          return [t50.IntersectsOp];
        }, intersects: function(t51, e11) {
          return t51.intersects(e11);
        } };
      }, n11.DEFAULT_NODE_CAPACITY.get = function() {
        return 10;
      }, Object.defineProperties(i11, n11), i11;
    }(ii), ai2 = function(t50) {
      function e11() {
        var e12 = arguments[0];
        t50.call(this, e12);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.computeBounds = function() {
        for (var t51 = null, e12 = this.getChildBoundables().iterator(); e12.hasNext(); ) {
          var i11 = e12.next();
          null === t51 ? t51 = new Y(i11.getBounds()) : t51.expandToInclude(i11.getBounds());
        }
        return t51;
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(Je), li2 = q(function() {
    }, "un");
    li2.prototype.interfaces_ = function() {
      return [];
    }, li2.prototype.getClass = function() {
      return li2;
    }, li2.relativeSign = function(t50, e11) {
      return t50 < e11 ? -1 : t50 > e11 ? 1 : 0;
    }, li2.compare = function(t50, e11, i11) {
      if (e11.equals2D(i11))
        return 0;
      var n11 = li2.relativeSign(e11.x, i11.x), r6 = li2.relativeSign(e11.y, i11.y);
      switch (t50) {
        case 0:
          return li2.compareValue(n11, r6);
        case 1:
          return li2.compareValue(r6, n11);
        case 2:
          return li2.compareValue(r6, -n11);
        case 3:
          return li2.compareValue(-n11, r6);
        case 4:
          return li2.compareValue(-n11, -r6);
        case 5:
          return li2.compareValue(-r6, -n11);
        case 6:
          return li2.compareValue(-r6, n11);
        case 7:
          return li2.compareValue(n11, -r6);
      }
      return it.shouldNeverReachHere("invalid octant value"), 0;
    }, li2.compareValue = function(t50, e11) {
      return t50 < 0 ? -1 : t50 > 0 ? 1 : e11 < 0 ? -1 : e11 > 0 ? 1 : 0;
    };
    var ui2 = q(function() {
      this._segString = null, this.coord = null, this.segmentIndex = null, this._segmentOctant = null, this._isInterior = null;
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = arguments[3];
      this._segString = t50, this.coord = new A(e11), this.segmentIndex = i11, this._segmentOctant = n11, this._isInterior = !e11.equals2D(t50.getCoordinate(i11));
    }, "ln");
    ui2.prototype.getCoordinate = function() {
      return this.coord;
    }, ui2.prototype.print = function(t50) {
      t50.print(this.coord), t50.print(" seg # = " + this.segmentIndex);
    }, ui2.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this.segmentIndex < e11.segmentIndex ? -1 : this.segmentIndex > e11.segmentIndex ? 1 : this.coord.equals2D(e11.coord) ? 0 : li2.compare(this._segmentOctant, this.coord, e11.coord);
    }, ui2.prototype.isEndPoint = function(t50) {
      return 0 === this.segmentIndex && !this._isInterior || this.segmentIndex === t50;
    }, ui2.prototype.isInterior = function() {
      return this._isInterior;
    }, ui2.prototype.interfaces_ = function() {
      return [M];
    }, ui2.prototype.getClass = function() {
      return ui2;
    };
    var hi = q(function() {
      this._nodeMap = new p4(), this._edge = null;
      var t50 = arguments[0];
      this._edge = t50;
    }, "cn");
    hi.prototype.getSplitCoordinates = function() {
      var t50 = new St2();
      this.addEndpoints();
      for (var e11 = this.iterator(), i11 = e11.next(); e11.hasNext(); ) {
        var n11 = e11.next();
        this.addEdgeCoordinates(i11, n11, t50), i11 = n11;
      }
      return t50.toCoordinateArray();
    }, hi.prototype.addCollapsedNodes = function() {
      var t50 = new wt2();
      this.findCollapsesFromInsertedNodes(t50), this.findCollapsesFromExistingVertices(t50);
      for (var e11 = t50.iterator(); e11.hasNext(); ) {
        var i11 = e11.next().intValue();
        this.add(this._edge.getCoordinate(i11), i11);
      }
    }, hi.prototype.print = function(t50) {
      t50.println("Intersections:");
      for (var e11 = this.iterator(); e11.hasNext(); )
        e11.next().print(t50);
    }, hi.prototype.findCollapsesFromExistingVertices = function(t50) {
      for (var e11 = 0; e11 < this._edge.size() - 2; e11++) {
        var i11 = this._edge.getCoordinate(e11), n11 = this._edge.getCoordinate(e11 + 2);
        i11.equals2D(n11) && t50.add(new R(e11 + 1));
      }
    }, hi.prototype.addEdgeCoordinates = function(t50, e11, i11) {
      var n11 = this._edge.getCoordinate(e11.segmentIndex), r6 = e11.isInterior() || !e11.coord.equals2D(n11);
      i11.add(new A(t50.coord), false);
      for (var o6 = t50.segmentIndex + 1; o6 <= e11.segmentIndex; o6++)
        i11.add(this._edge.getCoordinate(o6));
      r6 && i11.add(new A(e11.coord));
    }, hi.prototype.iterator = function() {
      return this._nodeMap.values().iterator();
    }, hi.prototype.addSplitEdges = function(t50) {
      this.addEndpoints(), this.addCollapsedNodes();
      for (var e11 = this.iterator(), i11 = e11.next(); e11.hasNext(); ) {
        var n11 = e11.next(), r6 = this.createSplitEdge(i11, n11);
        t50.add(r6), i11 = n11;
      }
    }, hi.prototype.findCollapseIndex = function(t50, e11, i11) {
      if (!t50.coord.equals2D(e11.coord))
        return false;
      var n11 = e11.segmentIndex - t50.segmentIndex;
      return e11.isInterior() || n11--, 1 === n11 && (i11[0] = t50.segmentIndex + 1, true);
    }, hi.prototype.findCollapsesFromInsertedNodes = function(t50) {
      for (var e11 = new Array(1).fill(null), i11 = this.iterator(), n11 = i11.next(); i11.hasNext(); ) {
        var r6 = i11.next();
        this.findCollapseIndex(n11, r6, e11) && t50.add(new R(e11[0])), n11 = r6;
      }
    }, hi.prototype.getEdge = function() {
      return this._edge;
    }, hi.prototype.addEndpoints = function() {
      var t50 = this._edge.size() - 1;
      this.add(this._edge.getCoordinate(0), 0), this.add(this._edge.getCoordinate(t50), t50);
    }, hi.prototype.createSplitEdge = function(t50, e11) {
      var i11 = e11.segmentIndex - t50.segmentIndex + 2, n11 = this._edge.getCoordinate(e11.segmentIndex), r6 = e11.isInterior() || !e11.coord.equals2D(n11);
      r6 || i11--;
      var o6 = new Array(i11).fill(null), s10 = 0;
      o6[s10++] = new A(t50.coord);
      for (var a3 = t50.segmentIndex + 1; a3 <= e11.segmentIndex; a3++)
        o6[s10++] = this._edge.getCoordinate(a3);
      return r6 && (o6[s10] = new A(e11.coord)), new fi(o6, this._edge.getData());
    }, hi.prototype.add = function(t50, e11) {
      var i11 = new ui2(this._edge, t50, e11, this._edge.getSegmentOctant(e11)), n11 = this._nodeMap.get(i11);
      return null !== n11 ? (it.isTrue(n11.coord.equals2D(t50), "Found equal nodes with different coordinates"), n11) : (this._nodeMap.put(i11, i11), i11);
    }, hi.prototype.checkSplitEdgesCorrectness = function(t50) {
      var e11 = this._edge.getCoordinates(), i11 = t50.get(0).getCoordinate(0);
      if (!i11.equals2D(e11[0]))
        throw new tt("bad split edge start point at " + i11);
      var n11 = t50.get(t50.size() - 1).getCoordinates(), r6 = n11[n11.length - 1];
      if (!r6.equals2D(e11[e11.length - 1]))
        throw new tt("bad split edge end point at " + r6);
    }, hi.prototype.interfaces_ = function() {
      return [];
    }, hi.prototype.getClass = function() {
      return hi;
    };
    var ci2 = q(function() {
    }, "pn");
    ci2.prototype.interfaces_ = function() {
      return [];
    }, ci2.prototype.getClass = function() {
      return ci2;
    }, ci2.octant = function() {
      if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) {
        var t50 = arguments[0], e11 = arguments[1];
        if (0 === t50 && 0 === e11)
          throw new x4("Cannot compute the octant for point ( " + t50 + ", " + e11 + " )");
        var i11 = Math.abs(t50), n11 = Math.abs(e11);
        return t50 >= 0 ? e11 >= 0 ? i11 >= n11 ? 0 : 1 : i11 >= n11 ? 7 : 6 : e11 >= 0 ? i11 >= n11 ? 3 : 2 : i11 >= n11 ? 4 : 5;
      }
      if (arguments[0] instanceof A && arguments[1] instanceof A) {
        var r6 = arguments[0], o6 = arguments[1], s10 = o6.x - r6.x, a3 = o6.y - r6.y;
        if (0 === s10 && 0 === a3)
          throw new x4("Cannot compute the octant for two identical points " + r6);
        return ci2.octant(s10, a3);
      }
    };
    var pi = q(function() {
    }, "hn");
    pi.prototype.getCoordinates = function() {
    }, pi.prototype.size = function() {
    }, pi.prototype.getCoordinate = function(t50) {
    }, pi.prototype.isClosed = function() {
    }, pi.prototype.setData = function(t50) {
    }, pi.prototype.getData = function() {
    }, pi.prototype.interfaces_ = function() {
      return [];
    }, pi.prototype.getClass = function() {
      return pi;
    };
    var di = q(function() {
    }, "fn");
    di.prototype.addIntersection = function(t50, e11) {
    }, di.prototype.interfaces_ = function() {
      return [pi];
    }, di.prototype.getClass = function() {
      return di;
    };
    var fi = q(function() {
      this._nodeList = new hi(this), this._pts = null, this._data = null;
      var t50 = arguments[0], e11 = arguments[1];
      this._pts = t50, this._data = e11;
    }, "gn");
    fi.prototype.getCoordinates = function() {
      return this._pts;
    }, fi.prototype.size = function() {
      return this._pts.length;
    }, fi.prototype.getCoordinate = function(t50) {
      return this._pts[t50];
    }, fi.prototype.isClosed = function() {
      return this._pts[0].equals(this._pts[this._pts.length - 1]);
    }, fi.prototype.getSegmentOctant = function(t50) {
      return t50 === this._pts.length - 1 ? -1 : this.safeOctant(this.getCoordinate(t50), this.getCoordinate(t50 + 1));
    }, fi.prototype.setData = function(t50) {
      this._data = t50;
    }, fi.prototype.safeOctant = function(t50, e11) {
      return t50.equals2D(e11) ? 0 : ci2.octant(t50, e11);
    }, fi.prototype.getData = function() {
      return this._data;
    }, fi.prototype.addIntersection = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        this.addIntersectionNode(t50, e11);
      } else if (4 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[3], o6 = new A(i11.getIntersection(r6));
        this.addIntersection(o6, n11);
      }
    }, fi.prototype.toString = function() {
      return $.toLineString(new ue2(this._pts));
    }, fi.prototype.getNodeList = function() {
      return this._nodeList;
    }, fi.prototype.addIntersectionNode = function(t50, e11) {
      var i11 = e11, n11 = i11 + 1;
      if (n11 < this._pts.length) {
        var r6 = this._pts[n11];
        t50.equals2D(r6) && (i11 = n11);
      }
      return this._nodeList.add(t50, i11);
    }, fi.prototype.addIntersections = function(t50, e11, i11) {
      for (var n11 = 0; n11 < t50.getIntersectionNum(); n11++)
        this.addIntersection(t50, e11, i11, n11);
    }, fi.prototype.interfaces_ = function() {
      return [di];
    }, fi.prototype.getClass = function() {
      return fi;
    }, fi.getNodedSubstrings = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = new wt2();
        return fi.getNodedSubstrings(t50, e11), e11;
      }
      if (2 === arguments.length)
        for (var i11 = arguments[0], n11 = arguments[1], r6 = i11.iterator(); r6.hasNext(); )
          r6.next().getNodeList().addSplitEdges(n11);
    };
    var gi = q(function() {
      if (this.p0 = null, this.p1 = null, 0 === arguments.length)
        this.p0 = new A(), this.p1 = new A();
      else if (1 === arguments.length) {
        var t50 = arguments[0];
        this.p0 = new A(t50.p0), this.p1 = new A(t50.p1);
      } else if (2 === arguments.length)
        this.p0 = arguments[0], this.p1 = arguments[1];
      else if (4 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = arguments[2], r6 = arguments[3];
        this.p0 = new A(e11, i11), this.p1 = new A(n11, r6);
      }
    }, "dn"), mi2 = { serialVersionUID: { configurable: true } };
    gi.prototype.minX = function() {
      return Math.min(this.p0.x, this.p1.x);
    }, gi.prototype.orientationIndex = function() {
      if (arguments[0] instanceof gi) {
        var t50 = arguments[0], e11 = lt.orientationIndex(this.p0, this.p1, t50.p0), i11 = lt.orientationIndex(this.p0, this.p1, t50.p1);
        return e11 >= 0 && i11 >= 0 || e11 <= 0 && i11 <= 0 ? Math.max(e11, i11) : 0;
      }
      if (arguments[0] instanceof A) {
        var n11 = arguments[0];
        return lt.orientationIndex(this.p0, this.p1, n11);
      }
    }, gi.prototype.toGeometry = function(t50) {
      return t50.createLineString([this.p0, this.p1]);
    }, gi.prototype.isVertical = function() {
      return this.p0.x === this.p1.x;
    }, gi.prototype.equals = function(t50) {
      if (!(t50 instanceof gi))
        return false;
      var e11 = t50;
      return this.p0.equals(e11.p0) && this.p1.equals(e11.p1);
    }, gi.prototype.intersection = function(t50) {
      var e11 = new ot();
      return e11.computeIntersection(this.p0, this.p1, t50.p0, t50.p1), e11.hasIntersection() ? e11.getIntersection(0) : null;
    }, gi.prototype.project = function() {
      if (arguments[0] instanceof A) {
        var t50 = arguments[0];
        if (t50.equals(this.p0) || t50.equals(this.p1))
          return new A(t50);
        var e11 = this.projectionFactor(t50), i11 = new A();
        return i11.x = this.p0.x + e11 * (this.p1.x - this.p0.x), i11.y = this.p0.y + e11 * (this.p1.y - this.p0.y), i11;
      }
      if (arguments[0] instanceof gi) {
        var n11 = arguments[0], r6 = this.projectionFactor(n11.p0), o6 = this.projectionFactor(n11.p1);
        if (r6 >= 1 && o6 >= 1 || r6 <= 0 && o6 <= 0)
          return null;
        var s10 = this.project(n11.p0);
        r6 < 0 && (s10 = this.p0), r6 > 1 && (s10 = this.p1);
        var a3 = this.project(n11.p1);
        return o6 < 0 && (a3 = this.p0), o6 > 1 && (a3 = this.p1), new gi(s10, a3);
      }
    }, gi.prototype.normalize = function() {
      this.p1.compareTo(this.p0) < 0 && this.reverse();
    }, gi.prototype.angle = function() {
      return Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x);
    }, gi.prototype.getCoordinate = function(t50) {
      return 0 === t50 ? this.p0 : this.p1;
    }, gi.prototype.distancePerpendicular = function(t50) {
      return lt.distancePointLinePerpendicular(t50, this.p0, this.p1);
    }, gi.prototype.minY = function() {
      return Math.min(this.p0.y, this.p1.y);
    }, gi.prototype.midPoint = function() {
      return gi.midPoint(this.p0, this.p1);
    }, gi.prototype.projectionFactor = function(t50) {
      if (t50.equals(this.p0))
        return 0;
      if (t50.equals(this.p1))
        return 1;
      var e11 = this.p1.x - this.p0.x, i11 = this.p1.y - this.p0.y, n11 = e11 * e11 + i11 * i11;
      return n11 <= 0 ? _.NaN : ((t50.x - this.p0.x) * e11 + (t50.y - this.p0.y) * i11) / n11;
    }, gi.prototype.closestPoints = function(t50) {
      var e11 = this.intersection(t50);
      if (null !== e11)
        return [e11, e11];
      var i11 = new Array(2).fill(null), n11 = _.MAX_VALUE, r6 = null, o6 = this.closestPoint(t50.p0);
      n11 = o6.distance(t50.p0), i11[0] = o6, i11[1] = t50.p0;
      var s10 = this.closestPoint(t50.p1);
      (r6 = s10.distance(t50.p1)) < n11 && (n11 = r6, i11[0] = s10, i11[1] = t50.p1);
      var a3 = t50.closestPoint(this.p0);
      (r6 = a3.distance(this.p0)) < n11 && (n11 = r6, i11[0] = this.p0, i11[1] = a3);
      var l3 = t50.closestPoint(this.p1);
      return (r6 = l3.distance(this.p1)) < n11 && (n11 = r6, i11[0] = this.p1, i11[1] = l3), i11;
    }, gi.prototype.closestPoint = function(t50) {
      var e11 = this.projectionFactor(t50);
      return e11 > 0 && e11 < 1 ? this.project(t50) : this.p0.distance(t50) < this.p1.distance(t50) ? this.p0 : this.p1;
    }, gi.prototype.maxX = function() {
      return Math.max(this.p0.x, this.p1.x);
    }, gi.prototype.getLength = function() {
      return this.p0.distance(this.p1);
    }, gi.prototype.compareTo = function(t50) {
      var e11 = t50, i11 = this.p0.compareTo(e11.p0);
      return 0 !== i11 ? i11 : this.p1.compareTo(e11.p1);
    }, gi.prototype.reverse = function() {
      var t50 = this.p0;
      this.p0 = this.p1, this.p1 = t50;
    }, gi.prototype.equalsTopo = function(t50) {
      return this.p0.equals(t50.p0) && (this.p1.equals(t50.p1) || this.p0.equals(t50.p1)) && this.p1.equals(t50.p0);
    }, gi.prototype.lineIntersection = function(t50) {
      try {
        return H.intersection(this.p0, this.p1, t50.p0, t50.p1);
      } catch (t51) {
        if (!(t51 instanceof G))
          throw t51;
      }
      return null;
    }, gi.prototype.maxY = function() {
      return Math.max(this.p0.y, this.p1.y);
    }, gi.prototype.pointAlongOffset = function(t50, e11) {
      var i11 = this.p0.x + t50 * (this.p1.x - this.p0.x), n11 = this.p0.y + t50 * (this.p1.y - this.p0.y), r6 = this.p1.x - this.p0.x, o6 = this.p1.y - this.p0.y, s10 = Math.sqrt(r6 * r6 + o6 * o6), a3 = 0, l3 = 0;
      if (0 !== e11) {
        if (s10 <= 0)
          throw new Error("Cannot compute offset from zero-length line segment");
        a3 = e11 * r6 / s10, l3 = e11 * o6 / s10;
      }
      return new A(i11 - l3, n11 + a3);
    }, gi.prototype.setCoordinates = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setCoordinates(t50.p0, t50.p1);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        this.p0.x = e11.x, this.p0.y = e11.y, this.p1.x = i11.x, this.p1.y = i11.y;
      }
    }, gi.prototype.segmentFraction = function(t50) {
      var e11 = this.projectionFactor(t50);
      return e11 < 0 ? e11 = 0 : (e11 > 1 || _.isNaN(e11)) && (e11 = 1), e11;
    }, gi.prototype.toString = function() {
      return "LINESTRING( " + this.p0.x + " " + this.p0.y + ", " + this.p1.x + " " + this.p1.y + ")";
    }, gi.prototype.isHorizontal = function() {
      return this.p0.y === this.p1.y;
    }, gi.prototype.distance = function() {
      if (arguments[0] instanceof gi) {
        var t50 = arguments[0];
        return lt.distanceLineLine(this.p0, this.p1, t50.p0, t50.p1);
      }
      if (arguments[0] instanceof A) {
        var e11 = arguments[0];
        return lt.distancePointLine(e11, this.p0, this.p1);
      }
    }, gi.prototype.pointAlong = function(t50) {
      var e11 = new A();
      return e11.x = this.p0.x + t50 * (this.p1.x - this.p0.x), e11.y = this.p0.y + t50 * (this.p1.y - this.p0.y), e11;
    }, gi.prototype.hashCode = function() {
      var t50 = _.doubleToLongBits(this.p0.x);
      t50 ^= 31 * _.doubleToLongBits(this.p0.y);
      var e11 = Math.trunc(t50) ^ Math.trunc(t50 >> 32), i11 = _.doubleToLongBits(this.p1.x);
      return i11 ^= 31 * _.doubleToLongBits(this.p1.y), e11 ^ Math.trunc(i11) ^ Math.trunc(i11 >> 32);
    }, gi.prototype.interfaces_ = function() {
      return [M, e10];
    }, gi.prototype.getClass = function() {
      return gi;
    }, gi.midPoint = function(t50, e11) {
      return new A((t50.x + e11.x) / 2, (t50.y + e11.y) / 2);
    }, mi2.serialVersionUID.get = function() {
      return 3252005833466256400;
    }, Object.defineProperties(gi, mi2);
    var vi2 = q(function() {
      this.tempEnv1 = new Y(), this.tempEnv2 = new Y(), this._overlapSeg1 = new gi(), this._overlapSeg2 = new gi();
    }, "_n");
    vi2.prototype.overlap = function() {
      if (2 !== arguments.length && 4 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = arguments[3];
        t50.getLineSegment(e11, this._overlapSeg1), i11.getLineSegment(n11, this._overlapSeg2), this.overlap(this._overlapSeg1, this._overlapSeg2);
      }
    }, vi2.prototype.interfaces_ = function() {
      return [];
    }, vi2.prototype.getClass = function() {
      return vi2;
    };
    var yi2 = q(function() {
      this._pts = null, this._start = null, this._end = null, this._env = null, this._context = null, this._id = null;
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = arguments[3];
      this._pts = t50, this._start = e11, this._end = i11, this._context = n11;
    }, "mn");
    yi2.prototype.getLineSegment = function(t50, e11) {
      e11.p0 = this._pts[t50], e11.p1 = this._pts[t50 + 1];
    }, yi2.prototype.computeSelect = function(t50, e11, i11, n11) {
      var r6 = this._pts[e11], o6 = this._pts[i11];
      if (n11.tempEnv1.init(r6, o6), i11 - e11 == 1)
        return n11.select(this, e11), null;
      if (!t50.intersects(n11.tempEnv1))
        return null;
      var s10 = Math.trunc((e11 + i11) / 2);
      e11 < s10 && this.computeSelect(t50, e11, s10, n11), s10 < i11 && this.computeSelect(t50, s10, i11, n11);
    }, yi2.prototype.getCoordinates = function() {
      for (var t50 = new Array(this._end - this._start + 1).fill(null), e11 = 0, i11 = this._start; i11 <= this._end; i11++)
        t50[e11++] = this._pts[i11];
      return t50;
    }, yi2.prototype.computeOverlaps = function(t50, e11) {
      this.computeOverlapsInternal(this._start, this._end, t50, t50._start, t50._end, e11);
    }, yi2.prototype.setId = function(t50) {
      this._id = t50;
    }, yi2.prototype.select = function(t50, e11) {
      this.computeSelect(t50, this._start, this._end, e11);
    }, yi2.prototype.getEnvelope = function() {
      if (null === this._env) {
        var t50 = this._pts[this._start], e11 = this._pts[this._end];
        this._env = new Y(t50, e11);
      }
      return this._env;
    }, yi2.prototype.getEndIndex = function() {
      return this._end;
    }, yi2.prototype.getStartIndex = function() {
      return this._start;
    }, yi2.prototype.getContext = function() {
      return this._context;
    }, yi2.prototype.getId = function() {
      return this._id;
    }, yi2.prototype.computeOverlapsInternal = function(t50, e11, i11, n11, r6, o6) {
      var s10 = this._pts[t50], a3 = this._pts[e11], l3 = i11._pts[n11], u2 = i11._pts[r6];
      if (e11 - t50 == 1 && r6 - n11 == 1)
        return o6.overlap(this, t50, i11, n11), null;
      if (o6.tempEnv1.init(s10, a3), o6.tempEnv2.init(l3, u2), !o6.tempEnv1.intersects(o6.tempEnv2))
        return null;
      var h2 = Math.trunc((t50 + e11) / 2), c4 = Math.trunc((n11 + r6) / 2);
      t50 < h2 && (n11 < c4 && this.computeOverlapsInternal(t50, h2, i11, n11, c4, o6), c4 < r6 && this.computeOverlapsInternal(t50, h2, i11, c4, r6, o6)), h2 < e11 && (n11 < c4 && this.computeOverlapsInternal(h2, e11, i11, n11, c4, o6), c4 < r6 && this.computeOverlapsInternal(h2, e11, i11, c4, r6, o6));
    }, yi2.prototype.interfaces_ = function() {
      return [];
    }, yi2.prototype.getClass = function() {
      return yi2;
    };
    var xi2 = q(function() {
    }, "vn");
    xi2.prototype.interfaces_ = function() {
      return [];
    }, xi2.prototype.getClass = function() {
      return xi2;
    }, xi2.getChainStartIndices = function(t50) {
      var e11 = 0, i11 = new wt2();
      i11.add(new R(e11));
      do {
        var n11 = xi2.findChainEnd(t50, e11);
        i11.add(new R(n11)), e11 = n11;
      } while (e11 < t50.length - 1);
      return xi2.toIntArray(i11);
    }, xi2.findChainEnd = function(t50, e11) {
      for (var i11 = e11; i11 < t50.length - 1 && t50[i11].equals2D(t50[i11 + 1]); )
        i11++;
      if (i11 >= t50.length - 1)
        return t50.length - 1;
      for (var n11 = Ue.quadrant(t50[i11], t50[i11 + 1]), r6 = e11 + 1; r6 < t50.length && (t50[r6 - 1].equals2D(t50[r6]) || Ue.quadrant(t50[r6 - 1], t50[r6]) === n11); )
        r6++;
      return r6 - 1;
    }, xi2.getChains = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return xi2.getChains(t50, null);
      }
      if (2 === arguments.length) {
        for (var e11 = arguments[0], i11 = arguments[1], n11 = new wt2(), r6 = xi2.getChainStartIndices(e11), o6 = 0; o6 < r6.length - 1; o6++) {
          var s10 = new yi2(e11, r6[o6], r6[o6 + 1], i11);
          n11.add(s10);
        }
        return n11;
      }
    }, xi2.toIntArray = function(t50) {
      for (var e11 = new Array(t50.size()).fill(null), i11 = 0; i11 < e11.length; i11++)
        e11[i11] = t50.get(i11).intValue();
      return e11;
    };
    var _i2 = q(function() {
    }, "In");
    _i2.prototype.computeNodes = function(t50) {
    }, _i2.prototype.getNodedSubstrings = function() {
    }, _i2.prototype.interfaces_ = function() {
      return [];
    }, _i2.prototype.getClass = function() {
      return _i2;
    };
    var bi = q(function() {
      if (this._segInt = null, 0 !== arguments.length && 1 === arguments.length) {
        var t50 = arguments[0];
        this.setSegmentIntersector(t50);
      }
    }, "En");
    bi.prototype.setSegmentIntersector = function(t50) {
      this._segInt = t50;
    }, bi.prototype.interfaces_ = function() {
      return [_i2];
    }, bi.prototype.getClass = function() {
      return bi;
    };
    var Mi = function(t50) {
      function e11(e12) {
        e12 ? t50.call(this, e12) : t50.call(this), this._monoChains = new wt2(), this._index = new si(), this._idCounter = 0, this._nodedSegStrings = null, this._nOverlaps = 0;
      }
      q(e11, "e"), t50 && (e11.__proto__ = t50), (e11.prototype = Object.create(t50 && t50.prototype)).constructor = e11;
      var i11 = { SegmentOverlapAction: { configurable: true } };
      return e11.prototype.getMonotoneChains = function() {
        return this._monoChains;
      }, e11.prototype.getNodedSubstrings = function() {
        return fi.getNodedSubstrings(this._nodedSegStrings);
      }, e11.prototype.getIndex = function() {
        return this._index;
      }, e11.prototype.add = function(t51) {
        for (var e12 = xi2.getChains(t51.getCoordinates(), t51).iterator(); e12.hasNext(); ) {
          var i12 = e12.next();
          i12.setId(this._idCounter++), this._index.insert(i12.getEnvelope(), i12), this._monoChains.add(i12);
        }
      }, e11.prototype.computeNodes = function(t51) {
        this._nodedSegStrings = t51;
        for (var e12 = t51.iterator(); e12.hasNext(); )
          this.add(e12.next());
        this.intersectChains();
      }, e11.prototype.intersectChains = function() {
        for (var t51 = new Ei2(this._segInt), e12 = this._monoChains.iterator(); e12.hasNext(); )
          for (var i12 = e12.next(), n11 = this._index.query(i12.getEnvelope()).iterator(); n11.hasNext(); ) {
            var r6 = n11.next();
            if (r6.getId() > i12.getId() && (i12.computeOverlaps(r6, t51), this._nOverlaps++), this._segInt.isDone())
              return null;
          }
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, i11.SegmentOverlapAction.get = function() {
        return Ei2;
      }, Object.defineProperties(e11, i11), e11;
    }(bi), Ei2 = function(t50) {
      function e11() {
        t50.call(this), this._si = null;
        var e12 = arguments[0];
        this._si = e12;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.overlap = function() {
        if (4 !== arguments.length)
          return t50.prototype.overlap.apply(this, arguments);
        var e12 = arguments[0], i11 = arguments[1], n11 = arguments[2], r6 = arguments[3], o6 = e12.getContext(), s10 = n11.getContext();
        this._si.processIntersections(o6, i11, s10, r6);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(vi2), wi2 = q(function t50() {
      if (this._quadrantSegments = t50.DEFAULT_QUADRANT_SEGMENTS, this._endCapStyle = t50.CAP_ROUND, this._joinStyle = t50.JOIN_ROUND, this._mitreLimit = t50.DEFAULT_MITRE_LIMIT, this._isSingleSided = false, this._simplifyFactor = t50.DEFAULT_SIMPLIFY_FACTOR, 0 !== arguments.length) {
        if (1 === arguments.length) {
          var e11 = arguments[0];
          this.setQuadrantSegments(e11);
        } else if (2 === arguments.length) {
          var i11 = arguments[0], n11 = arguments[1];
          this.setQuadrantSegments(i11), this.setEndCapStyle(n11);
        } else if (4 === arguments.length) {
          var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2], a3 = arguments[3];
          this.setQuadrantSegments(r6), this.setEndCapStyle(o6), this.setJoinStyle(s10), this.setMitreLimit(a3);
        }
      }
    }, "t"), Ai2 = { CAP_ROUND: { configurable: true }, CAP_FLAT: { configurable: true }, CAP_SQUARE: { configurable: true }, JOIN_ROUND: { configurable: true }, JOIN_MITRE: { configurable: true }, JOIN_BEVEL: { configurable: true }, DEFAULT_QUADRANT_SEGMENTS: { configurable: true }, DEFAULT_MITRE_LIMIT: { configurable: true }, DEFAULT_SIMPLIFY_FACTOR: { configurable: true } };
    wi2.prototype.getEndCapStyle = function() {
      return this._endCapStyle;
    }, wi2.prototype.isSingleSided = function() {
      return this._isSingleSided;
    }, wi2.prototype.setQuadrantSegments = function(t50) {
      this._quadrantSegments = t50, 0 === this._quadrantSegments && (this._joinStyle = wi2.JOIN_BEVEL), this._quadrantSegments < 0 && (this._joinStyle = wi2.JOIN_MITRE, this._mitreLimit = Math.abs(this._quadrantSegments)), t50 <= 0 && (this._quadrantSegments = 1), this._joinStyle !== wi2.JOIN_ROUND && (this._quadrantSegments = wi2.DEFAULT_QUADRANT_SEGMENTS);
    }, wi2.prototype.getJoinStyle = function() {
      return this._joinStyle;
    }, wi2.prototype.setJoinStyle = function(t50) {
      this._joinStyle = t50;
    }, wi2.prototype.setSimplifyFactor = function(t50) {
      this._simplifyFactor = t50 < 0 ? 0 : t50;
    }, wi2.prototype.getSimplifyFactor = function() {
      return this._simplifyFactor;
    }, wi2.prototype.getQuadrantSegments = function() {
      return this._quadrantSegments;
    }, wi2.prototype.setEndCapStyle = function(t50) {
      this._endCapStyle = t50;
    }, wi2.prototype.getMitreLimit = function() {
      return this._mitreLimit;
    }, wi2.prototype.setMitreLimit = function(t50) {
      this._mitreLimit = t50;
    }, wi2.prototype.setSingleSided = function(t50) {
      this._isSingleSided = t50;
    }, wi2.prototype.interfaces_ = function() {
      return [];
    }, wi2.prototype.getClass = function() {
      return wi2;
    }, wi2.bufferDistanceError = function(t50) {
      var e11 = Math.PI / 2 / t50;
      return 1 - Math.cos(e11 / 2);
    }, Ai2.CAP_ROUND.get = function() {
      return 1;
    }, Ai2.CAP_FLAT.get = function() {
      return 2;
    }, Ai2.CAP_SQUARE.get = function() {
      return 3;
    }, Ai2.JOIN_ROUND.get = function() {
      return 1;
    }, Ai2.JOIN_MITRE.get = function() {
      return 2;
    }, Ai2.JOIN_BEVEL.get = function() {
      return 3;
    }, Ai2.DEFAULT_QUADRANT_SEGMENTS.get = function() {
      return 8;
    }, Ai2.DEFAULT_MITRE_LIMIT.get = function() {
      return 5;
    }, Ai2.DEFAULT_SIMPLIFY_FACTOR.get = function() {
      return 0.01;
    }, Object.defineProperties(wi2, Ai2);
    var Si = q(function(t50) {
      this._distanceTol = null, this._isDeleted = null, this._angleOrientation = lt.COUNTERCLOCKWISE, this._inputLine = t50 || null;
    }, "Ln"), Ti = { INIT: { configurable: true }, DELETE: { configurable: true }, KEEP: { configurable: true }, NUM_PTS_TO_CHECK: { configurable: true } };
    Si.prototype.isDeletable = function(t50, e11, i11, n11) {
      var r6 = this._inputLine[t50], o6 = this._inputLine[e11], s10 = this._inputLine[i11];
      return !!this.isConcave(r6, o6, s10) && !!this.isShallow(r6, o6, s10, n11) && this.isShallowSampled(r6, o6, t50, i11, n11);
    }, Si.prototype.deleteShallowConcavities = function() {
      for (var t50 = 1, e11 = this.findNextNonDeletedIndex(t50), i11 = this.findNextNonDeletedIndex(e11), n11 = false; i11 < this._inputLine.length; ) {
        var r6 = false;
        this.isDeletable(t50, e11, i11, this._distanceTol) && (this._isDeleted[e11] = Si.DELETE, r6 = true, n11 = true), t50 = r6 ? i11 : e11, e11 = this.findNextNonDeletedIndex(t50), i11 = this.findNextNonDeletedIndex(e11);
      }
      return n11;
    }, Si.prototype.isShallowConcavity = function(t50, e11, i11, n11) {
      return lt.computeOrientation(t50, e11, i11) === this._angleOrientation && lt.distancePointLine(e11, t50, i11) < n11;
    }, Si.prototype.isShallowSampled = function(t50, e11, i11, n11, r6) {
      var o6 = Math.trunc((n11 - i11) / Si.NUM_PTS_TO_CHECK);
      o6 <= 0 && (o6 = 1);
      for (var s10 = i11; s10 < n11; s10 += o6)
        if (!this.isShallow(t50, e11, this._inputLine[s10], r6))
          return false;
      return true;
    }, Si.prototype.isConcave = function(t50, e11, i11) {
      return lt.computeOrientation(t50, e11, i11) === this._angleOrientation;
    }, Si.prototype.simplify = function(t50) {
      this._distanceTol = Math.abs(t50), t50 < 0 && (this._angleOrientation = lt.CLOCKWISE), this._isDeleted = new Array(this._inputLine.length).fill(null);
      var e11 = false;
      do {
        e11 = this.deleteShallowConcavities();
      } while (e11);
      return this.collapseLine();
    }, Si.prototype.findNextNonDeletedIndex = function(t50) {
      for (var e11 = t50 + 1; e11 < this._inputLine.length && this._isDeleted[e11] === Si.DELETE; )
        e11++;
      return e11;
    }, Si.prototype.isShallow = function(t50, e11, i11, n11) {
      return lt.distancePointLine(e11, t50, i11) < n11;
    }, Si.prototype.collapseLine = function() {
      for (var t50 = new St2(), e11 = 0; e11 < this._inputLine.length; e11++)
        this._isDeleted[e11] !== Si.DELETE && t50.add(this._inputLine[e11]);
      return t50.toCoordinateArray();
    }, Si.prototype.interfaces_ = function() {
      return [];
    }, Si.prototype.getClass = function() {
      return Si;
    }, Si.simplify = function(t50, e11) {
      return new Si(t50).simplify(e11);
    }, Ti.INIT.get = function() {
      return 0;
    }, Ti.DELETE.get = function() {
      return 1;
    }, Ti.KEEP.get = function() {
      return 1;
    }, Ti.NUM_PTS_TO_CHECK.get = function() {
      return 10;
    }, Object.defineProperties(Si, Ti);
    var Ci2 = q(function() {
      this._ptList = null, this._precisionModel = null, this._minimimVertexDistance = 0, this._ptList = new wt2();
    }, "wn"), Pi2 = { COORDINATE_ARRAY_TYPE: { configurable: true } };
    Ci2.prototype.getCoordinates = function() {
      return this._ptList.toArray(Ci2.COORDINATE_ARRAY_TYPE);
    }, Ci2.prototype.setPrecisionModel = function(t50) {
      this._precisionModel = t50;
    }, Ci2.prototype.addPt = function(t50) {
      var e11 = new A(t50);
      if (this._precisionModel.makePrecise(e11), this.isRedundant(e11))
        return null;
      this._ptList.add(e11);
    }, Ci2.prototype.revere = function() {
    }, Ci2.prototype.addPts = function(t50, e11) {
      if (e11)
        for (var i11 = 0; i11 < t50.length; i11++)
          this.addPt(t50[i11]);
      else
        for (var n11 = t50.length - 1; n11 >= 0; n11--)
          this.addPt(t50[n11]);
    }, Ci2.prototype.isRedundant = function(t50) {
      if (this._ptList.size() < 1)
        return false;
      var e11 = this._ptList.get(this._ptList.size() - 1);
      return t50.distance(e11) < this._minimimVertexDistance;
    }, Ci2.prototype.toString = function() {
      return new ye().createLineString(this.getCoordinates()).toString();
    }, Ci2.prototype.closeRing = function() {
      if (this._ptList.size() < 1)
        return null;
      var t50 = new A(this._ptList.get(0)), e11 = this._ptList.get(this._ptList.size() - 1);
      if (t50.equals(e11))
        return null;
      this._ptList.add(t50);
    }, Ci2.prototype.setMinimumVertexDistance = function(t50) {
      this._minimimVertexDistance = t50;
    }, Ci2.prototype.interfaces_ = function() {
      return [];
    }, Ci2.prototype.getClass = function() {
      return Ci2;
    }, Pi2.COORDINATE_ARRAY_TYPE.get = function() {
      return new Array(0).fill(null);
    }, Object.defineProperties(Ci2, Pi2);
    var Ii2 = q(function() {
    }, "Tn"), Li2 = { PI_TIMES_2: { configurable: true }, PI_OVER_2: { configurable: true }, PI_OVER_4: { configurable: true }, COUNTERCLOCKWISE: { configurable: true }, CLOCKWISE: { configurable: true }, NONE: { configurable: true } };
    Ii2.prototype.interfaces_ = function() {
      return [];
    }, Ii2.prototype.getClass = function() {
      return Ii2;
    }, Ii2.toDegrees = function(t50) {
      return 180 * t50 / Math.PI;
    }, Ii2.normalize = function(t50) {
      for (; t50 > Math.PI; )
        t50 -= Ii2.PI_TIMES_2;
      for (; t50 <= -Math.PI; )
        t50 += Ii2.PI_TIMES_2;
      return t50;
    }, Ii2.angle = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return Math.atan2(t50.y, t50.x);
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = i11.x - e11.x, r6 = i11.y - e11.y;
        return Math.atan2(r6, n11);
      }
    }, Ii2.isAcute = function(t50, e11, i11) {
      var n11 = t50.x - e11.x, r6 = t50.y - e11.y;
      return n11 * (i11.x - e11.x) + r6 * (i11.y - e11.y) > 0;
    }, Ii2.isObtuse = function(t50, e11, i11) {
      var n11 = t50.x - e11.x, r6 = t50.y - e11.y;
      return n11 * (i11.x - e11.x) + r6 * (i11.y - e11.y) < 0;
    }, Ii2.interiorAngle = function(t50, e11, i11) {
      var n11 = Ii2.angle(e11, t50), r6 = Ii2.angle(e11, i11);
      return Math.abs(r6 - n11);
    }, Ii2.normalizePositive = function(t50) {
      if (t50 < 0) {
        for (; t50 < 0; )
          t50 += Ii2.PI_TIMES_2;
        t50 >= Ii2.PI_TIMES_2 && (t50 = 0);
      } else {
        for (; t50 >= Ii2.PI_TIMES_2; )
          t50 -= Ii2.PI_TIMES_2;
        t50 < 0 && (t50 = 0);
      }
      return t50;
    }, Ii2.angleBetween = function(t50, e11, i11) {
      var n11 = Ii2.angle(e11, t50), r6 = Ii2.angle(e11, i11);
      return Ii2.diff(n11, r6);
    }, Ii2.diff = function(t50, e11) {
      var i11 = null;
      return (i11 = t50 < e11 ? e11 - t50 : t50 - e11) > Math.PI && (i11 = 2 * Math.PI - i11), i11;
    }, Ii2.toRadians = function(t50) {
      return t50 * Math.PI / 180;
    }, Ii2.getTurn = function(t50, e11) {
      var i11 = Math.sin(e11 - t50);
      return i11 > 0 ? Ii2.COUNTERCLOCKWISE : i11 < 0 ? Ii2.CLOCKWISE : Ii2.NONE;
    }, Ii2.angleBetweenOriented = function(t50, e11, i11) {
      var n11 = Ii2.angle(e11, t50), r6 = Ii2.angle(e11, i11) - n11;
      return r6 <= -Math.PI ? r6 + Ii2.PI_TIMES_2 : r6 > Math.PI ? r6 - Ii2.PI_TIMES_2 : r6;
    }, Li2.PI_TIMES_2.get = function() {
      return 2 * Math.PI;
    }, Li2.PI_OVER_2.get = function() {
      return Math.PI / 2;
    }, Li2.PI_OVER_4.get = function() {
      return Math.PI / 4;
    }, Li2.COUNTERCLOCKWISE.get = function() {
      return lt.COUNTERCLOCKWISE;
    }, Li2.CLOCKWISE.get = function() {
      return lt.CLOCKWISE;
    }, Li2.NONE.get = function() {
      return lt.COLLINEAR;
    }, Object.defineProperties(Ii2, Li2);
    var Oi2 = q(function t50() {
      this._maxCurveSegmentError = 0, this._filletAngleQuantum = null, this._closingSegLengthFactor = 1, this._segList = null, this._distance = 0, this._precisionModel = null, this._bufParams = null, this._li = null, this._s0 = null, this._s1 = null, this._s2 = null, this._seg0 = new gi(), this._seg1 = new gi(), this._offset0 = new gi(), this._offset1 = new gi(), this._side = 0, this._hasNarrowConcaveAngle = false;
      var e11 = arguments[0], i11 = arguments[1], n11 = arguments[2];
      this._precisionModel = e11, this._bufParams = i11, this._li = new ot(), this._filletAngleQuantum = Math.PI / 2 / i11.getQuadrantSegments(), i11.getQuadrantSegments() >= 8 && i11.getJoinStyle() === wi2.JOIN_ROUND && (this._closingSegLengthFactor = t50.MAX_CLOSING_SEG_LEN_FACTOR), this.init(n11);
    }, "t"), Ni2 = { OFFSET_SEGMENT_SEPARATION_FACTOR: { configurable: true }, INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: true }, CURVE_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: true }, MAX_CLOSING_SEG_LEN_FACTOR: { configurable: true } };
    Oi2.prototype.addNextSegment = function(t50, e11) {
      if (this._s0 = this._s1, this._s1 = this._s2, this._s2 = t50, this._seg0.setCoordinates(this._s0, this._s1), this.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0), this._seg1.setCoordinates(this._s1, this._s2), this.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1), this._s1.equals(this._s2))
        return null;
      var i11 = lt.computeOrientation(this._s0, this._s1, this._s2), n11 = i11 === lt.CLOCKWISE && this._side === Se.LEFT || i11 === lt.COUNTERCLOCKWISE && this._side === Se.RIGHT;
      0 === i11 ? this.addCollinear(e11) : n11 ? this.addOutsideTurn(i11, e11) : this.addInsideTurn(i11, e11);
    }, Oi2.prototype.addLineEndCap = function(t50, e11) {
      var i11 = new gi(t50, e11), n11 = new gi();
      this.computeOffsetSegment(i11, Se.LEFT, this._distance, n11);
      var r6 = new gi();
      this.computeOffsetSegment(i11, Se.RIGHT, this._distance, r6);
      var o6 = e11.x - t50.x, s10 = e11.y - t50.y, a3 = Math.atan2(s10, o6);
      switch (this._bufParams.getEndCapStyle()) {
        case wi2.CAP_ROUND:
          this._segList.addPt(n11.p1), this.addFilletArc(e11, a3 + Math.PI / 2, a3 - Math.PI / 2, lt.CLOCKWISE, this._distance), this._segList.addPt(r6.p1);
          break;
        case wi2.CAP_FLAT:
          this._segList.addPt(n11.p1), this._segList.addPt(r6.p1);
          break;
        case wi2.CAP_SQUARE:
          var l3 = new A();
          l3.x = Math.abs(this._distance) * Math.cos(a3), l3.y = Math.abs(this._distance) * Math.sin(a3);
          var u2 = new A(n11.p1.x + l3.x, n11.p1.y + l3.y), h2 = new A(r6.p1.x + l3.x, r6.p1.y + l3.y);
          this._segList.addPt(u2), this._segList.addPt(h2);
      }
    }, Oi2.prototype.getCoordinates = function() {
      return this._segList.getCoordinates();
    }, Oi2.prototype.addMitreJoin = function(t50, e11, i11, n11) {
      var r6 = true, o6 = null;
      try {
        o6 = H.intersection(e11.p0, e11.p1, i11.p0, i11.p1), (n11 <= 0 ? 1 : o6.distance(t50) / Math.abs(n11)) > this._bufParams.getMitreLimit() && (r6 = false);
      } catch (t51) {
        if (!(t51 instanceof G))
          throw t51;
        o6 = new A(0, 0), r6 = false;
      }
      r6 ? this._segList.addPt(o6) : this.addLimitedMitreJoin(e11, i11, n11, this._bufParams.getMitreLimit());
    }, Oi2.prototype.addFilletCorner = function(t50, e11, i11, n11, r6) {
      var o6 = e11.x - t50.x, s10 = e11.y - t50.y, a3 = Math.atan2(s10, o6), l3 = i11.x - t50.x, u2 = i11.y - t50.y, h2 = Math.atan2(u2, l3);
      n11 === lt.CLOCKWISE ? a3 <= h2 && (a3 += 2 * Math.PI) : a3 >= h2 && (a3 -= 2 * Math.PI), this._segList.addPt(e11), this.addFilletArc(t50, a3, h2, n11, r6), this._segList.addPt(i11);
    }, Oi2.prototype.addOutsideTurn = function(t50, e11) {
      if (this._offset0.p1.distance(this._offset1.p0) < this._distance * Oi2.OFFSET_SEGMENT_SEPARATION_FACTOR)
        return this._segList.addPt(this._offset0.p1), null;
      this._bufParams.getJoinStyle() === wi2.JOIN_MITRE ? this.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance) : this._bufParams.getJoinStyle() === wi2.JOIN_BEVEL ? this.addBevelJoin(this._offset0, this._offset1) : (e11 && this._segList.addPt(this._offset0.p1), this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, t50, this._distance), this._segList.addPt(this._offset1.p0));
    }, Oi2.prototype.createSquare = function(t50) {
      this._segList.addPt(new A(t50.x + this._distance, t50.y + this._distance)), this._segList.addPt(new A(t50.x + this._distance, t50.y - this._distance)), this._segList.addPt(new A(t50.x - this._distance, t50.y - this._distance)), this._segList.addPt(new A(t50.x - this._distance, t50.y + this._distance)), this._segList.closeRing();
    }, Oi2.prototype.addSegments = function(t50, e11) {
      this._segList.addPts(t50, e11);
    }, Oi2.prototype.addFirstSegment = function() {
      this._segList.addPt(this._offset1.p0);
    }, Oi2.prototype.addLastSegment = function() {
      this._segList.addPt(this._offset1.p1);
    }, Oi2.prototype.initSideSegments = function(t50, e11, i11) {
      this._s1 = t50, this._s2 = e11, this._side = i11, this._seg1.setCoordinates(t50, e11), this.computeOffsetSegment(this._seg1, i11, this._distance, this._offset1);
    }, Oi2.prototype.addLimitedMitreJoin = function(t50, e11, i11, n11) {
      var r6 = this._seg0.p1, o6 = Ii2.angle(r6, this._seg0.p0), s10 = Ii2.angleBetweenOriented(this._seg0.p0, r6, this._seg1.p1) / 2, a3 = Ii2.normalize(o6 + s10), l3 = Ii2.normalize(a3 + Math.PI), u2 = n11 * i11, h2 = i11 - u2 * Math.abs(Math.sin(s10)), c4 = r6.x + u2 * Math.cos(l3), p10 = r6.y + u2 * Math.sin(l3), d4 = new A(c4, p10), f2 = new gi(r6, d4), g4 = f2.pointAlongOffset(1, h2), m4 = f2.pointAlongOffset(1, -h2);
      this._side === Se.LEFT ? (this._segList.addPt(g4), this._segList.addPt(m4)) : (this._segList.addPt(m4), this._segList.addPt(g4));
    }, Oi2.prototype.computeOffsetSegment = function(t50, e11, i11, n11) {
      var r6 = e11 === Se.LEFT ? 1 : -1, o6 = t50.p1.x - t50.p0.x, s10 = t50.p1.y - t50.p0.y, a3 = Math.sqrt(o6 * o6 + s10 * s10), l3 = r6 * i11 * o6 / a3, u2 = r6 * i11 * s10 / a3;
      n11.p0.x = t50.p0.x - u2, n11.p0.y = t50.p0.y + l3, n11.p1.x = t50.p1.x - u2, n11.p1.y = t50.p1.y + l3;
    }, Oi2.prototype.addFilletArc = function(t50, e11, i11, n11, r6) {
      var o6 = n11 === lt.CLOCKWISE ? -1 : 1, s10 = Math.abs(e11 - i11), a3 = Math.trunc(s10 / this._filletAngleQuantum + 0.5);
      if (a3 < 1)
        return null;
      for (var l3 = s10 / a3, u2 = 0, h2 = new A(); u2 < s10; ) {
        var c4 = e11 + o6 * u2;
        h2.x = t50.x + r6 * Math.cos(c4), h2.y = t50.y + r6 * Math.sin(c4), this._segList.addPt(h2), u2 += l3;
      }
    }, Oi2.prototype.addInsideTurn = function(t50, e11) {
      if (this._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1), this._li.hasIntersection())
        this._segList.addPt(this._li.getIntersection(0));
      else if (this._hasNarrowConcaveAngle = true, this._offset0.p1.distance(this._offset1.p0) < this._distance * Oi2.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)
        this._segList.addPt(this._offset0.p1);
      else {
        if (this._segList.addPt(this._offset0.p1), this._closingSegLengthFactor > 0) {
          var i11 = new A((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));
          this._segList.addPt(i11);
          var n11 = new A((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));
          this._segList.addPt(n11);
        } else
          this._segList.addPt(this._s1);
        this._segList.addPt(this._offset1.p0);
      }
    }, Oi2.prototype.createCircle = function(t50) {
      var e11 = new A(t50.x + this._distance, t50.y);
      this._segList.addPt(e11), this.addFilletArc(t50, 0, 2 * Math.PI, -1, this._distance), this._segList.closeRing();
    }, Oi2.prototype.addBevelJoin = function(t50, e11) {
      this._segList.addPt(t50.p1), this._segList.addPt(e11.p0);
    }, Oi2.prototype.init = function(t50) {
      this._distance = t50, this._maxCurveSegmentError = t50 * (1 - Math.cos(this._filletAngleQuantum / 2)), this._segList = new Ci2(), this._segList.setPrecisionModel(this._precisionModel), this._segList.setMinimumVertexDistance(t50 * Oi2.CURVE_VERTEX_SNAP_DISTANCE_FACTOR);
    }, Oi2.prototype.addCollinear = function(t50) {
      this._li.computeIntersection(this._s0, this._s1, this._s1, this._s2), this._li.getIntersectionNum() >= 2 && (this._bufParams.getJoinStyle() === wi2.JOIN_BEVEL || this._bufParams.getJoinStyle() === wi2.JOIN_MITRE ? (t50 && this._segList.addPt(this._offset0.p1), this._segList.addPt(this._offset1.p0)) : this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, lt.CLOCKWISE, this._distance));
    }, Oi2.prototype.closeRing = function() {
      this._segList.closeRing();
    }, Oi2.prototype.hasNarrowConcaveAngle = function() {
      return this._hasNarrowConcaveAngle;
    }, Oi2.prototype.interfaces_ = function() {
      return [];
    }, Oi2.prototype.getClass = function() {
      return Oi2;
    }, Ni2.OFFSET_SEGMENT_SEPARATION_FACTOR.get = function() {
      return 1e-3;
    }, Ni2.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get = function() {
      return 1e-3;
    }, Ni2.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get = function() {
      return 1e-6;
    }, Ni2.MAX_CLOSING_SEG_LEN_FACTOR.get = function() {
      return 80;
    }, Object.defineProperties(Oi2, Ni2);
    var Di2 = q(function() {
      this._distance = 0, this._precisionModel = null, this._bufParams = null;
      var t50 = arguments[0], e11 = arguments[1];
      this._precisionModel = t50, this._bufParams = e11;
    }, "Mn");
    Di2.prototype.getOffsetCurve = function(t50, e11) {
      if (this._distance = e11, 0 === e11)
        return null;
      var i11 = e11 < 0, n11 = Math.abs(e11), r6 = this.getSegGen(n11);
      t50.length <= 1 ? this.computePointCurve(t50[0], r6) : this.computeOffsetCurve(t50, i11, r6);
      var o6 = r6.getCoordinates();
      return i11 && Tt.reverse(o6), o6;
    }, Di2.prototype.computeSingleSidedBufferCurve = function(t50, e11, i11) {
      var n11 = this.simplifyTolerance(this._distance);
      if (e11) {
        i11.addSegments(t50, true);
        var r6 = Si.simplify(t50, -n11), o6 = r6.length - 1;
        i11.initSideSegments(r6[o6], r6[o6 - 1], Se.LEFT), i11.addFirstSegment();
        for (var s10 = o6 - 2; s10 >= 0; s10--)
          i11.addNextSegment(r6[s10], true);
      } else {
        i11.addSegments(t50, false);
        var a3 = Si.simplify(t50, n11), l3 = a3.length - 1;
        i11.initSideSegments(a3[0], a3[1], Se.LEFT), i11.addFirstSegment();
        for (var u2 = 2; u2 <= l3; u2++)
          i11.addNextSegment(a3[u2], true);
      }
      i11.addLastSegment(), i11.closeRing();
    }, Di2.prototype.computeRingBufferCurve = function(t50, e11, i11) {
      var n11 = this.simplifyTolerance(this._distance);
      e11 === Se.RIGHT && (n11 = -n11);
      var r6 = Si.simplify(t50, n11), o6 = r6.length - 1;
      i11.initSideSegments(r6[o6 - 1], r6[0], e11);
      for (var s10 = 1; s10 <= o6; s10++) {
        var a3 = 1 !== s10;
        i11.addNextSegment(r6[s10], a3);
      }
      i11.closeRing();
    }, Di2.prototype.computeLineBufferCurve = function(t50, e11) {
      var i11 = this.simplifyTolerance(this._distance), n11 = Si.simplify(t50, i11), r6 = n11.length - 1;
      e11.initSideSegments(n11[0], n11[1], Se.LEFT);
      for (var o6 = 2; o6 <= r6; o6++)
        e11.addNextSegment(n11[o6], true);
      e11.addLastSegment(), e11.addLineEndCap(n11[r6 - 1], n11[r6]);
      var s10 = Si.simplify(t50, -i11), a3 = s10.length - 1;
      e11.initSideSegments(s10[a3], s10[a3 - 1], Se.LEFT);
      for (var l3 = a3 - 2; l3 >= 0; l3--)
        e11.addNextSegment(s10[l3], true);
      e11.addLastSegment(), e11.addLineEndCap(s10[1], s10[0]), e11.closeRing();
    }, Di2.prototype.computePointCurve = function(t50, e11) {
      switch (this._bufParams.getEndCapStyle()) {
        case wi2.CAP_ROUND:
          e11.createCircle(t50);
          break;
        case wi2.CAP_SQUARE:
          e11.createSquare(t50);
      }
    }, Di2.prototype.getLineCurve = function(t50, e11) {
      if (this._distance = e11, e11 < 0 && !this._bufParams.isSingleSided() || 0 === e11)
        return null;
      var i11 = Math.abs(e11), n11 = this.getSegGen(i11);
      if (t50.length <= 1)
        this.computePointCurve(t50[0], n11);
      else if (this._bufParams.isSingleSided()) {
        var r6 = e11 < 0;
        this.computeSingleSidedBufferCurve(t50, r6, n11);
      } else
        this.computeLineBufferCurve(t50, n11);
      return n11.getCoordinates();
    }, Di2.prototype.getBufferParameters = function() {
      return this._bufParams;
    }, Di2.prototype.simplifyTolerance = function(t50) {
      return t50 * this._bufParams.getSimplifyFactor();
    }, Di2.prototype.getRingCurve = function(t50, e11, i11) {
      if (this._distance = i11, t50.length <= 2)
        return this.getLineCurve(t50, i11);
      if (0 === i11)
        return Di2.copyCoordinates(t50);
      var n11 = this.getSegGen(i11);
      return this.computeRingBufferCurve(t50, e11, n11), n11.getCoordinates();
    }, Di2.prototype.computeOffsetCurve = function(t50, e11, i11) {
      var n11 = this.simplifyTolerance(this._distance);
      if (e11) {
        var r6 = Si.simplify(t50, -n11), o6 = r6.length - 1;
        i11.initSideSegments(r6[o6], r6[o6 - 1], Se.LEFT), i11.addFirstSegment();
        for (var s10 = o6 - 2; s10 >= 0; s10--)
          i11.addNextSegment(r6[s10], true);
      } else {
        var a3 = Si.simplify(t50, n11), l3 = a3.length - 1;
        i11.initSideSegments(a3[0], a3[1], Se.LEFT), i11.addFirstSegment();
        for (var u2 = 2; u2 <= l3; u2++)
          i11.addNextSegment(a3[u2], true);
      }
      i11.addLastSegment();
    }, Di2.prototype.getSegGen = function(t50) {
      return new Oi2(this._precisionModel, this._bufParams, t50);
    }, Di2.prototype.interfaces_ = function() {
      return [];
    }, Di2.prototype.getClass = function() {
      return Di2;
    }, Di2.copyCoordinates = function(t50) {
      for (var e11 = new Array(t50.length).fill(null), i11 = 0; i11 < e11.length; i11++)
        e11[i11] = new A(t50[i11]);
      return e11;
    };
    var Ri = q(function() {
      this._subgraphs = null, this._seg = new gi(), this._cga = new lt();
      var t50 = arguments[0];
      this._subgraphs = t50;
    }, "An"), qi2 = { DepthSegment: { configurable: true } };
    Ri.prototype.findStabbedSegments = function() {
      if (1 === arguments.length) {
        for (var t50 = arguments[0], e11 = new wt2(), i11 = this._subgraphs.iterator(); i11.hasNext(); ) {
          var n11 = i11.next(), r6 = n11.getEnvelope();
          t50.y < r6.getMinY() || t50.y > r6.getMaxY() || this.findStabbedSegments(t50, n11.getDirectedEdges(), e11);
        }
        return e11;
      }
      if (3 === arguments.length) {
        if (L(arguments[2], Et) && arguments[0] instanceof A && arguments[1] instanceof je) {
          for (var o6 = arguments[0], s10 = arguments[1], a3 = arguments[2], l3 = s10.getEdge().getCoordinates(), u2 = 0; u2 < l3.length - 1; u2++)
            if (this._seg.p0 = l3[u2], this._seg.p1 = l3[u2 + 1], this._seg.p0.y > this._seg.p1.y && this._seg.reverse(), !(Math.max(this._seg.p0.x, this._seg.p1.x) < o6.x || this._seg.isHorizontal() || o6.y < this._seg.p0.y || o6.y > this._seg.p1.y || lt.computeOrientation(this._seg.p0, this._seg.p1, o6) === lt.RIGHT)) {
              var h2 = s10.getDepth(Se.LEFT);
              this._seg.p0.equals(l3[u2]) || (h2 = s10.getDepth(Se.RIGHT));
              var c4 = new Bi(this._seg, h2);
              a3.add(c4);
            }
        } else if (L(arguments[2], Et) && arguments[0] instanceof A && L(arguments[1], Et))
          for (var p10 = arguments[0], d4 = arguments[1], f2 = arguments[2], g4 = d4.iterator(); g4.hasNext(); ) {
            var m4 = g4.next();
            m4.isForward() && this.findStabbedSegments(p10, m4, f2);
          }
      }
    }, Ri.prototype.getDepth = function(t50) {
      var e11 = this.findStabbedSegments(t50);
      return 0 === e11.size() ? 0 : ti2.min(e11)._leftDepth;
    }, Ri.prototype.interfaces_ = function() {
      return [];
    }, Ri.prototype.getClass = function() {
      return Ri;
    }, qi2.DepthSegment.get = function() {
      return Bi;
    }, Object.defineProperties(Ri, qi2);
    var Bi = q(function() {
      this._upwardSeg = null, this._leftDepth = null;
      var t50 = arguments[0], e11 = arguments[1];
      this._upwardSeg = new gi(t50), this._leftDepth = e11;
    }, "Gn");
    Bi.prototype.compareTo = function(t50) {
      var e11 = t50;
      if (this._upwardSeg.minX() >= e11._upwardSeg.maxX())
        return 1;
      if (this._upwardSeg.maxX() <= e11._upwardSeg.minX())
        return -1;
      var i11 = this._upwardSeg.orientationIndex(e11._upwardSeg);
      return 0 !== i11 || 0 != (i11 = -1 * e11._upwardSeg.orientationIndex(this._upwardSeg)) ? i11 : this._upwardSeg.compareTo(e11._upwardSeg);
    }, Bi.prototype.compareX = function(t50, e11) {
      var i11 = t50.p0.compareTo(e11.p0);
      return 0 !== i11 ? i11 : t50.p1.compareTo(e11.p1);
    }, Bi.prototype.toString = function() {
      return this._upwardSeg.toString();
    }, Bi.prototype.interfaces_ = function() {
      return [M];
    }, Bi.prototype.getClass = function() {
      return Bi;
    };
    var ki = q(function(t50, e11, i11) {
      this.p0 = t50 || null, this.p1 = e11 || null, this.p2 = i11 || null;
    }, "qn");
    ki.prototype.area = function() {
      return ki.area(this.p0, this.p1, this.p2);
    }, ki.prototype.signedArea = function() {
      return ki.signedArea(this.p0, this.p1, this.p2);
    }, ki.prototype.interpolateZ = function(t50) {
      if (null === t50)
        throw new x4("Supplied point is null.");
      return ki.interpolateZ(t50, this.p0, this.p1, this.p2);
    }, ki.prototype.longestSideLength = function() {
      return ki.longestSideLength(this.p0, this.p1, this.p2);
    }, ki.prototype.isAcute = function() {
      return ki.isAcute(this.p0, this.p1, this.p2);
    }, ki.prototype.circumcentre = function() {
      return ki.circumcentre(this.p0, this.p1, this.p2);
    }, ki.prototype.area3D = function() {
      return ki.area3D(this.p0, this.p1, this.p2);
    }, ki.prototype.centroid = function() {
      return ki.centroid(this.p0, this.p1, this.p2);
    }, ki.prototype.inCentre = function() {
      return ki.inCentre(this.p0, this.p1, this.p2);
    }, ki.prototype.interfaces_ = function() {
      return [];
    }, ki.prototype.getClass = function() {
      return ki;
    }, ki.area = function(t50, e11, i11) {
      return Math.abs(((i11.x - t50.x) * (e11.y - t50.y) - (e11.x - t50.x) * (i11.y - t50.y)) / 2);
    }, ki.signedArea = function(t50, e11, i11) {
      return ((i11.x - t50.x) * (e11.y - t50.y) - (e11.x - t50.x) * (i11.y - t50.y)) / 2;
    }, ki.det = function(t50, e11, i11, n11) {
      return t50 * n11 - e11 * i11;
    }, ki.interpolateZ = function(t50, e11, i11, n11) {
      var r6 = e11.x, o6 = e11.y, s10 = i11.x - r6, a3 = n11.x - r6, l3 = i11.y - o6, u2 = n11.y - o6, h2 = s10 * u2 - a3 * l3, c4 = t50.x - r6, p10 = t50.y - o6, d4 = (u2 * c4 - a3 * p10) / h2, f2 = (-l3 * c4 + s10 * p10) / h2;
      return e11.z + d4 * (i11.z - e11.z) + f2 * (n11.z - e11.z);
    }, ki.longestSideLength = function(t50, e11, i11) {
      var n11 = t50.distance(e11), r6 = e11.distance(i11), o6 = i11.distance(t50), s10 = n11;
      return r6 > s10 && (s10 = r6), o6 > s10 && (s10 = o6), s10;
    }, ki.isAcute = function(t50, e11, i11) {
      return !!Ii2.isAcute(t50, e11, i11) && !!Ii2.isAcute(e11, i11, t50) && !!Ii2.isAcute(i11, t50, e11);
    }, ki.circumcentre = function(t50, e11, i11) {
      var n11 = i11.x, r6 = i11.y, o6 = t50.x - n11, s10 = t50.y - r6, a3 = e11.x - n11, l3 = e11.y - r6, u2 = 2 * ki.det(o6, s10, a3, l3), h2 = ki.det(s10, o6 * o6 + s10 * s10, l3, a3 * a3 + l3 * l3), c4 = ki.det(o6, o6 * o6 + s10 * s10, a3, a3 * a3 + l3 * l3);
      return new A(n11 - h2 / u2, r6 + c4 / u2);
    }, ki.perpendicularBisector = function(t50, e11) {
      var i11 = e11.x - t50.x, n11 = e11.y - t50.y, r6 = new H(t50.x + i11 / 2, t50.y + n11 / 2, 1), o6 = new H(t50.x - n11 + i11 / 2, t50.y + i11 + n11 / 2, 1);
      return new H(r6, o6);
    }, ki.angleBisector = function(t50, e11, i11) {
      var n11 = e11.distance(t50), r6 = n11 / (n11 + e11.distance(i11)), o6 = i11.x - t50.x, s10 = i11.y - t50.y;
      return new A(t50.x + r6 * o6, t50.y + r6 * s10);
    }, ki.area3D = function(t50, e11, i11) {
      var n11 = e11.x - t50.x, r6 = e11.y - t50.y, o6 = e11.z - t50.z, s10 = i11.x - t50.x, a3 = i11.y - t50.y, l3 = i11.z - t50.z, u2 = r6 * l3 - o6 * a3, h2 = o6 * s10 - n11 * l3, c4 = n11 * a3 - r6 * s10, p10 = u2 * u2 + h2 * h2 + c4 * c4;
      return Math.sqrt(p10) / 2;
    }, ki.centroid = function(t50, e11, i11) {
      var n11 = (t50.x + e11.x + i11.x) / 3, r6 = (t50.y + e11.y + i11.y) / 3;
      return new A(n11, r6);
    }, ki.inCentre = function(t50, e11, i11) {
      var n11 = e11.distance(i11), r6 = t50.distance(i11), o6 = t50.distance(e11), s10 = n11 + r6 + o6, a3 = (n11 * t50.x + r6 * e11.x + o6 * i11.x) / s10, l3 = (n11 * t50.y + r6 * e11.y + o6 * i11.y) / s10;
      return new A(a3, l3);
    };
    var Fi2 = q(function() {
      this._inputGeom = null, this._distance = null, this._curveBuilder = null, this._curveList = new wt2();
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
      this._inputGeom = t50, this._distance = e11, this._curveBuilder = i11;
    }, "Bn");
    Fi2.prototype.addPoint = function(t50) {
      if (this._distance <= 0)
        return null;
      var e11 = t50.getCoordinates(), i11 = this._curveBuilder.getLineCurve(e11, this._distance);
      this.addCurve(i11, P.EXTERIOR, P.INTERIOR);
    }, Fi2.prototype.addPolygon = function(t50) {
      var e11 = this._distance, i11 = Se.LEFT;
      this._distance < 0 && (e11 = -this._distance, i11 = Se.RIGHT);
      var n11 = t50.getExteriorRing(), r6 = Tt.removeRepeatedPoints(n11.getCoordinates());
      if (this._distance < 0 && this.isErodedCompletely(n11, this._distance) || this._distance <= 0 && r6.length < 3)
        return null;
      this.addPolygonRing(r6, e11, i11, P.EXTERIOR, P.INTERIOR);
      for (var o6 = 0; o6 < t50.getNumInteriorRing(); o6++) {
        var s10 = t50.getInteriorRingN(o6), a3 = Tt.removeRepeatedPoints(s10.getCoordinates());
        this._distance > 0 && this.isErodedCompletely(s10, -this._distance) || this.addPolygonRing(a3, e11, Se.opposite(i11), P.INTERIOR, P.EXTERIOR);
      }
    }, Fi2.prototype.isTriangleErodedCompletely = function(t50, e11) {
      var i11 = new ki(t50[0], t50[1], t50[2]), n11 = i11.inCentre();
      return lt.distancePointLine(n11, i11.p0, i11.p1) < Math.abs(e11);
    }, Fi2.prototype.addLineString = function(t50) {
      if (this._distance <= 0 && !this._curveBuilder.getBufferParameters().isSingleSided())
        return null;
      var e11 = Tt.removeRepeatedPoints(t50.getCoordinates()), i11 = this._curveBuilder.getLineCurve(e11, this._distance);
      this.addCurve(i11, P.EXTERIOR, P.INTERIOR);
    }, Fi2.prototype.addCurve = function(t50, e11, i11) {
      if (null === t50 || t50.length < 2)
        return null;
      var n11 = new fi(t50, new Ne(0, P.BOUNDARY, e11, i11));
      this._curveList.add(n11);
    }, Fi2.prototype.getCurves = function() {
      return this.add(this._inputGeom), this._curveList;
    }, Fi2.prototype.addPolygonRing = function(t50, e11, i11, n11, r6) {
      if (0 === e11 && t50.length < ie.MINIMUM_VALID_SIZE)
        return null;
      var o6 = n11, s10 = r6;
      t50.length >= ie.MINIMUM_VALID_SIZE && lt.isCCW(t50) && (o6 = r6, s10 = n11, i11 = Se.opposite(i11));
      var a3 = this._curveBuilder.getRingCurve(t50, i11, e11);
      this.addCurve(a3, o6, s10);
    }, Fi2.prototype.add = function(t50) {
      if (t50.isEmpty())
        return null;
      t50 instanceof te ? this.addPolygon(t50) : t50 instanceof Zt ? this.addLineString(t50) : t50 instanceof Jt ? this.addPoint(t50) : (t50 instanceof ee || t50 instanceof Gt2 || t50 instanceof ne || t50 instanceof jt2) && this.addCollection(t50);
    }, Fi2.prototype.isErodedCompletely = function(t50, e11) {
      var i11 = t50.getCoordinates();
      if (i11.length < 4)
        return e11 < 0;
      if (4 === i11.length)
        return this.isTriangleErodedCompletely(i11, e11);
      var n11 = t50.getEnvelopeInternal(), r6 = Math.min(n11.getHeight(), n11.getWidth());
      return e11 < 0 && 2 * Math.abs(e11) > r6;
    }, Fi2.prototype.addCollection = function(t50) {
      for (var e11 = 0; e11 < t50.getNumGeometries(); e11++) {
        var i11 = t50.getGeometryN(e11);
        this.add(i11);
      }
    }, Fi2.prototype.interfaces_ = function() {
      return [];
    }, Fi2.prototype.getClass = function() {
      return Fi2;
    };
    var Ui = q(function() {
    }, "Vn");
    Ui.prototype.locate = function(t50) {
    }, Ui.prototype.interfaces_ = function() {
      return [];
    }, Ui.prototype.getClass = function() {
      return Ui;
    };
    var zi = q(function() {
      this._parent = null, this._atStart = null, this._max = null, this._index = null, this._subcollectionIterator = null;
      var t50 = arguments[0];
      this._parent = t50, this._atStart = true, this._index = 0, this._max = t50.getNumGeometries();
    }, "Un");
    zi.prototype.next = function() {
      if (this._atStart)
        return this._atStart = false, zi.isAtomic(this._parent) && this._index++, this._parent;
      if (null !== this._subcollectionIterator) {
        if (this._subcollectionIterator.hasNext())
          return this._subcollectionIterator.next();
        this._subcollectionIterator = null;
      }
      if (this._index >= this._max)
        throw new n10();
      var t50 = this._parent.getGeometryN(this._index++);
      return t50 instanceof jt2 ? (this._subcollectionIterator = new zi(t50), this._subcollectionIterator.next()) : t50;
    }, zi.prototype.remove = function() {
      throw new Error(this.getClass().getName());
    }, zi.prototype.hasNext = function() {
      if (this._atStart)
        return true;
      if (null !== this._subcollectionIterator) {
        if (this._subcollectionIterator.hasNext())
          return true;
        this._subcollectionIterator = null;
      }
      return !(this._index >= this._max);
    }, zi.prototype.interfaces_ = function() {
      return [Mt];
    }, zi.prototype.getClass = function() {
      return zi;
    }, zi.isAtomic = function(t50) {
      return !(t50 instanceof jt2);
    };
    var Vi2 = q(function() {
      this._geom = null;
      var t50 = arguments[0];
      this._geom = t50;
    }, "zn");
    Vi2.prototype.locate = function(t50) {
      return Vi2.locate(t50, this._geom);
    }, Vi2.prototype.interfaces_ = function() {
      return [Ui];
    }, Vi2.prototype.getClass = function() {
      return Vi2;
    }, Vi2.isPointInRing = function(t50, e11) {
      return !!e11.getEnvelopeInternal().intersects(t50) && lt.isPointInRing(t50, e11.getCoordinates());
    }, Vi2.containsPointInPolygon = function(t50, e11) {
      if (e11.isEmpty())
        return false;
      var i11 = e11.getExteriorRing();
      if (!Vi2.isPointInRing(t50, i11))
        return false;
      for (var n11 = 0; n11 < e11.getNumInteriorRing(); n11++) {
        var r6 = e11.getInteriorRingN(n11);
        if (Vi2.isPointInRing(t50, r6))
          return false;
      }
      return true;
    }, Vi2.containsPoint = function(t50, e11) {
      if (e11 instanceof te)
        return Vi2.containsPointInPolygon(t50, e11);
      if (e11 instanceof jt2)
        for (var i11 = new zi(e11); i11.hasNext(); ) {
          var n11 = i11.next();
          if (n11 !== e11 && Vi2.containsPoint(t50, n11))
            return true;
        }
      return false;
    }, Vi2.locate = function(t50, e11) {
      return e11.isEmpty() ? P.EXTERIOR : Vi2.containsPoint(t50, e11) ? P.INTERIOR : P.EXTERIOR;
    };
    var ji2 = q(function() {
      this._edgeMap = new p4(), this._edgeList = null, this._ptInAreaLocation = [P.NONE, P.NONE];
    }, "Xn");
    ji2.prototype.getNextCW = function(t50) {
      this.getEdges();
      var e11 = this._edgeList.indexOf(t50), i11 = e11 - 1;
      return 0 === e11 && (i11 = this._edgeList.size() - 1), this._edgeList.get(i11);
    }, ji2.prototype.propagateSideLabels = function(t50) {
      for (var e11 = P.NONE, i11 = this.iterator(); i11.hasNext(); ) {
        var n11 = i11.next().getLabel();
        n11.isArea(t50) && n11.getLocation(t50, Se.LEFT) !== P.NONE && (e11 = n11.getLocation(t50, Se.LEFT));
      }
      if (e11 === P.NONE)
        return null;
      for (var r6 = e11, o6 = this.iterator(); o6.hasNext(); ) {
        var s10 = o6.next(), a3 = s10.getLabel();
        if (a3.getLocation(t50, Se.ON) === P.NONE && a3.setLocation(t50, Se.ON, r6), a3.isArea(t50)) {
          var l3 = a3.getLocation(t50, Se.LEFT), u2 = a3.getLocation(t50, Se.RIGHT);
          if (u2 !== P.NONE) {
            if (u2 !== r6)
              throw new Pe("side location conflict", s10.getCoordinate());
            l3 === P.NONE && it.shouldNeverReachHere("found single null side (at " + s10.getCoordinate() + ")"), r6 = l3;
          } else
            it.isTrue(a3.getLocation(t50, Se.LEFT) === P.NONE, "found single null side"), a3.setLocation(t50, Se.RIGHT, r6), a3.setLocation(t50, Se.LEFT, r6);
        }
      }
    }, ji2.prototype.getCoordinate = function() {
      var t50 = this.iterator();
      return t50.hasNext() ? t50.next().getCoordinate() : null;
    }, ji2.prototype.print = function(t50) {
      W.out.println("EdgeEndStar:   " + this.getCoordinate());
      for (var e11 = this.iterator(); e11.hasNext(); )
        e11.next().print(t50);
    }, ji2.prototype.isAreaLabelsConsistent = function(t50) {
      return this.computeEdgeEndLabels(t50.getBoundaryNodeRule()), this.checkAreaLabelsConsistent(0);
    }, ji2.prototype.checkAreaLabelsConsistent = function(t50) {
      var e11 = this.getEdges();
      if (e11.size() <= 0)
        return true;
      var i11 = e11.size() - 1, n11 = e11.get(i11).getLabel().getLocation(t50, Se.LEFT);
      it.isTrue(n11 !== P.NONE, "Found unlabelled area edge");
      for (var r6 = n11, o6 = this.iterator(); o6.hasNext(); ) {
        var s10 = o6.next().getLabel();
        it.isTrue(s10.isArea(t50), "Found non-area edge");
        var a3 = s10.getLocation(t50, Se.LEFT), l3 = s10.getLocation(t50, Se.RIGHT);
        if (a3 === l3 || l3 !== r6)
          return false;
        r6 = a3;
      }
      return true;
    }, ji2.prototype.findIndex = function(t50) {
      this.iterator();
      for (var e11 = 0; e11 < this._edgeList.size(); e11++)
        if (this._edgeList.get(e11) === t50)
          return e11;
      return -1;
    }, ji2.prototype.iterator = function() {
      return this.getEdges().iterator();
    }, ji2.prototype.getEdges = function() {
      return null === this._edgeList && (this._edgeList = new wt2(this._edgeMap.values())), this._edgeList;
    }, ji2.prototype.getLocation = function(t50, e11, i11) {
      return this._ptInAreaLocation[t50] === P.NONE && (this._ptInAreaLocation[t50] = Vi2.locate(e11, i11[t50].getGeometry())), this._ptInAreaLocation[t50];
    }, ji2.prototype.toString = function() {
      var t50 = new D();
      t50.append("EdgeEndStar:   " + this.getCoordinate()), t50.append("\n");
      for (var e11 = this.iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        t50.append(i11), t50.append("\n");
      }
      return t50.toString();
    }, ji2.prototype.computeEdgeEndLabels = function(t50) {
      for (var e11 = this.iterator(); e11.hasNext(); )
        e11.next().computeLabel(t50);
    }, ji2.prototype.computeLabelling = function(t50) {
      this.computeEdgeEndLabels(t50[0].getBoundaryNodeRule()), this.propagateSideLabels(0), this.propagateSideLabels(1);
      for (var e11 = [false, false], i11 = this.iterator(); i11.hasNext(); )
        for (var n11 = i11.next().getLabel(), r6 = 0; r6 < 2; r6++)
          n11.isLine(r6) && n11.getLocation(r6) === P.BOUNDARY && (e11[r6] = true);
      for (var o6 = this.iterator(); o6.hasNext(); )
        for (var s10 = o6.next(), a3 = s10.getLabel(), l3 = 0; l3 < 2; l3++)
          if (a3.isAnyNull(l3)) {
            var u2 = P.NONE;
            if (e11[l3])
              u2 = P.EXTERIOR;
            else {
              var h2 = s10.getCoordinate();
              u2 = this.getLocation(l3, h2, t50);
            }
            a3.setAllLocationsIfNull(l3, u2);
          }
    }, ji2.prototype.getDegree = function() {
      return this._edgeMap.size();
    }, ji2.prototype.insertEdgeEnd = function(t50, e11) {
      this._edgeMap.put(t50, e11), this._edgeList = null;
    }, ji2.prototype.interfaces_ = function() {
      return [];
    }, ji2.prototype.getClass = function() {
      return ji2;
    };
    var Gi = function(t50) {
      function e11() {
        t50.call(this), this._resultAreaEdgeList = null, this._label = null, this._SCANNING_FOR_INCOMING = 1, this._LINKING_TO_OUTGOING = 2;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.linkResultDirectedEdges = function() {
        this.getResultAreaEdges();
        for (var t51 = null, e12 = null, i11 = this._SCANNING_FOR_INCOMING, n11 = 0; n11 < this._resultAreaEdgeList.size(); n11++) {
          var r6 = this._resultAreaEdgeList.get(n11), o6 = r6.getSym();
          if (r6.getLabel().isArea())
            switch (null === t51 && r6.isInResult() && (t51 = r6), i11) {
              case this._SCANNING_FOR_INCOMING:
                if (!o6.isInResult())
                  continue;
                e12 = o6, i11 = this._LINKING_TO_OUTGOING;
                break;
              case this._LINKING_TO_OUTGOING:
                if (!r6.isInResult())
                  continue;
                e12.setNext(r6), i11 = this._SCANNING_FOR_INCOMING;
            }
        }
        if (i11 === this._LINKING_TO_OUTGOING) {
          if (null === t51)
            throw new Pe("no outgoing dirEdge found", this.getCoordinate());
          it.isTrue(t51.isInResult(), "unable to link last incoming dirEdge"), e12.setNext(t51);
        }
      }, e11.prototype.insert = function(t51) {
        var e12 = t51;
        this.insertEdgeEnd(e12, e12);
      }, e11.prototype.getRightmostEdge = function() {
        var t51 = this.getEdges(), e12 = t51.size();
        if (e12 < 1)
          return null;
        var i11 = t51.get(0);
        if (1 === e12)
          return i11;
        var n11 = t51.get(e12 - 1), r6 = i11.getQuadrant(), o6 = n11.getQuadrant();
        return Ue.isNorthern(r6) && Ue.isNorthern(o6) ? i11 : Ue.isNorthern(r6) || Ue.isNorthern(o6) ? 0 !== i11.getDy() ? i11 : 0 !== n11.getDy() ? n11 : (it.shouldNeverReachHere("found two horizontal edges incident on node"), null) : n11;
      }, e11.prototype.print = function(t51) {
        W.out.println("DirectedEdgeStar: " + this.getCoordinate());
        for (var e12 = this.iterator(); e12.hasNext(); ) {
          var i11 = e12.next();
          t51.print("out "), i11.print(t51), t51.println(), t51.print("in "), i11.getSym().print(t51), t51.println();
        }
      }, e11.prototype.getResultAreaEdges = function() {
        if (null !== this._resultAreaEdgeList)
          return this._resultAreaEdgeList;
        this._resultAreaEdgeList = new wt2();
        for (var t51 = this.iterator(); t51.hasNext(); ) {
          var e12 = t51.next();
          (e12.isInResult() || e12.getSym().isInResult()) && this._resultAreaEdgeList.add(e12);
        }
        return this._resultAreaEdgeList;
      }, e11.prototype.updateLabelling = function(t51) {
        for (var e12 = this.iterator(); e12.hasNext(); ) {
          var i11 = e12.next().getLabel();
          i11.setAllLocationsIfNull(0, t51.getLocation(0)), i11.setAllLocationsIfNull(1, t51.getLocation(1));
        }
      }, e11.prototype.linkAllDirectedEdges = function() {
        this.getEdges();
        for (var t51 = null, e12 = null, i11 = this._edgeList.size() - 1; i11 >= 0; i11--) {
          var n11 = this._edgeList.get(i11), r6 = n11.getSym();
          null === e12 && (e12 = r6), null !== t51 && r6.setNext(t51), t51 = n11;
        }
        e12.setNext(t51);
      }, e11.prototype.computeDepths = function() {
        if (1 === arguments.length) {
          var t51 = arguments[0], e12 = this.findIndex(t51), i11 = t51.getDepth(Se.LEFT), n11 = t51.getDepth(Se.RIGHT), r6 = this.computeDepths(e12 + 1, this._edgeList.size(), i11);
          if (this.computeDepths(0, e12, r6) !== n11)
            throw new Pe("depth mismatch at " + t51.getCoordinate());
        } else if (3 === arguments.length) {
          for (var o6 = arguments[0], s10 = arguments[1], a3 = arguments[2], l3 = o6; l3 < s10; l3++) {
            var u2 = this._edgeList.get(l3);
            u2.setEdgeDepths(Se.RIGHT, a3), a3 = u2.getDepth(Se.LEFT);
          }
          return a3;
        }
      }, e11.prototype.mergeSymLabels = function() {
        for (var t51 = this.iterator(); t51.hasNext(); ) {
          var e12 = t51.next();
          e12.getLabel().merge(e12.getSym().getLabel());
        }
      }, e11.prototype.linkMinimalDirectedEdges = function(t51) {
        for (var e12 = null, i11 = null, n11 = this._SCANNING_FOR_INCOMING, r6 = this._resultAreaEdgeList.size() - 1; r6 >= 0; r6--) {
          var o6 = this._resultAreaEdgeList.get(r6), s10 = o6.getSym();
          switch (null === e12 && o6.getEdgeRing() === t51 && (e12 = o6), n11) {
            case this._SCANNING_FOR_INCOMING:
              if (s10.getEdgeRing() !== t51)
                continue;
              i11 = s10, n11 = this._LINKING_TO_OUTGOING;
              break;
            case this._LINKING_TO_OUTGOING:
              if (o6.getEdgeRing() !== t51)
                continue;
              i11.setNextMin(o6), n11 = this._SCANNING_FOR_INCOMING;
          }
        }
        n11 === this._LINKING_TO_OUTGOING && (it.isTrue(null !== e12, "found null for first outgoing dirEdge"), it.isTrue(e12.getEdgeRing() === t51, "unable to link last incoming dirEdge"), i11.setNextMin(e12));
      }, e11.prototype.getOutgoingDegree = function() {
        if (0 === arguments.length) {
          for (var t51 = 0, e12 = this.iterator(); e12.hasNext(); )
            e12.next().isInResult() && t51++;
          return t51;
        }
        if (1 === arguments.length) {
          for (var i11 = arguments[0], n11 = 0, r6 = this.iterator(); r6.hasNext(); )
            r6.next().getEdgeRing() === i11 && n11++;
          return n11;
        }
      }, e11.prototype.getLabel = function() {
        return this._label;
      }, e11.prototype.findCoveredLineEdges = function() {
        for (var t51 = P.NONE, e12 = this.iterator(); e12.hasNext(); ) {
          var i11 = e12.next(), n11 = i11.getSym();
          if (!i11.isLineEdge()) {
            if (i11.isInResult()) {
              t51 = P.INTERIOR;
              break;
            }
            if (n11.isInResult()) {
              t51 = P.EXTERIOR;
              break;
            }
          }
        }
        if (t51 === P.NONE)
          return null;
        for (var r6 = t51, o6 = this.iterator(); o6.hasNext(); ) {
          var s10 = o6.next(), a3 = s10.getSym();
          s10.isLineEdge() ? s10.getEdge().setCovered(r6 === P.INTERIOR) : (s10.isInResult() && (r6 = P.EXTERIOR), a3.isInResult() && (r6 = P.INTERIOR));
        }
      }, e11.prototype.computeLabelling = function(e12) {
        t50.prototype.computeLabelling.call(this, e12), this._label = new Ne(P.NONE);
        for (var i11 = this.iterator(); i11.hasNext(); )
          for (var n11 = i11.next().getEdge().getLabel(), r6 = 0; r6 < 2; r6++) {
            var o6 = n11.getLocation(r6);
            o6 !== P.INTERIOR && o6 !== P.BOUNDARY || this._label.setLocation(r6, P.INTERIOR);
          }
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(ji2), Wi2 = function(t50) {
      function e11() {
        t50.apply(this, arguments);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.createNode = function(t51) {
        return new ke(t51, new Gi());
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(Ge), Hi2 = q(function t50() {
      this._pts = null, this._orientation = null;
      var e11 = arguments[0];
      this._pts = e11, this._orientation = t50.orientation(e11);
    }, "t");
    Hi2.prototype.compareTo = function(t50) {
      var e11 = t50;
      return Hi2.compareOriented(this._pts, this._orientation, e11._pts, e11._orientation);
    }, Hi2.prototype.interfaces_ = function() {
      return [M];
    }, Hi2.prototype.getClass = function() {
      return Hi2;
    }, Hi2.orientation = function(t50) {
      return 1 === Tt.increasingDirection(t50);
    }, Hi2.compareOriented = function(t50, e11, i11, n11) {
      for (var r6 = e11 ? 1 : -1, o6 = n11 ? 1 : -1, s10 = e11 ? t50.length : -1, a3 = n11 ? i11.length : -1, l3 = e11 ? 0 : t50.length - 1, u2 = n11 ? 0 : i11.length - 1; ; ) {
        var h2 = t50[l3].compareTo(i11[u2]);
        if (0 !== h2)
          return h2;
        var c4 = (l3 += r6) === s10, p10 = (u2 += o6) === a3;
        if (c4 && !p10)
          return -1;
        if (!c4 && p10)
          return 1;
        if (c4 && p10)
          return 0;
      }
    };
    var Yi = q(function() {
      this._edges = new wt2(), this._ocaMap = new p4();
    }, "Hn");
    Yi.prototype.print = function(t50) {
      t50.print("MULTILINESTRING ( ");
      for (var e11 = 0; e11 < this._edges.size(); e11++) {
        var i11 = this._edges.get(e11);
        e11 > 0 && t50.print(","), t50.print("(");
        for (var n11 = i11.getCoordinates(), r6 = 0; r6 < n11.length; r6++)
          r6 > 0 && t50.print(","), t50.print(n11[r6].x + " " + n11[r6].y);
        t50.println(")");
      }
      t50.print(")  ");
    }, Yi.prototype.addAll = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); )
        this.add(e11.next());
    }, Yi.prototype.findEdgeIndex = function(t50) {
      for (var e11 = 0; e11 < this._edges.size(); e11++)
        if (this._edges.get(e11).equals(t50))
          return e11;
      return -1;
    }, Yi.prototype.iterator = function() {
      return this._edges.iterator();
    }, Yi.prototype.getEdges = function() {
      return this._edges;
    }, Yi.prototype.get = function(t50) {
      return this._edges.get(t50);
    }, Yi.prototype.findEqualEdge = function(t50) {
      var e11 = new Hi2(t50.getCoordinates());
      return this._ocaMap.get(e11);
    }, Yi.prototype.add = function(t50) {
      this._edges.add(t50);
      var e11 = new Hi2(t50.getCoordinates());
      this._ocaMap.put(e11, t50);
    }, Yi.prototype.interfaces_ = function() {
      return [];
    }, Yi.prototype.getClass = function() {
      return Yi;
    };
    var Xi = q(function() {
    }, "Wn");
    Xi.prototype.processIntersections = function(t50, e11, i11, n11) {
    }, Xi.prototype.isDone = function() {
    }, Xi.prototype.interfaces_ = function() {
      return [];
    }, Xi.prototype.getClass = function() {
      return Xi;
    };
    var Ki = q(function() {
      this._hasIntersection = false, this._hasProper = false, this._hasProperInterior = false, this._hasInterior = false, this._properIntersectionPoint = null, this._li = null, this._isSelfIntersection = null, this.numIntersections = 0, this.numInteriorIntersections = 0, this.numProperIntersections = 0, this.numTests = 0;
      var t50 = arguments[0];
      this._li = t50;
    }, "Kn");
    Ki.prototype.isTrivialIntersection = function(t50, e11, i11, n11) {
      if (t50 === i11 && 1 === this._li.getIntersectionNum()) {
        if (Ki.isAdjacentSegments(e11, n11))
          return true;
        if (t50.isClosed()) {
          var r6 = t50.size() - 1;
          if (0 === e11 && n11 === r6 || 0 === n11 && e11 === r6)
            return true;
        }
      }
      return false;
    }, Ki.prototype.getProperIntersectionPoint = function() {
      return this._properIntersectionPoint;
    }, Ki.prototype.hasProperInteriorIntersection = function() {
      return this._hasProperInterior;
    }, Ki.prototype.getLineIntersector = function() {
      return this._li;
    }, Ki.prototype.hasProperIntersection = function() {
      return this._hasProper;
    }, Ki.prototype.processIntersections = function(t50, e11, i11, n11) {
      if (t50 === i11 && e11 === n11)
        return null;
      this.numTests++;
      var r6 = t50.getCoordinates()[e11], o6 = t50.getCoordinates()[e11 + 1], s10 = i11.getCoordinates()[n11], a3 = i11.getCoordinates()[n11 + 1];
      this._li.computeIntersection(r6, o6, s10, a3), this._li.hasIntersection() && (this.numIntersections++, this._li.isInteriorIntersection() && (this.numInteriorIntersections++, this._hasInterior = true), this.isTrivialIntersection(t50, e11, i11, n11) || (this._hasIntersection = true, t50.addIntersections(this._li, e11, 0), i11.addIntersections(this._li, n11, 1), this._li.isProper() && (this.numProperIntersections++, this._hasProper = true, this._hasProperInterior = true)));
    }, Ki.prototype.hasIntersection = function() {
      return this._hasIntersection;
    }, Ki.prototype.isDone = function() {
      return false;
    }, Ki.prototype.hasInteriorIntersection = function() {
      return this._hasInterior;
    }, Ki.prototype.interfaces_ = function() {
      return [Xi];
    }, Ki.prototype.getClass = function() {
      return Ki;
    }, Ki.isAdjacentSegments = function(t50, e11) {
      return 1 === Math.abs(t50 - e11);
    };
    var Zi = q(function() {
      this.coord = null, this.segmentIndex = null, this.dist = null;
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
      this.coord = new A(t50), this.segmentIndex = e11, this.dist = i11;
    }, "Jn");
    Zi.prototype.getSegmentIndex = function() {
      return this.segmentIndex;
    }, Zi.prototype.getCoordinate = function() {
      return this.coord;
    }, Zi.prototype.print = function(t50) {
      t50.print(this.coord), t50.print(" seg # = " + this.segmentIndex), t50.println(" dist = " + this.dist);
    }, Zi.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this.compare(e11.segmentIndex, e11.dist);
    }, Zi.prototype.isEndPoint = function(t50) {
      return 0 === this.segmentIndex && 0 === this.dist || this.segmentIndex === t50;
    }, Zi.prototype.toString = function() {
      return this.coord + " seg # = " + this.segmentIndex + " dist = " + this.dist;
    }, Zi.prototype.getDistance = function() {
      return this.dist;
    }, Zi.prototype.compare = function(t50, e11) {
      return this.segmentIndex < t50 ? -1 : this.segmentIndex > t50 ? 1 : this.dist < e11 ? -1 : this.dist > e11 ? 1 : 0;
    }, Zi.prototype.interfaces_ = function() {
      return [M];
    }, Zi.prototype.getClass = function() {
      return Zi;
    };
    var Qi = q(function() {
      this._nodeMap = new p4(), this.edge = null;
      var t50 = arguments[0];
      this.edge = t50;
    }, "Qn");
    Qi.prototype.print = function(t50) {
      t50.println("Intersections:");
      for (var e11 = this.iterator(); e11.hasNext(); )
        e11.next().print(t50);
    }, Qi.prototype.iterator = function() {
      return this._nodeMap.values().iterator();
    }, Qi.prototype.addSplitEdges = function(t50) {
      this.addEndpoints();
      for (var e11 = this.iterator(), i11 = e11.next(); e11.hasNext(); ) {
        var n11 = e11.next(), r6 = this.createSplitEdge(i11, n11);
        t50.add(r6), i11 = n11;
      }
    }, Qi.prototype.addEndpoints = function() {
      var t50 = this.edge.pts.length - 1;
      this.add(this.edge.pts[0], 0, 0), this.add(this.edge.pts[t50], t50, 0);
    }, Qi.prototype.createSplitEdge = function(t50, e11) {
      var i11 = e11.segmentIndex - t50.segmentIndex + 2, n11 = this.edge.pts[e11.segmentIndex], r6 = e11.dist > 0 || !e11.coord.equals2D(n11);
      r6 || i11--;
      var o6 = new Array(i11).fill(null), s10 = 0;
      o6[s10++] = new A(t50.coord);
      for (var a3 = t50.segmentIndex + 1; a3 <= e11.segmentIndex; a3++)
        o6[s10++] = this.edge.pts[a3];
      return r6 && (o6[s10] = e11.coord), new nn(o6, new Ne(this.edge._label));
    }, Qi.prototype.add = function(t50, e11, i11) {
      var n11 = new Zi(t50, e11, i11), r6 = this._nodeMap.get(n11);
      return null !== r6 ? r6 : (this._nodeMap.put(n11, n11), n11);
    }, Qi.prototype.isIntersection = function(t50) {
      for (var e11 = this.iterator(); e11.hasNext(); )
        if (e11.next().coord.equals(t50))
          return true;
      return false;
    }, Qi.prototype.interfaces_ = function() {
      return [];
    }, Qi.prototype.getClass = function() {
      return Qi;
    };
    var Ji2 = q(function() {
    }, "Zn");
    Ji2.prototype.getChainStartIndices = function(t50) {
      var e11 = 0, i11 = new wt2();
      i11.add(new R(e11));
      do {
        var n11 = this.findChainEnd(t50, e11);
        i11.add(new R(n11)), e11 = n11;
      } while (e11 < t50.length - 1);
      return Ji2.toIntArray(i11);
    }, Ji2.prototype.findChainEnd = function(t50, e11) {
      for (var i11 = Ue.quadrant(t50[e11], t50[e11 + 1]), n11 = e11 + 1; n11 < t50.length && Ue.quadrant(t50[n11 - 1], t50[n11]) === i11; )
        n11++;
      return n11 - 1;
    }, Ji2.prototype.interfaces_ = function() {
      return [];
    }, Ji2.prototype.getClass = function() {
      return Ji2;
    }, Ji2.toIntArray = function(t50) {
      for (var e11 = new Array(t50.size()).fill(null), i11 = 0; i11 < e11.length; i11++)
        e11[i11] = t50.get(i11).intValue();
      return e11;
    };
    var $i2 = q(function() {
      this.e = null, this.pts = null, this.startIndex = null, this.env1 = new Y(), this.env2 = new Y();
      var t50 = arguments[0];
      this.e = t50, this.pts = t50.getCoordinates();
      var e11 = new Ji2();
      this.startIndex = e11.getChainStartIndices(this.pts);
    }, "$n");
    $i2.prototype.getCoordinates = function() {
      return this.pts;
    }, $i2.prototype.getMaxX = function(t50) {
      var e11 = this.pts[this.startIndex[t50]].x, i11 = this.pts[this.startIndex[t50 + 1]].x;
      return e11 > i11 ? e11 : i11;
    }, $i2.prototype.getMinX = function(t50) {
      var e11 = this.pts[this.startIndex[t50]].x, i11 = this.pts[this.startIndex[t50 + 1]].x;
      return e11 < i11 ? e11 : i11;
    }, $i2.prototype.computeIntersectsForChain = function() {
      if (4 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = arguments[3];
        this.computeIntersectsForChain(this.startIndex[t50], this.startIndex[t50 + 1], e11, e11.startIndex[i11], e11.startIndex[i11 + 1], n11);
      } else if (6 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2], a3 = arguments[3], l3 = arguments[4], u2 = arguments[5], h2 = this.pts[r6], c4 = this.pts[o6], p10 = s10.pts[a3], d4 = s10.pts[l3];
        if (o6 - r6 == 1 && l3 - a3 == 1)
          return u2.addIntersections(this.e, r6, s10.e, a3), null;
        if (this.env1.init(h2, c4), this.env2.init(p10, d4), !this.env1.intersects(this.env2))
          return null;
        var f2 = Math.trunc((r6 + o6) / 2), g4 = Math.trunc((a3 + l3) / 2);
        r6 < f2 && (a3 < g4 && this.computeIntersectsForChain(r6, f2, s10, a3, g4, u2), g4 < l3 && this.computeIntersectsForChain(r6, f2, s10, g4, l3, u2)), f2 < o6 && (a3 < g4 && this.computeIntersectsForChain(f2, o6, s10, a3, g4, u2), g4 < l3 && this.computeIntersectsForChain(f2, o6, s10, g4, l3, u2));
      }
    }, $i2.prototype.getStartIndexes = function() {
      return this.startIndex;
    }, $i2.prototype.computeIntersects = function(t50, e11) {
      for (var i11 = 0; i11 < this.startIndex.length - 1; i11++)
        for (var n11 = 0; n11 < t50.startIndex.length - 1; n11++)
          this.computeIntersectsForChain(i11, t50, n11, e11);
    }, $i2.prototype.interfaces_ = function() {
      return [];
    }, $i2.prototype.getClass = function() {
      return $i2;
    };
    var tn = q(function t50() {
      this._depth = Array(2).fill().map(function() {
        return Array(3);
      });
      for (var e11 = 0; e11 < 2; e11++)
        for (var i11 = 0; i11 < 3; i11++)
          this._depth[e11][i11] = t50.NULL_VALUE;
    }, "t"), en2 = { NULL_VALUE: { configurable: true } };
    tn.prototype.getDepth = function(t50, e11) {
      return this._depth[t50][e11];
    }, tn.prototype.setDepth = function(t50, e11, i11) {
      this._depth[t50][e11] = i11;
    }, tn.prototype.isNull = function() {
      if (0 === arguments.length) {
        for (var t50 = 0; t50 < 2; t50++)
          for (var e11 = 0; e11 < 3; e11++)
            if (this._depth[t50][e11] !== tn.NULL_VALUE)
              return false;
        return true;
      }
      if (1 === arguments.length) {
        var i11 = arguments[0];
        return this._depth[i11][1] === tn.NULL_VALUE;
      }
      if (2 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1];
        return this._depth[n11][r6] === tn.NULL_VALUE;
      }
    }, tn.prototype.normalize = function() {
      for (var t50 = 0; t50 < 2; t50++)
        if (!this.isNull(t50)) {
          var e11 = this._depth[t50][1];
          this._depth[t50][2] < e11 && (e11 = this._depth[t50][2]), e11 < 0 && (e11 = 0);
          for (var i11 = 1; i11 < 3; i11++) {
            var n11 = 0;
            this._depth[t50][i11] > e11 && (n11 = 1), this._depth[t50][i11] = n11;
          }
        }
    }, tn.prototype.getDelta = function(t50) {
      return this._depth[t50][Se.RIGHT] - this._depth[t50][Se.LEFT];
    }, tn.prototype.getLocation = function(t50, e11) {
      return this._depth[t50][e11] <= 0 ? P.EXTERIOR : P.INTERIOR;
    }, tn.prototype.toString = function() {
      return "A: " + this._depth[0][1] + "," + this._depth[0][2] + " B: " + this._depth[1][1] + "," + this._depth[1][2];
    }, tn.prototype.add = function() {
      if (1 === arguments.length)
        for (var t50 = arguments[0], e11 = 0; e11 < 2; e11++)
          for (var i11 = 1; i11 < 3; i11++) {
            var n11 = t50.getLocation(e11, i11);
            n11 !== P.EXTERIOR && n11 !== P.INTERIOR || (this.isNull(e11, i11) ? this._depth[e11][i11] = tn.depthAtLocation(n11) : this._depth[e11][i11] += tn.depthAtLocation(n11));
          }
      else if (3 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1];
        arguments[2] === P.INTERIOR && this._depth[r6][o6]++;
      }
    }, tn.prototype.interfaces_ = function() {
      return [];
    }, tn.prototype.getClass = function() {
      return tn;
    }, tn.depthAtLocation = function(t50) {
      return t50 === P.EXTERIOR ? 0 : t50 === P.INTERIOR ? 1 : tn.NULL_VALUE;
    }, en2.NULL_VALUE.get = function() {
      return -1;
    }, Object.defineProperties(tn, en2);
    var nn = function(t50) {
      function e11() {
        if (t50.call(this), this.pts = null, this._env = null, this.eiList = new Qi(this), this._name = null, this._mce = null, this._isIsolated = true, this._depth = new tn(), this._depthDelta = 0, 1 === arguments.length) {
          var i11 = arguments[0];
          e11.call(this, i11, null);
        } else if (2 === arguments.length) {
          var n11 = arguments[0], r6 = arguments[1];
          this.pts = n11, this._label = r6;
        }
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.getDepth = function() {
        return this._depth;
      }, e11.prototype.getCollapsedEdge = function() {
        var t51 = new Array(2).fill(null);
        return t51[0] = this.pts[0], t51[1] = this.pts[1], new e11(t51, Ne.toLineLabel(this._label));
      }, e11.prototype.isIsolated = function() {
        return this._isIsolated;
      }, e11.prototype.getCoordinates = function() {
        return this.pts;
      }, e11.prototype.setIsolated = function(t51) {
        this._isIsolated = t51;
      }, e11.prototype.setName = function(t51) {
        this._name = t51;
      }, e11.prototype.equals = function(t51) {
        if (!(t51 instanceof e11))
          return false;
        var i11 = t51;
        if (this.pts.length !== i11.pts.length)
          return false;
        for (var n11 = true, r6 = true, o6 = this.pts.length, s10 = 0; s10 < this.pts.length; s10++)
          if (this.pts[s10].equals2D(i11.pts[s10]) || (n11 = false), this.pts[s10].equals2D(i11.pts[--o6]) || (r6 = false), !n11 && !r6)
            return false;
        return true;
      }, e11.prototype.getCoordinate = function() {
        if (0 === arguments.length)
          return this.pts.length > 0 ? this.pts[0] : null;
        if (1 === arguments.length) {
          var t51 = arguments[0];
          return this.pts[t51];
        }
      }, e11.prototype.print = function(t51) {
        t51.print("edge " + this._name + ": "), t51.print("LINESTRING (");
        for (var e12 = 0; e12 < this.pts.length; e12++)
          e12 > 0 && t51.print(","), t51.print(this.pts[e12].x + " " + this.pts[e12].y);
        t51.print(")  " + this._label + " " + this._depthDelta);
      }, e11.prototype.computeIM = function(t51) {
        e11.updateIM(this._label, t51);
      }, e11.prototype.isCollapsed = function() {
        return !!this._label.isArea() && 3 === this.pts.length && !!this.pts[0].equals(this.pts[2]);
      }, e11.prototype.isClosed = function() {
        return this.pts[0].equals(this.pts[this.pts.length - 1]);
      }, e11.prototype.getMaximumSegmentIndex = function() {
        return this.pts.length - 1;
      }, e11.prototype.getDepthDelta = function() {
        return this._depthDelta;
      }, e11.prototype.getNumPoints = function() {
        return this.pts.length;
      }, e11.prototype.printReverse = function(t51) {
        t51.print("edge " + this._name + ": ");
        for (var e12 = this.pts.length - 1; e12 >= 0; e12--)
          t51.print(this.pts[e12] + " ");
        t51.println("");
      }, e11.prototype.getMonotoneChainEdge = function() {
        return null === this._mce && (this._mce = new $i2(this)), this._mce;
      }, e11.prototype.getEnvelope = function() {
        if (null === this._env) {
          this._env = new Y();
          for (var t51 = 0; t51 < this.pts.length; t51++)
            this._env.expandToInclude(this.pts[t51]);
        }
        return this._env;
      }, e11.prototype.addIntersection = function(t51, e12, i11, n11) {
        var r6 = new A(t51.getIntersection(n11)), o6 = e12, s10 = t51.getEdgeDistance(i11, n11), a3 = o6 + 1;
        if (a3 < this.pts.length) {
          var l3 = this.pts[a3];
          r6.equals2D(l3) && (o6 = a3, s10 = 0);
        }
        this.eiList.add(r6, o6, s10);
      }, e11.prototype.toString = function() {
        var t51 = new D();
        t51.append("edge " + this._name + ": "), t51.append("LINESTRING (");
        for (var e12 = 0; e12 < this.pts.length; e12++)
          e12 > 0 && t51.append(","), t51.append(this.pts[e12].x + " " + this.pts[e12].y);
        return t51.append(")  " + this._label + " " + this._depthDelta), t51.toString();
      }, e11.prototype.isPointwiseEqual = function(t51) {
        if (this.pts.length !== t51.pts.length)
          return false;
        for (var e12 = 0; e12 < this.pts.length; e12++)
          if (!this.pts[e12].equals2D(t51.pts[e12]))
            return false;
        return true;
      }, e11.prototype.setDepthDelta = function(t51) {
        this._depthDelta = t51;
      }, e11.prototype.getEdgeIntersectionList = function() {
        return this.eiList;
      }, e11.prototype.addIntersections = function(t51, e12, i11) {
        for (var n11 = 0; n11 < t51.getIntersectionNum(); n11++)
          this.addIntersection(t51, e12, i11, n11);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11.updateIM = function() {
        if (2 !== arguments.length)
          return t50.prototype.updateIM.apply(this, arguments);
        var e12 = arguments[0], i11 = arguments[1];
        i11.setAtLeastIfValid(e12.getLocation(0, Se.ON), e12.getLocation(1, Se.ON), 1), e12.isArea() && (i11.setAtLeastIfValid(e12.getLocation(0, Se.LEFT), e12.getLocation(1, Se.LEFT), 2), i11.setAtLeastIfValid(e12.getLocation(0, Se.RIGHT), e12.getLocation(1, Se.RIGHT), 2));
      }, e11;
    }(Be), rn2 = q(function(t50) {
      this._workingPrecisionModel = null, this._workingNoder = null, this._geomFact = null, this._graph = null, this._edgeList = new Yi(), this._bufParams = t50 || null;
    }, "ii");
    rn2.prototype.setWorkingPrecisionModel = function(t50) {
      this._workingPrecisionModel = t50;
    }, rn2.prototype.insertUniqueEdge = function(t50) {
      var e11 = this._edgeList.findEqualEdge(t50);
      if (null !== e11) {
        var i11 = e11.getLabel(), n11 = t50.getLabel();
        e11.isPointwiseEqual(t50) || (n11 = new Ne(t50.getLabel())).flip(), i11.merge(n11);
        var r6 = rn2.depthDelta(n11), o6 = e11.getDepthDelta() + r6;
        e11.setDepthDelta(o6);
      } else
        this._edgeList.add(t50), t50.setDepthDelta(rn2.depthDelta(t50.getLabel()));
    }, rn2.prototype.buildSubgraphs = function(t50, e11) {
      for (var i11 = new wt2(), n11 = t50.iterator(); n11.hasNext(); ) {
        var r6 = n11.next(), o6 = r6.getRightmostCoordinate(), s10 = new Ri(i11).getDepth(o6);
        r6.computeDepth(s10), r6.findResultEdges(), i11.add(r6), e11.add(r6.getDirectedEdges(), r6.getNodes());
      }
    }, rn2.prototype.createSubgraphs = function(t50) {
      for (var e11 = new wt2(), i11 = t50.getNodes().iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        if (!n11.isVisited()) {
          var r6 = new Le2();
          r6.create(n11), e11.add(r6);
        }
      }
      return ti2.sort(e11, ti2.reverseOrder()), e11;
    }, rn2.prototype.createEmptyResultGeometry = function() {
      return this._geomFact.createPolygon();
    }, rn2.prototype.getNoder = function(t50) {
      if (null !== this._workingNoder)
        return this._workingNoder;
      var e11 = new Mi(), i11 = new ot();
      return i11.setPrecisionModel(t50), e11.setSegmentIntersector(new Ki(i11)), e11;
    }, rn2.prototype.buffer = function(t50, e11) {
      var i11 = this._workingPrecisionModel;
      null === i11 && (i11 = t50.getPrecisionModel()), this._geomFact = t50.getFactory();
      var n11 = new Di2(i11, this._bufParams), r6 = new Fi2(t50, e11, n11).getCurves();
      if (r6.size() <= 0)
        return this.createEmptyResultGeometry();
      this.computeNodedEdges(r6, i11), this._graph = new We(new Wi2()), this._graph.addEdges(this._edgeList.getEdges());
      var o6 = this.createSubgraphs(this._graph), s10 = new He(this._geomFact);
      this.buildSubgraphs(o6, s10);
      var a3 = s10.getPolygons();
      return a3.size() <= 0 ? this.createEmptyResultGeometry() : this._geomFact.buildGeometry(a3);
    }, rn2.prototype.computeNodedEdges = function(t50, e11) {
      var i11 = this.getNoder(e11);
      i11.computeNodes(t50);
      for (var n11 = i11.getNodedSubstrings().iterator(); n11.hasNext(); ) {
        var r6 = n11.next(), o6 = r6.getCoordinates();
        if (2 !== o6.length || !o6[0].equals2D(o6[1])) {
          var s10 = r6.getData(), a3 = new nn(r6.getCoordinates(), new Ne(s10));
          this.insertUniqueEdge(a3);
        }
      }
    }, rn2.prototype.setNoder = function(t50) {
      this._workingNoder = t50;
    }, rn2.prototype.interfaces_ = function() {
      return [];
    }, rn2.prototype.getClass = function() {
      return rn2;
    }, rn2.depthDelta = function(t50) {
      var e11 = t50.getLocation(0, Se.LEFT), i11 = t50.getLocation(0, Se.RIGHT);
      return e11 === P.INTERIOR && i11 === P.EXTERIOR ? 1 : e11 === P.EXTERIOR && i11 === P.INTERIOR ? -1 : 0;
    }, rn2.convertSegStrings = function(t50) {
      for (var e11 = new ye(), i11 = new wt2(); t50.hasNext(); ) {
        var n11 = t50.next(), r6 = e11.createLineString(n11.getCoordinates());
        i11.add(r6);
      }
      return e11.buildGeometry(i11);
    };
    var on2 = q(function() {
      if (this._noder = null, this._scaleFactor = null, this._offsetX = null, this._offsetY = null, this._isScaled = false, 2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        this._noder = t50, this._scaleFactor = e11, this._offsetX = 0, this._offsetY = 0, this._isScaled = !this.isIntegerPrecision();
      } else if (4 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2], o6 = arguments[3];
        this._noder = i11, this._scaleFactor = n11, this._offsetX = r6, this._offsetY = o6, this._isScaled = !this.isIntegerPrecision();
      }
    }, "ri");
    on2.prototype.rescale = function() {
      if (L(arguments[0], bt))
        for (var t50 = arguments[0].iterator(); t50.hasNext(); ) {
          var e11 = t50.next();
          this.rescale(e11.getCoordinates());
        }
      else if (arguments[0] instanceof Array) {
        for (var i11 = arguments[0], n11 = 0; n11 < i11.length; n11++)
          i11[n11].x = i11[n11].x / this._scaleFactor + this._offsetX, i11[n11].y = i11[n11].y / this._scaleFactor + this._offsetY;
        2 === i11.length && i11[0].equals2D(i11[1]) && W.out.println(i11);
      }
    }, on2.prototype.scale = function() {
      if (L(arguments[0], bt)) {
        for (var t50 = arguments[0], e11 = new wt2(), i11 = t50.iterator(); i11.hasNext(); ) {
          var n11 = i11.next();
          e11.add(new fi(this.scale(n11.getCoordinates()), n11.getData()));
        }
        return e11;
      }
      if (arguments[0] instanceof Array) {
        for (var r6 = arguments[0], o6 = new Array(r6.length).fill(null), s10 = 0; s10 < r6.length; s10++)
          o6[s10] = new A(Math.round((r6[s10].x - this._offsetX) * this._scaleFactor), Math.round((r6[s10].y - this._offsetY) * this._scaleFactor), r6[s10].z);
        return Tt.removeRepeatedPoints(o6);
      }
    }, on2.prototype.isIntegerPrecision = function() {
      return 1 === this._scaleFactor;
    }, on2.prototype.getNodedSubstrings = function() {
      var t50 = this._noder.getNodedSubstrings();
      return this._isScaled && this.rescale(t50), t50;
    }, on2.prototype.computeNodes = function(t50) {
      var e11 = t50;
      this._isScaled && (e11 = this.scale(t50)), this._noder.computeNodes(e11);
    }, on2.prototype.interfaces_ = function() {
      return [_i2];
    }, on2.prototype.getClass = function() {
      return on2;
    };
    var sn2 = q(function() {
      this._li = new ot(), this._segStrings = null;
      var t50 = arguments[0];
      this._segStrings = t50;
    }, "oi"), an = { fact: { configurable: true } };
    sn2.prototype.checkEndPtVertexIntersections = function() {
      if (0 === arguments.length)
        for (var t50 = this._segStrings.iterator(); t50.hasNext(); ) {
          var e11 = t50.next().getCoordinates();
          this.checkEndPtVertexIntersections(e11[0], this._segStrings), this.checkEndPtVertexIntersections(e11[e11.length - 1], this._segStrings);
        }
      else if (2 === arguments.length) {
        for (var i11 = arguments[0], n11 = arguments[1].iterator(); n11.hasNext(); )
          for (var r6 = n11.next().getCoordinates(), o6 = 1; o6 < r6.length - 1; o6++)
            if (r6[o6].equals(i11))
              throw new tt("found endpt/interior pt intersection at index " + o6 + " :pt " + i11);
      }
    }, sn2.prototype.checkInteriorIntersections = function() {
      if (0 === arguments.length)
        for (var t50 = this._segStrings.iterator(); t50.hasNext(); )
          for (var e11 = t50.next(), i11 = this._segStrings.iterator(); i11.hasNext(); ) {
            var n11 = i11.next();
            this.checkInteriorIntersections(e11, n11);
          }
      else if (2 === arguments.length)
        for (var r6 = arguments[0], o6 = arguments[1], s10 = r6.getCoordinates(), a3 = o6.getCoordinates(), l3 = 0; l3 < s10.length - 1; l3++)
          for (var u2 = 0; u2 < a3.length - 1; u2++)
            this.checkInteriorIntersections(r6, l3, o6, u2);
      else if (4 === arguments.length) {
        var h2 = arguments[0], c4 = arguments[1], p10 = arguments[2], d4 = arguments[3];
        if (h2 === p10 && c4 === d4)
          return null;
        var f2 = h2.getCoordinates()[c4], g4 = h2.getCoordinates()[c4 + 1], m4 = p10.getCoordinates()[d4], v10 = p10.getCoordinates()[d4 + 1];
        if (this._li.computeIntersection(f2, g4, m4, v10), this._li.hasIntersection() && (this._li.isProper() || this.hasInteriorIntersection(this._li, f2, g4) || this.hasInteriorIntersection(this._li, m4, v10)))
          throw new tt("found non-noded intersection at " + f2 + "-" + g4 + " and " + m4 + "-" + v10);
      }
    }, sn2.prototype.checkValid = function() {
      this.checkEndPtVertexIntersections(), this.checkInteriorIntersections(), this.checkCollapses();
    }, sn2.prototype.checkCollapses = function() {
      if (0 === arguments.length)
        for (var t50 = this._segStrings.iterator(); t50.hasNext(); ) {
          var e11 = t50.next();
          this.checkCollapses(e11);
        }
      else if (1 === arguments.length)
        for (var i11 = arguments[0].getCoordinates(), n11 = 0; n11 < i11.length - 2; n11++)
          this.checkCollapse(i11[n11], i11[n11 + 1], i11[n11 + 2]);
    }, sn2.prototype.hasInteriorIntersection = function(t50, e11, i11) {
      for (var n11 = 0; n11 < t50.getIntersectionNum(); n11++) {
        var r6 = t50.getIntersection(n11);
        if (!r6.equals(e11) && !r6.equals(i11))
          return true;
      }
      return false;
    }, sn2.prototype.checkCollapse = function(t50, e11, i11) {
      if (t50.equals(i11))
        throw new tt("found non-noded collapse at " + sn2.fact.createLineString([t50, e11, i11]));
    }, sn2.prototype.interfaces_ = function() {
      return [];
    }, sn2.prototype.getClass = function() {
      return sn2;
    }, an.fact.get = function() {
      return new ye();
    }, Object.defineProperties(sn2, an);
    var ln = q(function() {
      this._li = null, this._pt = null, this._originalPt = null, this._ptScaled = null, this._p0Scaled = null, this._p1Scaled = null, this._scaleFactor = null, this._minx = null, this._maxx = null, this._miny = null, this._maxy = null, this._corner = new Array(4).fill(null), this._safeEnv = null;
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
      if (this._originalPt = t50, this._pt = t50, this._scaleFactor = e11, this._li = i11, e11 <= 0)
        throw new x4("Scale factor must be non-zero");
      1 !== e11 && (this._pt = new A(this.scale(t50.x), this.scale(t50.y)), this._p0Scaled = new A(), this._p1Scaled = new A()), this.initCorners(this._pt);
    }, "ai"), un2 = { SAFE_ENV_EXPANSION_FACTOR: { configurable: true } };
    ln.prototype.intersectsScaled = function(t50, e11) {
      var i11 = Math.min(t50.x, e11.x), n11 = Math.max(t50.x, e11.x), r6 = Math.min(t50.y, e11.y), o6 = Math.max(t50.y, e11.y), s10 = this._maxx < i11 || this._minx > n11 || this._maxy < r6 || this._miny > o6;
      if (s10)
        return false;
      var a3 = this.intersectsToleranceSquare(t50, e11);
      return it.isTrue(!(s10 && a3), "Found bad envelope test"), a3;
    }, ln.prototype.initCorners = function(t50) {
      this._minx = t50.x - 0.5, this._maxx = t50.x + 0.5, this._miny = t50.y - 0.5, this._maxy = t50.y + 0.5, this._corner[0] = new A(this._maxx, this._maxy), this._corner[1] = new A(this._minx, this._maxy), this._corner[2] = new A(this._minx, this._miny), this._corner[3] = new A(this._maxx, this._miny);
    }, ln.prototype.intersects = function(t50, e11) {
      return 1 === this._scaleFactor ? this.intersectsScaled(t50, e11) : (this.copyScaled(t50, this._p0Scaled), this.copyScaled(e11, this._p1Scaled), this.intersectsScaled(this._p0Scaled, this._p1Scaled));
    }, ln.prototype.scale = function(t50) {
      return Math.round(t50 * this._scaleFactor);
    }, ln.prototype.getCoordinate = function() {
      return this._originalPt;
    }, ln.prototype.copyScaled = function(t50, e11) {
      e11.x = this.scale(t50.x), e11.y = this.scale(t50.y);
    }, ln.prototype.getSafeEnvelope = function() {
      if (null === this._safeEnv) {
        var t50 = ln.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;
        this._safeEnv = new Y(this._originalPt.x - t50, this._originalPt.x + t50, this._originalPt.y - t50, this._originalPt.y + t50);
      }
      return this._safeEnv;
    }, ln.prototype.intersectsPixelClosure = function(t50, e11) {
      return this._li.computeIntersection(t50, e11, this._corner[0], this._corner[1]), !!(this._li.hasIntersection() || (this._li.computeIntersection(t50, e11, this._corner[1], this._corner[2]), this._li.hasIntersection() || (this._li.computeIntersection(t50, e11, this._corner[2], this._corner[3]), this._li.hasIntersection() || (this._li.computeIntersection(t50, e11, this._corner[3], this._corner[0]), this._li.hasIntersection()))));
    }, ln.prototype.intersectsToleranceSquare = function(t50, e11) {
      var i11 = false, n11 = false;
      return this._li.computeIntersection(t50, e11, this._corner[0], this._corner[1]), !!(this._li.isProper() || (this._li.computeIntersection(t50, e11, this._corner[1], this._corner[2]), this._li.isProper() || (this._li.hasIntersection() && (i11 = true), this._li.computeIntersection(t50, e11, this._corner[2], this._corner[3]), this._li.isProper() || (this._li.hasIntersection() && (n11 = true), this._li.computeIntersection(t50, e11, this._corner[3], this._corner[0]), this._li.isProper() || i11 && n11 || t50.equals(this._pt) || e11.equals(this._pt)))));
    }, ln.prototype.addSnappedNode = function(t50, e11) {
      var i11 = t50.getCoordinate(e11), n11 = t50.getCoordinate(e11 + 1);
      return !!this.intersects(i11, n11) && (t50.addIntersection(this.getCoordinate(), e11), true);
    }, ln.prototype.interfaces_ = function() {
      return [];
    }, ln.prototype.getClass = function() {
      return ln;
    }, un2.SAFE_ENV_EXPANSION_FACTOR.get = function() {
      return 0.75;
    }, Object.defineProperties(ln, un2);
    var hn = q(function() {
      this.tempEnv1 = new Y(), this.selectedSegment = new gi();
    }, "li");
    hn.prototype.select = function() {
      if (1 !== arguments.length && 2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        t50.getLineSegment(e11, this.selectedSegment), this.select(this.selectedSegment);
      }
    }, hn.prototype.interfaces_ = function() {
      return [];
    }, hn.prototype.getClass = function() {
      return hn;
    };
    var cn = q(function() {
      this._index = null;
      var t50 = arguments[0];
      this._index = t50;
    }, "ci"), pn2 = { HotPixelSnapAction: { configurable: true } };
    cn.prototype.snap = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this.snap(t50, null, -1);
      }
      if (3 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = arguments[2], r6 = e11.getSafeEnvelope(), o6 = new dn(e11, i11, n11);
        return this._index.query(r6, { interfaces_: function() {
          return [Ze];
        }, visitItem: function(t51) {
          t51.select(r6, o6);
        } }), o6.isNodeAdded();
      }
    }, cn.prototype.interfaces_ = function() {
      return [];
    }, cn.prototype.getClass = function() {
      return cn;
    }, pn2.HotPixelSnapAction.get = function() {
      return dn;
    }, Object.defineProperties(cn, pn2);
    var dn = function(t50) {
      function e11() {
        t50.call(this), this._hotPixel = null, this._parentEdge = null, this._hotPixelVertexIndex = null, this._isNodeAdded = false;
        var e12 = arguments[0], i11 = arguments[1], n11 = arguments[2];
        this._hotPixel = e12, this._parentEdge = i11, this._hotPixelVertexIndex = n11;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.isNodeAdded = function() {
        return this._isNodeAdded;
      }, e11.prototype.select = function() {
        if (2 !== arguments.length)
          return t50.prototype.select.apply(this, arguments);
        var e12 = arguments[0], i11 = arguments[1], n11 = e12.getContext();
        if (null !== this._parentEdge && n11 === this._parentEdge && i11 === this._hotPixelVertexIndex)
          return null;
        this._isNodeAdded = this._hotPixel.addSnappedNode(n11, i11);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(hn), fn2 = q(function() {
      this._li = null, this._interiorIntersections = null;
      var t50 = arguments[0];
      this._li = t50, this._interiorIntersections = new wt2();
    }, "fi");
    fn2.prototype.processIntersections = function(t50, e11, i11, n11) {
      if (t50 === i11 && e11 === n11)
        return null;
      var r6 = t50.getCoordinates()[e11], o6 = t50.getCoordinates()[e11 + 1], s10 = i11.getCoordinates()[n11], a3 = i11.getCoordinates()[n11 + 1];
      if (this._li.computeIntersection(r6, o6, s10, a3), this._li.hasIntersection() && this._li.isInteriorIntersection()) {
        for (var l3 = 0; l3 < this._li.getIntersectionNum(); l3++)
          this._interiorIntersections.add(this._li.getIntersection(l3));
        t50.addIntersections(this._li, e11, 0), i11.addIntersections(this._li, n11, 1);
      }
    }, fn2.prototype.isDone = function() {
      return false;
    }, fn2.prototype.getInteriorIntersections = function() {
      return this._interiorIntersections;
    }, fn2.prototype.interfaces_ = function() {
      return [Xi];
    }, fn2.prototype.getClass = function() {
      return fn2;
    };
    var gn2 = q(function() {
      this._pm = null, this._li = null, this._scaleFactor = null, this._noder = null, this._pointSnapper = null, this._nodedSegStrings = null;
      var t50 = arguments[0];
      this._pm = t50, this._li = new ot(), this._li.setPrecisionModel(t50), this._scaleFactor = t50.getScale();
    }, "gi");
    gn2.prototype.checkCorrectness = function(t50) {
      var e11 = fi.getNodedSubstrings(t50), i11 = new sn2(e11);
      try {
        i11.checkValid();
      } catch (t51) {
        if (!(t51 instanceof j))
          throw t51;
        t51.printStackTrace();
      }
    }, gn2.prototype.getNodedSubstrings = function() {
      return fi.getNodedSubstrings(this._nodedSegStrings);
    }, gn2.prototype.snapRound = function(t50, e11) {
      var i11 = this.findInteriorIntersections(t50, e11);
      this.computeIntersectionSnaps(i11), this.computeVertexSnaps(t50);
    }, gn2.prototype.findInteriorIntersections = function(t50, e11) {
      var i11 = new fn2(e11);
      return this._noder.setSegmentIntersector(i11), this._noder.computeNodes(t50), i11.getInteriorIntersections();
    }, gn2.prototype.computeVertexSnaps = function() {
      if (L(arguments[0], bt))
        for (var t50 = arguments[0].iterator(); t50.hasNext(); ) {
          var e11 = t50.next();
          this.computeVertexSnaps(e11);
        }
      else if (arguments[0] instanceof fi)
        for (var i11 = arguments[0], n11 = i11.getCoordinates(), r6 = 0; r6 < n11.length; r6++) {
          var o6 = new ln(n11[r6], this._scaleFactor, this._li);
          this._pointSnapper.snap(o6, i11, r6) && i11.addIntersection(n11[r6], r6);
        }
    }, gn2.prototype.computeNodes = function(t50) {
      this._nodedSegStrings = t50, this._noder = new Mi(), this._pointSnapper = new cn(this._noder.getIndex()), this.snapRound(t50, this._li);
    }, gn2.prototype.computeIntersectionSnaps = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); ) {
        var i11 = e11.next(), n11 = new ln(i11, this._scaleFactor, this._li);
        this._pointSnapper.snap(n11);
      }
    }, gn2.prototype.interfaces_ = function() {
      return [_i2];
    }, gn2.prototype.getClass = function() {
      return gn2;
    };
    var mn = q(function() {
      if (this._argGeom = null, this._distance = null, this._bufParams = new wi2(), this._resultGeometry = null, this._saveException = null, 1 === arguments.length) {
        var t50 = arguments[0];
        this._argGeom = t50;
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        this._argGeom = e11, this._bufParams = i11;
      }
    }, "di"), vn2 = { CAP_ROUND: { configurable: true }, CAP_BUTT: { configurable: true }, CAP_FLAT: { configurable: true }, CAP_SQUARE: { configurable: true }, MAX_PRECISION_DIGITS: { configurable: true } };
    mn.prototype.bufferFixedPrecision = function(t50) {
      var e11 = new on2(new gn2(new fe2(1)), t50.getScale()), i11 = new rn2(this._bufParams);
      i11.setWorkingPrecisionModel(t50), i11.setNoder(e11), this._resultGeometry = i11.buffer(this._argGeom, this._distance);
    }, mn.prototype.bufferReducedPrecision = function() {
      var t50 = this;
      if (0 === arguments.length) {
        for (var e11 = mn.MAX_PRECISION_DIGITS; e11 >= 0; e11--) {
          try {
            t50.bufferReducedPrecision(e11);
          } catch (e12) {
            if (!(e12 instanceof Pe))
              throw e12;
            t50._saveException = e12;
          }
          if (null !== t50._resultGeometry)
            return null;
        }
        throw this._saveException;
      }
      if (1 === arguments.length) {
        var i11 = arguments[0], n11 = mn.precisionScaleFactor(this._argGeom, this._distance, i11), r6 = new fe2(n11);
        this.bufferFixedPrecision(r6);
      }
    }, mn.prototype.computeGeometry = function() {
      if (this.bufferOriginalPrecision(), null !== this._resultGeometry)
        return null;
      var t50 = this._argGeom.getFactory().getPrecisionModel();
      t50.getType() === fe2.FIXED ? this.bufferFixedPrecision(t50) : this.bufferReducedPrecision();
    }, mn.prototype.setQuadrantSegments = function(t50) {
      this._bufParams.setQuadrantSegments(t50);
    }, mn.prototype.bufferOriginalPrecision = function() {
      try {
        var t50 = new rn2(this._bufParams);
        this._resultGeometry = t50.buffer(this._argGeom, this._distance);
      } catch (t51) {
        if (!(t51 instanceof tt))
          throw t51;
        this._saveException = t51;
      }
    }, mn.prototype.getResultGeometry = function(t50) {
      return this._distance = t50, this.computeGeometry(), this._resultGeometry;
    }, mn.prototype.setEndCapStyle = function(t50) {
      this._bufParams.setEndCapStyle(t50);
    }, mn.prototype.interfaces_ = function() {
      return [];
    }, mn.prototype.getClass = function() {
      return mn;
    }, mn.bufferOp = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        return new mn(t50).getResultGeometry(e11);
      }
      if (3 === arguments.length) {
        if (Number.isInteger(arguments[2]) && arguments[0] instanceof ct && "number" == typeof arguments[1]) {
          var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2], o6 = new mn(i11);
          return o6.setQuadrantSegments(r6), o6.getResultGeometry(n11);
        }
        if (arguments[2] instanceof wi2 && arguments[0] instanceof ct && "number" == typeof arguments[1]) {
          var s10 = arguments[0], a3 = arguments[1], l3 = arguments[2];
          return new mn(s10, l3).getResultGeometry(a3);
        }
      } else if (4 === arguments.length) {
        var u2 = arguments[0], h2 = arguments[1], c4 = arguments[2], p10 = arguments[3], d4 = new mn(u2);
        return d4.setQuadrantSegments(c4), d4.setEndCapStyle(p10), d4.getResultGeometry(h2);
      }
    }, mn.precisionScaleFactor = function(t50, e11, i11) {
      var n11 = t50.getEnvelopeInternal(), r6 = O.max(Math.abs(n11.getMaxX()), Math.abs(n11.getMaxY()), Math.abs(n11.getMinX()), Math.abs(n11.getMinY())) + 2 * (e11 > 0 ? e11 : 0), o6 = i11 - Math.trunc(Math.log(r6) / Math.log(10) + 1);
      return Math.pow(10, o6);
    }, vn2.CAP_ROUND.get = function() {
      return wi2.CAP_ROUND;
    }, vn2.CAP_BUTT.get = function() {
      return wi2.CAP_FLAT;
    }, vn2.CAP_FLAT.get = function() {
      return wi2.CAP_FLAT;
    }, vn2.CAP_SQUARE.get = function() {
      return wi2.CAP_SQUARE;
    }, vn2.MAX_PRECISION_DIGITS.get = function() {
      return 12;
    }, Object.defineProperties(mn, vn2);
    var yn2 = q(function() {
      this._pt = [new A(), new A()], this._distance = _.NaN, this._isNull = true;
    }, "_i");
    yn2.prototype.getCoordinates = function() {
      return this._pt;
    }, yn2.prototype.getCoordinate = function(t50) {
      return this._pt[t50];
    }, yn2.prototype.setMinimum = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setMinimum(t50._pt[0], t50._pt[1]);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        if (this._isNull)
          return this.initialize(e11, i11), null;
        var n11 = e11.distance(i11);
        n11 < this._distance && this.initialize(e11, i11, n11);
      }
    }, yn2.prototype.initialize = function() {
      if (0 === arguments.length)
        this._isNull = true;
      else if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        this._pt[0].setCoordinate(t50), this._pt[1].setCoordinate(e11), this._distance = t50.distance(e11), this._isNull = false;
      } else if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2];
        this._pt[0].setCoordinate(i11), this._pt[1].setCoordinate(n11), this._distance = r6, this._isNull = false;
      }
    }, yn2.prototype.getDistance = function() {
      return this._distance;
    }, yn2.prototype.setMaximum = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setMaximum(t50._pt[0], t50._pt[1]);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        if (this._isNull)
          return this.initialize(e11, i11), null;
        var n11 = e11.distance(i11);
        n11 > this._distance && this.initialize(e11, i11, n11);
      }
    }, yn2.prototype.interfaces_ = function() {
      return [];
    }, yn2.prototype.getClass = function() {
      return yn2;
    };
    var xn2 = q(function() {
    }, "mi");
    xn2.prototype.interfaces_ = function() {
      return [];
    }, xn2.prototype.getClass = function() {
      return xn2;
    }, xn2.computeDistance = function() {
      if (arguments[2] instanceof yn2 && arguments[0] instanceof Zt && arguments[1] instanceof A)
        for (var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = t50.getCoordinates(), r6 = new gi(), o6 = 0; o6 < n11.length - 1; o6++) {
          r6.setCoordinates(n11[o6], n11[o6 + 1]);
          var s10 = r6.closestPoint(e11);
          i11.setMinimum(s10, e11);
        }
      else if (arguments[2] instanceof yn2 && arguments[0] instanceof te && arguments[1] instanceof A) {
        var a3 = arguments[0], l3 = arguments[1], u2 = arguments[2];
        xn2.computeDistance(a3.getExteriorRing(), l3, u2);
        for (var h2 = 0; h2 < a3.getNumInteriorRing(); h2++)
          xn2.computeDistance(a3.getInteriorRingN(h2), l3, u2);
      } else if (arguments[2] instanceof yn2 && arguments[0] instanceof ct && arguments[1] instanceof A) {
        var c4 = arguments[0], p10 = arguments[1], d4 = arguments[2];
        if (c4 instanceof Zt)
          xn2.computeDistance(c4, p10, d4);
        else if (c4 instanceof te)
          xn2.computeDistance(c4, p10, d4);
        else if (c4 instanceof jt2)
          for (var f2 = c4, g4 = 0; g4 < f2.getNumGeometries(); g4++) {
            var m4 = f2.getGeometryN(g4);
            xn2.computeDistance(m4, p10, d4);
          }
        else
          d4.setMinimum(c4.getCoordinate(), p10);
      } else if (arguments[2] instanceof yn2 && arguments[0] instanceof gi && arguments[1] instanceof A) {
        var v10 = arguments[0], y10 = arguments[1], x10 = arguments[2], _4 = v10.closestPoint(y10);
        x10.setMinimum(_4, y10);
      }
    };
    var _n2 = q(function(t50) {
      this._maxPtDist = new yn2(), this._inputGeom = t50 || null;
    }, "vi"), bn2 = { MaxPointDistanceFilter: { configurable: true }, MaxMidpointDistanceFilter: { configurable: true } };
    _n2.prototype.computeMaxMidpointDistance = function(t50) {
      var e11 = new En2(this._inputGeom);
      t50.apply(e11), this._maxPtDist.setMaximum(e11.getMaxPointDistance());
    }, _n2.prototype.computeMaxVertexDistance = function(t50) {
      var e11 = new Mn2(this._inputGeom);
      t50.apply(e11), this._maxPtDist.setMaximum(e11.getMaxPointDistance());
    }, _n2.prototype.findDistance = function(t50) {
      return this.computeMaxVertexDistance(t50), this.computeMaxMidpointDistance(t50), this._maxPtDist.getDistance();
    }, _n2.prototype.getDistancePoints = function() {
      return this._maxPtDist;
    }, _n2.prototype.interfaces_ = function() {
      return [];
    }, _n2.prototype.getClass = function() {
      return _n2;
    }, bn2.MaxPointDistanceFilter.get = function() {
      return Mn2;
    }, bn2.MaxMidpointDistanceFilter.get = function() {
      return En2;
    }, Object.defineProperties(_n2, bn2);
    var Mn2 = q(function(t50) {
      this._maxPtDist = new yn2(), this._minPtDist = new yn2(), this._geom = t50 || null;
    }, "Ei");
    Mn2.prototype.filter = function(t50) {
      this._minPtDist.initialize(), xn2.computeDistance(this._geom, t50, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist);
    }, Mn2.prototype.getMaxPointDistance = function() {
      return this._maxPtDist;
    }, Mn2.prototype.interfaces_ = function() {
      return [ft];
    }, Mn2.prototype.getClass = function() {
      return Mn2;
    };
    var En2 = q(function(t50) {
      this._maxPtDist = new yn2(), this._minPtDist = new yn2(), this._geom = t50 || null;
    }, "xi");
    En2.prototype.filter = function(t50, e11) {
      if (0 === e11)
        return null;
      var i11 = t50.getCoordinate(e11 - 1), n11 = t50.getCoordinate(e11), r6 = new A((i11.x + n11.x) / 2, (i11.y + n11.y) / 2);
      this._minPtDist.initialize(), xn2.computeDistance(this._geom, r6, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist);
    }, En2.prototype.isDone = function() {
      return false;
    }, En2.prototype.isGeometryChanged = function() {
      return false;
    }, En2.prototype.getMaxPointDistance = function() {
      return this._maxPtDist;
    }, En2.prototype.interfaces_ = function() {
      return [Vt2];
    }, En2.prototype.getClass = function() {
      return En2;
    };
    var wn2 = q(function(t50) {
      this._comps = t50 || null;
    }, "Ni");
    wn2.prototype.filter = function(t50) {
      t50 instanceof te && this._comps.add(t50);
    }, wn2.prototype.interfaces_ = function() {
      return [zt];
    }, wn2.prototype.getClass = function() {
      return wn2;
    }, wn2.getPolygons = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return wn2.getPolygons(t50, new wt2());
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return e11 instanceof te ? i11.add(e11) : e11 instanceof jt2 && e11.apply(new wn2(i11)), i11;
      }
    };
    var An2 = q(function() {
      if (this._lines = null, this._isForcedToLineString = false, 1 === arguments.length) {
        var t50 = arguments[0];
        this._lines = t50;
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        this._lines = e11, this._isForcedToLineString = i11;
      }
    }, "Ci");
    An2.prototype.filter = function(t50) {
      if (this._isForcedToLineString && t50 instanceof ie) {
        var e11 = t50.getFactory().createLineString(t50.getCoordinateSequence());
        return this._lines.add(e11), null;
      }
      t50 instanceof Zt && this._lines.add(t50);
    }, An2.prototype.setForceToLineString = function(t50) {
      this._isForcedToLineString = t50;
    }, An2.prototype.interfaces_ = function() {
      return [ht2];
    }, An2.prototype.getClass = function() {
      return An2;
    }, An2.getGeometry = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return t50.getFactory().buildGeometry(An2.getLines(t50));
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return e11.getFactory().buildGeometry(An2.getLines(e11, i11));
      }
    }, An2.getLines = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return An2.getLines(t50, false);
      }
      if (2 === arguments.length) {
        if (L(arguments[0], bt) && L(arguments[1], bt)) {
          for (var e11 = arguments[0], i11 = arguments[1], n11 = e11.iterator(); n11.hasNext(); ) {
            var r6 = n11.next();
            An2.getLines(r6, i11);
          }
          return i11;
        }
        if (arguments[0] instanceof ct && "boolean" == typeof arguments[1]) {
          var o6 = arguments[0], s10 = arguments[1], a3 = new wt2();
          return o6.apply(new An2(a3, s10)), a3;
        }
        if (arguments[0] instanceof ct && L(arguments[1], bt)) {
          var l3 = arguments[0], u2 = arguments[1];
          return l3 instanceof Zt ? u2.add(l3) : l3.apply(new An2(u2)), u2;
        }
      } else if (3 === arguments.length) {
        if ("boolean" == typeof arguments[2] && L(arguments[0], bt) && L(arguments[1], bt)) {
          for (var h2 = arguments[0], c4 = arguments[1], p10 = arguments[2], d4 = h2.iterator(); d4.hasNext(); ) {
            var f2 = d4.next();
            An2.getLines(f2, c4, p10);
          }
          return c4;
        }
        if ("boolean" == typeof arguments[2] && arguments[0] instanceof ct && L(arguments[1], bt)) {
          var g4 = arguments[0], m4 = arguments[1], v10 = arguments[2];
          return g4.apply(new An2(m4, v10)), m4;
        }
      }
    };
    var Sn2 = q(function() {
      if (this._boundaryRule = gt.OGC_SFS_BOUNDARY_RULE, this._isIn = null, this._numBoundaries = null, 0 !== arguments.length && 1 === arguments.length) {
        var t50 = arguments[0];
        if (null === t50)
          throw new x4("Rule must be non-null");
        this._boundaryRule = t50;
      }
    }, "Si");
    Sn2.prototype.locateInternal = function() {
      if (arguments[0] instanceof A && arguments[1] instanceof te) {
        var t50 = arguments[0], e11 = arguments[1];
        if (e11.isEmpty())
          return P.EXTERIOR;
        var i11 = e11.getExteriorRing(), n11 = this.locateInPolygonRing(t50, i11);
        if (n11 === P.EXTERIOR)
          return P.EXTERIOR;
        if (n11 === P.BOUNDARY)
          return P.BOUNDARY;
        for (var r6 = 0; r6 < e11.getNumInteriorRing(); r6++) {
          var o6 = e11.getInteriorRingN(r6), s10 = this.locateInPolygonRing(t50, o6);
          if (s10 === P.INTERIOR)
            return P.EXTERIOR;
          if (s10 === P.BOUNDARY)
            return P.BOUNDARY;
        }
        return P.INTERIOR;
      }
      if (arguments[0] instanceof A && arguments[1] instanceof Zt) {
        var a3 = arguments[0], l3 = arguments[1];
        if (!l3.getEnvelopeInternal().intersects(a3))
          return P.EXTERIOR;
        var u2 = l3.getCoordinates();
        return l3.isClosed() || !a3.equals(u2[0]) && !a3.equals(u2[u2.length - 1]) ? lt.isOnLine(a3, u2) ? P.INTERIOR : P.EXTERIOR : P.BOUNDARY;
      }
      if (arguments[0] instanceof A && arguments[1] instanceof Jt) {
        var h2 = arguments[0];
        return arguments[1].getCoordinate().equals2D(h2) ? P.INTERIOR : P.EXTERIOR;
      }
    }, Sn2.prototype.locateInPolygonRing = function(t50, e11) {
      return e11.getEnvelopeInternal().intersects(t50) ? lt.locatePointInRing(t50, e11.getCoordinates()) : P.EXTERIOR;
    }, Sn2.prototype.intersects = function(t50, e11) {
      return this.locate(t50, e11) !== P.EXTERIOR;
    }, Sn2.prototype.updateLocationInfo = function(t50) {
      t50 === P.INTERIOR && (this._isIn = true), t50 === P.BOUNDARY && this._numBoundaries++;
    }, Sn2.prototype.computeLocation = function(t50, e11) {
      if (e11 instanceof Jt && this.updateLocationInfo(this.locateInternal(t50, e11)), e11 instanceof Zt)
        this.updateLocationInfo(this.locateInternal(t50, e11));
      else if (e11 instanceof te)
        this.updateLocationInfo(this.locateInternal(t50, e11));
      else if (e11 instanceof Gt2)
        for (var i11 = e11, n11 = 0; n11 < i11.getNumGeometries(); n11++) {
          var r6 = i11.getGeometryN(n11);
          this.updateLocationInfo(this.locateInternal(t50, r6));
        }
      else if (e11 instanceof ne)
        for (var o6 = e11, s10 = 0; s10 < o6.getNumGeometries(); s10++) {
          var a3 = o6.getGeometryN(s10);
          this.updateLocationInfo(this.locateInternal(t50, a3));
        }
      else if (e11 instanceof jt2)
        for (var l3 = new zi(e11); l3.hasNext(); ) {
          var u2 = l3.next();
          u2 !== e11 && this.computeLocation(t50, u2);
        }
    }, Sn2.prototype.locate = function(t50, e11) {
      return e11.isEmpty() ? P.EXTERIOR : e11 instanceof Zt || e11 instanceof te ? this.locateInternal(t50, e11) : (this._isIn = false, this._numBoundaries = 0, this.computeLocation(t50, e11), this._boundaryRule.isInBoundary(this._numBoundaries) ? P.BOUNDARY : this._numBoundaries > 0 || this._isIn ? P.INTERIOR : P.EXTERIOR);
    }, Sn2.prototype.interfaces_ = function() {
      return [];
    }, Sn2.prototype.getClass = function() {
      return Sn2;
    };
    var Tn2 = q(function t50() {
      if (this._component = null, this._segIndex = null, this._pt = null, 2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        t50.call(this, e11, t50.INSIDE_AREA, i11);
      } else if (3 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
        this._component = n11, this._segIndex = r6, this._pt = o6;
      }
    }, "t"), Cn2 = { INSIDE_AREA: { configurable: true } };
    Tn2.prototype.isInsideArea = function() {
      return this._segIndex === Tn2.INSIDE_AREA;
    }, Tn2.prototype.getCoordinate = function() {
      return this._pt;
    }, Tn2.prototype.getGeometryComponent = function() {
      return this._component;
    }, Tn2.prototype.getSegmentIndex = function() {
      return this._segIndex;
    }, Tn2.prototype.interfaces_ = function() {
      return [];
    }, Tn2.prototype.getClass = function() {
      return Tn2;
    }, Cn2.INSIDE_AREA.get = function() {
      return -1;
    }, Object.defineProperties(Tn2, Cn2);
    var Pn2 = q(function(t50) {
      this._pts = t50 || null;
    }, "wi");
    Pn2.prototype.filter = function(t50) {
      t50 instanceof Jt && this._pts.add(t50);
    }, Pn2.prototype.interfaces_ = function() {
      return [zt];
    }, Pn2.prototype.getClass = function() {
      return Pn2;
    }, Pn2.getPoints = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return t50 instanceof Jt ? ti2.singletonList(t50) : Pn2.getPoints(t50, new wt2());
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return e11 instanceof Jt ? i11.add(e11) : e11 instanceof jt2 && e11.apply(new Pn2(i11)), i11;
      }
    };
    var In2 = q(function() {
      this._locations = null;
      var t50 = arguments[0];
      this._locations = t50;
    }, "Oi");
    In2.prototype.filter = function(t50) {
      (t50 instanceof Jt || t50 instanceof Zt || t50 instanceof te) && this._locations.add(new Tn2(t50, 0, t50.getCoordinate()));
    }, In2.prototype.interfaces_ = function() {
      return [zt];
    }, In2.prototype.getClass = function() {
      return In2;
    }, In2.getLocations = function(t50) {
      var e11 = new wt2();
      return t50.apply(new In2(e11)), e11;
    };
    var Ln2 = q(function() {
      if (this._geom = null, this._terminateDistance = 0, this._ptLocator = new Sn2(), this._minDistanceLocation = null, this._minDistance = _.MAX_VALUE, 2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        this._geom = [t50, e11], this._terminateDistance = 0;
      } else if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2];
        this._geom = new Array(2).fill(null), this._geom[0] = i11, this._geom[1] = n11, this._terminateDistance = r6;
      }
    }, "Ti");
    Ln2.prototype.computeContainmentDistance = function() {
      if (0 === arguments.length) {
        var t50 = new Array(2).fill(null);
        if (this.computeContainmentDistance(0, t50), this._minDistance <= this._terminateDistance)
          return null;
        this.computeContainmentDistance(1, t50);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = 1 - e11, r6 = wn2.getPolygons(this._geom[e11]);
        if (r6.size() > 0) {
          var o6 = In2.getLocations(this._geom[n11]);
          if (this.computeContainmentDistance(o6, r6, i11), this._minDistance <= this._terminateDistance)
            return this._minDistanceLocation[n11] = i11[0], this._minDistanceLocation[e11] = i11[1], null;
        }
      } else if (3 === arguments.length) {
        if (arguments[2] instanceof Array && L(arguments[0], Et) && L(arguments[1], Et)) {
          for (var s10 = arguments[0], a3 = arguments[1], l3 = arguments[2], u2 = 0; u2 < s10.size(); u2++)
            for (var h2 = s10.get(u2), c4 = 0; c4 < a3.size(); c4++)
              if (this.computeContainmentDistance(h2, a3.get(c4), l3), this._minDistance <= this._terminateDistance)
                return null;
        } else if (arguments[2] instanceof Array && arguments[0] instanceof Tn2 && arguments[1] instanceof te) {
          var p10 = arguments[0], d4 = arguments[1], f2 = arguments[2], g4 = p10.getCoordinate();
          if (P.EXTERIOR !== this._ptLocator.locate(g4, d4))
            return this._minDistance = 0, f2[0] = p10, f2[1] = new Tn2(d4, g4), null;
        }
      }
    }, Ln2.prototype.computeMinDistanceLinesPoints = function(t50, e11, i11) {
      for (var n11 = 0; n11 < t50.size(); n11++)
        for (var r6 = t50.get(n11), o6 = 0; o6 < e11.size(); o6++) {
          var s10 = e11.get(o6);
          if (this.computeMinDistance(r6, s10, i11), this._minDistance <= this._terminateDistance)
            return null;
        }
    }, Ln2.prototype.computeFacetDistance = function() {
      var t50 = new Array(2).fill(null), e11 = An2.getLines(this._geom[0]), i11 = An2.getLines(this._geom[1]), n11 = Pn2.getPoints(this._geom[0]), r6 = Pn2.getPoints(this._geom[1]);
      return this.computeMinDistanceLines(e11, i11, t50), this.updateMinDistance(t50, false), this._minDistance <= this._terminateDistance ? null : (t50[0] = null, t50[1] = null, this.computeMinDistanceLinesPoints(e11, r6, t50), this.updateMinDistance(t50, false), this._minDistance <= this._terminateDistance ? null : (t50[0] = null, t50[1] = null, this.computeMinDistanceLinesPoints(i11, n11, t50), this.updateMinDistance(t50, true), this._minDistance <= this._terminateDistance ? null : (t50[0] = null, t50[1] = null, this.computeMinDistancePoints(n11, r6, t50), void this.updateMinDistance(t50, false))));
    }, Ln2.prototype.nearestLocations = function() {
      return this.computeMinDistance(), this._minDistanceLocation;
    }, Ln2.prototype.updateMinDistance = function(t50, e11) {
      if (null === t50[0])
        return null;
      e11 ? (this._minDistanceLocation[0] = t50[1], this._minDistanceLocation[1] = t50[0]) : (this._minDistanceLocation[0] = t50[0], this._minDistanceLocation[1] = t50[1]);
    }, Ln2.prototype.nearestPoints = function() {
      return this.computeMinDistance(), [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()];
    }, Ln2.prototype.computeMinDistance = function() {
      if (0 === arguments.length) {
        if (null !== this._minDistanceLocation || (this._minDistanceLocation = new Array(2).fill(null), this.computeContainmentDistance(), this._minDistance <= this._terminateDistance))
          return null;
        this.computeFacetDistance();
      } else if (3 === arguments.length) {
        if (arguments[2] instanceof Array && arguments[0] instanceof Zt && arguments[1] instanceof Jt) {
          var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
          if (t50.getEnvelopeInternal().distance(e11.getEnvelopeInternal()) > this._minDistance)
            return null;
          for (var n11 = t50.getCoordinates(), r6 = e11.getCoordinate(), o6 = 0; o6 < n11.length - 1; o6++) {
            var s10 = lt.distancePointLine(r6, n11[o6], n11[o6 + 1]);
            if (s10 < this._minDistance) {
              this._minDistance = s10;
              var a3 = new gi(n11[o6], n11[o6 + 1]).closestPoint(r6);
              i11[0] = new Tn2(t50, o6, a3), i11[1] = new Tn2(e11, 0, r6);
            }
            if (this._minDistance <= this._terminateDistance)
              return null;
          }
        } else if (arguments[2] instanceof Array && arguments[0] instanceof Zt && arguments[1] instanceof Zt) {
          var l3 = arguments[0], u2 = arguments[1], h2 = arguments[2];
          if (l3.getEnvelopeInternal().distance(u2.getEnvelopeInternal()) > this._minDistance)
            return null;
          for (var c4 = l3.getCoordinates(), p10 = u2.getCoordinates(), d4 = 0; d4 < c4.length - 1; d4++)
            for (var f2 = 0; f2 < p10.length - 1; f2++) {
              var g4 = lt.distanceLineLine(c4[d4], c4[d4 + 1], p10[f2], p10[f2 + 1]);
              if (g4 < this._minDistance) {
                this._minDistance = g4;
                var m4 = new gi(c4[d4], c4[d4 + 1]), v10 = new gi(p10[f2], p10[f2 + 1]), y10 = m4.closestPoints(v10);
                h2[0] = new Tn2(l3, d4, y10[0]), h2[1] = new Tn2(u2, f2, y10[1]);
              }
              if (this._minDistance <= this._terminateDistance)
                return null;
            }
        }
      }
    }, Ln2.prototype.computeMinDistancePoints = function(t50, e11, i11) {
      for (var n11 = 0; n11 < t50.size(); n11++)
        for (var r6 = t50.get(n11), o6 = 0; o6 < e11.size(); o6++) {
          var s10 = e11.get(o6), a3 = r6.getCoordinate().distance(s10.getCoordinate());
          if (a3 < this._minDistance && (this._minDistance = a3, i11[0] = new Tn2(r6, 0, r6.getCoordinate()), i11[1] = new Tn2(s10, 0, s10.getCoordinate())), this._minDistance <= this._terminateDistance)
            return null;
        }
    }, Ln2.prototype.distance = function() {
      if (null === this._geom[0] || null === this._geom[1])
        throw new x4("null geometries are not supported");
      return this._geom[0].isEmpty() || this._geom[1].isEmpty() ? 0 : (this.computeMinDistance(), this._minDistance);
    }, Ln2.prototype.computeMinDistanceLines = function(t50, e11, i11) {
      for (var n11 = 0; n11 < t50.size(); n11++)
        for (var r6 = t50.get(n11), o6 = 0; o6 < e11.size(); o6++) {
          var s10 = e11.get(o6);
          if (this.computeMinDistance(r6, s10, i11), this._minDistance <= this._terminateDistance)
            return null;
        }
    }, Ln2.prototype.interfaces_ = function() {
      return [];
    }, Ln2.prototype.getClass = function() {
      return Ln2;
    }, Ln2.distance = function(t50, e11) {
      return new Ln2(t50, e11).distance();
    }, Ln2.isWithinDistance = function(t50, e11, i11) {
      return new Ln2(t50, e11, i11).distance() <= i11;
    }, Ln2.nearestPoints = function(t50, e11) {
      return new Ln2(t50, e11).nearestPoints();
    };
    var On2 = q(function() {
      this._pt = [new A(), new A()], this._distance = _.NaN, this._isNull = true;
    }, "Ri");
    On2.prototype.getCoordinates = function() {
      return this._pt;
    }, On2.prototype.getCoordinate = function(t50) {
      return this._pt[t50];
    }, On2.prototype.setMinimum = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setMinimum(t50._pt[0], t50._pt[1]);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        if (this._isNull)
          return this.initialize(e11, i11), null;
        var n11 = e11.distance(i11);
        n11 < this._distance && this.initialize(e11, i11, n11);
      }
    }, On2.prototype.initialize = function() {
      if (0 === arguments.length)
        this._isNull = true;
      else if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        this._pt[0].setCoordinate(t50), this._pt[1].setCoordinate(e11), this._distance = t50.distance(e11), this._isNull = false;
      } else if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2];
        this._pt[0].setCoordinate(i11), this._pt[1].setCoordinate(n11), this._distance = r6, this._isNull = false;
      }
    }, On2.prototype.toString = function() {
      return $.toLineString(this._pt[0], this._pt[1]);
    }, On2.prototype.getDistance = function() {
      return this._distance;
    }, On2.prototype.setMaximum = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        this.setMaximum(t50._pt[0], t50._pt[1]);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        if (this._isNull)
          return this.initialize(e11, i11), null;
        var n11 = e11.distance(i11);
        n11 > this._distance && this.initialize(e11, i11, n11);
      }
    }, On2.prototype.interfaces_ = function() {
      return [];
    }, On2.prototype.getClass = function() {
      return On2;
    };
    var Nn2 = q(function() {
    }, "Pi");
    Nn2.prototype.interfaces_ = function() {
      return [];
    }, Nn2.prototype.getClass = function() {
      return Nn2;
    }, Nn2.computeDistance = function() {
      if (arguments[2] instanceof On2 && arguments[0] instanceof Zt && arguments[1] instanceof A)
        for (var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2], n11 = new gi(), r6 = t50.getCoordinates(), o6 = 0; o6 < r6.length - 1; o6++) {
          n11.setCoordinates(r6[o6], r6[o6 + 1]);
          var s10 = n11.closestPoint(e11);
          i11.setMinimum(s10, e11);
        }
      else if (arguments[2] instanceof On2 && arguments[0] instanceof te && arguments[1] instanceof A) {
        var a3 = arguments[0], l3 = arguments[1], u2 = arguments[2];
        Nn2.computeDistance(a3.getExteriorRing(), l3, u2);
        for (var h2 = 0; h2 < a3.getNumInteriorRing(); h2++)
          Nn2.computeDistance(a3.getInteriorRingN(h2), l3, u2);
      } else if (arguments[2] instanceof On2 && arguments[0] instanceof ct && arguments[1] instanceof A) {
        var c4 = arguments[0], p10 = arguments[1], d4 = arguments[2];
        if (c4 instanceof Zt)
          Nn2.computeDistance(c4, p10, d4);
        else if (c4 instanceof te)
          Nn2.computeDistance(c4, p10, d4);
        else if (c4 instanceof jt2)
          for (var f2 = c4, g4 = 0; g4 < f2.getNumGeometries(); g4++) {
            var m4 = f2.getGeometryN(g4);
            Nn2.computeDistance(m4, p10, d4);
          }
        else
          d4.setMinimum(c4.getCoordinate(), p10);
      } else if (arguments[2] instanceof On2 && arguments[0] instanceof gi && arguments[1] instanceof A) {
        var v10 = arguments[0], y10 = arguments[1], x10 = arguments[2], _4 = v10.closestPoint(y10);
        x10.setMinimum(_4, y10);
      }
    };
    var Dn2 = q(function() {
      this._g0 = null, this._g1 = null, this._ptDist = new On2(), this._densifyFrac = 0;
      var t50 = arguments[0], e11 = arguments[1];
      this._g0 = t50, this._g1 = e11;
    }, "Di"), Rn2 = { MaxPointDistanceFilter: { configurable: true }, MaxDensifiedByFractionDistanceFilter: { configurable: true } };
    Dn2.prototype.getCoordinates = function() {
      return this._ptDist.getCoordinates();
    }, Dn2.prototype.setDensifyFraction = function(t50) {
      if (t50 > 1 || t50 <= 0)
        throw new x4("Fraction is not in range (0.0 - 1.0]");
      this._densifyFrac = t50;
    }, Dn2.prototype.compute = function(t50, e11) {
      this.computeOrientedDistance(t50, e11, this._ptDist), this.computeOrientedDistance(e11, t50, this._ptDist);
    }, Dn2.prototype.distance = function() {
      return this.compute(this._g0, this._g1), this._ptDist.getDistance();
    }, Dn2.prototype.computeOrientedDistance = function(t50, e11, i11) {
      var n11 = new qn2(e11);
      if (t50.apply(n11), i11.setMaximum(n11.getMaxPointDistance()), this._densifyFrac > 0) {
        var r6 = new Bn2(e11, this._densifyFrac);
        t50.apply(r6), i11.setMaximum(r6.getMaxPointDistance());
      }
    }, Dn2.prototype.orientedDistance = function() {
      return this.computeOrientedDistance(this._g0, this._g1, this._ptDist), this._ptDist.getDistance();
    }, Dn2.prototype.interfaces_ = function() {
      return [];
    }, Dn2.prototype.getClass = function() {
      return Dn2;
    }, Dn2.distance = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1];
        return new Dn2(t50, e11).distance();
      }
      if (3 === arguments.length) {
        var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2], o6 = new Dn2(i11, n11);
        return o6.setDensifyFraction(r6), o6.distance();
      }
    }, Rn2.MaxPointDistanceFilter.get = function() {
      return qn2;
    }, Rn2.MaxDensifiedByFractionDistanceFilter.get = function() {
      return Bn2;
    }, Object.defineProperties(Dn2, Rn2);
    var qn2 = q(function() {
      this._maxPtDist = new On2(), this._minPtDist = new On2(), this._euclideanDist = new Nn2(), this._geom = null;
      var t50 = arguments[0];
      this._geom = t50;
    }, "Ai");
    qn2.prototype.filter = function(t50) {
      this._minPtDist.initialize(), Nn2.computeDistance(this._geom, t50, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist);
    }, qn2.prototype.getMaxPointDistance = function() {
      return this._maxPtDist;
    }, qn2.prototype.interfaces_ = function() {
      return [ft];
    }, qn2.prototype.getClass = function() {
      return qn2;
    };
    var Bn2 = q(function() {
      this._maxPtDist = new On2(), this._minPtDist = new On2(), this._geom = null, this._numSubSegs = 0;
      var t50 = arguments[0], e11 = arguments[1];
      this._geom = t50, this._numSubSegs = Math.trunc(Math.round(1 / e11));
    }, "Fi");
    Bn2.prototype.filter = function(t50, e11) {
      if (0 === e11)
        return null;
      for (var i11 = t50.getCoordinate(e11 - 1), n11 = t50.getCoordinate(e11), r6 = (n11.x - i11.x) / this._numSubSegs, o6 = (n11.y - i11.y) / this._numSubSegs, s10 = 0; s10 < this._numSubSegs; s10++) {
        var a3 = i11.x + s10 * r6, l3 = i11.y + s10 * o6, u2 = new A(a3, l3);
        this._minPtDist.initialize(), Nn2.computeDistance(this._geom, u2, this._minPtDist), this._maxPtDist.setMaximum(this._minPtDist);
      }
    }, Bn2.prototype.isDone = function() {
      return false;
    }, Bn2.prototype.isGeometryChanged = function() {
      return false;
    }, Bn2.prototype.getMaxPointDistance = function() {
      return this._maxPtDist;
    }, Bn2.prototype.interfaces_ = function() {
      return [Vt2];
    }, Bn2.prototype.getClass = function() {
      return Bn2;
    };
    var kn2 = q(function(t50, e11, i11) {
      this._minValidDistance = null, this._maxValidDistance = null, this._minDistanceFound = null, this._maxDistanceFound = null, this._isValid = true, this._errMsg = null, this._errorLocation = null, this._errorIndicator = null, this._input = t50 || null, this._bufDistance = e11 || null, this._result = i11 || null;
    }, "Gi"), Fn2 = { VERBOSE: { configurable: true }, MAX_DISTANCE_DIFF_FRAC: { configurable: true } };
    kn2.prototype.checkMaximumDistance = function(t50, e11, i11) {
      var n11 = new Dn2(e11, t50);
      if (n11.setDensifyFraction(0.25), this._maxDistanceFound = n11.orientedDistance(), this._maxDistanceFound > i11) {
        this._isValid = false;
        var r6 = n11.getCoordinates();
        this._errorLocation = r6[1], this._errorIndicator = t50.getFactory().createLineString(r6), this._errMsg = "Distance between buffer curve and input is too large (" + this._maxDistanceFound + " at " + $.toLineString(r6[0], r6[1]) + ")";
      }
    }, kn2.prototype.isValid = function() {
      var t50 = Math.abs(this._bufDistance), e11 = kn2.MAX_DISTANCE_DIFF_FRAC * t50;
      return this._minValidDistance = t50 - e11, this._maxValidDistance = t50 + e11, !(!this._input.isEmpty() && !this._result.isEmpty()) || (this._bufDistance > 0 ? this.checkPositiveValid() : this.checkNegativeValid(), kn2.VERBOSE && W.out.println("Min Dist= " + this._minDistanceFound + "  err= " + (1 - this._minDistanceFound / this._bufDistance) + "  Max Dist= " + this._maxDistanceFound + "  err= " + (this._maxDistanceFound / this._bufDistance - 1)), this._isValid);
    }, kn2.prototype.checkNegativeValid = function() {
      if (!(this._input instanceof te || this._input instanceof ne || this._input instanceof jt2))
        return null;
      var t50 = this.getPolygonLines(this._input);
      if (this.checkMinimumDistance(t50, this._result, this._minValidDistance), !this._isValid)
        return null;
      this.checkMaximumDistance(t50, this._result, this._maxValidDistance);
    }, kn2.prototype.getErrorIndicator = function() {
      return this._errorIndicator;
    }, kn2.prototype.checkMinimumDistance = function(t50, e11, i11) {
      var n11 = new Ln2(t50, e11, i11);
      if (this._minDistanceFound = n11.distance(), this._minDistanceFound < i11) {
        this._isValid = false;
        var r6 = n11.nearestPoints();
        this._errorLocation = n11.nearestPoints()[1], this._errorIndicator = t50.getFactory().createLineString(r6), this._errMsg = "Distance between buffer curve and input is too small (" + this._minDistanceFound + " at " + $.toLineString(r6[0], r6[1]) + " )";
      }
    }, kn2.prototype.checkPositiveValid = function() {
      var t50 = this._result.getBoundary();
      if (this.checkMinimumDistance(this._input, t50, this._minValidDistance), !this._isValid)
        return null;
      this.checkMaximumDistance(this._input, t50, this._maxValidDistance);
    }, kn2.prototype.getErrorLocation = function() {
      return this._errorLocation;
    }, kn2.prototype.getPolygonLines = function(t50) {
      for (var e11 = new wt2(), i11 = new An2(e11), n11 = wn2.getPolygons(t50).iterator(); n11.hasNext(); )
        n11.next().apply(i11);
      return t50.getFactory().buildGeometry(e11);
    }, kn2.prototype.getErrorMessage = function() {
      return this._errMsg;
    }, kn2.prototype.interfaces_ = function() {
      return [];
    }, kn2.prototype.getClass = function() {
      return kn2;
    }, Fn2.VERBOSE.get = function() {
      return false;
    }, Fn2.MAX_DISTANCE_DIFF_FRAC.get = function() {
      return 0.012;
    }, Object.defineProperties(kn2, Fn2);
    var Un2 = q(function(t50, e11, i11) {
      this._isValid = true, this._errorMsg = null, this._errorLocation = null, this._errorIndicator = null, this._input = t50 || null, this._distance = e11 || null, this._result = i11 || null;
    }, "Bi"), zn = { VERBOSE: { configurable: true }, MAX_ENV_DIFF_FRAC: { configurable: true } };
    Un2.prototype.isValid = function() {
      return this.checkPolygonal(), this._isValid ? (this.checkExpectedEmpty(), this._isValid ? (this.checkEnvelope(), this._isValid ? (this.checkArea(), this._isValid ? (this.checkDistance(), this._isValid) : this._isValid) : this._isValid) : this._isValid) : this._isValid;
    }, Un2.prototype.checkEnvelope = function() {
      if (this._distance < 0)
        return null;
      var t50 = this._distance * Un2.MAX_ENV_DIFF_FRAC;
      0 === t50 && (t50 = 1e-3);
      var e11 = new Y(this._input.getEnvelopeInternal());
      e11.expandBy(this._distance);
      var i11 = new Y(this._result.getEnvelopeInternal());
      i11.expandBy(t50), i11.contains(e11) || (this._isValid = false, this._errorMsg = "Buffer envelope is incorrect", this._errorIndicator = this._input.getFactory().toGeometry(i11)), this.report("Envelope");
    }, Un2.prototype.checkDistance = function() {
      var t50 = new kn2(this._input, this._distance, this._result);
      t50.isValid() || (this._isValid = false, this._errorMsg = t50.getErrorMessage(), this._errorLocation = t50.getErrorLocation(), this._errorIndicator = t50.getErrorIndicator()), this.report("Distance");
    }, Un2.prototype.checkArea = function() {
      var t50 = this._input.getArea(), e11 = this._result.getArea();
      this._distance > 0 && t50 > e11 && (this._isValid = false, this._errorMsg = "Area of positive buffer is smaller than input", this._errorIndicator = this._result), this._distance < 0 && t50 < e11 && (this._isValid = false, this._errorMsg = "Area of negative buffer is larger than input", this._errorIndicator = this._result), this.report("Area");
    }, Un2.prototype.checkPolygonal = function() {
      this._result instanceof te || this._result instanceof ne || (this._isValid = false), this._errorMsg = "Result is not polygonal", this._errorIndicator = this._result, this.report("Polygonal");
    }, Un2.prototype.getErrorIndicator = function() {
      return this._errorIndicator;
    }, Un2.prototype.getErrorLocation = function() {
      return this._errorLocation;
    }, Un2.prototype.checkExpectedEmpty = function() {
      return this._input.getDimension() >= 2 || this._distance > 0 ? null : (this._result.isEmpty() || (this._isValid = false, this._errorMsg = "Result is non-empty", this._errorIndicator = this._result), void this.report("ExpectedEmpty"));
    }, Un2.prototype.report = function(t50) {
      if (!Un2.VERBOSE)
        return null;
      W.out.println("Check " + t50 + ": " + (this._isValid ? "passed" : "FAILED"));
    }, Un2.prototype.getErrorMessage = function() {
      return this._errorMsg;
    }, Un2.prototype.interfaces_ = function() {
      return [];
    }, Un2.prototype.getClass = function() {
      return Un2;
    }, Un2.isValidMsg = function(t50, e11, i11) {
      var n11 = new Un2(t50, e11, i11);
      return n11.isValid() ? null : n11.getErrorMessage();
    }, Un2.isValid = function(t50, e11, i11) {
      return !!new Un2(t50, e11, i11).isValid();
    }, zn.VERBOSE.get = function() {
      return false;
    }, zn.MAX_ENV_DIFF_FRAC.get = function() {
      return 0.012;
    }, Object.defineProperties(Un2, zn);
    var Vn = q(function() {
      this._pts = null, this._data = null;
      var t50 = arguments[0], e11 = arguments[1];
      this._pts = t50, this._data = e11;
    }, "Ui");
    Vn.prototype.getCoordinates = function() {
      return this._pts;
    }, Vn.prototype.size = function() {
      return this._pts.length;
    }, Vn.prototype.getCoordinate = function(t50) {
      return this._pts[t50];
    }, Vn.prototype.isClosed = function() {
      return this._pts[0].equals(this._pts[this._pts.length - 1]);
    }, Vn.prototype.getSegmentOctant = function(t50) {
      return t50 === this._pts.length - 1 ? -1 : ci2.octant(this.getCoordinate(t50), this.getCoordinate(t50 + 1));
    }, Vn.prototype.setData = function(t50) {
      this._data = t50;
    }, Vn.prototype.getData = function() {
      return this._data;
    }, Vn.prototype.toString = function() {
      return $.toLineString(new ue2(this._pts));
    }, Vn.prototype.interfaces_ = function() {
      return [pi];
    }, Vn.prototype.getClass = function() {
      return Vn;
    };
    var jn = q(function() {
      this._findAllIntersections = false, this._isCheckEndSegmentsOnly = false, this._li = null, this._interiorIntersection = null, this._intSegments = null, this._intersections = new wt2(), this._intersectionCount = 0, this._keepIntersections = true;
      var t50 = arguments[0];
      this._li = t50, this._interiorIntersection = null;
    }, "zi");
    jn.prototype.getInteriorIntersection = function() {
      return this._interiorIntersection;
    }, jn.prototype.setCheckEndSegmentsOnly = function(t50) {
      this._isCheckEndSegmentsOnly = t50;
    }, jn.prototype.getIntersectionSegments = function() {
      return this._intSegments;
    }, jn.prototype.count = function() {
      return this._intersectionCount;
    }, jn.prototype.getIntersections = function() {
      return this._intersections;
    }, jn.prototype.setFindAllIntersections = function(t50) {
      this._findAllIntersections = t50;
    }, jn.prototype.setKeepIntersections = function(t50) {
      this._keepIntersections = t50;
    }, jn.prototype.processIntersections = function(t50, e11, i11, n11) {
      if (!this._findAllIntersections && this.hasIntersection() || t50 === i11 && e11 === n11 || this._isCheckEndSegmentsOnly && !this.isEndSegment(t50, e11) && !this.isEndSegment(i11, n11))
        return null;
      var r6 = t50.getCoordinates()[e11], o6 = t50.getCoordinates()[e11 + 1], s10 = i11.getCoordinates()[n11], a3 = i11.getCoordinates()[n11 + 1];
      this._li.computeIntersection(r6, o6, s10, a3), this._li.hasIntersection() && this._li.isInteriorIntersection() && (this._intSegments = new Array(4).fill(null), this._intSegments[0] = r6, this._intSegments[1] = o6, this._intSegments[2] = s10, this._intSegments[3] = a3, this._interiorIntersection = this._li.getIntersection(0), this._keepIntersections && this._intersections.add(this._interiorIntersection), this._intersectionCount++);
    }, jn.prototype.isEndSegment = function(t50, e11) {
      return 0 === e11 || e11 >= t50.size() - 2;
    }, jn.prototype.hasIntersection = function() {
      return null !== this._interiorIntersection;
    }, jn.prototype.isDone = function() {
      return !this._findAllIntersections && null !== this._interiorIntersection;
    }, jn.prototype.interfaces_ = function() {
      return [Xi];
    }, jn.prototype.getClass = function() {
      return jn;
    }, jn.createAllIntersectionsFinder = function(t50) {
      var e11 = new jn(t50);
      return e11.setFindAllIntersections(true), e11;
    }, jn.createAnyIntersectionFinder = function(t50) {
      return new jn(t50);
    }, jn.createIntersectionCounter = function(t50) {
      var e11 = new jn(t50);
      return e11.setFindAllIntersections(true), e11.setKeepIntersections(false), e11;
    };
    var Gn2 = q(function() {
      this._li = new ot(), this._segStrings = null, this._findAllIntersections = false, this._segInt = null, this._isValid = true;
      var t50 = arguments[0];
      this._segStrings = t50;
    }, "Xi");
    Gn2.prototype.execute = function() {
      if (null !== this._segInt)
        return null;
      this.checkInteriorIntersections();
    }, Gn2.prototype.getIntersections = function() {
      return this._segInt.getIntersections();
    }, Gn2.prototype.isValid = function() {
      return this.execute(), this._isValid;
    }, Gn2.prototype.setFindAllIntersections = function(t50) {
      this._findAllIntersections = t50;
    }, Gn2.prototype.checkInteriorIntersections = function() {
      this._isValid = true, this._segInt = new jn(this._li), this._segInt.setFindAllIntersections(this._findAllIntersections);
      var t50 = new Mi();
      if (t50.setSegmentIntersector(this._segInt), t50.computeNodes(this._segStrings), this._segInt.hasIntersection())
        return this._isValid = false, null;
    }, Gn2.prototype.checkValid = function() {
      if (this.execute(), !this._isValid)
        throw new Pe(this.getErrorMessage(), this._segInt.getInteriorIntersection());
    }, Gn2.prototype.getErrorMessage = function() {
      if (this._isValid)
        return "no intersections found";
      var t50 = this._segInt.getIntersectionSegments();
      return "found non-noded intersection between " + $.toLineString(t50[0], t50[1]) + " and " + $.toLineString(t50[2], t50[3]);
    }, Gn2.prototype.interfaces_ = function() {
      return [];
    }, Gn2.prototype.getClass = function() {
      return Gn2;
    }, Gn2.computeIntersections = function(t50) {
      var e11 = new Gn2(t50);
      return e11.setFindAllIntersections(true), e11.isValid(), e11.getIntersections();
    };
    var Wn2 = q(function t50() {
      this._nv = null;
      var e11 = arguments[0];
      this._nv = new Gn2(t50.toSegmentStrings(e11));
    }, "t");
    Wn2.prototype.checkValid = function() {
      this._nv.checkValid();
    }, Wn2.prototype.interfaces_ = function() {
      return [];
    }, Wn2.prototype.getClass = function() {
      return Wn2;
    }, Wn2.toSegmentStrings = function(t50) {
      for (var e11 = new wt2(), i11 = t50.iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        e11.add(new Vn(n11.getCoordinates(), n11));
      }
      return e11;
    }, Wn2.checkValid = function(t50) {
      new Wn2(t50).checkValid();
    };
    var Hn = q(function(t50) {
      this._mapOp = t50;
    }, "ki");
    Hn.prototype.map = function(t50) {
      for (var e11 = new wt2(), i11 = 0; i11 < t50.getNumGeometries(); i11++) {
        var n11 = this._mapOp.map(t50.getGeometryN(i11));
        n11.isEmpty() || e11.add(n11);
      }
      return t50.getFactory().createGeometryCollection(ye.toGeometryArray(e11));
    }, Hn.prototype.interfaces_ = function() {
      return [];
    }, Hn.prototype.getClass = function() {
      return Hn;
    }, Hn.map = function(t50, e11) {
      return new Hn(e11).map(t50);
    };
    var Yn2 = q(function() {
      this._op = null, this._geometryFactory = null, this._ptLocator = null, this._lineEdgesList = new wt2(), this._resultLineList = new wt2();
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
      this._op = t50, this._geometryFactory = e11, this._ptLocator = i11;
    }, "ji");
    Yn2.prototype.collectLines = function(t50) {
      for (var e11 = this._op.getGraph().getEdgeEnds().iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        this.collectLineEdge(i11, t50, this._lineEdgesList), this.collectBoundaryTouchEdge(i11, t50, this._lineEdgesList);
      }
    }, Yn2.prototype.labelIsolatedLine = function(t50, e11) {
      var i11 = this._ptLocator.locate(t50.getCoordinate(), this._op.getArgGeometry(e11));
      t50.getLabel().setLocation(e11, i11);
    }, Yn2.prototype.build = function(t50) {
      return this.findCoveredLineEdges(), this.collectLines(t50), this.buildLines(t50), this._resultLineList;
    }, Yn2.prototype.collectLineEdge = function(t50, e11, i11) {
      var n11 = t50.getLabel(), r6 = t50.getEdge();
      t50.isLineEdge() && (t50.isVisited() || !Tr.isResultOfOp(n11, e11) || r6.isCovered() || (i11.add(r6), t50.setVisitedEdge(true)));
    }, Yn2.prototype.findCoveredLineEdges = function() {
      for (var t50 = this._op.getGraph().getNodes().iterator(); t50.hasNext(); )
        t50.next().getEdges().findCoveredLineEdges();
      for (var e11 = this._op.getGraph().getEdgeEnds().iterator(); e11.hasNext(); ) {
        var i11 = e11.next(), n11 = i11.getEdge();
        if (i11.isLineEdge() && !n11.isCoveredSet()) {
          var r6 = this._op.isCoveredByA(i11.getCoordinate());
          n11.setCovered(r6);
        }
      }
    }, Yn2.prototype.labelIsolatedLines = function(t50) {
      for (var e11 = t50.iterator(); e11.hasNext(); ) {
        var i11 = e11.next(), n11 = i11.getLabel();
        i11.isIsolated() && (n11.isNull(0) ? this.labelIsolatedLine(i11, 0) : this.labelIsolatedLine(i11, 1));
      }
    }, Yn2.prototype.buildLines = function(t50) {
      for (var e11 = this._lineEdgesList.iterator(); e11.hasNext(); ) {
        var i11 = e11.next(), n11 = this._geometryFactory.createLineString(i11.getCoordinates());
        this._resultLineList.add(n11), i11.setInResult(true);
      }
    }, Yn2.prototype.collectBoundaryTouchEdge = function(t50, e11, i11) {
      var n11 = t50.getLabel();
      return t50.isLineEdge() || t50.isVisited() || t50.isInteriorAreaEdge() || t50.getEdge().isInResult() ? null : (it.isTrue(!(t50.isInResult() || t50.getSym().isInResult()) || !t50.getEdge().isInResult()), void (Tr.isResultOfOp(n11, e11) && e11 === Tr.INTERSECTION && (i11.add(t50.getEdge()), t50.setVisitedEdge(true))));
    }, Yn2.prototype.interfaces_ = function() {
      return [];
    }, Yn2.prototype.getClass = function() {
      return Yn2;
    };
    var Xn2 = q(function() {
      this._op = null, this._geometryFactory = null, this._resultPointList = new wt2();
      var t50 = arguments[0], e11 = arguments[1];
      this._op = t50, this._geometryFactory = e11;
    }, "Hi");
    Xn2.prototype.filterCoveredNodeToPoint = function(t50) {
      var e11 = t50.getCoordinate();
      if (!this._op.isCoveredByLA(e11)) {
        var i11 = this._geometryFactory.createPoint(e11);
        this._resultPointList.add(i11);
      }
    }, Xn2.prototype.extractNonCoveredResultNodes = function(t50) {
      for (var e11 = this._op.getGraph().getNodes().iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        if (!(i11.isInResult() || i11.isIncidentEdgeInResult() || 0 !== i11.getEdges().getDegree() && t50 !== Tr.INTERSECTION)) {
          var n11 = i11.getLabel();
          Tr.isResultOfOp(n11, t50) && this.filterCoveredNodeToPoint(i11);
        }
      }
    }, Xn2.prototype.build = function(t50) {
      return this.extractNonCoveredResultNodes(t50), this._resultPointList;
    }, Xn2.prototype.interfaces_ = function() {
      return [];
    }, Xn2.prototype.getClass = function() {
      return Xn2;
    };
    var Kn2 = q(function() {
      this._inputGeom = null, this._factory = null, this._pruneEmptyGeometry = true, this._preserveGeometryCollectionType = true, this._preserveCollections = false, this._preserveType = false;
    }, "Wi");
    Kn2.prototype.transformPoint = function(t50, e11) {
      return this._factory.createPoint(this.transformCoordinates(t50.getCoordinateSequence(), t50));
    }, Kn2.prototype.transformPolygon = function(t50, e11) {
      var i11 = true, n11 = this.transformLinearRing(t50.getExteriorRing(), t50);
      null !== n11 && n11 instanceof ie && !n11.isEmpty() || (i11 = false);
      for (var r6 = new wt2(), o6 = 0; o6 < t50.getNumInteriorRing(); o6++) {
        var s10 = this.transformLinearRing(t50.getInteriorRingN(o6), t50);
        null === s10 || s10.isEmpty() || (s10 instanceof ie || (i11 = false), r6.add(s10));
      }
      if (i11)
        return this._factory.createPolygon(n11, r6.toArray([]));
      var a3 = new wt2();
      return null !== n11 && a3.add(n11), a3.addAll(r6), this._factory.buildGeometry(a3);
    }, Kn2.prototype.createCoordinateSequence = function(t50) {
      return this._factory.getCoordinateSequenceFactory().create(t50);
    }, Kn2.prototype.getInputGeometry = function() {
      return this._inputGeom;
    }, Kn2.prototype.transformMultiLineString = function(t50, e11) {
      for (var i11 = new wt2(), n11 = 0; n11 < t50.getNumGeometries(); n11++) {
        var r6 = this.transformLineString(t50.getGeometryN(n11), t50);
        null !== r6 && (r6.isEmpty() || i11.add(r6));
      }
      return this._factory.buildGeometry(i11);
    }, Kn2.prototype.transformCoordinates = function(t50, e11) {
      return this.copy(t50);
    }, Kn2.prototype.transformLineString = function(t50, e11) {
      return this._factory.createLineString(this.transformCoordinates(t50.getCoordinateSequence(), t50));
    }, Kn2.prototype.transformMultiPoint = function(t50, e11) {
      for (var i11 = new wt2(), n11 = 0; n11 < t50.getNumGeometries(); n11++) {
        var r6 = this.transformPoint(t50.getGeometryN(n11), t50);
        null !== r6 && (r6.isEmpty() || i11.add(r6));
      }
      return this._factory.buildGeometry(i11);
    }, Kn2.prototype.transformMultiPolygon = function(t50, e11) {
      for (var i11 = new wt2(), n11 = 0; n11 < t50.getNumGeometries(); n11++) {
        var r6 = this.transformPolygon(t50.getGeometryN(n11), t50);
        null !== r6 && (r6.isEmpty() || i11.add(r6));
      }
      return this._factory.buildGeometry(i11);
    }, Kn2.prototype.copy = function(t50) {
      return t50.copy();
    }, Kn2.prototype.transformGeometryCollection = function(t50, e11) {
      for (var i11 = new wt2(), n11 = 0; n11 < t50.getNumGeometries(); n11++) {
        var r6 = this.transform(t50.getGeometryN(n11));
        null !== r6 && (this._pruneEmptyGeometry && r6.isEmpty() || i11.add(r6));
      }
      return this._preserveGeometryCollectionType ? this._factory.createGeometryCollection(ye.toGeometryArray(i11)) : this._factory.buildGeometry(i11);
    }, Kn2.prototype.transform = function(t50) {
      if (this._inputGeom = t50, this._factory = t50.getFactory(), t50 instanceof Jt)
        return this.transformPoint(t50, null);
      if (t50 instanceof ee)
        return this.transformMultiPoint(t50, null);
      if (t50 instanceof ie)
        return this.transformLinearRing(t50, null);
      if (t50 instanceof Zt)
        return this.transformLineString(t50, null);
      if (t50 instanceof Gt2)
        return this.transformMultiLineString(t50, null);
      if (t50 instanceof te)
        return this.transformPolygon(t50, null);
      if (t50 instanceof ne)
        return this.transformMultiPolygon(t50, null);
      if (t50 instanceof jt2)
        return this.transformGeometryCollection(t50, null);
      throw new x4("Unknown Geometry subtype: " + t50.getClass().getName());
    }, Kn2.prototype.transformLinearRing = function(t50, e11) {
      var i11 = this.transformCoordinates(t50.getCoordinateSequence(), t50);
      if (null === i11)
        return this._factory.createLinearRing(null);
      var n11 = i11.size();
      return n11 > 0 && n11 < 4 && !this._preserveType ? this._factory.createLineString(i11) : this._factory.createLinearRing(i11);
    }, Kn2.prototype.interfaces_ = function() {
      return [];
    }, Kn2.prototype.getClass = function() {
      return Kn2;
    };
    var Zn2 = q(function t50() {
      if (this._snapTolerance = 0, this._srcPts = null, this._seg = new gi(), this._allowSnappingToSourceVertices = false, this._isClosed = false, arguments[0] instanceof Zt && "number" == typeof arguments[1]) {
        var e11 = arguments[0], i11 = arguments[1];
        t50.call(this, e11.getCoordinates(), i11);
      } else if (arguments[0] instanceof Array && "number" == typeof arguments[1]) {
        var n11 = arguments[0], r6 = arguments[1];
        this._srcPts = n11, this._isClosed = t50.isClosed(n11), this._snapTolerance = r6;
      }
    }, "t");
    Zn2.prototype.snapVertices = function(t50, e11) {
      for (var i11 = this._isClosed ? t50.size() - 1 : t50.size(), n11 = 0; n11 < i11; n11++) {
        var r6 = t50.get(n11), o6 = this.findSnapForVertex(r6, e11);
        null !== o6 && (t50.set(n11, new A(o6)), 0 === n11 && this._isClosed && t50.set(t50.size() - 1, new A(o6)));
      }
    }, Zn2.prototype.findSnapForVertex = function(t50, e11) {
      for (var i11 = 0; i11 < e11.length; i11++) {
        if (t50.equals2D(e11[i11]))
          return null;
        if (t50.distance(e11[i11]) < this._snapTolerance)
          return e11[i11];
      }
      return null;
    }, Zn2.prototype.snapTo = function(t50) {
      var e11 = new St2(this._srcPts);
      return this.snapVertices(e11, t50), this.snapSegments(e11, t50), e11.toCoordinateArray();
    }, Zn2.prototype.snapSegments = function(t50, e11) {
      if (0 === e11.length)
        return null;
      var i11 = e11.length;
      e11[0].equals2D(e11[e11.length - 1]) && (i11 = e11.length - 1);
      for (var n11 = 0; n11 < i11; n11++) {
        var r6 = e11[n11], o6 = this.findSegmentIndexToSnap(r6, t50);
        o6 >= 0 && t50.add(o6 + 1, new A(r6), false);
      }
    }, Zn2.prototype.findSegmentIndexToSnap = function(t50, e11) {
      for (var i11 = _.MAX_VALUE, n11 = -1, r6 = 0; r6 < e11.size() - 1; r6++) {
        if (this._seg.p0 = e11.get(r6), this._seg.p1 = e11.get(r6 + 1), this._seg.p0.equals2D(t50) || this._seg.p1.equals2D(t50)) {
          if (this._allowSnappingToSourceVertices)
            continue;
          return -1;
        }
        var o6 = this._seg.distance(t50);
        o6 < this._snapTolerance && o6 < i11 && (i11 = o6, n11 = r6);
      }
      return n11;
    }, Zn2.prototype.setAllowSnappingToSourceVertices = function(t50) {
      this._allowSnappingToSourceVertices = t50;
    }, Zn2.prototype.interfaces_ = function() {
      return [];
    }, Zn2.prototype.getClass = function() {
      return Zn2;
    }, Zn2.isClosed = function(t50) {
      return !(t50.length <= 1) && t50[0].equals2D(t50[t50.length - 1]);
    };
    var Qn2 = q(function(t50) {
      this._srcGeom = t50 || null;
    }, "Ji"), Jn2 = { SNAP_PRECISION_FACTOR: { configurable: true } };
    Qn2.prototype.snapTo = function(t50, e11) {
      var i11 = this.extractTargetCoordinates(t50);
      return new $n2(e11, i11).transform(this._srcGeom);
    }, Qn2.prototype.snapToSelf = function(t50, e11) {
      var i11 = this.extractTargetCoordinates(this._srcGeom), n11 = new $n2(t50, i11, true).transform(this._srcGeom), r6 = n11;
      return e11 && L(r6, $t2) && (r6 = n11.buffer(0)), r6;
    }, Qn2.prototype.computeSnapTolerance = function(t50) {
      return this.computeMinimumSegmentLength(t50) / 10;
    }, Qn2.prototype.extractTargetCoordinates = function(t50) {
      for (var e11 = new f(), i11 = t50.getCoordinates(), n11 = 0; n11 < i11.length; n11++)
        e11.add(i11[n11]);
      return e11.toArray(new Array(0).fill(null));
    }, Qn2.prototype.computeMinimumSegmentLength = function(t50) {
      for (var e11 = _.MAX_VALUE, i11 = 0; i11 < t50.length - 1; i11++) {
        var n11 = t50[i11].distance(t50[i11 + 1]);
        n11 < e11 && (e11 = n11);
      }
      return e11;
    }, Qn2.prototype.interfaces_ = function() {
      return [];
    }, Qn2.prototype.getClass = function() {
      return Qn2;
    }, Qn2.snap = function(t50, e11, i11) {
      var n11 = new Array(2).fill(null), r6 = new Qn2(t50);
      n11[0] = r6.snapTo(e11, i11);
      var o6 = new Qn2(e11);
      return n11[1] = o6.snapTo(n11[0], i11), n11;
    }, Qn2.computeOverlaySnapTolerance = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = Qn2.computeSizeBasedSnapTolerance(t50), i11 = t50.getPrecisionModel();
        if (i11.getType() === fe2.FIXED) {
          var n11 = 1 / i11.getScale() * 2 / 1.415;
          n11 > e11 && (e11 = n11);
        }
        return e11;
      }
      if (2 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1];
        return Math.min(Qn2.computeOverlaySnapTolerance(r6), Qn2.computeOverlaySnapTolerance(o6));
      }
    }, Qn2.computeSizeBasedSnapTolerance = function(t50) {
      var e11 = t50.getEnvelopeInternal();
      return Math.min(e11.getHeight(), e11.getWidth()) * Qn2.SNAP_PRECISION_FACTOR;
    }, Qn2.snapToSelf = function(t50, e11, i11) {
      return new Qn2(t50).snapToSelf(e11, i11);
    }, Jn2.SNAP_PRECISION_FACTOR.get = function() {
      return 1e-9;
    }, Object.defineProperties(Qn2, Jn2);
    var $n2 = function(t50) {
      function e11(e12, i11, n11) {
        t50.call(this), this._snapTolerance = e12 || null, this._snapPts = i11 || null, this._isSelfSnap = void 0 !== n11 && n11;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.snapLine = function(t51, e12) {
        var i11 = new Zn2(t51, this._snapTolerance);
        return i11.setAllowSnappingToSourceVertices(this._isSelfSnap), i11.snapTo(e12);
      }, e11.prototype.transformCoordinates = function(t51, e12) {
        var i11 = t51.toCoordinateArray(), n11 = this.snapLine(i11, this._snapPts);
        return this._factory.getCoordinateSequenceFactory().create(n11);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(Kn2), tr2 = q(function() {
      this._isFirst = true, this._commonMantissaBitsCount = 53, this._commonBits = 0, this._commonSignExp = null;
    }, "$i");
    tr2.prototype.getCommon = function() {
      return _.longBitsToDouble(this._commonBits);
    }, tr2.prototype.add = function(t50) {
      var e11 = _.doubleToLongBits(t50);
      return this._isFirst ? (this._commonBits = e11, this._commonSignExp = tr2.signExpBits(this._commonBits), this._isFirst = false, null) : tr2.signExpBits(e11) !== this._commonSignExp ? (this._commonBits = 0, null) : (this._commonMantissaBitsCount = tr2.numCommonMostSigMantissaBits(this._commonBits, e11), void (this._commonBits = tr2.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount))));
    }, tr2.prototype.toString = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0], e11 = _.longBitsToDouble(t50), i11 = "0000000000000000000000000000000000000000000000000000000000000000" + _.toBinaryString(t50), n11 = i11.substring(i11.length - 64);
        return n11.substring(0, 1) + "  " + n11.substring(1, 12) + "(exp) " + n11.substring(12) + " [ " + e11 + " ]";
      }
    }, tr2.prototype.interfaces_ = function() {
      return [];
    }, tr2.prototype.getClass = function() {
      return tr2;
    }, tr2.getBit = function(t50, e11) {
      return t50 & 1 << e11 ? 1 : 0;
    }, tr2.signExpBits = function(t50) {
      return t50 >> 52;
    }, tr2.zeroLowerBits = function(t50, e11) {
      return t50 & ~((1 << e11) - 1);
    }, tr2.numCommonMostSigMantissaBits = function(t50, e11) {
      for (var i11 = 0, n11 = 52; n11 >= 0; n11--) {
        if (tr2.getBit(t50, n11) !== tr2.getBit(e11, n11))
          return i11;
        i11++;
      }
      return 52;
    };
    var er = q(function() {
      this._commonCoord = null, this._ccFilter = new nr2();
    }, "tr"), ir2 = { CommonCoordinateFilter: { configurable: true }, Translater: { configurable: true } };
    er.prototype.addCommonBits = function(t50) {
      var e11 = new rr(this._commonCoord);
      t50.apply(e11), t50.geometryChanged();
    }, er.prototype.removeCommonBits = function(t50) {
      if (0 === this._commonCoord.x && 0 === this._commonCoord.y)
        return t50;
      var e11 = new A(this._commonCoord);
      e11.x = -e11.x, e11.y = -e11.y;
      var i11 = new rr(e11);
      return t50.apply(i11), t50.geometryChanged(), t50;
    }, er.prototype.getCommonCoordinate = function() {
      return this._commonCoord;
    }, er.prototype.add = function(t50) {
      t50.apply(this._ccFilter), this._commonCoord = this._ccFilter.getCommonCoordinate();
    }, er.prototype.interfaces_ = function() {
      return [];
    }, er.prototype.getClass = function() {
      return er;
    }, ir2.CommonCoordinateFilter.get = function() {
      return nr2;
    }, ir2.Translater.get = function() {
      return rr;
    }, Object.defineProperties(er, ir2);
    var nr2 = q(function() {
      this._commonBitsX = new tr2(), this._commonBitsY = new tr2();
    }, "nr");
    nr2.prototype.filter = function(t50) {
      this._commonBitsX.add(t50.x), this._commonBitsY.add(t50.y);
    }, nr2.prototype.getCommonCoordinate = function() {
      return new A(this._commonBitsX.getCommon(), this._commonBitsY.getCommon());
    }, nr2.prototype.interfaces_ = function() {
      return [ft];
    }, nr2.prototype.getClass = function() {
      return nr2;
    };
    var rr = q(function() {
      this.trans = null;
      var t50 = arguments[0];
      this.trans = t50;
    }, "ir");
    rr.prototype.filter = function(t50, e11) {
      var i11 = t50.getOrdinate(e11, 0) + this.trans.x, n11 = t50.getOrdinate(e11, 1) + this.trans.y;
      t50.setOrdinate(e11, 0, i11), t50.setOrdinate(e11, 1, n11);
    }, rr.prototype.isDone = function() {
      return false;
    }, rr.prototype.isGeometryChanged = function() {
      return true;
    }, rr.prototype.interfaces_ = function() {
      return [Vt2];
    }, rr.prototype.getClass = function() {
      return rr;
    };
    var or = q(function(t50, e11) {
      this._geom = new Array(2).fill(null), this._snapTolerance = null, this._cbr = null, this._geom[0] = t50, this._geom[1] = e11, this.computeSnapTolerance();
    }, "rr");
    or.prototype.selfSnap = function(t50) {
      return new Qn2(t50).snapTo(t50, this._snapTolerance);
    }, or.prototype.removeCommonBits = function(t50) {
      this._cbr = new er(), this._cbr.add(t50[0]), this._cbr.add(t50[1]);
      var e11 = new Array(2).fill(null);
      return e11[0] = this._cbr.removeCommonBits(t50[0].copy()), e11[1] = this._cbr.removeCommonBits(t50[1].copy()), e11;
    }, or.prototype.prepareResult = function(t50) {
      return this._cbr.addCommonBits(t50), t50;
    }, or.prototype.getResultGeometry = function(t50) {
      var e11 = this.snap(this._geom), i11 = Tr.overlayOp(e11[0], e11[1], t50);
      return this.prepareResult(i11);
    }, or.prototype.checkValid = function(t50) {
      t50.isValid() || W.out.println("Snapped geometry is invalid");
    }, or.prototype.computeSnapTolerance = function() {
      this._snapTolerance = Qn2.computeOverlaySnapTolerance(this._geom[0], this._geom[1]);
    }, or.prototype.snap = function(t50) {
      var e11 = this.removeCommonBits(t50);
      return Qn2.snap(e11[0], e11[1], this._snapTolerance);
    }, or.prototype.interfaces_ = function() {
      return [];
    }, or.prototype.getClass = function() {
      return or;
    }, or.overlayOp = function(t50, e11, i11) {
      return new or(t50, e11).getResultGeometry(i11);
    }, or.union = function(t50, e11) {
      return or.overlayOp(t50, e11, Tr.UNION);
    }, or.intersection = function(t50, e11) {
      return or.overlayOp(t50, e11, Tr.INTERSECTION);
    }, or.symDifference = function(t50, e11) {
      return or.overlayOp(t50, e11, Tr.SYMDIFFERENCE);
    }, or.difference = function(t50, e11) {
      return or.overlayOp(t50, e11, Tr.DIFFERENCE);
    };
    var sr = q(function(t50, e11) {
      this._geom = new Array(2).fill(null), this._geom[0] = t50, this._geom[1] = e11;
    }, "or");
    sr.prototype.getResultGeometry = function(t50) {
      var e11 = null, i11 = false, n11 = null;
      try {
        e11 = Tr.overlayOp(this._geom[0], this._geom[1], t50), i11 = true;
      } catch (t51) {
        if (!(t51 instanceof tt))
          throw t51;
        n11 = t51;
      }
      if (!i11)
        try {
          e11 = or.overlayOp(this._geom[0], this._geom[1], t50);
        } catch (t51) {
          throw t51 instanceof tt ? n11 : t51;
        }
      return e11;
    }, sr.prototype.interfaces_ = function() {
      return [];
    }, sr.prototype.getClass = function() {
      return sr;
    }, sr.overlayOp = function(t50, e11, i11) {
      return new sr(t50, e11).getResultGeometry(i11);
    }, sr.union = function(t50, e11) {
      return sr.overlayOp(t50, e11, Tr.UNION);
    }, sr.intersection = function(t50, e11) {
      return sr.overlayOp(t50, e11, Tr.INTERSECTION);
    }, sr.symDifference = function(t50, e11) {
      return sr.overlayOp(t50, e11, Tr.SYMDIFFERENCE);
    }, sr.difference = function(t50, e11) {
      return sr.overlayOp(t50, e11, Tr.DIFFERENCE);
    };
    var ar = q(function() {
      this.mce = null, this.chainIndex = null;
      var t50 = arguments[0], e11 = arguments[1];
      this.mce = t50, this.chainIndex = e11;
    }, "sr");
    ar.prototype.computeIntersections = function(t50, e11) {
      this.mce.computeIntersectsForChain(this.chainIndex, t50.mce, t50.chainIndex, e11);
    }, ar.prototype.interfaces_ = function() {
      return [];
    }, ar.prototype.getClass = function() {
      return ar;
    };
    var lr2 = q(function t50() {
      if (this._label = null, this._xValue = null, this._eventType = null, this._insertEvent = null, this._deleteEventIndex = null, this._obj = null, 2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        this._eventType = t50.DELETE, this._xValue = e11, this._insertEvent = i11;
      } else if (3 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
        this._eventType = t50.INSERT, this._label = n11, this._xValue = r6, this._obj = o6;
      }
    }, "t"), ur2 = { INSERT: { configurable: true }, DELETE: { configurable: true } };
    lr2.prototype.isDelete = function() {
      return this._eventType === lr2.DELETE;
    }, lr2.prototype.setDeleteEventIndex = function(t50) {
      this._deleteEventIndex = t50;
    }, lr2.prototype.getObject = function() {
      return this._obj;
    }, lr2.prototype.compareTo = function(t50) {
      var e11 = t50;
      return this._xValue < e11._xValue ? -1 : this._xValue > e11._xValue ? 1 : this._eventType < e11._eventType ? -1 : this._eventType > e11._eventType ? 1 : 0;
    }, lr2.prototype.getInsertEvent = function() {
      return this._insertEvent;
    }, lr2.prototype.isInsert = function() {
      return this._eventType === lr2.INSERT;
    }, lr2.prototype.isSameLabel = function(t50) {
      return null !== this._label && this._label === t50._label;
    }, lr2.prototype.getDeleteEventIndex = function() {
      return this._deleteEventIndex;
    }, lr2.prototype.interfaces_ = function() {
      return [M];
    }, lr2.prototype.getClass = function() {
      return lr2;
    }, ur2.INSERT.get = function() {
      return 1;
    }, ur2.DELETE.get = function() {
      return 2;
    }, Object.defineProperties(lr2, ur2);
    var hr2 = q(function() {
    }, "lr");
    hr2.prototype.interfaces_ = function() {
      return [];
    }, hr2.prototype.getClass = function() {
      return hr2;
    };
    var cr2 = q(function() {
      this._hasIntersection = false, this._hasProper = false, this._hasProperInterior = false, this._properIntersectionPoint = null, this._li = null, this._includeProper = null, this._recordIsolated = null, this._isSelfIntersection = null, this._numIntersections = 0, this.numTests = 0, this._bdyNodes = null, this._isDone = false, this._isDoneWhenProperInt = false;
      var t50 = arguments[0], e11 = arguments[1], i11 = arguments[2];
      this._li = t50, this._includeProper = e11, this._recordIsolated = i11;
    }, "cr");
    cr2.prototype.isTrivialIntersection = function(t50, e11, i11, n11) {
      if (t50 === i11 && 1 === this._li.getIntersectionNum()) {
        if (cr2.isAdjacentSegments(e11, n11))
          return true;
        if (t50.isClosed()) {
          var r6 = t50.getNumPoints() - 1;
          if (0 === e11 && n11 === r6 || 0 === n11 && e11 === r6)
            return true;
        }
      }
      return false;
    }, cr2.prototype.getProperIntersectionPoint = function() {
      return this._properIntersectionPoint;
    }, cr2.prototype.setIsDoneIfProperInt = function(t50) {
      this._isDoneWhenProperInt = t50;
    }, cr2.prototype.hasProperInteriorIntersection = function() {
      return this._hasProperInterior;
    }, cr2.prototype.isBoundaryPointInternal = function(t50, e11) {
      for (var i11 = e11.iterator(); i11.hasNext(); ) {
        var n11 = i11.next().getCoordinate();
        if (t50.isIntersection(n11))
          return true;
      }
      return false;
    }, cr2.prototype.hasProperIntersection = function() {
      return this._hasProper;
    }, cr2.prototype.hasIntersection = function() {
      return this._hasIntersection;
    }, cr2.prototype.isDone = function() {
      return this._isDone;
    }, cr2.prototype.isBoundaryPoint = function(t50, e11) {
      return !(null === e11 || !this.isBoundaryPointInternal(t50, e11[0]) && !this.isBoundaryPointInternal(t50, e11[1]));
    }, cr2.prototype.setBoundaryNodes = function(t50, e11) {
      this._bdyNodes = new Array(2).fill(null), this._bdyNodes[0] = t50, this._bdyNodes[1] = e11;
    }, cr2.prototype.addIntersections = function(t50, e11, i11, n11) {
      if (t50 === i11 && e11 === n11)
        return null;
      this.numTests++;
      var r6 = t50.getCoordinates()[e11], o6 = t50.getCoordinates()[e11 + 1], s10 = i11.getCoordinates()[n11], a3 = i11.getCoordinates()[n11 + 1];
      this._li.computeIntersection(r6, o6, s10, a3), this._li.hasIntersection() && (this._recordIsolated && (t50.setIsolated(false), i11.setIsolated(false)), this._numIntersections++, this.isTrivialIntersection(t50, e11, i11, n11) || (this._hasIntersection = true, !this._includeProper && this._li.isProper() || (t50.addIntersections(this._li, e11, 0), i11.addIntersections(this._li, n11, 1)), this._li.isProper() && (this._properIntersectionPoint = this._li.getIntersection(0).copy(), this._hasProper = true, this._isDoneWhenProperInt && (this._isDone = true), this.isBoundaryPoint(this._li, this._bdyNodes) || (this._hasProperInterior = true))));
    }, cr2.prototype.interfaces_ = function() {
      return [];
    }, cr2.prototype.getClass = function() {
      return cr2;
    }, cr2.isAdjacentSegments = function(t50, e11) {
      return 1 === Math.abs(t50 - e11);
    };
    var pr = function(t50) {
      function e11() {
        t50.call(this), this.events = new wt2(), this.nOverlaps = null;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.prepareEvents = function() {
        ti2.sort(this.events);
        for (var t51 = 0; t51 < this.events.size(); t51++) {
          var e12 = this.events.get(t51);
          e12.isDelete() && e12.getInsertEvent().setDeleteEventIndex(t51);
        }
      }, e11.prototype.computeIntersections = function() {
        if (1 === arguments.length) {
          var t51 = arguments[0];
          this.nOverlaps = 0, this.prepareEvents();
          for (var e12 = 0; e12 < this.events.size(); e12++) {
            var i11 = this.events.get(e12);
            if (i11.isInsert() && this.processOverlaps(e12, i11.getDeleteEventIndex(), i11, t51), t51.isDone())
              break;
          }
        } else if (3 === arguments.length) {
          if (arguments[2] instanceof cr2 && L(arguments[0], Et) && L(arguments[1], Et)) {
            var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
            this.addEdges(n11, n11), this.addEdges(r6, r6), this.computeIntersections(o6);
          } else if ("boolean" == typeof arguments[2] && L(arguments[0], Et) && arguments[1] instanceof cr2) {
            var s10 = arguments[0], a3 = arguments[1];
            arguments[2] ? this.addEdges(s10, null) : this.addEdges(s10), this.computeIntersections(a3);
          }
        }
      }, e11.prototype.addEdge = function(t51, e12) {
        for (var i11 = t51.getMonotoneChainEdge(), n11 = i11.getStartIndexes(), r6 = 0; r6 < n11.length - 1; r6++) {
          var o6 = new ar(i11, r6), s10 = new lr2(e12, i11.getMinX(r6), o6);
          this.events.add(s10), this.events.add(new lr2(i11.getMaxX(r6), s10));
        }
      }, e11.prototype.processOverlaps = function(t51, e12, i11, n11) {
        for (var r6 = i11.getObject(), o6 = t51; o6 < e12; o6++) {
          var s10 = this.events.get(o6);
          if (s10.isInsert()) {
            var a3 = s10.getObject();
            i11.isSameLabel(s10) || (r6.computeIntersections(a3, n11), this.nOverlaps++);
          }
        }
      }, e11.prototype.addEdges = function() {
        if (1 === arguments.length)
          for (var t51 = arguments[0].iterator(); t51.hasNext(); ) {
            var e12 = t51.next();
            this.addEdge(e12, e12);
          }
        else if (2 === arguments.length)
          for (var i11 = arguments[0], n11 = arguments[1], r6 = i11.iterator(); r6.hasNext(); ) {
            var o6 = r6.next();
            this.addEdge(o6, n11);
          }
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(hr2), dr = q(function() {
      this._min = _.POSITIVE_INFINITY, this._max = _.NEGATIVE_INFINITY;
    }, "hr"), fr2 = { NodeComparator: { configurable: true } };
    dr.prototype.getMin = function() {
      return this._min;
    }, dr.prototype.intersects = function(t50, e11) {
      return !(this._min > e11 || this._max < t50);
    }, dr.prototype.getMax = function() {
      return this._max;
    }, dr.prototype.toString = function() {
      return $.toLineString(new A(this._min, 0), new A(this._max, 0));
    }, dr.prototype.interfaces_ = function() {
      return [];
    }, dr.prototype.getClass = function() {
      return dr;
    }, fr2.NodeComparator.get = function() {
      return gr2;
    }, Object.defineProperties(dr, fr2);
    var gr2 = q(function() {
    }, "gr");
    gr2.prototype.compare = function(t50, e11) {
      var i11 = t50, n11 = e11, r6 = (i11._min + i11._max) / 2, o6 = (n11._min + n11._max) / 2;
      return r6 < o6 ? -1 : r6 > o6 ? 1 : 0;
    }, gr2.prototype.interfaces_ = function() {
      return [w4];
    }, gr2.prototype.getClass = function() {
      return gr2;
    };
    var mr2 = function(t50) {
      function e11() {
        t50.call(this), this._item = null;
        var e12 = arguments[0], i11 = arguments[1], n11 = arguments[2];
        this._min = e12, this._max = i11, this._item = n11;
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.query = function(t51, e12, i11) {
        if (!this.intersects(t51, e12))
          return null;
        i11.visitItem(this._item);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(dr), vr = function(t50) {
      function e11() {
        t50.call(this), this._node1 = null, this._node2 = null;
        var e12 = arguments[0], i11 = arguments[1];
        this._node1 = e12, this._node2 = i11, this.buildExtent(this._node1, this._node2);
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.buildExtent = function(t51, e12) {
        this._min = Math.min(t51._min, e12._min), this._max = Math.max(t51._max, e12._max);
      }, e11.prototype.query = function(t51, e12, i11) {
        if (!this.intersects(t51, e12))
          return null;
        null !== this._node1 && this._node1.query(t51, e12, i11), null !== this._node2 && this._node2.query(t51, e12, i11);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(dr), yr2 = q(function() {
      this._leaves = new wt2(), this._root = null, this._level = 0;
    }, "_r");
    yr2.prototype.buildTree = function() {
      ti2.sort(this._leaves, new dr.NodeComparator());
      for (var t50 = this._leaves, e11 = null, i11 = new wt2(); ; ) {
        if (this.buildLevel(t50, i11), 1 === i11.size())
          return i11.get(0);
        e11 = t50, t50 = i11, i11 = e11;
      }
    }, yr2.prototype.insert = function(t50, e11, i11) {
      if (null !== this._root)
        throw new Error("Index cannot be added to once it has been queried");
      this._leaves.add(new mr2(t50, e11, i11));
    }, yr2.prototype.query = function(t50, e11, i11) {
      this.init(), this._root.query(t50, e11, i11);
    }, yr2.prototype.buildRoot = function() {
      if (null !== this._root)
        return null;
      this._root = this.buildTree();
    }, yr2.prototype.printNode = function(t50) {
      W.out.println($.toLineString(new A(t50._min, this._level), new A(t50._max, this._level)));
    }, yr2.prototype.init = function() {
      if (null !== this._root)
        return null;
      this.buildRoot();
    }, yr2.prototype.buildLevel = function(t50, e11) {
      this._level++, e11.clear();
      for (var i11 = 0; i11 < t50.size(); i11 += 2) {
        var n11 = t50.get(i11);
        if (null === (i11 + 1 < t50.size() ? t50.get(i11) : null))
          e11.add(n11);
        else {
          var r6 = new vr(t50.get(i11), t50.get(i11 + 1));
          e11.add(r6);
        }
      }
    }, yr2.prototype.interfaces_ = function() {
      return [];
    }, yr2.prototype.getClass = function() {
      return yr2;
    };
    var xr2 = q(function() {
      this._items = new wt2();
    }, "mr");
    xr2.prototype.visitItem = function(t50) {
      this._items.add(t50);
    }, xr2.prototype.getItems = function() {
      return this._items;
    }, xr2.prototype.interfaces_ = function() {
      return [Ze];
    }, xr2.prototype.getClass = function() {
      return xr2;
    };
    var _r2 = q(function() {
      this._index = null;
      var t50 = arguments[0];
      if (!L(t50, $t2))
        throw new x4("Argument must be Polygonal");
      this._index = new Er2(t50);
    }, "vr"), br2 = { SegmentVisitor: { configurable: true }, IntervalIndexedGeometry: { configurable: true } };
    _r2.prototype.locate = function(t50) {
      var e11 = new at2(t50), i11 = new Mr2(e11);
      return this._index.query(t50.y, t50.y, i11), e11.getLocation();
    }, _r2.prototype.interfaces_ = function() {
      return [Ui];
    }, _r2.prototype.getClass = function() {
      return _r2;
    }, br2.SegmentVisitor.get = function() {
      return Mr2;
    }, br2.IntervalIndexedGeometry.get = function() {
      return Er2;
    }, Object.defineProperties(_r2, br2);
    var Mr2 = q(function() {
      this._counter = null;
      var t50 = arguments[0];
      this._counter = t50;
    }, "Er");
    Mr2.prototype.visitItem = function(t50) {
      var e11 = t50;
      this._counter.countSegment(e11.getCoordinate(0), e11.getCoordinate(1));
    }, Mr2.prototype.interfaces_ = function() {
      return [Ze];
    }, Mr2.prototype.getClass = function() {
      return Mr2;
    };
    var Er2 = q(function() {
      this._index = new yr2();
      var t50 = arguments[0];
      this.init(t50);
    }, "xr");
    Er2.prototype.init = function(t50) {
      for (var e11 = An2.getLines(t50).iterator(); e11.hasNext(); ) {
        var i11 = e11.next().getCoordinates();
        this.addLine(i11);
      }
    }, Er2.prototype.addLine = function(t50) {
      for (var e11 = 1; e11 < t50.length; e11++) {
        var i11 = new gi(t50[e11 - 1], t50[e11]), n11 = Math.min(i11.p0.y, i11.p1.y), r6 = Math.max(i11.p0.y, i11.p1.y);
        this._index.insert(n11, r6, i11);
      }
    }, Er2.prototype.query = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = new xr2();
        return this._index.query(t50, e11, i11), i11.getItems();
      }
      if (3 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
        this._index.query(n11, r6, o6);
      }
    }, Er2.prototype.interfaces_ = function() {
      return [];
    }, Er2.prototype.getClass = function() {
      return Er2;
    };
    var wr2 = function(t50) {
      function e11() {
        if (t50.call(this), this._parentGeom = null, this._lineEdgeMap = new de(), this._boundaryNodeRule = null, this._useBoundaryDeterminationRule = true, this._argIndex = null, this._boundaryNodes = null, this._hasTooFewPoints = false, this._invalidPoint = null, this._areaPtLocator = null, this._ptLocator = new Sn2(), 2 === arguments.length) {
          var e12 = arguments[0], i11 = arguments[1], n11 = gt.OGC_SFS_BOUNDARY_RULE;
          this._argIndex = e12, this._parentGeom = i11, this._boundaryNodeRule = n11, null !== i11 && this.add(i11);
        } else if (3 === arguments.length) {
          var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2];
          this._argIndex = r6, this._parentGeom = o6, this._boundaryNodeRule = s10, null !== o6 && this.add(o6);
        }
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.insertBoundaryPoint = function(t51, i11) {
        var n11 = this._nodes.addNode(i11).getLabel(), r6 = 1;
        P.NONE, n11.getLocation(t51, Se.ON) === P.BOUNDARY && r6++;
        var o6 = e11.determineBoundary(this._boundaryNodeRule, r6);
        n11.setLocation(t51, o6);
      }, e11.prototype.computeSelfNodes = function() {
        if (2 === arguments.length) {
          var t51 = arguments[0], e12 = arguments[1];
          return this.computeSelfNodes(t51, e12, false);
        }
        if (3 === arguments.length) {
          var i11 = arguments[0], n11 = arguments[1], r6 = arguments[2], o6 = new cr2(i11, true, false);
          o6.setIsDoneIfProperInt(r6);
          var s10 = this.createEdgeSetIntersector(), a3 = this._parentGeom instanceof ie || this._parentGeom instanceof te || this._parentGeom instanceof ne, l3 = n11 || !a3;
          return s10.computeIntersections(this._edges, o6, l3), this.addSelfIntersectionNodes(this._argIndex), o6;
        }
      }, e11.prototype.computeSplitEdges = function(t51) {
        for (var e12 = this._edges.iterator(); e12.hasNext(); )
          e12.next().eiList.addSplitEdges(t51);
      }, e11.prototype.computeEdgeIntersections = function(t51, e12, i11) {
        var n11 = new cr2(e12, i11, true);
        return n11.setBoundaryNodes(this.getBoundaryNodes(), t51.getBoundaryNodes()), this.createEdgeSetIntersector().computeIntersections(this._edges, t51._edges, n11), n11;
      }, e11.prototype.getGeometry = function() {
        return this._parentGeom;
      }, e11.prototype.getBoundaryNodeRule = function() {
        return this._boundaryNodeRule;
      }, e11.prototype.hasTooFewPoints = function() {
        return this._hasTooFewPoints;
      }, e11.prototype.addPoint = function() {
        if (arguments[0] instanceof Jt) {
          var t51 = arguments[0].getCoordinate();
          this.insertPoint(this._argIndex, t51, P.INTERIOR);
        } else if (arguments[0] instanceof A) {
          var e12 = arguments[0];
          this.insertPoint(this._argIndex, e12, P.INTERIOR);
        }
      }, e11.prototype.addPolygon = function(t51) {
        this.addPolygonRing(t51.getExteriorRing(), P.EXTERIOR, P.INTERIOR);
        for (var e12 = 0; e12 < t51.getNumInteriorRing(); e12++) {
          var i11 = t51.getInteriorRingN(e12);
          this.addPolygonRing(i11, P.INTERIOR, P.EXTERIOR);
        }
      }, e11.prototype.addEdge = function(t51) {
        this.insertEdge(t51);
        var e12 = t51.getCoordinates();
        this.insertPoint(this._argIndex, e12[0], P.BOUNDARY), this.insertPoint(this._argIndex, e12[e12.length - 1], P.BOUNDARY);
      }, e11.prototype.addLineString = function(t51) {
        var e12 = Tt.removeRepeatedPoints(t51.getCoordinates());
        if (e12.length < 2)
          return this._hasTooFewPoints = true, this._invalidPoint = e12[0], null;
        var i11 = new nn(e12, new Ne(this._argIndex, P.INTERIOR));
        this._lineEdgeMap.put(t51, i11), this.insertEdge(i11), it.isTrue(e12.length >= 2, "found LineString with single point"), this.insertBoundaryPoint(this._argIndex, e12[0]), this.insertBoundaryPoint(this._argIndex, e12[e12.length - 1]);
      }, e11.prototype.getInvalidPoint = function() {
        return this._invalidPoint;
      }, e11.prototype.getBoundaryPoints = function() {
        for (var t51 = this.getBoundaryNodes(), e12 = new Array(t51.size()).fill(null), i11 = 0, n11 = t51.iterator(); n11.hasNext(); ) {
          var r6 = n11.next();
          e12[i11++] = r6.getCoordinate().copy();
        }
        return e12;
      }, e11.prototype.getBoundaryNodes = function() {
        return null === this._boundaryNodes && (this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex)), this._boundaryNodes;
      }, e11.prototype.addSelfIntersectionNode = function(t51, e12, i11) {
        if (this.isBoundaryNode(t51, e12))
          return null;
        i11 === P.BOUNDARY && this._useBoundaryDeterminationRule ? this.insertBoundaryPoint(t51, e12) : this.insertPoint(t51, e12, i11);
      }, e11.prototype.addPolygonRing = function(t51, e12, i11) {
        if (t51.isEmpty())
          return null;
        var n11 = Tt.removeRepeatedPoints(t51.getCoordinates());
        if (n11.length < 4)
          return this._hasTooFewPoints = true, this._invalidPoint = n11[0], null;
        var r6 = e12, o6 = i11;
        lt.isCCW(n11) && (r6 = i11, o6 = e12);
        var s10 = new nn(n11, new Ne(this._argIndex, P.BOUNDARY, r6, o6));
        this._lineEdgeMap.put(t51, s10), this.insertEdge(s10), this.insertPoint(this._argIndex, n11[0], P.BOUNDARY);
      }, e11.prototype.insertPoint = function(t51, e12, i11) {
        var n11 = this._nodes.addNode(e12), r6 = n11.getLabel();
        null === r6 ? n11._label = new Ne(t51, i11) : r6.setLocation(t51, i11);
      }, e11.prototype.createEdgeSetIntersector = function() {
        return new pr();
      }, e11.prototype.addSelfIntersectionNodes = function(t51) {
        for (var e12 = this._edges.iterator(); e12.hasNext(); )
          for (var i11 = e12.next(), n11 = i11.getLabel().getLocation(t51), r6 = i11.eiList.iterator(); r6.hasNext(); ) {
            var o6 = r6.next();
            this.addSelfIntersectionNode(t51, o6.coord, n11);
          }
      }, e11.prototype.add = function() {
        if (1 !== arguments.length)
          return t50.prototype.add.apply(this, arguments);
        var e12 = arguments[0];
        if (e12.isEmpty())
          return null;
        if (e12 instanceof ne && (this._useBoundaryDeterminationRule = false), e12 instanceof te)
          this.addPolygon(e12);
        else if (e12 instanceof Zt)
          this.addLineString(e12);
        else if (e12 instanceof Jt)
          this.addPoint(e12);
        else if (e12 instanceof ee)
          this.addCollection(e12);
        else if (e12 instanceof Gt2)
          this.addCollection(e12);
        else if (e12 instanceof ne)
          this.addCollection(e12);
        else {
          if (!(e12 instanceof jt2))
            throw new Error(e12.getClass().getName());
          this.addCollection(e12);
        }
      }, e11.prototype.addCollection = function(t51) {
        for (var e12 = 0; e12 < t51.getNumGeometries(); e12++) {
          var i11 = t51.getGeometryN(e12);
          this.add(i11);
        }
      }, e11.prototype.locate = function(t51) {
        return L(this._parentGeom, $t2) && this._parentGeom.getNumGeometries() > 50 ? (null === this._areaPtLocator && (this._areaPtLocator = new _r2(this._parentGeom)), this._areaPtLocator.locate(t51)) : this._ptLocator.locate(t51, this._parentGeom);
      }, e11.prototype.findEdge = function() {
        if (1 === arguments.length) {
          var e12 = arguments[0];
          return this._lineEdgeMap.get(e12);
        }
        return t50.prototype.findEdge.apply(this, arguments);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11.determineBoundary = function(t51, e12) {
        return t51.isInBoundary(e12) ? P.BOUNDARY : P.INTERIOR;
      }, e11;
    }(We), Ar2 = q(function() {
      if (this._li = new ot(), this._resultPrecisionModel = null, this._arg = null, 1 === arguments.length) {
        var t50 = arguments[0];
        this.setComputationPrecision(t50.getPrecisionModel()), this._arg = new Array(1).fill(null), this._arg[0] = new wr2(0, t50);
      } else if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = gt.OGC_SFS_BOUNDARY_RULE;
        e11.getPrecisionModel().compareTo(i11.getPrecisionModel()) >= 0 ? this.setComputationPrecision(e11.getPrecisionModel()) : this.setComputationPrecision(i11.getPrecisionModel()), this._arg = new Array(2).fill(null), this._arg[0] = new wr2(0, e11, n11), this._arg[1] = new wr2(1, i11, n11);
      } else if (3 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2];
        r6.getPrecisionModel().compareTo(o6.getPrecisionModel()) >= 0 ? this.setComputationPrecision(r6.getPrecisionModel()) : this.setComputationPrecision(o6.getPrecisionModel()), this._arg = new Array(2).fill(null), this._arg[0] = new wr2(0, r6, s10), this._arg[1] = new wr2(1, o6, s10);
      }
    }, "Cr");
    Ar2.prototype.getArgGeometry = function(t50) {
      return this._arg[t50].getGeometry();
    }, Ar2.prototype.setComputationPrecision = function(t50) {
      this._resultPrecisionModel = t50, this._li.setPrecisionModel(this._resultPrecisionModel);
    }, Ar2.prototype.interfaces_ = function() {
      return [];
    }, Ar2.prototype.getClass = function() {
      return Ar2;
    };
    var Sr2 = q(function() {
    }, "Sr");
    Sr2.prototype.interfaces_ = function() {
      return [];
    }, Sr2.prototype.getClass = function() {
      return Sr2;
    }, Sr2.map = function() {
      if (arguments[0] instanceof ct && L(arguments[1], Sr2.MapOp)) {
        for (var t50 = arguments[0], e11 = arguments[1], i11 = new wt2(), n11 = 0; n11 < t50.getNumGeometries(); n11++) {
          var r6 = e11.map(t50.getGeometryN(n11));
          null !== r6 && i11.add(r6);
        }
        return t50.getFactory().buildGeometry(i11);
      }
      if (L(arguments[0], bt) && L(arguments[1], Sr2.MapOp)) {
        for (var o6 = arguments[0], s10 = arguments[1], a3 = new wt2(), l3 = o6.iterator(); l3.hasNext(); ) {
          var u2 = l3.next(), h2 = s10.map(u2);
          null !== h2 && a3.add(h2);
        }
        return a3;
      }
    }, Sr2.MapOp = function() {
    };
    var Tr = function(t50) {
      function e11() {
        var e12 = arguments[0], i11 = arguments[1];
        t50.call(this, e12, i11), this._ptLocator = new Sn2(), this._geomFact = null, this._resultGeom = null, this._graph = null, this._edgeList = new Yi(), this._resultPolyList = new wt2(), this._resultLineList = new wt2(), this._resultPointList = new wt2(), this._graph = new We(new Wi2()), this._geomFact = e12.getFactory();
      }
      return q(e11, "e"), t50 && (e11.__proto__ = t50), e11.prototype = Object.create(t50 && t50.prototype), e11.prototype.constructor = e11, e11.prototype.insertUniqueEdge = function(t51) {
        var e12 = this._edgeList.findEqualEdge(t51);
        if (null !== e12) {
          var i11 = e12.getLabel(), n11 = t51.getLabel();
          e12.isPointwiseEqual(t51) || (n11 = new Ne(t51.getLabel())).flip();
          var r6 = e12.getDepth();
          r6.isNull() && r6.add(i11), r6.add(n11), i11.merge(n11);
        } else
          this._edgeList.add(t51);
      }, e11.prototype.getGraph = function() {
        return this._graph;
      }, e11.prototype.cancelDuplicateResultEdges = function() {
        for (var t51 = this._graph.getEdgeEnds().iterator(); t51.hasNext(); ) {
          var e12 = t51.next(), i11 = e12.getSym();
          e12.isInResult() && i11.isInResult() && (e12.setInResult(false), i11.setInResult(false));
        }
      }, e11.prototype.isCoveredByLA = function(t51) {
        return !!this.isCovered(t51, this._resultLineList) || !!this.isCovered(t51, this._resultPolyList);
      }, e11.prototype.computeGeometry = function(t51, i11, n11, r6) {
        var o6 = new wt2();
        return o6.addAll(t51), o6.addAll(i11), o6.addAll(n11), o6.isEmpty() ? e11.createEmptyResult(r6, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact) : this._geomFact.buildGeometry(o6);
      }, e11.prototype.mergeSymLabels = function() {
        for (var t51 = this._graph.getNodes().iterator(); t51.hasNext(); )
          t51.next().getEdges().mergeSymLabels();
      }, e11.prototype.isCovered = function(t51, e12) {
        for (var i11 = e12.iterator(); i11.hasNext(); ) {
          var n11 = i11.next();
          if (this._ptLocator.locate(t51, n11) !== P.EXTERIOR)
            return true;
        }
        return false;
      }, e11.prototype.replaceCollapsedEdges = function() {
        for (var t51 = new wt2(), e12 = this._edgeList.iterator(); e12.hasNext(); ) {
          var i11 = e12.next();
          i11.isCollapsed() && (e12.remove(), t51.add(i11.getCollapsedEdge()));
        }
        this._edgeList.addAll(t51);
      }, e11.prototype.updateNodeLabelling = function() {
        for (var t51 = this._graph.getNodes().iterator(); t51.hasNext(); ) {
          var e12 = t51.next(), i11 = e12.getEdges().getLabel();
          e12.getLabel().merge(i11);
        }
      }, e11.prototype.getResultGeometry = function(t51) {
        return this.computeOverlay(t51), this._resultGeom;
      }, e11.prototype.insertUniqueEdges = function(t51) {
        for (var e12 = t51.iterator(); e12.hasNext(); ) {
          var i11 = e12.next();
          this.insertUniqueEdge(i11);
        }
      }, e11.prototype.computeOverlay = function(t51) {
        this.copyPoints(0), this.copyPoints(1), this._arg[0].computeSelfNodes(this._li, false), this._arg[1].computeSelfNodes(this._li, false), this._arg[0].computeEdgeIntersections(this._arg[1], this._li, true);
        var e12 = new wt2();
        this._arg[0].computeSplitEdges(e12), this._arg[1].computeSplitEdges(e12), this.insertUniqueEdges(e12), this.computeLabelsFromDepths(), this.replaceCollapsedEdges(), Wn2.checkValid(this._edgeList.getEdges()), this._graph.addEdges(this._edgeList.getEdges()), this.computeLabelling(), this.labelIncompleteNodes(), this.findResultAreaEdges(t51), this.cancelDuplicateResultEdges();
        var i11 = new He(this._geomFact);
        i11.add(this._graph), this._resultPolyList = i11.getPolygons();
        var n11 = new Yn2(this, this._geomFact, this._ptLocator);
        this._resultLineList = n11.build(t51);
        var r6 = new Xn2(this, this._geomFact, this._ptLocator);
        this._resultPointList = r6.build(t51), this._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, t51);
      }, e11.prototype.labelIncompleteNode = function(t51, e12) {
        var i11 = this._ptLocator.locate(t51.getCoordinate(), this._arg[e12].getGeometry());
        t51.getLabel().setLocation(e12, i11);
      }, e11.prototype.copyPoints = function(t51) {
        for (var e12 = this._arg[t51].getNodeIterator(); e12.hasNext(); ) {
          var i11 = e12.next();
          this._graph.addNode(i11.getCoordinate()).setLabel(t51, i11.getLabel().getLocation(t51));
        }
      }, e11.prototype.findResultAreaEdges = function(t51) {
        for (var i11 = this._graph.getEdgeEnds().iterator(); i11.hasNext(); ) {
          var n11 = i11.next(), r6 = n11.getLabel();
          r6.isArea() && !n11.isInteriorAreaEdge() && e11.isResultOfOp(r6.getLocation(0, Se.RIGHT), r6.getLocation(1, Se.RIGHT), t51) && n11.setInResult(true);
        }
      }, e11.prototype.computeLabelsFromDepths = function() {
        for (var t51 = this._edgeList.iterator(); t51.hasNext(); ) {
          var e12 = t51.next(), i11 = e12.getLabel(), n11 = e12.getDepth();
          if (!n11.isNull()) {
            n11.normalize();
            for (var r6 = 0; r6 < 2; r6++)
              i11.isNull(r6) || !i11.isArea() || n11.isNull(r6) || (0 === n11.getDelta(r6) ? i11.toLine(r6) : (it.isTrue(!n11.isNull(r6, Se.LEFT), "depth of LEFT side has not been initialized"), i11.setLocation(r6, Se.LEFT, n11.getLocation(r6, Se.LEFT)), it.isTrue(!n11.isNull(r6, Se.RIGHT), "depth of RIGHT side has not been initialized"), i11.setLocation(r6, Se.RIGHT, n11.getLocation(r6, Se.RIGHT))));
          }
        }
      }, e11.prototype.computeLabelling = function() {
        for (var t51 = this._graph.getNodes().iterator(); t51.hasNext(); )
          t51.next().getEdges().computeLabelling(this._arg);
        this.mergeSymLabels(), this.updateNodeLabelling();
      }, e11.prototype.labelIncompleteNodes = function() {
        for (var t51 = this._graph.getNodes().iterator(); t51.hasNext(); ) {
          var e12 = t51.next(), i11 = e12.getLabel();
          e12.isIsolated() && (i11.isNull(0) ? this.labelIncompleteNode(e12, 0) : this.labelIncompleteNode(e12, 1)), e12.getEdges().updateLabelling(i11);
        }
      }, e11.prototype.isCoveredByA = function(t51) {
        return !!this.isCovered(t51, this._resultPolyList);
      }, e11.prototype.interfaces_ = function() {
        return [];
      }, e11.prototype.getClass = function() {
        return e11;
      }, e11;
    }(Ar2);
    Tr.overlayOp = function(t50, e11, i11) {
      return new Tr(t50, e11).getResultGeometry(i11);
    }, Tr.intersection = function(t50, e11) {
      if (t50.isEmpty() || e11.isEmpty())
        return Tr.createEmptyResult(Tr.INTERSECTION, t50, e11, t50.getFactory());
      if (t50.isGeometryCollection()) {
        var i11 = e11;
        return Hn.map(t50, { interfaces_: function() {
          return [Sr2.MapOp];
        }, map: function(t51) {
          return t51.intersection(i11);
        } });
      }
      return t50.checkNotGeometryCollection(t50), t50.checkNotGeometryCollection(e11), sr.overlayOp(t50, e11, Tr.INTERSECTION);
    }, Tr.symDifference = function(t50, e11) {
      if (t50.isEmpty() || e11.isEmpty()) {
        if (t50.isEmpty() && e11.isEmpty())
          return Tr.createEmptyResult(Tr.SYMDIFFERENCE, t50, e11, t50.getFactory());
        if (t50.isEmpty())
          return e11.copy();
        if (e11.isEmpty())
          return t50.copy();
      }
      return t50.checkNotGeometryCollection(t50), t50.checkNotGeometryCollection(e11), sr.overlayOp(t50, e11, Tr.SYMDIFFERENCE);
    }, Tr.resultDimension = function(t50, e11, i11) {
      var n11 = e11.getDimension(), r6 = i11.getDimension(), o6 = -1;
      switch (t50) {
        case Tr.INTERSECTION:
          o6 = Math.min(n11, r6);
          break;
        case Tr.UNION:
          o6 = Math.max(n11, r6);
          break;
        case Tr.DIFFERENCE:
          o6 = n11;
          break;
        case Tr.SYMDIFFERENCE:
          o6 = Math.max(n11, r6);
      }
      return o6;
    }, Tr.createEmptyResult = function(t50, e11, i11, n11) {
      var r6 = null;
      switch (Tr.resultDimension(t50, e11, i11)) {
        case -1:
          r6 = n11.createGeometryCollection(new Array(0).fill(null));
          break;
        case 0:
          r6 = n11.createPoint();
          break;
        case 1:
          r6 = n11.createLineString();
          break;
        case 2:
          r6 = n11.createPolygon();
      }
      return r6;
    }, Tr.difference = function(t50, e11) {
      return t50.isEmpty() ? Tr.createEmptyResult(Tr.DIFFERENCE, t50, e11, t50.getFactory()) : e11.isEmpty() ? t50.copy() : (t50.checkNotGeometryCollection(t50), t50.checkNotGeometryCollection(e11), sr.overlayOp(t50, e11, Tr.DIFFERENCE));
    }, Tr.isResultOfOp = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = t50.getLocation(0), n11 = t50.getLocation(1);
        return Tr.isResultOfOp(i11, n11, e11);
      }
      if (3 === arguments.length) {
        var r6 = arguments[0], o6 = arguments[1], s10 = arguments[2];
        switch (r6 === P.BOUNDARY && (r6 = P.INTERIOR), o6 === P.BOUNDARY && (o6 = P.INTERIOR), s10) {
          case Tr.INTERSECTION:
            return r6 === P.INTERIOR && o6 === P.INTERIOR;
          case Tr.UNION:
            return r6 === P.INTERIOR || o6 === P.INTERIOR;
          case Tr.DIFFERENCE:
            return r6 === P.INTERIOR && o6 !== P.INTERIOR;
          case Tr.SYMDIFFERENCE:
            return r6 === P.INTERIOR && o6 !== P.INTERIOR || r6 !== P.INTERIOR && o6 === P.INTERIOR;
        }
        return false;
      }
    }, Tr.INTERSECTION = 1, Tr.UNION = 2, Tr.DIFFERENCE = 3, Tr.SYMDIFFERENCE = 4;
    var Cr2 = q(function() {
      this._g = null, this._boundaryDistanceTolerance = null, this._linework = null, this._ptLocator = new Sn2(), this._seg = new gi();
      var t50 = arguments[0], e11 = arguments[1];
      this._g = t50, this._boundaryDistanceTolerance = e11, this._linework = this.extractLinework(t50);
    }, "br");
    Cr2.prototype.isWithinToleranceOfBoundary = function(t50) {
      for (var e11 = 0; e11 < this._linework.getNumGeometries(); e11++)
        for (var i11 = this._linework.getGeometryN(e11).getCoordinateSequence(), n11 = 0; n11 < i11.size() - 1; n11++)
          if (i11.getCoordinate(n11, this._seg.p0), i11.getCoordinate(n11 + 1, this._seg.p1), this._seg.distance(t50) <= this._boundaryDistanceTolerance)
            return true;
      return false;
    }, Cr2.prototype.getLocation = function(t50) {
      return this.isWithinToleranceOfBoundary(t50) ? P.BOUNDARY : this._ptLocator.locate(t50, this._g);
    }, Cr2.prototype.extractLinework = function(t50) {
      var e11 = new Pr2();
      t50.apply(e11);
      var i11 = e11.getLinework(), n11 = ye.toLineStringArray(i11);
      return t50.getFactory().createMultiLineString(n11);
    }, Cr2.prototype.interfaces_ = function() {
      return [];
    }, Cr2.prototype.getClass = function() {
      return Cr2;
    };
    var Pr2 = q(function() {
      this._linework = null, this._linework = new wt2();
    }, "wr");
    Pr2.prototype.getLinework = function() {
      return this._linework;
    }, Pr2.prototype.filter = function(t50) {
      if (t50 instanceof te) {
        var e11 = t50;
        this._linework.add(e11.getExteriorRing());
        for (var i11 = 0; i11 < e11.getNumInteriorRing(); i11++)
          this._linework.add(e11.getInteriorRingN(i11));
      }
    }, Pr2.prototype.interfaces_ = function() {
      return [zt];
    }, Pr2.prototype.getClass = function() {
      return Pr2;
    };
    var Ir2 = q(function() {
      this._g = null, this._doLeft = true, this._doRight = true;
      var t50 = arguments[0];
      this._g = t50;
    }, "Or");
    Ir2.prototype.extractPoints = function(t50, e11, i11) {
      for (var n11 = t50.getCoordinates(), r6 = 0; r6 < n11.length - 1; r6++)
        this.computeOffsetPoints(n11[r6], n11[r6 + 1], e11, i11);
    }, Ir2.prototype.setSidesToGenerate = function(t50, e11) {
      this._doLeft = t50, this._doRight = e11;
    }, Ir2.prototype.getPoints = function(t50) {
      for (var e11 = new wt2(), i11 = An2.getLines(this._g).iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        this.extractPoints(n11, t50, e11);
      }
      return e11;
    }, Ir2.prototype.computeOffsetPoints = function(t50, e11, i11, n11) {
      var r6 = e11.x - t50.x, o6 = e11.y - t50.y, s10 = Math.sqrt(r6 * r6 + o6 * o6), a3 = i11 * r6 / s10, l3 = i11 * o6 / s10, u2 = (e11.x + t50.x) / 2, h2 = (e11.y + t50.y) / 2;
      if (this._doLeft) {
        var c4 = new A(u2 - l3, h2 + a3);
        n11.add(c4);
      }
      if (this._doRight) {
        var p10 = new A(u2 + l3, h2 - a3);
        n11.add(p10);
      }
    }, Ir2.prototype.interfaces_ = function() {
      return [];
    }, Ir2.prototype.getClass = function() {
      return Ir2;
    };
    var Lr2 = q(function t50() {
      this._geom = null, this._locFinder = null, this._location = new Array(3).fill(null), this._invalidLocation = null, this._boundaryDistanceTolerance = t50.TOLERANCE, this._testCoords = new wt2();
      var e11 = arguments[0], i11 = arguments[1], n11 = arguments[2];
      this._boundaryDistanceTolerance = t50.computeBoundaryDistanceTolerance(e11, i11), this._geom = [e11, i11, n11], this._locFinder = [new Cr2(this._geom[0], this._boundaryDistanceTolerance), new Cr2(this._geom[1], this._boundaryDistanceTolerance), new Cr2(this._geom[2], this._boundaryDistanceTolerance)];
    }, "t"), Or2 = { TOLERANCE: { configurable: true } };
    Lr2.prototype.reportResult = function(t50, e11, i11) {
      W.out.println("Overlay result invalid - A:" + P.toLocationSymbol(e11[0]) + " B:" + P.toLocationSymbol(e11[1]) + " expected:" + (i11 ? "i" : "e") + " actual:" + P.toLocationSymbol(e11[2]));
    }, Lr2.prototype.isValid = function(t50) {
      return this.addTestPts(this._geom[0]), this.addTestPts(this._geom[1]), this.checkValid(t50);
    }, Lr2.prototype.checkValid = function() {
      if (1 === arguments.length) {
        for (var t50 = arguments[0], e11 = 0; e11 < this._testCoords.size(); e11++) {
          var i11 = this._testCoords.get(e11);
          if (!this.checkValid(t50, i11))
            return this._invalidLocation = i11, false;
        }
        return true;
      }
      if (2 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1];
        return this._location[0] = this._locFinder[0].getLocation(r6), this._location[1] = this._locFinder[1].getLocation(r6), this._location[2] = this._locFinder[2].getLocation(r6), !!Lr2.hasLocation(this._location, P.BOUNDARY) || this.isValidResult(n11, this._location);
      }
    }, Lr2.prototype.addTestPts = function(t50) {
      var e11 = new Ir2(t50);
      this._testCoords.addAll(e11.getPoints(5 * this._boundaryDistanceTolerance));
    }, Lr2.prototype.isValidResult = function(t50, e11) {
      var i11 = Tr.isResultOfOp(e11[0], e11[1], t50), n11 = !(i11 ^ e11[2] === P.INTERIOR);
      return n11 || this.reportResult(t50, e11, i11), n11;
    }, Lr2.prototype.getInvalidLocation = function() {
      return this._invalidLocation;
    }, Lr2.prototype.interfaces_ = function() {
      return [];
    }, Lr2.prototype.getClass = function() {
      return Lr2;
    }, Lr2.hasLocation = function(t50, e11) {
      for (var i11 = 0; i11 < 3; i11++)
        if (t50[i11] === e11)
          return true;
      return false;
    }, Lr2.computeBoundaryDistanceTolerance = function(t50, e11) {
      return Math.min(Qn2.computeSizeBasedSnapTolerance(t50), Qn2.computeSizeBasedSnapTolerance(e11));
    }, Lr2.isValid = function(t50, e11, i11, n11) {
      return new Lr2(t50, e11, n11).isValid(i11);
    }, Or2.TOLERANCE.get = function() {
      return 1e-6;
    }, Object.defineProperties(Lr2, Or2);
    var Nr2 = q(function t50(e11) {
      this._geomFactory = null, this._skipEmpty = false, this._inputGeoms = null, this._geomFactory = t50.extractFactory(e11), this._inputGeoms = e11;
    }, "t");
    Nr2.prototype.extractElements = function(t50, e11) {
      if (null === t50)
        return null;
      for (var i11 = 0; i11 < t50.getNumGeometries(); i11++) {
        var n11 = t50.getGeometryN(i11);
        this._skipEmpty && n11.isEmpty() || e11.add(n11);
      }
    }, Nr2.prototype.combine = function() {
      for (var t50 = new wt2(), e11 = this._inputGeoms.iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        this.extractElements(i11, t50);
      }
      return 0 === t50.size() ? null !== this._geomFactory ? this._geomFactory.createGeometryCollection(null) : null : this._geomFactory.buildGeometry(t50);
    }, Nr2.prototype.interfaces_ = function() {
      return [];
    }, Nr2.prototype.getClass = function() {
      return Nr2;
    }, Nr2.combine = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return new Nr2(t50).combine();
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return new Nr2(Nr2.createList(e11, i11)).combine();
      }
      if (3 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2];
        return new Nr2(Nr2.createList(n11, r6, o6)).combine();
      }
    }, Nr2.extractFactory = function(t50) {
      return t50.isEmpty() ? null : t50.iterator().next().getFactory();
    }, Nr2.createList = function() {
      if (2 === arguments.length) {
        var t50 = arguments[0], e11 = arguments[1], i11 = new wt2();
        return i11.add(t50), i11.add(e11), i11;
      }
      if (3 === arguments.length) {
        var n11 = arguments[0], r6 = arguments[1], o6 = arguments[2], s10 = new wt2();
        return s10.add(n11), s10.add(r6), s10.add(o6), s10;
      }
    };
    var Dr2 = q(function() {
      this._inputPolys = null, this._geomFactory = null;
      var t50 = arguments[0];
      this._inputPolys = t50, null === this._inputPolys && (this._inputPolys = new wt2());
    }, "Dr"), Rr2 = { STRTREE_NODE_CAPACITY: { configurable: true } };
    Dr2.prototype.reduceToGeometries = function(t50) {
      for (var e11 = new wt2(), i11 = t50.iterator(); i11.hasNext(); ) {
        var n11 = i11.next(), r6 = null;
        L(n11, Et) ? r6 = this.unionTree(n11) : n11 instanceof ct && (r6 = n11), e11.add(r6);
      }
      return e11;
    }, Dr2.prototype.extractByEnvelope = function(t50, e11, i11) {
      for (var n11 = new wt2(), r6 = 0; r6 < e11.getNumGeometries(); r6++) {
        var o6 = e11.getGeometryN(r6);
        o6.getEnvelopeInternal().intersects(t50) ? n11.add(o6) : i11.add(o6);
      }
      return this._geomFactory.buildGeometry(n11);
    }, Dr2.prototype.unionOptimized = function(t50, e11) {
      var i11 = t50.getEnvelopeInternal(), n11 = e11.getEnvelopeInternal();
      if (!i11.intersects(n11))
        return Nr2.combine(t50, e11);
      if (t50.getNumGeometries() <= 1 && e11.getNumGeometries() <= 1)
        return this.unionActual(t50, e11);
      var r6 = i11.intersection(n11);
      return this.unionUsingEnvelopeIntersection(t50, e11, r6);
    }, Dr2.prototype.union = function() {
      if (null === this._inputPolys)
        throw new Error("union() method cannot be called twice");
      if (this._inputPolys.isEmpty())
        return null;
      this._geomFactory = this._inputPolys.iterator().next().getFactory();
      for (var t50 = new si(Dr2.STRTREE_NODE_CAPACITY), e11 = this._inputPolys.iterator(); e11.hasNext(); ) {
        var i11 = e11.next();
        t50.insert(i11.getEnvelopeInternal(), i11);
      }
      this._inputPolys = null;
      var n11 = t50.itemsTree();
      return this.unionTree(n11);
    }, Dr2.prototype.binaryUnion = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return this.binaryUnion(t50, 0, t50.size());
      }
      if (3 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1], n11 = arguments[2];
        if (n11 - i11 <= 1) {
          var r6 = Dr2.getGeometry(e11, i11);
          return this.unionSafe(r6, null);
        }
        if (n11 - i11 == 2)
          return this.unionSafe(Dr2.getGeometry(e11, i11), Dr2.getGeometry(e11, i11 + 1));
        var o6 = Math.trunc((n11 + i11) / 2), s10 = this.binaryUnion(e11, i11, o6), a3 = this.binaryUnion(e11, o6, n11);
        return this.unionSafe(s10, a3);
      }
    }, Dr2.prototype.repeatedUnion = function(t50) {
      for (var e11 = null, i11 = t50.iterator(); i11.hasNext(); ) {
        var n11 = i11.next();
        e11 = null === e11 ? n11.copy() : e11.union(n11);
      }
      return e11;
    }, Dr2.prototype.unionSafe = function(t50, e11) {
      return null === t50 && null === e11 ? null : null === t50 ? e11.copy() : null === e11 ? t50.copy() : this.unionOptimized(t50, e11);
    }, Dr2.prototype.unionActual = function(t50, e11) {
      return Dr2.restrictToPolygons(t50.union(e11));
    }, Dr2.prototype.unionTree = function(t50) {
      var e11 = this.reduceToGeometries(t50);
      return this.binaryUnion(e11);
    }, Dr2.prototype.unionUsingEnvelopeIntersection = function(t50, e11, i11) {
      var n11 = new wt2(), r6 = this.extractByEnvelope(i11, t50, n11), o6 = this.extractByEnvelope(i11, e11, n11), s10 = this.unionActual(r6, o6);
      return n11.add(s10), Nr2.combine(n11);
    }, Dr2.prototype.bufferUnion = function() {
      if (1 === arguments.length) {
        var t50 = arguments[0];
        return t50.get(0).getFactory().buildGeometry(t50).buffer(0);
      }
      if (2 === arguments.length) {
        var e11 = arguments[0], i11 = arguments[1];
        return e11.getFactory().createGeometryCollection([e11, i11]).buffer(0);
      }
    }, Dr2.prototype.interfaces_ = function() {
      return [];
    }, Dr2.prototype.getClass = function() {
      return Dr2;
    }, Dr2.restrictToPolygons = function(t50) {
      if (L(t50, $t2))
        return t50;
      var e11 = wn2.getPolygons(t50);
      return 1 === e11.size() ? e11.get(0) : t50.getFactory().createMultiPolygon(ye.toPolygonArray(e11));
    }, Dr2.getGeometry = function(t50, e11) {
      return e11 >= t50.size() ? null : t50.get(e11);
    }, Dr2.union = function(t50) {
      return new Dr2(t50).union();
    }, Rr2.STRTREE_NODE_CAPACITY.get = function() {
      return 4;
    }, Object.defineProperties(Dr2, Rr2);
    var qr = q(function() {
    }, "Ar");
    qr.prototype.interfaces_ = function() {
      return [];
    }, qr.prototype.getClass = function() {
      return qr;
    }, qr.union = function(t50, e11) {
      if (t50.isEmpty() || e11.isEmpty()) {
        if (t50.isEmpty() && e11.isEmpty())
          return Tr.createEmptyResult(Tr.UNION, t50, e11, t50.getFactory());
        if (t50.isEmpty())
          return e11.copy();
        if (e11.isEmpty())
          return t50.copy();
      }
      return t50.checkNotGeometryCollection(t50), t50.checkNotGeometryCollection(e11), sr.overlayOp(t50, e11, Tr.UNION);
    }, t49.GeoJSONReader = we, t49.GeoJSONWriter = Ae, t49.OverlayOp = Tr, t49.UnionOp = qr, t49.BufferOp = mn, Object.defineProperty(t49, "__esModule", { value: true });
  }, "object" == typeof t48 && typeof e6 < "u" ? n(t48) : "function" == typeof define && define.amd ? define(["exports"], n) : n(i.jsts = {});
});
var gH = s((t48, e6) => {
  c(), function(i, n) {
    "use strict";
    var r = "function", o3 = "undefined", s6 = "object", a = "string", l = "model", h = "name", c2 = "type", p4 = "vendor", d = "version", f = "architecture", g = "console", m = "mobile", v4 = "tablet", y4 = "smarttv", x4 = "wearable", _ = "embedded", b = "Amazon", M = "Apple", E = "ASUS", w4 = "BlackBerry", A = "Browser", S = "Chrome", T = "Firefox", C = "Google", P = "Huawei", I = "LG", L = "Microsoft", O = "Motorola", N = "Opera", D = "Samsung", R = "Sharp", q4 = "Sony", B = "Xiaomi", k = "Zebra", F = "Facebook", U = q(function(t49, e10) {
      var i10 = {};
      for (var n10 in t49)
        e10[n10] && e10[n10].length % 2 == 0 ? i10[n10] = e10[n10].concat(t49[n10]) : i10[n10] = t49[n10];
      return i10;
    }, "extend"), z = q(function(t49) {
      for (var e10 = {}, i10 = 0; i10 < t49.length; i10++)
        e10[t49[i10].toUpperCase()] = t49[i10];
      return e10;
    }, "enumerize"), V = q(function(t49, e10) {
      return typeof t49 === a && -1 !== j(e10).indexOf(j(t49));
    }, "has"), j = q(function(t49) {
      return t49.toLowerCase();
    }, "lowerize"), G = q(function(t49) {
      return typeof t49 === a ? t49.replace(/[^\d\.]/g, "").split(".")[0] : n;
    }, "majorize"), W = q(function(t49, e10) {
      if (typeof t49 === a)
        return t49 = t49.replace(/^\s\s*/, ""), typeof e10 === o3 ? t49 : t49.substring(0, 350);
    }, "trim"), H = q(function(t49, e10) {
      for (var i10, o6, a3, l3, u2, h2, c4 = 0; c4 < e10.length && !u2; ) {
        var p10 = e10[c4], d4 = e10[c4 + 1];
        for (i10 = o6 = 0; i10 < p10.length && !u2; )
          if (u2 = p10[i10++].exec(t49))
            for (a3 = 0; a3 < d4.length; a3++)
              h2 = u2[++o6], typeof (l3 = d4[a3]) === s6 && l3.length > 0 ? 2 === l3.length ? typeof l3[1] == r ? this[l3[0]] = l3[1].call(this, h2) : this[l3[0]] = l3[1] : 3 === l3.length ? typeof l3[1] !== r || l3[1].exec && l3[1].test ? this[l3[0]] = h2 ? h2.replace(l3[1], l3[2]) : n : this[l3[0]] = h2 ? l3[1].call(this, h2, l3[2]) : n : 4 === l3.length && (this[l3[0]] = h2 ? l3[3].call(this, h2.replace(l3[1], l3[2])) : n) : this[l3] = h2 || n;
        c4 += 2;
      }
    }, "rgxMapper"), Y = q(function(t49, e10) {
      for (var i10 in e10)
        if (typeof e10[i10] === s6 && e10[i10].length > 0) {
          for (var r6 = 0; r6 < e10[i10].length; r6++)
            if (V(e10[i10][r6], t49))
              return "?" === i10 ? n : i10;
        } else if (V(e10[i10], t49))
          return "?" === i10 ? n : i10;
      return t49;
    }, "strMapper"), X = { ME: "4.90", "NT 3.11": "NT3.51", "NT 4.0": "NT4.0", 2e3: "NT 5.0", XP: ["NT 5.1", "NT 5.2"], Vista: "NT 6.0", 7: "NT 6.1", 8: "NT 6.2", 8.1: "NT 6.3", 10: ["NT 6.4", "NT 10.0"], RT: "ARM" }, K10 = { browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [d, [h, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [d, [h, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [h, d], [/opios[\/ ]+([\w\.]+)/i], [d, [h, N + " Mini"]], [/\bopr\/([\w\.]+)/i], [d, [h, N]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i, /(ba?idubrowser)[\/ ]?([\w\.]+)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i, /(weibo)__([\d\.]+)/i], [h, d], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [d, [h, "UC" + A]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i], [d, [h, "WeChat(Win) Desktop"]], [/micromessenger\/([\w\.]+)/i], [d, [h, "WeChat"]], [/konqueror\/([\w\.]+)/i], [d, [h, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [d, [h, "IE"]], [/yabrowser\/([\w\.]+)/i], [d, [h, "Yandex"]], [/(avast|avg)\/([\w\.]+)/i], [[h, /(.+)/, "$1 Secure " + A], d], [/\bfocus\/([\w\.]+)/i], [d, [h, T + " Focus"]], [/\bopt\/([\w\.]+)/i], [d, [h, N + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [d, [h, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [d, [h, "Dolphin"]], [/coast\/([\w\.]+)/i], [d, [h, N + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [d, [h, "MIUI " + A]], [/fxios\/([-\w\.]+)/i], [d, [h, T]], [/\bqihu|(qi?ho?o?|360)browser/i], [[h, "360 " + A]], [/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i], [[h, /(.+)/, "$1 " + A], d], [/(comodo_dragon)\/([\w\.]+)/i], [[h, /_/g, " "], d], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i], [h, d], [/(metasr)[\/ ]?([\w\.]+)/i, /(lbbrowser)/i, /\[(linkedin)app\]/i], [h], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[h, F], d], [/safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(chromium|instagram)[\/ ]([-\w\.]+)/i], [h, d], [/\bgsa\/([\w\.]+) .*safari\//i], [d, [h, "GSA"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [d, [h, S + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[h, S + " WebView"], d], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [d, [h, "Android " + A]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [h, d], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [d, [h, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [d, h], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [h, [d, Y, { "1.0": "/8", 1.2: "/1", 1.3: "/3", "2.0": "/412", "2.0.2": "/416", "2.0.3": "/417", "2.0.4": "/419", "?": "/" }]], [/(webkit|khtml)\/([\w\.]+)/i], [h, d], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[h, "Netscape"], d], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [d, [h, T + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i], [h, d], [/(cobalt)\/([\w\.]+)/i], [h, [d, /master.|lts./, ""]]], cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[f, "amd64"]], [/(ia32(?=;))/i], [[f, j]], [/((?:i[346]|x)86)[;\)]/i], [[f, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[f, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[f, "armhf"]], [/windows (ce|mobile); ppc;/i], [[f, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[f, /ower/, "", j]], [/(sun4\w)[;\)]/i], [[f, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[f, j]]], device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [l, [p4, D], [c2, v4]], [/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i], [l, [p4, D], [c2, m]], [/\((ip(?:hone|od)[\w ]*);/i], [l, [p4, M], [c2, m]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [l, [p4, M], [c2, v4]], [/(macintosh);/i], [l, [p4, M]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [l, [p4, P], [c2, v4]], [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [l, [p4, P], [c2, m]], [/\b(poco[\w ]+)(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i], [[l, /_/g, " "], [p4, B], [c2, m]], [/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[l, /_/g, " "], [p4, B], [c2, v4]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [l, [p4, "OPPO"], [c2, m]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [l, [p4, "Vivo"], [c2, m]], [/\b(rmx[12]\d{3})(?: bui|;|\))/i], [l, [p4, "Realme"], [c2, m]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [l, [p4, O], [c2, m]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [l, [p4, O], [c2, v4]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [l, [p4, I], [c2, v4]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [l, [p4, I], [c2, m]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [l, [p4, "Lenovo"], [c2, v4]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[l, /_/g, " "], [p4, "Nokia"], [c2, m]], [/(pixel c)\b/i], [l, [p4, C], [c2, v4]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [l, [p4, C], [c2, m]], [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [l, [p4, q4], [c2, m]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[l, "Xperia Tablet"], [p4, q4], [c2, v4]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [l, [p4, "OnePlus"], [c2, m]], [/(alexa)webm/i, /(kf[a-z]{2}wi)( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [l, [p4, b], [c2, v4]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[l, /(.+)/g, "Fire Phone $1"], [p4, b], [c2, m]], [/(playbook);[-\w\),; ]+(rim)/i], [l, p4, [c2, v4]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [l, [p4, w4], [c2, m]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [l, [p4, E], [c2, v4]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [l, [p4, E], [c2, m]], [/(nexus 9)/i], [l, [p4, "HTC"], [c2, v4]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i], [p4, [l, /_/g, " "], [c2, m]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [l, [p4, "Acer"], [c2, v4]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [l, [p4, "Meizu"], [c2, m]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [l, [p4, R], [c2, m]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [p4, l, [c2, m]], [/(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [p4, l, [c2, v4]], [/(surface duo)/i], [l, [p4, L], [c2, v4]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [l, [p4, "Fairphone"], [c2, m]], [/(u304aa)/i], [l, [p4, "AT&T"], [c2, m]], [/\bsie-(\w*)/i], [l, [p4, "Siemens"], [c2, m]], [/\b(rct\w+) b/i], [l, [p4, "RCA"], [c2, v4]], [/\b(venue[\d ]{2,7}) b/i], [l, [p4, "Dell"], [c2, v4]], [/\b(q(?:mv|ta)\w+) b/i], [l, [p4, "Verizon"], [c2, v4]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [l, [p4, "Barnes & Noble"], [c2, v4]], [/\b(tm\d{3}\w+) b/i], [l, [p4, "NuVision"], [c2, v4]], [/\b(k88) b/i], [l, [p4, "ZTE"], [c2, v4]], [/\b(nx\d{3}j) b/i], [l, [p4, "ZTE"], [c2, m]], [/\b(gen\d{3}) b.+49h/i], [l, [p4, "Swiss"], [c2, m]], [/\b(zur\d{3}) b/i], [l, [p4, "Swiss"], [c2, v4]], [/\b((zeki)?tb.*\b) b/i], [l, [p4, "Zeki"], [c2, v4]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[p4, "Dragon Touch"], l, [c2, v4]], [/\b(ns-?\w{0,9}) b/i], [l, [p4, "Insignia"], [c2, v4]], [/\b((nxa|next)-?\w{0,9}) b/i], [l, [p4, "NextBook"], [c2, v4]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[p4, "Voice"], l, [c2, m]], [/\b(lvtel\-)?(v1[12]) b/i], [[p4, "LvTel"], l, [c2, m]], [/\b(ph-1) /i], [l, [p4, "Essential"], [c2, m]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [l, [p4, "Envizen"], [c2, v4]], [/\b(trio[-\w\. ]+) b/i], [l, [p4, "MachSpeed"], [c2, v4]], [/\btu_(1491) b/i], [l, [p4, "Rotor"], [c2, v4]], [/(shield[\w ]+) b/i], [l, [p4, "Nvidia"], [c2, v4]], [/(sprint) (\w+)/i], [p4, l, [c2, m]], [/(kin\.[onetw]{3})/i], [[l, /\./g, " "], [p4, L], [c2, m]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [l, [p4, k], [c2, v4]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [l, [p4, k], [c2, m]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [p4, l, [c2, g]], [/droid.+; (shield) bui/i], [l, [p4, "Nvidia"], [c2, g]], [/(playstation [345portablevi]+)/i], [l, [p4, q4], [c2, g]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [l, [p4, L], [c2, g]], [/smart-tv.+(samsung)/i], [p4, [c2, y4]], [/hbbtv.+maple;(\d+)/i], [[l, /^/, "SmartTV"], [p4, D], [c2, y4]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[p4, I], [c2, y4]], [/(apple) ?tv/i], [p4, [l, M + " TV"], [c2, y4]], [/crkey/i], [[l, S + "cast"], [p4, C], [c2, y4]], [/droid.+aft(\w)( bui|\))/i], [l, [p4, b], [c2, y4]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [l, [p4, R], [c2, y4]], [/(bravia[\w ]+)( bui|\))/i], [l, [p4, q4], [c2, y4]], [/(mitv-\w{5}) bui/i], [l, [p4, B], [c2, y4]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i], [[p4, W], [l, W], [c2, y4]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[c2, y4]], [/((pebble))app/i], [p4, l, [c2, x4]], [/droid.+; (glass) \d/i], [l, [p4, C], [c2, x4]], [/droid.+; (wt63?0{2,3})\)/i], [l, [p4, k], [c2, x4]], [/(quest( 2)?)/i], [l, [p4, F], [c2, x4]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [p4, [c2, _]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i], [l, [c2, m]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [l, [c2, v4]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[c2, v4]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[c2, m]], [/(android[-\w\. ]{0,9});.+buil/i], [l, [p4, "Generic"]]], engine: [[/windows.+ edge\/([\w\.]+)/i], [d, [h, "EdgeHTML"]], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [d, [h, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i], [h, d], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [d, h]], os: [[/microsoft (windows) (vista|xp)/i], [h, d], [/(windows) nt 6\.2; (arm)/i, /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i, /(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i], [h, [d, Y, X]], [/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[h, "Windows"], [d, Y, X]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /cfnetwork\/.+darwin/i], [[d, /_/g, "."], [h, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[h, "Mac OS"], [d, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [d, h], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [h, d], [/\(bb(10);/i], [d, [h, w4]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [d, [h, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [d, [h, T + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [d, [h, "webOS"]], [/crkey\/([\d\.]+)/i], [d, [h, S + "cast"]], [/(cros) [\w]+ ([\w\.]+\w)/i], [[h, "Chromium OS"], d], [/(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [h, d], [/(sunos) ?([\w\.\d]*)/i], [[h, "Solaris"], d], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i, /(unix) ?([\w\.]*)/i], [h, d]] }, Z = q(function(t49, e10) {
      if (typeof t49 === s6 && (e10 = t49, t49 = n), !(this instanceof Z))
        return new Z(t49, e10).getResult();
      var r6 = t49 || (typeof i !== o3 && i.navigator && i.navigator.userAgent ? i.navigator.userAgent : ""), u2 = e10 ? U(K10, e10) : K10;
      return this.getBrowser = function() {
        var t50 = {};
        return t50[h] = n, t50[d] = n, H.call(t50, r6, u2.browser), t50.major = G(t50.version), t50;
      }, this.getCPU = function() {
        var t50 = {};
        return t50[f] = n, H.call(t50, r6, u2.cpu), t50;
      }, this.getDevice = function() {
        var t50 = {};
        return t50[p4] = n, t50[l] = n, t50[c2] = n, H.call(t50, r6, u2.device), t50;
      }, this.getEngine = function() {
        var t50 = {};
        return t50[h] = n, t50[d] = n, H.call(t50, r6, u2.engine), t50;
      }, this.getOS = function() {
        var t50 = {};
        return t50[h] = n, t50[d] = n, H.call(t50, r6, u2.os), t50;
      }, this.getResult = function() {
        return { ua: this.getUA(), browser: this.getBrowser(), engine: this.getEngine(), os: this.getOS(), device: this.getDevice(), cpu: this.getCPU() };
      }, this.getUA = function() {
        return r6;
      }, this.setUA = function(t50) {
        return r6 = typeof t50 === a && t50.length > 350 ? W(t50, 350) : t50, this;
      }, this.setUA(r6), this;
    }, "UAParser");
    Z.VERSION = "0.7.33", Z.BROWSER = z([h, d, "major"]), Z.CPU = z([f]), Z.DEVICE = z([l, p4, c2, g, m, y4, v4, x4, _]), Z.ENGINE = Z.OS = z([h, d]), typeof t48 !== o3 ? (typeof e6 !== o3 && e6.exports && (t48 = e6.exports = Z), t48.UAParser = Z) : typeof define === r && define.amd ? define(function() {
      return Z;
    }) : typeof i !== o3 && (i.UAParser = Z);
    var Q = typeof i !== o3 && (i.jQuery || i.Zepto);
    if (Q && !Q.ua) {
      var J = new Z();
      Q.ua = J.getResult(), Q.ua.get = function() {
        return J.getUA();
      }, Q.ua.set = function(t49) {
        J.setUA(t49);
        var e10 = J.getResult();
        for (var i10 in e10)
          Q.ua[i10] = e10[i10];
      };
    }
  }("object" == typeof window ? window : t48);
});
var kH = s((t48, e6) => {
  "use strict";
  c(), e6.exports = (t49) => encodeURIComponent(t49).replace(/[!'()*]/g, (t50) => "%".concat(t50.charCodeAt(0).toString(16).toUpperCase()));
});
var GH = s((t48, e6) => {
  "use strict";
  c();
  var i = "%[a-f0-9]{2}", n = new RegExp("(" + i + ")|([^%]+?)", "gi"), r = new RegExp("(" + i + ")+", "gi");
  function o3(t49, e10) {
    try {
      return [decodeURIComponent(t49.join(""))];
    } catch {
    }
    if (1 === t49.length)
      return t49;
    e10 = e10 || 1;
    var i10 = t49.slice(0, e10), n10 = t49.slice(e10);
    return Array.prototype.concat.call([], o3(i10), o3(n10));
  }
  function s6(t49) {
    try {
      return decodeURIComponent(t49);
    } catch {
      for (var e10 = t49.match(n) || [], i10 = 1; i10 < e10.length; i10++)
        e10 = (t49 = o3(e10, i10).join("")).match(n) || [];
      return t49;
    }
  }
  function a(t49) {
    for (var e10 = { "%FE%FF": "", "%FF%FE": "" }, i10 = r.exec(t49); i10; ) {
      try {
        e10[i10[0]] = decodeURIComponent(i10[0]);
      } catch {
        var n10 = s6(i10[0]);
        n10 !== i10[0] && (e10[i10[0]] = n10);
      }
      i10 = r.exec(t49);
    }
    e10["%C2"] = "";
    for (var o6 = Object.keys(e10), a3 = 0; a3 < o6.length; a3++) {
      var l = o6[a3];
      t49 = t49.replace(new RegExp(l, "g"), e10[l]);
    }
    return t49;
  }
  q(o3, "decodeComponents"), q(s6, "decode"), q(a, "customDecodeURIComponent"), e6.exports = function(t49) {
    if ("string" != typeof t49)
      throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof t49 + "`");
    try {
      return t49 = t49.replace(/\+/g, " "), decodeURIComponent(t49);
    } catch {
      return a(t49);
    }
  };
});
var HH = s((t48, e6) => {
  "use strict";
  c(), e6.exports = (t49, e10) => {
    if ("string" != typeof t49 || "string" != typeof e10)
      throw new TypeError("Expected the arguments to be of type `string`");
    if ("" === e10)
      return [t49];
    let i = t49.indexOf(e10);
    return -1 === i ? [t49] : [t49.slice(0, i), t49.slice(i + e10.length)];
  };
});
var WH = s((t48, e6) => {
  "use strict";
  c(), e6.exports = function(t49, e10) {
    for (var i = {}, n = Object.keys(t49), r = Array.isArray(e10), o3 = 0; o3 < n.length; o3++) {
      var s6 = n[o3], a = t49[s6];
      (r ? -1 !== e10.indexOf(s6) : e10(s6, a, t49)) && (i[s6] = a);
    }
    return i;
  };
});
var ej = s((t48) => {
  "use strict";
  c();
  var e6 = kH(), i = GH(), n = HH(), r = WH(), o3 = q((t49) => null == t49, "isNullOrUndefined"), s6 = Symbol("encodeFragmentIdentifier");
  function a(t49) {
    switch (t49.arrayFormat) {
      case "index":
        return (e10) => (i10, n10) => {
          let r6 = i10.length;
          return void 0 === n10 || t49.skipNull && null === n10 || t49.skipEmptyString && "" === n10 ? i10 : null === n10 ? [...i10, [c2(e10, t49), "[", r6, "]"].join("")] : [...i10, [c2(e10, t49), "[", c2(r6, t49), "]=", c2(n10, t49)].join("")];
        };
      case "bracket":
        return (e10) => (i10, n10) => void 0 === n10 || t49.skipNull && null === n10 || t49.skipEmptyString && "" === n10 ? i10 : null === n10 ? [...i10, [c2(e10, t49), "[]"].join("")] : [...i10, [c2(e10, t49), "[]=", c2(n10, t49)].join("")];
      case "comma":
      case "separator":
      case "bracket-separator": {
        let e10 = "bracket-separator" === t49.arrayFormat ? "[]=" : "=";
        return (i10) => (n10, r6) => void 0 === r6 || t49.skipNull && null === r6 || t49.skipEmptyString && "" === r6 ? n10 : (r6 = null === r6 ? "" : r6, 0 === n10.length ? [[c2(i10, t49), e10, c2(r6, t49)].join("")] : [[n10, c2(r6, t49)].join(t49.arrayFormatSeparator)]);
      }
      default:
        return (e10) => (i10, n10) => void 0 === n10 || t49.skipNull && null === n10 || t49.skipEmptyString && "" === n10 ? i10 : null === n10 ? [...i10, c2(e10, t49)] : [...i10, [c2(e10, t49), "=", c2(n10, t49)].join("")];
    }
  }
  function l(t49) {
    let e10;
    switch (t49.arrayFormat) {
      case "index":
        return (t50, i10, n10) => {
          e10 = /\[(\d*)\]$/.exec(t50), t50 = t50.replace(/\[\d*\]$/, ""), e10 ? (void 0 === n10[t50] && (n10[t50] = {}), n10[t50][e10[1]] = i10) : n10[t50] = i10;
        };
      case "bracket":
        return (t50, i10, n10) => {
          e10 = /(\[\])$/.exec(t50), t50 = t50.replace(/\[\]$/, ""), e10 ? void 0 !== n10[t50] ? n10[t50] = [].concat(n10[t50], i10) : n10[t50] = [i10] : n10[t50] = i10;
        };
      case "comma":
      case "separator":
        return (e11, i10, n10) => {
          let r6 = "string" == typeof i10 && i10.includes(t49.arrayFormatSeparator), o6 = "string" == typeof i10 && !r6 && p4(i10, t49).includes(t49.arrayFormatSeparator);
          i10 = o6 ? p4(i10, t49) : i10;
          let s10 = r6 || o6 ? i10.split(t49.arrayFormatSeparator).map((e12) => p4(e12, t49)) : null === i10 ? i10 : p4(i10, t49);
          n10[e11] = s10;
        };
      case "bracket-separator":
        return (e11, i10, n10) => {
          let r6 = /(\[\])$/.test(e11);
          if (e11 = e11.replace(/\[\]$/, ""), !r6)
            return void (n10[e11] = i10 && p4(i10, t49));
          let o6 = null === i10 ? [] : i10.split(t49.arrayFormatSeparator).map((e12) => p4(e12, t49));
          void 0 !== n10[e11] ? n10[e11] = [].concat(n10[e11], o6) : n10[e11] = o6;
        };
      default:
        return (t50, e11, i10) => {
          void 0 !== i10[t50] ? i10[t50] = [].concat(i10[t50], e11) : i10[t50] = e11;
        };
    }
  }
  function h(t49) {
    if ("string" != typeof t49 || 1 !== t49.length)
      throw new TypeError("arrayFormatSeparator must be single character string");
  }
  function c2(t49, i10) {
    return i10.encode ? i10.strict ? e6(t49) : encodeURIComponent(t49) : t49;
  }
  function p4(t49, e10) {
    return e10.decode ? i(t49) : t49;
  }
  function d(t49) {
    return Array.isArray(t49) ? t49.sort() : "object" == typeof t49 ? d(Object.keys(t49)).sort((t50, e10) => Number(t50) - Number(e10)).map((e10) => t49[e10]) : t49;
  }
  function f(t49) {
    let e10 = t49.indexOf("#");
    return -1 !== e10 && (t49 = t49.slice(0, e10)), t49;
  }
  function g(t49) {
    let e10 = "", i10 = t49.indexOf("#");
    return -1 !== i10 && (e10 = t49.slice(i10)), e10;
  }
  function m(t49) {
    let e10 = (t49 = f(t49)).indexOf("?");
    return -1 === e10 ? "" : t49.slice(e10 + 1);
  }
  function v4(t49, e10) {
    return e10.parseNumbers && !Number.isNaN(Number(t49)) && "string" == typeof t49 && "" !== t49.trim() ? t49 = Number(t49) : e10.parseBooleans && null !== t49 && ("true" === t49.toLowerCase() || "false" === t49.toLowerCase()) && (t49 = "true" === t49.toLowerCase()), t49;
  }
  function y4(t49, e10) {
    h((e10 = Object.assign({ decode: true, sort: true, arrayFormat: "none", arrayFormatSeparator: ",", parseNumbers: false, parseBooleans: false }, e10)).arrayFormatSeparator);
    let i10 = l(e10), r6 = /* @__PURE__ */ Object.create(null);
    if ("string" != typeof t49 || !(t49 = t49.trim().replace(/^[?#&]/, "")))
      return r6;
    for (let o6 of t49.split("&")) {
      if ("" === o6)
        continue;
      let [t50, s10] = n(e10.decode ? o6.replace(/\+/g, " ") : o6, "=");
      s10 = void 0 === s10 ? null : ["comma", "separator", "bracket-separator"].includes(e10.arrayFormat) ? s10 : p4(s10, e10), i10(p4(t50, e10), s10, r6);
    }
    for (let t50 of Object.keys(r6)) {
      let i11 = r6[t50];
      if ("object" == typeof i11 && null !== i11)
        for (let t51 of Object.keys(i11))
          i11[t51] = v4(i11[t51], e10);
      else
        r6[t50] = v4(i11, e10);
    }
    return false === e10.sort ? r6 : (true === e10.sort ? Object.keys(r6).sort() : Object.keys(r6).sort(e10.sort)).reduce((t50, e11) => {
      let i11 = r6[e11];
      return i11 && "object" == typeof i11 && !Array.isArray(i11) ? t50[e11] = d(i11) : t50[e11] = i11, t50;
    }, /* @__PURE__ */ Object.create(null));
  }
  q(a, "encoderForArrayFormat"), q(l, "parserForArrayFormat"), q(h, "validateArrayFormatSeparator"), q(c2, "encode"), q(p4, "decode"), q(d, "keysSorter"), q(f, "removeHash"), q(g, "getHash"), q(m, "extract"), q(v4, "parseValue"), q(y4, "parse"), t48.extract = m, t48.parse = y4, t48.stringify = (t49, e10) => {
    if (!t49)
      return "";
    h((e10 = Object.assign({ encode: true, strict: true, arrayFormat: "none", arrayFormatSeparator: "," }, e10)).arrayFormatSeparator);
    let i10 = q((i11) => e10.skipNull && o3(t49[i11]) || e10.skipEmptyString && "" === t49[i11], "shouldFilter"), n10 = a(e10), r6 = {};
    for (let e11 of Object.keys(t49))
      i10(e11) || (r6[e11] = t49[e11]);
    let s10 = Object.keys(r6);
    return false !== e10.sort && s10.sort(e10.sort), s10.map((i11) => {
      let r10 = t49[i11];
      return void 0 === r10 ? "" : null === r10 ? c2(i11, e10) : Array.isArray(r10) ? 0 === r10.length && "bracket-separator" === e10.arrayFormat ? c2(i11, e10) + "[]" : r10.reduce(n10(i11), []).join("&") : c2(i11, e10) + "=" + c2(r10, e10);
    }).filter((t50) => t50.length > 0).join("&");
  }, t48.parseUrl = (t49, e10) => {
    e10 = Object.assign({ decode: true }, e10);
    let [i10, r6] = n(t49, "#");
    return Object.assign({ url: i10.split("?")[0] || "", query: y4(m(t49), e10) }, e10 && e10.parseFragmentIdentifier && r6 ? { fragmentIdentifier: p4(r6, e10) } : {});
  }, t48.stringifyUrl = (e10, i10) => {
    i10 = Object.assign({ encode: true, strict: true, [s6]: true }, i10);
    let n10 = f(e10.url).split("?")[0] || "", r6 = t48.extract(e10.url), o6 = t48.parse(r6, { sort: false }), a3 = Object.assign(o6, e10.query), l3 = t48.stringify(a3, i10);
    l3 && (l3 = "?".concat(l3));
    let u2 = g(e10.url);
    return e10.fragmentIdentifier && (u2 = "#".concat(i10[s6] ? c2(e10.fragmentIdentifier, i10) : e10.fragmentIdentifier)), "".concat(n10).concat(l3).concat(u2);
  }, t48.pick = (e10, i10, n10) => {
    n10 = Object.assign({ parseFragmentIdentifier: true, [s6]: false }, n10);
    let { url: o6, query: a3, fragmentIdentifier: l3 } = t48.parseUrl(e10, n10);
    return t48.stringifyUrl({ url: o6, query: r(a3, i10), fragmentIdentifier: l3 }, n10);
  }, t48.exclude = (e10, i10, n10) => {
    let r6 = Array.isArray(i10) ? (t49) => !i10.includes(t49) : (t49, e11) => !i10(t49, e11);
    return t48.pick(e10, r6, n10);
  };
});
var Eu = s((t48, e6) => {
  c();
  var i = q(function() {
    this._tweens = {}, this._tweensAddedDuringUpdate = {};
  }, "_Group");
  i.prototype = { getAll: function() {
    return Object.keys(this._tweens).map((function(t49) {
      return this._tweens[t49];
    }).bind(this));
  }, removeAll: function() {
    this._tweens = {};
  }, add: function(t49) {
    this._tweens[t49.getId()] = t49, this._tweensAddedDuringUpdate[t49.getId()] = t49;
  }, remove: function(t49) {
    delete this._tweens[t49.getId()], delete this._tweensAddedDuringUpdate[t49.getId()];
  }, update: function(t49, e10) {
    var i10 = Object.keys(this._tweens);
    if (0 === i10.length)
      return false;
    for (t49 = void 0 !== t49 ? t49 : r.now(); i10.length > 0; ) {
      this._tweensAddedDuringUpdate = {};
      for (var n10 = 0; n10 < i10.length; n10++) {
        var o3 = this._tweens[i10[n10]];
        o3 && false === o3.update(t49) && (o3._isPlaying = false, e10 || delete this._tweens[i10[n10]]);
      }
      i10 = Object.keys(this._tweensAddedDuringUpdate);
    }
    return true;
  } };
  var n, r = new i();
  r.Group = i, r._nextId = 0, r.nextId = function() {
    return r._nextId++;
  }, typeof self > "u" && typeof e < "u" && e.hrtime ? r.now = function() {
    var t49 = e.hrtime();
    return 1e3 * t49[0] + t49[1] / 1e6;
  } : typeof self < "u" && void 0 !== self.performance && void 0 !== self.performance.now ? r.now = self.performance.now.bind(self.performance) : void 0 !== Date.now ? r.now = Date.now : r.now = function() {
    return (/* @__PURE__ */ new Date()).getTime();
  }, r.Tween = function(t49, e10) {
    this._object = t49, this._valuesStart = {}, this._valuesEnd = {}, this._valuesStartRepeat = {}, this._duration = 1e3, this._repeat = 0, this._repeatDelayTime = void 0, this._yoyo = false, this._isPlaying = false, this._reversed = false, this._delayTime = 0, this._startTime = null, this._easingFunction = r.Easing.Linear.None, this._interpolationFunction = r.Interpolation.Linear, this._chainedTweens = [], this._onStartCallback = null, this._onStartCallbackFired = false, this._onUpdateCallback = null, this._onRepeatCallback = null, this._onCompleteCallback = null, this._onStopCallback = null, this._group = e10 || r, this._id = r.nextId();
  }, r.Tween.prototype = { getId: function() {
    return this._id;
  }, isPlaying: function() {
    return this._isPlaying;
  }, to: function(t49, e10) {
    return this._valuesEnd = t49, void 0 !== e10 && (this._duration = e10), this;
  }, duration: q(function(t49) {
    return this._duration = t49, this;
  }, "duration"), start: function(t49) {
    for (var e10 in this._group.add(this), this._isPlaying = true, this._onStartCallbackFired = false, this._startTime = void 0 !== t49 ? "string" == typeof t49 ? r.now() + parseFloat(t49) : t49 : r.now(), this._startTime += this._delayTime, this._valuesEnd) {
      if (this._valuesEnd[e10] instanceof Array) {
        if (0 === this._valuesEnd[e10].length)
          continue;
        this._valuesEnd[e10] = [this._object[e10]].concat(this._valuesEnd[e10]);
      }
      void 0 !== this._object[e10] && (this._valuesStart[e10] = this._object[e10], this._valuesStart[e10] instanceof Array || (this._valuesStart[e10] *= 1), this._valuesStartRepeat[e10] = this._valuesStart[e10] || 0);
    }
    return this;
  }, stop: function() {
    return this._isPlaying ? (this._group.remove(this), this._isPlaying = false, null !== this._onStopCallback && this._onStopCallback(this._object), this.stopChainedTweens(), this) : this;
  }, end: function() {
    return this.update(1 / 0), this;
  }, stopChainedTweens: function() {
    for (var t49 = 0, e10 = this._chainedTweens.length; t49 < e10; t49++)
      this._chainedTweens[t49].stop();
  }, group: function(t49) {
    return this._group = t49, this;
  }, delay: function(t49) {
    return this._delayTime = t49, this;
  }, repeat: function(t49) {
    return this._repeat = t49, this;
  }, repeatDelay: function(t49) {
    return this._repeatDelayTime = t49, this;
  }, yoyo: function(t49) {
    return this._yoyo = t49, this;
  }, easing: function(t49) {
    return this._easingFunction = t49, this;
  }, interpolation: function(t49) {
    return this._interpolationFunction = t49, this;
  }, chain: function() {
    return this._chainedTweens = arguments, this;
  }, onStart: function(t49) {
    return this._onStartCallback = t49, this;
  }, onUpdate: function(t49) {
    return this._onUpdateCallback = t49, this;
  }, onRepeat: q(function(t49) {
    return this._onRepeatCallback = t49, this;
  }, "onRepeat"), onComplete: function(t49) {
    return this._onCompleteCallback = t49, this;
  }, onStop: function(t49) {
    return this._onStopCallback = t49, this;
  }, update: function(t49) {
    var e10, i10, n10;
    if (t49 < this._startTime)
      return true;
    for (e10 in false === this._onStartCallbackFired && (null !== this._onStartCallback && this._onStartCallback(this._object), this._onStartCallbackFired = true), i10 = (t49 - this._startTime) / this._duration, i10 = 0 === this._duration || i10 > 1 ? 1 : i10, n10 = this._easingFunction(i10), this._valuesEnd)
      if (void 0 !== this._valuesStart[e10]) {
        var r6 = this._valuesStart[e10] || 0, o3 = this._valuesEnd[e10];
        o3 instanceof Array ? this._object[e10] = this._interpolationFunction(o3, n10) : ("string" == typeof o3 && (o3 = "+" === o3.charAt(0) || "-" === o3.charAt(0) ? r6 + parseFloat(o3) : parseFloat(o3)), "number" == typeof o3 && (this._object[e10] = r6 + (o3 - r6) * n10));
      }
    if (null !== this._onUpdateCallback && this._onUpdateCallback(this._object, i10), 1 === i10) {
      if (this._repeat > 0) {
        for (e10 in isFinite(this._repeat) && this._repeat--, this._valuesStartRepeat) {
          if ("string" == typeof this._valuesEnd[e10] && (this._valuesStartRepeat[e10] = this._valuesStartRepeat[e10] + parseFloat(this._valuesEnd[e10])), this._yoyo) {
            var s6 = this._valuesStartRepeat[e10];
            this._valuesStartRepeat[e10] = this._valuesEnd[e10], this._valuesEnd[e10] = s6;
          }
          this._valuesStart[e10] = this._valuesStartRepeat[e10];
        }
        return this._yoyo && (this._reversed = !this._reversed), void 0 !== this._repeatDelayTime ? this._startTime = t49 + this._repeatDelayTime : this._startTime = t49 + this._delayTime, null !== this._onRepeatCallback && this._onRepeatCallback(this._object), true;
      }
      null !== this._onCompleteCallback && this._onCompleteCallback(this._object);
      for (var a = 0, l = this._chainedTweens.length; a < l; a++)
        this._chainedTweens[a].start(this._startTime + this._duration);
      return false;
    }
    return true;
  } }, r.Easing = { Linear: { None: function(t49) {
    return t49;
  } }, Quadratic: { In: function(t49) {
    return t49 * t49;
  }, Out: function(t49) {
    return t49 * (2 - t49);
  }, InOut: function(t49) {
    return (t49 *= 2) < 1 ? 0.5 * t49 * t49 : -0.5 * (--t49 * (t49 - 2) - 1);
  } }, Cubic: { In: function(t49) {
    return t49 * t49 * t49;
  }, Out: function(t49) {
    return --t49 * t49 * t49 + 1;
  }, InOut: function(t49) {
    return (t49 *= 2) < 1 ? 0.5 * t49 * t49 * t49 : 0.5 * ((t49 -= 2) * t49 * t49 + 2);
  } }, Quartic: { In: function(t49) {
    return t49 * t49 * t49 * t49;
  }, Out: function(t49) {
    return 1 - --t49 * t49 * t49 * t49;
  }, InOut: function(t49) {
    return (t49 *= 2) < 1 ? 0.5 * t49 * t49 * t49 * t49 : -0.5 * ((t49 -= 2) * t49 * t49 * t49 - 2);
  } }, Quintic: { In: function(t49) {
    return t49 * t49 * t49 * t49 * t49;
  }, Out: function(t49) {
    return --t49 * t49 * t49 * t49 * t49 + 1;
  }, InOut: function(t49) {
    return (t49 *= 2) < 1 ? 0.5 * t49 * t49 * t49 * t49 * t49 : 0.5 * ((t49 -= 2) * t49 * t49 * t49 * t49 + 2);
  } }, Sinusoidal: { In: function(t49) {
    return 1 - Math.cos(t49 * Math.PI / 2);
  }, Out: function(t49) {
    return Math.sin(t49 * Math.PI / 2);
  }, InOut: function(t49) {
    return 0.5 * (1 - Math.cos(Math.PI * t49));
  } }, Exponential: { In: function(t49) {
    return 0 === t49 ? 0 : Math.pow(1024, t49 - 1);
  }, Out: function(t49) {
    return 1 === t49 ? 1 : 1 - Math.pow(2, -10 * t49);
  }, InOut: function(t49) {
    return 0 === t49 ? 0 : 1 === t49 ? 1 : (t49 *= 2) < 1 ? 0.5 * Math.pow(1024, t49 - 1) : 0.5 * (2 - Math.pow(2, -10 * (t49 - 1)));
  } }, Circular: { In: function(t49) {
    return 1 - Math.sqrt(1 - t49 * t49);
  }, Out: function(t49) {
    return Math.sqrt(1 - --t49 * t49);
  }, InOut: function(t49) {
    return (t49 *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t49 * t49) - 1) : 0.5 * (Math.sqrt(1 - (t49 -= 2) * t49) + 1);
  } }, Elastic: { In: function(t49) {
    return 0 === t49 ? 0 : 1 === t49 ? 1 : -Math.pow(2, 10 * (t49 - 1)) * Math.sin(5 * (t49 - 1.1) * Math.PI);
  }, Out: function(t49) {
    return 0 === t49 ? 0 : 1 === t49 ? 1 : Math.pow(2, -10 * t49) * Math.sin(5 * (t49 - 0.1) * Math.PI) + 1;
  }, InOut: function(t49) {
    return 0 === t49 ? 0 : 1 === t49 ? 1 : (t49 *= 2) < 1 ? -0.5 * Math.pow(2, 10 * (t49 - 1)) * Math.sin(5 * (t49 - 1.1) * Math.PI) : 0.5 * Math.pow(2, -10 * (t49 - 1)) * Math.sin(5 * (t49 - 1.1) * Math.PI) + 1;
  } }, Back: { In: function(t49) {
    var e10 = 1.70158;
    return t49 * t49 * ((e10 + 1) * t49 - e10);
  }, Out: function(t49) {
    var e10 = 1.70158;
    return --t49 * t49 * ((e10 + 1) * t49 + e10) + 1;
  }, InOut: function(t49) {
    var e10 = 2.5949095;
    return (t49 *= 2) < 1 ? t49 * t49 * ((e10 + 1) * t49 - e10) * 0.5 : 0.5 * ((t49 -= 2) * t49 * ((e10 + 1) * t49 + e10) + 2);
  } }, Bounce: { In: function(t49) {
    return 1 - r.Easing.Bounce.Out(1 - t49);
  }, Out: function(t49) {
    return t49 < 1 / 2.75 ? 7.5625 * t49 * t49 : t49 < 2 / 2.75 ? 7.5625 * (t49 -= 1.5 / 2.75) * t49 + 0.75 : t49 < 2.5 / 2.75 ? 7.5625 * (t49 -= 2.25 / 2.75) * t49 + 0.9375 : 7.5625 * (t49 -= 2.625 / 2.75) * t49 + 0.984375;
  }, InOut: function(t49) {
    return t49 < 0.5 ? 0.5 * r.Easing.Bounce.In(2 * t49) : 0.5 * r.Easing.Bounce.Out(2 * t49 - 1) + 0.5;
  } } }, r.Interpolation = { Linear: function(t49, e10) {
    var i10 = t49.length - 1, n10 = i10 * e10, o3 = Math.floor(n10), s6 = r.Interpolation.Utils.Linear;
    return e10 < 0 ? s6(t49[0], t49[1], n10) : e10 > 1 ? s6(t49[i10], t49[i10 - 1], i10 - n10) : s6(t49[o3], t49[o3 + 1 > i10 ? i10 : o3 + 1], n10 - o3);
  }, Bezier: function(t49, e10) {
    for (var i10 = 0, n10 = t49.length - 1, o3 = Math.pow, s6 = r.Interpolation.Utils.Bernstein, a = 0; a <= n10; a++)
      i10 += o3(1 - e10, n10 - a) * o3(e10, a) * t49[a] * s6(n10, a);
    return i10;
  }, CatmullRom: function(t49, e10) {
    var i10 = t49.length - 1, n10 = i10 * e10, o3 = Math.floor(n10), s6 = r.Interpolation.Utils.CatmullRom;
    return t49[0] === t49[i10] ? (e10 < 0 && (o3 = Math.floor(n10 = i10 * (1 + e10))), s6(t49[(o3 - 1 + i10) % i10], t49[o3], t49[(o3 + 1) % i10], t49[(o3 + 2) % i10], n10 - o3)) : e10 < 0 ? t49[0] - (s6(t49[0], t49[0], t49[1], t49[1], -n10) - t49[0]) : e10 > 1 ? t49[i10] - (s6(t49[i10], t49[i10], t49[i10 - 1], t49[i10 - 1], n10 - i10) - t49[i10]) : s6(t49[o3 ? o3 - 1 : 0], t49[o3], t49[i10 < o3 + 1 ? i10 : o3 + 1], t49[i10 < o3 + 2 ? i10 : o3 + 2], n10 - o3);
  }, Utils: { Linear: function(t49, e10, i10) {
    return (e10 - t49) * i10 + t49;
  }, Bernstein: function(t49, e10) {
    var i10 = r.Interpolation.Utils.Factorial;
    return i10(t49) / i10(e10) / i10(t49 - e10);
  }, Factorial: (n = [1], function(t49) {
    var e10 = 1;
    if (n[t49])
      return n[t49];
    for (var i10 = t49; i10 > 1; i10--)
      e10 *= i10;
    return n[t49] = e10, e10;
  }), CatmullRom: function(t49, e10, i10, n10, r6) {
    var o3 = 0.5 * (i10 - t49), s6 = 0.5 * (n10 - e10), a = r6 * r6;
    return (2 * e10 - 2 * i10 + o3 + s6) * (r6 * a) + (-3 * e10 + 3 * i10 - 2 * o3 - s6) * a + o3 * r6 + e10;
  } } }, function(i10) {
    "function" == typeof define && define.amd ? define([], function() {
      return r;
    }) : typeof e6 < "u" && "object" == typeof t48 ? e6.exports = r : void 0 !== i10 && (i10.TWEEN = r);
  }(t48);
});
var wY = s((t48, e6) => {
  c(), function(t49) {
    var i = /^\s+/, n = /\s+$/, r = 0, o3 = t49.round, s6 = t49.min, a = t49.max, l = t49.random;
    function h(t50, e10) {
      if (e10 = e10 || {}, (t50 = t50 || "") instanceof h)
        return t50;
      if (!(this instanceof h))
        return new h(t50, e10);
      var i10 = c2(t50);
      this._originalInput = t50, this._r = i10.r, this._g = i10.g, this._b = i10.b, this._a = i10.a, this._roundA = o3(100 * this._a) / 100, this._format = e10.format || i10.format, this._gradientType = e10.gradientType, this._r < 1 && (this._r = o3(this._r)), this._g < 1 && (this._g = o3(this._g)), this._b < 1 && (this._b = o3(this._b)), this._ok = i10.ok, this._tc_id = r++;
    }
    function c2(t50) {
      var e10 = { r: 0, g: 0, b: 0 }, i10 = 1, n10 = null, r6 = null, o6 = null, l3 = false, u2 = false;
      return "string" == typeof t50 && (t50 = Q(t50)), "object" == typeof t50 && (Z(t50.r) && Z(t50.g) && Z(t50.b) ? (e10 = p4(t50.r, t50.g, t50.b), l3 = true, u2 = "%" === String(t50.r).substr(-1) ? "prgb" : "rgb") : Z(t50.h) && Z(t50.s) && Z(t50.v) ? (n10 = j(t50.s), r6 = j(t50.v), e10 = m(t50.h, n10, r6), l3 = true, u2 = "hsv") : Z(t50.h) && Z(t50.s) && Z(t50.l) && (n10 = j(t50.s), o6 = j(t50.l), e10 = f(t50.h, n10, o6), l3 = true, u2 = "hsl"), t50.hasOwnProperty("a") && (i10 = t50.a)), i10 = q4(i10), { ok: l3, format: t50.format || u2, r: s6(255, a(e10.r, 0)), g: s6(255, a(e10.g, 0)), b: s6(255, a(e10.b, 0)), a: i10 };
    }
    function p4(t50, e10, i10) {
      return { r: 255 * B(t50, 255), g: 255 * B(e10, 255), b: 255 * B(i10, 255) };
    }
    function d(t50, e10, i10) {
      t50 = B(t50, 255), e10 = B(e10, 255), i10 = B(i10, 255);
      var n10, r6, o6 = a(t50, e10, i10), l3 = s6(t50, e10, i10), u2 = (o6 + l3) / 2;
      if (o6 == l3)
        n10 = r6 = 0;
      else {
        var h2 = o6 - l3;
        switch (r6 = u2 > 0.5 ? h2 / (2 - o6 - l3) : h2 / (o6 + l3), o6) {
          case t50:
            n10 = (e10 - i10) / h2 + (e10 < i10 ? 6 : 0);
            break;
          case e10:
            n10 = (i10 - t50) / h2 + 2;
            break;
          case i10:
            n10 = (t50 - e10) / h2 + 4;
        }
        n10 /= 6;
      }
      return { h: n10, s: r6, l: u2 };
    }
    function f(t50, e10, i10) {
      var n10, r6, o6;
      function s10(t51, e11, i11) {
        return i11 < 0 && (i11 += 1), i11 > 1 && (i11 -= 1), i11 < 1 / 6 ? t51 + 6 * (e11 - t51) * i11 : i11 < 0.5 ? e11 : i11 < 2 / 3 ? t51 + (e11 - t51) * (2 / 3 - i11) * 6 : t51;
      }
      if (t50 = B(t50, 360), e10 = B(e10, 100), i10 = B(i10, 100), q(s10, "hue2rgb"), 0 === e10)
        n10 = r6 = o6 = i10;
      else {
        var a3 = i10 < 0.5 ? i10 * (1 + e10) : i10 + e10 - i10 * e10, l3 = 2 * i10 - a3;
        n10 = s10(l3, a3, t50 + 1 / 3), r6 = s10(l3, a3, t50), o6 = s10(l3, a3, t50 - 1 / 3);
      }
      return { r: 255 * n10, g: 255 * r6, b: 255 * o6 };
    }
    function g(t50, e10, i10) {
      t50 = B(t50, 255), e10 = B(e10, 255), i10 = B(i10, 255);
      var n10, r6, o6 = a(t50, e10, i10), l3 = s6(t50, e10, i10), u2 = o6, h2 = o6 - l3;
      if (r6 = 0 === o6 ? 0 : h2 / o6, o6 == l3)
        n10 = 0;
      else {
        switch (o6) {
          case t50:
            n10 = (e10 - i10) / h2 + (e10 < i10 ? 6 : 0);
            break;
          case e10:
            n10 = (i10 - t50) / h2 + 2;
            break;
          case i10:
            n10 = (t50 - e10) / h2 + 4;
        }
        n10 /= 6;
      }
      return { h: n10, s: r6, v: u2 };
    }
    function m(e10, i10, n10) {
      e10 = 6 * B(e10, 360), i10 = B(i10, 100), n10 = B(n10, 100);
      var r6 = t49.floor(e10), o6 = e10 - r6, s10 = n10 * (1 - i10), a3 = n10 * (1 - o6 * i10), l3 = n10 * (1 - (1 - o6) * i10), u2 = r6 % 6;
      return { r: 255 * [n10, a3, s10, s10, l3, n10][u2], g: 255 * [l3, n10, n10, a3, s10, s10][u2], b: 255 * [s10, s10, l3, n10, n10, a3][u2] };
    }
    function v4(t50, e10, i10, n10) {
      var r6 = [V(o3(t50).toString(16)), V(o3(e10).toString(16)), V(o3(i10).toString(16))];
      return n10 && r6[0].charAt(0) == r6[0].charAt(1) && r6[1].charAt(0) == r6[1].charAt(1) && r6[2].charAt(0) == r6[2].charAt(1) ? r6[0].charAt(0) + r6[1].charAt(0) + r6[2].charAt(0) : r6.join("");
    }
    function y4(t50, e10, i10, n10, r6) {
      var s10 = [V(o3(t50).toString(16)), V(o3(e10).toString(16)), V(o3(i10).toString(16)), V(G(n10))];
      return r6 && s10[0].charAt(0) == s10[0].charAt(1) && s10[1].charAt(0) == s10[1].charAt(1) && s10[2].charAt(0) == s10[2].charAt(1) && s10[3].charAt(0) == s10[3].charAt(1) ? s10[0].charAt(0) + s10[1].charAt(0) + s10[2].charAt(0) + s10[3].charAt(0) : s10.join("");
    }
    function x4(t50, e10, i10, n10) {
      return [V(G(n10)), V(o3(t50).toString(16)), V(o3(e10).toString(16)), V(o3(i10).toString(16))].join("");
    }
    function _(t50, e10) {
      e10 = 0 === e10 ? 0 : e10 || 10;
      var i10 = h(t50).toHsl();
      return i10.s -= e10 / 100, i10.s = k(i10.s), h(i10);
    }
    function b(t50, e10) {
      e10 = 0 === e10 ? 0 : e10 || 10;
      var i10 = h(t50).toHsl();
      return i10.s += e10 / 100, i10.s = k(i10.s), h(i10);
    }
    function M(t50) {
      return h(t50).desaturate(100);
    }
    function E(t50, e10) {
      e10 = 0 === e10 ? 0 : e10 || 10;
      var i10 = h(t50).toHsl();
      return i10.l += e10 / 100, i10.l = k(i10.l), h(i10);
    }
    function w4(t50, e10) {
      e10 = 0 === e10 ? 0 : e10 || 10;
      var i10 = h(t50).toRgb();
      return i10.r = a(0, s6(255, i10.r - o3(-e10 / 100 * 255))), i10.g = a(0, s6(255, i10.g - o3(-e10 / 100 * 255))), i10.b = a(0, s6(255, i10.b - o3(-e10 / 100 * 255))), h(i10);
    }
    function A(t50, e10) {
      e10 = 0 === e10 ? 0 : e10 || 10;
      var i10 = h(t50).toHsl();
      return i10.l -= e10 / 100, i10.l = k(i10.l), h(i10);
    }
    function S(t50, e10) {
      var i10 = h(t50).toHsl(), n10 = (i10.h + e10) % 360;
      return i10.h = n10 < 0 ? 360 + n10 : n10, h(i10);
    }
    function T(t50) {
      var e10 = h(t50).toHsl();
      return e10.h = (e10.h + 180) % 360, h(e10);
    }
    function C(t50) {
      var e10 = h(t50).toHsl(), i10 = e10.h;
      return [h(t50), h({ h: (i10 + 120) % 360, s: e10.s, l: e10.l }), h({ h: (i10 + 240) % 360, s: e10.s, l: e10.l })];
    }
    function P(t50) {
      var e10 = h(t50).toHsl(), i10 = e10.h;
      return [h(t50), h({ h: (i10 + 90) % 360, s: e10.s, l: e10.l }), h({ h: (i10 + 180) % 360, s: e10.s, l: e10.l }), h({ h: (i10 + 270) % 360, s: e10.s, l: e10.l })];
    }
    function I(t50) {
      var e10 = h(t50).toHsl(), i10 = e10.h;
      return [h(t50), h({ h: (i10 + 72) % 360, s: e10.s, l: e10.l }), h({ h: (i10 + 216) % 360, s: e10.s, l: e10.l })];
    }
    function L(t50, e10, i10) {
      e10 = e10 || 6, i10 = i10 || 30;
      var n10 = h(t50).toHsl(), r6 = 360 / i10, o6 = [h(t50)];
      for (n10.h = (n10.h - (r6 * e10 >> 1) + 720) % 360; --e10; )
        n10.h = (n10.h + r6) % 360, o6.push(h(n10));
      return o6;
    }
    function O(t50, e10) {
      e10 = e10 || 6;
      for (var i10 = h(t50).toHsv(), n10 = i10.h, r6 = i10.s, o6 = i10.v, s10 = [], a3 = 1 / e10; e10--; )
        s10.push(h({ h: n10, s: r6, v: o6 })), o6 = (o6 + a3) % 1;
      return s10;
    }
    q(h, "tinycolor"), h.prototype = { isDark: function() {
      return this.getBrightness() < 128;
    }, isLight: function() {
      return !this.isDark();
    }, isValid: function() {
      return this._ok;
    }, getOriginalInput: function() {
      return this._originalInput;
    }, getFormat: function() {
      return this._format;
    }, getAlpha: function() {
      return this._a;
    }, getBrightness: function() {
      var t50 = this.toRgb();
      return (299 * t50.r + 587 * t50.g + 114 * t50.b) / 1e3;
    }, getLuminance: function() {
      var e10, i10, n10, r6 = this.toRgb();
      return e10 = r6.r / 255, i10 = r6.g / 255, n10 = r6.b / 255, 0.2126 * (e10 <= 0.03928 ? e10 / 12.92 : t49.pow((e10 + 0.055) / 1.055, 2.4)) + 0.7152 * (i10 <= 0.03928 ? i10 / 12.92 : t49.pow((i10 + 0.055) / 1.055, 2.4)) + 0.0722 * (n10 <= 0.03928 ? n10 / 12.92 : t49.pow((n10 + 0.055) / 1.055, 2.4));
    }, setAlpha: function(t50) {
      return this._a = q4(t50), this._roundA = o3(100 * this._a) / 100, this;
    }, toHsv: function() {
      var t50 = g(this._r, this._g, this._b);
      return { h: 360 * t50.h, s: t50.s, v: t50.v, a: this._a };
    }, toHsvString: function() {
      var t50 = g(this._r, this._g, this._b), e10 = o3(360 * t50.h), i10 = o3(100 * t50.s), n10 = o3(100 * t50.v);
      return 1 == this._a ? "hsv(" + e10 + ", " + i10 + "%, " + n10 + "%)" : "hsva(" + e10 + ", " + i10 + "%, " + n10 + "%, " + this._roundA + ")";
    }, toHsl: function() {
      var t50 = d(this._r, this._g, this._b);
      return { h: 360 * t50.h, s: t50.s, l: t50.l, a: this._a };
    }, toHslString: function() {
      var t50 = d(this._r, this._g, this._b), e10 = o3(360 * t50.h), i10 = o3(100 * t50.s), n10 = o3(100 * t50.l);
      return 1 == this._a ? "hsl(" + e10 + ", " + i10 + "%, " + n10 + "%)" : "hsla(" + e10 + ", " + i10 + "%, " + n10 + "%, " + this._roundA + ")";
    }, toHex: function(t50) {
      return v4(this._r, this._g, this._b, t50);
    }, toHexString: function(t50) {
      return "#" + this.toHex(t50);
    }, toHex8: function(t50) {
      return y4(this._r, this._g, this._b, this._a, t50);
    }, toHex8String: function(t50) {
      return "#" + this.toHex8(t50);
    }, toRgb: function() {
      return { r: o3(this._r), g: o3(this._g), b: o3(this._b), a: this._a };
    }, toRgbString: function() {
      return 1 == this._a ? "rgb(" + o3(this._r) + ", " + o3(this._g) + ", " + o3(this._b) + ")" : "rgba(" + o3(this._r) + ", " + o3(this._g) + ", " + o3(this._b) + ", " + this._roundA + ")";
    }, toPercentageRgb: function() {
      return { r: o3(100 * B(this._r, 255)) + "%", g: o3(100 * B(this._g, 255)) + "%", b: o3(100 * B(this._b, 255)) + "%", a: this._a };
    }, toPercentageRgbString: function() {
      return 1 == this._a ? "rgb(" + o3(100 * B(this._r, 255)) + "%, " + o3(100 * B(this._g, 255)) + "%, " + o3(100 * B(this._b, 255)) + "%)" : "rgba(" + o3(100 * B(this._r, 255)) + "%, " + o3(100 * B(this._g, 255)) + "%, " + o3(100 * B(this._b, 255)) + "%, " + this._roundA + ")";
    }, toName: function() {
      return 0 === this._a ? "transparent" : !(this._a < 1) && (D[v4(this._r, this._g, this._b, true)] || false);
    }, toFilter: function(t50) {
      var e10 = "#" + x4(this._r, this._g, this._b, this._a), i10 = e10, n10 = this._gradientType ? "GradientType = 1, " : "";
      if (t50) {
        var r6 = h(t50);
        i10 = "#" + x4(r6._r, r6._g, r6._b, r6._a);
      }
      return "progid:DXImageTransform.Microsoft.gradient(" + n10 + "startColorstr=" + e10 + ",endColorstr=" + i10 + ")";
    }, toString: function(t50) {
      var e10 = !!t50;
      t50 = t50 || this._format;
      var i10 = false, n10 = this._a < 1 && this._a >= 0;
      return !e10 && n10 && ("hex" === t50 || "hex6" === t50 || "hex3" === t50 || "hex4" === t50 || "hex8" === t50 || "name" === t50) ? "name" === t50 && 0 === this._a ? this.toName() : this.toRgbString() : ("rgb" === t50 && (i10 = this.toRgbString()), "prgb" === t50 && (i10 = this.toPercentageRgbString()), ("hex" === t50 || "hex6" === t50) && (i10 = this.toHexString()), "hex3" === t50 && (i10 = this.toHexString(true)), "hex4" === t50 && (i10 = this.toHex8String(true)), "hex8" === t50 && (i10 = this.toHex8String()), "name" === t50 && (i10 = this.toName()), "hsl" === t50 && (i10 = this.toHslString()), "hsv" === t50 && (i10 = this.toHsvString()), i10 || this.toHexString());
    }, clone: function() {
      return h(this.toString());
    }, _applyModification: function(t50, e10) {
      var i10 = t50.apply(null, [this].concat([].slice.call(e10)));
      return this._r = i10._r, this._g = i10._g, this._b = i10._b, this.setAlpha(i10._a), this;
    }, lighten: function() {
      return this._applyModification(E, arguments);
    }, brighten: function() {
      return this._applyModification(w4, arguments);
    }, darken: function() {
      return this._applyModification(A, arguments);
    }, desaturate: function() {
      return this._applyModification(_, arguments);
    }, saturate: function() {
      return this._applyModification(b, arguments);
    }, greyscale: function() {
      return this._applyModification(M, arguments);
    }, spin: function() {
      return this._applyModification(S, arguments);
    }, _applyCombination: function(t50, e10) {
      return t50.apply(null, [this].concat([].slice.call(e10)));
    }, analogous: function() {
      return this._applyCombination(L, arguments);
    }, complement: function() {
      return this._applyCombination(T, arguments);
    }, monochromatic: function() {
      return this._applyCombination(O, arguments);
    }, splitcomplement: function() {
      return this._applyCombination(I, arguments);
    }, triad: function() {
      return this._applyCombination(C, arguments);
    }, tetrad: function() {
      return this._applyCombination(P, arguments);
    } }, h.fromRatio = function(t50, e10) {
      if ("object" == typeof t50) {
        var i10 = {};
        for (var n10 in t50)
          t50.hasOwnProperty(n10) && (i10[n10] = "a" === n10 ? t50[n10] : j(t50[n10]));
        t50 = i10;
      }
      return h(t50, e10);
    }, q(c2, "inputToRGB"), q(p4, "rgbToRgb"), q(d, "rgbToHsl"), q(f, "hslToRgb"), q(g, "rgbToHsv"), q(m, "hsvToRgb"), q(v4, "rgbToHex"), q(y4, "rgbaToHex"), q(x4, "rgbaToArgbHex"), h.equals = function(t50, e10) {
      return !(!t50 || !e10) && h(t50).toRgbString() == h(e10).toRgbString();
    }, h.random = function() {
      return h.fromRatio({ r: l(), g: l(), b: l() });
    }, q(_, "desaturate"), q(b, "saturate"), q(M, "greyscale"), q(E, "lighten"), q(w4, "brighten"), q(A, "darken"), q(S, "spin"), q(T, "complement"), q(C, "triad"), q(P, "tetrad"), q(I, "splitcomplement"), q(L, "analogous"), q(O, "monochromatic"), h.mix = function(t50, e10, i10) {
      i10 = 0 === i10 ? 0 : i10 || 50;
      var n10 = h(t50).toRgb(), r6 = h(e10).toRgb(), o6 = i10 / 100;
      return h({ r: (r6.r - n10.r) * o6 + n10.r, g: (r6.g - n10.g) * o6 + n10.g, b: (r6.b - n10.b) * o6 + n10.b, a: (r6.a - n10.a) * o6 + n10.a });
    }, h.readability = function(e10, i10) {
      var n10 = h(e10), r6 = h(i10);
      return (t49.max(n10.getLuminance(), r6.getLuminance()) + 0.05) / (t49.min(n10.getLuminance(), r6.getLuminance()) + 0.05);
    }, h.isReadable = function(t50, e10, i10) {
      var n10, r6, o6 = h.readability(t50, e10);
      switch (r6 = false, (n10 = J(i10)).level + n10.size) {
        case "AAsmall":
        case "AAAlarge":
          r6 = o6 >= 4.5;
          break;
        case "AAlarge":
          r6 = o6 >= 3;
          break;
        case "AAAsmall":
          r6 = o6 >= 7;
      }
      return r6;
    }, h.mostReadable = function(t50, e10, i10) {
      var n10, r6, o6, s10, a3 = null, l3 = 0;
      r6 = (i10 = i10 || {}).includeFallbackColors, o6 = i10.level, s10 = i10.size;
      for (var u2 = 0; u2 < e10.length; u2++)
        (n10 = h.readability(t50, e10[u2])) > l3 && (l3 = n10, a3 = h(e10[u2]));
      return h.isReadable(t50, a3, { level: o6, size: s10 }) || !r6 ? a3 : (i10.includeFallbackColors = false, h.mostReadable(t50, ["#fff", "#000"], i10));
    };
    var N = h.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", rebeccapurple: "663399", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, D = h.hexNames = R(N);
    function R(t50) {
      var e10 = {};
      for (var i10 in t50)
        t50.hasOwnProperty(i10) && (e10[t50[i10]] = i10);
      return e10;
    }
    function q4(t50) {
      return t50 = parseFloat(t50), (isNaN(t50) || t50 < 0 || t50 > 1) && (t50 = 1), t50;
    }
    function B(e10, i10) {
      U(e10) && (e10 = "100%");
      var n10 = z(e10);
      return e10 = s6(i10, a(0, parseFloat(e10))), n10 && (e10 = parseInt(e10 * i10, 10) / 100), t49.abs(e10 - i10) < 1e-6 ? 1 : e10 % i10 / parseFloat(i10);
    }
    function k(t50) {
      return s6(1, a(0, t50));
    }
    function F(t50) {
      return parseInt(t50, 16);
    }
    function U(t50) {
      return "string" == typeof t50 && -1 != t50.indexOf(".") && 1 === parseFloat(t50);
    }
    function z(t50) {
      return "string" == typeof t50 && -1 != t50.indexOf("%");
    }
    function V(t50) {
      return 1 == t50.length ? "0" + t50 : "" + t50;
    }
    function j(t50) {
      return t50 <= 1 && (t50 = 100 * t50 + "%"), t50;
    }
    function G(e10) {
      return t49.round(255 * parseFloat(e10)).toString(16);
    }
    function W(t50) {
      return F(t50) / 255;
    }
    q(R, "flip"), q(q4, "boundAlpha"), q(B, "bound01"), q(k, "clamp01"), q(F, "parseIntFromHex"), q(U, "isOnePointZero"), q(z, "isPercentage"), q(V, "pad2"), q(j, "convertToPercentage"), q(G, "convertDecimalToHex"), q(W, "convertHexToDecimal");
    var H, Y, X, K10 = (Y = "[\\s|\\(]+(" + (H = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)") + ")[,|\\s]+(" + H + ")[,|\\s]+(" + H + ")\\s*\\)?", X = "[\\s|\\(]+(" + H + ")[,|\\s]+(" + H + ")[,|\\s]+(" + H + ")[,|\\s]+(" + H + ")\\s*\\)?", { CSS_UNIT: new RegExp(H), rgb: new RegExp("rgb" + Y), rgba: new RegExp("rgba" + X), hsl: new RegExp("hsl" + Y), hsla: new RegExp("hsla" + X), hsv: new RegExp("hsv" + Y), hsva: new RegExp("hsva" + X), hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ });
    function Z(t50) {
      return !!K10.CSS_UNIT.exec(t50);
    }
    function Q(t50) {
      t50 = t50.replace(i, "").replace(n, "").toLowerCase();
      var e10, r6 = false;
      if (N[t50])
        t50 = N[t50], r6 = true;
      else if ("transparent" == t50)
        return { r: 0, g: 0, b: 0, a: 0, format: "name" };
      return (e10 = K10.rgb.exec(t50)) ? { r: e10[1], g: e10[2], b: e10[3] } : (e10 = K10.rgba.exec(t50)) ? { r: e10[1], g: e10[2], b: e10[3], a: e10[4] } : (e10 = K10.hsl.exec(t50)) ? { h: e10[1], s: e10[2], l: e10[3] } : (e10 = K10.hsla.exec(t50)) ? { h: e10[1], s: e10[2], l: e10[3], a: e10[4] } : (e10 = K10.hsv.exec(t50)) ? { h: e10[1], s: e10[2], v: e10[3] } : (e10 = K10.hsva.exec(t50)) ? { h: e10[1], s: e10[2], v: e10[3], a: e10[4] } : (e10 = K10.hex8.exec(t50)) ? { r: F(e10[1]), g: F(e10[2]), b: F(e10[3]), a: W(e10[4]), format: r6 ? "name" : "hex8" } : (e10 = K10.hex6.exec(t50)) ? { r: F(e10[1]), g: F(e10[2]), b: F(e10[3]), format: r6 ? "name" : "hex" } : (e10 = K10.hex4.exec(t50)) ? { r: F(e10[1] + "" + e10[1]), g: F(e10[2] + "" + e10[2]), b: F(e10[3] + "" + e10[3]), a: W(e10[4] + "" + e10[4]), format: r6 ? "name" : "hex8" } : !!(e10 = K10.hex3.exec(t50)) && { r: F(e10[1] + "" + e10[1]), g: F(e10[2] + "" + e10[2]), b: F(e10[3] + "" + e10[3]), format: r6 ? "name" : "hex" };
    }
    function J(t50) {
      var e10, i10;
      return "AA" !== (e10 = ((t50 = t50 || { level: "AA", size: "small" }).level || "AA").toUpperCase()) && "AAA" !== e10 && (e10 = "AA"), "small" !== (i10 = (t50.size || "small").toLowerCase()) && "large" !== i10 && (i10 = "small"), { level: e10, size: i10 };
    }
    q(Z, "isValidCSSUnit"), q(Q, "stringInputToObject"), q(J, "validateWCAG2Parms"), typeof e6 < "u" && e6.exports ? e6.exports = h : "function" == typeof define && define.amd ? define(function() {
      return h;
    }) : window.tinycolor = h;
  }(Math);
});
var Kx = s((t48, e6) => {
  c();
  var i = "__lodash_hash_undefined__", n = 9007199254740991, r = "[object Arguments]", o3 = "[object Function]", s6 = "[object Object]", a = /^\[object .+?Constructor\]$/, l = /^(?:0|[1-9]\d*)$/, h = {};
  h["[object Float32Array]"] = h["[object Float64Array]"] = h["[object Int8Array]"] = h["[object Int16Array]"] = h["[object Int32Array]"] = h["[object Uint8Array]"] = h["[object Uint8ClampedArray]"] = h["[object Uint16Array]"] = h["[object Uint32Array]"] = true, h[r] = h["[object Array]"] = h["[object ArrayBuffer]"] = h["[object Boolean]"] = h["[object DataView]"] = h["[object Date]"] = h["[object Error]"] = h[o3] = h["[object Map]"] = h["[object Number]"] = h[s6] = h["[object RegExp]"] = h["[object Set]"] = h["[object String]"] = h["[object WeakMap]"] = false;
  var c2 = "object" == typeof global && global && global.Object === Object && global, p4 = "object" == typeof self && self && self.Object === Object && self, d = c2 || p4 || Function("return this")(), f = "object" == typeof t48 && t48 && !t48.nodeType && t48, g = f && "object" == typeof e6 && e6 && !e6.nodeType && e6, m = g && g.exports === f, v4 = m && c2.process, y4 = function() {
    try {
      return g && g.require && g.require("util").types || v4 && v4.binding && v4.binding("util");
    } catch {
    }
  }(), x4 = y4 && y4.isTypedArray;
  function _(t49, e10, i10) {
    switch (i10.length) {
      case 0:
        return t49.call(e10);
      case 1:
        return t49.call(e10, i10[0]);
      case 2:
        return t49.call(e10, i10[0], i10[1]);
      case 3:
        return t49.call(e10, i10[0], i10[1], i10[2]);
    }
    return t49.apply(e10, i10);
  }
  function b(t49, e10) {
    for (var i10 = -1, n10 = Array(t49); ++i10 < t49; )
      n10[i10] = e10(i10);
    return n10;
  }
  function M(t49) {
    return function(e10) {
      return t49(e10);
    };
  }
  function w4(t49, e10) {
    return null == t49 ? void 0 : t49[e10];
  }
  function A(t49, e10) {
    return function(i10) {
      return t49(e10(i10));
    };
  }
  q(_, "apply"), q(b, "baseTimes"), q(M, "baseUnary"), q(w4, "getValue"), q(A, "overArg");
  var S, T = Array.prototype, C = Function.prototype, P = Object.prototype, I = d["__core-js_shared__"], L = C.toString, O = P.hasOwnProperty, N = (S = /[^.]+$/.exec(I && I.keys && I.keys.IE_PROTO || "")) ? "Symbol(src)_1." + S : "", D = P.toString, R = L.call(Object), q4 = RegExp("^" + L.call(O).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), B = m ? d.Buffer : void 0, k = d.Symbol, F = d.Uint8Array, U = B ? B.allocUnsafe : void 0, z = A(Object.getPrototypeOf, Object), V = Object.create, j = P.propertyIsEnumerable, G = T.splice, W = k ? k.toStringTag : void 0, H = function() {
    try {
      var t49 = Yt2(Object, "defineProperty");
      return t49({}, "", {}), t49;
    } catch {
    }
  }(), Y = B ? B.isBuffer : void 0, X = Math.max, K10 = Date.now, Z = Yt2(d, "Map"), Q = Yt2(Object, "create"), J = function() {
    function t49() {
    }
    return q(t49, "object"), function(e10) {
      if (!me(e10))
        return {};
      if (V)
        return V(e10);
      t49.prototype = e10;
      var i10 = new t49();
      return t49.prototype = void 0, i10;
    };
  }();
  function $(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function tt() {
    this.__data__ = Q ? Q(null) : {}, this.size = 0;
  }
  function et(t49) {
    var e10 = this.has(t49) && delete this.__data__[t49];
    return this.size -= e10 ? 1 : 0, e10;
  }
  function it(t49) {
    var e10 = this.__data__;
    if (Q) {
      var n10 = e10[t49];
      return n10 === i ? void 0 : n10;
    }
    return O.call(e10, t49) ? e10[t49] : void 0;
  }
  function nt2(t49) {
    var e10 = this.__data__;
    return Q ? void 0 !== e10[t49] : O.call(e10, t49);
  }
  function rt(t49, e10) {
    var n10 = this.__data__;
    return this.size += this.has(t49) ? 0 : 1, n10[t49] = Q && void 0 === e10 ? i : e10, this;
  }
  function ot(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function st() {
    this.__data__ = [], this.size = 0;
  }
  function at2(t49) {
    var e10 = this.__data__, i10 = St2(e10, t49);
    return !(i10 < 0) && (i10 == e10.length - 1 ? e10.pop() : G.call(e10, i10, 1), --this.size, true);
  }
  function lt(t49) {
    var e10 = this.__data__, i10 = St2(e10, t49);
    return i10 < 0 ? void 0 : e10[i10][1];
  }
  function ut(t49) {
    return St2(this.__data__, t49) > -1;
  }
  function ht2(t49, e10) {
    var i10 = this.__data__, n10 = St2(i10, t49);
    return n10 < 0 ? (++this.size, i10.push([t49, e10])) : i10[n10][1] = e10, this;
  }
  function ct(t49) {
    var e10 = -1, i10 = null == t49 ? 0 : t49.length;
    for (this.clear(); ++e10 < i10; ) {
      var n10 = t49[e10];
      this.set(n10[0], n10[1]);
    }
  }
  function pt() {
    this.size = 0, this.__data__ = { hash: new $(), map: new (Z || ot)(), string: new $() };
  }
  function dt2(t49) {
    var e10 = Ht(this, t49).delete(t49);
    return this.size -= e10 ? 1 : 0, e10;
  }
  function ft(t49) {
    return Ht(this, t49).get(t49);
  }
  function gt(t49) {
    return Ht(this, t49).has(t49);
  }
  function mt2(t49, e10) {
    var i10 = Ht(this, t49), n10 = i10.size;
    return i10.set(t49, e10), this.size += i10.size == n10 ? 0 : 1, this;
  }
  function vt(t49) {
    var e10 = this.__data__ = new ot(t49);
    this.size = e10.size;
  }
  function yt() {
    this.__data__ = new ot(), this.size = 0;
  }
  function xt(t49) {
    var e10 = this.__data__, i10 = e10.delete(t49);
    return this.size = e10.size, i10;
  }
  function _t(t49) {
    return this.__data__.get(t49);
  }
  function bt(t49) {
    return this.__data__.has(t49);
  }
  function Mt(t49, e10) {
    var i10 = this.__data__;
    if (i10 instanceof ot) {
      var n10 = i10.__data__;
      if (!Z || n10.length < 199)
        return n10.push([t49, e10]), this.size = ++i10.size, this;
      i10 = this.__data__ = new ct(n10);
    }
    return i10.set(t49, e10), this.size = i10.size, this;
  }
  function Et(t49, e10) {
    var i10 = he(t49), n10 = !i10 && ue2(t49), r6 = !i10 && !n10 && de(t49), o6 = !i10 && !n10 && !r6 && xe(t49), s10 = i10 || n10 || r6 || o6, a3 = s10 ? b(t49.length, String) : [], l3 = a3.length;
    for (var u2 in t49)
      (e10 || O.call(t49, u2)) && (!s10 || !("length" == u2 || r6 && ("offset" == u2 || "parent" == u2) || o6 && ("buffer" == u2 || "byteLength" == u2 || "byteOffset" == u2) || Zt(u2, l3))) && a3.push(u2);
    return a3;
  }
  function wt2(t49, e10, i10) {
    (void 0 !== i10 && !le(t49[e10], i10) || void 0 === i10 && !(e10 in t49)) && Tt(t49, e10, i10);
  }
  function At(t49, e10, i10) {
    var n10 = t49[e10];
    (!O.call(t49, e10) || !le(n10, i10) || void 0 === i10 && !(e10 in t49)) && Tt(t49, e10, i10);
  }
  function St2(t49, e10) {
    for (var i10 = t49.length; i10--; )
      if (le(t49[i10][0], e10))
        return i10;
    return -1;
  }
  function Tt(t49, e10, i10) {
    "__proto__" == e10 && H ? H(t49, e10, { configurable: true, enumerable: true, value: i10, writable: true }) : t49[e10] = i10;
  }
  q($, "Hash"), q(tt, "hashClear"), q(et, "hashDelete"), q(it, "hashGet"), q(nt2, "hashHas"), q(rt, "hashSet"), $.prototype.clear = tt, $.prototype.delete = et, $.prototype.get = it, $.prototype.has = nt2, $.prototype.set = rt, q(ot, "ListCache"), q(st, "listCacheClear"), q(at2, "listCacheDelete"), q(lt, "listCacheGet"), q(ut, "listCacheHas"), q(ht2, "listCacheSet"), ot.prototype.clear = st, ot.prototype.delete = at2, ot.prototype.get = lt, ot.prototype.has = ut, ot.prototype.set = ht2, q(ct, "MapCache"), q(pt, "mapCacheClear"), q(dt2, "mapCacheDelete"), q(ft, "mapCacheGet"), q(gt, "mapCacheHas"), q(mt2, "mapCacheSet"), ct.prototype.clear = pt, ct.prototype.delete = dt2, ct.prototype.get = ft, ct.prototype.has = gt, ct.prototype.set = mt2, q(vt, "Stack"), q(yt, "stackClear"), q(xt, "stackDelete"), q(_t, "stackGet"), q(bt, "stackHas"), q(Mt, "stackSet"), vt.prototype.clear = yt, vt.prototype.delete = xt, vt.prototype.get = _t, vt.prototype.has = bt, vt.prototype.set = Mt, q(Et, "arrayLikeKeys"), q(wt2, "assignMergeValue"), q(At, "assignValue"), q(St2, "assocIndexOf"), q(Tt, "baseAssignValue");
  var Ct = Gt2();
  function Pt(t49) {
    return null == t49 ? void 0 === t49 ? "[object Undefined]" : "[object Null]" : W && W in Object(t49) ? Xt2(t49) : ie(t49);
  }
  function It(t49) {
    return ve(t49) && Pt(t49) == r;
  }
  function Lt(t49) {
    return !(!me(t49) || $t2(t49)) && (fe2(t49) ? q4 : a).test(ae(t49));
  }
  function Ot2(t49) {
    return ve(t49) && ge(t49.length) && !!h[Pt(t49)];
  }
  function Nt(t49) {
    if (!me(t49))
      return ee(t49);
    var e10 = te(t49), i10 = [];
    for (var n10 in t49)
      "constructor" == n10 && (e10 || !O.call(t49, n10)) || i10.push(n10);
    return i10;
  }
  function Dt(t49, e10, i10, n10, r6) {
    t49 !== e10 && Ct(e10, function(o6, s10) {
      if (r6 || (r6 = new vt()), me(o6))
        Rt(t49, e10, s10, i10, Dt, n10, r6);
      else {
        var a3 = n10 ? n10(re(t49, s10), o6, s10 + "", t49, e10, r6) : void 0;
        void 0 === a3 && (a3 = o6), wt2(t49, s10, a3);
      }
    }, Me);
  }
  function Rt(t49, e10, i10, n10, r6, o6, s10) {
    var a3 = re(t49, i10), l3 = re(e10, i10), u2 = s10.get(l3);
    if (u2)
      wt2(t49, i10, u2);
    else {
      var h2 = o6 ? o6(a3, l3, i10 + "", t49, e10, s10) : void 0, c4 = void 0 === h2;
      if (c4) {
        var p10 = he(l3), d4 = !p10 && de(l3), f2 = !p10 && !d4 && xe(l3);
        h2 = l3, p10 || d4 || f2 ? he(a3) ? h2 = a3 : pe(a3) ? h2 = zt(a3) : d4 ? (c4 = false, h2 = kt(l3, true)) : f2 ? (c4 = false, h2 = Ut(l3, true)) : h2 = [] : ye(l3) || ue2(l3) ? (h2 = a3, ue2(a3) ? h2 = _e(a3) : (!me(a3) || fe2(a3)) && (h2 = Kt(l3))) : c4 = false;
      }
      c4 && (s10.set(l3, h2), r6(h2, l3, n10, o6, s10), s10.delete(l3)), wt2(t49, i10, h2);
    }
  }
  function qt(t49, e10) {
    return oe(ne(t49, e10, Ae), t49 + "");
  }
  q(Pt, "baseGetTag"), q(It, "baseIsArguments"), q(Lt, "baseIsNative"), q(Ot2, "baseIsTypedArray"), q(Nt, "baseKeysIn"), q(Dt, "baseMerge"), q(Rt, "baseMergeDeep"), q(qt, "baseRest");
  var Bt = H ? function(t49, e10) {
    return H(t49, "toString", { configurable: true, enumerable: false, value: we(e10), writable: true });
  } : Ae;
  function kt(t49, e10) {
    if (e10)
      return t49.slice();
    var i10 = t49.length, n10 = U ? U(i10) : new t49.constructor(i10);
    return t49.copy(n10), n10;
  }
  function Ft2(t49) {
    var e10 = new t49.constructor(t49.byteLength);
    return new F(e10).set(new F(t49)), e10;
  }
  function Ut(t49, e10) {
    var i10 = e10 ? Ft2(t49.buffer) : t49.buffer;
    return new t49.constructor(i10, t49.byteOffset, t49.length);
  }
  function zt(t49, e10) {
    var i10 = -1, n10 = t49.length;
    for (e10 || (e10 = Array(n10)); ++i10 < n10; )
      e10[i10] = t49[i10];
    return e10;
  }
  function Vt2(t49, e10, i10, n10) {
    var r6 = !i10;
    i10 || (i10 = {});
    for (var o6 = -1, s10 = e10.length; ++o6 < s10; ) {
      var a3 = e10[o6], l3 = n10 ? n10(i10[a3], t49[a3], a3, i10, t49) : void 0;
      void 0 === l3 && (l3 = t49[a3]), r6 ? Tt(i10, a3, l3) : At(i10, a3, l3);
    }
    return i10;
  }
  function jt2(t49) {
    return qt(function(e10, i10) {
      var n10 = -1, r6 = i10.length, o6 = r6 > 1 ? i10[r6 - 1] : void 0, s10 = r6 > 2 ? i10[2] : void 0;
      for (o6 = t49.length > 3 && "function" == typeof o6 ? (r6--, o6) : void 0, s10 && Qt(i10[0], i10[1], s10) && (o6 = r6 < 3 ? void 0 : o6, r6 = 1), e10 = Object(e10); ++n10 < r6; ) {
        var a3 = i10[n10];
        a3 && t49(e10, a3, n10, o6);
      }
      return e10;
    });
  }
  function Gt2(t49) {
    return function(e10, i10, n10) {
      for (var r6 = -1, o6 = Object(e10), s10 = n10(e10), a3 = s10.length; a3--; ) {
        var l3 = s10[t49 ? a3 : ++r6];
        if (false === i10(o6[l3], l3, o6))
          break;
      }
      return e10;
    };
  }
  function Wt2(t49, e10, i10, n10, r6, o6) {
    return me(t49) && me(e10) && (o6.set(e10, t49), Dt(t49, e10, void 0, Wt2, o6), o6.delete(e10)), t49;
  }
  function Ht(t49, e10) {
    var i10 = t49.__data__;
    return Jt(e10) ? i10["string" == typeof e10 ? "string" : "hash"] : i10.map;
  }
  function Yt2(t49, e10) {
    var i10 = w4(t49, e10);
    return Lt(i10) ? i10 : void 0;
  }
  function Xt2(t49) {
    var e10 = O.call(t49, W), i10 = t49[W];
    try {
      t49[W] = void 0;
      var n10 = true;
    } catch {
    }
    var r6 = D.call(t49);
    return n10 && (e10 ? t49[W] = i10 : delete t49[W]), r6;
  }
  function Kt(t49) {
    return "function" != typeof t49.constructor || te(t49) ? {} : J(z(t49));
  }
  function Zt(t49, e10) {
    var i10 = typeof t49;
    return !!(e10 = null == e10 ? n : e10) && ("number" == i10 || "symbol" != i10 && l.test(t49)) && t49 > -1 && t49 % 1 == 0 && t49 < e10;
  }
  function Qt(t49, e10, i10) {
    if (!me(i10))
      return false;
    var n10 = typeof e10;
    return !!("number" == n10 ? ce(i10) && Zt(e10, i10.length) : "string" == n10 && e10 in i10) && le(i10[e10], t49);
  }
  function Jt(t49) {
    var e10 = typeof t49;
    return "string" == e10 || "number" == e10 || "symbol" == e10 || "boolean" == e10 ? "__proto__" !== t49 : null === t49;
  }
  function $t2(t49) {
    return !!N && N in t49;
  }
  function te(t49) {
    var e10 = t49 && t49.constructor;
    return t49 === ("function" == typeof e10 && e10.prototype || P);
  }
  function ee(t49) {
    var e10 = [];
    if (null != t49)
      for (var i10 in Object(t49))
        e10.push(i10);
    return e10;
  }
  function ie(t49) {
    return D.call(t49);
  }
  function ne(t49, e10, i10) {
    return e10 = X(void 0 === e10 ? t49.length - 1 : e10, 0), function() {
      for (var n10 = arguments, r6 = -1, o6 = X(n10.length - e10, 0), s10 = Array(o6); ++r6 < o6; )
        s10[r6] = n10[e10 + r6];
      r6 = -1;
      for (var a3 = Array(e10 + 1); ++r6 < e10; )
        a3[r6] = n10[r6];
      return a3[e10] = i10(s10), _(t49, this, a3);
    };
  }
  function re(t49, e10) {
    if (("constructor" !== e10 || "function" != typeof t49[e10]) && "__proto__" != e10)
      return t49[e10];
  }
  q(kt, "cloneBuffer"), q(Ft2, "cloneArrayBuffer"), q(Ut, "cloneTypedArray"), q(zt, "copyArray"), q(Vt2, "copyObject"), q(jt2, "createAssigner"), q(Gt2, "createBaseFor"), q(Wt2, "customDefaultsMerge"), q(Ht, "getMapData"), q(Yt2, "getNative"), q(Xt2, "getRawTag"), q(Kt, "initCloneObject"), q(Zt, "isIndex"), q(Qt, "isIterateeCall"), q(Jt, "isKeyable"), q($t2, "isMasked"), q(te, "isPrototype"), q(ee, "nativeKeysIn"), q(ie, "objectToString"), q(ne, "overRest"), q(re, "safeGet");
  var oe = se(Bt);
  function se(t49) {
    var e10 = 0, i10 = 0;
    return function() {
      var n10 = K10(), r6 = 16 - (n10 - i10);
      if (i10 = n10, r6 > 0) {
        if (++e10 >= 800)
          return arguments[0];
      } else
        e10 = 0;
      return t49.apply(void 0, arguments);
    };
  }
  function ae(t49) {
    if (null != t49) {
      try {
        return L.call(t49);
      } catch {
      }
      try {
        return t49 + "";
      } catch {
      }
    }
    return "";
  }
  function le(t49, e10) {
    return t49 === e10 || t49 != t49 && e10 != e10;
  }
  q(se, "shortOut"), q(ae, "toSource"), q(le, "eq");
  var ue2 = It(/* @__PURE__ */ function() {
    return arguments;
  }()) ? It : function(t49) {
    return ve(t49) && O.call(t49, "callee") && !j.call(t49, "callee");
  }, he = Array.isArray;
  function ce(t49) {
    return null != t49 && ge(t49.length) && !fe2(t49);
  }
  function pe(t49) {
    return ve(t49) && ce(t49);
  }
  q(ce, "isArrayLike"), q(pe, "isArrayLikeObject");
  var de = Y || Se;
  function fe2(t49) {
    if (!me(t49))
      return false;
    var e10 = Pt(t49);
    return e10 == o3 || "[object GeneratorFunction]" == e10 || "[object AsyncFunction]" == e10 || "[object Proxy]" == e10;
  }
  function ge(t49) {
    return "number" == typeof t49 && t49 > -1 && t49 % 1 == 0 && t49 <= n;
  }
  function me(t49) {
    var e10 = typeof t49;
    return null != t49 && ("object" == e10 || "function" == e10);
  }
  function ve(t49) {
    return null != t49 && "object" == typeof t49;
  }
  function ye(t49) {
    if (!ve(t49) || Pt(t49) != s6)
      return false;
    var e10 = z(t49);
    if (null === e10)
      return true;
    var i10 = O.call(e10, "constructor") && e10.constructor;
    return "function" == typeof i10 && i10 instanceof i10 && L.call(i10) == R;
  }
  q(fe2, "isFunction"), q(ge, "isLength"), q(me, "isObject"), q(ve, "isObjectLike"), q(ye, "isPlainObject");
  var xe = x4 ? M(x4) : Ot2;
  function _e(t49) {
    return Vt2(t49, Me(t49));
  }
  q(_e, "toPlainObject");
  var be = qt(function(t49) {
    return t49.push(void 0, Wt2), _(Ee, void 0, t49);
  });
  function Me(t49) {
    return ce(t49) ? Et(t49, true) : Nt(t49);
  }
  q(Me, "keysIn");
  var Ee = jt2(function(t49, e10, i10, n10) {
    Dt(t49, e10, i10, n10);
  });
  function we(t49) {
    return function() {
      return t49;
    };
  }
  function Ae(t49) {
    return t49;
  }
  function Se() {
    return false;
  }
  q(we, "constant"), q(Ae, "identity"), q(Se, "stubFalse"), e6.exports = be;
});
var hX = s((t48, e6) => {
  c();
  var i = 9007199254740991, n = /^(?:0|[1-9]\d*)$/;
  function r(t49, e10, i10) {
    switch (i10.length) {
      case 0:
        return t49.call(e10);
      case 1:
        return t49.call(e10, i10[0]);
      case 2:
        return t49.call(e10, i10[0], i10[1]);
      case 3:
        return t49.call(e10, i10[0], i10[1], i10[2]);
    }
    return t49.apply(e10, i10);
  }
  function o3(t49, e10) {
    for (var i10 = -1, n10 = Array(t49); ++i10 < t49; )
      n10[i10] = e10(i10);
    return n10;
  }
  q(r, "apply"), q(o3, "baseTimes");
  var s6 = Object.prototype, a = s6.hasOwnProperty, l = s6.toString, h = s6.propertyIsEnumerable, c2 = Math.max;
  function p4(t49, e10) {
    var i10 = S(t49) || A(t49) ? o3(t49.length, String) : [], n10 = i10.length, r6 = !!n10;
    for (var s10 in t49)
      (e10 || a.call(t49, s10)) && (!r6 || "length" != s10 && !x4(s10, n10)) && i10.push(s10);
    return i10;
  }
  function d(t49, e10, i10, n10) {
    return void 0 === t49 || w4(t49, s6[i10]) && !a.call(n10, i10) ? e10 : t49;
  }
  function f(t49, e10, i10) {
    var n10 = t49[e10];
    (!a.call(t49, e10) || !w4(n10, i10) || void 0 === i10 && !(e10 in t49)) && (t49[e10] = i10);
  }
  function g(t49) {
    if (!L(t49))
      return M(t49);
    var e10 = b(t49), i10 = [];
    for (var n10 in t49)
      "constructor" == n10 && (e10 || !a.call(t49, n10)) || i10.push(n10);
    return i10;
  }
  function m(t49, e10) {
    return e10 = c2(void 0 === e10 ? t49.length - 1 : e10, 0), function() {
      for (var i10 = arguments, n10 = -1, o6 = c2(i10.length - e10, 0), s10 = Array(o6); ++n10 < o6; )
        s10[n10] = i10[e10 + n10];
      n10 = -1;
      for (var a3 = Array(e10 + 1); ++n10 < e10; )
        a3[n10] = i10[n10];
      return a3[e10] = s10, r(t49, this, a3);
    };
  }
  function v4(t49, e10, i10, n10) {
    i10 || (i10 = {});
    for (var r6 = -1, o6 = e10.length; ++r6 < o6; ) {
      var s10 = e10[r6], a3 = n10 ? n10(i10[s10], t49[s10], s10, i10, t49) : void 0;
      f(i10, s10, void 0 === a3 ? t49[s10] : a3);
    }
    return i10;
  }
  function y4(t49) {
    return m(function(e10, i10) {
      var n10 = -1, r6 = i10.length, o6 = r6 > 1 ? i10[r6 - 1] : void 0, s10 = r6 > 2 ? i10[2] : void 0;
      for (o6 = t49.length > 3 && "function" == typeof o6 ? (r6--, o6) : void 0, s10 && _(i10[0], i10[1], s10) && (o6 = r6 < 3 ? void 0 : o6, r6 = 1), e10 = Object(e10); ++n10 < r6; ) {
        var a3 = i10[n10];
        a3 && t49(e10, a3, n10, o6);
      }
      return e10;
    });
  }
  function x4(t49, e10) {
    return !!(e10 = null == e10 ? i : e10) && ("number" == typeof t49 || n.test(t49)) && t49 > -1 && t49 % 1 == 0 && t49 < e10;
  }
  function _(t49, e10, i10) {
    if (!L(i10))
      return false;
    var n10 = typeof e10;
    return !!("number" == n10 ? T(i10) && x4(e10, i10.length) : "string" == n10 && e10 in i10) && w4(i10[e10], t49);
  }
  function b(t49) {
    var e10 = t49 && t49.constructor;
    return t49 === ("function" == typeof e10 && e10.prototype || s6);
  }
  function M(t49) {
    var e10 = [];
    if (null != t49)
      for (var i10 in Object(t49))
        e10.push(i10);
    return e10;
  }
  function w4(t49, e10) {
    return t49 === e10 || t49 != t49 && e10 != e10;
  }
  function A(t49) {
    return C(t49) && a.call(t49, "callee") && (!h.call(t49, "callee") || "[object Arguments]" == l.call(t49));
  }
  q(p4, "arrayLikeKeys"), q(d, "assignInDefaults"), q(f, "assignValue"), q(g, "baseKeysIn"), q(m, "baseRest"), q(v4, "copyObject"), q(y4, "createAssigner"), q(x4, "isIndex"), q(_, "isIterateeCall"), q(b, "isPrototype"), q(M, "nativeKeysIn"), q(w4, "eq"), q(A, "isArguments");
  var S = Array.isArray;
  function T(t49) {
    return null != t49 && I(t49.length) && !P(t49);
  }
  function C(t49) {
    return O(t49) && T(t49);
  }
  function P(t49) {
    var e10 = L(t49) ? l.call(t49) : "";
    return "[object Function]" == e10 || "[object GeneratorFunction]" == e10;
  }
  function I(t49) {
    return "number" == typeof t49 && t49 > -1 && t49 % 1 == 0 && t49 <= i;
  }
  function L(t49) {
    var e10 = typeof t49;
    return !!t49 && ("object" == e10 || "function" == e10);
  }
  function O(t49) {
    return !!t49 && "object" == typeof t49;
  }
  q(T, "isArrayLike"), q(C, "isArrayLikeObject"), q(P, "isFunction"), q(I, "isLength"), q(L, "isObject"), q(O, "isObjectLike");
  var N = y4(function(t49, e10, i10, n10) {
    v4(e10, R(e10), t49, n10);
  }), D = m(function(t49) {
    return t49.push(void 0, d), r(N, void 0, t49);
  });
  function R(t49) {
    return T(t49) ? p4(t49, true) : g(t49);
  }
  q(R, "keysIn"), e6.exports = D;
});
var _X = s((t48, e6) => {
  "use strict";
  c();
  var i, n = {}, r = false;
  typeof e6 < "u" && e6.exports ? (e6.exports = n, r = true) : typeof document < "u" ? window.ClipperLib = n : self.ClipperLib = n, r ? (o3 = "chrome", i = "Netscape") : (o3 = navigator.userAgent.toString().toLowerCase(), i = navigator.appName);
  var o3, s6 = {};
  -1 != o3.indexOf("chrome") && -1 == o3.indexOf("chromium") ? s6.chrome = 1 : s6.chrome = 0, -1 != o3.indexOf("chromium") ? s6.chromium = 1 : s6.chromium = 0, -1 != o3.indexOf("safari") && -1 == o3.indexOf("chrome") && -1 == o3.indexOf("chromium") ? s6.safari = 1 : s6.safari = 0, -1 != o3.indexOf("firefox") ? s6.firefox = 1 : s6.firefox = 0, -1 != o3.indexOf("firefox/17") ? s6.firefox17 = 1 : s6.firefox17 = 0, -1 != o3.indexOf("firefox/15") ? s6.firefox15 = 1 : s6.firefox15 = 0, -1 != o3.indexOf("firefox/3") ? s6.firefox3 = 1 : s6.firefox3 = 0, -1 != o3.indexOf("opera") ? s6.opera = 1 : s6.opera = 0, -1 != o3.indexOf("msie 10") ? s6.msie10 = 1 : s6.msie10 = 0, -1 != o3.indexOf("msie 9") ? s6.msie9 = 1 : s6.msie9 = 0, -1 != o3.indexOf("msie 8") ? s6.msie8 = 1 : s6.msie8 = 0, -1 != o3.indexOf("msie 7") ? s6.msie7 = 1 : s6.msie7 = 0, -1 != o3.indexOf("msie ") ? s6.msie = 1 : s6.msie = 0, n.biginteger_used = null;
  var a;
  function l(t49, e10, i10) {
    n.biginteger_used = 1, null != t49 && ("number" == typeof t49 && typeof e10 > "u" ? this.fromInt(t49) : "number" == typeof t49 ? this.fromNumber(t49, e10, i10) : null == e10 && "string" != typeof t49 ? this.fromString(t49, 256) : this.fromString(t49, e10));
  }
  function h() {
    return new l(null);
  }
  function c2(t49, e10, i10, n10, r6, o6) {
    for (; --o6 >= 0; ) {
      var s10 = e10 * this[t49++] + i10[n10] + r6;
      r6 = Math.floor(s10 / 67108864), i10[n10++] = 67108863 & s10;
    }
    return r6;
  }
  function p4(t49, e10, i10, n10, r6, o6) {
    for (var s10 = 32767 & e10, a3 = e10 >> 15; --o6 >= 0; ) {
      var l3 = 32767 & this[t49], u2 = this[t49++] >> 15, h2 = a3 * l3 + u2 * s10;
      r6 = ((l3 = s10 * l3 + ((32767 & h2) << 15) + i10[n10] + (1073741823 & r6)) >>> 30) + (h2 >>> 15) + a3 * u2 + (r6 >>> 30), i10[n10++] = 1073741823 & l3;
    }
    return r6;
  }
  function d(t49, e10, i10, n10, r6, o6) {
    for (var s10 = 16383 & e10, a3 = e10 >> 14; --o6 >= 0; ) {
      var l3 = 16383 & this[t49], u2 = this[t49++] >> 14, h2 = a3 * l3 + u2 * s10;
      r6 = ((l3 = s10 * l3 + ((16383 & h2) << 14) + i10[n10] + r6) >> 28) + (h2 >> 14) + a3 * u2, i10[n10++] = 268435455 & l3;
    }
    return r6;
  }
  q(l, "BigInteger"), q(h, "nbi"), q(c2, "am1"), q(p4, "am2"), q(d, "am3"), "Microsoft Internet Explorer" == i ? (l.prototype.am = p4, a = 30) : "Netscape" != i ? (l.prototype.am = c2, a = 26) : (l.prototype.am = d, a = 28), l.prototype.DB = a, l.prototype.DM = (1 << a) - 1, l.prototype.DV = 1 << a;
  l.prototype.FV = Math.pow(2, 52), l.prototype.F1 = 52 - a, l.prototype.F2 = 2 * a - 52;
  var f, g, m = new Array();
  for (f = "0".charCodeAt(0), g = 0; g <= 9; ++g)
    m[f++] = g;
  for (f = "a".charCodeAt(0), g = 10; g < 36; ++g)
    m[f++] = g;
  for (f = "A".charCodeAt(0), g = 10; g < 36; ++g)
    m[f++] = g;
  function v4(t49) {
    return "0123456789abcdefghijklmnopqrstuvwxyz".charAt(t49);
  }
  function y4(t49, e10) {
    var i10 = m[t49.charCodeAt(e10)];
    return null == i10 ? -1 : i10;
  }
  function x4(t49) {
    for (var e10 = this.t - 1; e10 >= 0; --e10)
      t49[e10] = this[e10];
    t49.t = this.t, t49.s = this.s;
  }
  function _(t49) {
    this.t = 1, this.s = t49 < 0 ? -1 : 0, t49 > 0 ? this[0] = t49 : t49 < -1 ? this[0] = t49 + this.DV : this.t = 0;
  }
  function b(t49) {
    var e10 = h();
    return e10.fromInt(t49), e10;
  }
  function M(t49, e10) {
    var i10;
    if (16 == e10)
      i10 = 4;
    else if (8 == e10)
      i10 = 3;
    else if (256 == e10)
      i10 = 8;
    else if (2 == e10)
      i10 = 1;
    else if (32 == e10)
      i10 = 5;
    else {
      if (4 != e10)
        return void this.fromRadix(t49, e10);
      i10 = 2;
    }
    this.t = 0, this.s = 0;
    for (var n10 = t49.length, r6 = false, o6 = 0; --n10 >= 0; ) {
      var s10 = 8 == i10 ? 255 & t49[n10] : y4(t49, n10);
      s10 < 0 ? "-" == t49.charAt(n10) && (r6 = true) : (r6 = false, 0 == o6 ? this[this.t++] = s10 : o6 + i10 > this.DB ? (this[this.t - 1] |= (s10 & (1 << this.DB - o6) - 1) << o6, this[this.t++] = s10 >> this.DB - o6) : this[this.t - 1] |= s10 << o6, (o6 += i10) >= this.DB && (o6 -= this.DB));
    }
    8 == i10 && 128 & t49[0] && (this.s = -1, o6 > 0 && (this[this.t - 1] |= (1 << this.DB - o6) - 1 << o6)), this.clamp(), r6 && l.ZERO.subTo(this, this);
  }
  function w4() {
    for (var t49 = this.s & this.DM; this.t > 0 && this[this.t - 1] == t49; )
      --this.t;
  }
  function A(t49) {
    if (this.s < 0)
      return "-" + this.negate().toString(t49);
    var e10;
    if (16 == t49)
      e10 = 4;
    else if (8 == t49)
      e10 = 3;
    else if (2 == t49)
      e10 = 1;
    else if (32 == t49)
      e10 = 5;
    else {
      if (4 != t49)
        return this.toRadix(t49);
      e10 = 2;
    }
    var i10, n10 = (1 << e10) - 1, r6 = false, o6 = "", s10 = this.t, a3 = this.DB - s10 * this.DB % e10;
    if (s10-- > 0)
      for (a3 < this.DB && (i10 = this[s10] >> a3) > 0 && (r6 = true, o6 = v4(i10)); s10 >= 0; )
        a3 < e10 ? (i10 = (this[s10] & (1 << a3) - 1) << e10 - a3, i10 |= this[--s10] >> (a3 += this.DB - e10)) : (i10 = this[s10] >> (a3 -= e10) & n10, a3 <= 0 && (a3 += this.DB, --s10)), i10 > 0 && (r6 = true), r6 && (o6 += v4(i10));
    return r6 ? o6 : "0";
  }
  function S() {
    var t49 = h();
    return l.ZERO.subTo(this, t49), t49;
  }
  function T() {
    return this.s < 0 ? this.negate() : this;
  }
  function C(t49) {
    var e10 = this.s - t49.s;
    if (0 != e10)
      return e10;
    var i10 = this.t;
    if (0 != (e10 = i10 - t49.t))
      return this.s < 0 ? -e10 : e10;
    for (; --i10 >= 0; )
      if (0 != (e10 = this[i10] - t49[i10]))
        return e10;
    return 0;
  }
  function P(t49) {
    var e10, i10 = 1;
    return 0 != (e10 = t49 >>> 16) && (t49 = e10, i10 += 16), 0 != (e10 = t49 >> 8) && (t49 = e10, i10 += 8), 0 != (e10 = t49 >> 4) && (t49 = e10, i10 += 4), 0 != (e10 = t49 >> 2) && (t49 = e10, i10 += 2), 0 != (e10 = t49 >> 1) && (t49 = e10, i10 += 1), i10;
  }
  function I() {
    return this.t <= 0 ? 0 : this.DB * (this.t - 1) + P(this[this.t - 1] ^ this.s & this.DM);
  }
  function L(t49, e10) {
    var i10;
    for (i10 = this.t - 1; i10 >= 0; --i10)
      e10[i10 + t49] = this[i10];
    for (i10 = t49 - 1; i10 >= 0; --i10)
      e10[i10] = 0;
    e10.t = this.t + t49, e10.s = this.s;
  }
  function O(t49, e10) {
    for (var i10 = t49; i10 < this.t; ++i10)
      e10[i10 - t49] = this[i10];
    e10.t = Math.max(this.t - t49, 0), e10.s = this.s;
  }
  function N(t49, e10) {
    var i10, n10 = t49 % this.DB, r6 = this.DB - n10, o6 = (1 << r6) - 1, s10 = Math.floor(t49 / this.DB), a3 = this.s << n10 & this.DM;
    for (i10 = this.t - 1; i10 >= 0; --i10)
      e10[i10 + s10 + 1] = this[i10] >> r6 | a3, a3 = (this[i10] & o6) << n10;
    for (i10 = s10 - 1; i10 >= 0; --i10)
      e10[i10] = 0;
    e10[s10] = a3, e10.t = this.t + s10 + 1, e10.s = this.s, e10.clamp();
  }
  function D(t49, e10) {
    e10.s = this.s;
    var i10 = Math.floor(t49 / this.DB);
    if (i10 >= this.t)
      e10.t = 0;
    else {
      var n10 = t49 % this.DB, r6 = this.DB - n10, o6 = (1 << n10) - 1;
      e10[0] = this[i10] >> n10;
      for (var s10 = i10 + 1; s10 < this.t; ++s10)
        e10[s10 - i10 - 1] |= (this[s10] & o6) << r6, e10[s10 - i10] = this[s10] >> n10;
      n10 > 0 && (e10[this.t - i10 - 1] |= (this.s & o6) << r6), e10.t = this.t - i10, e10.clamp();
    }
  }
  function R(t49, e10) {
    for (var i10 = 0, n10 = 0, r6 = Math.min(t49.t, this.t); i10 < r6; )
      n10 += this[i10] - t49[i10], e10[i10++] = n10 & this.DM, n10 >>= this.DB;
    if (t49.t < this.t) {
      for (n10 -= t49.s; i10 < this.t; )
        n10 += this[i10], e10[i10++] = n10 & this.DM, n10 >>= this.DB;
      n10 += this.s;
    } else {
      for (n10 += this.s; i10 < t49.t; )
        n10 -= t49[i10], e10[i10++] = n10 & this.DM, n10 >>= this.DB;
      n10 -= t49.s;
    }
    e10.s = n10 < 0 ? -1 : 0, n10 < -1 ? e10[i10++] = this.DV + n10 : n10 > 0 && (e10[i10++] = n10), e10.t = i10, e10.clamp();
  }
  function q4(t49, e10) {
    var i10 = this.abs(), n10 = t49.abs(), r6 = i10.t;
    for (e10.t = r6 + n10.t; --r6 >= 0; )
      e10[r6] = 0;
    for (r6 = 0; r6 < n10.t; ++r6)
      e10[r6 + i10.t] = i10.am(0, n10[r6], e10, r6, 0, i10.t);
    e10.s = 0, e10.clamp(), this.s != t49.s && l.ZERO.subTo(e10, e10);
  }
  function B(t49) {
    for (var e10 = this.abs(), i10 = t49.t = 2 * e10.t; --i10 >= 0; )
      t49[i10] = 0;
    for (i10 = 0; i10 < e10.t - 1; ++i10) {
      var n10 = e10.am(i10, e10[i10], t49, 2 * i10, 0, 1);
      (t49[i10 + e10.t] += e10.am(i10 + 1, 2 * e10[i10], t49, 2 * i10 + 1, n10, e10.t - i10 - 1)) >= e10.DV && (t49[i10 + e10.t] -= e10.DV, t49[i10 + e10.t + 1] = 1);
    }
    t49.t > 0 && (t49[t49.t - 1] += e10.am(i10, e10[i10], t49, 2 * i10, 0, 1)), t49.s = 0, t49.clamp();
  }
  function k(t49, e10, i10) {
    var n10 = t49.abs();
    if (!(n10.t <= 0)) {
      var r6 = this.abs();
      if (r6.t < n10.t)
        return null != e10 && e10.fromInt(0), void (null != i10 && this.copyTo(i10));
      null == i10 && (i10 = h());
      var o6 = h(), s10 = this.s, a3 = t49.s, u2 = this.DB - P(n10[n10.t - 1]);
      u2 > 0 ? (n10.lShiftTo(u2, o6), r6.lShiftTo(u2, i10)) : (n10.copyTo(o6), r6.copyTo(i10));
      var c4 = o6.t, p10 = o6[c4 - 1];
      if (0 != p10) {
        var d4 = p10 * (1 << this.F1) + (c4 > 1 ? o6[c4 - 2] >> this.F2 : 0), f2 = this.FV / d4, g4 = (1 << this.F1) / d4, m4 = 1 << this.F2, v10 = i10.t, y10 = v10 - c4, x10 = null == e10 ? h() : e10;
        for (o6.dlShiftTo(y10, x10), i10.compareTo(x10) >= 0 && (i10[i10.t++] = 1, i10.subTo(x10, i10)), l.ONE.dlShiftTo(c4, x10), x10.subTo(o6, o6); o6.t < c4; )
          o6[o6.t++] = 0;
        for (; --y10 >= 0; ) {
          var _4 = i10[--v10] == p10 ? this.DM : Math.floor(i10[v10] * f2 + (i10[v10 - 1] + m4) * g4);
          if ((i10[v10] += o6.am(0, _4, i10, y10, 0, c4)) < _4)
            for (o6.dlShiftTo(y10, x10), i10.subTo(x10, i10); i10[v10] < --_4; )
              i10.subTo(x10, i10);
        }
        null != e10 && (i10.drShiftTo(c4, e10), s10 != a3 && l.ZERO.subTo(e10, e10)), i10.t = c4, i10.clamp(), u2 > 0 && i10.rShiftTo(u2, i10), s10 < 0 && l.ZERO.subTo(i10, i10);
      }
    }
  }
  function F(t49) {
    var e10 = h();
    return this.abs().divRemTo(t49, null, e10), this.s < 0 && e10.compareTo(l.ZERO) > 0 && t49.subTo(e10, e10), e10;
  }
  function U(t49) {
    this.m = t49;
  }
  function z(t49) {
    return t49.s < 0 || t49.compareTo(this.m) >= 0 ? t49.mod(this.m) : t49;
  }
  function V(t49) {
    return t49;
  }
  function j(t49) {
    t49.divRemTo(this.m, null, t49);
  }
  function G(t49, e10, i10) {
    t49.multiplyTo(e10, i10), this.reduce(i10);
  }
  function W(t49, e10) {
    t49.squareTo(e10), this.reduce(e10);
  }
  function H() {
    if (this.t < 1)
      return 0;
    var t49 = this[0];
    if (!(1 & t49))
      return 0;
    var e10 = 3 & t49;
    return (e10 = (e10 = (e10 = (e10 = e10 * (2 - (15 & t49) * e10) & 15) * (2 - (255 & t49) * e10) & 255) * (2 - ((65535 & t49) * e10 & 65535)) & 65535) * (2 - t49 * e10 % this.DV) % this.DV) > 0 ? this.DV - e10 : -e10;
  }
  function Y(t49) {
    this.m = t49, this.mp = t49.invDigit(), this.mpl = 32767 & this.mp, this.mph = this.mp >> 15, this.um = (1 << t49.DB - 15) - 1, this.mt2 = 2 * t49.t;
  }
  function X(t49) {
    var e10 = h();
    return t49.abs().dlShiftTo(this.m.t, e10), e10.divRemTo(this.m, null, e10), t49.s < 0 && e10.compareTo(l.ZERO) > 0 && this.m.subTo(e10, e10), e10;
  }
  function K10(t49) {
    var e10 = h();
    return t49.copyTo(e10), this.reduce(e10), e10;
  }
  function Z(t49) {
    for (; t49.t <= this.mt2; )
      t49[t49.t++] = 0;
    for (var e10 = 0; e10 < this.m.t; ++e10) {
      var i10 = 32767 & t49[e10], n10 = i10 * this.mpl + ((i10 * this.mph + (t49[e10] >> 15) * this.mpl & this.um) << 15) & t49.DM;
      for (t49[i10 = e10 + this.m.t] += this.m.am(0, n10, t49, e10, 0, this.m.t); t49[i10] >= t49.DV; )
        t49[i10] -= t49.DV, t49[++i10]++;
    }
    t49.clamp(), t49.drShiftTo(this.m.t, t49), t49.compareTo(this.m) >= 0 && t49.subTo(this.m, t49);
  }
  function Q(t49, e10) {
    t49.squareTo(e10), this.reduce(e10);
  }
  function J(t49, e10, i10) {
    t49.multiplyTo(e10, i10), this.reduce(i10);
  }
  function $() {
    return 0 == (this.t > 0 ? 1 & this[0] : this.s);
  }
  function tt(t49, e10) {
    if (t49 > 4294967295 || t49 < 1)
      return l.ONE;
    var i10 = h(), n10 = h(), r6 = e10.convert(this), o6 = P(t49) - 1;
    for (r6.copyTo(i10); --o6 >= 0; )
      if (e10.sqrTo(i10, n10), (t49 & 1 << o6) > 0)
        e10.mulTo(n10, r6, i10);
      else {
        var s10 = i10;
        i10 = n10, n10 = s10;
      }
    return e10.revert(i10);
  }
  function et(t49, e10) {
    var i10;
    return i10 = t49 < 256 || e10.isEven() ? new U(e10) : new Y(e10), this.exp(t49, i10);
  }
  function it() {
    var t49 = h();
    return this.copyTo(t49), t49;
  }
  function nt2() {
    if (this.s < 0) {
      if (1 == this.t)
        return this[0] - this.DV;
      if (0 == this.t)
        return -1;
    } else {
      if (1 == this.t)
        return this[0];
      if (0 == this.t)
        return 0;
    }
    return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
  }
  function rt() {
    return 0 == this.t ? this.s : this[0] << 24 >> 24;
  }
  function ot() {
    return 0 == this.t ? this.s : this[0] << 16 >> 16;
  }
  function st(t49) {
    return Math.floor(Math.LN2 * this.DB / Math.log(t49));
  }
  function at2() {
    return this.s < 0 ? -1 : this.t <= 0 || 1 == this.t && this[0] <= 0 ? 0 : 1;
  }
  function lt(t49) {
    if (null == t49 && (t49 = 10), 0 == this.signum() || t49 < 2 || t49 > 36)
      return "0";
    var e10 = this.chunkSize(t49), i10 = Math.pow(t49, e10), n10 = b(i10), r6 = h(), o6 = h(), s10 = "";
    for (this.divRemTo(n10, r6, o6); r6.signum() > 0; )
      s10 = (i10 + o6.intValue()).toString(t49).substr(1) + s10, r6.divRemTo(n10, r6, o6);
    return o6.intValue().toString(t49) + s10;
  }
  function ut(t49, e10) {
    this.fromInt(0), null == e10 && (e10 = 10);
    for (var i10 = this.chunkSize(e10), n10 = Math.pow(e10, i10), r6 = false, o6 = 0, s10 = 0, a3 = 0; a3 < t49.length; ++a3) {
      var u2 = y4(t49, a3);
      u2 < 0 ? "-" == t49.charAt(a3) && 0 == this.signum() && (r6 = true) : (s10 = e10 * s10 + u2, ++o6 >= i10 && (this.dMultiply(n10), this.dAddOffset(s10, 0), o6 = 0, s10 = 0));
    }
    o6 > 0 && (this.dMultiply(Math.pow(e10, o6)), this.dAddOffset(s10, 0)), r6 && l.ZERO.subTo(this, this);
  }
  function ht2(t49, e10, i10) {
    if ("number" == typeof e10)
      if (t49 < 2)
        this.fromInt(1);
      else
        for (this.fromNumber(t49, i10), this.testBit(t49 - 1) || this.bitwiseTo(l.ONE.shiftLeft(t49 - 1), yt, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(e10); )
          this.dAddOffset(2, 0), this.bitLength() > t49 && this.subTo(l.ONE.shiftLeft(t49 - 1), this);
    else {
      var n10 = new Array(), r6 = 7 & t49;
      n10.length = 1 + (t49 >> 3), e10.nextBytes(n10), r6 > 0 ? n10[0] &= (1 << r6) - 1 : n10[0] = 0, this.fromString(n10, 256);
    }
  }
  function ct() {
    var t49 = this.t, e10 = new Array();
    e10[0] = this.s;
    var i10, n10 = this.DB - t49 * this.DB % 8, r6 = 0;
    if (t49-- > 0)
      for (n10 < this.DB && (i10 = this[t49] >> n10) != (this.s & this.DM) >> n10 && (e10[r6++] = i10 | this.s << this.DB - n10); t49 >= 0; )
        n10 < 8 ? (i10 = (this[t49] & (1 << n10) - 1) << 8 - n10, i10 |= this[--t49] >> (n10 += this.DB - 8)) : (i10 = this[t49] >> (n10 -= 8) & 255, n10 <= 0 && (n10 += this.DB, --t49)), 128 & i10 && (i10 |= -256), 0 == r6 && (128 & this.s) != (128 & i10) && ++r6, (r6 > 0 || i10 != this.s) && (e10[r6++] = i10);
    return e10;
  }
  function pt(t49) {
    return 0 == this.compareTo(t49);
  }
  function dt2(t49) {
    return this.compareTo(t49) < 0 ? this : t49;
  }
  function ft(t49) {
    return this.compareTo(t49) > 0 ? this : t49;
  }
  function gt(t49, e10, i10) {
    var n10, r6, o6 = Math.min(t49.t, this.t);
    for (n10 = 0; n10 < o6; ++n10)
      i10[n10] = e10(this[n10], t49[n10]);
    if (t49.t < this.t) {
      for (r6 = t49.s & this.DM, n10 = o6; n10 < this.t; ++n10)
        i10[n10] = e10(this[n10], r6);
      i10.t = this.t;
    } else {
      for (r6 = this.s & this.DM, n10 = o6; n10 < t49.t; ++n10)
        i10[n10] = e10(r6, t49[n10]);
      i10.t = t49.t;
    }
    i10.s = e10(this.s, t49.s), i10.clamp();
  }
  function mt2(t49, e10) {
    return t49 & e10;
  }
  function vt(t49) {
    var e10 = h();
    return this.bitwiseTo(t49, mt2, e10), e10;
  }
  function yt(t49, e10) {
    return t49 | e10;
  }
  function xt(t49) {
    var e10 = h();
    return this.bitwiseTo(t49, yt, e10), e10;
  }
  function _t(t49, e10) {
    return t49 ^ e10;
  }
  function bt(t49) {
    var e10 = h();
    return this.bitwiseTo(t49, _t, e10), e10;
  }
  function Mt(t49, e10) {
    return t49 & ~e10;
  }
  function Et(t49) {
    var e10 = h();
    return this.bitwiseTo(t49, Mt, e10), e10;
  }
  function wt2() {
    for (var t49 = h(), e10 = 0; e10 < this.t; ++e10)
      t49[e10] = this.DM & ~this[e10];
    return t49.t = this.t, t49.s = ~this.s, t49;
  }
  function At(t49) {
    var e10 = h();
    return t49 < 0 ? this.rShiftTo(-t49, e10) : this.lShiftTo(t49, e10), e10;
  }
  function St2(t49) {
    var e10 = h();
    return t49 < 0 ? this.lShiftTo(-t49, e10) : this.rShiftTo(t49, e10), e10;
  }
  function Tt(t49) {
    if (0 == t49)
      return -1;
    var e10 = 0;
    return 65535 & t49 || (t49 >>= 16, e10 += 16), 255 & t49 || (t49 >>= 8, e10 += 8), 15 & t49 || (t49 >>= 4, e10 += 4), 3 & t49 || (t49 >>= 2, e10 += 2), 1 & t49 || ++e10, e10;
  }
  function Ct() {
    for (var t49 = 0; t49 < this.t; ++t49)
      if (0 != this[t49])
        return t49 * this.DB + Tt(this[t49]);
    return this.s < 0 ? this.t * this.DB : -1;
  }
  function Pt(t49) {
    for (var e10 = 0; 0 != t49; )
      t49 &= t49 - 1, ++e10;
    return e10;
  }
  function It() {
    for (var t49 = 0, e10 = this.s & this.DM, i10 = 0; i10 < this.t; ++i10)
      t49 += Pt(this[i10] ^ e10);
    return t49;
  }
  function Lt(t49) {
    var e10 = Math.floor(t49 / this.DB);
    return e10 >= this.t ? 0 != this.s : 0 != (this[e10] & 1 << t49 % this.DB);
  }
  function Ot2(t49, e10) {
    var i10 = l.ONE.shiftLeft(t49);
    return this.bitwiseTo(i10, e10, i10), i10;
  }
  function Nt(t49) {
    return this.changeBit(t49, yt);
  }
  function Dt(t49) {
    return this.changeBit(t49, Mt);
  }
  function Rt(t49) {
    return this.changeBit(t49, _t);
  }
  function qt(t49, e10) {
    for (var i10 = 0, n10 = 0, r6 = Math.min(t49.t, this.t); i10 < r6; )
      n10 += this[i10] + t49[i10], e10[i10++] = n10 & this.DM, n10 >>= this.DB;
    if (t49.t < this.t) {
      for (n10 += t49.s; i10 < this.t; )
        n10 += this[i10], e10[i10++] = n10 & this.DM, n10 >>= this.DB;
      n10 += this.s;
    } else {
      for (n10 += this.s; i10 < t49.t; )
        n10 += t49[i10], e10[i10++] = n10 & this.DM, n10 >>= this.DB;
      n10 += t49.s;
    }
    e10.s = n10 < 0 ? -1 : 0, n10 > 0 ? e10[i10++] = n10 : n10 < -1 && (e10[i10++] = this.DV + n10), e10.t = i10, e10.clamp();
  }
  function Bt(t49) {
    var e10 = h();
    return this.addTo(t49, e10), e10;
  }
  function kt(t49) {
    var e10 = h();
    return this.subTo(t49, e10), e10;
  }
  function Ft2(t49) {
    var e10 = h();
    return this.multiplyTo(t49, e10), e10;
  }
  function Ut() {
    var t49 = h();
    return this.squareTo(t49), t49;
  }
  function zt(t49) {
    var e10 = h();
    return this.divRemTo(t49, e10, null), e10;
  }
  function Vt2(t49) {
    var e10 = h();
    return this.divRemTo(t49, null, e10), e10;
  }
  function jt2(t49) {
    var e10 = h(), i10 = h();
    return this.divRemTo(t49, e10, i10), new Array(e10, i10);
  }
  function Gt2(t49) {
    this[this.t] = this.am(0, t49 - 1, this, 0, 0, this.t), ++this.t, this.clamp();
  }
  function Wt2(t49, e10) {
    if (0 != t49) {
      for (; this.t <= e10; )
        this[this.t++] = 0;
      for (this[e10] += t49; this[e10] >= this.DV; )
        this[e10] -= this.DV, ++e10 >= this.t && (this[this.t++] = 0), ++this[e10];
    }
  }
  function Ht() {
  }
  function Yt2(t49) {
    return t49;
  }
  function Xt2(t49, e10, i10) {
    t49.multiplyTo(e10, i10);
  }
  function Kt(t49, e10) {
    t49.squareTo(e10);
  }
  function Zt(t49) {
    return this.exp(t49, new Ht());
  }
  function Qt(t49, e10, i10) {
    var n10, r6 = Math.min(this.t + t49.t, e10);
    for (i10.s = 0, i10.t = r6; r6 > 0; )
      i10[--r6] = 0;
    for (n10 = i10.t - this.t; r6 < n10; ++r6)
      i10[r6 + this.t] = this.am(0, t49[r6], i10, r6, 0, this.t);
    for (n10 = Math.min(t49.t, e10); r6 < n10; ++r6)
      this.am(0, t49[r6], i10, r6, 0, e10 - r6);
    i10.clamp();
  }
  function Jt(t49, e10, i10) {
    --e10;
    var n10 = i10.t = this.t + t49.t - e10;
    for (i10.s = 0; --n10 >= 0; )
      i10[n10] = 0;
    for (n10 = Math.max(e10 - this.t, 0); n10 < t49.t; ++n10)
      i10[this.t + n10 - e10] = this.am(e10 - n10, t49[n10], i10, 0, 0, this.t + n10 - e10);
    i10.clamp(), i10.drShiftTo(1, i10);
  }
  function $t2(t49) {
    this.r2 = h(), this.q3 = h(), l.ONE.dlShiftTo(2 * t49.t, this.r2), this.mu = this.r2.divide(t49), this.m = t49;
  }
  function te(t49) {
    if (t49.s < 0 || t49.t > 2 * this.m.t)
      return t49.mod(this.m);
    if (t49.compareTo(this.m) < 0)
      return t49;
    var e10 = h();
    return t49.copyTo(e10), this.reduce(e10), e10;
  }
  function ee(t49) {
    return t49;
  }
  function ie(t49) {
    for (t49.drShiftTo(this.m.t - 1, this.r2), t49.t > this.m.t + 1 && (t49.t = this.m.t + 1, t49.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); t49.compareTo(this.r2) < 0; )
      t49.dAddOffset(1, this.m.t + 1);
    for (t49.subTo(this.r2, t49); t49.compareTo(this.m) >= 0; )
      t49.subTo(this.m, t49);
  }
  function ne(t49, e10) {
    t49.squareTo(e10), this.reduce(e10);
  }
  function re(t49, e10, i10) {
    t49.multiplyTo(e10, i10), this.reduce(i10);
  }
  function oe(t49, e10) {
    var i10, n10, r6 = t49.bitLength(), o6 = b(1);
    if (r6 <= 0)
      return o6;
    i10 = r6 < 18 ? 1 : r6 < 48 ? 3 : r6 < 144 ? 4 : r6 < 768 ? 5 : 6, n10 = r6 < 8 ? new U(e10) : e10.isEven() ? new $t2(e10) : new Y(e10);
    var s10 = new Array(), a3 = 3, l3 = i10 - 1, u2 = (1 << i10) - 1;
    if (s10[1] = n10.convert(this), i10 > 1) {
      var c4 = h();
      for (n10.sqrTo(s10[1], c4); a3 <= u2; )
        s10[a3] = h(), n10.mulTo(c4, s10[a3 - 2], s10[a3]), a3 += 2;
    }
    var p10, d4, f2 = t49.t - 1, g4 = true, m4 = h();
    for (r6 = P(t49[f2]) - 1; f2 >= 0; ) {
      for (r6 >= l3 ? p10 = t49[f2] >> r6 - l3 & u2 : (p10 = (t49[f2] & (1 << r6 + 1) - 1) << l3 - r6, f2 > 0 && (p10 |= t49[f2 - 1] >> this.DB + r6 - l3)), a3 = i10; !(1 & p10); )
        p10 >>= 1, --a3;
      if ((r6 -= a3) < 0 && (r6 += this.DB, --f2), g4)
        s10[p10].copyTo(o6), g4 = false;
      else {
        for (; a3 > 1; )
          n10.sqrTo(o6, m4), n10.sqrTo(m4, o6), a3 -= 2;
        a3 > 0 ? n10.sqrTo(o6, m4) : (d4 = o6, o6 = m4, m4 = d4), n10.mulTo(m4, s10[p10], o6);
      }
      for (; f2 >= 0 && !(t49[f2] & 1 << r6); )
        n10.sqrTo(o6, m4), d4 = o6, o6 = m4, m4 = d4, --r6 < 0 && (r6 = this.DB - 1, --f2);
    }
    return n10.revert(o6);
  }
  function se(t49) {
    var e10 = this.s < 0 ? this.negate() : this.clone(), i10 = t49.s < 0 ? t49.negate() : t49.clone();
    if (e10.compareTo(i10) < 0) {
      var n10 = e10;
      e10 = i10, i10 = n10;
    }
    var r6 = e10.getLowestSetBit(), o6 = i10.getLowestSetBit();
    if (o6 < 0)
      return e10;
    for (r6 < o6 && (o6 = r6), o6 > 0 && (e10.rShiftTo(o6, e10), i10.rShiftTo(o6, i10)); e10.signum() > 0; )
      (r6 = e10.getLowestSetBit()) > 0 && e10.rShiftTo(r6, e10), (r6 = i10.getLowestSetBit()) > 0 && i10.rShiftTo(r6, i10), e10.compareTo(i10) >= 0 ? (e10.subTo(i10, e10), e10.rShiftTo(1, e10)) : (i10.subTo(e10, i10), i10.rShiftTo(1, i10));
    return o6 > 0 && i10.lShiftTo(o6, i10), i10;
  }
  function ae(t49) {
    if (t49 <= 0)
      return 0;
    var e10 = this.DV % t49, i10 = this.s < 0 ? t49 - 1 : 0;
    if (this.t > 0)
      if (0 == e10)
        i10 = this[0] % t49;
      else
        for (var n10 = this.t - 1; n10 >= 0; --n10)
          i10 = (e10 * i10 + this[n10]) % t49;
    return i10;
  }
  function le(t49) {
    var e10 = t49.isEven();
    if (this.isEven() && e10 || 0 == t49.signum())
      return l.ZERO;
    for (var i10 = t49.clone(), n10 = this.clone(), r6 = b(1), o6 = b(0), s10 = b(0), a3 = b(1); 0 != i10.signum(); ) {
      for (; i10.isEven(); )
        i10.rShiftTo(1, i10), e10 ? ((!r6.isEven() || !o6.isEven()) && (r6.addTo(this, r6), o6.subTo(t49, o6)), r6.rShiftTo(1, r6)) : o6.isEven() || o6.subTo(t49, o6), o6.rShiftTo(1, o6);
      for (; n10.isEven(); )
        n10.rShiftTo(1, n10), e10 ? ((!s10.isEven() || !a3.isEven()) && (s10.addTo(this, s10), a3.subTo(t49, a3)), s10.rShiftTo(1, s10)) : a3.isEven() || a3.subTo(t49, a3), a3.rShiftTo(1, a3);
      i10.compareTo(n10) >= 0 ? (i10.subTo(n10, i10), e10 && r6.subTo(s10, r6), o6.subTo(a3, o6)) : (n10.subTo(i10, n10), e10 && s10.subTo(r6, s10), a3.subTo(o6, a3));
    }
    return 0 != n10.compareTo(l.ONE) ? l.ZERO : a3.compareTo(t49) >= 0 ? a3.subtract(t49) : a3.signum() < 0 ? (a3.addTo(t49, a3), a3.signum() < 0 ? a3.add(t49) : a3) : a3;
  }
  q(v4, "int2char"), q(y4, "intAt"), q(x4, "bnpCopyTo"), q(_, "bnpFromInt"), q(b, "nbv"), q(M, "bnpFromString"), q(w4, "bnpClamp"), q(A, "bnToString"), q(S, "bnNegate"), q(T, "bnAbs"), q(C, "bnCompareTo"), q(P, "nbits"), q(I, "bnBitLength"), q(L, "bnpDLShiftTo"), q(O, "bnpDRShiftTo"), q(N, "bnpLShiftTo"), q(D, "bnpRShiftTo"), q(R, "bnpSubTo"), q(q4, "bnpMultiplyTo"), q(B, "bnpSquareTo"), q(k, "bnpDivRemTo"), q(F, "bnMod"), q(U, "Classic"), q(z, "cConvert"), q(V, "cRevert"), q(j, "cReduce"), q(G, "cMulTo"), q(W, "cSqrTo"), U.prototype.convert = z, U.prototype.revert = V, U.prototype.reduce = j, U.prototype.mulTo = G, U.prototype.sqrTo = W, q(H, "bnpInvDigit"), q(Y, "Montgomery"), q(X, "montConvert"), q(K10, "montRevert"), q(Z, "montReduce"), q(Q, "montSqrTo"), q(J, "montMulTo"), Y.prototype.convert = X, Y.prototype.revert = K10, Y.prototype.reduce = Z, Y.prototype.mulTo = J, Y.prototype.sqrTo = Q, q($, "bnpIsEven"), q(tt, "bnpExp"), q(et, "bnModPowInt"), l.prototype.copyTo = x4, l.prototype.fromInt = _, l.prototype.fromString = M, l.prototype.clamp = w4, l.prototype.dlShiftTo = L, l.prototype.drShiftTo = O, l.prototype.lShiftTo = N, l.prototype.rShiftTo = D, l.prototype.subTo = R, l.prototype.multiplyTo = q4, l.prototype.squareTo = B, l.prototype.divRemTo = k, l.prototype.invDigit = H, l.prototype.isEven = $, l.prototype.exp = tt, l.prototype.toString = A, l.prototype.negate = S, l.prototype.abs = T, l.prototype.compareTo = C, l.prototype.bitLength = I, l.prototype.mod = F, l.prototype.modPowInt = et, l.ZERO = b(0), l.ONE = b(1), q(it, "bnClone"), q(nt2, "bnIntValue"), q(rt, "bnByteValue"), q(ot, "bnShortValue"), q(st, "bnpChunkSize"), q(at2, "bnSigNum"), q(lt, "bnpToRadix"), q(ut, "bnpFromRadix"), q(ht2, "bnpFromNumber"), q(ct, "bnToByteArray"), q(pt, "bnEquals"), q(dt2, "bnMin"), q(ft, "bnMax"), q(gt, "bnpBitwiseTo"), q(mt2, "op_and"), q(vt, "bnAnd"), q(yt, "op_or"), q(xt, "bnOr"), q(_t, "op_xor"), q(bt, "bnXor"), q(Mt, "op_andnot"), q(Et, "bnAndNot"), q(wt2, "bnNot"), q(At, "bnShiftLeft"), q(St2, "bnShiftRight"), q(Tt, "lbit"), q(Ct, "bnGetLowestSetBit"), q(Pt, "cbit"), q(It, "bnBitCount"), q(Lt, "bnTestBit"), q(Ot2, "bnpChangeBit"), q(Nt, "bnSetBit"), q(Dt, "bnClearBit"), q(Rt, "bnFlipBit"), q(qt, "bnpAddTo"), q(Bt, "bnAdd"), q(kt, "bnSubtract"), q(Ft2, "bnMultiply"), q(Ut, "bnSquare"), q(zt, "bnDivide"), q(Vt2, "bnRemainder"), q(jt2, "bnDivideAndRemainder"), q(Gt2, "bnpDMultiply"), q(Wt2, "bnpDAddOffset"), q(Ht, "NullExp"), q(Yt2, "nNop"), q(Xt2, "nMulTo"), q(Kt, "nSqrTo"), Ht.prototype.convert = Yt2, Ht.prototype.revert = Yt2, Ht.prototype.mulTo = Xt2, Ht.prototype.sqrTo = Kt, q(Zt, "bnPow"), q(Qt, "bnpMultiplyLowerTo"), q(Jt, "bnpMultiplyUpperTo"), q($t2, "Barrett"), q(te, "barrettConvert"), q(ee, "barrettRevert"), q(ie, "barrettReduce"), q(ne, "barrettSqrTo"), q(re, "barrettMulTo"), $t2.prototype.convert = te, $t2.prototype.revert = ee, $t2.prototype.reduce = ie, $t2.prototype.mulTo = re, $t2.prototype.sqrTo = ne, q(oe, "bnModPow"), q(se, "bnGCD"), q(ae, "bnpModInt"), q(le, "bnModInverse");
  var ue2 = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997], he = (1 << 26) / ue2[ue2.length - 1];
  function ce(t49) {
    var e10, i10 = this.abs();
    if (1 == i10.t && i10[0] <= ue2[ue2.length - 1]) {
      for (e10 = 0; e10 < ue2.length; ++e10)
        if (i10[0] == ue2[e10])
          return true;
      return false;
    }
    if (i10.isEven())
      return false;
    for (e10 = 1; e10 < ue2.length; ) {
      for (var n10 = ue2[e10], r6 = e10 + 1; r6 < ue2.length && n10 < he; )
        n10 *= ue2[r6++];
      for (n10 = i10.modInt(n10); e10 < r6; )
        if (n10 % ue2[e10++] == 0)
          return false;
    }
    return i10.millerRabin(t49);
  }
  function pe(t49) {
    var e10 = this.subtract(l.ONE), i10 = e10.getLowestSetBit();
    if (i10 <= 0)
      return false;
    var n10 = e10.shiftRight(i10);
    (t49 = t49 + 1 >> 1) > ue2.length && (t49 = ue2.length);
    for (var r6 = h(), o6 = 0; o6 < t49; ++o6) {
      r6.fromInt(ue2[Math.floor(Math.random() * ue2.length)]);
      var s10 = r6.modPow(n10, this);
      if (0 != s10.compareTo(l.ONE) && 0 != s10.compareTo(e10)) {
        for (var a3 = 1; a3++ < i10 && 0 != s10.compareTo(e10); )
          if (0 == (s10 = s10.modPowInt(2, this)).compareTo(l.ONE))
            return false;
        if (0 != s10.compareTo(e10))
          return false;
      }
    }
    return true;
  }
  q(ce, "bnIsProbablePrime"), q(pe, "bnpMillerRabin"), l.prototype.chunkSize = st, l.prototype.toRadix = lt, l.prototype.fromRadix = ut, l.prototype.fromNumber = ht2, l.prototype.bitwiseTo = gt, l.prototype.changeBit = Ot2, l.prototype.addTo = qt, l.prototype.dMultiply = Gt2, l.prototype.dAddOffset = Wt2, l.prototype.multiplyLowerTo = Qt, l.prototype.multiplyUpperTo = Jt, l.prototype.modInt = ae, l.prototype.millerRabin = pe, l.prototype.clone = it, l.prototype.intValue = nt2, l.prototype.byteValue = rt, l.prototype.shortValue = ot, l.prototype.signum = at2, l.prototype.toByteArray = ct, l.prototype.equals = pt, l.prototype.min = dt2, l.prototype.max = ft, l.prototype.and = vt, l.prototype.or = xt, l.prototype.xor = bt, l.prototype.andNot = Et, l.prototype.not = wt2, l.prototype.shiftLeft = At, l.prototype.shiftRight = St2, l.prototype.getLowestSetBit = Ct, l.prototype.bitCount = It, l.prototype.testBit = Lt, l.prototype.setBit = Nt, l.prototype.clearBit = Dt, l.prototype.flipBit = Rt, l.prototype.add = Bt, l.prototype.subtract = kt, l.prototype.multiply = Ft2, l.prototype.divide = zt, l.prototype.remainder = Vt2, l.prototype.divideAndRemainder = jt2, l.prototype.modPow = oe, l.prototype.modInverse = le, l.prototype.pow = Zt, l.prototype.gcd = se, l.prototype.isProbablePrime = ce, l.prototype.square = Ut;
  var de, fe2 = l;
  fe2.prototype.IsNegative = function() {
    return -1 == this.compareTo(fe2.ZERO);
  }, fe2.op_Equality = function(t49, e10) {
    return 0 == t49.compareTo(e10);
  }, fe2.op_Inequality = function(t49, e10) {
    return 0 != t49.compareTo(e10);
  }, fe2.op_GreaterThan = function(t49, e10) {
    return t49.compareTo(e10) > 0;
  }, fe2.op_LessThan = function(t49, e10) {
    return t49.compareTo(e10) < 0;
  }, fe2.op_Addition = function(t49, e10) {
    return new fe2(t49).add(new fe2(e10));
  }, fe2.op_Subtraction = function(t49, e10) {
    return new fe2(t49).subtract(new fe2(e10));
  }, fe2.Int128Mul = function(t49, e10) {
    return new fe2(t49).multiply(new fe2(e10));
  }, fe2.op_Division = function(t49, e10) {
    return t49.divide(e10);
  }, fe2.prototype.ToDouble = function() {
    return parseFloat(this.toString());
  }, typeof de > "u" && (de = q(function(t49, e10) {
    var i10;
    if (typeof Object.getOwnPropertyNames > "u") {
      for (i10 in e10.prototype)
        (typeof t49.prototype[i10] > "u" || t49.prototype[i10] == Object.prototype[i10]) && (t49.prototype[i10] = e10.prototype[i10]);
      for (i10 in e10)
        typeof t49[i10] > "u" && (t49[i10] = e10[i10]);
      t49.$baseCtor = e10;
    } else {
      for (var n10 = Object.getOwnPropertyNames(e10.prototype), r6 = 0; r6 < n10.length; r6++)
        typeof Object.getOwnPropertyDescriptor(t49.prototype, n10[r6]) > "u" && Object.defineProperty(t49.prototype, n10[r6], Object.getOwnPropertyDescriptor(e10.prototype, n10[r6]));
      for (i10 in e10)
        typeof t49[i10] > "u" && (t49[i10] = e10[i10]);
      t49.$baseCtor = e10;
    }
  }, "Inherit")), n.Path = function() {
    return [];
  }, n.Paths = function() {
    return [];
  }, n.DoublePoint = function() {
    var t49 = arguments;
    this.X = 0, this.Y = 0, 1 == t49.length ? (this.X = t49[0].X, this.Y = t49[0].Y) : 2 == t49.length && (this.X = t49[0], this.Y = t49[1]);
  }, n.DoublePoint0 = function() {
    this.X = 0, this.Y = 0;
  }, n.DoublePoint1 = function(t49) {
    this.X = t49.X, this.Y = t49.Y;
  }, n.DoublePoint2 = function(t49, e10) {
    this.X = t49, this.Y = e10;
  }, n.PolyNode = function() {
    this.m_Parent = null, this.m_polygon = new n.Path(), this.m_Index = 0, this.m_jointype = 0, this.m_endtype = 0, this.m_Childs = [], this.IsOpen = false;
  }, n.PolyNode.prototype.IsHoleNode = function() {
    for (var t49 = true, e10 = this.m_Parent; null !== e10; )
      t49 = !t49, e10 = e10.m_Parent;
    return t49;
  }, n.PolyNode.prototype.ChildCount = function() {
    return this.m_Childs.length;
  }, n.PolyNode.prototype.Contour = function() {
    return this.m_polygon;
  }, n.PolyNode.prototype.AddChild = function(t49) {
    var e10 = this.m_Childs.length;
    this.m_Childs.push(t49), t49.m_Parent = this, t49.m_Index = e10;
  }, n.PolyNode.prototype.GetNext = function() {
    return this.m_Childs.length > 0 ? this.m_Childs[0] : this.GetNextSiblingUp();
  }, n.PolyNode.prototype.GetNextSiblingUp = function() {
    return null === this.m_Parent ? null : this.m_Index == this.m_Parent.m_Childs.length - 1 ? this.m_Parent.GetNextSiblingUp() : this.m_Parent.m_Childs[this.m_Index + 1];
  }, n.PolyNode.prototype.Childs = function() {
    return this.m_Childs;
  }, n.PolyNode.prototype.Parent = function() {
    return this.m_Parent;
  }, n.PolyNode.prototype.IsHole = function() {
    return this.IsHoleNode();
  }, n.PolyTree = function() {
    this.m_AllPolys = [], n.PolyNode.call(this);
  }, n.PolyTree.prototype.Clear = function() {
    for (var t49 = 0, e10 = this.m_AllPolys.length; t49 < e10; t49++)
      this.m_AllPolys[t49] = null;
    this.m_AllPolys.length = 0, this.m_Childs.length = 0;
  }, n.PolyTree.prototype.GetFirst = function() {
    return this.m_Childs.length > 0 ? this.m_Childs[0] : null;
  }, n.PolyTree.prototype.Total = function() {
    return this.m_AllPolys.length;
  }, de(n.PolyTree, n.PolyNode), n.Math_Abs_Int64 = n.Math_Abs_Int32 = n.Math_Abs_Double = function(t49) {
    return Math.abs(t49);
  }, n.Math_Max_Int32_Int32 = function(t49, e10) {
    return Math.max(t49, e10);
  }, s6.msie || s6.opera || s6.safari ? n.Cast_Int32 = function(t49) {
    return 0 | t49;
  } : n.Cast_Int32 = function(t49) {
    return ~~t49;
  }, s6.chrome ? n.Cast_Int64 = function(t49) {
    return t49 < -2147483648 || t49 > 2147483647 ? t49 < 0 ? Math.ceil(t49) : Math.floor(t49) : ~~t49;
  } : s6.firefox && "function" == typeof Number.toInteger ? n.Cast_Int64 = function(t49) {
    return Number.toInteger(t49);
  } : s6.msie7 || s6.msie8 ? n.Cast_Int64 = function(t49) {
    return parseInt(t49, 10);
  } : s6.msie ? n.Cast_Int64 = function(t49) {
    return t49 < -2147483648 || t49 > 2147483647 ? t49 < 0 ? Math.ceil(t49) : Math.floor(t49) : 0 | t49;
  } : n.Cast_Int64 = function(t49) {
    return t49 < 0 ? Math.ceil(t49) : Math.floor(t49);
  }, n.Clear = function(t49) {
    t49.length = 0;
  }, n.PI = 3.141592653589793, n.PI2 = 6.283185307179586, n.IntPoint = function() {
    var t49 = arguments, e10 = t49.length;
    if (this.X = 0, this.Y = 0, 2 == e10)
      this.X = t49[0], this.Y = t49[1];
    else if (1 == e10)
      if (t49[0] instanceof n.DoublePoint) {
        var i10 = t49[0];
        this.X = n.Clipper.Round(i10.X), this.Y = n.Clipper.Round(i10.Y);
      } else {
        var r6 = t49[0];
        this.X = r6.X, this.Y = r6.Y;
      }
    else
      this.X = 0, this.Y = 0;
  }, n.IntPoint.op_Equality = function(t49, e10) {
    return t49.X == e10.X && t49.Y == e10.Y;
  }, n.IntPoint.op_Inequality = function(t49, e10) {
    return t49.X != e10.X || t49.Y != e10.Y;
  }, n.IntPoint0 = function() {
    this.X = 0, this.Y = 0;
  }, n.IntPoint1 = function(t49) {
    this.X = t49.X, this.Y = t49.Y;
  }, n.IntPoint1dp = function(t49) {
    this.X = n.Clipper.Round(t49.X), this.Y = n.Clipper.Round(t49.Y);
  }, n.IntPoint2 = function(t49, e10) {
    this.X = t49, this.Y = e10;
  }, n.IntRect = function() {
    var t49 = arguments, e10 = t49.length;
    4 == e10 ? (this.left = t49[0], this.top = t49[1], this.right = t49[2], this.bottom = t49[3]) : 1 == e10 ? (this.left = ir.left, this.top = ir.top, this.right = ir.right, this.bottom = ir.bottom) : (this.left = 0, this.top = 0, this.right = 0, this.bottom = 0);
  }, n.IntRect0 = function() {
    this.left = 0, this.top = 0, this.right = 0, this.bottom = 0;
  }, n.IntRect1 = function(t49) {
    this.left = t49.left, this.top = t49.top, this.right = t49.right, this.bottom = t49.bottom;
  }, n.IntRect4 = function(t49, e10, i10, n10) {
    this.left = t49, this.top = e10, this.right = i10, this.bottom = n10;
  }, n.ClipType = { ctIntersection: 0, ctUnion: 1, ctDifference: 2, ctXor: 3 }, n.PolyType = { ptSubject: 0, ptClip: 1 }, n.PolyFillType = { pftEvenOdd: 0, pftNonZero: 1, pftPositive: 2, pftNegative: 3 }, n.JoinType = { jtSquare: 0, jtRound: 1, jtMiter: 2 }, n.EndType = { etOpenSquare: 0, etOpenRound: 1, etOpenButt: 2, etClosedLine: 3, etClosedPolygon: 4 }, n.EdgeSide = { esLeft: 0, esRight: 1 }, n.Direction = { dRightToLeft: 0, dLeftToRight: 1 }, n.TEdge = function() {
    this.Bot = new n.IntPoint(), this.Curr = new n.IntPoint(), this.Top = new n.IntPoint(), this.Delta = new n.IntPoint(), this.Dx = 0, this.PolyTyp = n.PolyType.ptSubject, this.Side = n.EdgeSide.esLeft, this.WindDelta = 0, this.WindCnt = 0, this.WindCnt2 = 0, this.OutIdx = 0, this.Next = null, this.Prev = null, this.NextInLML = null, this.NextInAEL = null, this.PrevInAEL = null, this.NextInSEL = null, this.PrevInSEL = null;
  }, n.IntersectNode = function() {
    this.Edge1 = null, this.Edge2 = null, this.Pt = new n.IntPoint();
  }, n.MyIntersectNodeSort = function() {
  }, n.MyIntersectNodeSort.Compare = function(t49, e10) {
    return e10.Pt.Y - t49.Pt.Y;
  }, n.LocalMinima = function() {
    this.Y = 0, this.LeftBound = null, this.RightBound = null, this.Next = null;
  }, n.Scanbeam = function() {
    this.Y = 0, this.Next = null;
  }, n.OutRec = function() {
    this.Idx = 0, this.IsHole = false, this.IsOpen = false, this.FirstLeft = null, this.Pts = null, this.BottomPt = null, this.PolyNode = null;
  }, n.OutPt = function() {
    this.Idx = 0, this.Pt = new n.IntPoint(), this.Next = null, this.Prev = null;
  }, n.Join = function() {
    this.OutPt1 = null, this.OutPt2 = null, this.OffPt = new n.IntPoint();
  }, n.ClipperBase = function() {
    this.m_MinimaList = null, this.m_CurrentLM = null, this.m_edges = new Array(), this.m_UseFullRange = false, this.m_HasOpenPaths = false, this.PreserveCollinear = false, this.m_MinimaList = null, this.m_CurrentLM = null, this.m_UseFullRange = false, this.m_HasOpenPaths = false;
  }, n.ClipperBase.horizontal = -9007199254740992, n.ClipperBase.Skip = -2, n.ClipperBase.Unassigned = -1, n.ClipperBase.tolerance = 1e-20, n.ClipperBase.loRange = 47453132, n.ClipperBase.hiRange = 4503599627370495, n.ClipperBase.near_zero = function(t49) {
    return t49 > -n.ClipperBase.tolerance && t49 < n.ClipperBase.tolerance;
  }, n.ClipperBase.IsHorizontal = function(t49) {
    return 0 === t49.Delta.Y;
  }, n.ClipperBase.prototype.PointIsVertex = function(t49, e10) {
    var i10 = e10;
    do {
      if (n.IntPoint.op_Equality(i10.Pt, t49))
        return true;
      i10 = i10.Next;
    } while (i10 != e10);
    return false;
  }, n.ClipperBase.prototype.PointOnLineSegment = function(t49, e10, i10, n10) {
    return n10 ? t49.X == e10.X && t49.Y == e10.Y || t49.X == i10.X && t49.Y == i10.Y || t49.X > e10.X == t49.X < i10.X && t49.Y > e10.Y == t49.Y < i10.Y && fe2.op_Equality(fe2.Int128Mul(t49.X - e10.X, i10.Y - e10.Y), fe2.Int128Mul(i10.X - e10.X, t49.Y - e10.Y)) : t49.X == e10.X && t49.Y == e10.Y || t49.X == i10.X && t49.Y == i10.Y || t49.X > e10.X == t49.X < i10.X && t49.Y > e10.Y == t49.Y < i10.Y && (t49.X - e10.X) * (i10.Y - e10.Y) == (i10.X - e10.X) * (t49.Y - e10.Y);
  }, n.ClipperBase.prototype.PointOnPolygon = function(t49, e10, i10) {
    for (var n10 = e10; ; ) {
      if (this.PointOnLineSegment(t49, n10.Pt, n10.Next.Pt, i10))
        return true;
      if ((n10 = n10.Next) == e10)
        break;
    }
    return false;
  }, n.ClipperBase.prototype.SlopesEqual = n.ClipperBase.SlopesEqual = function() {
    var t49, e10, i10, r6, o6, s10, a3 = arguments, l3 = a3.length;
    return 3 == l3 ? (t49 = a3[0], e10 = a3[1], a3[2] ? fe2.op_Equality(fe2.Int128Mul(t49.Delta.Y, e10.Delta.X), fe2.Int128Mul(t49.Delta.X, e10.Delta.Y)) : n.Cast_Int64(t49.Delta.Y * e10.Delta.X) == n.Cast_Int64(t49.Delta.X * e10.Delta.Y)) : 4 == l3 ? (i10 = a3[0], r6 = a3[1], o6 = a3[2], a3[3] ? fe2.op_Equality(fe2.Int128Mul(i10.Y - r6.Y, r6.X - o6.X), fe2.Int128Mul(i10.X - r6.X, r6.Y - o6.Y)) : n.Cast_Int64((i10.Y - r6.Y) * (r6.X - o6.X)) - n.Cast_Int64((i10.X - r6.X) * (r6.Y - o6.Y)) == 0) : (i10 = a3[0], r6 = a3[1], o6 = a3[2], s10 = a3[3], a3[4] ? fe2.op_Equality(fe2.Int128Mul(i10.Y - r6.Y, o6.X - s10.X), fe2.Int128Mul(i10.X - r6.X, o6.Y - s10.Y)) : n.Cast_Int64((i10.Y - r6.Y) * (o6.X - s10.X)) - n.Cast_Int64((i10.X - r6.X) * (o6.Y - s10.Y)) == 0);
  }, n.ClipperBase.SlopesEqual3 = function(t49, e10, i10) {
    return i10 ? fe2.op_Equality(fe2.Int128Mul(t49.Delta.Y, e10.Delta.X), fe2.Int128Mul(t49.Delta.X, e10.Delta.Y)) : n.Cast_Int64(t49.Delta.Y * e10.Delta.X) == n.Cast_Int64(t49.Delta.X * e10.Delta.Y);
  }, n.ClipperBase.SlopesEqual4 = function(t49, e10, i10, r6) {
    return r6 ? fe2.op_Equality(fe2.Int128Mul(t49.Y - e10.Y, e10.X - i10.X), fe2.Int128Mul(t49.X - e10.X, e10.Y - i10.Y)) : n.Cast_Int64((t49.Y - e10.Y) * (e10.X - i10.X)) - n.Cast_Int64((t49.X - e10.X) * (e10.Y - i10.Y)) == 0;
  }, n.ClipperBase.SlopesEqual5 = function(t49, e10, i10, r6, o6) {
    return o6 ? fe2.op_Equality(fe2.Int128Mul(t49.Y - e10.Y, i10.X - r6.X), fe2.Int128Mul(t49.X - e10.X, i10.Y - r6.Y)) : n.Cast_Int64((t49.Y - e10.Y) * (i10.X - r6.X)) - n.Cast_Int64((t49.X - e10.X) * (i10.Y - r6.Y)) == 0;
  }, n.ClipperBase.prototype.Clear = function() {
    this.DisposeLocalMinimaList();
    for (var t49 = 0, e10 = this.m_edges.length; t49 < e10; ++t49) {
      for (var i10 = 0, r6 = this.m_edges[t49].length; i10 < r6; ++i10)
        this.m_edges[t49][i10] = null;
      n.Clear(this.m_edges[t49]);
    }
    n.Clear(this.m_edges), this.m_UseFullRange = false, this.m_HasOpenPaths = false;
  }, n.ClipperBase.prototype.DisposeLocalMinimaList = function() {
    for (; null !== this.m_MinimaList; ) {
      var t49 = this.m_MinimaList.Next;
      this.m_MinimaList = null, this.m_MinimaList = t49;
    }
    this.m_CurrentLM = null;
  }, n.ClipperBase.prototype.RangeTest = function(t49, e10) {
    e10.Value ? (t49.X > n.ClipperBase.hiRange || t49.Y > n.ClipperBase.hiRange || -t49.X > n.ClipperBase.hiRange || -t49.Y > n.ClipperBase.hiRange) && n.Error("Coordinate outside allowed range in RangeTest().") : (t49.X > n.ClipperBase.loRange || t49.Y > n.ClipperBase.loRange || -t49.X > n.ClipperBase.loRange || -t49.Y > n.ClipperBase.loRange) && (e10.Value = true, this.RangeTest(t49, e10));
  }, n.ClipperBase.prototype.InitEdge = function(t49, e10, i10, n10) {
    t49.Next = e10, t49.Prev = i10, t49.Curr.X = n10.X, t49.Curr.Y = n10.Y, t49.OutIdx = -1;
  }, n.ClipperBase.prototype.InitEdge2 = function(t49, e10) {
    t49.Curr.Y >= t49.Next.Curr.Y ? (t49.Bot.X = t49.Curr.X, t49.Bot.Y = t49.Curr.Y, t49.Top.X = t49.Next.Curr.X, t49.Top.Y = t49.Next.Curr.Y) : (t49.Top.X = t49.Curr.X, t49.Top.Y = t49.Curr.Y, t49.Bot.X = t49.Next.Curr.X, t49.Bot.Y = t49.Next.Curr.Y), this.SetDx(t49), t49.PolyTyp = e10;
  }, n.ClipperBase.prototype.FindNextLocMin = function(t49) {
    for (var e10; ; ) {
      for (; n.IntPoint.op_Inequality(t49.Bot, t49.Prev.Bot) || n.IntPoint.op_Equality(t49.Curr, t49.Top); )
        t49 = t49.Next;
      if (t49.Dx != n.ClipperBase.horizontal && t49.Prev.Dx != n.ClipperBase.horizontal)
        break;
      for (; t49.Prev.Dx == n.ClipperBase.horizontal; )
        t49 = t49.Prev;
      for (e10 = t49; t49.Dx == n.ClipperBase.horizontal; )
        t49 = t49.Next;
      if (t49.Top.Y != t49.Prev.Bot.Y) {
        e10.Prev.Bot.X < t49.Bot.X && (t49 = e10);
        break;
      }
    }
    return t49;
  }, n.ClipperBase.prototype.ProcessBound = function(t49, e10) {
    var i10, r6, o6 = t49, s10 = t49;
    if (t49.Dx == n.ClipperBase.horizontal && (r6 = e10 ? t49.Prev.Bot.X : t49.Next.Bot.X, t49.Bot.X != r6 && this.ReverseHorizontal(t49)), s10.OutIdx != n.ClipperBase.Skip)
      if (e10) {
        for (; s10.Top.Y == s10.Next.Bot.Y && s10.Next.OutIdx != n.ClipperBase.Skip; )
          s10 = s10.Next;
        if (s10.Dx == n.ClipperBase.horizontal && s10.Next.OutIdx != n.ClipperBase.Skip) {
          for (i10 = s10; i10.Prev.Dx == n.ClipperBase.horizontal; )
            i10 = i10.Prev;
          i10.Prev.Top.X == s10.Next.Top.X ? e10 || (s10 = i10.Prev) : i10.Prev.Top.X > s10.Next.Top.X && (s10 = i10.Prev);
        }
        for (; t49 != s10; )
          t49.NextInLML = t49.Next, t49.Dx == n.ClipperBase.horizontal && t49 != o6 && t49.Bot.X != t49.Prev.Top.X && this.ReverseHorizontal(t49), t49 = t49.Next;
        t49.Dx == n.ClipperBase.horizontal && t49 != o6 && t49.Bot.X != t49.Prev.Top.X && this.ReverseHorizontal(t49), s10 = s10.Next;
      } else {
        for (; s10.Top.Y == s10.Prev.Bot.Y && s10.Prev.OutIdx != n.ClipperBase.Skip; )
          s10 = s10.Prev;
        if (s10.Dx == n.ClipperBase.horizontal && s10.Prev.OutIdx != n.ClipperBase.Skip) {
          for (i10 = s10; i10.Next.Dx == n.ClipperBase.horizontal; )
            i10 = i10.Next;
          i10.Next.Top.X == s10.Prev.Top.X ? e10 || (s10 = i10.Next) : i10.Next.Top.X > s10.Prev.Top.X && (s10 = i10.Next);
        }
        for (; t49 != s10; )
          t49.NextInLML = t49.Prev, t49.Dx == n.ClipperBase.horizontal && t49 != o6 && t49.Bot.X != t49.Next.Top.X && this.ReverseHorizontal(t49), t49 = t49.Prev;
        t49.Dx == n.ClipperBase.horizontal && t49 != o6 && t49.Bot.X != t49.Next.Top.X && this.ReverseHorizontal(t49), s10 = s10.Prev;
      }
    if (s10.OutIdx == n.ClipperBase.Skip) {
      if (t49 = s10, e10) {
        for (; t49.Top.Y == t49.Next.Bot.Y; )
          t49 = t49.Next;
        for (; t49 != s10 && t49.Dx == n.ClipperBase.horizontal; )
          t49 = t49.Prev;
      } else {
        for (; t49.Top.Y == t49.Prev.Bot.Y; )
          t49 = t49.Prev;
        for (; t49 != s10 && t49.Dx == n.ClipperBase.horizontal; )
          t49 = t49.Next;
      }
      if (t49 == s10)
        s10 = e10 ? t49.Next : t49.Prev;
      else {
        t49 = e10 ? s10.Next : s10.Prev;
        var a3 = new n.LocalMinima();
        a3.Next = null, a3.Y = t49.Bot.Y, a3.LeftBound = null, a3.RightBound = t49, a3.RightBound.WindDelta = 0, s10 = this.ProcessBound(a3.RightBound, e10), this.InsertLocalMinima(a3);
      }
    }
    return s10;
  }, n.ClipperBase.prototype.AddPath = function(t49, e10, i10) {
    !i10 && e10 == n.PolyType.ptClip && n.Error("AddPath: Open paths must be subject.");
    var r6 = t49.length - 1;
    if (i10)
      for (; r6 > 0 && n.IntPoint.op_Equality(t49[r6], t49[0]); )
        --r6;
    for (; r6 > 0 && n.IntPoint.op_Equality(t49[r6], t49[r6 - 1]); )
      --r6;
    if (i10 && r6 < 2 || !i10 && r6 < 1)
      return false;
    for (var o6 = new Array(), s10 = 0; s10 <= r6; s10++)
      o6.push(new n.TEdge());
    var a3 = true;
    o6[1].Curr.X = t49[1].X, o6[1].Curr.Y = t49[1].Y;
    var l3 = { Value: this.m_UseFullRange };
    this.RangeTest(t49[0], l3), this.m_UseFullRange = l3.Value, l3.Value = this.m_UseFullRange, this.RangeTest(t49[r6], l3), this.m_UseFullRange = l3.Value, this.InitEdge(o6[0], o6[1], o6[r6], t49[0]), this.InitEdge(o6[r6], o6[0], o6[r6 - 1], t49[r6]);
    for (s10 = r6 - 1; s10 >= 1; --s10)
      l3.Value = this.m_UseFullRange, this.RangeTest(t49[s10], l3), this.m_UseFullRange = l3.Value, this.InitEdge(o6[s10], o6[s10 + 1], o6[s10 - 1], t49[s10]);
    for (var u2 = o6[0], h2 = u2, c4 = u2; ; )
      if (n.IntPoint.op_Equality(h2.Curr, h2.Next.Curr)) {
        if (h2 == h2.Next)
          break;
        h2 == u2 && (u2 = h2.Next), c4 = h2 = this.RemoveEdge(h2);
      } else {
        if (h2.Prev == h2.Next)
          break;
        if (!i10 || !n.ClipperBase.SlopesEqual(h2.Prev.Curr, h2.Curr, h2.Next.Curr, this.m_UseFullRange) || this.PreserveCollinear && this.Pt2IsBetweenPt1AndPt3(h2.Prev.Curr, h2.Curr, h2.Next.Curr)) {
          if ((h2 = h2.Next) == c4)
            break;
        } else
          h2 == u2 && (u2 = h2.Next), c4 = h2 = (h2 = this.RemoveEdge(h2)).Prev;
      }
    if (!i10 && h2 == h2.Next || i10 && h2.Prev == h2.Next)
      return false;
    i10 || (this.m_HasOpenPaths = true, u2.Prev.OutIdx = n.ClipperBase.Skip);
    h2 = u2;
    do {
      this.InitEdge2(h2, e10), h2 = h2.Next, a3 && h2.Curr.Y != u2.Curr.Y && (a3 = false);
    } while (h2 != u2);
    if (a3) {
      if (i10)
        return false;
      for (h2.Prev.OutIdx = n.ClipperBase.Skip, h2.Prev.Bot.X < h2.Prev.Top.X && this.ReverseHorizontal(h2.Prev), (f2 = new n.LocalMinima()).Next = null, f2.Y = h2.Bot.Y, f2.LeftBound = null, f2.RightBound = h2, f2.RightBound.Side = n.EdgeSide.esRight, f2.RightBound.WindDelta = 0; h2.Next.OutIdx != n.ClipperBase.Skip; )
        h2.NextInLML = h2.Next, h2.Bot.X != h2.Prev.Top.X && this.ReverseHorizontal(h2), h2 = h2.Next;
      return this.InsertLocalMinima(f2), this.m_edges.push(o6), true;
    }
    this.m_edges.push(o6);
    for (var p10, d4 = null; (h2 = this.FindNextLocMin(h2)) != d4; ) {
      var f2;
      null == d4 && (d4 = h2), (f2 = new n.LocalMinima()).Next = null, f2.Y = h2.Bot.Y, h2.Dx < h2.Prev.Dx ? (f2.LeftBound = h2.Prev, f2.RightBound = h2, p10 = false) : (f2.LeftBound = h2, f2.RightBound = h2.Prev, p10 = true), f2.LeftBound.Side = n.EdgeSide.esLeft, f2.RightBound.Side = n.EdgeSide.esRight, i10 ? f2.LeftBound.Next == f2.RightBound ? f2.LeftBound.WindDelta = -1 : f2.LeftBound.WindDelta = 1 : f2.LeftBound.WindDelta = 0, f2.RightBound.WindDelta = -f2.LeftBound.WindDelta, h2 = this.ProcessBound(f2.LeftBound, p10);
      var g4 = this.ProcessBound(f2.RightBound, !p10);
      f2.LeftBound.OutIdx == n.ClipperBase.Skip ? f2.LeftBound = null : f2.RightBound.OutIdx == n.ClipperBase.Skip && (f2.RightBound = null), this.InsertLocalMinima(f2), p10 || (h2 = g4);
    }
    return true;
  }, n.ClipperBase.prototype.AddPaths = function(t49, e10, i10) {
    for (var n10 = false, r6 = 0, o6 = t49.length; r6 < o6; ++r6)
      this.AddPath(t49[r6], e10, i10) && (n10 = true);
    return n10;
  }, n.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3 = function(t49, e10, i10) {
    return !(n.IntPoint.op_Equality(t49, i10) || n.IntPoint.op_Equality(t49, e10) || n.IntPoint.op_Equality(i10, e10)) && (t49.X != i10.X ? e10.X > t49.X == e10.X < i10.X : e10.Y > t49.Y == e10.Y < i10.Y);
  }, n.ClipperBase.prototype.RemoveEdge = function(t49) {
    t49.Prev.Next = t49.Next, t49.Next.Prev = t49.Prev;
    var e10 = t49.Next;
    return t49.Prev = null, e10;
  }, n.ClipperBase.prototype.SetDx = function(t49) {
    t49.Delta.X = t49.Top.X - t49.Bot.X, t49.Delta.Y = t49.Top.Y - t49.Bot.Y, 0 === t49.Delta.Y ? t49.Dx = n.ClipperBase.horizontal : t49.Dx = t49.Delta.X / t49.Delta.Y;
  }, n.ClipperBase.prototype.InsertLocalMinima = function(t49) {
    if (null === this.m_MinimaList)
      this.m_MinimaList = t49;
    else if (t49.Y >= this.m_MinimaList.Y)
      t49.Next = this.m_MinimaList, this.m_MinimaList = t49;
    else {
      for (var e10 = this.m_MinimaList; null !== e10.Next && t49.Y < e10.Next.Y; )
        e10 = e10.Next;
      t49.Next = e10.Next, e10.Next = t49;
    }
  }, n.ClipperBase.prototype.PopLocalMinima = function() {
    null !== this.m_CurrentLM && (this.m_CurrentLM = this.m_CurrentLM.Next);
  }, n.ClipperBase.prototype.ReverseHorizontal = function(t49) {
    var e10 = t49.Top.X;
    t49.Top.X = t49.Bot.X, t49.Bot.X = e10;
  }, n.ClipperBase.prototype.Reset = function() {
    if (this.m_CurrentLM = this.m_MinimaList, null != this.m_CurrentLM)
      for (var t49 = this.m_MinimaList; null != t49; ) {
        var e10 = t49.LeftBound;
        null != e10 && (e10.Curr.X = e10.Bot.X, e10.Curr.Y = e10.Bot.Y, e10.Side = n.EdgeSide.esLeft, e10.OutIdx = n.ClipperBase.Unassigned), null != (e10 = t49.RightBound) && (e10.Curr.X = e10.Bot.X, e10.Curr.Y = e10.Bot.Y, e10.Side = n.EdgeSide.esRight, e10.OutIdx = n.ClipperBase.Unassigned), t49 = t49.Next;
      }
  }, n.Clipper = function(t49) {
    typeof t49 > "u" && (t49 = 0), this.m_PolyOuts = null, this.m_ClipType = n.ClipType.ctIntersection, this.m_Scanbeam = null, this.m_ActiveEdges = null, this.m_SortedEdges = null, this.m_IntersectList = null, this.m_IntersectNodeComparer = null, this.m_ExecuteLocked = false, this.m_ClipFillType = n.PolyFillType.pftEvenOdd, this.m_SubjFillType = n.PolyFillType.pftEvenOdd, this.m_Joins = null, this.m_GhostJoins = null, this.m_UsingPolyTree = false, this.ReverseSolution = false, this.StrictlySimple = false, n.ClipperBase.call(this), this.m_Scanbeam = null, this.m_ActiveEdges = null, this.m_SortedEdges = null, this.m_IntersectList = new Array(), this.m_IntersectNodeComparer = n.MyIntersectNodeSort.Compare, this.m_ExecuteLocked = false, this.m_UsingPolyTree = false, this.m_PolyOuts = new Array(), this.m_Joins = new Array(), this.m_GhostJoins = new Array(), this.ReverseSolution = 0 != (1 & t49), this.StrictlySimple = 0 != (2 & t49), this.PreserveCollinear = 0 != (4 & t49);
  }, n.Clipper.ioReverseSolution = 1, n.Clipper.ioStrictlySimple = 2, n.Clipper.ioPreserveCollinear = 4, n.Clipper.prototype.Clear = function() {
    0 !== this.m_edges.length && (this.DisposeAllPolyPts(), n.ClipperBase.prototype.Clear.call(this));
  }, n.Clipper.prototype.DisposeScanbeamList = function() {
    for (; null !== this.m_Scanbeam; ) {
      var t49 = this.m_Scanbeam.Next;
      this.m_Scanbeam = null, this.m_Scanbeam = t49;
    }
  }, n.Clipper.prototype.Reset = function() {
    n.ClipperBase.prototype.Reset.call(this), this.m_Scanbeam = null, this.m_ActiveEdges = null, this.m_SortedEdges = null;
    for (var t49 = this.m_MinimaList; null !== t49; )
      this.InsertScanbeam(t49.Y), t49 = t49.Next;
  }, n.Clipper.prototype.InsertScanbeam = function(t49) {
    if (null === this.m_Scanbeam)
      this.m_Scanbeam = new n.Scanbeam(), this.m_Scanbeam.Next = null, this.m_Scanbeam.Y = t49;
    else if (t49 > this.m_Scanbeam.Y) {
      (i10 = new n.Scanbeam()).Y = t49, i10.Next = this.m_Scanbeam, this.m_Scanbeam = i10;
    } else {
      for (var e10 = this.m_Scanbeam; null !== e10.Next && t49 <= e10.Next.Y; )
        e10 = e10.Next;
      if (t49 == e10.Y)
        return;
      var i10;
      (i10 = new n.Scanbeam()).Y = t49, i10.Next = e10.Next, e10.Next = i10;
    }
  }, n.Clipper.prototype.Execute = function() {
    var t49 = arguments, e10 = t49.length, i10 = t49[1] instanceof n.PolyTree;
    if (4 == e10 && !i10) {
      var r6 = t49[0], o6 = t49[1], s10 = t49[2], a3 = t49[3];
      if (this.m_ExecuteLocked)
        return false;
      this.m_HasOpenPaths && n.Error("Error: PolyTree struct is need for open path clipping."), this.m_ExecuteLocked = true, n.Clear(o6), this.m_SubjFillType = s10, this.m_ClipFillType = a3, this.m_ClipType = r6, this.m_UsingPolyTree = false;
      try {
        (u2 = this.ExecuteInternal()) && this.BuildResult(o6);
      } finally {
        this.DisposeAllPolyPts(), this.m_ExecuteLocked = false;
      }
      return u2;
    }
    if (4 == e10 && i10) {
      r6 = t49[0];
      var l3 = t49[1];
      s10 = t49[2], a3 = t49[3];
      if (this.m_ExecuteLocked)
        return false;
      this.m_ExecuteLocked = true, this.m_SubjFillType = s10, this.m_ClipFillType = a3, this.m_ClipType = r6, this.m_UsingPolyTree = true;
      try {
        var u2;
        (u2 = this.ExecuteInternal()) && this.BuildResult2(l3);
      } finally {
        this.DisposeAllPolyPts(), this.m_ExecuteLocked = false;
      }
      return u2;
    }
    if (2 == e10 && !i10) {
      r6 = t49[0], o6 = t49[1];
      return this.Execute(r6, o6, n.PolyFillType.pftEvenOdd, n.PolyFillType.pftEvenOdd);
    }
    if (2 == e10 && i10) {
      r6 = t49[0], l3 = t49[1];
      return this.Execute(r6, l3, n.PolyFillType.pftEvenOdd, n.PolyFillType.pftEvenOdd);
    }
  }, n.Clipper.prototype.FixHoleLinkage = function(t49) {
    if (null !== t49.FirstLeft && (t49.IsHole == t49.FirstLeft.IsHole || null === t49.FirstLeft.Pts)) {
      for (var e10 = t49.FirstLeft; null !== e10 && (e10.IsHole == t49.IsHole || null === e10.Pts); )
        e10 = e10.FirstLeft;
      t49.FirstLeft = e10;
    }
  }, n.Clipper.prototype.ExecuteInternal = function() {
    try {
      if (this.Reset(), null === this.m_CurrentLM)
        return false;
      var t49 = this.PopScanbeam();
      do {
        if (this.InsertLocalMinimaIntoAEL(t49), n.Clear(this.m_GhostJoins), this.ProcessHorizontals(false), null === this.m_Scanbeam)
          break;
        var e10 = this.PopScanbeam();
        if (!this.ProcessIntersections(t49, e10))
          return false;
        this.ProcessEdgesAtTopOfScanbeam(e10), t49 = e10;
      } while (null !== this.m_Scanbeam || null !== this.m_CurrentLM);
      for (var i10 = 0, r6 = this.m_PolyOuts.length; i10 < r6; i10++) {
        null === (o6 = this.m_PolyOuts[i10]).Pts || o6.IsOpen || (o6.IsHole ^ this.ReverseSolution) == this.Area(o6) > 0 && this.ReversePolyPtLinks(o6.Pts);
      }
      this.JoinCommonEdges();
      for (i10 = 0, r6 = this.m_PolyOuts.length; i10 < r6; i10++) {
        var o6;
        null !== (o6 = this.m_PolyOuts[i10]).Pts && !o6.IsOpen && this.FixupOutPolygon(o6);
      }
      return this.StrictlySimple && this.DoSimplePolygons(), true;
    } finally {
      n.Clear(this.m_Joins), n.Clear(this.m_GhostJoins);
    }
  }, n.Clipper.prototype.PopScanbeam = function() {
    var t49 = this.m_Scanbeam.Y;
    this.m_Scanbeam;
    return this.m_Scanbeam = this.m_Scanbeam.Next, null, t49;
  }, n.Clipper.prototype.DisposeAllPolyPts = function() {
    for (var t49 = 0, e10 = this.m_PolyOuts.length; t49 < e10; ++t49)
      this.DisposeOutRec(t49);
    n.Clear(this.m_PolyOuts);
  }, n.Clipper.prototype.DisposeOutRec = function(t49) {
    var e10 = this.m_PolyOuts[t49];
    null !== e10.Pts && this.DisposeOutPts(e10.Pts), e10 = null, this.m_PolyOuts[t49] = null;
  }, n.Clipper.prototype.DisposeOutPts = function(t49) {
    if (null !== t49) {
      for (t49.Prev.Next = null; null !== t49; )
        t49, t49 = t49.Next, null;
    }
  }, n.Clipper.prototype.AddJoin = function(t49, e10, i10) {
    var r6 = new n.Join();
    r6.OutPt1 = t49, r6.OutPt2 = e10, r6.OffPt.X = i10.X, r6.OffPt.Y = i10.Y, this.m_Joins.push(r6);
  }, n.Clipper.prototype.AddGhostJoin = function(t49, e10) {
    var i10 = new n.Join();
    i10.OutPt1 = t49, i10.OffPt.X = e10.X, i10.OffPt.Y = e10.Y, this.m_GhostJoins.push(i10);
  }, n.Clipper.prototype.InsertLocalMinimaIntoAEL = function(t49) {
    for (; null !== this.m_CurrentLM && this.m_CurrentLM.Y == t49; ) {
      var e10 = this.m_CurrentLM.LeftBound, i10 = this.m_CurrentLM.RightBound;
      this.PopLocalMinima();
      var r6 = null;
      if (null === e10 ? (this.InsertEdgeIntoAEL(i10, null), this.SetWindingCount(i10), this.IsContributing(i10) && (r6 = this.AddOutPt(i10, i10.Bot))) : null == i10 ? (this.InsertEdgeIntoAEL(e10, null), this.SetWindingCount(e10), this.IsContributing(e10) && (r6 = this.AddOutPt(e10, e10.Bot)), this.InsertScanbeam(e10.Top.Y)) : (this.InsertEdgeIntoAEL(e10, null), this.InsertEdgeIntoAEL(i10, e10), this.SetWindingCount(e10), i10.WindCnt = e10.WindCnt, i10.WindCnt2 = e10.WindCnt2, this.IsContributing(e10) && (r6 = this.AddLocalMinPoly(e10, i10, e10.Bot)), this.InsertScanbeam(e10.Top.Y)), null != i10 && (n.ClipperBase.IsHorizontal(i10) ? this.AddEdgeToSEL(i10) : this.InsertScanbeam(i10.Top.Y)), null != e10 && null != i10) {
        if (null !== r6 && n.ClipperBase.IsHorizontal(i10) && this.m_GhostJoins.length > 0 && 0 !== i10.WindDelta)
          for (var o6 = 0, s10 = this.m_GhostJoins.length; o6 < s10; o6++) {
            var a3 = this.m_GhostJoins[o6];
            this.HorzSegmentsOverlap(a3.OutPt1.Pt, a3.OffPt, i10.Bot, i10.Top) && this.AddJoin(a3.OutPt1, r6, a3.OffPt);
          }
        if (e10.OutIdx >= 0 && null !== e10.PrevInAEL && e10.PrevInAEL.Curr.X == e10.Bot.X && e10.PrevInAEL.OutIdx >= 0 && n.ClipperBase.SlopesEqual(e10.PrevInAEL, e10, this.m_UseFullRange) && 0 !== e10.WindDelta && 0 !== e10.PrevInAEL.WindDelta) {
          var l3 = this.AddOutPt(e10.PrevInAEL, e10.Bot);
          this.AddJoin(r6, l3, e10.Top);
        }
        if (e10.NextInAEL != i10) {
          if (i10.OutIdx >= 0 && i10.PrevInAEL.OutIdx >= 0 && n.ClipperBase.SlopesEqual(i10.PrevInAEL, i10, this.m_UseFullRange) && 0 !== i10.WindDelta && 0 !== i10.PrevInAEL.WindDelta) {
            l3 = this.AddOutPt(i10.PrevInAEL, i10.Bot);
            this.AddJoin(r6, l3, i10.Top);
          }
          var u2 = e10.NextInAEL;
          if (null !== u2)
            for (; u2 != i10; )
              this.IntersectEdges(i10, u2, e10.Curr, false), u2 = u2.NextInAEL;
        }
      }
    }
  }, n.Clipper.prototype.InsertEdgeIntoAEL = function(t49, e10) {
    if (null === this.m_ActiveEdges)
      t49.PrevInAEL = null, t49.NextInAEL = null, this.m_ActiveEdges = t49;
    else if (null === e10 && this.E2InsertsBeforeE1(this.m_ActiveEdges, t49))
      t49.PrevInAEL = null, t49.NextInAEL = this.m_ActiveEdges, this.m_ActiveEdges.PrevInAEL = t49, this.m_ActiveEdges = t49;
    else {
      for (null === e10 && (e10 = this.m_ActiveEdges); null !== e10.NextInAEL && !this.E2InsertsBeforeE1(e10.NextInAEL, t49); )
        e10 = e10.NextInAEL;
      t49.NextInAEL = e10.NextInAEL, null !== e10.NextInAEL && (e10.NextInAEL.PrevInAEL = t49), t49.PrevInAEL = e10, e10.NextInAEL = t49;
    }
  }, n.Clipper.prototype.E2InsertsBeforeE1 = function(t49, e10) {
    return e10.Curr.X == t49.Curr.X ? e10.Top.Y > t49.Top.Y ? e10.Top.X < n.Clipper.TopX(t49, e10.Top.Y) : t49.Top.X > n.Clipper.TopX(e10, t49.Top.Y) : e10.Curr.X < t49.Curr.X;
  }, n.Clipper.prototype.IsEvenOddFillType = function(t49) {
    return t49.PolyTyp == n.PolyType.ptSubject ? this.m_SubjFillType == n.PolyFillType.pftEvenOdd : this.m_ClipFillType == n.PolyFillType.pftEvenOdd;
  }, n.Clipper.prototype.IsEvenOddAltFillType = function(t49) {
    return t49.PolyTyp == n.PolyType.ptSubject ? this.m_ClipFillType == n.PolyFillType.pftEvenOdd : this.m_SubjFillType == n.PolyFillType.pftEvenOdd;
  }, n.Clipper.prototype.IsContributing = function(t49) {
    var e10, i10;
    switch (t49.PolyTyp == n.PolyType.ptSubject ? (e10 = this.m_SubjFillType, i10 = this.m_ClipFillType) : (e10 = this.m_ClipFillType, i10 = this.m_SubjFillType), e10) {
      case n.PolyFillType.pftEvenOdd:
        if (0 === t49.WindDelta && 1 != t49.WindCnt)
          return false;
        break;
      case n.PolyFillType.pftNonZero:
        if (1 != Math.abs(t49.WindCnt))
          return false;
        break;
      case n.PolyFillType.pftPositive:
        if (1 != t49.WindCnt)
          return false;
        break;
      default:
        if (-1 != t49.WindCnt)
          return false;
    }
    switch (this.m_ClipType) {
      case n.ClipType.ctIntersection:
        switch (i10) {
          case n.PolyFillType.pftEvenOdd:
          case n.PolyFillType.pftNonZero:
            return 0 !== t49.WindCnt2;
          case n.PolyFillType.pftPositive:
            return t49.WindCnt2 > 0;
          default:
            return t49.WindCnt2 < 0;
        }
      case n.ClipType.ctUnion:
        switch (i10) {
          case n.PolyFillType.pftEvenOdd:
          case n.PolyFillType.pftNonZero:
            return 0 === t49.WindCnt2;
          case n.PolyFillType.pftPositive:
            return t49.WindCnt2 <= 0;
          default:
            return t49.WindCnt2 >= 0;
        }
      case n.ClipType.ctDifference:
        if (t49.PolyTyp == n.PolyType.ptSubject)
          switch (i10) {
            case n.PolyFillType.pftEvenOdd:
            case n.PolyFillType.pftNonZero:
              return 0 === t49.WindCnt2;
            case n.PolyFillType.pftPositive:
              return t49.WindCnt2 <= 0;
            default:
              return t49.WindCnt2 >= 0;
          }
        else
          switch (i10) {
            case n.PolyFillType.pftEvenOdd:
            case n.PolyFillType.pftNonZero:
              return 0 !== t49.WindCnt2;
            case n.PolyFillType.pftPositive:
              return t49.WindCnt2 > 0;
            default:
              return t49.WindCnt2 < 0;
          }
      case n.ClipType.ctXor:
        if (0 !== t49.WindDelta)
          return true;
        switch (i10) {
          case n.PolyFillType.pftEvenOdd:
          case n.PolyFillType.pftNonZero:
            return 0 === t49.WindCnt2;
          case n.PolyFillType.pftPositive:
            return t49.WindCnt2 <= 0;
          default:
            return t49.WindCnt2 >= 0;
        }
    }
    return true;
  }, n.Clipper.prototype.SetWindingCount = function(t49) {
    for (var e10 = t49.PrevInAEL; null !== e10 && (e10.PolyTyp != t49.PolyTyp || 0 === e10.WindDelta); )
      e10 = e10.PrevInAEL;
    if (null === e10)
      t49.WindCnt = 0 === t49.WindDelta ? 1 : t49.WindDelta, t49.WindCnt2 = 0, e10 = this.m_ActiveEdges;
    else if (0 === t49.WindDelta && this.m_ClipType != n.ClipType.ctUnion)
      t49.WindCnt = 1, t49.WindCnt2 = e10.WindCnt2, e10 = e10.NextInAEL;
    else if (this.IsEvenOddFillType(t49)) {
      if (0 === t49.WindDelta) {
        for (var i10 = true, r6 = e10.PrevInAEL; null !== r6; )
          r6.PolyTyp == e10.PolyTyp && 0 !== r6.WindDelta && (i10 = !i10), r6 = r6.PrevInAEL;
        t49.WindCnt = i10 ? 0 : 1;
      } else
        t49.WindCnt = t49.WindDelta;
      t49.WindCnt2 = e10.WindCnt2, e10 = e10.NextInAEL;
    } else
      e10.WindCnt * e10.WindDelta < 0 ? Math.abs(e10.WindCnt) > 1 ? e10.WindDelta * t49.WindDelta < 0 ? t49.WindCnt = e10.WindCnt : t49.WindCnt = e10.WindCnt + t49.WindDelta : t49.WindCnt = 0 === t49.WindDelta ? 1 : t49.WindDelta : 0 === t49.WindDelta ? t49.WindCnt = e10.WindCnt < 0 ? e10.WindCnt - 1 : e10.WindCnt + 1 : e10.WindDelta * t49.WindDelta < 0 ? t49.WindCnt = e10.WindCnt : t49.WindCnt = e10.WindCnt + t49.WindDelta, t49.WindCnt2 = e10.WindCnt2, e10 = e10.NextInAEL;
    if (this.IsEvenOddAltFillType(t49))
      for (; e10 != t49; )
        0 !== e10.WindDelta && (t49.WindCnt2 = 0 === t49.WindCnt2 ? 1 : 0), e10 = e10.NextInAEL;
    else
      for (; e10 != t49; )
        t49.WindCnt2 += e10.WindDelta, e10 = e10.NextInAEL;
  }, n.Clipper.prototype.AddEdgeToSEL = function(t49) {
    null === this.m_SortedEdges ? (this.m_SortedEdges = t49, t49.PrevInSEL = null, t49.NextInSEL = null) : (t49.NextInSEL = this.m_SortedEdges, t49.PrevInSEL = null, this.m_SortedEdges.PrevInSEL = t49, this.m_SortedEdges = t49);
  }, n.Clipper.prototype.CopyAELToSEL = function() {
    var t49 = this.m_ActiveEdges;
    for (this.m_SortedEdges = t49; null !== t49; )
      t49.PrevInSEL = t49.PrevInAEL, t49.NextInSEL = t49.NextInAEL, t49 = t49.NextInAEL;
  }, n.Clipper.prototype.SwapPositionsInAEL = function(t49, e10) {
    if (t49.NextInAEL != t49.PrevInAEL && e10.NextInAEL != e10.PrevInAEL) {
      if (t49.NextInAEL == e10)
        null !== (i10 = e10.NextInAEL) && (i10.PrevInAEL = t49), null !== (n10 = t49.PrevInAEL) && (n10.NextInAEL = e10), e10.PrevInAEL = n10, e10.NextInAEL = t49, t49.PrevInAEL = e10, t49.NextInAEL = i10;
      else if (e10.NextInAEL == t49) {
        null !== (i10 = t49.NextInAEL) && (i10.PrevInAEL = e10), null !== (n10 = e10.PrevInAEL) && (n10.NextInAEL = t49), t49.PrevInAEL = n10, t49.NextInAEL = e10, e10.PrevInAEL = t49, e10.NextInAEL = i10;
      } else {
        var i10 = t49.NextInAEL, n10 = t49.PrevInAEL;
        t49.NextInAEL = e10.NextInAEL, null !== t49.NextInAEL && (t49.NextInAEL.PrevInAEL = t49), t49.PrevInAEL = e10.PrevInAEL, null !== t49.PrevInAEL && (t49.PrevInAEL.NextInAEL = t49), e10.NextInAEL = i10, null !== e10.NextInAEL && (e10.NextInAEL.PrevInAEL = e10), e10.PrevInAEL = n10, null !== e10.PrevInAEL && (e10.PrevInAEL.NextInAEL = e10);
      }
      null === t49.PrevInAEL ? this.m_ActiveEdges = t49 : null === e10.PrevInAEL && (this.m_ActiveEdges = e10);
    }
  }, n.Clipper.prototype.SwapPositionsInSEL = function(t49, e10) {
    if (!(null === t49.NextInSEL && null === t49.PrevInSEL || null === e10.NextInSEL && null === e10.PrevInSEL)) {
      if (t49.NextInSEL == e10)
        null !== (i10 = e10.NextInSEL) && (i10.PrevInSEL = t49), null !== (n10 = t49.PrevInSEL) && (n10.NextInSEL = e10), e10.PrevInSEL = n10, e10.NextInSEL = t49, t49.PrevInSEL = e10, t49.NextInSEL = i10;
      else if (e10.NextInSEL == t49) {
        null !== (i10 = t49.NextInSEL) && (i10.PrevInSEL = e10), null !== (n10 = e10.PrevInSEL) && (n10.NextInSEL = t49), t49.PrevInSEL = n10, t49.NextInSEL = e10, e10.PrevInSEL = t49, e10.NextInSEL = i10;
      } else {
        var i10 = t49.NextInSEL, n10 = t49.PrevInSEL;
        t49.NextInSEL = e10.NextInSEL, null !== t49.NextInSEL && (t49.NextInSEL.PrevInSEL = t49), t49.PrevInSEL = e10.PrevInSEL, null !== t49.PrevInSEL && (t49.PrevInSEL.NextInSEL = t49), e10.NextInSEL = i10, null !== e10.NextInSEL && (e10.NextInSEL.PrevInSEL = e10), e10.PrevInSEL = n10, null !== e10.PrevInSEL && (e10.PrevInSEL.NextInSEL = e10);
      }
      null === t49.PrevInSEL ? this.m_SortedEdges = t49 : null === e10.PrevInSEL && (this.m_SortedEdges = e10);
    }
  }, n.Clipper.prototype.AddLocalMaxPoly = function(t49, e10, i10) {
    this.AddOutPt(t49, i10), 0 == e10.WindDelta && this.AddOutPt(e10, i10), t49.OutIdx == e10.OutIdx ? (t49.OutIdx = -1, e10.OutIdx = -1) : t49.OutIdx < e10.OutIdx ? this.AppendPolygon(t49, e10) : this.AppendPolygon(e10, t49);
  }, n.Clipper.prototype.AddLocalMinPoly = function(t49, e10, i10) {
    var r6, o6, s10;
    if (n.ClipperBase.IsHorizontal(e10) || t49.Dx > e10.Dx ? (r6 = this.AddOutPt(t49, i10), e10.OutIdx = t49.OutIdx, t49.Side = n.EdgeSide.esLeft, e10.Side = n.EdgeSide.esRight, s10 = (o6 = t49).PrevInAEL == e10 ? e10.PrevInAEL : o6.PrevInAEL) : (r6 = this.AddOutPt(e10, i10), t49.OutIdx = e10.OutIdx, t49.Side = n.EdgeSide.esRight, e10.Side = n.EdgeSide.esLeft, s10 = (o6 = e10).PrevInAEL == t49 ? t49.PrevInAEL : o6.PrevInAEL), null !== s10 && s10.OutIdx >= 0 && n.Clipper.TopX(s10, i10.Y) == n.Clipper.TopX(o6, i10.Y) && n.ClipperBase.SlopesEqual(o6, s10, this.m_UseFullRange) && 0 !== o6.WindDelta && 0 !== s10.WindDelta) {
      var a3 = this.AddOutPt(s10, i10);
      this.AddJoin(r6, a3, o6.Top);
    }
    return r6;
  }, n.Clipper.prototype.CreateOutRec = function() {
    var t49 = new n.OutRec();
    return t49.Idx = -1, t49.IsHole = false, t49.IsOpen = false, t49.FirstLeft = null, t49.Pts = null, t49.BottomPt = null, t49.PolyNode = null, this.m_PolyOuts.push(t49), t49.Idx = this.m_PolyOuts.length - 1, t49;
  }, n.Clipper.prototype.AddOutPt = function(t49, e10) {
    var i10 = t49.Side == n.EdgeSide.esLeft;
    if (t49.OutIdx < 0) {
      (o6 = this.CreateOutRec()).IsOpen = 0 === t49.WindDelta;
      var r6 = new n.OutPt();
      return o6.Pts = r6, r6.Idx = o6.Idx, r6.Pt.X = e10.X, r6.Pt.Y = e10.Y, r6.Next = r6, r6.Prev = r6, o6.IsOpen || this.SetHoleState(t49, o6), t49.OutIdx = o6.Idx, r6;
    }
    var o6, s10 = (o6 = this.m_PolyOuts[t49.OutIdx]).Pts;
    return i10 && n.IntPoint.op_Equality(e10, s10.Pt) ? s10 : !i10 && n.IntPoint.op_Equality(e10, s10.Prev.Pt) ? s10.Prev : ((r6 = new n.OutPt()).Idx = o6.Idx, r6.Pt.X = e10.X, r6.Pt.Y = e10.Y, r6.Next = s10, r6.Prev = s10.Prev, r6.Prev.Next = r6, s10.Prev = r6, i10 && (o6.Pts = r6), r6);
  }, n.Clipper.prototype.SwapPoints = function(t49, e10) {
    var i10 = new n.IntPoint(t49.Value);
    t49.Value.X = e10.Value.X, t49.Value.Y = e10.Value.Y, e10.Value.X = i10.X, e10.Value.Y = i10.Y;
  }, n.Clipper.prototype.HorzSegmentsOverlap = function(t49, e10, i10, n10) {
    return t49.X > i10.X == t49.X < n10.X || e10.X > i10.X == e10.X < n10.X || i10.X > t49.X == i10.X < e10.X || n10.X > t49.X == n10.X < e10.X || t49.X == i10.X && e10.X == n10.X || t49.X == n10.X && e10.X == i10.X;
  }, n.Clipper.prototype.InsertPolyPtBetween = function(t49, e10, i10) {
    var r6 = new n.OutPt();
    return r6.Pt.X = i10.X, r6.Pt.Y = i10.Y, e10 == t49.Next ? (t49.Next = r6, e10.Prev = r6, r6.Next = e10, r6.Prev = t49) : (e10.Next = r6, t49.Prev = r6, r6.Next = t49, r6.Prev = e10), r6;
  }, n.Clipper.prototype.SetHoleState = function(t49, e10) {
    for (var i10 = false, n10 = t49.PrevInAEL; null !== n10; )
      n10.OutIdx >= 0 && 0 != n10.WindDelta && (i10 = !i10, null === e10.FirstLeft && (e10.FirstLeft = this.m_PolyOuts[n10.OutIdx])), n10 = n10.PrevInAEL;
    i10 && (e10.IsHole = true);
  }, n.Clipper.prototype.GetDx = function(t49, e10) {
    return t49.Y == e10.Y ? n.ClipperBase.horizontal : (e10.X - t49.X) / (e10.Y - t49.Y);
  }, n.Clipper.prototype.FirstIsBottomPt = function(t49, e10) {
    for (var i10 = t49.Prev; n.IntPoint.op_Equality(i10.Pt, t49.Pt) && i10 != t49; )
      i10 = i10.Prev;
    var r6 = Math.abs(this.GetDx(t49.Pt, i10.Pt));
    for (i10 = t49.Next; n.IntPoint.op_Equality(i10.Pt, t49.Pt) && i10 != t49; )
      i10 = i10.Next;
    var o6 = Math.abs(this.GetDx(t49.Pt, i10.Pt));
    for (i10 = e10.Prev; n.IntPoint.op_Equality(i10.Pt, e10.Pt) && i10 != e10; )
      i10 = i10.Prev;
    var s10 = Math.abs(this.GetDx(e10.Pt, i10.Pt));
    for (i10 = e10.Next; n.IntPoint.op_Equality(i10.Pt, e10.Pt) && i10 != e10; )
      i10 = i10.Next;
    var a3 = Math.abs(this.GetDx(e10.Pt, i10.Pt));
    return r6 >= s10 && r6 >= a3 || o6 >= s10 && o6 >= a3;
  }, n.Clipper.prototype.GetBottomPt = function(t49) {
    for (var e10 = null, i10 = t49.Next; i10 != t49; )
      i10.Pt.Y > t49.Pt.Y ? (t49 = i10, e10 = null) : i10.Pt.Y == t49.Pt.Y && i10.Pt.X <= t49.Pt.X && (i10.Pt.X < t49.Pt.X ? (e10 = null, t49 = i10) : i10.Next != t49 && i10.Prev != t49 && (e10 = i10)), i10 = i10.Next;
    if (null !== e10)
      for (; e10 != i10; )
        for (this.FirstIsBottomPt(i10, e10) || (t49 = e10), e10 = e10.Next; n.IntPoint.op_Inequality(e10.Pt, t49.Pt); )
          e10 = e10.Next;
    return t49;
  }, n.Clipper.prototype.GetLowermostRec = function(t49, e10) {
    null === t49.BottomPt && (t49.BottomPt = this.GetBottomPt(t49.Pts)), null === e10.BottomPt && (e10.BottomPt = this.GetBottomPt(e10.Pts));
    var i10 = t49.BottomPt, n10 = e10.BottomPt;
    return i10.Pt.Y > n10.Pt.Y ? t49 : i10.Pt.Y < n10.Pt.Y ? e10 : i10.Pt.X < n10.Pt.X ? t49 : i10.Pt.X > n10.Pt.X || i10.Next == i10 ? e10 : n10.Next == n10 || this.FirstIsBottomPt(i10, n10) ? t49 : e10;
  }, n.Clipper.prototype.Param1RightOfParam2 = function(t49, e10) {
    do {
      if ((t49 = t49.FirstLeft) == e10)
        return true;
    } while (null !== t49);
    return false;
  }, n.Clipper.prototype.GetOutRec = function(t49) {
    for (var e10 = this.m_PolyOuts[t49]; e10 != this.m_PolyOuts[e10.Idx]; )
      e10 = this.m_PolyOuts[e10.Idx];
    return e10;
  }, n.Clipper.prototype.AppendPolygon = function(t49, e10) {
    var i10, r6 = this.m_PolyOuts[t49.OutIdx], o6 = this.m_PolyOuts[e10.OutIdx];
    i10 = this.Param1RightOfParam2(r6, o6) ? o6 : this.Param1RightOfParam2(o6, r6) ? r6 : this.GetLowermostRec(r6, o6);
    var s10, a3 = r6.Pts, l3 = a3.Prev, u2 = o6.Pts, h2 = u2.Prev;
    t49.Side == n.EdgeSide.esLeft ? (e10.Side == n.EdgeSide.esLeft ? (this.ReversePolyPtLinks(u2), u2.Next = a3, a3.Prev = u2, l3.Next = h2, h2.Prev = l3, r6.Pts = h2) : (h2.Next = a3, a3.Prev = h2, u2.Prev = l3, l3.Next = u2, r6.Pts = u2), s10 = n.EdgeSide.esLeft) : (e10.Side == n.EdgeSide.esRight ? (this.ReversePolyPtLinks(u2), l3.Next = h2, h2.Prev = l3, u2.Next = a3, a3.Prev = u2) : (l3.Next = u2, u2.Prev = l3, a3.Prev = h2, h2.Next = a3), s10 = n.EdgeSide.esRight), r6.BottomPt = null, i10 == o6 && (o6.FirstLeft != r6 && (r6.FirstLeft = o6.FirstLeft), r6.IsHole = o6.IsHole), o6.Pts = null, o6.BottomPt = null, o6.FirstLeft = r6;
    var c4 = t49.OutIdx, p10 = e10.OutIdx;
    t49.OutIdx = -1, e10.OutIdx = -1;
    for (var d4 = this.m_ActiveEdges; null !== d4; ) {
      if (d4.OutIdx == p10) {
        d4.OutIdx = c4, d4.Side = s10;
        break;
      }
      d4 = d4.NextInAEL;
    }
    o6.Idx = r6.Idx;
  }, n.Clipper.prototype.ReversePolyPtLinks = function(t49) {
    if (null !== t49) {
      var e10, i10;
      e10 = t49;
      do {
        i10 = e10.Next, e10.Next = e10.Prev, e10.Prev = i10, e10 = i10;
      } while (e10 != t49);
    }
  }, n.Clipper.SwapSides = function(t49, e10) {
    var i10 = t49.Side;
    t49.Side = e10.Side, e10.Side = i10;
  }, n.Clipper.SwapPolyIndexes = function(t49, e10) {
    var i10 = t49.OutIdx;
    t49.OutIdx = e10.OutIdx, e10.OutIdx = i10;
  }, n.Clipper.prototype.IntersectEdges = function(t49, e10, i10, r6) {
    var o6, s10, a3, l3, u2, h2, c4 = !r6 && null === t49.NextInLML && t49.Top.X == i10.X && t49.Top.Y == i10.Y, p10 = !r6 && null === e10.NextInLML && e10.Top.X == i10.X && e10.Top.Y == i10.Y, d4 = t49.OutIdx >= 0, f2 = e10.OutIdx >= 0;
    if (0 === t49.WindDelta || 0 === e10.WindDelta)
      return 0 === t49.WindDelta && 0 === e10.WindDelta ? (c4 || p10) && d4 && f2 && this.AddLocalMaxPoly(t49, e10, i10) : t49.PolyTyp == e10.PolyTyp && t49.WindDelta != e10.WindDelta && this.m_ClipType == n.ClipType.ctUnion ? 0 === t49.WindDelta ? f2 && (this.AddOutPt(t49, i10), d4 && (t49.OutIdx = -1)) : d4 && (this.AddOutPt(e10, i10), f2 && (e10.OutIdx = -1)) : t49.PolyTyp != e10.PolyTyp && (0 !== t49.WindDelta || 1 != Math.abs(e10.WindCnt) || this.m_ClipType == n.ClipType.ctUnion && 0 !== e10.WindCnt2 ? 0 === e10.WindDelta && 1 == Math.abs(t49.WindCnt) && (this.m_ClipType != n.ClipType.ctUnion || 0 === t49.WindCnt2) && (this.AddOutPt(e10, i10), f2 && (e10.OutIdx = -1)) : (this.AddOutPt(t49, i10), d4 && (t49.OutIdx = -1))), c4 && (t49.OutIdx < 0 ? this.DeleteFromAEL(t49) : n.Error("Error intersecting polylines")), void (p10 && (e10.OutIdx < 0 ? this.DeleteFromAEL(e10) : n.Error("Error intersecting polylines")));
    if (t49.PolyTyp == e10.PolyTyp)
      if (this.IsEvenOddFillType(t49)) {
        var g4 = t49.WindCnt;
        t49.WindCnt = e10.WindCnt, e10.WindCnt = g4;
      } else
        t49.WindCnt + e10.WindDelta === 0 ? t49.WindCnt = -t49.WindCnt : t49.WindCnt += e10.WindDelta, e10.WindCnt - t49.WindDelta == 0 ? e10.WindCnt = -e10.WindCnt : e10.WindCnt -= t49.WindDelta;
    else
      this.IsEvenOddFillType(e10) ? t49.WindCnt2 = 0 === t49.WindCnt2 ? 1 : 0 : t49.WindCnt2 += e10.WindDelta, this.IsEvenOddFillType(t49) ? e10.WindCnt2 = 0 === e10.WindCnt2 ? 1 : 0 : e10.WindCnt2 -= t49.WindDelta;
    switch (t49.PolyTyp == n.PolyType.ptSubject ? (o6 = this.m_SubjFillType, a3 = this.m_ClipFillType) : (o6 = this.m_ClipFillType, a3 = this.m_SubjFillType), e10.PolyTyp == n.PolyType.ptSubject ? (s10 = this.m_SubjFillType, l3 = this.m_ClipFillType) : (s10 = this.m_ClipFillType, l3 = this.m_SubjFillType), o6) {
      case n.PolyFillType.pftPositive:
        u2 = t49.WindCnt;
        break;
      case n.PolyFillType.pftNegative:
        u2 = -t49.WindCnt;
        break;
      default:
        u2 = Math.abs(t49.WindCnt);
    }
    switch (s10) {
      case n.PolyFillType.pftPositive:
        h2 = e10.WindCnt;
        break;
      case n.PolyFillType.pftNegative:
        h2 = -e10.WindCnt;
        break;
      default:
        h2 = Math.abs(e10.WindCnt);
    }
    if (d4 && f2)
      c4 || p10 || 0 !== u2 && 1 != u2 || 0 !== h2 && 1 != h2 || t49.PolyTyp != e10.PolyTyp && this.m_ClipType != n.ClipType.ctXor ? this.AddLocalMaxPoly(t49, e10, i10) : (this.AddOutPt(t49, i10), this.AddOutPt(e10, i10), n.Clipper.SwapSides(t49, e10), n.Clipper.SwapPolyIndexes(t49, e10));
    else if (d4)
      (0 === h2 || 1 == h2) && (this.AddOutPt(t49, i10), n.Clipper.SwapSides(t49, e10), n.Clipper.SwapPolyIndexes(t49, e10));
    else if (f2)
      (0 === u2 || 1 == u2) && (this.AddOutPt(e10, i10), n.Clipper.SwapSides(t49, e10), n.Clipper.SwapPolyIndexes(t49, e10));
    else if (!(0 !== u2 && 1 != u2 || 0 !== h2 && 1 != h2 || c4 || p10)) {
      var m4, v10;
      switch (a3) {
        case n.PolyFillType.pftPositive:
          m4 = t49.WindCnt2;
          break;
        case n.PolyFillType.pftNegative:
          m4 = -t49.WindCnt2;
          break;
        default:
          m4 = Math.abs(t49.WindCnt2);
      }
      switch (l3) {
        case n.PolyFillType.pftPositive:
          v10 = e10.WindCnt2;
          break;
        case n.PolyFillType.pftNegative:
          v10 = -e10.WindCnt2;
          break;
        default:
          v10 = Math.abs(e10.WindCnt2);
      }
      if (t49.PolyTyp != e10.PolyTyp)
        this.AddLocalMinPoly(t49, e10, i10);
      else if (1 == u2 && 1 == h2)
        switch (this.m_ClipType) {
          case n.ClipType.ctIntersection:
            m4 > 0 && v10 > 0 && this.AddLocalMinPoly(t49, e10, i10);
            break;
          case n.ClipType.ctUnion:
            m4 <= 0 && v10 <= 0 && this.AddLocalMinPoly(t49, e10, i10);
            break;
          case n.ClipType.ctDifference:
            (t49.PolyTyp == n.PolyType.ptClip && m4 > 0 && v10 > 0 || t49.PolyTyp == n.PolyType.ptSubject && m4 <= 0 && v10 <= 0) && this.AddLocalMinPoly(t49, e10, i10);
            break;
          case n.ClipType.ctXor:
            this.AddLocalMinPoly(t49, e10, i10);
        }
      else
        n.Clipper.SwapSides(t49, e10);
    }
    c4 != p10 && (c4 && t49.OutIdx >= 0 || p10 && e10.OutIdx >= 0) && (n.Clipper.SwapSides(t49, e10), n.Clipper.SwapPolyIndexes(t49, e10)), c4 && this.DeleteFromAEL(t49), p10 && this.DeleteFromAEL(e10);
  }, n.Clipper.prototype.DeleteFromAEL = function(t49) {
    var e10 = t49.PrevInAEL, i10 = t49.NextInAEL;
    null === e10 && null === i10 && t49 != this.m_ActiveEdges || (null !== e10 ? e10.NextInAEL = i10 : this.m_ActiveEdges = i10, null !== i10 && (i10.PrevInAEL = e10), t49.NextInAEL = null, t49.PrevInAEL = null);
  }, n.Clipper.prototype.DeleteFromSEL = function(t49) {
    var e10 = t49.PrevInSEL, i10 = t49.NextInSEL;
    null === e10 && null === i10 && t49 != this.m_SortedEdges || (null !== e10 ? e10.NextInSEL = i10 : this.m_SortedEdges = i10, null !== i10 && (i10.PrevInSEL = e10), t49.NextInSEL = null, t49.PrevInSEL = null);
  }, n.Clipper.prototype.UpdateEdgeIntoAEL = function(t49) {
    null === t49.NextInLML && n.Error("UpdateEdgeIntoAEL: invalid call");
    var e10 = t49.PrevInAEL, i10 = t49.NextInAEL;
    return t49.NextInLML.OutIdx = t49.OutIdx, null !== e10 ? e10.NextInAEL = t49.NextInLML : this.m_ActiveEdges = t49.NextInLML, null !== i10 && (i10.PrevInAEL = t49.NextInLML), t49.NextInLML.Side = t49.Side, t49.NextInLML.WindDelta = t49.WindDelta, t49.NextInLML.WindCnt = t49.WindCnt, t49.NextInLML.WindCnt2 = t49.WindCnt2, (t49 = t49.NextInLML).Curr.X = t49.Bot.X, t49.Curr.Y = t49.Bot.Y, t49.PrevInAEL = e10, t49.NextInAEL = i10, n.ClipperBase.IsHorizontal(t49) || this.InsertScanbeam(t49.Top.Y), t49;
  }, n.Clipper.prototype.ProcessHorizontals = function(t49) {
    for (var e10 = this.m_SortedEdges; null !== e10; )
      this.DeleteFromSEL(e10), this.ProcessHorizontal(e10, t49), e10 = this.m_SortedEdges;
  }, n.Clipper.prototype.GetHorzDirection = function(t49, e10) {
    t49.Bot.X < t49.Top.X ? (e10.Left = t49.Bot.X, e10.Right = t49.Top.X, e10.Dir = n.Direction.dLeftToRight) : (e10.Left = t49.Top.X, e10.Right = t49.Bot.X, e10.Dir = n.Direction.dRightToLeft);
  }, n.Clipper.prototype.PrepareHorzJoins = function(t49, e10) {
    var i10 = this.m_PolyOuts[t49.OutIdx].Pts;
    t49.Side != n.EdgeSide.esLeft && (i10 = i10.Prev), e10 && (n.IntPoint.op_Equality(i10.Pt, t49.Top) ? this.AddGhostJoin(i10, t49.Bot) : this.AddGhostJoin(i10, t49.Top));
  }, n.Clipper.prototype.ProcessHorizontal = function(t49, e10) {
    var i10 = { Dir: null, Left: null, Right: null };
    this.GetHorzDirection(t49, i10);
    for (var r6 = i10.Dir, o6 = i10.Left, s10 = i10.Right, a3 = t49, l3 = null; null !== a3.NextInLML && n.ClipperBase.IsHorizontal(a3.NextInLML); )
      a3 = a3.NextInLML;
    for (null === a3.NextInLML && (l3 = this.GetMaximaPair(a3)); ; ) {
      for (var u2 = t49 == a3, h2 = this.GetNextInAEL(t49, r6); null !== h2 && !(h2.Curr.X == t49.Top.X && null !== t49.NextInLML && h2.Dx < t49.NextInLML.Dx); ) {
        var c4 = this.GetNextInAEL(h2, r6);
        if (r6 == n.Direction.dLeftToRight && h2.Curr.X <= s10 || r6 == n.Direction.dRightToLeft && h2.Curr.X >= o6) {
          if (t49.OutIdx >= 0 && 0 != t49.WindDelta && this.PrepareHorzJoins(t49, e10), h2 == l3 && u2)
            return r6 == n.Direction.dLeftToRight ? this.IntersectEdges(t49, h2, h2.Top, false) : this.IntersectEdges(h2, t49, h2.Top, false), void (l3.OutIdx >= 0 && n.Error("ProcessHorizontal error"));
          if (r6 == n.Direction.dLeftToRight) {
            var p10 = new n.IntPoint(h2.Curr.X, t49.Curr.Y);
            this.IntersectEdges(t49, h2, p10, true);
          } else {
            p10 = new n.IntPoint(h2.Curr.X, t49.Curr.Y);
            this.IntersectEdges(h2, t49, p10, true);
          }
          this.SwapPositionsInAEL(t49, h2);
        } else if (r6 == n.Direction.dLeftToRight && h2.Curr.X >= s10 || r6 == n.Direction.dRightToLeft && h2.Curr.X <= o6)
          break;
        h2 = c4;
      }
      if (t49.OutIdx >= 0 && 0 !== t49.WindDelta && this.PrepareHorzJoins(t49, e10), null === t49.NextInLML || !n.ClipperBase.IsHorizontal(t49.NextInLML))
        break;
      (t49 = this.UpdateEdgeIntoAEL(t49)).OutIdx >= 0 && this.AddOutPt(t49, t49.Bot);
      i10 = { Dir: r6, Left: o6, Right: s10 };
      this.GetHorzDirection(t49, i10), r6 = i10.Dir, o6 = i10.Left, s10 = i10.Right;
    }
    if (null !== t49.NextInLML)
      if (t49.OutIdx >= 0) {
        var d4 = this.AddOutPt(t49, t49.Top);
        if (0 === (t49 = this.UpdateEdgeIntoAEL(t49)).WindDelta)
          return;
        var f2 = t49.PrevInAEL;
        c4 = t49.NextInAEL;
        if (null !== f2 && f2.Curr.X == t49.Bot.X && f2.Curr.Y == t49.Bot.Y && 0 !== f2.WindDelta && f2.OutIdx >= 0 && f2.Curr.Y > f2.Top.Y && n.ClipperBase.SlopesEqual(t49, f2, this.m_UseFullRange)) {
          var g4 = this.AddOutPt(f2, t49.Bot);
          this.AddJoin(d4, g4, t49.Top);
        } else if (null !== c4 && c4.Curr.X == t49.Bot.X && c4.Curr.Y == t49.Bot.Y && 0 !== c4.WindDelta && c4.OutIdx >= 0 && c4.Curr.Y > c4.Top.Y && n.ClipperBase.SlopesEqual(t49, c4, this.m_UseFullRange)) {
          g4 = this.AddOutPt(c4, t49.Bot);
          this.AddJoin(d4, g4, t49.Top);
        }
      } else
        t49 = this.UpdateEdgeIntoAEL(t49);
    else
      null !== l3 ? l3.OutIdx >= 0 ? (r6 == n.Direction.dLeftToRight ? this.IntersectEdges(t49, l3, t49.Top, false) : this.IntersectEdges(l3, t49, t49.Top, false), l3.OutIdx >= 0 && n.Error("ProcessHorizontal error")) : (this.DeleteFromAEL(t49), this.DeleteFromAEL(l3)) : (t49.OutIdx >= 0 && this.AddOutPt(t49, t49.Top), this.DeleteFromAEL(t49));
  }, n.Clipper.prototype.GetNextInAEL = function(t49, e10) {
    return e10 == n.Direction.dLeftToRight ? t49.NextInAEL : t49.PrevInAEL;
  }, n.Clipper.prototype.IsMinima = function(t49) {
    return null !== t49 && t49.Prev.NextInLML != t49 && t49.Next.NextInLML != t49;
  }, n.Clipper.prototype.IsMaxima = function(t49, e10) {
    return null !== t49 && t49.Top.Y == e10 && null === t49.NextInLML;
  }, n.Clipper.prototype.IsIntermediate = function(t49, e10) {
    return t49.Top.Y == e10 && null !== t49.NextInLML;
  }, n.Clipper.prototype.GetMaximaPair = function(t49) {
    var e10 = null;
    return n.IntPoint.op_Equality(t49.Next.Top, t49.Top) && null === t49.Next.NextInLML ? e10 = t49.Next : n.IntPoint.op_Equality(t49.Prev.Top, t49.Top) && null === t49.Prev.NextInLML && (e10 = t49.Prev), null === e10 || -2 != e10.OutIdx && (e10.NextInAEL != e10.PrevInAEL || n.ClipperBase.IsHorizontal(e10)) ? e10 : null;
  }, n.Clipper.prototype.ProcessIntersections = function(t49, e10) {
    if (null == this.m_ActiveEdges)
      return true;
    try {
      if (this.BuildIntersectList(t49, e10), 0 == this.m_IntersectList.length)
        return true;
      if (1 != this.m_IntersectList.length && !this.FixupIntersectionOrder())
        return false;
      this.ProcessIntersectList();
    } catch {
      this.m_SortedEdges = null, this.m_IntersectList.length = 0, n.Error("ProcessIntersections error");
    }
    return this.m_SortedEdges = null, true;
  }, n.Clipper.prototype.BuildIntersectList = function(t49, e10) {
    if (null !== this.m_ActiveEdges) {
      var i10 = this.m_ActiveEdges;
      for (this.m_SortedEdges = i10; null !== i10; )
        i10.PrevInSEL = i10.PrevInAEL, i10.NextInSEL = i10.NextInAEL, i10.Curr.X = n.Clipper.TopX(i10, e10), i10 = i10.NextInAEL;
      for (var r6 = true; r6 && null !== this.m_SortedEdges; ) {
        for (r6 = false, i10 = this.m_SortedEdges; null !== i10.NextInSEL; ) {
          var o6 = i10.NextInSEL, s10 = new n.IntPoint();
          if (i10.Curr.X > o6.Curr.X) {
            !this.IntersectPoint(i10, o6, s10) && i10.Curr.X > o6.Curr.X + 1 && n.Error("Intersection error"), s10.Y > t49 && (s10.Y = t49, Math.abs(i10.Dx) > Math.abs(o6.Dx) ? s10.X = n.Clipper.TopX(o6, t49) : s10.X = n.Clipper.TopX(i10, t49));
            var a3 = new n.IntersectNode();
            a3.Edge1 = i10, a3.Edge2 = o6, a3.Pt.X = s10.X, a3.Pt.Y = s10.Y, this.m_IntersectList.push(a3), this.SwapPositionsInSEL(i10, o6), r6 = true;
          } else
            i10 = o6;
        }
        if (null === i10.PrevInSEL)
          break;
        i10.PrevInSEL.NextInSEL = null;
      }
      this.m_SortedEdges = null;
    }
  }, n.Clipper.prototype.EdgesAdjacent = function(t49) {
    return t49.Edge1.NextInSEL == t49.Edge2 || t49.Edge1.PrevInSEL == t49.Edge2;
  }, n.Clipper.IntersectNodeSort = function(t49, e10) {
    return e10.Pt.Y - t49.Pt.Y;
  }, n.Clipper.prototype.FixupIntersectionOrder = function() {
    this.m_IntersectList.sort(this.m_IntersectNodeComparer), this.CopyAELToSEL();
    for (var t49 = this.m_IntersectList.length, e10 = 0; e10 < t49; e10++) {
      if (!this.EdgesAdjacent(this.m_IntersectList[e10])) {
        for (var i10 = e10 + 1; i10 < t49 && !this.EdgesAdjacent(this.m_IntersectList[i10]); )
          i10++;
        if (i10 == t49)
          return false;
        var n10 = this.m_IntersectList[e10];
        this.m_IntersectList[e10] = this.m_IntersectList[i10], this.m_IntersectList[i10] = n10;
      }
      this.SwapPositionsInSEL(this.m_IntersectList[e10].Edge1, this.m_IntersectList[e10].Edge2);
    }
    return true;
  }, n.Clipper.prototype.ProcessIntersectList = function() {
    for (var t49 = 0, e10 = this.m_IntersectList.length; t49 < e10; t49++) {
      var i10 = this.m_IntersectList[t49];
      this.IntersectEdges(i10.Edge1, i10.Edge2, i10.Pt, true), this.SwapPositionsInAEL(i10.Edge1, i10.Edge2);
    }
    this.m_IntersectList.length = 0;
  };
  var ge = q(function(t49) {
    return t49 < 0 ? Math.ceil(t49 - 0.5) : Math.round(t49);
  }, "R1"), me = q(function(t49) {
    return t49 < 0 ? Math.ceil(t49 - 0.5) : Math.floor(t49 + 0.5);
  }, "R2"), ve = q(function(t49) {
    return t49 < 0 ? -Math.round(Math.abs(t49)) : Math.round(t49);
  }, "R3"), ye = q(function(t49) {
    return t49 < 0 ? (t49 -= 0.5) < -2147483648 ? Math.ceil(t49) : 0 | t49 : (t49 += 0.5) > 2147483647 ? Math.floor(t49) : 0 | t49;
  }, "R4");
  s6.msie ? n.Clipper.Round = ge : s6.chromium ? n.Clipper.Round = ve : s6.safari ? n.Clipper.Round = ye : n.Clipper.Round = me, n.Clipper.TopX = function(t49, e10) {
    return e10 == t49.Top.Y ? t49.Top.X : t49.Bot.X + n.Clipper.Round(t49.Dx * (e10 - t49.Bot.Y));
  }, n.Clipper.prototype.IntersectPoint = function(t49, e10, i10) {
    var r6, o6;
    if (i10.X = 0, i10.Y = 0, n.ClipperBase.SlopesEqual(t49, e10, this.m_UseFullRange) || t49.Dx == e10.Dx)
      return e10.Bot.Y > t49.Bot.Y ? (i10.X = e10.Bot.X, i10.Y = e10.Bot.Y) : (i10.X = t49.Bot.X, i10.Y = t49.Bot.Y), false;
    if (0 === t49.Delta.X)
      i10.X = t49.Bot.X, n.ClipperBase.IsHorizontal(e10) ? i10.Y = e10.Bot.Y : (o6 = e10.Bot.Y - e10.Bot.X / e10.Dx, i10.Y = n.Clipper.Round(i10.X / e10.Dx + o6));
    else if (0 === e10.Delta.X)
      i10.X = e10.Bot.X, n.ClipperBase.IsHorizontal(t49) ? i10.Y = t49.Bot.Y : (r6 = t49.Bot.Y - t49.Bot.X / t49.Dx, i10.Y = n.Clipper.Round(i10.X / t49.Dx + r6));
    else {
      r6 = t49.Bot.X - t49.Bot.Y * t49.Dx;
      var s10 = ((o6 = e10.Bot.X - e10.Bot.Y * e10.Dx) - r6) / (t49.Dx - e10.Dx);
      i10.Y = n.Clipper.Round(s10), Math.abs(t49.Dx) < Math.abs(e10.Dx) ? i10.X = n.Clipper.Round(t49.Dx * s10 + r6) : i10.X = n.Clipper.Round(e10.Dx * s10 + o6);
    }
    if (i10.Y < t49.Top.Y || i10.Y < e10.Top.Y) {
      if (t49.Top.Y > e10.Top.Y)
        return i10.Y = t49.Top.Y, i10.X = n.Clipper.TopX(e10, t49.Top.Y), i10.X < t49.Top.X;
      i10.Y = e10.Top.Y, Math.abs(t49.Dx) < Math.abs(e10.Dx) ? i10.X = n.Clipper.TopX(t49, i10.Y) : i10.X = n.Clipper.TopX(e10, i10.Y);
    }
    return true;
  }, n.Clipper.prototype.ProcessEdgesAtTopOfScanbeam = function(t49) {
    for (var e10 = this.m_ActiveEdges; null !== e10; ) {
      var i10 = this.IsMaxima(e10, t49);
      if (i10) {
        var r6 = this.GetMaximaPair(e10);
        i10 = null === r6 || !n.ClipperBase.IsHorizontal(r6);
      }
      if (i10) {
        var o6 = e10.PrevInAEL;
        this.DoMaxima(e10), e10 = null === o6 ? this.m_ActiveEdges : o6.NextInAEL;
      } else {
        if (this.IsIntermediate(e10, t49) && n.ClipperBase.IsHorizontal(e10.NextInLML) ? ((e10 = this.UpdateEdgeIntoAEL(e10)).OutIdx >= 0 && this.AddOutPt(e10, e10.Bot), this.AddEdgeToSEL(e10)) : (e10.Curr.X = n.Clipper.TopX(e10, t49), e10.Curr.Y = t49), this.StrictlySimple) {
          o6 = e10.PrevInAEL;
          if (e10.OutIdx >= 0 && 0 !== e10.WindDelta && null !== o6 && o6.OutIdx >= 0 && o6.Curr.X == e10.Curr.X && 0 !== o6.WindDelta) {
            var s10 = this.AddOutPt(o6, e10.Curr), a3 = this.AddOutPt(e10, e10.Curr);
            this.AddJoin(s10, a3, e10.Curr);
          }
        }
        e10 = e10.NextInAEL;
      }
    }
    for (this.ProcessHorizontals(true), e10 = this.m_ActiveEdges; null !== e10; ) {
      if (this.IsIntermediate(e10, t49)) {
        s10 = null;
        e10.OutIdx >= 0 && (s10 = this.AddOutPt(e10, e10.Top));
        o6 = (e10 = this.UpdateEdgeIntoAEL(e10)).PrevInAEL;
        var l3 = e10.NextInAEL;
        if (null !== o6 && o6.Curr.X == e10.Bot.X && o6.Curr.Y == e10.Bot.Y && null !== s10 && o6.OutIdx >= 0 && o6.Curr.Y > o6.Top.Y && n.ClipperBase.SlopesEqual(e10, o6, this.m_UseFullRange) && 0 !== e10.WindDelta && 0 !== o6.WindDelta) {
          a3 = this.AddOutPt(o6, e10.Bot);
          this.AddJoin(s10, a3, e10.Top);
        } else if (null !== l3 && l3.Curr.X == e10.Bot.X && l3.Curr.Y == e10.Bot.Y && null !== s10 && l3.OutIdx >= 0 && l3.Curr.Y > l3.Top.Y && n.ClipperBase.SlopesEqual(e10, l3, this.m_UseFullRange) && 0 !== e10.WindDelta && 0 !== l3.WindDelta) {
          a3 = this.AddOutPt(l3, e10.Bot);
          this.AddJoin(s10, a3, e10.Top);
        }
      }
      e10 = e10.NextInAEL;
    }
  }, n.Clipper.prototype.DoMaxima = function(t49) {
    var e10 = this.GetMaximaPair(t49);
    if (null === e10)
      return t49.OutIdx >= 0 && this.AddOutPt(t49, t49.Top), void this.DeleteFromAEL(t49);
    for (var i10 = t49.NextInAEL; null !== i10 && i10 != e10; )
      this.IntersectEdges(t49, i10, t49.Top, true), this.SwapPositionsInAEL(t49, i10), i10 = t49.NextInAEL;
    -1 == t49.OutIdx && -1 == e10.OutIdx ? (this.DeleteFromAEL(t49), this.DeleteFromAEL(e10)) : t49.OutIdx >= 0 && e10.OutIdx >= 0 ? this.IntersectEdges(t49, e10, t49.Top, false) : 0 === t49.WindDelta ? (t49.OutIdx >= 0 && (this.AddOutPt(t49, t49.Top), t49.OutIdx = -1), this.DeleteFromAEL(t49), e10.OutIdx >= 0 && (this.AddOutPt(e10, t49.Top), e10.OutIdx = -1), this.DeleteFromAEL(e10)) : n.Error("DoMaxima error");
  }, n.Clipper.ReversePaths = function(t49) {
    for (var e10 = 0, i10 = t49.length; e10 < i10; e10++)
      t49[e10].reverse();
  }, n.Clipper.Orientation = function(t49) {
    return n.Clipper.Area(t49) >= 0;
  }, n.Clipper.prototype.PointCount = function(t49) {
    if (null === t49)
      return 0;
    var e10 = 0, i10 = t49;
    do {
      e10++, i10 = i10.Next;
    } while (i10 != t49);
    return e10;
  }, n.Clipper.prototype.BuildResult = function(t49) {
    n.Clear(t49);
    for (var e10 = 0, i10 = this.m_PolyOuts.length; e10 < i10; e10++) {
      var r6 = this.m_PolyOuts[e10];
      if (null !== r6.Pts) {
        var o6 = r6.Pts.Prev, s10 = this.PointCount(o6);
        if (!(s10 < 2)) {
          for (var a3 = new Array(s10), l3 = 0; l3 < s10; l3++)
            a3[l3] = o6.Pt, o6 = o6.Prev;
          t49.push(a3);
        }
      }
    }
  }, n.Clipper.prototype.BuildResult2 = function(t49) {
    t49.Clear();
    for (var e10 = 0, i10 = this.m_PolyOuts.length; e10 < i10; e10++) {
      var r6 = this.m_PolyOuts[e10], o6 = this.PointCount(r6.Pts);
      if (!(r6.IsOpen && o6 < 2 || !r6.IsOpen && o6 < 3)) {
        this.FixHoleLinkage(r6);
        var s10 = new n.PolyNode();
        t49.m_AllPolys.push(s10), r6.PolyNode = s10, s10.m_polygon.length = o6;
        for (var a3 = r6.Pts.Prev, l3 = 0; l3 < o6; l3++)
          s10.m_polygon[l3] = a3.Pt, a3 = a3.Prev;
      }
    }
    for (e10 = 0, i10 = this.m_PolyOuts.length; e10 < i10; e10++) {
      null !== (r6 = this.m_PolyOuts[e10]).PolyNode && (r6.IsOpen ? (r6.PolyNode.IsOpen = true, t49.AddChild(r6.PolyNode)) : null !== r6.FirstLeft && null != r6.FirstLeft.PolyNode ? r6.FirstLeft.PolyNode.AddChild(r6.PolyNode) : t49.AddChild(r6.PolyNode));
    }
  }, n.Clipper.prototype.FixupOutPolygon = function(t49) {
    var e10 = null;
    t49.BottomPt = null;
    for (var i10 = t49.Pts; ; ) {
      if (i10.Prev == i10 || i10.Prev == i10.Next)
        return this.DisposeOutPts(i10), void (t49.Pts = null);
      if (n.IntPoint.op_Equality(i10.Pt, i10.Next.Pt) || n.IntPoint.op_Equality(i10.Pt, i10.Prev.Pt) || n.ClipperBase.SlopesEqual(i10.Prev.Pt, i10.Pt, i10.Next.Pt, this.m_UseFullRange) && (!this.PreserveCollinear || !this.Pt2IsBetweenPt1AndPt3(i10.Prev.Pt, i10.Pt, i10.Next.Pt))) {
        e10 = null;
        i10.Prev.Next = i10.Next, i10.Next.Prev = i10.Prev, i10 = i10.Prev, null;
      } else {
        if (i10 == e10)
          break;
        null === e10 && (e10 = i10), i10 = i10.Next;
      }
    }
    t49.Pts = i10;
  }, n.Clipper.prototype.DupOutPt = function(t49, e10) {
    var i10 = new n.OutPt();
    return i10.Pt.X = t49.Pt.X, i10.Pt.Y = t49.Pt.Y, i10.Idx = t49.Idx, e10 ? (i10.Next = t49.Next, i10.Prev = t49, t49.Next.Prev = i10, t49.Next = i10) : (i10.Prev = t49.Prev, i10.Next = t49, t49.Prev.Next = i10, t49.Prev = i10), i10;
  }, n.Clipper.prototype.GetOverlap = function(t49, e10, i10, n10, r6) {
    return t49 < e10 ? i10 < n10 ? (r6.Left = Math.max(t49, i10), r6.Right = Math.min(e10, n10)) : (r6.Left = Math.max(t49, n10), r6.Right = Math.min(e10, i10)) : i10 < n10 ? (r6.Left = Math.max(e10, i10), r6.Right = Math.min(t49, n10)) : (r6.Left = Math.max(e10, n10), r6.Right = Math.min(t49, i10)), r6.Left < r6.Right;
  }, n.Clipper.prototype.JoinHorz = function(t49, e10, i10, r6, o6, s10) {
    var a3 = t49.Pt.X > e10.Pt.X ? n.Direction.dRightToLeft : n.Direction.dLeftToRight, l3 = i10.Pt.X > r6.Pt.X ? n.Direction.dRightToLeft : n.Direction.dLeftToRight;
    if (a3 == l3)
      return false;
    if (a3 == n.Direction.dLeftToRight) {
      for (; t49.Next.Pt.X <= o6.X && t49.Next.Pt.X >= t49.Pt.X && t49.Next.Pt.Y == o6.Y; )
        t49 = t49.Next;
      s10 && t49.Pt.X != o6.X && (t49 = t49.Next), e10 = this.DupOutPt(t49, !s10), n.IntPoint.op_Inequality(e10.Pt, o6) && ((t49 = e10).Pt.X = o6.X, t49.Pt.Y = o6.Y, e10 = this.DupOutPt(t49, !s10));
    } else {
      for (; t49.Next.Pt.X >= o6.X && t49.Next.Pt.X <= t49.Pt.X && t49.Next.Pt.Y == o6.Y; )
        t49 = t49.Next;
      !s10 && t49.Pt.X != o6.X && (t49 = t49.Next), e10 = this.DupOutPt(t49, s10), n.IntPoint.op_Inequality(e10.Pt, o6) && ((t49 = e10).Pt.X = o6.X, t49.Pt.Y = o6.Y, e10 = this.DupOutPt(t49, s10));
    }
    if (l3 == n.Direction.dLeftToRight) {
      for (; i10.Next.Pt.X <= o6.X && i10.Next.Pt.X >= i10.Pt.X && i10.Next.Pt.Y == o6.Y; )
        i10 = i10.Next;
      s10 && i10.Pt.X != o6.X && (i10 = i10.Next), r6 = this.DupOutPt(i10, !s10), n.IntPoint.op_Inequality(r6.Pt, o6) && ((i10 = r6).Pt.X = o6.X, i10.Pt.Y = o6.Y, r6 = this.DupOutPt(i10, !s10));
    } else {
      for (; i10.Next.Pt.X >= o6.X && i10.Next.Pt.X <= i10.Pt.X && i10.Next.Pt.Y == o6.Y; )
        i10 = i10.Next;
      !s10 && i10.Pt.X != o6.X && (i10 = i10.Next), r6 = this.DupOutPt(i10, s10), n.IntPoint.op_Inequality(r6.Pt, o6) && ((i10 = r6).Pt.X = o6.X, i10.Pt.Y = o6.Y, r6 = this.DupOutPt(i10, s10));
    }
    return a3 == n.Direction.dLeftToRight == s10 ? (t49.Prev = i10, i10.Next = t49, e10.Next = r6, r6.Prev = e10) : (t49.Next = i10, i10.Prev = t49, e10.Prev = r6, r6.Next = e10), true;
  }, n.Clipper.prototype.JoinPoints = function(t49, e10, i10) {
    var r6 = t49.OutPt1, o6 = new n.OutPt(), s10 = t49.OutPt2, a3 = new n.OutPt(), l3 = t49.OutPt1.Pt.Y == t49.OffPt.Y;
    if (l3 && n.IntPoint.op_Equality(t49.OffPt, t49.OutPt1.Pt) && n.IntPoint.op_Equality(t49.OffPt, t49.OutPt2.Pt)) {
      for (o6 = t49.OutPt1.Next; o6 != r6 && n.IntPoint.op_Equality(o6.Pt, t49.OffPt); )
        o6 = o6.Next;
      var u2 = o6.Pt.Y > t49.OffPt.Y;
      for (a3 = t49.OutPt2.Next; a3 != s10 && n.IntPoint.op_Equality(a3.Pt, t49.OffPt); )
        a3 = a3.Next;
      return u2 != a3.Pt.Y > t49.OffPt.Y && (u2 ? (o6 = this.DupOutPt(r6, false), a3 = this.DupOutPt(s10, true), r6.Prev = s10, s10.Next = r6, o6.Next = a3, a3.Prev = o6, t49.OutPt1 = r6, t49.OutPt2 = o6, true) : (o6 = this.DupOutPt(r6, true), a3 = this.DupOutPt(s10, false), r6.Next = s10, s10.Prev = r6, o6.Prev = a3, a3.Next = o6, t49.OutPt1 = r6, t49.OutPt2 = o6, true));
    }
    if (l3) {
      for (o6 = r6; r6.Prev.Pt.Y == r6.Pt.Y && r6.Prev != o6 && r6.Prev != s10; )
        r6 = r6.Prev;
      for (; o6.Next.Pt.Y == o6.Pt.Y && o6.Next != r6 && o6.Next != s10; )
        o6 = o6.Next;
      if (o6.Next == r6 || o6.Next == s10)
        return false;
      for (a3 = s10; s10.Prev.Pt.Y == s10.Pt.Y && s10.Prev != a3 && s10.Prev != o6; )
        s10 = s10.Prev;
      for (; a3.Next.Pt.Y == a3.Pt.Y && a3.Next != s10 && a3.Next != r6; )
        a3 = a3.Next;
      if (a3.Next == s10 || a3.Next == r6)
        return false;
      var h2 = { Left: null, Right: null };
      if (!this.GetOverlap(r6.Pt.X, o6.Pt.X, s10.Pt.X, a3.Pt.X, h2))
        return false;
      var c4, p10 = h2.Left, d4 = h2.Right, f2 = new n.IntPoint();
      return r6.Pt.X >= p10 && r6.Pt.X <= d4 ? (f2.X = r6.Pt.X, f2.Y = r6.Pt.Y, c4 = r6.Pt.X > o6.Pt.X) : s10.Pt.X >= p10 && s10.Pt.X <= d4 ? (f2.X = s10.Pt.X, f2.Y = s10.Pt.Y, c4 = s10.Pt.X > a3.Pt.X) : o6.Pt.X >= p10 && o6.Pt.X <= d4 ? (f2.X = o6.Pt.X, f2.Y = o6.Pt.Y, c4 = o6.Pt.X > r6.Pt.X) : (f2.X = a3.Pt.X, f2.Y = a3.Pt.Y, c4 = a3.Pt.X > s10.Pt.X), t49.OutPt1 = r6, t49.OutPt2 = s10, this.JoinHorz(r6, o6, s10, a3, f2, c4);
    }
    for (o6 = r6.Next; n.IntPoint.op_Equality(o6.Pt, r6.Pt) && o6 != r6; )
      o6 = o6.Next;
    var g4 = o6.Pt.Y > r6.Pt.Y || !n.ClipperBase.SlopesEqual(r6.Pt, o6.Pt, t49.OffPt, this.m_UseFullRange);
    if (g4) {
      for (o6 = r6.Prev; n.IntPoint.op_Equality(o6.Pt, r6.Pt) && o6 != r6; )
        o6 = o6.Prev;
      if (o6.Pt.Y > r6.Pt.Y || !n.ClipperBase.SlopesEqual(r6.Pt, o6.Pt, t49.OffPt, this.m_UseFullRange))
        return false;
    }
    for (a3 = s10.Next; n.IntPoint.op_Equality(a3.Pt, s10.Pt) && a3 != s10; )
      a3 = a3.Next;
    var m4 = a3.Pt.Y > s10.Pt.Y || !n.ClipperBase.SlopesEqual(s10.Pt, a3.Pt, t49.OffPt, this.m_UseFullRange);
    if (m4) {
      for (a3 = s10.Prev; n.IntPoint.op_Equality(a3.Pt, s10.Pt) && a3 != s10; )
        a3 = a3.Prev;
      if (a3.Pt.Y > s10.Pt.Y || !n.ClipperBase.SlopesEqual(s10.Pt, a3.Pt, t49.OffPt, this.m_UseFullRange))
        return false;
    }
    return o6 != r6 && a3 != s10 && o6 != a3 && (e10 != i10 || g4 != m4) && (g4 ? (o6 = this.DupOutPt(r6, false), a3 = this.DupOutPt(s10, true), r6.Prev = s10, s10.Next = r6, o6.Next = a3, a3.Prev = o6, t49.OutPt1 = r6, t49.OutPt2 = o6, true) : (o6 = this.DupOutPt(r6, true), a3 = this.DupOutPt(s10, false), r6.Next = s10, s10.Prev = r6, o6.Prev = a3, a3.Next = o6, t49.OutPt1 = r6, t49.OutPt2 = o6, true));
  }, n.Clipper.GetBounds = function(t49) {
    for (var e10 = 0, i10 = t49.length; e10 < i10 && 0 == t49[e10].length; )
      e10++;
    if (e10 == i10)
      return new n.IntRect(0, 0, 0, 0);
    var r6 = new n.IntRect();
    for (r6.left = t49[e10][0].X, r6.right = r6.left, r6.top = t49[e10][0].Y, r6.bottom = r6.top; e10 < i10; e10++)
      for (var o6 = 0, s10 = t49[e10].length; o6 < s10; o6++)
        t49[e10][o6].X < r6.left ? r6.left = t49[e10][o6].X : t49[e10][o6].X > r6.right && (r6.right = t49[e10][o6].X), t49[e10][o6].Y < r6.top ? r6.top = t49[e10][o6].Y : t49[e10][o6].Y > r6.bottom && (r6.bottom = t49[e10][o6].Y);
    return r6;
  }, n.Clipper.prototype.GetBounds2 = function(t49) {
    var e10 = t49, i10 = new n.IntRect();
    for (i10.left = t49.Pt.X, i10.right = t49.Pt.X, i10.top = t49.Pt.Y, i10.bottom = t49.Pt.Y, t49 = t49.Next; t49 != e10; )
      t49.Pt.X < i10.left && (i10.left = t49.Pt.X), t49.Pt.X > i10.right && (i10.right = t49.Pt.X), t49.Pt.Y < i10.top && (i10.top = t49.Pt.Y), t49.Pt.Y > i10.bottom && (i10.bottom = t49.Pt.Y), t49 = t49.Next;
    return i10;
  }, n.Clipper.PointInPolygon = function(t49, e10) {
    var i10 = 0, n10 = e10.length;
    if (n10 < 3)
      return 0;
    for (var r6 = e10[0], o6 = 1; o6 <= n10; ++o6) {
      var s10 = o6 == n10 ? e10[0] : e10[o6];
      if (s10.Y == t49.Y && (s10.X == t49.X || r6.Y == t49.Y && s10.X > t49.X == r6.X < t49.X))
        return -1;
      if (r6.Y < t49.Y != s10.Y < t49.Y) {
        if (r6.X >= t49.X)
          if (s10.X > t49.X)
            i10 = 1 - i10;
          else {
            if (0 == (a3 = (r6.X - t49.X) * (s10.Y - t49.Y) - (s10.X - t49.X) * (r6.Y - t49.Y)))
              return -1;
            a3 > 0 == s10.Y > r6.Y && (i10 = 1 - i10);
          }
        else if (s10.X > t49.X) {
          var a3;
          if (0 == (a3 = (r6.X - t49.X) * (s10.Y - t49.Y) - (s10.X - t49.X) * (r6.Y - t49.Y)))
            return -1;
          a3 > 0 == s10.Y > r6.Y && (i10 = 1 - i10);
        }
      }
      r6 = s10;
    }
    return i10;
  }, n.Clipper.prototype.PointInPolygon = function(t49, e10) {
    for (var i10 = 0, n10 = e10; ; ) {
      var r6 = e10.Pt.X, o6 = e10.Pt.Y, s10 = e10.Next.Pt.X, a3 = e10.Next.Pt.Y;
      if (a3 == t49.Y && (s10 == t49.X || o6 == t49.Y && s10 > t49.X == r6 < t49.X))
        return -1;
      if (o6 < t49.Y != a3 < t49.Y) {
        if (r6 >= t49.X)
          if (s10 > t49.X)
            i10 = 1 - i10;
          else {
            if (0 == (l3 = (r6 - t49.X) * (a3 - t49.Y) - (s10 - t49.X) * (o6 - t49.Y)))
              return -1;
            l3 > 0 == a3 > o6 && (i10 = 1 - i10);
          }
        else if (s10 > t49.X) {
          var l3;
          if (0 == (l3 = (r6 - t49.X) * (a3 - t49.Y) - (s10 - t49.X) * (o6 - t49.Y)))
            return -1;
          l3 > 0 == a3 > o6 && (i10 = 1 - i10);
        }
      }
      if (n10 == (e10 = e10.Next))
        break;
    }
    return i10;
  }, n.Clipper.prototype.Poly2ContainsPoly1 = function(t49, e10) {
    var i10 = t49;
    do {
      var n10 = this.PointInPolygon(i10.Pt, e10);
      if (n10 >= 0)
        return 0 != n10;
      i10 = i10.Next;
    } while (i10 != t49);
    return true;
  }, n.Clipper.prototype.FixupFirstLefts1 = function(t49, e10) {
    for (var i10 = 0, n10 = this.m_PolyOuts.length; i10 < n10; i10++) {
      var r6 = this.m_PolyOuts[i10];
      null !== r6.Pts && r6.FirstLeft == t49 && this.Poly2ContainsPoly1(r6.Pts, e10.Pts) && (r6.FirstLeft = e10);
    }
  }, n.Clipper.prototype.FixupFirstLefts2 = function(t49, e10) {
    for (var i10 = 0, n10 = this.m_PolyOuts, r6 = n10.length, o6 = n10[i10]; i10 < r6; o6 = n10[++i10])
      o6.FirstLeft == t49 && (o6.FirstLeft = e10);
  }, n.Clipper.ParseFirstLeft = function(t49) {
    for (; null != t49 && null == t49.Pts; )
      t49 = t49.FirstLeft;
    return t49;
  }, n.Clipper.prototype.JoinCommonEdges = function() {
    for (var t49 = 0, e10 = this.m_Joins.length; t49 < e10; t49++) {
      var i10, r6 = this.m_Joins[t49], o6 = this.GetOutRec(r6.OutPt1.Idx), s10 = this.GetOutRec(r6.OutPt2.Idx);
      if (null != o6.Pts && null != s10.Pts) {
        if (i10 = o6 == s10 ? o6 : this.Param1RightOfParam2(o6, s10) ? s10 : this.Param1RightOfParam2(s10, o6) ? o6 : this.GetLowermostRec(o6, s10), this.JoinPoints(r6, o6, s10))
          if (o6 == s10) {
            if (o6.Pts = r6.OutPt1, o6.BottomPt = null, (s10 = this.CreateOutRec()).Pts = r6.OutPt2, this.UpdateOutPtIdxs(s10), this.m_UsingPolyTree)
              for (var a3 = 0, l3 = this.m_PolyOuts.length; a3 < l3 - 1; a3++) {
                var u2 = this.m_PolyOuts[a3];
                null == u2.Pts || n.Clipper.ParseFirstLeft(u2.FirstLeft) != o6 || u2.IsHole == o6.IsHole || this.Poly2ContainsPoly1(u2.Pts, r6.OutPt2) && (u2.FirstLeft = s10);
              }
            this.Poly2ContainsPoly1(s10.Pts, o6.Pts) ? (s10.IsHole = !o6.IsHole, s10.FirstLeft = o6, this.m_UsingPolyTree && this.FixupFirstLefts2(s10, o6), (s10.IsHole ^ this.ReverseSolution) == this.Area(s10) > 0 && this.ReversePolyPtLinks(s10.Pts)) : this.Poly2ContainsPoly1(o6.Pts, s10.Pts) ? (s10.IsHole = o6.IsHole, o6.IsHole = !s10.IsHole, s10.FirstLeft = o6.FirstLeft, o6.FirstLeft = s10, this.m_UsingPolyTree && this.FixupFirstLefts2(o6, s10), (o6.IsHole ^ this.ReverseSolution) == this.Area(o6) > 0 && this.ReversePolyPtLinks(o6.Pts)) : (s10.IsHole = o6.IsHole, s10.FirstLeft = o6.FirstLeft, this.m_UsingPolyTree && this.FixupFirstLefts1(o6, s10));
          } else
            s10.Pts = null, s10.BottomPt = null, s10.Idx = o6.Idx, o6.IsHole = i10.IsHole, i10 == s10 && (o6.FirstLeft = s10.FirstLeft), s10.FirstLeft = o6, this.m_UsingPolyTree && this.FixupFirstLefts2(s10, o6);
      }
    }
  }, n.Clipper.prototype.UpdateOutPtIdxs = function(t49) {
    var e10 = t49.Pts;
    do {
      e10.Idx = t49.Idx, e10 = e10.Prev;
    } while (e10 != t49.Pts);
  }, n.Clipper.prototype.DoSimplePolygons = function() {
    for (var t49 = 0; t49 < this.m_PolyOuts.length; ) {
      var e10 = this.m_PolyOuts[t49++], i10 = e10.Pts;
      if (null !== i10)
        do {
          for (var r6 = i10.Next; r6 != e10.Pts; ) {
            if (n.IntPoint.op_Equality(i10.Pt, r6.Pt) && r6.Next != i10 && r6.Prev != i10) {
              var o6 = i10.Prev, s10 = r6.Prev;
              i10.Prev = s10, s10.Next = i10, r6.Prev = o6, o6.Next = r6, e10.Pts = i10;
              var a3 = this.CreateOutRec();
              a3.Pts = r6, this.UpdateOutPtIdxs(a3), this.Poly2ContainsPoly1(a3.Pts, e10.Pts) ? (a3.IsHole = !e10.IsHole, a3.FirstLeft = e10) : this.Poly2ContainsPoly1(e10.Pts, a3.Pts) ? (a3.IsHole = e10.IsHole, e10.IsHole = !a3.IsHole, a3.FirstLeft = e10.FirstLeft, e10.FirstLeft = a3) : (a3.IsHole = e10.IsHole, a3.FirstLeft = e10.FirstLeft), r6 = i10;
            }
            r6 = r6.Next;
          }
          i10 = i10.Next;
        } while (i10 != e10.Pts);
    }
  }, n.Clipper.Area = function(t49) {
    var e10 = t49.length;
    if (e10 < 3)
      return 0;
    for (var i10 = 0, n10 = 0, r6 = e10 - 1; n10 < e10; ++n10)
      i10 += (t49[r6].X + t49[n10].X) * (t49[r6].Y - t49[n10].Y), r6 = n10;
    return 0.5 * -i10;
  }, n.Clipper.prototype.Area = function(t49) {
    var e10 = t49.Pts;
    if (null == e10)
      return 0;
    var i10 = 0;
    do {
      i10 += (e10.Prev.Pt.X + e10.Pt.X) * (e10.Prev.Pt.Y - e10.Pt.Y), e10 = e10.Next;
    } while (e10 != t49.Pts);
    return 0.5 * i10;
  }, n.Clipper.SimplifyPolygon = function(t49, e10) {
    var i10 = new Array(), r6 = new n.Clipper(0);
    return r6.StrictlySimple = true, r6.AddPath(t49, n.PolyType.ptSubject, true), r6.Execute(n.ClipType.ctUnion, i10, e10, e10), i10;
  }, n.Clipper.SimplifyPolygons = function(t49, e10) {
    typeof e10 > "u" && (e10 = n.PolyFillType.pftEvenOdd);
    var i10 = new Array(), r6 = new n.Clipper(0);
    return r6.StrictlySimple = true, r6.AddPaths(t49, n.PolyType.ptSubject, true), r6.Execute(n.ClipType.ctUnion, i10, e10, e10), i10;
  }, n.Clipper.DistanceSqrd = function(t49, e10) {
    var i10 = t49.X - e10.X, n10 = t49.Y - e10.Y;
    return i10 * i10 + n10 * n10;
  }, n.Clipper.DistanceFromLineSqrd = function(t49, e10, i10) {
    var n10 = e10.Y - i10.Y, r6 = i10.X - e10.X, o6 = n10 * e10.X + r6 * e10.Y;
    return (o6 = n10 * t49.X + r6 * t49.Y - o6) * o6 / (n10 * n10 + r6 * r6);
  }, n.Clipper.SlopesNearCollinear = function(t49, e10, i10, r6) {
    return n.Clipper.DistanceFromLineSqrd(e10, t49, i10) < r6;
  }, n.Clipper.PointsAreClose = function(t49, e10, i10) {
    var n10 = t49.X - e10.X, r6 = t49.Y - e10.Y;
    return n10 * n10 + r6 * r6 <= i10;
  }, n.Clipper.ExcludeOp = function(t49) {
    var e10 = t49.Prev;
    return e10.Next = t49.Next, t49.Next.Prev = e10, e10.Idx = 0, e10;
  }, n.Clipper.CleanPolygon = function(t49, e10) {
    typeof e10 > "u" && (e10 = 1.415);
    var i10 = t49.length;
    if (0 == i10)
      return new Array();
    for (var r6 = new Array(i10), o6 = 0; o6 < i10; ++o6)
      r6[o6] = new n.OutPt();
    for (o6 = 0; o6 < i10; ++o6)
      r6[o6].Pt = t49[o6], r6[o6].Next = r6[(o6 + 1) % i10], r6[o6].Next.Prev = r6[o6], r6[o6].Idx = 0;
    for (var s10 = e10 * e10, a3 = r6[0]; 0 == a3.Idx && a3.Next != a3.Prev; )
      n.Clipper.PointsAreClose(a3.Pt, a3.Prev.Pt, s10) ? (a3 = n.Clipper.ExcludeOp(a3), i10--) : n.Clipper.PointsAreClose(a3.Prev.Pt, a3.Next.Pt, s10) ? (n.Clipper.ExcludeOp(a3.Next), a3 = n.Clipper.ExcludeOp(a3), i10 -= 2) : n.Clipper.SlopesNearCollinear(a3.Prev.Pt, a3.Pt, a3.Next.Pt, s10) ? (a3 = n.Clipper.ExcludeOp(a3), i10--) : (a3.Idx = 1, a3 = a3.Next);
    i10 < 3 && (i10 = 0);
    var l3 = new Array(i10);
    for (o6 = 0; o6 < i10; ++o6)
      l3[o6] = new n.IntPoint(a3.Pt), a3 = a3.Next;
    return r6 = null, l3;
  }, n.Clipper.CleanPolygons = function(t49, e10) {
    for (var i10 = new Array(t49.length), r6 = 0, o6 = t49.length; r6 < o6; r6++)
      i10[r6] = n.Clipper.CleanPolygon(t49[r6], e10);
    return i10;
  }, n.Clipper.Minkowski = function(t49, e10, i10, r6) {
    var o6 = r6 ? 1 : 0, s10 = t49.length, a3 = e10.length, l3 = new Array();
    if (i10)
      for (var u2 = 0; u2 < a3; u2++) {
        for (var h2 = new Array(s10), c4 = 0, p10 = t49.length, d4 = t49[c4]; c4 < p10; d4 = t49[++c4])
          h2[c4] = new n.IntPoint(e10[u2].X + d4.X, e10[u2].Y + d4.Y);
        l3.push(h2);
      }
    else
      for (u2 = 0; u2 < a3; u2++) {
        for (h2 = new Array(s10), c4 = 0, p10 = t49.length, d4 = t49[c4]; c4 < p10; d4 = t49[++c4])
          h2[c4] = new n.IntPoint(e10[u2].X - d4.X, e10[u2].Y - d4.Y);
        l3.push(h2);
      }
    var f2 = new Array();
    for (u2 = 0; u2 < a3 - 1 + o6; u2++)
      for (c4 = 0; c4 < s10; c4++) {
        var g4 = new Array();
        g4.push(l3[u2 % a3][c4 % s10]), g4.push(l3[(u2 + 1) % a3][c4 % s10]), g4.push(l3[(u2 + 1) % a3][(c4 + 1) % s10]), g4.push(l3[u2 % a3][(c4 + 1) % s10]), n.Clipper.Orientation(g4) || g4.reverse(), f2.push(g4);
      }
    var m4 = new n.Clipper(0);
    return m4.AddPaths(f2, n.PolyType.ptSubject, true), m4.Execute(n.ClipType.ctUnion, l3, n.PolyFillType.pftNonZero, n.PolyFillType.pftNonZero), l3;
  }, n.Clipper.MinkowskiSum = function() {
    var t49 = arguments, e10 = t49.length;
    if (3 == e10) {
      var i10 = t49[0], r6 = t49[1], o6 = t49[2];
      return n.Clipper.Minkowski(i10, r6, true, o6);
    }
    if (4 == e10) {
      i10 = t49[0];
      for (var s10 = t49[1], a3 = t49[2], l3 = (o6 = t49[3], new n.Clipper()), u2 = 0, h2 = s10.length; u2 < h2; ++u2) {
        var c4 = n.Clipper.Minkowski(i10, s10[u2], true, o6);
        l3.AddPaths(c4, n.PolyType.ptSubject, true);
      }
      o6 && l3.AddPaths(s10, n.PolyType.ptClip, true);
      var p10 = new n.Paths();
      return l3.Execute(n.ClipType.ctUnion, p10, a3, a3), p10;
    }
  }, n.Clipper.MinkowskiDiff = function(t49, e10, i10) {
    return n.Clipper.Minkowski(t49, e10, false, i10);
  }, n.Clipper.PolyTreeToPaths = function(t49) {
    var e10 = new Array();
    return n.Clipper.AddPolyNodeToPaths(t49, n.Clipper.NodeType.ntAny, e10), e10;
  }, n.Clipper.AddPolyNodeToPaths = function(t49, e10, i10) {
    var r6 = true;
    switch (e10) {
      case n.Clipper.NodeType.ntOpen:
        return;
      case n.Clipper.NodeType.ntClosed:
        r6 = !t49.IsOpen;
    }
    t49.m_polygon.length > 0 && r6 && i10.push(t49.m_polygon);
    for (var o6 = 0, s10 = t49.Childs(), a3 = s10.length, l3 = s10[o6]; o6 < a3; l3 = s10[++o6])
      n.Clipper.AddPolyNodeToPaths(l3, e10, i10);
  }, n.Clipper.OpenPathsFromPolyTree = function(t49) {
    for (var e10 = new n.Paths(), i10 = 0, r6 = t49.ChildCount(); i10 < r6; i10++)
      t49.Childs()[i10].IsOpen && e10.push(t49.Childs()[i10].m_polygon);
    return e10;
  }, n.Clipper.ClosedPathsFromPolyTree = function(t49) {
    var e10 = new n.Paths();
    return n.Clipper.AddPolyNodeToPaths(t49, n.Clipper.NodeType.ntClosed, e10), e10;
  }, de(n.Clipper, n.ClipperBase), n.Clipper.NodeType = { ntAny: 0, ntOpen: 1, ntClosed: 2 }, n.ClipperOffset = function(t49, e10) {
    typeof t49 > "u" && (t49 = 2), typeof e10 > "u" && (e10 = n.ClipperOffset.def_arc_tolerance), this.m_destPolys = new n.Paths(), this.m_srcPoly = new n.Path(), this.m_destPoly = new n.Path(), this.m_normals = new Array(), this.m_delta = 0, this.m_sinA = 0, this.m_sin = 0, this.m_cos = 0, this.m_miterLim = 0, this.m_StepsPerRad = 0, this.m_lowest = new n.IntPoint(), this.m_polyNodes = new n.PolyNode(), this.MiterLimit = t49, this.ArcTolerance = e10, this.m_lowest.X = -1;
  }, n.ClipperOffset.two_pi = 6.28318530717959, n.ClipperOffset.def_arc_tolerance = 0.25, n.ClipperOffset.prototype.Clear = function() {
    n.Clear(this.m_polyNodes.Childs()), this.m_lowest.X = -1;
  }, n.ClipperOffset.Round = n.Clipper.Round, n.ClipperOffset.prototype.AddPath = function(t49, e10, i10) {
    var r6 = t49.length - 1;
    if (!(r6 < 0)) {
      var o6 = new n.PolyNode();
      if (o6.m_jointype = e10, o6.m_endtype = i10, i10 == n.EndType.etClosedLine || i10 == n.EndType.etClosedPolygon)
        for (; r6 > 0 && n.IntPoint.op_Equality(t49[0], t49[r6]); )
          r6--;
      o6.m_polygon.push(t49[0]);
      for (var s10 = 0, a3 = 0, l3 = 1; l3 <= r6; l3++)
        n.IntPoint.op_Inequality(o6.m_polygon[s10], t49[l3]) && (s10++, o6.m_polygon.push(t49[l3]), (t49[l3].Y > o6.m_polygon[a3].Y || t49[l3].Y == o6.m_polygon[a3].Y && t49[l3].X < o6.m_polygon[a3].X) && (a3 = s10));
      if (!(i10 == n.EndType.etClosedPolygon && s10 < 2 || i10 != n.EndType.etClosedPolygon && s10 < 0) && (this.m_polyNodes.AddChild(o6), i10 == n.EndType.etClosedPolygon))
        if (this.m_lowest.X < 0)
          this.m_lowest = new n.IntPoint(0, a3);
        else {
          var u2 = this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];
          (o6.m_polygon[a3].Y > u2.Y || o6.m_polygon[a3].Y == u2.Y && o6.m_polygon[a3].X < u2.X) && (this.m_lowest = new n.IntPoint(this.m_polyNodes.ChildCount() - 1, a3));
        }
    }
  }, n.ClipperOffset.prototype.AddPaths = function(t49, e10, i10) {
    for (var n10 = 0, r6 = t49.length; n10 < r6; n10++)
      this.AddPath(t49[n10], e10, i10);
  }, n.ClipperOffset.prototype.FixOrientations = function() {
    if (this.m_lowest.X >= 0 && !n.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))
      for (var t49 = 0; t49 < this.m_polyNodes.ChildCount(); t49++) {
        ((e10 = this.m_polyNodes.Childs()[t49]).m_endtype == n.EndType.etClosedPolygon || e10.m_endtype == n.EndType.etClosedLine && n.Clipper.Orientation(e10.m_polygon)) && e10.m_polygon.reverse();
      }
    else
      for (t49 = 0; t49 < this.m_polyNodes.ChildCount(); t49++) {
        var e10;
        (e10 = this.m_polyNodes.Childs()[t49]).m_endtype == n.EndType.etClosedLine && !n.Clipper.Orientation(e10.m_polygon) && e10.m_polygon.reverse();
      }
  }, n.ClipperOffset.GetUnitNormal = function(t49, e10) {
    var i10 = e10.X - t49.X, r6 = e10.Y - t49.Y;
    if (0 == i10 && 0 == r6)
      return new n.DoublePoint(0, 0);
    var o6 = 1 / Math.sqrt(i10 * i10 + r6 * r6);
    return i10 *= o6, r6 *= o6, new n.DoublePoint(r6, -i10);
  }, n.ClipperOffset.prototype.DoOffset = function(t49) {
    if (this.m_destPolys = new Array(), this.m_delta = t49, n.ClipperBase.near_zero(t49))
      for (var e10 = 0; e10 < this.m_polyNodes.ChildCount(); e10++) {
        (o6 = this.m_polyNodes.Childs()[e10]).m_endtype == n.EndType.etClosedPolygon && this.m_destPolys.push(o6.m_polygon);
      }
    else {
      var i10;
      this.MiterLimit > 2 ? this.m_miterLim = 2 / (this.MiterLimit * this.MiterLimit) : this.m_miterLim = 0.5, i10 = this.ArcTolerance <= 0 ? n.ClipperOffset.def_arc_tolerance : this.ArcTolerance > Math.abs(t49) * n.ClipperOffset.def_arc_tolerance ? Math.abs(t49) * n.ClipperOffset.def_arc_tolerance : this.ArcTolerance;
      var r6 = 3.14159265358979 / Math.acos(1 - i10 / Math.abs(t49));
      this.m_sin = Math.sin(n.ClipperOffset.two_pi / r6), this.m_cos = Math.cos(n.ClipperOffset.two_pi / r6), this.m_StepsPerRad = r6 / n.ClipperOffset.two_pi, t49 < 0 && (this.m_sin = -this.m_sin);
      for (e10 = 0; e10 < this.m_polyNodes.ChildCount(); e10++) {
        var o6 = this.m_polyNodes.Childs()[e10];
        this.m_srcPoly = o6.m_polygon;
        var s10 = this.m_srcPoly.length;
        if (!(0 == s10 || t49 <= 0 && (s10 < 3 || o6.m_endtype != n.EndType.etClosedPolygon))) {
          if (this.m_destPoly = new Array(), 1 == s10) {
            if (o6.m_jointype == n.JoinType.jtRound)
              for (var a3 = 1, l3 = 0, u2 = 1; u2 <= r6; u2++) {
                this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X + a3 * t49), n.ClipperOffset.Round(this.m_srcPoly[0].Y + l3 * t49)));
                var h2 = a3;
                a3 = a3 * this.m_cos - this.m_sin * l3, l3 = h2 * this.m_sin + l3 * this.m_cos;
              }
            else
              for (a3 = -1, l3 = -1, u2 = 0; u2 < 4; ++u2)
                this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X + a3 * t49), n.ClipperOffset.Round(this.m_srcPoly[0].Y + l3 * t49))), a3 < 0 ? a3 = 1 : l3 < 0 ? l3 = 1 : a3 = -1;
            this.m_destPolys.push(this.m_destPoly);
            continue;
          }
          this.m_normals.length = 0;
          for (u2 = 0; u2 < s10 - 1; u2++)
            this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[u2], this.m_srcPoly[u2 + 1]));
          if (o6.m_endtype == n.EndType.etClosedLine || o6.m_endtype == n.EndType.etClosedPolygon ? this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[s10 - 1], this.m_srcPoly[0])) : this.m_normals.push(new n.DoublePoint(this.m_normals[s10 - 2])), o6.m_endtype == n.EndType.etClosedPolygon) {
            var c4 = s10 - 1;
            for (u2 = 0; u2 < s10; u2++)
              c4 = this.OffsetPoint(u2, c4, o6.m_jointype);
            this.m_destPolys.push(this.m_destPoly);
          } else if (o6.m_endtype == n.EndType.etClosedLine) {
            for (c4 = s10 - 1, u2 = 0; u2 < s10; u2++)
              c4 = this.OffsetPoint(u2, c4, o6.m_jointype);
            this.m_destPolys.push(this.m_destPoly), this.m_destPoly = new Array();
            var p10 = this.m_normals[s10 - 1];
            for (u2 = s10 - 1; u2 > 0; u2--)
              this.m_normals[u2] = new n.DoublePoint(-this.m_normals[u2 - 1].X, -this.m_normals[u2 - 1].Y);
            this.m_normals[0] = new n.DoublePoint(-p10.X, -p10.Y), c4 = 0;
            for (u2 = s10 - 1; u2 >= 0; u2--)
              c4 = this.OffsetPoint(u2, c4, o6.m_jointype);
            this.m_destPolys.push(this.m_destPoly);
          } else {
            for (c4 = 0, u2 = 1; u2 < s10 - 1; ++u2)
              c4 = this.OffsetPoint(u2, c4, o6.m_jointype);
            var d4;
            if (o6.m_endtype == n.EndType.etOpenButt) {
              u2 = s10 - 1;
              d4 = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[u2].X + this.m_normals[u2].X * t49), n.ClipperOffset.Round(this.m_srcPoly[u2].Y + this.m_normals[u2].Y * t49)), this.m_destPoly.push(d4), d4 = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[u2].X - this.m_normals[u2].X * t49), n.ClipperOffset.Round(this.m_srcPoly[u2].Y - this.m_normals[u2].Y * t49)), this.m_destPoly.push(d4);
            } else {
              u2 = s10 - 1;
              c4 = s10 - 2, this.m_sinA = 0, this.m_normals[u2] = new n.DoublePoint(-this.m_normals[u2].X, -this.m_normals[u2].Y), o6.m_endtype == n.EndType.etOpenSquare ? this.DoSquare(u2, c4) : this.DoRound(u2, c4);
            }
            for (u2 = s10 - 1; u2 > 0; u2--)
              this.m_normals[u2] = new n.DoublePoint(-this.m_normals[u2 - 1].X, -this.m_normals[u2 - 1].Y);
            this.m_normals[0] = new n.DoublePoint(-this.m_normals[1].X, -this.m_normals[1].Y);
            for (u2 = (c4 = s10 - 1) - 1; u2 > 0; --u2)
              c4 = this.OffsetPoint(u2, c4, o6.m_jointype);
            o6.m_endtype == n.EndType.etOpenButt ? (d4 = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X - this.m_normals[0].X * t49), n.ClipperOffset.Round(this.m_srcPoly[0].Y - this.m_normals[0].Y * t49)), this.m_destPoly.push(d4), d4 = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X + this.m_normals[0].X * t49), n.ClipperOffset.Round(this.m_srcPoly[0].Y + this.m_normals[0].Y * t49)), this.m_destPoly.push(d4)) : (c4 = 1, this.m_sinA = 0, o6.m_endtype == n.EndType.etOpenSquare ? this.DoSquare(0, 1) : this.DoRound(0, 1)), this.m_destPolys.push(this.m_destPoly);
          }
        }
      }
    }
  }, n.ClipperOffset.prototype.Execute = function() {
    var t49 = arguments, e10 = t49[0] instanceof n.PolyTree;
    if (e10) {
      var i10 = t49[0], r6 = t49[1];
      if (i10.Clear(), this.FixOrientations(), this.DoOffset(r6), (l3 = new n.Clipper(0)).AddPaths(this.m_destPolys, n.PolyType.ptSubject, true), r6 > 0)
        l3.Execute(n.ClipType.ctUnion, i10, n.PolyFillType.pftPositive, n.PolyFillType.pftPositive);
      else {
        var o6 = n.Clipper.GetBounds(this.m_destPolys);
        if ((u2 = new n.Path()).push(new n.IntPoint(o6.left - 10, o6.bottom + 10)), u2.push(new n.IntPoint(o6.right + 10, o6.bottom + 10)), u2.push(new n.IntPoint(o6.right + 10, o6.top - 10)), u2.push(new n.IntPoint(o6.left - 10, o6.top - 10)), l3.AddPath(u2, n.PolyType.ptSubject, true), l3.ReverseSolution = true, l3.Execute(n.ClipType.ctUnion, i10, n.PolyFillType.pftNegative, n.PolyFillType.pftNegative), 1 == i10.ChildCount() && i10.Childs()[0].ChildCount() > 0) {
          var s10 = i10.Childs()[0];
          i10.Childs()[0] = s10.Childs()[0];
          for (var a3 = 1; a3 < s10.ChildCount(); a3++)
            i10.AddChild(s10.Childs()[a3]);
        } else
          i10.Clear();
      }
    } else {
      var l3;
      i10 = t49[0], r6 = t49[1];
      if (n.Clear(i10), this.FixOrientations(), this.DoOffset(r6), (l3 = new n.Clipper(0)).AddPaths(this.m_destPolys, n.PolyType.ptSubject, true), r6 > 0)
        l3.Execute(n.ClipType.ctUnion, i10, n.PolyFillType.pftPositive, n.PolyFillType.pftPositive);
      else {
        var u2;
        o6 = n.Clipper.GetBounds(this.m_destPolys);
        (u2 = new n.Path()).push(new n.IntPoint(o6.left - 10, o6.bottom + 10)), u2.push(new n.IntPoint(o6.right + 10, o6.bottom + 10)), u2.push(new n.IntPoint(o6.right + 10, o6.top - 10)), u2.push(new n.IntPoint(o6.left - 10, o6.top - 10)), l3.AddPath(u2, n.PolyType.ptSubject, true), l3.ReverseSolution = true, l3.Execute(n.ClipType.ctUnion, i10, n.PolyFillType.pftNegative, n.PolyFillType.pftNegative), i10.length > 0 && i10.splice(0, 1);
      }
    }
  }, n.ClipperOffset.prototype.OffsetPoint = function(t49, e10, i10) {
    if (this.m_sinA = this.m_normals[e10].X * this.m_normals[t49].Y - this.m_normals[t49].X * this.m_normals[e10].Y, this.m_sinA < 5e-5 && this.m_sinA > -5e-5)
      return e10;
    if (this.m_sinA > 1 ? this.m_sinA = 1 : this.m_sinA < -1 && (this.m_sinA = -1), this.m_sinA * this.m_delta < 0)
      this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + this.m_normals[e10].X * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + this.m_normals[e10].Y * this.m_delta))), this.m_destPoly.push(new n.IntPoint(this.m_srcPoly[t49])), this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + this.m_normals[t49].X * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + this.m_normals[t49].Y * this.m_delta)));
    else
      switch (i10) {
        case n.JoinType.jtMiter:
          var r6 = this.m_normals[t49].X * this.m_normals[e10].X + this.m_normals[t49].Y * this.m_normals[e10].Y + 1;
          r6 >= this.m_miterLim ? this.DoMiter(t49, e10, r6) : this.DoSquare(t49, e10);
          break;
        case n.JoinType.jtSquare:
          this.DoSquare(t49, e10);
          break;
        case n.JoinType.jtRound:
          this.DoRound(t49, e10);
      }
    return e10 = t49;
  }, n.ClipperOffset.prototype.DoSquare = function(t49, e10) {
    var i10 = Math.tan(Math.atan2(this.m_sinA, this.m_normals[e10].X * this.m_normals[t49].X + this.m_normals[e10].Y * this.m_normals[t49].Y) / 4);
    this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + this.m_delta * (this.m_normals[e10].X - this.m_normals[e10].Y * i10)), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + this.m_delta * (this.m_normals[e10].Y + this.m_normals[e10].X * i10)))), this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + this.m_delta * (this.m_normals[t49].X + this.m_normals[t49].Y * i10)), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + this.m_delta * (this.m_normals[t49].Y - this.m_normals[t49].X * i10))));
  }, n.ClipperOffset.prototype.DoMiter = function(t49, e10, i10) {
    var r6 = this.m_delta / i10;
    this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + (this.m_normals[e10].X + this.m_normals[t49].X) * r6), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + (this.m_normals[e10].Y + this.m_normals[t49].Y) * r6)));
  }, n.ClipperOffset.prototype.DoRound = function(t49, e10) {
    for (var i10, r6 = Math.atan2(this.m_sinA, this.m_normals[e10].X * this.m_normals[t49].X + this.m_normals[e10].Y * this.m_normals[t49].Y), o6 = n.Cast_Int32(n.ClipperOffset.Round(this.m_StepsPerRad * Math.abs(r6))), s10 = this.m_normals[e10].X, a3 = this.m_normals[e10].Y, l3 = 0; l3 < o6; ++l3)
      this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + s10 * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + a3 * this.m_delta))), i10 = s10, s10 = s10 * this.m_cos - this.m_sin * a3, a3 = i10 * this.m_sin + a3 * this.m_cos;
    this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[t49].X + this.m_normals[t49].X * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[t49].Y + this.m_normals[t49].Y * this.m_delta)));
  }, n.Error = function(t49) {
    try {
      throw new Error(t49);
    } catch (t50) {
      alert(t50.message);
    }
  }, n.JS = {}, n.JS.AreaOfPolygon = function(t49, e10) {
    return e10 || (e10 = 1), n.Clipper.Area(t49) / (e10 * e10);
  }, n.JS.AreaOfPolygons = function(t49, e10) {
    e10 || (e10 = 1);
    for (var i10 = 0, r6 = 0; r6 < t49.length; r6++)
      i10 += n.Clipper.Area(t49[r6]);
    return i10 / (e10 * e10);
  }, n.JS.BoundsOfPath = function(t49, e10) {
    return n.JS.BoundsOfPaths([t49], e10);
  }, n.JS.BoundsOfPaths = function(t49, e10) {
    e10 || (e10 = 1);
    var i10 = n.Clipper.GetBounds(t49);
    return i10.left /= e10, i10.bottom /= e10, i10.right /= e10, i10.top /= e10, i10;
  }, n.JS.Clean = function(t49, e10) {
    if (!(t49 instanceof Array))
      return [];
    var i10 = t49[0] instanceof Array;
    t49 = n.JS.Clone(t49);
    if ("number" != typeof e10 || null === e10)
      return n.Error("Delta is not a number in Clean()."), t49;
    if (0 === t49.length || 1 == t49.length && 0 === t49[0].length || e10 < 0)
      return t49;
    i10 || (t49 = [t49]);
    for (var r6, o6, s10, a3, l3, u2, h2, c4 = t49.length, p10 = [], d4 = 0; d4 < c4; d4++)
      if (0 !== (r6 = (o6 = t49[d4]).length)) {
        if (r6 < 3) {
          s10 = o6, p10.push(s10);
          continue;
        }
        for (s10 = o6, a3 = e10 * e10, l3 = o6[0], u2 = 1, h2 = 1; h2 < r6; h2++)
          (o6[h2].X - l3.X) * (o6[h2].X - l3.X) + (o6[h2].Y - l3.Y) * (o6[h2].Y - l3.Y) <= a3 || (s10[u2] = o6[h2], l3 = o6[h2], u2++);
        l3 = o6[u2 - 1], (o6[0].X - l3.X) * (o6[0].X - l3.X) + (o6[0].Y - l3.Y) * (o6[0].Y - l3.Y) <= a3 && u2--, u2 < r6 && s10.splice(u2, r6 - u2), s10.length && p10.push(s10);
      }
    return !i10 && p10.length ? p10 = p10[0] : i10 || 0 !== p10.length ? i10 && 0 === p10.length && (p10 = [[]]) : p10 = [], p10;
  }, n.JS.Clone = function(t49) {
    if (!(t49 instanceof Array))
      return [];
    if (0 === t49.length)
      return [];
    if (1 == t49.length && 0 === t49[0].length)
      return [[]];
    var e10 = t49[0] instanceof Array;
    e10 || (t49 = [t49]);
    var i10, n10, r6, o6, s10 = t49.length, a3 = new Array(s10);
    for (n10 = 0; n10 < s10; n10++) {
      for (i10 = t49[n10].length, o6 = new Array(i10), r6 = 0; r6 < i10; r6++)
        o6[r6] = { X: t49[n10][r6].X, Y: t49[n10][r6].Y };
      a3[n10] = o6;
    }
    return e10 || (a3 = a3[0]), a3;
  }, n.JS.Lighten = function(t49, e10) {
    if (!(t49 instanceof Array))
      return [];
    if ("number" != typeof e10 || null === e10)
      return n.Error("Tolerance is not a number in Lighten()."), n.JS.Clone(t49);
    if (0 === t49.length || 1 == t49.length && 0 === t49[0].length || e10 < 0)
      return n.JS.Clone(t49);
    t49[0] instanceof Array || (t49 = [t49]);
    var i10, r6, o6, s10, a3, l3, u2, h2, c4, p10, d4, f2, g4, m4, v10, y10, x10 = t49.length, _4 = e10 * e10, b4 = [];
    for (i10 = 0; i10 < x10; i10++)
      if (0 != (l3 = (o6 = t49[i10]).length)) {
        for (s10 = 0; s10 < 1e6; s10++) {
          for (a3 = [], o6[(l3 = o6.length) - 1].X != o6[0].X || o6[l3 - 1].Y != o6[0].Y ? (d4 = 1, o6.push({ X: o6[0].X, Y: o6[0].Y }), l3 = o6.length) : d4 = 0, p10 = [], r6 = 0; r6 < l3 - 2; r6++)
            u2 = o6[r6], c4 = o6[r6 + 1], h2 = o6[r6 + 2], v10 = u2.X, y10 = u2.Y, f2 = h2.X - v10, g4 = h2.Y - y10, (0 !== f2 || 0 !== g4) && ((m4 = ((c4.X - v10) * f2 + (c4.Y - y10) * g4) / (f2 * f2 + g4 * g4)) > 1 ? (v10 = h2.X, y10 = h2.Y) : m4 > 0 && (v10 += f2 * m4, y10 += g4 * m4)), (f2 = c4.X - v10) * f2 + (g4 = c4.Y - y10) * g4 <= _4 && (p10[r6 + 1] = 1, r6++);
          for (a3.push({ X: o6[0].X, Y: o6[0].Y }), r6 = 1; r6 < l3 - 1; r6++)
            p10[r6] || a3.push({ X: o6[r6].X, Y: o6[r6].Y });
          if (a3.push({ X: o6[l3 - 1].X, Y: o6[l3 - 1].Y }), d4 && o6.pop(), !p10.length)
            break;
          o6 = a3;
        }
        a3[(l3 = a3.length) - 1].X == a3[0].X && a3[l3 - 1].Y == a3[0].Y && a3.pop(), a3.length > 2 && b4.push(a3);
      }
    return !t49[0] instanceof Array && (b4 = b4[0]), typeof b4 > "u" && (b4 = [[]]), b4;
  }, n.JS.PerimeterOfPath = function(t49, e10, i10) {
    if (typeof t49 > "u")
      return 0;
    var n10, r6, o6 = Math.sqrt, s10 = 0, a3 = 0, l3 = 0, u2 = 0, h2 = 0, c4 = t49.length;
    if (c4 < 2)
      return 0;
    for (e10 && (t49[c4] = t49[0], c4++); --c4; )
      a3 = (n10 = t49[c4]).X, l3 = n10.Y, s10 += o6((a3 - (u2 = (r6 = t49[c4 - 1]).X)) * (a3 - u2) + (l3 - (h2 = r6.Y)) * (l3 - h2));
    return e10 && t49.pop(), s10 / i10;
  }, n.JS.PerimeterOfPaths = function(t49, e10, i10) {
    i10 || (i10 = 1);
    for (var r6 = 0, o6 = 0; o6 < t49.length; o6++)
      r6 += n.JS.PerimeterOfPath(t49[o6], e10, i10);
    return r6;
  }, n.JS.ScaleDownPath = function(t49, e10) {
    var i10, n10;
    for (e10 || (e10 = 1), i10 = t49.length; i10--; )
      (n10 = t49[i10]).X = n10.X / e10, n10.Y = n10.Y / e10;
  }, n.JS.ScaleDownPaths = function(t49, e10) {
    var i10, n10, r6;
    Math.round;
    for (e10 || (e10 = 1), i10 = t49.length; i10--; )
      for (n10 = t49[i10].length; n10--; )
        (r6 = t49[i10][n10]).X = r6.X / e10, r6.Y = r6.Y / e10;
  }, n.JS.ScaleUpPath = function(t49, e10) {
    var i10, n10, r6 = Math.round;
    for (e10 || (e10 = 1), i10 = t49.length; i10--; )
      (n10 = t49[i10]).X = r6(n10.X * e10), n10.Y = r6(n10.Y * e10);
  }, n.JS.ScaleUpPaths = function(t49, e10) {
    var i10, n10, r6, o6 = Math.round;
    for (e10 || (e10 = 1), i10 = t49.length; i10--; )
      for (n10 = t49[i10].length; n10--; )
        (r6 = t49[i10][n10]).X = o6(r6.X * e10), r6.Y = o6(r6.Y * e10);
  }, n.ExPolygons = function() {
    return [];
  }, n.ExPolygon = function() {
    this.outer = null, this.holes = null;
  }, n.JS.AddOuterPolyNodeToExPolygons = function(t49, e10) {
    var i10 = new n.ExPolygon();
    i10.outer = t49.Contour();
    var r6, o6, s10, a3, l3, u2, h2 = t49.Childs(), c4 = h2.length;
    for (i10.holes = new Array(c4), s10 = 0; s10 < c4; s10++)
      for (r6 = h2[s10], i10.holes[s10] = r6.Contour(), a3 = 0, u2 = (l3 = r6.Childs()).length; a3 < u2; a3++)
        o6 = l3[a3], n.JS.AddOuterPolyNodeToExPolygons(o6, e10);
    e10.push(i10);
  }, n.JS.ExPolygonsToPaths = function(t49) {
    var e10, i10, r6, o6, s10 = new n.Paths();
    for (e10 = 0, r6 = t49.length; e10 < r6; e10++)
      for (s10.push(t49[e10].outer), i10 = 0, o6 = t49[e10].holes.length; i10 < o6; i10++)
        s10.push(t49[e10].holes[i10]);
    return s10;
  }, n.JS.PolyTreeToExPolygons = function(t49) {
    var e10, i10, r6, o6, s10 = new n.ExPolygons();
    for (i10 = 0, o6 = (r6 = t49.Childs()).length; i10 < o6; i10++)
      e10 = r6[i10], n.JS.AddOuterPolyNodeToExPolygons(e10, s10);
    return s10;
  }, e6.exports = n;
});
var LZ = s((t48, e6) => {
  "use strict";
  function i(t49, e10) {
    if (!(t49 instanceof e10))
      throw new TypeError("Cannot call a class as a function");
  }
  function n(t49, e10) {
    for (var i10 = 0; i10 < e10.length; i10++) {
      var n10 = e10[i10];
      n10.enumerable = n10.enumerable || false, n10.configurable = true, "value" in n10 && (n10.writable = true), Object.defineProperty(t49, n10.key, n10);
    }
  }
  function r(t49, e10, i10) {
    return e10 && n(t49.prototype, e10), i10 && n(t49, i10), t49;
  }
  c(), q(i, "_classCallCheck"), q(n, "_defineProperties"), q(r, "_createClass");
  var o3 = function() {
    function t49() {
      var e10 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n10 = e10.R, r6 = void 0 === n10 ? 1 : n10, o6 = e10.Q, s6 = void 0 === o6 ? 1 : o6, a = e10.A, l = void 0 === a ? 1 : a, u2 = e10.B, h = void 0 === u2 ? 0 : u2, c2 = e10.C, p4 = void 0 === c2 ? 1 : c2;
      i(this, t49), this.R = r6, this.Q = s6, this.A = l, this.C = p4, this.B = h, this.cov = NaN, this.x = NaN;
    }
    return q(t49, "KalmanFilter"), r(t49, [{ key: "filter", value: q(function(t50) {
      var e10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
      if (isNaN(this.x))
        this.x = 1 / this.C * t50, this.cov = 1 / this.C * this.Q * (1 / this.C);
      else {
        var i10 = this.predict(e10), n10 = this.uncertainty(), r6 = n10 * this.C * (1 / (this.C * n10 * this.C + this.Q));
        this.x = i10 + r6 * (t50 - this.C * i10), this.cov = n10 - r6 * this.C * n10;
      }
      return this.x;
    }, "filter") }, { key: "predict", value: q(function() {
      var t50 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
      return this.A * this.x + this.B * t50;
    }, "predict") }, { key: "uncertainty", value: q(function() {
      return this.A * this.cov * this.A + this.R;
    }, "uncertainty") }, { key: "lastMeasurement", value: q(function() {
      return this.x;
    }, "lastMeasurement") }, { key: "setMeasurementNoise", value: q(function(t50) {
      this.Q = t50;
    }, "setMeasurementNoise") }, { key: "setProcessNoise", value: q(function(t50) {
      this.R = t50;
    }, "setProcessNoise") }]), t49;
  }();
  e6.exports = o3;
});
var VZ = s((t48, e6) => {
  "use strict";
  c(), e6.exports = q(function(t49) {
    if (!Array.isArray(t49))
      throw new TypeError("array-unique expects an array.");
    for (var e10 = t49.length, i = -1; i++ < e10; )
      for (var n = i + 1; n < t49.length; ++n)
        t49[i] === t49[n] && t49.splice(n--, 1);
    return t49;
  }, "unique"), e6.exports.immutable = q(function(t49) {
    if (!Array.isArray(t49))
      throw new TypeError("array-unique expects an array.");
    for (var i = t49.length, n = new Array(i), r = 0; r < i; r++)
      n[r] = t49[r];
    return e6.exports(n);
  }, "uniqueImmutable");
});
var iQ = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function() {
    var t49 = q(function() {
      function e10(t50) {
        return r.appendChild(t50.dom), t50;
      }
      function i10(t50) {
        for (var e11 = 0; e11 < r.children.length; e11++)
          r.children[e11].style.display = e11 === t50 ? "block" : "none";
        n10 = t50;
      }
      q(e10, "e"), q(i10, "u");
      var n10 = 0, r = document.createElement("div");
      r.style.cssText = "position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000", r.addEventListener("click", function(t50) {
        t50.preventDefault(), i10(++n10 % r.children.length);
      }, false);
      var o3 = (performance || Date).now(), s6 = o3, a = 0, l = e10(new t49.Panel("FPS", "#0ff", "#002")), h = e10(new t49.Panel("MS", "#0f0", "#020"));
      if (self.performance && self.performance.memory)
        var c2 = e10(new t49.Panel("MB", "#f08", "#201"));
      return i10(0), { REVISION: 16, dom: r, addPanel: e10, showPanel: i10, begin: function() {
        o3 = (performance || Date).now();
      }, end: function() {
        a++;
        var t50 = (performance || Date).now();
        if (h.update(t50 - o3, 200), t50 > s6 + 1e3 && (l.update(1e3 * a / (t50 - s6), 100), s6 = t50, a = 0, c2)) {
          var e11 = performance.memory;
          c2.update(e11.usedJSHeapSize / 1048576, e11.jsHeapSizeLimit / 1048576);
        }
        return t50;
      }, update: function() {
        o3 = this.end();
      }, domElement: r, setMode: i10 };
    }, "f");
    return t49.Panel = function(t50, e10, i10) {
      var n10 = 1 / 0, r = 0, o3 = Math.round, s6 = o3(window.devicePixelRatio || 1), a = 80 * s6, l = 48 * s6, u2 = 3 * s6, h = 2 * s6, c2 = 3 * s6, p4 = 15 * s6, d = 74 * s6, f = 30 * s6, g = document.createElement("canvas");
      g.width = a, g.height = l, g.style.cssText = "width:80px;height:48px";
      var m = g.getContext("2d");
      return m.font = "bold " + 9 * s6 + "px Helvetica,Arial,sans-serif", m.textBaseline = "top", m.fillStyle = i10, m.fillRect(0, 0, a, l), m.fillStyle = e10, m.fillText(t50, u2, h), m.fillRect(c2, p4, d, f), m.fillStyle = i10, m.globalAlpha = 0.9, m.fillRect(c2, p4, d, f), { dom: g, update: function(l3, v4) {
        n10 = Math.min(n10, l3), r = Math.max(r, l3), m.fillStyle = i10, m.globalAlpha = 1, m.fillRect(0, 0, a, p4), m.fillStyle = e10, m.fillText(o3(l3) + " " + t50 + " (" + o3(n10) + "-" + o3(r) + ")", u2, h), m.drawImage(g, c2 + s6, p4, d - s6, f, c2, p4, d - s6, f), m.fillRect(c2 + d - s6, p4, s6, f), m.fillStyle = i10, m.globalAlpha = 0.9, m.fillRect(c2 + d - s6, p4, s6, o3((1 - l3 / v4) * f));
      } };
    }, t49;
  }, "object" == typeof t48 && typeof e6 < "u" ? e6.exports = n() : "function" == typeof define && define.amd ? define(n) : i.Stats = n();
});
var GQ = s((t48, e6) => {
  var i, n;
  c(), i = t48, n = function() {
    "use strict";
    let { entries: t49, setPrototypeOf: e10, isFrozen: i10, getPrototypeOf: n10, getOwnPropertyDescriptor: r } = Object, { freeze: o3, seal: s6, create: a } = Object, { apply: l, construct: h } = typeof Reflect < "u" && Reflect;
    o3 || (o3 = q(function(t50) {
      return t50;
    }, "freeze")), s6 || (s6 = q(function(t50) {
      return t50;
    }, "seal")), l || (l = q(function(t50, e11, i11) {
      return t50.apply(e11, i11);
    }, "apply")), h || (h = q(function(t50, e11) {
      return new t50(...e11);
    }, "construct"));
    let c2 = M(Array.prototype.forEach), p4 = M(Array.prototype.pop), d = M(Array.prototype.push), f = M(String.prototype.toLowerCase), g = M(String.prototype.toString), m = M(String.prototype.match), v4 = M(String.prototype.replace), y4 = M(String.prototype.indexOf), x4 = M(String.prototype.trim), _ = M(RegExp.prototype.test), b = E(TypeError);
    function M(t50) {
      return function(e11) {
        for (var i11 = arguments.length, n11 = new Array(i11 > 1 ? i11 - 1 : 0), r6 = 1; r6 < i11; r6++)
          n11[r6 - 1] = arguments[r6];
        return l(t50, e11, n11);
      };
    }
    function E(t50) {
      return function() {
        for (var e11 = arguments.length, i11 = new Array(e11), n11 = 0; n11 < e11; n11++)
          i11[n11] = arguments[n11];
        return h(t50, i11);
      };
    }
    function w4(t50, n11) {
      let r6 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : f;
      e10 && e10(t50, null);
      let o6 = n11.length;
      for (; o6--; ) {
        let e11 = n11[o6];
        if ("string" == typeof e11) {
          let t51 = r6(e11);
          t51 !== e11 && (i10(n11) || (n11[o6] = t51), e11 = t51);
        }
        t50[e11] = true;
      }
      return t50;
    }
    function A(e11) {
      let i11 = a(null);
      for (let [n11, o6] of t49(e11))
        void 0 !== r(e11, n11) && (i11[n11] = o6);
      return i11;
    }
    function S(t50, e11) {
      for (; null !== t50; ) {
        let i12 = r(t50, e11);
        if (i12) {
          if (i12.get)
            return M(i12.get);
          if ("function" == typeof i12.value)
            return M(i12.value);
        }
        t50 = n10(t50);
      }
      function i11(t51) {
        return console.warn("fallback value for", t51), null;
      }
      return q(i11, "fallbackValue"), i11;
    }
    q(M, "unapply"), q(E, "unconstruct"), q(w4, "addToSet"), q(A, "clone"), q(S, "lookupGetter");
    let T = o3(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), C = o3(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"]), P = o3(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), I = o3(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"]), L = o3(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"]), O = o3(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"]), N = o3(["#text"]), D = o3(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "xmlns", "slot"]), R = o3(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), q4 = o3(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), B = o3(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), k = s6(/\{\{[\w\W]*|[\w\W]*\}\}/gm), F = s6(/<%[\w\W]*|[\w\W]*%>/gm), U = s6(/\${[\w\W]*}/gm), z = s6(/^data-[\-\w.\u00B7-\uFFFF]/), V = s6(/^aria-[\-\w]+$/), j = s6(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), G = s6(/^(?:\w+script|data):/i), W = s6(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g), H = s6(/^html$/i);
    var Y = Object.freeze({ __proto__: null, MUSTACHE_EXPR: k, ERB_EXPR: F, TMPLIT_EXPR: U, DATA_ATTR: z, ARIA_ATTR: V, IS_ALLOWED_URI: j, IS_SCRIPT_OR_DATA: G, ATTR_WHITESPACE: W, DOCTYPE_NAME: H });
    let X = q(function() {
      return typeof window > "u" ? null : window;
    }, "getGlobal"), K10 = q(function(t50, e11) {
      if ("object" != typeof t50 || "function" != typeof t50.createPolicy)
        return null;
      let i11 = null, n11 = "data-tt-policy-suffix";
      e11 && e11.hasAttribute(n11) && (i11 = e11.getAttribute(n11));
      let r6 = "dompurify" + (i11 ? "#" + i11 : "");
      try {
        return t50.createPolicy(r6, { createHTML: (t51) => t51, createScriptURL: (t51) => t51 });
      } catch {
        return console.warn("TrustedTypes policy " + r6 + " could not be created."), null;
      }
    }, "_createTrustedTypesPolicy");
    function Z() {
      let e11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : X(), i11 = q((t50) => Z(t50), "DOMPurify");
      if (i11.version = "3.0.6", i11.removed = [], !e11 || !e11.document || 9 !== e11.document.nodeType)
        return i11.isSupported = false, i11;
      let { document: n11 } = e11, r6 = n11, s10 = r6.currentScript, { DocumentFragment: l3, HTMLTemplateElement: h2, Node: M4, Element: E4, NodeFilter: k7, NamedNodeMap: F10 = e11.NamedNodeMap || e11.MozNamedAttrMap, HTMLFormElement: U4, DOMParser: z4, trustedTypes: V4 } = e11, G3 = E4.prototype, W4 = S(G3, "cloneNode"), Q = S(G3, "nextSibling"), J = S(G3, "childNodes"), $ = S(G3, "parentNode");
      if ("function" == typeof h2) {
        let t50 = n11.createElement("template");
        t50.content && t50.content.ownerDocument && (n11 = t50.content.ownerDocument);
      }
      let tt, et = "", { implementation: it, createNodeIterator: nt2, createDocumentFragment: rt, getElementsByTagName: ot } = n11, { importNode: st } = r6, at2 = {};
      i11.isSupported = "function" == typeof t49 && "function" == typeof $ && it && void 0 !== it.createHTMLDocument;
      let { MUSTACHE_EXPR: lt, ERB_EXPR: ut, TMPLIT_EXPR: ht2, DATA_ATTR: ct, ARIA_ATTR: pt, IS_SCRIPT_OR_DATA: dt2, ATTR_WHITESPACE: ft } = Y, { IS_ALLOWED_URI: gt } = Y, mt2 = null, vt = w4({}, [...T, ...C, ...P, ...L, ...N]), yt = null, xt = w4({}, [...D, ...R, ...q4, ...B]), _t = Object.seal(a(null, { tagNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, attributeNameCheck: { writable: true, configurable: false, enumerable: true, value: null }, allowCustomizedBuiltInElements: { writable: true, configurable: false, enumerable: true, value: false } })), bt = null, Mt = null, Et = true, wt2 = true, At = false, St2 = true, Tt = false, Ct = false, Pt = false, It = false, Lt = false, Ot2 = false, Nt = false, Dt = true, Rt = false, qt = "user-content-", Bt = true, kt = false, Ft2 = {}, Ut = null, zt = w4({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]), Vt2 = null, jt2 = w4({}, ["audio", "video", "img", "source", "image", "track"]), Gt2 = null, Wt2 = w4({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), Ht = "http://www.w3.org/1998/Math/MathML", Yt2 = "http://www.w3.org/2000/svg", Xt2 = "http://www.w3.org/1999/xhtml", Kt = Xt2, Zt = false, Qt = null, Jt = w4({}, [Ht, Yt2, Xt2], g), $t2 = null, te = ["application/xhtml+xml", "text/html"], ee = "text/html", ie = null, ne = null, re = n11.createElement("form"), oe = q(function(t50) {
        return t50 instanceof RegExp || t50 instanceof Function;
      }, "isRegexOrFunction"), se = q(function() {
        let t50 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        if (!ne || ne !== t50) {
          if ((!t50 || "object" != typeof t50) && (t50 = {}), t50 = A(t50), $t2 = $t2 = -1 === te.indexOf(t50.PARSER_MEDIA_TYPE) ? ee : t50.PARSER_MEDIA_TYPE, ie = "application/xhtml+xml" === $t2 ? g : f, mt2 = "ALLOWED_TAGS" in t50 ? w4({}, t50.ALLOWED_TAGS, ie) : vt, yt = "ALLOWED_ATTR" in t50 ? w4({}, t50.ALLOWED_ATTR, ie) : xt, Qt = "ALLOWED_NAMESPACES" in t50 ? w4({}, t50.ALLOWED_NAMESPACES, g) : Jt, Gt2 = "ADD_URI_SAFE_ATTR" in t50 ? w4(A(Wt2), t50.ADD_URI_SAFE_ATTR, ie) : Wt2, Vt2 = "ADD_DATA_URI_TAGS" in t50 ? w4(A(jt2), t50.ADD_DATA_URI_TAGS, ie) : jt2, Ut = "FORBID_CONTENTS" in t50 ? w4({}, t50.FORBID_CONTENTS, ie) : zt, bt = "FORBID_TAGS" in t50 ? w4({}, t50.FORBID_TAGS, ie) : {}, Mt = "FORBID_ATTR" in t50 ? w4({}, t50.FORBID_ATTR, ie) : {}, Ft2 = "USE_PROFILES" in t50 && t50.USE_PROFILES, Et = false !== t50.ALLOW_ARIA_ATTR, wt2 = false !== t50.ALLOW_DATA_ATTR, At = t50.ALLOW_UNKNOWN_PROTOCOLS || false, St2 = false !== t50.ALLOW_SELF_CLOSE_IN_ATTR, Tt = t50.SAFE_FOR_TEMPLATES || false, Ct = t50.WHOLE_DOCUMENT || false, Lt = t50.RETURN_DOM || false, Ot2 = t50.RETURN_DOM_FRAGMENT || false, Nt = t50.RETURN_TRUSTED_TYPE || false, It = t50.FORCE_BODY || false, Dt = false !== t50.SANITIZE_DOM, Rt = t50.SANITIZE_NAMED_PROPS || false, Bt = false !== t50.KEEP_CONTENT, kt = t50.IN_PLACE || false, gt = t50.ALLOWED_URI_REGEXP || j, Kt = t50.NAMESPACE || Xt2, _t = t50.CUSTOM_ELEMENT_HANDLING || {}, t50.CUSTOM_ELEMENT_HANDLING && oe(t50.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (_t.tagNameCheck = t50.CUSTOM_ELEMENT_HANDLING.tagNameCheck), t50.CUSTOM_ELEMENT_HANDLING && oe(t50.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (_t.attributeNameCheck = t50.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), t50.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof t50.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (_t.allowCustomizedBuiltInElements = t50.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), Tt && (wt2 = false), Ot2 && (Lt = true), Ft2 && (mt2 = w4({}, [...N]), yt = [], true === Ft2.html && (w4(mt2, T), w4(yt, D)), true === Ft2.svg && (w4(mt2, C), w4(yt, R), w4(yt, B)), true === Ft2.svgFilters && (w4(mt2, P), w4(yt, R), w4(yt, B)), true === Ft2.mathMl && (w4(mt2, L), w4(yt, q4), w4(yt, B))), t50.ADD_TAGS && (mt2 === vt && (mt2 = A(mt2)), w4(mt2, t50.ADD_TAGS, ie)), t50.ADD_ATTR && (yt === xt && (yt = A(yt)), w4(yt, t50.ADD_ATTR, ie)), t50.ADD_URI_SAFE_ATTR && w4(Gt2, t50.ADD_URI_SAFE_ATTR, ie), t50.FORBID_CONTENTS && (Ut === zt && (Ut = A(Ut)), w4(Ut, t50.FORBID_CONTENTS, ie)), Bt && (mt2["#text"] = true), Ct && w4(mt2, ["html", "head", "body"]), mt2.table && (w4(mt2, ["tbody"]), delete bt.tbody), t50.TRUSTED_TYPES_POLICY) {
            if ("function" != typeof t50.TRUSTED_TYPES_POLICY.createHTML)
              throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
            if ("function" != typeof t50.TRUSTED_TYPES_POLICY.createScriptURL)
              throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
            tt = t50.TRUSTED_TYPES_POLICY, et = tt.createHTML("");
          } else
            void 0 === tt && (tt = K10(V4, s10)), null !== tt && "string" == typeof et && (et = tt.createHTML(""));
          o3 && o3(t50), ne = t50;
        }
      }, "_parseConfig"), ae = w4({}, ["mi", "mo", "mn", "ms", "mtext"]), le = w4({}, ["foreignobject", "desc", "title", "annotation-xml"]), ue2 = w4({}, ["title", "style", "font", "a", "script"]), he = w4({}, C);
      w4(he, P), w4(he, I);
      let ce = w4({}, L);
      w4(ce, O);
      let pe = q(function(t50) {
        let e12 = $(t50);
        (!e12 || !e12.tagName) && (e12 = { namespaceURI: Kt, tagName: "template" });
        let i12 = f(t50.tagName), n12 = f(e12.tagName);
        return !!Qt[t50.namespaceURI] && (t50.namespaceURI === Yt2 ? e12.namespaceURI === Xt2 ? "svg" === i12 : e12.namespaceURI === Ht ? "svg" === i12 && ("annotation-xml" === n12 || ae[n12]) : !!he[i12] : t50.namespaceURI === Ht ? e12.namespaceURI === Xt2 ? "math" === i12 : e12.namespaceURI === Yt2 ? "math" === i12 && le[n12] : !!ce[i12] : t50.namespaceURI === Xt2 ? !(e12.namespaceURI === Yt2 && !le[n12] || e12.namespaceURI === Ht && !ae[n12]) && !ce[i12] && (ue2[i12] || !he[i12]) : !("application/xhtml+xml" !== $t2 || !Qt[t50.namespaceURI]));
      }, "_checkValidNamespace"), de = q(function(t50) {
        d(i11.removed, { element: t50 });
        try {
          t50.parentNode.removeChild(t50);
        } catch {
          t50.remove();
        }
      }, "_forceRemove"), fe2 = q(function(t50, e12) {
        try {
          d(i11.removed, { attribute: e12.getAttributeNode(t50), from: e12 });
        } catch {
          d(i11.removed, { attribute: null, from: e12 });
        }
        if (e12.removeAttribute(t50), "is" === t50 && !yt[t50])
          if (Lt || Ot2)
            try {
              de(e12);
            } catch {
            }
          else
            try {
              e12.setAttribute(t50, "");
            } catch {
            }
      }, "_removeAttribute"), ge = q(function(t50) {
        let e12 = null, i12 = null;
        if (It)
          t50 = "<remove></remove>" + t50;
        else {
          let e13 = m(t50, /^[\r\n\t ]+/);
          i12 = e13 && e13[0];
        }
        "application/xhtml+xml" === $t2 && Kt === Xt2 && (t50 = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + t50 + "</body></html>");
        let r10 = tt ? tt.createHTML(t50) : t50;
        if (Kt === Xt2)
          try {
            e12 = new z4().parseFromString(r10, $t2);
          } catch {
          }
        if (!e12 || !e12.documentElement) {
          e12 = it.createDocument(Kt, "template", null);
          try {
            e12.documentElement.innerHTML = Zt ? et : r10;
          } catch {
          }
        }
        let o6 = e12.body || e12.documentElement;
        return t50 && i12 && o6.insertBefore(n11.createTextNode(i12), o6.childNodes[0] || null), Kt === Xt2 ? ot.call(e12, Ct ? "html" : "body")[0] : Ct ? e12.documentElement : o6;
      }, "_initDocument"), me = q(function(t50) {
        return nt2.call(t50.ownerDocument || t50, t50, k7.SHOW_ELEMENT | k7.SHOW_COMMENT | k7.SHOW_TEXT, null);
      }, "_createNodeIterator"), ve = q(function(t50) {
        return t50 instanceof U4 && ("string" != typeof t50.nodeName || "string" != typeof t50.textContent || "function" != typeof t50.removeChild || !(t50.attributes instanceof F10) || "function" != typeof t50.removeAttribute || "function" != typeof t50.setAttribute || "string" != typeof t50.namespaceURI || "function" != typeof t50.insertBefore || "function" != typeof t50.hasChildNodes);
      }, "_isClobbered"), ye = q(function(t50) {
        return "function" == typeof M4 && t50 instanceof M4;
      }, "_isNode"), xe = q(function(t50, e12, n12) {
        at2[t50] && c2(at2[t50], (t51) => {
          t51.call(i11, e12, n12, ne);
        });
      }, "_executeHook"), _e = q(function(t50) {
        let e12 = null;
        if (xe("beforeSanitizeElements", t50, null), ve(t50))
          return de(t50), true;
        let n12 = ie(t50.nodeName);
        if (xe("uponSanitizeElement", t50, { tagName: n12, allowedTags: mt2 }), t50.hasChildNodes() && !ye(t50.firstElementChild) && _(/<[/\w]/g, t50.innerHTML) && _(/<[/\w]/g, t50.textContent))
          return de(t50), true;
        if (!mt2[n12] || bt[n12]) {
          if (!bt[n12] && Me(n12) && (_t.tagNameCheck instanceof RegExp && _(_t.tagNameCheck, n12) || _t.tagNameCheck instanceof Function && _t.tagNameCheck(n12)))
            return false;
          if (Bt && !Ut[n12]) {
            let e13 = $(t50) || t50.parentNode, i12 = J(t50) || t50.childNodes;
            if (i12 && e13)
              for (let n13 = i12.length - 1; n13 >= 0; --n13)
                e13.insertBefore(W4(i12[n13], true), Q(t50));
          }
          return de(t50), true;
        }
        return t50 instanceof E4 && !pe(t50) || ("noscript" === n12 || "noembed" === n12 || "noframes" === n12) && _(/<\/no(script|embed|frames)/i, t50.innerHTML) ? (de(t50), true) : (Tt && 3 === t50.nodeType && (e12 = t50.textContent, c2([lt, ut, ht2], (t51) => {
          e12 = v4(e12, t51, " ");
        }), t50.textContent !== e12 && (d(i11.removed, { element: t50.cloneNode() }), t50.textContent = e12)), xe("afterSanitizeElements", t50, null), false);
      }, "_sanitizeElements"), be = q(function(t50, e12, i12) {
        if (Dt && ("id" === e12 || "name" === e12) && (i12 in n11 || i12 in re))
          return false;
        if ((!wt2 || Mt[e12] || !_(ct, e12)) && (!Et || !_(pt, e12))) {
          if (!yt[e12] || Mt[e12]) {
            if (!(Me(t50) && (_t.tagNameCheck instanceof RegExp && _(_t.tagNameCheck, t50) || _t.tagNameCheck instanceof Function && _t.tagNameCheck(t50)) && (_t.attributeNameCheck instanceof RegExp && _(_t.attributeNameCheck, e12) || _t.attributeNameCheck instanceof Function && _t.attributeNameCheck(e12)) || "is" === e12 && _t.allowCustomizedBuiltInElements && (_t.tagNameCheck instanceof RegExp && _(_t.tagNameCheck, i12) || _t.tagNameCheck instanceof Function && _t.tagNameCheck(i12))))
              return false;
          } else if (!Gt2[e12] && !_(gt, v4(i12, ft, "")) && ("src" !== e12 && "xlink:href" !== e12 && "href" !== e12 || "script" === t50 || 0 !== y4(i12, "data:") || !Vt2[t50]) && (!At || _(dt2, v4(i12, ft, ""))) && i12)
            return false;
        }
        return true;
      }, "_isValidAttribute"), Me = q(function(t50) {
        return t50.indexOf("-") > 0;
      }, "_isBasicCustomElement"), Ee = q(function(t50) {
        xe("beforeSanitizeAttributes", t50, null);
        let { attributes: e12 } = t50;
        if (!e12)
          return;
        let n12 = { attrName: "", attrValue: "", keepAttr: true, allowedAttributes: yt }, r10 = e12.length;
        for (; r10--; ) {
          let o6 = e12[r10], { name: s11, namespaceURI: a3, value: l10 } = o6, u2 = ie(s11), h4 = "value" === s11 ? l10 : x4(l10);
          if (n12.attrName = u2, n12.attrValue = h4, n12.keepAttr = true, n12.forceKeepAttr = void 0, xe("uponSanitizeAttribute", t50, n12), h4 = n12.attrValue, n12.forceKeepAttr || (fe2(s11, t50), !n12.keepAttr))
            continue;
          if (!St2 && _(/\/>/i, h4)) {
            fe2(s11, t50);
            continue;
          }
          Tt && c2([lt, ut, ht2], (t51) => {
            h4 = v4(h4, t51, " ");
          });
          let d4 = ie(t50.nodeName);
          if (be(d4, u2, h4)) {
            if (Rt && ("id" === u2 || "name" === u2) && (fe2(s11, t50), h4 = qt + h4), tt && "object" == typeof V4 && "function" == typeof V4.getAttributeType && !a3)
              switch (V4.getAttributeType(d4, u2)) {
                case "TrustedHTML":
                  h4 = tt.createHTML(h4);
                  break;
                case "TrustedScriptURL":
                  h4 = tt.createScriptURL(h4);
              }
            try {
              a3 ? t50.setAttributeNS(a3, s11, h4) : t50.setAttribute(s11, h4), p4(i11.removed);
            } catch {
            }
          }
        }
        xe("afterSanitizeAttributes", t50, null);
      }, "_sanitizeAttributes"), we = q(function t50(e12) {
        let i12 = null, n12 = me(e12);
        for (xe("beforeSanitizeShadowDOM", e12, null); i12 = n12.nextNode(); )
          xe("uponSanitizeShadowNode", i12, null), !_e(i12) && (i12.content instanceof l3 && t50(i12.content), Ee(i12));
        xe("afterSanitizeShadowDOM", e12, null);
      }, "_sanitizeShadowDOM");
      return i11.sanitize = function(t50) {
        let e12 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n12 = null, o6 = null, s11 = null, a3 = null;
        if (Zt = !t50, Zt && (t50 = "<!-->"), "string" != typeof t50 && !ye(t50)) {
          if ("function" != typeof t50.toString)
            throw b("toString is not a function");
          if ("string" != typeof (t50 = t50.toString()))
            throw b("dirty is not a string, aborting");
        }
        if (!i11.isSupported)
          return t50;
        if (Pt || se(e12), i11.removed = [], "string" == typeof t50 && (kt = false), kt) {
          if (t50.nodeName) {
            let e13 = ie(t50.nodeName);
            if (!mt2[e13] || bt[e13])
              throw b("root node is forbidden and cannot be sanitized in-place");
          }
        } else if (t50 instanceof M4)
          n12 = ge("<!---->"), o6 = n12.ownerDocument.importNode(t50, true), 1 === o6.nodeType && "BODY" === o6.nodeName || "HTML" === o6.nodeName ? n12 = o6 : n12.appendChild(o6);
        else {
          if (!Lt && !Tt && !Ct && -1 === t50.indexOf("<"))
            return tt && Nt ? tt.createHTML(t50) : t50;
          if (n12 = ge(t50), !n12)
            return Lt ? null : Nt ? et : "";
        }
        n12 && It && de(n12.firstChild);
        let u2 = me(kt ? t50 : n12);
        for (; s11 = u2.nextNode(); )
          _e(s11) || (s11.content instanceof l3 && we(s11.content), Ee(s11));
        if (kt)
          return t50;
        if (Lt) {
          if (Ot2)
            for (a3 = rt.call(n12.ownerDocument); n12.firstChild; )
              a3.appendChild(n12.firstChild);
          else
            a3 = n12;
          return (yt.shadowroot || yt.shadowrootmode) && (a3 = st.call(r6, a3, true)), a3;
        }
        let h4 = Ct ? n12.outerHTML : n12.innerHTML;
        return Ct && mt2["!doctype"] && n12.ownerDocument && n12.ownerDocument.doctype && n12.ownerDocument.doctype.name && _(H, n12.ownerDocument.doctype.name) && (h4 = "<!DOCTYPE " + n12.ownerDocument.doctype.name + ">\n" + h4), Tt && c2([lt, ut, ht2], (t51) => {
          h4 = v4(h4, t51, " ");
        }), tt && Nt ? tt.createHTML(h4) : h4;
      }, i11.setConfig = function() {
        let t50 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        se(t50), Pt = true;
      }, i11.clearConfig = function() {
        ne = null, Pt = false;
      }, i11.isValidAttribute = function(t50, e12, i12) {
        ne || se({});
        let n12 = ie(t50), r10 = ie(e12);
        return be(n12, r10, i12);
      }, i11.addHook = function(t50, e12) {
        "function" == typeof e12 && (at2[t50] = at2[t50] || [], d(at2[t50], e12));
      }, i11.removeHook = function(t50) {
        if (at2[t50])
          return p4(at2[t50]);
      }, i11.removeHooks = function(t50) {
        at2[t50] && (at2[t50] = []);
      }, i11.removeAllHooks = function() {
        at2 = {};
      }, i11;
    }
    return q(Z, "createDOMPurify"), Z();
  }, "object" == typeof t48 && typeof e6 < "u" ? e6.exports = n() : "function" == typeof define && define.amd ? define(n) : (i = typeof globalThis < "u" ? globalThis : i || self).DOMPurify = n();
});
var $Q = s((t48, e6) => {
  c(), function() {
    "use strict";
    function t49(t50, e10) {
      var i10 = t50.x - e10.x, n10 = t50.y - e10.y;
      return i10 * i10 + n10 * n10;
    }
    function i(t50, e10, i10) {
      var n10 = e10.x, r6 = e10.y, o6 = i10.x - n10, s10 = i10.y - r6;
      if (0 !== o6 || 0 !== s10) {
        var a = ((t50.x - n10) * o6 + (t50.y - r6) * s10) / (o6 * o6 + s10 * s10);
        a > 1 ? (n10 = i10.x, r6 = i10.y) : a > 0 && (n10 += o6 * a, r6 += s10 * a);
      }
      return (o6 = t50.x - n10) * o6 + (s10 = t50.y - r6) * s10;
    }
    function n(e10, i10) {
      for (var n10, r6 = e10[0], o6 = [r6], s10 = 1, a = e10.length; s10 < a; s10++)
        t49(n10 = e10[s10], r6) > i10 && (o6.push(n10), r6 = n10);
      return r6 !== n10 && o6.push(n10), o6;
    }
    function r(t50, e10, n10, o6, s10) {
      for (var a, l = o6, u2 = e10 + 1; u2 < n10; u2++) {
        var h = i(t50[u2], t50[e10], t50[n10]);
        h > l && (a = u2, l = h);
      }
      l > o6 && (a - e10 > 1 && r(t50, e10, a, o6, s10), s10.push(t50[a]), n10 - a > 1 && r(t50, a, n10, o6, s10));
    }
    function o3(t50, e10) {
      var i10 = t50.length - 1, n10 = [t50[0]];
      return r(t50, 0, i10, e10, n10), n10.push(t50[i10]), n10;
    }
    function s6(t50, e10, i10) {
      if (t50.length <= 2)
        return t50;
      var r6 = void 0 !== e10 ? e10 * e10 : 1;
      return t50 = o3(t50 = i10 ? t50 : n(t50, r6), r6);
    }
    q(t49, "getSqDist"), q(i, "getSqSegDist"), q(n, "simplifyRadialDist"), q(r, "simplifyDPStep"), q(o3, "simplifyDouglasPeucker"), q(s6, "simplify"), "function" == typeof define && define.amd ? define(function() {
      return s6;
    }) : typeof e6 < "u" ? (e6.exports = s6, e6.exports.default = s6) : typeof self < "u" ? self.simplify = s6 : window.simplify = s6;
  }();
});
c(), c(), c(), c();
var ec;
var C0;
var ZS;
var Kb;
var gB;
var QS = class {
  constructor(t48) {
    w(this, C0), w(this, Kb), w(this, ec, void 0), p(this, ec, t48);
  }
  directionsTo(t48, e6) {
    let i = o(this, ec).analytics;
    return t48 instanceof ia ? 0 === t48.destinations.length ? [] : (i.getDirections(this, t48.destinations[t48.destinations.length - 1]), y(this, Kb, gB).call(this, t48, e6)) : (i.getDirections(this, t48), y(this, C0, ZS).call(this, t48, e6));
  }
  distanceTo(t48, e6) {
    let i = y(this, C0, ZS).call(this, t48, e6);
    return (null == i ? void 0 : i.distance) || 0;
  }
};
ec = /* @__PURE__ */ new WeakMap(), C0 = /* @__PURE__ */ new WeakSet(), ZS = q(function(t48, e6) {
  let i = A0(this), n = A0(t48), r = o(this, ec).navigator.getDirections({ originIds: i, destinationNodeIds: n, accessible: (null == e6 ? void 0 : e6.accessible) || false, includedVortexIds: null != e6 && e6.includedVortexIds ? new Set(e6.includedVortexIds) : void 0, excludedVortexIds: null != e6 && e6.excludedVortexIds ? new Set(e6.excludedVortexIds) : void 0, simplify: null == e6 ? void 0 : e6.simplify });
  return new tc(o(this, ec), r);
}, "#directionsToSingleDestination"), Kb = /* @__PURE__ */ new WeakSet(), gB = q(function(t48, e6) {
  let i, n = [], r = A0(this);
  for (let o3 = 0; o3 < t48.destinations.length; o3++) {
    i = A0(t48.destinations[o3]);
    let s6 = o(this, ec).navigator.getDirections({ originIds: r, destinationNodeIds: i, includedVortexIds: null != e6 && e6.includedVortexIds ? new Set(e6.includedVortexIds) : void 0, excludedVortexIds: null != e6 && e6.excludedVortexIds ? new Set(e6.excludedVortexIds) : void 0, accessible: (null == e6 ? void 0 : e6.accessible) || false, simplify: null == e6 ? void 0 : e6.simplify }), a = new tc(o(this, ec), s6);
    n.push(a), r = 0 === a.path.length ? i : [a.path[a.path.length - 1].id];
  }
  return n;
}, "#directionsToDestinationSet"), q(QS, "MappedinNavigatable");
var ja = QS;
c(), c();
var vB = "mi-debug";
var KS = ((t48) => (t48[t48.LOG = 0] = "LOG", t48[t48.WARN = 1] = "WARN", t48[t48.ERROR = 2] = "ERROR", t48[t48.SILENT = 3] = "SILENT", t48))(KS || {});
function yB(t48) {
  0 <= t48 && t48 <= 3 && (xB.logState = t48);
}
q(yB, "setLoggerLevel");
var xB = { logState: 0, log(...t48) {
  this.logState <= 0 && console.log("[MappedInJS]", ...t48);
}, warn(...t48) {
  this.logState <= 1 && console.warn("[MappedInJS]", ...t48);
}, error(...t48) {
  this.logState <= 2 && console.error("[MappedInJS]", ...t48);
}, assert(...t48) {
  console.assert(...t48);
}, time(t48) {
  console.time(t48);
}, timeEnd(t48) {
  console.timeEnd(t48);
} };
var Le = xB;
c(), c(), c(), c();
var JS = q(function(t48, e6) {
  return (JS = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t49, e10) {
    t49.__proto__ = e10;
  } || function(t49, e10) {
    for (var i in e10)
      Object.prototype.hasOwnProperty.call(e10, i) && (t49[i] = e10[i]);
  })(t48, e6);
}, "extendStatics");
function bh(t48, e6) {
  if ("function" != typeof e6 && null !== e6)
    throw new TypeError("Class extends value " + String(e6) + " is not a constructor or null");
  function i() {
    this.constructor = t48;
  }
  JS(t48, e6), q(i, "__"), t48.prototype = null === e6 ? Object.create(e6) : (i.prototype = e6.prototype, new i());
}
q(bh, "__extends");
var _i = q(function() {
  return _i = Object.assign || q(function(t48) {
    for (var e6, i = 1, n = arguments.length; i < n; i++)
      for (var r in e6 = arguments[i])
        Object.prototype.hasOwnProperty.call(e6, r) && (t48[r] = e6[r]);
    return t48;
  }, "__assign"), _i.apply(this, arguments);
}, "__assign");
function lr(t48, e6, i, n) {
  function r(t49) {
    return t49 instanceof i ? t49 : new i(function(e10) {
      e10(t49);
    });
  }
  return q(r, "adopt"), new (i || (i = Promise))(function(i10, o3) {
    function s6(t49) {
      try {
        l(n.next(t49));
      } catch (t50) {
        o3(t50);
      }
    }
    function a(t49) {
      try {
        l(n.throw(t49));
      } catch (t50) {
        o3(t50);
      }
    }
    function l(t49) {
      t49.done ? i10(t49.value) : r(t49.value).then(s6, a);
    }
    q(s6, "fulfilled"), q(a, "rejected"), q(l, "step"), l((n = n.apply(t48, e6 || [])).next());
  });
}
function ur(t48, e6) {
  var i, n, r, o3, s6 = { label: 0, sent: function() {
    if (1 & r[0])
      throw r[1];
    return r[1];
  }, trys: [], ops: [] };
  return o3 = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o3[Symbol.iterator] = function() {
    return this;
  }), o3;
  function a(a3) {
    return function(l) {
      return function(a7) {
        if (i)
          throw new TypeError("Generator is already executing.");
        for (; o3 && (o3 = 0, a7[0] && (s6 = 0)), s6; )
          try {
            if (i = 1, n && (r = 2 & a7[0] ? n.return : a7[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, a7[1])).done)
              return r;
            switch (n = 0, r && (a7 = [2 & a7[0], r.value]), a7[0]) {
              case 0:
              case 1:
                r = a7;
                break;
              case 4:
                return s6.label++, { value: a7[1], done: false };
              case 5:
                s6.label++, n = a7[1], a7 = [0];
                continue;
              case 7:
                a7 = s6.ops.pop(), s6.trys.pop();
                continue;
              default:
                if (!(r = (r = s6.trys).length > 0 && r[r.length - 1]) && (6 === a7[0] || 2 === a7[0])) {
                  s6 = 0;
                  continue;
                }
                if (3 === a7[0] && (!r || a7[1] > r[0] && a7[1] < r[3])) {
                  s6.label = a7[1];
                  break;
                }
                if (6 === a7[0] && s6.label < r[1]) {
                  s6.label = r[1], r = a7;
                  break;
                }
                if (r && s6.label < r[2]) {
                  s6.label = r[2], s6.ops.push(a7);
                  break;
                }
                r[2] && s6.ops.pop(), s6.trys.pop();
                continue;
            }
            a7 = e6.call(t48, s6);
          } catch (t49) {
            a7 = [6, t49], n = 0;
          } finally {
            i = r = 0;
          }
        if (5 & a7[0])
          throw a7[1];
        return { value: a7[0] ? a7[1] : void 0, done: true };
      }([a3, l]);
    };
  }
}
function bB(t48) {
  var e6 = "function" == typeof Symbol && Symbol.iterator, i = e6 && t48[e6], n = 0;
  if (i)
    return i.call(t48);
  if (t48 && "number" == typeof t48.length)
    return { next: function() {
      return t48 && n >= t48.length && (t48 = void 0), { value: t48 && t48[n++], done: !t48 };
    } };
  throw new TypeError(e6 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function _B(t48, e6) {
  var i = "function" == typeof Symbol && t48[Symbol.iterator];
  if (!i)
    return t48;
  var n, r, o3 = i.call(t48), s6 = [];
  try {
    for (; (void 0 === e6 || e6-- > 0) && !(n = o3.next()).done; )
      s6.push(n.value);
  } catch (t49) {
    r = { error: t49 };
  } finally {
    try {
      n && !n.done && (i = o3.return) && i.call(o3);
    } finally {
      if (r)
        throw r.error;
    }
  }
  return s6;
}
q(lr, "__awaiter"), q(ur, "__generator"), q(bB, "__values"), q(_B, "__read"), c(), c(), c();
var _h;
var Ds;
var nc;
var wh;
var Ro;
var ra;
var mr;
var Cd;
var cr = q(function() {
  return cr = Object.assign || q(function(t48) {
    for (var e6, i = 1, n = arguments.length; i < n; i++)
      for (var r in e6 = arguments[i])
        Object.prototype.hasOwnProperty.call(e6, r) && (t48[r] = e6[r]);
    return t48;
  }, "__assign"), cr.apply(this, arguments);
}, "__assign");
function wB(t48, e6) {
  var i = {};
  for (var n in t48)
    Object.prototype.hasOwnProperty.call(t48, n) && e6.indexOf(n) < 0 && (i[n] = t48[n]);
  if (null != t48 && "function" == typeof Object.getOwnPropertySymbols) {
    var r = 0;
    for (n = Object.getOwnPropertySymbols(t48); r < n.length; r++)
      e6.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(t48, n[r]) && (i[n[r]] = t48[n[r]]);
  }
  return i;
}
function Sr(t48, e6, i, n) {
  function r(t49) {
    return t49 instanceof i ? t49 : new i(function(e10) {
      e10(t49);
    });
  }
  return q(r, "adopt"), new (i || (i = Promise))(function(i10, o3) {
    function s6(t49) {
      try {
        l(n.next(t49));
      } catch (t50) {
        o3(t50);
      }
    }
    function a(t49) {
      try {
        l(n.throw(t49));
      } catch (t50) {
        o3(t50);
      }
    }
    function l(t49) {
      t49.done ? i10(t49.value) : r(t49.value).then(s6, a);
    }
    q(s6, "fulfilled"), q(a, "rejected"), q(l, "step"), l((n = n.apply(t48, e6 || [])).next());
  });
}
function Ar(t48, e6) {
  var i, n, r, o3, s6 = { label: 0, sent: function() {
    if (1 & r[0])
      throw r[1];
    return r[1];
  }, trys: [], ops: [] };
  return o3 = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o3[Symbol.iterator] = function() {
    return this;
  }), o3;
  function a(a3) {
    return function(l) {
      return function(a7) {
        if (i)
          throw new TypeError("Generator is already executing.");
        for (; o3 && (o3 = 0, a7[0] && (s6 = 0)), s6; )
          try {
            if (i = 1, n && (r = 2 & a7[0] ? n.return : a7[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, a7[1])).done)
              return r;
            switch (n = 0, r && (a7 = [2 & a7[0], r.value]), a7[0]) {
              case 0:
              case 1:
                r = a7;
                break;
              case 4:
                return s6.label++, { value: a7[1], done: false };
              case 5:
                s6.label++, n = a7[1], a7 = [0];
                continue;
              case 7:
                a7 = s6.ops.pop(), s6.trys.pop();
                continue;
              default:
                if (!(r = (r = s6.trys).length > 0 && r[r.length - 1]) && (6 === a7[0] || 2 === a7[0])) {
                  s6 = 0;
                  continue;
                }
                if (3 === a7[0] && (!r || a7[1] > r[0] && a7[1] < r[3])) {
                  s6.label = a7[1];
                  break;
                }
                if (6 === a7[0] && s6.label < r[1]) {
                  s6.label = r[1], r = a7;
                  break;
                }
                if (r && s6.label < r[2]) {
                  s6.label = r[2], s6.ops.push(a7);
                  break;
                }
                r[2] && s6.ops.pop(), s6.trys.pop();
                continue;
            }
            a7 = e6.call(t48, s6);
          } catch (t49) {
            a7 = [6, t49], n = 0;
          } finally {
            i = r = 0;
          }
        if (5 & a7[0])
          throw a7[1];
        return { value: a7[0] ? a7[1] : void 0, done: true };
      }([a3, l]);
    };
  }
}
function su(t48) {
  var e6 = "function" == typeof Symbol && Symbol.iterator, i = e6 && t48[e6], n = 0;
  if (i)
    return i.call(t48);
  if (t48 && "number" == typeof t48.length)
    return { next: function() {
      return t48 && n >= t48.length && (t48 = void 0), { value: t48 && t48[n++], done: !t48 };
    } };
  throw new TypeError(e6 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function No(t48, e6) {
  var i = "function" == typeof Symbol && t48[Symbol.iterator];
  if (!i)
    return t48;
  var n, r, o3 = i.call(t48), s6 = [];
  try {
    for (; (void 0 === e6 || e6-- > 0) && !(n = o3.next()).done; )
      s6.push(n.value);
  } catch (t49) {
    r = { error: t49 };
  } finally {
    try {
      n && !n.done && (i = o3.return) && i.call(o3);
    } finally {
      if (r)
        throw r.error;
    }
  }
  return s6;
}
function Tl(t48, e6, i) {
  if (i || 2 === arguments.length)
    for (var n, r = 0, o3 = e6.length; r < o3; r++)
      (n || !(r in e6)) && (n || (n = Array.prototype.slice.call(e6, 0, r)), n[r] = e6[r]);
  return t48.concat(n || Array.prototype.slice.call(e6));
}
q(wB, "__rest"), q(Sr, "__awaiter"), q(Ar, "__generator"), q(su, "__values"), q(No, "__read"), q(Tl, "__spreadArray"), c(), c(), c(), function(t48) {
  t48.US = "US", t48.EU = "EU";
}(_h || (_h = {})), c(), function(t48) {
  t48.SET = "$set", t48.SET_ONCE = "$setOnce", t48.ADD = "$add", t48.APPEND = "$append", t48.PREPEND = "$prepend", t48.REMOVE = "$remove", t48.PREINSERT = "$preInsert", t48.POSTINSERT = "$postInsert", t48.UNSET = "$unset", t48.CLEAR_ALL = "$clearAll";
}(Ds || (Ds = {})), function(t48) {
  t48.REVENUE_PRODUCT_ID = "$productId", t48.REVENUE_QUANTITY = "$quantity", t48.REVENUE_PRICE = "$price", t48.REVENUE_TYPE = "$revenueType", t48.REVENUE = "$revenue";
}(nc || (nc = {})), function(t48) {
  t48.IDENTIFY = "$identify", t48.GROUP_IDENTIFY = "$groupidentify", t48.REVENUE = "revenue_amount";
}(wh || (wh = {})), c(), function(t48) {
  t48[t48.None = 0] = "None", t48[t48.Error = 1] = "Error", t48[t48.Warn = 2] = "Warn", t48[t48.Verbose = 3] = "Verbose", t48[t48.Debug = 4] = "Debug";
}(Ro || (Ro = {})), c(), function(t48) {
  t48.BEFORE = "before", t48.ENRICHMENT = "enrichment", t48.DESTINATION = "destination";
}(ra || (ra = {})), c(), function(t48) {
  t48.Unknown = "unknown", t48.Skipped = "skipped", t48.Success = "success", t48.RateLimit = "rate_limit", t48.PayloadTooLarge = "payload_too_large", t48.Invalid = "invalid", t48.Failed = "failed", t48.Timeout = "Timeout", t48.SystemError = "SystemError";
}(mr || (mr = {})), c(), function(t48) {
  t48.XHR = "xhr", t48.SendBeacon = "beacon", t48.Fetch = "fetch";
}(Cd || (Cd = {})), c(), c();
var $S = "-";
var P0 = "AMP";
var MB = "".concat(P0, "_unsent");
var eA = "https://api2.amplitude.com/2/httpapi";
var EB = "https://api.eu.amplitude.com/2/httpapi";
var TB = "https://api2.amplitude.com/batch";
var SB = "https://api.eu.amplitude.com/batch";
c();
var _K = 1e3;
var Jb = q(function(t48) {
  if (Object.keys(t48).length > _K)
    return false;
  for (var e6 in t48) {
    var i = t48[e6];
    if (!tA(e6, i))
      return false;
  }
  return true;
}, "isValidObject");
var tA = q(function(t48, e6) {
  var i, n;
  if ("string" != typeof t48)
    return false;
  if (Array.isArray(e6)) {
    var r = true;
    try {
      for (var o3 = su(e6), s6 = o3.next(); !s6.done; s6 = o3.next()) {
        var a = s6.value;
        if (Array.isArray(a))
          return false;
        if ("object" == typeof a)
          r = r && Jb(a);
        else if (!["number", "string"].includes(typeof a))
          return false;
        if (!r)
          return false;
      }
    } catch (t49) {
      i = { error: t49 };
    } finally {
      try {
        s6 && !s6.done && (n = o3.return) && n.call(o3);
      } finally {
        if (i)
          throw i.error;
      }
    }
  } else {
    if (null == e6)
      return false;
    if ("object" == typeof e6)
      return Jb(e6);
    if (!["number", "string", "boolean"].includes(typeof e6))
      return false;
  }
  return true;
}, "isValidProperties");
var Sl = function() {
  function t48() {
    this._propertySet = /* @__PURE__ */ new Set(), this._properties = {};
  }
  return q(t48, "Identify"), t48.prototype.getUserProperties = function() {
    return cr({}, this._properties);
  }, t48.prototype.set = function(t49, e6) {
    return this._safeSet(Ds.SET, t49, e6), this;
  }, t48.prototype.setOnce = function(t49, e6) {
    return this._safeSet(Ds.SET_ONCE, t49, e6), this;
  }, t48.prototype.append = function(t49, e6) {
    return this._safeSet(Ds.APPEND, t49, e6), this;
  }, t48.prototype.prepend = function(t49, e6) {
    return this._safeSet(Ds.PREPEND, t49, e6), this;
  }, t48.prototype.postInsert = function(t49, e6) {
    return this._safeSet(Ds.POSTINSERT, t49, e6), this;
  }, t48.prototype.preInsert = function(t49, e6) {
    return this._safeSet(Ds.PREINSERT, t49, e6), this;
  }, t48.prototype.remove = function(t49, e6) {
    return this._safeSet(Ds.REMOVE, t49, e6), this;
  }, t48.prototype.add = function(t49, e6) {
    return this._safeSet(Ds.ADD, t49, e6), this;
  }, t48.prototype.unset = function(t49) {
    return this._safeSet(Ds.UNSET, t49, $S), this;
  }, t48.prototype.clearAll = function() {
    return this._properties = {}, this._properties[Ds.CLEAR_ALL] = $S, this;
  }, t48.prototype._safeSet = function(t49, e6, i) {
    if (this._validate(t49, e6, i)) {
      var n = this._properties[t49];
      return void 0 === n && (n = {}, this._properties[t49] = n), n[e6] = i, this._propertySet.add(e6), true;
    }
    return false;
  }, t48.prototype._validate = function(t49, e6, i) {
    return void 0 === this._properties[Ds.CLEAR_ALL] && !this._propertySet.has(e6) && (t49 === Ds.ADD ? "number" == typeof i : t49 === Ds.UNSET || t49 === Ds.REMOVE || tA(e6, i));
  }, t48;
}();
var AB = q(function(t48, e6, i) {
  return cr(cr(cr({}, "string" == typeof t48 ? { event_type: t48 } : t48), i), e6 && { event_properties: e6 });
}, "createTrackEvent");
var I0 = q(function(t48, e6) {
  return cr(cr({}, e6), { event_type: wh.IDENTIFY, user_properties: t48.getUserProperties() });
}, "createIdentifyEvent");
var CB = q(function(t48, e6, i, n) {
  var r;
  return cr(cr({}, n), { event_type: wh.GROUP_IDENTIFY, group_properties: i.getUserProperties(), groups: (r = {}, r[t48] = e6, r) });
}, "createGroupIdentifyEvent");
var PB = q(function(t48, e6, i) {
  var n, r = new Sl();
  return r.set(t48, e6), cr(cr({}, i), { event_type: wh.IDENTIFY, user_properties: r.getUserProperties(), groups: (n = {}, n[t48] = e6, n) });
}, "createGroupEvent");
var IB = q(function(t48, e6) {
  return cr(cr({}, e6), { event_type: wh.REVENUE, event_properties: t48.getEventProperties() });
}, "createRevenueEvent");
c(), c();
var Mh = q(function(t48, e6, i) {
  return void 0 === e6 && (e6 = 0), void 0 === i && (i = mr.Unknown), { event: t48, code: e6, message: i };
}, "buildResult");
var OB = function() {
  function t48() {
    this.queue = [], this.applying = false, this.plugins = [];
  }
  return q(t48, "Timeline"), t48.prototype.register = function(t49, e6) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(i) {
        switch (i.label) {
          case 0:
            return [4, t49.setup(e6)];
          case 1:
            return i.sent(), this.plugins.push(t49), [2];
        }
      });
    });
  }, t48.prototype.deregister = function(t49) {
    return this.plugins.splice(this.plugins.findIndex(function(e6) {
      return e6.name === t49;
    }), 1), Promise.resolve();
  }, t48.prototype.reset = function() {
    this.applying = false, this.plugins = [];
  }, t48.prototype.push = function(t49) {
    var e6 = this;
    return new Promise(function(i) {
      e6.queue.push([t49, i]), e6.scheduleApply(0);
    });
  }, t48.prototype.scheduleApply = function(t49) {
    var e6 = this;
    this.applying || (this.applying = true, setTimeout(function() {
      e6.apply(e6.queue.shift()).then(function() {
        e6.applying = false, e6.queue.length > 0 && e6.scheduleApply(0);
      });
    }, t49));
  }, t48.prototype.apply = function(t49) {
    return Sr(this, void 0, void 0, function() {
      var e6, i, n, r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m, v4, y4;
      return Ar(this, function(x4) {
        switch (x4.label) {
          case 0:
            if (!t49)
              return [2];
            e6 = No(t49, 1), i = e6[0], n = No(t49, 2), r = n[1], o3 = this.plugins.filter(function(t50) {
              return t50.type === ra.BEFORE;
            }), x4.label = 1;
          case 1:
            x4.trys.push([1, 6, 7, 8]), s6 = su(o3), a = s6.next(), x4.label = 2;
          case 2:
            return a.done ? [3, 5] : [4, a.value.execute(cr({}, i))];
          case 3:
            i = x4.sent(), x4.label = 4;
          case 4:
            return a = s6.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return l = x4.sent(), g = { error: l }, [3, 8];
          case 7:
            try {
              a && !a.done && (m = s6.return) && m.call(s6);
            } finally {
              if (g)
                throw g.error;
            }
            return [7];
          case 8:
            u2 = this.plugins.filter(function(t50) {
              return t50.type === ra.ENRICHMENT;
            }), x4.label = 9;
          case 9:
            x4.trys.push([9, 14, 15, 16]), h = su(u2), c2 = h.next(), x4.label = 10;
          case 10:
            return c2.done ? [3, 13] : [4, c2.value.execute(cr({}, i))];
          case 11:
            i = x4.sent(), x4.label = 12;
          case 12:
            return c2 = h.next(), [3, 10];
          case 13:
            return [3, 16];
          case 14:
            return p4 = x4.sent(), v4 = { error: p4 }, [3, 16];
          case 15:
            try {
              c2 && !c2.done && (y4 = h.return) && y4.call(h);
            } finally {
              if (v4)
                throw v4.error;
            }
            return [7];
          case 16:
            return d = this.plugins.filter(function(t50) {
              return t50.type === ra.DESTINATION;
            }), f = d.map(function(t50) {
              var e10 = cr({}, i);
              return t50.execute(e10).catch(function(t51) {
                return Mh(e10, 0, String(t51));
              });
            }), Promise.all(f).then(function(t50) {
              var e10 = No(t50, 1)[0];
              r(e10);
            }), [2];
        }
      });
    });
  }, t48.prototype.flush = function() {
    return Sr(this, void 0, void 0, function() {
      var t49, e6, i, n = this;
      return Ar(this, function(r) {
        switch (r.label) {
          case 0:
            return t49 = this.queue, this.queue = [], [4, Promise.all(t49.map(function(t50) {
              return n.apply(t50);
            }))];
          case 1:
            return r.sent(), e6 = this.plugins.filter(function(t50) {
              return t50.type === ra.DESTINATION;
            }), i = e6.map(function(t50) {
              return t50.flush && t50.flush();
            }), [4, Promise.all(i)];
          case 2:
            return r.sent(), [2];
        }
      });
    });
  }, t48;
}();
c();
var LB = "Event tracked successfully";
var DB = "Unexpected error occurred";
var NB = "Event rejected due to exceeded retry count";
var RB = "Event skipped due to optOut config";
var BB = "Event rejected due to missing API key";
var kB = "Invalid API key";
var qB = "Client not initialized";
var nA = function() {
  function t48(t49) {
    void 0 === t49 && (t49 = "$default"), this.initializing = false, this.q = [], this.dispatchQ = [], this.logEvent = this.track.bind(this), this.timeline = new OB(), this.name = t49;
  }
  return q(t48, "AmplitudeCore"), t48.prototype._init = function(t49) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(e6) {
        switch (e6.label) {
          case 0:
            return this.config = t49, this.timeline.reset(), [4, this.runQueuedFunctions("q")];
          case 1:
            return e6.sent(), [2];
        }
      });
    });
  }, t48.prototype.runQueuedFunctions = function(t49) {
    return Sr(this, void 0, void 0, function() {
      var e6, i, n, r, o3, s6;
      return Ar(this, function(a) {
        switch (a.label) {
          case 0:
            e6 = this[t49], this[t49] = [], a.label = 1;
          case 1:
            a.trys.push([1, 6, 7, 8]), i = su(e6), n = i.next(), a.label = 2;
          case 2:
            return n.done ? [3, 5] : [4, (0, n.value)()];
          case 3:
            a.sent(), a.label = 4;
          case 4:
            return n = i.next(), [3, 2];
          case 5:
            return [3, 8];
          case 6:
            return r = a.sent(), o3 = { error: r }, [3, 8];
          case 7:
            try {
              n && !n.done && (s6 = i.return) && s6.call(i);
            } finally {
              if (o3)
                throw o3.error;
            }
            return [7];
          case 8:
            return [2];
        }
      });
    });
  }, t48.prototype.track = function(t49, e6, i) {
    var n = AB(t49, e6, i);
    return this.dispatch(n);
  }, t48.prototype.identify = function(t49, e6) {
    var i = I0(t49, e6);
    return this.dispatch(i);
  }, t48.prototype.groupIdentify = function(t49, e6, i, n) {
    var r = CB(t49, e6, i, n);
    return this.dispatch(r);
  }, t48.prototype.setGroup = function(t49, e6, i) {
    var n = PB(t49, e6, i);
    return this.dispatch(n);
  }, t48.prototype.revenue = function(t49, e6) {
    var i = IB(t49, e6);
    return this.dispatch(i);
  }, t48.prototype.add = function(t49) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(e6) {
        return this.config ? [2, this.timeline.register(t49, this.config)] : (this.q.push(this.add.bind(this, t49)), [2]);
      });
    });
  }, t48.prototype.remove = function(t49) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(e6) {
        return this.config ? [2, this.timeline.deregister(t49)] : (this.q.push(this.remove.bind(this, t49)), [2]);
      });
    });
  }, t48.prototype.dispatchWithCallback = function(t49, e6) {
    if (!this.config)
      return e6(Mh(t49, 0, qB));
    this.process(t49).then(e6);
  }, t48.prototype.dispatch = function(t49) {
    return Sr(this, void 0, void 0, function() {
      var e6 = this;
      return Ar(this, function(i) {
        return this.config ? [2, this.process(t49)] : [2, new Promise(function(i10) {
          e6.dispatchQ.push(e6.dispatchWithCallback.bind(e6, t49, i10));
        })];
      });
    });
  }, t48.prototype.process = function(t49) {
    return Sr(this, void 0, void 0, function() {
      var e6, i, n;
      return Ar(this, function(r) {
        switch (r.label) {
          case 0:
            return r.trys.push([0, 2, , 3]), this.config.optOut ? [2, Mh(t49, 0, RB)] : [4, this.timeline.push(t49)];
          case 1:
            return 200 === (n = r.sent()).code ? this.config.loggerProvider.log(n.message) : this.config.loggerProvider.error(n.message), [2, n];
          case 2:
            return e6 = r.sent(), i = String(e6), this.config.loggerProvider.error(i), [2, n = Mh(t49, 0, i)];
          case 3:
            return [2];
        }
      });
    });
  }, t48.prototype.setOptOut = function(t49) {
    this.config ? this.config.optOut = !!t49 : this.q.push(this.setOptOut.bind(this, !!t49));
  }, t48.prototype.flush = function() {
    return this.timeline.flush();
  }, t48;
}();
c();
var $b = function() {
  function t48() {
    this.productId = "", this.quantity = 1, this.price = 0;
  }
  return q(t48, "Revenue"), t48.prototype.setProductId = function(t49) {
    return this.productId = t49, this;
  }, t48.prototype.setQuantity = function(t49) {
    return t49 > 0 && (this.quantity = t49), this;
  }, t48.prototype.setPrice = function(t49) {
    return this.price = t49, this;
  }, t48.prototype.setRevenueType = function(t49) {
    return this.revenueType = t49, this;
  }, t48.prototype.setRevenue = function(t49) {
    return this.revenue = t49, this;
  }, t48.prototype.setEventProperties = function(t49) {
    return Jb(t49) && (this.properties = t49), this;
  }, t48.prototype.getEventProperties = function() {
    var t49 = this.properties ? cr({}, this.properties) : {};
    return t49[nc.REVENUE_PRODUCT_ID] = this.productId, t49[nc.REVENUE_QUANTITY] = this.quantity, t49[nc.REVENUE_PRICE] = this.price, t49[nc.REVENUE_TYPE] = this.revenueType, t49[nc.REVENUE] = this.revenue, t49;
  }, t48;
}();
c(), c();
var FB = q(function(t48, e6) {
  var i = Math.max(e6, 1);
  return t48.reduce(function(t49, e10, n) {
    var r = Math.floor(n / i);
    return t49[r] || (t49[r] = []), t49[r].push(e10), t49;
  }, []);
}, "chunk");
c(), c();
var e_ = "Amplitude Logger ";
var UB = function() {
  function t48() {
    this.logLevel = Ro.None;
  }
  return q(t48, "Logger"), t48.prototype.disable = function() {
    this.logLevel = Ro.None;
  }, t48.prototype.enable = function(t49) {
    void 0 === t49 && (t49 = Ro.Warn), this.logLevel = t49;
  }, t48.prototype.log = function() {
    for (var t49 = [], e6 = 0; e6 < arguments.length; e6++)
      t49[e6] = arguments[e6];
    this.logLevel < Ro.Verbose || console.log("".concat(e_, "[Log]: ").concat(t49.join(" ")));
  }, t48.prototype.warn = function() {
    for (var t49 = [], e6 = 0; e6 < arguments.length; e6++)
      t49[e6] = arguments[e6];
    this.logLevel < Ro.Warn || console.warn("".concat(e_, "[Warn]: ").concat(t49.join(" ")));
  }, t48.prototype.error = function() {
    for (var t49 = [], e6 = 0; e6 < arguments.length; e6++)
      t49[e6] = arguments[e6];
    this.logLevel < Ro.Error || console.error("".concat(e_, "[Error]: ").concat(t49.join(" ")));
  }, t48.prototype.debug = function() {
    for (var t49 = [], e6 = 0; e6 < arguments.length; e6++)
      t49[e6] = arguments[e6];
    this.logLevel < Ro.Debug || console.log("".concat(e_, "[Debug]: ").concat(t49.join(" ")));
  }, t48;
}();
var t_ = q(function() {
  return { flushMaxRetries: 12, flushQueueSize: 200, flushIntervalMillis: 1e4, logLevel: Ro.Warn, loggerProvider: new UB(), optOut: false, serverUrl: eA, serverZone: _h.US, useBatch: false };
}, "getDefaultConfig");
var iA = function() {
  function t48(t49) {
    var e6, i, n;
    this._optOut = false;
    var r = t_();
    this.apiKey = t49.apiKey, this.flushIntervalMillis = t49.flushIntervalMillis || r.flushIntervalMillis, this.flushMaxRetries = t49.flushMaxRetries || r.flushMaxRetries, this.flushQueueSize = t49.flushQueueSize || r.flushQueueSize, this.loggerProvider = t49.loggerProvider || r.loggerProvider, this.logLevel = null !== (e6 = t49.logLevel) && void 0 !== e6 ? e6 : r.logLevel, this.minIdLength = t49.minIdLength, this.plan = t49.plan, this.ingestionMetadata = t49.ingestionMetadata, this.optOut = null !== (i = t49.optOut) && void 0 !== i ? i : r.optOut, this.serverUrl = t49.serverUrl, this.serverZone = t49.serverZone || r.serverZone, this.storageProvider = t49.storageProvider, this.transportProvider = t49.transportProvider, this.useBatch = null !== (n = t49.useBatch) && void 0 !== n ? n : r.useBatch, this.loggerProvider.enable(this.logLevel);
    var o3 = rA(t49.serverUrl, t49.serverZone, t49.useBatch);
    this.serverZone = o3.serverZone, this.serverUrl = o3.serverUrl;
  }
  return q(t48, "Config"), Object.defineProperty(t48.prototype, "optOut", { get: function() {
    return this._optOut;
  }, set: function(t49) {
    this._optOut = t49;
  }, enumerable: false, configurable: true }), t48;
}();
var wK = q(function(t48, e6) {
  return t48 === _h.EU ? e6 ? SB : EB : e6 ? TB : eA;
}, "getServerUrl");
var rA = q(function(t48, e6, i) {
  if (void 0 === t48 && (t48 = ""), void 0 === e6 && (e6 = t_().serverZone), void 0 === i && (i = t_().useBatch), t48)
    return { serverUrl: t48, serverZone: void 0 };
  var n = [_h.US, _h.EU].includes(e6) ? e6 : t_().serverZone;
  return { serverZone: n, serverUrl: wK(n, i) };
}, "createServerConfig");
var sA = function() {
  function t48() {
    this.name = "amplitude", this.type = ra.DESTINATION, this.retryTimeout = 1e3, this.throttleTimeout = 3e4, this.storageKey = "", this.scheduled = null, this.queue = [];
  }
  return q(t48, "Destination"), t48.prototype.setup = function(t49) {
    var e6;
    return Sr(this, void 0, void 0, function() {
      var i, n = this;
      return Ar(this, function(r) {
        switch (r.label) {
          case 0:
            return this.config = t49, this.storageKey = "".concat(MB, "_").concat(this.config.apiKey.substring(0, 10)), [4, null === (e6 = this.config.storageProvider) || void 0 === e6 ? void 0 : e6.get(this.storageKey)];
          case 1:
            return i = r.sent(), this.saveEvents(), i && i.length > 0 && Promise.all(i.map(function(t50) {
              return n.execute(t50);
            })).catch(), [2, Promise.resolve(void 0)];
        }
      });
    });
  }, t48.prototype.execute = function(t49) {
    var e6 = this;
    return new Promise(function(i) {
      var n = { event: t49, attempts: 0, callback: function(t50) {
        return i(t50);
      }, timeout: 0 };
      e6.addToQueue(n);
    });
  }, t48.prototype.addToQueue = function() {
    for (var t49 = this, e6 = [], i = 0; i < arguments.length; i++)
      e6[i] = arguments[i];
    var n = e6.filter(function(e10) {
      return e10.attempts < t49.config.flushMaxRetries ? (e10.attempts += 1, true) : (t49.fulfillRequest([e10], 500, NB), false);
    });
    n.forEach(function(e10) {
      t49.queue = t49.queue.concat(e10), 0 !== e10.timeout ? setTimeout(function() {
        e10.timeout = 0, t49.schedule(0);
      }, e10.timeout) : t49.schedule(t49.config.flushIntervalMillis);
    }), this.saveEvents();
  }, t48.prototype.schedule = function(t49) {
    var e6 = this;
    this.scheduled || (this.scheduled = setTimeout(function() {
      e6.flush(true).then(function() {
        e6.queue.length > 0 && e6.schedule(t49);
      });
    }, t49));
  }, t48.prototype.flush = function(t49) {
    return void 0 === t49 && (t49 = false), Sr(this, void 0, void 0, function() {
      var e6, i, n, r = this;
      return Ar(this, function(o3) {
        switch (o3.label) {
          case 0:
            return e6 = [], i = [], this.queue.forEach(function(t50) {
              return 0 === t50.timeout ? e6.push(t50) : i.push(t50);
            }), this.queue = i, this.scheduled && (clearTimeout(this.scheduled), this.scheduled = null), n = FB(e6, this.config.flushQueueSize), [4, Promise.all(n.map(function(e10) {
              return r.send(e10, t49);
            }))];
          case 1:
            return o3.sent(), [2];
        }
      });
    });
  }, t48.prototype.send = function(t49, e6) {
    return void 0 === e6 && (e6 = true), Sr(this, void 0, void 0, function() {
      var i, n, r, o3, s6;
      return Ar(this, function(a) {
        switch (a.label) {
          case 0:
            if (!this.config.apiKey)
              return [2, this.fulfillRequest(t49, 400, BB)];
            i = { api_key: this.config.apiKey, events: t49.map(function(t50) {
              var e10 = t50.event;
              e10.extra;
              return wB(e10, ["extra"]);
            }), options: { min_id_length: this.config.minIdLength } }, a.label = 1;
          case 1:
            return a.trys.push([1, 3, , 4]), n = rA(this.config.serverUrl, this.config.serverZone, this.config.useBatch).serverUrl, [4, this.config.transportProvider.send(n, i)];
          case 2:
            if (null === (r = a.sent()))
              return this.fulfillRequest(t49, 0, DB), [2];
            if (!e6) {
              if ("body" in r) {
                o3 = "";
                try {
                  o3 = JSON.stringify(r.body, null, 2);
                } catch {
                }
                this.fulfillRequest(t49, r.statusCode, "".concat(r.status, ": ").concat(o3));
              } else
                this.fulfillRequest(t49, r.statusCode, r.status);
              return [2];
            }
            return this.handleReponse(r, t49), [3, 4];
          case 3:
            return s6 = a.sent(), this.fulfillRequest(t49, 0, String(s6)), [3, 4];
          case 4:
            return [2];
        }
      });
    });
  }, t48.prototype.handleReponse = function(t49, e6) {
    switch (t49.status) {
      case mr.Success:
        this.handleSuccessResponse(t49, e6);
        break;
      case mr.Invalid:
        this.handleInvalidResponse(t49, e6);
        break;
      case mr.PayloadTooLarge:
        this.handlePayloadTooLargeResponse(t49, e6);
        break;
      case mr.RateLimit:
        this.handleRateLimitResponse(t49, e6);
        break;
      default:
        this.handleOtherReponse(e6);
    }
  }, t48.prototype.handleSuccessResponse = function(t49, e6) {
    this.fulfillRequest(e6, t49.statusCode, LB);
  }, t48.prototype.handleInvalidResponse = function(t49, e6) {
    var i = this;
    if (t49.body.missingField || t49.body.error.startsWith(kB))
      this.fulfillRequest(e6, t49.statusCode, t49.body.error);
    else {
      var n = Tl(Tl(Tl(Tl([], No(Object.values(t49.body.eventsWithInvalidFields)), false), No(Object.values(t49.body.eventsWithMissingFields)), false), No(Object.values(t49.body.eventsWithInvalidIdLengths)), false), No(t49.body.silencedEvents), false).flat(), r = new Set(n), o3 = e6.filter(function(e10, n10) {
        if (!r.has(n10))
          return true;
        i.fulfillRequest([e10], t49.statusCode, t49.body.error);
      });
      this.addToQueue.apply(this, Tl([], No(o3), false));
    }
  }, t48.prototype.handlePayloadTooLargeResponse = function(t49, e6) {
    1 !== e6.length ? (this.config.flushQueueSize /= 2, this.addToQueue.apply(this, Tl([], No(e6), false))) : this.fulfillRequest(e6, t49.statusCode, t49.body.error);
  }, t48.prototype.handleRateLimitResponse = function(t49, e6) {
    var i = this, n = Object.keys(t49.body.exceededDailyQuotaUsers), r = Object.keys(t49.body.exceededDailyQuotaDevices), o3 = t49.body.throttledEvents, s6 = new Set(n), a = new Set(r), l = new Set(o3), u2 = e6.filter(function(e10, n10) {
      if (!(e10.event.user_id && s6.has(e10.event.user_id) || e10.event.device_id && a.has(e10.event.device_id)))
        return l.has(n10) && (e10.timeout = i.throttleTimeout), true;
      i.fulfillRequest([e10], t49.statusCode, t49.body.error);
    });
    this.addToQueue.apply(this, Tl([], No(u2), false));
  }, t48.prototype.handleOtherReponse = function(t49) {
    var e6 = this;
    this.addToQueue.apply(this, Tl([], No(t49.map(function(t50) {
      return t50.timeout = t50.attempts * e6.retryTimeout, t50;
    })), false));
  }, t48.prototype.fulfillRequest = function(t49, e6, i) {
    this.saveEvents(), t49.forEach(function(t50) {
      return t50.callback(Mh(t50.event, e6, i));
    });
  }, t48.prototype.saveEvents = function() {
    if (this.config.storageProvider) {
      var t49 = Array.from(this.queue.map(function(t50) {
        return t50.event;
      }));
      this.config.storageProvider.set(this.storageKey, t49);
    }
  }, t48;
}();
c();
var Wa = q(function(t48) {
  return function() {
    for (var e6 = [], i = 0; i < arguments.length; i++)
      e6[i] = arguments[i];
    return { promise: t48.apply(void 0, Tl([], No(e6), false)) };
  };
}, "returnWrapper");
c();
var MK = q(function(t48) {
  return void 0 === t48 && (t48 = 0), (new Error().stack || "").split("\n").slice(2 + t48).map(function(t49) {
    return t49.trim();
  });
}, "getStacktrace");
var zr = q(function(t48) {
  return function() {
    var e6 = cr({}, t48.config);
    return { logger: e6.loggerProvider, logLevel: e6.logLevel };
  };
}, "getClientLogConfig");
var EK = q(function(t48, e6) {
  var i, n;
  e6 = (e6 = e6.replace(/\[(\w+)\]/g, ".$1")).replace(/^\./, "");
  try {
    for (var r = su(e6.split(".")), o3 = r.next(); !o3.done; o3 = r.next()) {
      var s6 = o3.value;
      if (!(s6 in t48))
        return;
      t48 = t48[s6];
    }
  } catch (t49) {
    i = { error: t49 };
  } finally {
    try {
      o3 && !o3.done && (n = r.return) && n.call(r);
    } finally {
      if (i)
        throw i.error;
    }
  }
  return t48;
}, "getValueByStringPath");
var Gr = q(function(t48, e6) {
  return function() {
    var i, n, r = {};
    try {
      for (var o3 = su(e6), s6 = o3.next(); !s6.done; s6 = o3.next()) {
        var a = s6.value;
        r[a] = EK(t48, a);
      }
    } catch (t49) {
      i = { error: t49 };
    } finally {
      try {
        s6 && !s6.done && (n = o3.return) && n.call(o3);
      } finally {
        if (i)
          throw i.error;
      }
    }
    return r;
  };
}, "getClientStates");
var Vr = q(function(t48, e6, i, n, r) {
  return void 0 === r && (r = null), function() {
    for (var o3 = [], s6 = 0; s6 < arguments.length; s6++)
      o3[s6] = arguments[s6];
    var a = i(), l = a.logger, u2 = a.logLevel;
    if (u2 && u2 < Ro.Debug || !u2 || !l)
      return t48.apply(r, o3);
    var h = { type: "invoke public method", name: e6, args: o3, stacktrace: MK(1), time: { start: (/* @__PURE__ */ new Date()).toISOString() }, states: {} };
    n && h.states && (h.states.before = n());
    var c2 = t48.apply(r, o3);
    return c2 && c2.promise ? c2.promise.then(function() {
      n && h.states && (h.states.after = n()), h.time && (h.time.end = (/* @__PURE__ */ new Date()).toISOString()), l.debug(JSON.stringify(h, null, 2));
    }) : (n && h.states && (h.states.after = n()), h.time && (h.time.end = (/* @__PURE__ */ new Date()).toISOString()), l.debug(JSON.stringify(h, null, 2))), c2;
  };
}, "debugWrapper");
c();
var Eh = q(function(t48) {
  return t48 ? (t48 ^ 16 * Math.random() >> t48 / 4).toString(16) : (String(1e7) + String(-1e3) + String(-4e3) + String(-8e3) + String(-1e11)).replace(/[018]/g, Eh);
}, "UUID");
c();
var O0 = function() {
  function t48() {
    this.memoryStorage = /* @__PURE__ */ new Map();
  }
  return q(t48, "MemoryStorage"), t48.prototype.isEnabled = function() {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(t49) {
        return [2, true];
      });
    });
  }, t48.prototype.get = function(t49) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(e6) {
        return [2, this.memoryStorage.get(t49)];
      });
    });
  }, t48.prototype.getRaw = function(t49) {
    return Sr(this, void 0, void 0, function() {
      var e6;
      return Ar(this, function(i) {
        switch (i.label) {
          case 0:
            return [4, this.get(t49)];
          case 1:
            return [2, (e6 = i.sent()) ? JSON.stringify(e6) : void 0];
        }
      });
    });
  }, t48.prototype.set = function(t49, e6) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(i) {
        return this.memoryStorage.set(t49, e6), [2];
      });
    });
  }, t48.prototype.remove = function(t49) {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(e6) {
        return this.memoryStorage.delete(t49), [2];
      });
    });
  }, t48.prototype.reset = function() {
    return Sr(this, void 0, void 0, function() {
      return Ar(this, function(t49) {
        return this.memoryStorage.clear(), [2];
      });
    });
  }, t48;
}();
c();
var Uf = function() {
  function t48() {
  }
  return q(t48, "BaseTransport"), t48.prototype.send = function(t49, e6) {
    return Promise.resolve(null);
  }, t48.prototype.buildResponse = function(t49) {
    var e6, i, n, r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m, v4, y4, x4, _, b, M;
    if ("object" != typeof t49)
      return null;
    var E = t49.code || 0, w4 = this.buildStatus(E);
    switch (w4) {
      case mr.Success:
        return { status: w4, statusCode: E, body: { eventsIngested: null !== (e6 = t49.events_ingested) && void 0 !== e6 ? e6 : 0, payloadSizeBytes: null !== (i = t49.payload_size_bytes) && void 0 !== i ? i : 0, serverUploadTime: null !== (n = t49.server_upload_time) && void 0 !== n ? n : 0 } };
      case mr.Invalid:
        return { status: w4, statusCode: E, body: { error: null !== (r = t49.error) && void 0 !== r ? r : "", missingField: null !== (o3 = t49.missing_field) && void 0 !== o3 ? o3 : "", eventsWithInvalidFields: null !== (s6 = t49.events_with_invalid_fields) && void 0 !== s6 ? s6 : {}, eventsWithMissingFields: null !== (a = t49.events_with_missing_fields) && void 0 !== a ? a : {}, eventsWithInvalidIdLengths: null !== (l = t49.events_with_invalid_id_lengths) && void 0 !== l ? l : {}, epsThreshold: null !== (u2 = t49.eps_threshold) && void 0 !== u2 ? u2 : 0, exceededDailyQuotaDevices: null !== (h = t49.exceeded_daily_quota_devices) && void 0 !== h ? h : {}, silencedDevices: null !== (c2 = t49.silenced_devices) && void 0 !== c2 ? c2 : [], silencedEvents: null !== (p4 = t49.silenced_events) && void 0 !== p4 ? p4 : [], throttledDevices: null !== (d = t49.throttled_devices) && void 0 !== d ? d : {}, throttledEvents: null !== (f = t49.throttled_events) && void 0 !== f ? f : [] } };
      case mr.PayloadTooLarge:
        return { status: w4, statusCode: E, body: { error: null !== (g = t49.error) && void 0 !== g ? g : "" } };
      case mr.RateLimit:
        return { status: w4, statusCode: E, body: { error: null !== (m = t49.error) && void 0 !== m ? m : "", epsThreshold: null !== (v4 = t49.eps_threshold) && void 0 !== v4 ? v4 : 0, throttledDevices: null !== (y4 = t49.throttled_devices) && void 0 !== y4 ? y4 : {}, throttledUsers: null !== (x4 = t49.throttled_users) && void 0 !== x4 ? x4 : {}, exceededDailyQuotaDevices: null !== (_ = t49.exceeded_daily_quota_devices) && void 0 !== _ ? _ : {}, exceededDailyQuotaUsers: null !== (b = t49.exceeded_daily_quota_users) && void 0 !== b ? b : {}, throttledEvents: null !== (M = t49.throttled_events) && void 0 !== M ? M : [] } };
      case mr.Timeout:
      default:
        return { status: w4, statusCode: E };
    }
  }, t48.prototype.buildStatus = function(t49) {
    return t49 >= 200 && t49 < 300 ? mr.Success : 429 === t49 ? mr.RateLimit : 413 === t49 ? mr.PayloadTooLarge : 408 === t49 ? mr.Timeout : t49 >= 400 && t49 < 500 ? mr.Invalid : t49 >= 500 ? mr.Failed : mr.Unknown;
  }, t48;
}();
c(), c(), c();
var oA = q(function(t48, e6) {
  return (oA = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t49, e10) {
    t49.__proto__ = e10;
  } || function(t49, e10) {
    for (var i in e10)
      Object.prototype.hasOwnProperty.call(e10, i) && (t49[i] = e10[i]);
  })(t48, e6);
}, "extendStatics");
function zB(t48, e6) {
  if ("function" != typeof e6 && null !== e6)
    throw new TypeError("Class extends value " + String(e6) + " is not a constructor or null");
  function i() {
    this.constructor = t48;
  }
  oA(t48, e6), q(i, "__"), t48.prototype = null === e6 ? Object.create(e6) : (i.prototype = e6.prototype, new i());
}
q(zB, "__extends");
var eo = q(function() {
  return eo = Object.assign || q(function(t48) {
    for (var e6, i = 1, n = arguments.length; i < n; i++)
      for (var r in e6 = arguments[i])
        Object.prototype.hasOwnProperty.call(e6, r) && (t48[r] = e6[r]);
    return t48;
  }, "__assign"), eo.apply(this, arguments);
}, "__assign");
function aA(t48, e6) {
  var i = {};
  for (var n in t48)
    Object.prototype.hasOwnProperty.call(t48, n) && e6.indexOf(n) < 0 && (i[n] = t48[n]);
  if (null != t48 && "function" == typeof Object.getOwnPropertySymbols) {
    var r = 0;
    for (n = Object.getOwnPropertySymbols(t48); r < n.length; r++)
      e6.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(t48, n[r]) && (i[n[r]] = t48[n[r]]);
  }
  return i;
}
function fs(t48, e6, i, n) {
  function r(t49) {
    return t49 instanceof i ? t49 : new i(function(e10) {
      e10(t49);
    });
  }
  return q(r, "adopt"), new (i || (i = Promise))(function(i10, o3) {
    function s6(t49) {
      try {
        l(n.next(t49));
      } catch (t50) {
        o3(t50);
      }
    }
    function a(t49) {
      try {
        l(n.throw(t49));
      } catch (t50) {
        o3(t50);
      }
    }
    function l(t49) {
      t49.done ? i10(t49.value) : r(t49.value).then(s6, a);
    }
    q(s6, "fulfilled"), q(a, "rejected"), q(l, "step"), l((n = n.apply(t48, e6 || [])).next());
  });
}
function ps(t48, e6) {
  var i, n, r, o3, s6 = { label: 0, sent: function() {
    if (1 & r[0])
      throw r[1];
    return r[1];
  }, trys: [], ops: [] };
  return o3 = { next: a(0), throw: a(1), return: a(2) }, "function" == typeof Symbol && (o3[Symbol.iterator] = function() {
    return this;
  }), o3;
  function a(a3) {
    return function(l) {
      return function(a7) {
        if (i)
          throw new TypeError("Generator is already executing.");
        for (; o3 && (o3 = 0, a7[0] && (s6 = 0)), s6; )
          try {
            if (i = 1, n && (r = 2 & a7[0] ? n.return : a7[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, a7[1])).done)
              return r;
            switch (n = 0, r && (a7 = [2 & a7[0], r.value]), a7[0]) {
              case 0:
              case 1:
                r = a7;
                break;
              case 4:
                return s6.label++, { value: a7[1], done: false };
              case 5:
                s6.label++, n = a7[1], a7 = [0];
                continue;
              case 7:
                a7 = s6.ops.pop(), s6.trys.pop();
                continue;
              default:
                if (!(r = (r = s6.trys).length > 0 && r[r.length - 1]) && (6 === a7[0] || 2 === a7[0])) {
                  s6 = 0;
                  continue;
                }
                if (3 === a7[0] && (!r || a7[1] > r[0] && a7[1] < r[3])) {
                  s6.label = a7[1];
                  break;
                }
                if (6 === a7[0] && s6.label < r[1]) {
                  s6.label = r[1], r = a7;
                  break;
                }
                if (r && s6.label < r[2]) {
                  s6.label = r[2], s6.ops.push(a7);
                  break;
                }
                r[2] && s6.ops.pop(), s6.trys.pop();
                continue;
            }
            a7 = e6.call(t48, s6);
          } catch (t49) {
            a7 = [6, t49], n = 0;
          } finally {
            i = r = 0;
          }
        if (5 & a7[0])
          throw a7[1];
        return { value: a7[0] ? a7[1] : void 0, done: true };
      }([a3, l]);
    };
  }
}
function GB(t48, e6) {
  var i = "function" == typeof Symbol && t48[Symbol.iterator];
  if (!i)
    return t48;
  var n, r, o3 = i.call(t48), s6 = [];
  try {
    for (; (void 0 === e6 || e6-- > 0) && !(n = o3.next()).done; )
      s6.push(n.value);
  } catch (t49) {
    r = { error: t49 };
  } finally {
    try {
      n && !n.done && (i = o3.return) && i.call(o3);
    } finally {
      if (r)
        throw r.error;
    }
  }
  return s6;
}
q(aA, "__rest"), q(fs, "__awaiter"), q(ps, "__generator"), q(GB, "__read"), c(), c();
var Bo = q(function() {
  return typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof self < "u" ? self : typeof global < "u" ? global : void 0;
}, "getGlobalScope");
var Pd = q(function() {
  var t48, e6 = Bo();
  return null !== (t48 = null == e6 ? void 0 : e6.location) && void 0 !== t48 && t48.search ? e6.location.search.substring(1).split("&").filter(Boolean).reduce(function(t49, e10) {
    var i = e10.split("=", 2), n = VB(i[0]), r = VB(i[1]);
    return r && (t49[n] = r), t49;
  }, {}) : {};
}, "getQueryParams");
var VB = q(function(t48) {
  void 0 === t48 && (t48 = "");
  try {
    return decodeURIComponent(t48);
  } catch {
    return "";
  }
}, "tryDecodeURIComponent");
c();
var HB = "utm_campaign";
var jB = "utm_content";
var WB = "utm_id";
var YB = "utm_medium";
var XB = "utm_source";
var ZB = "utm_term";
var lA = "dclid";
var uA = "fbclid";
var cA = "gbraid";
var hA = "gclid";
var fA = "ko_click_id";
var pA = "msclkid";
var dA = "ttclid";
var mA = "twclid";
var gA = "wbraid";
var QB = "EMPTY";
var n_ = { utm_campaign: void 0, utm_content: void 0, utm_id: void 0, utm_medium: void 0, utm_source: void 0, utm_term: void 0, referrer: void 0, referring_domain: void 0, dclid: void 0, gbraid: void 0, gclid: void 0, fbclid: void 0, ko_click_id: void 0, msclkid: void 0, ttclid: void 0, twclid: void 0, wbraid: void 0 };
var KB = "MKTG";
var JB = function() {
  function t48() {
  }
  return q(t48, "CampaignParser"), t48.prototype.parse = function() {
    return fs(this, void 0, void 0, function() {
      return ps(this, function(t49) {
        return [2, eo(eo(eo(eo({}, n_), this.getUtmParam()), this.getReferrer()), this.getClickIds())];
      });
    });
  }, t48.prototype.getUtmParam = function() {
    var t49 = Pd();
    return { utm_campaign: t49[HB], utm_content: t49[jB], utm_id: t49[WB], utm_medium: t49[YB], utm_source: t49[XB], utm_term: t49[ZB] };
  }, t48.prototype.getReferrer = function() {
    var t49, e6, i = { referrer: void 0, referring_domain: void 0 };
    try {
      i.referrer = document.referrer || void 0, i.referring_domain = null !== (e6 = null === (t49 = i.referrer) || void 0 === t49 ? void 0 : t49.split("/")[2]) && void 0 !== e6 ? e6 : void 0;
    } catch {
    }
    return i;
  }, t48.prototype.getClickIds = function() {
    var t49, e6 = Pd();
    return (t49 = {})[lA] = e6[lA], t49[uA] = e6[uA], t49[cA] = e6[cA], t49[hA] = e6[hA], t49[fA] = e6[fA], t49[pA] = e6[pA], t49[dA] = e6[dA], t49[mA] = e6[mA], t49[gA] = e6[gA], t49;
  }, t48;
}();
c(), c();
var zf = q(function(t48, e6, i) {
  return void 0 === e6 && (e6 = ""), void 0 === i && (i = 10), [P0, e6, t48.substring(0, i)].filter(Boolean).join("_");
}, "getCookieName");
var vA = q(function(t48) {
  return "".concat(P0.toLowerCase(), "_").concat(t48.substring(0, 6));
}, "getOldCookieName");
var yA = function() {
  function t48(t49, e6) {
    var i, n;
    this.storage = e6.storage, this.storageKey = zf(t49, KB), this.parser = new JB(), this.track = e6.track, this.onNewCampaign = e6.onNewCampaign, this.disabled = !!e6.disabled, this.trackNewCampaigns = !!e6.trackNewCampaigns, this.trackPageViews = !!e6.trackPageViews, this.excludeReferrers = null !== (i = e6.excludeReferrers) && void 0 !== i ? i : [], typeof location < "u" && this.excludeReferrers.unshift(location.hostname), this.initialEmptyValue = null !== (n = e6.initialEmptyValue) && void 0 !== n ? n : QB;
  }
  return q(t48, "CampaignTracker"), t48.prototype.isNewCampaign = function(t49, e6, i) {
    void 0 === i && (i = false);
    t49.referrer;
    var n = t49.referring_domain, r = aA(t49, ["referrer", "referring_domain"]), o3 = e6 || {}, s6 = (o3.referrer, o3.referring_domain), a = aA(o3, ["referrer", "referring_domain"]);
    if (t49.referring_domain && this.excludeReferrers.includes(t49.referring_domain))
      return false;
    var l = JSON.stringify(r) !== JSON.stringify(a), u2 = i ? $B(n || "") !== $B(s6 || "") : n !== s6;
    return !e6 || l || u2;
  }, t48.prototype.saveCampaignToStorage = function(t49) {
    return fs(this, void 0, void 0, function() {
      return ps(this, function(e6) {
        switch (e6.label) {
          case 0:
            return [4, this.storage.set(this.storageKey, t49)];
          case 1:
            return e6.sent(), [2];
        }
      });
    });
  }, t48.prototype.getCampaignFromStorage = function() {
    return fs(this, void 0, void 0, function() {
      return ps(this, function(t49) {
        switch (t49.label) {
          case 0:
            return [4, this.storage.get(this.storageKey)];
          case 1:
            return [2, t49.sent()];
        }
      });
    });
  }, t48.prototype.createCampaignEvent = function(t49) {
    var e6 = this, i = eo(eo({}, n_), t49), n = Object.entries(i).reduce(function(t50, i10) {
      var n10 = GB(i10, 2), r6 = n10[0], o3 = n10[1];
      return t50.setOnce("initial_".concat(r6), o3 || e6.initialEmptyValue), o3 ? t50.set(r6, o3) : t50.unset(r6);
    }, new Sl()), r = { event_type: "Page View", event_properties: { page_title: typeof document < "u" && document.title || "", page_location: typeof location < "u" && location.href || "", page_path: typeof location < "u" && location.pathname || "" } };
    return eo(eo({}, I0(n)), this.trackPageViews && r);
  }, t48.prototype.send = function(t49) {
    return fs(this, void 0, void 0, function() {
      var e6, i;
      return ps(this, function(n) {
        switch (n.label) {
          case 0:
            return this.disabled ? [2] : [4, this.parser.parse()];
          case 1:
            return e6 = n.sent(), [4, this.getCampaignFromStorage()];
          case 2:
            if (i = n.sent(), !t49) {
              if (!this.trackNewCampaigns || !this.isNewCampaign(e6, i))
                return [2];
              this.onNewCampaign(e6);
            }
            return [4, this.track(this.createCampaignEvent(e6))];
          case 3:
            return n.sent(), [4, this.saveCampaignToStorage(e6)];
          case 4:
            return n.sent(), [2];
        }
      });
    });
  }, t48;
}();
var $B = q(function(t48) {
  var e6 = t48.split(".");
  return e6.length <= 2 ? t48 : e6.slice(e6.length - 2, e6.length).join(".");
}, "domainWithoutSubdomain");
c();
var Gf = function() {
  function t48(t49) {
    this.options = eo({}, t49);
  }
  return q(t48, "CookieStorage"), t48.prototype.isEnabled = function() {
    return fs(this, void 0, void 0, function() {
      var e6, i, n;
      return ps(this, function(r) {
        switch (r.label) {
          case 0:
            if (!Bo())
              return [2, false];
            e6 = String(Date.now()), i = new t48(this.options), n = "AMP_TEST", r.label = 1;
          case 1:
            return r.trys.push([1, 4, 5, 7]), [4, i.set(n, e6)];
          case 2:
            return r.sent(), [4, i.get(n)];
          case 3:
            return [2, r.sent() === e6];
          case 4:
            return r.sent(), [2, false];
          case 5:
            return [4, i.remove(n)];
          case 6:
            return r.sent(), [7];
          case 7:
            return [2];
        }
      });
    });
  }, t48.prototype.get = function(t49) {
    return fs(this, void 0, void 0, function() {
      var e6;
      return ps(this, function(i) {
        switch (i.label) {
          case 0:
            return [4, this.getRaw(t49)];
          case 1:
            if (!(e6 = i.sent()))
              return [2, void 0];
            try {
              try {
                e6 = decodeURIComponent(atob(e6));
              } catch {
              }
              return [2, JSON.parse(e6)];
            } catch {
              return [2, void 0];
            }
            return [2];
        }
      });
    });
  }, t48.prototype.getRaw = function(t49) {
    var e6;
    return fs(this, void 0, void 0, function() {
      var i, n, r;
      return ps(this, function(o3) {
        return i = Bo(), n = null !== (e6 = null == i ? void 0 : i.document.cookie.split("; ")) && void 0 !== e6 ? e6 : [], (r = n.find(function(e10) {
          return 0 === e10.indexOf(t49 + "=");
        })) ? [2, r.substring(t49.length + 1)] : [2, void 0];
      });
    });
  }, t48.prototype.set = function(t49, e6) {
    var i;
    return fs(this, void 0, void 0, function() {
      var n, r, o3, s6, a, l;
      return ps(this, function(u2) {
        try {
          n = null !== (i = this.options.expirationDays) && void 0 !== i ? i : 0, o3 = void 0, (r = null !== e6 ? n : -1) && ((s6 = /* @__PURE__ */ new Date()).setTime(s6.getTime() + 24 * r * 60 * 60 * 1e3), o3 = s6), a = "".concat(t49, "=").concat(btoa(encodeURIComponent(JSON.stringify(e6)))), o3 && (a += "; expires=".concat(o3.toUTCString())), a += "; path=/", this.options.domain && (a += "; domain=".concat(this.options.domain)), this.options.secure && (a += "; Secure"), this.options.sameSite && (a += "; SameSite=".concat(this.options.sameSite)), (l = Bo()) && (l.document.cookie = a);
        } catch {
        }
        return [2];
      });
    });
  }, t48.prototype.remove = function(t49) {
    return fs(this, void 0, void 0, function() {
      return ps(this, function(e6) {
        switch (e6.label) {
          case 0:
            return [4, this.set(t49, null)];
          case 1:
            return e6.sent(), [2];
        }
      });
    });
  }, t48.prototype.reset = function() {
    return fs(this, void 0, void 0, function() {
      return ps(this, function(t49) {
        return [2];
      });
    });
  }, t48;
}();
c();
var i_ = function() {
  function t48(t49, e6) {
    this.storage = t49, this.storageKey = zf(e6), this.cache = { optOut: false };
  }
  return q(t48, "SessionManager"), t48.prototype.load = function() {
    var t49;
    return fs(this, void 0, void 0, function() {
      var e6;
      return ps(this, function(i) {
        switch (i.label) {
          case 0:
            return e6 = this, [4, this.storage.get(this.storageKey)];
          case 1:
            return e6.cache = null !== (t49 = i.sent()) && void 0 !== t49 ? t49 : { optOut: false }, [2, this];
        }
      });
    });
  }, t48.prototype.setSession = function(t49) {
    this.cache = eo(eo({}, this.cache), t49), this.storage.set(this.storageKey, this.cache);
  }, t48.prototype.getSessionId = function() {
    return this.cache.sessionId;
  }, t48.prototype.setSessionId = function(t49) {
    this.setSession({ sessionId: t49 });
  }, t48.prototype.getDeviceId = function() {
    return this.cache.deviceId;
  }, t48.prototype.setDeviceId = function(t49) {
    this.setSession({ deviceId: t49 });
  }, t48.prototype.getUserId = function() {
    return this.cache.userId;
  }, t48.prototype.setUserId = function(t49) {
    this.setSession({ userId: t49 });
  }, t48.prototype.getLastEventTime = function() {
    return this.cache.lastEventTime;
  }, t48.prototype.setLastEventTime = function(t49) {
    this.setSession({ lastEventTime: t49 });
  }, t48.prototype.getOptOut = function() {
    return this.cache.optOut;
  }, t48.prototype.setOptOut = function(t49) {
    this.setSession({ optOut: t49 });
  }, t48.prototype.getLastEventId = function() {
    return this.cache.lastEventId;
  }, t48.prototype.setLastEventId = function(t49) {
    this.setSession({ lastEventId: t49 });
  }, t48;
}();
c();
var xA = function(t48) {
  function e6() {
    return null !== t48 && t48.apply(this, arguments) || this;
  }
  return zB(e6, t48), q(e6, "FetchTransport"), e6.prototype.send = function(t49, e10) {
    return fs(this, void 0, void 0, function() {
      var i, n;
      return ps(this, function(r) {
        switch (r.label) {
          case 0:
            if (typeof fetch > "u")
              throw new Error("FetchTransport is not supported");
            return i = { headers: { "Content-Type": "application/json", Accept: "*/*" }, body: JSON.stringify(e10), method: "POST" }, [4, fetch(t49, i)];
          case 1:
            return [4, r.sent().json()];
          case 2:
            return n = r.sent(), [2, this.buildResponse(n)];
        }
      });
    });
  }, e6;
}(Uf);
c(), c();
var ek = u(bA());
var TK = function() {
  function t48() {
    this.ua = new ek.UAParser(typeof navigator < "u" ? navigator.userAgent : null).getResult();
  }
  return q(t48, "ApplicationContextProviderImpl"), t48.prototype.getApplicationContext = function() {
    return { versionName: this.versionName, language: CK(), platform: "Web", os: SK(this.ua), deviceModel: AK(this.ua) };
  }, t48;
}();
var SK = q(function(t48) {
  var e6, i;
  return [null === (e6 = t48.browser) || void 0 === e6 ? void 0 : e6.name, null === (i = t48.browser) || void 0 === i ? void 0 : i.major].filter(function(t49) {
    return null != t49;
  }).join(" ");
}, "getOs");
var AK = q(function(t48) {
  var e6;
  return null === (e6 = t48.os) || void 0 === e6 ? void 0 : e6.name;
}, "getDeviceModel");
var CK = q(function() {
  return typeof navigator < "u" && (navigator.languages && navigator.languages[0] || navigator.language) || "";
}, "getLanguage");
var PK = function() {
  function t48() {
    this.queue = [];
  }
  return q(t48, "EventBridgeImpl"), t48.prototype.logEvent = function(t49) {
    this.receiver ? this.receiver(t49) : this.queue.length < 512 && this.queue.push(t49);
  }, t48.prototype.setEventReceiver = function(t49) {
    this.receiver = t49, this.queue.length > 0 && (this.queue.forEach(function(e6) {
      t49(e6);
    }), this.queue = []);
  }, t48;
}();
var Th = q(function() {
  return Th = Object.assign || q(function(t48) {
    for (var e6, i = 1, n = arguments.length; i < n; i++)
      for (var r in e6 = arguments[i])
        Object.prototype.hasOwnProperty.call(e6, r) && (t48[r] = e6[r]);
    return t48;
  }, "__assign"), Th.apply(this, arguments);
}, "__assign");
var s_ = q(function(t48, e6) {
  var i = typeof t48;
  if (i !== typeof e6)
    return false;
  for (var n = 0, r = ["string", "number", "boolean", "undefined"]; n < r.length; n++) {
    if (r[n] === i)
      return t48 === e6;
  }
  if (null == t48 && null == e6)
    return true;
  if (null == t48 || null == e6 || t48.length !== e6.length)
    return false;
  var o3 = Array.isArray(t48), s6 = Array.isArray(e6);
  if (o3 !== s6)
    return false;
  if (!o3 || !s6) {
    var a = Object.keys(t48).sort(), l = Object.keys(e6).sort();
    if (!s_(a, l))
      return false;
    var u2 = true;
    return Object.keys(t48).forEach(function(i10) {
      s_(t48[i10], e6[i10]) || (u2 = false);
    }), u2;
  }
  for (var h = 0; h < t48.length; h++)
    if (!s_(t48[h], e6[h]))
      return false;
  return true;
}, "isEqual");
var IK = "$set";
var OK = "$unset";
var LK = "$clearAll";
Object.entries || (Object.entries = function(t48) {
  for (var e6 = Object.keys(t48), i = e6.length, n = new Array(i); i--; )
    n[i] = [e6[i], t48[e6[i]]];
  return n;
});
var DK = function() {
  function t48() {
    this.identity = { userProperties: {} }, this.listeners = /* @__PURE__ */ new Set();
  }
  return q(t48, "IdentityStoreImpl"), t48.prototype.editIdentity = function() {
    var t49 = this, e6 = Th({}, this.identity.userProperties), i = Th(Th({}, this.identity), { userProperties: e6 });
    return { setUserId: function(t50) {
      return i.userId = t50, this;
    }, setDeviceId: function(t50) {
      return i.deviceId = t50, this;
    }, setUserProperties: function(t50) {
      return i.userProperties = t50, this;
    }, updateUserProperties: function(t50) {
      for (var e10 = i.userProperties || {}, n = 0, r = Object.entries(t50); n < r.length; n++) {
        var o3 = r[n], s6 = o3[0], a = o3[1];
        switch (s6) {
          case IK:
            for (var l = 0, u2 = Object.entries(a); l < u2.length; l++) {
              var h = u2[l], c2 = h[0], p4 = h[1];
              e10[c2] = p4;
            }
            break;
          case OK:
            for (var d = 0, f = Object.keys(a); d < f.length; d++) {
              delete e10[c2 = f[d]];
            }
            break;
          case LK:
            e10 = {};
        }
      }
      return i.userProperties = e10, this;
    }, commit: function() {
      return t49.setIdentity(i), this;
    } };
  }, t48.prototype.getIdentity = function() {
    return Th({}, this.identity);
  }, t48.prototype.setIdentity = function(t49) {
    var e6 = Th({}, this.identity);
    this.identity = Th({}, t49), s_(e6, this.identity) || this.listeners.forEach(function(e10) {
      e10(t49);
    });
  }, t48.prototype.addIdentityListener = function(t49) {
    this.listeners.add(t49);
  }, t48.prototype.removeIdentityListener = function(t49) {
    this.listeners.delete(t49);
  }, t48;
}();
var D0 = typeof globalThis < "u" ? globalThis : typeof global < "u" ? global : self;
var tk = function() {
  function t48() {
    this.identityStore = new DK(), this.eventBridge = new PK(), this.applicationContextProvider = new TK();
  }
  return q(t48, "AnalyticsConnector"), t48.getInstance = function(e6) {
    return D0.analyticsConnectorInstances || (D0.analyticsConnectorInstances = {}), D0.analyticsConnectorInstances[e6] || (D0.analyticsConnectorInstances[e6] = new t48()), D0.analyticsConnectorInstances[e6];
  }, t48;
}();
var N0 = q(function() {
  return tk.getInstance("$default_instance");
}, "getAnalyticsConnector");
c();
var _A = function() {
  function t48() {
    this.name = "identity", this.type = ra.BEFORE, this.identityStore = N0().identityStore;
  }
  return q(t48, "IdentityEventSender"), t48.prototype.execute = function(t49) {
    return fs(this, void 0, void 0, function() {
      var e6;
      return ps(this, function(i) {
        return (e6 = t49.user_properties) && this.identityStore.editIdentity().updateUserProperties(e6).commit(), [2, t49];
      });
    });
  }, t48.prototype.setup = function(t49) {
    return Promise.resolve(void 0);
  }, t48;
}();
c();
var wA = q(function() {
  var t48, e6, i, n;
  if (typeof navigator > "u")
    return "";
  var r = navigator.userLanguage;
  return null !== (n = null !== (i = null !== (e6 = null === (t48 = navigator.languages) || void 0 === t48 ? void 0 : t48[0]) && void 0 !== e6 ? e6 : navigator.language) && void 0 !== i ? i : r) && void 0 !== n ? n : "";
}, "getLanguage");
c();
var o_ = q(function(t48, e6) {
  for (var i = 0; i < e6.length; i++) {
    var n = e6[i], r = n.name, o3 = n.args, s6 = n.resolve, a = t48 && t48[r];
    if ("function" == typeof a) {
      var l = a.apply(t48, o3);
      "function" == typeof s6 && s6(null == l ? void 0 : l.promise);
    }
  }
  return t48;
}, "convertProxyObjectToRealObject");
var a_ = q(function(t48) {
  return t48 && void 0 !== t48._q;
}, "isInstanceProxy");
c();
var ik = u(bA());
c();
var nk = "1.6.8";
var NK = "Web";
var RK = "$remote";
var rk = function() {
  function t48() {
    var t49;
    this.name = "context", this.type = ra.BEFORE, this.eventId = 0, this.library = "amplitude-ts/".concat(nk), typeof navigator < "u" && (t49 = navigator.userAgent), this.uaResult = new ik.default(t49).getResult();
  }
  return q(t48, "Context"), t48.prototype.setup = function(t49) {
    return this.config = t49, Promise.resolve(void 0);
  }, t48.prototype.execute = function(t49) {
    return lr(this, void 0, void 0, function() {
      var e6, i, n, r, o3;
      return ur(this, function(s6) {
        return this.isSessionValid() || (this.config.sessionId = Date.now()), this.config.lastEventTime = Date.now(), e6 = (/* @__PURE__ */ new Date()).getTime(), i = this.uaResult.browser.name, n = this.uaResult.browser.version, r = this.uaResult.device.model || this.uaResult.os.name, o3 = this.uaResult.device.vendor, [2, _i(_i(_i(_i(_i(_i(_i(_i(_i(_i(_i(_i({ user_id: this.config.userId, device_id: this.config.deviceId, session_id: this.config.sessionId, time: e6 }, this.config.appVersion && { app_version: this.config.appVersion }), this.config.trackingOptions.platform && { platform: NK }), this.config.trackingOptions.osName && { os_name: i }), this.config.trackingOptions.osVersion && { os_version: n }), this.config.trackingOptions.deviceManufacturer && { device_manufacturer: o3 }), this.config.trackingOptions.deviceModel && { device_model: r }), this.config.trackingOptions.language && { language: wA() }), this.config.trackingOptions.ipAddress && { ip: RK }), { insert_id: Eh(), partner_id: this.config.partnerId, plan: this.config.plan }), this.config.ingestionMetadata && { ingestion_metadata: { source_name: this.config.ingestionMetadata.sourceName, source_version: this.config.ingestionMetadata.sourceVersion } }), t49), { event_id: this.eventId++, library: this.library })];
      });
    });
  }, t48.prototype.isSessionValid = function() {
    var t49 = this.config.lastEventTime || Date.now();
    return Date.now() - t49 < this.config.sessionTimeout;
  }, t48;
}();
c(), c();
var R0 = function() {
  function t48() {
  }
  return q(t48, "LocalStorage"), t48.prototype.isEnabled = function() {
    return lr(this, void 0, void 0, function() {
      var e6, i, n;
      return ur(this, function(r) {
        switch (r.label) {
          case 0:
            if (!Bo())
              return [2, false];
            e6 = String(Date.now()), i = new t48(), n = "AMP_TEST", r.label = 1;
          case 1:
            return r.trys.push([1, 4, 5, 7]), [4, i.set(n, e6)];
          case 2:
            return r.sent(), [4, i.get(n)];
          case 3:
            return [2, r.sent() === e6];
          case 4:
            return r.sent(), [2, false];
          case 5:
            return [4, i.remove(n)];
          case 6:
            return r.sent(), [7];
          case 7:
            return [2];
        }
      });
    });
  }, t48.prototype.get = function(t49) {
    return lr(this, void 0, void 0, function() {
      var e6;
      return ur(this, function(i) {
        switch (i.label) {
          case 0:
            return i.trys.push([0, 2, , 3]), [4, this.getRaw(t49)];
          case 1:
            return (e6 = i.sent()) ? [2, JSON.parse(e6)] : [2, void 0];
          case 2:
            return i.sent(), [2, void 0];
          case 3:
            return [2];
        }
      });
    });
  }, t48.prototype.getRaw = function(t49) {
    var e6;
    return lr(this, void 0, void 0, function() {
      return ur(this, function(i) {
        return [2, (null === (e6 = Bo()) || void 0 === e6 ? void 0 : e6.localStorage.getItem(t49)) || void 0];
      });
    });
  }, t48.prototype.set = function(t49, e6) {
    var i;
    return lr(this, void 0, void 0, function() {
      return ur(this, function(n) {
        try {
          null === (i = Bo()) || void 0 === i || i.localStorage.setItem(t49, JSON.stringify(e6));
        } catch {
        }
        return [2];
      });
    });
  }, t48.prototype.remove = function(t49) {
    var e6;
    return lr(this, void 0, void 0, function() {
      return ur(this, function(i) {
        try {
          null === (e6 = Bo()) || void 0 === e6 || e6.localStorage.removeItem(t49);
        } catch {
        }
        return [2];
      });
    });
  }, t48.prototype.reset = function() {
    var t49;
    return lr(this, void 0, void 0, function() {
      return ur(this, function(e6) {
        try {
          null === (t49 = Bo()) || void 0 === t49 || t49.localStorage.clear();
        } catch {
        }
        return [2];
      });
    });
  }, t48;
}();
c();
var sk = function(t48) {
  function e6() {
    var e10 = null !== t48 && t48.apply(this, arguments) || this;
    return e10.state = { done: 4 }, e10;
  }
  return bh(e6, t48), q(e6, "XHRTransport"), e6.prototype.send = function(t49, e10) {
    return lr(this, void 0, void 0, function() {
      var i = this;
      return ur(this, function(n) {
        return [2, new Promise(function(n10, r) {
          typeof XMLHttpRequest > "u" && r(new Error("XHRTransport is not supported."));
          var o3 = new XMLHttpRequest();
          o3.open("POST", t49, true), o3.onreadystatechange = function() {
            if (o3.readyState === i.state.done)
              try {
                var t50 = o3.responseText, e11 = JSON.parse(t50), s6 = i.buildResponse(e11);
                n10(s6);
              } catch (t51) {
                r(t51);
              }
          }, o3.setRequestHeader("Content-Type", "application/json"), o3.setRequestHeader("Accept", "*/*"), o3.send(JSON.stringify(e10));
        })];
      });
    });
  }, e6;
}(Uf);
c();
var ok = function(t48) {
  function e6() {
    return null !== t48 && t48.apply(this, arguments) || this;
  }
  return bh(e6, t48), q(e6, "SendBeaconTransport"), e6.prototype.send = function(t49, e10) {
    return lr(this, void 0, void 0, function() {
      var i = this;
      return ur(this, function(n) {
        return [2, new Promise(function(n10, r) {
          var o3 = Bo();
          if (null == o3 || !o3.navigator.sendBeacon)
            throw new Error("SendBeaconTransport is not supported");
          try {
            var s6 = JSON.stringify(e10);
            return n10(o3.navigator.sendBeacon(t49, JSON.stringify(e10)) ? i.buildResponse({ code: 200, events_ingested: e10.events.length, payload_size_bytes: s6.length, server_upload_time: Date.now() }) : i.buildResponse({ code: 500 }));
          } catch (t50) {
            r(t50);
          }
        })];
      });
    });
  }, e6;
}(Uf);
var l_ = q(function() {
  var t48 = new O0();
  return { cookieExpiration: 365, cookieSameSite: "Lax", cookieSecure: false, cookieStorage: t48, disableCookies: false, domain: "", sessionManager: new i_(t48, ""), sessionTimeout: 18e5, storageProvider: new O0(), trackingOptions: { deviceManufacturer: true, deviceModel: true, ipAddress: true, language: true, osName: true, osVersion: true, platform: true }, transportProvider: new xA() };
}, "getDefaultConfig");
var ak = function(t48) {
  function e6(e10, i, n) {
    var r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m = this, v4 = l_();
    return (m = t48.call(this, _i(_i({ flushIntervalMillis: 1e3, flushMaxRetries: 5, flushQueueSize: 30 }, n), { apiKey: e10, storageProvider: null !== (r = null == n ? void 0 : n.storageProvider) && void 0 !== r ? r : v4.storageProvider, transportProvider: null !== (o3 = null == n ? void 0 : n.transportProvider) && void 0 !== o3 ? o3 : v4.transportProvider })) || this).cookieStorage = null !== (s6 = null == n ? void 0 : n.cookieStorage) && void 0 !== s6 ? s6 : v4.cookieStorage, m.sessionManager = null !== (a = null == n ? void 0 : n.sessionManager) && void 0 !== a ? a : v4.sessionManager, m.sessionTimeout = null !== (l = null == n ? void 0 : n.sessionTimeout) && void 0 !== l ? l : v4.sessionTimeout, m.appVersion = null == n ? void 0 : n.appVersion, m.attribution = null == n ? void 0 : n.attribution, m.cookieExpiration = null !== (u2 = null == n ? void 0 : n.cookieExpiration) && void 0 !== u2 ? u2 : v4.cookieExpiration, m.cookieSameSite = null !== (h = null == n ? void 0 : n.cookieSameSite) && void 0 !== h ? h : v4.cookieSameSite, m.cookieSecure = null !== (c2 = null == n ? void 0 : n.cookieSecure) && void 0 !== c2 ? c2 : v4.cookieSecure, m.deviceId = null == n ? void 0 : n.deviceId, m.disableCookies = null !== (p4 = null == n ? void 0 : n.disableCookies) && void 0 !== p4 ? p4 : v4.disableCookies, m.domain = null !== (d = null == n ? void 0 : n.domain) && void 0 !== d ? d : v4.domain, m.lastEventTime = null !== (f = m.lastEventTime) && void 0 !== f ? f : null == n ? void 0 : n.lastEventTime, m.optOut = !(null == n || !n.optOut), m.partnerId = null == n ? void 0 : n.partnerId, m.sessionId = null == n ? void 0 : n.sessionId, m.trackingOptions = null !== (g = null == n ? void 0 : n.trackingOptions) && void 0 !== g ? g : v4.trackingOptions, m.userId = i, m;
  }
  return bh(e6, t48), q(e6, "BrowserConfig"), Object.defineProperty(e6.prototype, "deviceId", { get: function() {
    return this.sessionManager.getDeviceId();
  }, set: function(t49) {
    this.sessionManager.setDeviceId(t49);
  }, enumerable: false, configurable: true }), Object.defineProperty(e6.prototype, "userId", { get: function() {
    return this.sessionManager.getUserId();
  }, set: function(t49) {
    this.sessionManager.setUserId(t49);
  }, enumerable: false, configurable: true }), Object.defineProperty(e6.prototype, "sessionId", { get: function() {
    return this.sessionManager.getSessionId();
  }, set: function(t49) {
    this.sessionManager.setSessionId(t49);
  }, enumerable: false, configurable: true }), Object.defineProperty(e6.prototype, "optOut", { get: function() {
    return this.sessionManager.getOptOut();
  }, set: function(t49) {
    var e10;
    null === (e10 = this.sessionManager) || void 0 === e10 || e10.setOptOut(!!t49);
  }, enumerable: false, configurable: true }), Object.defineProperty(e6.prototype, "lastEventTime", { get: function() {
    return this.sessionManager.getLastEventTime();
  }, set: function(t49) {
    this.sessionManager.setLastEventTime(t49);
  }, enumerable: false, configurable: true }), e6;
}(iA);
var lk = q(function(t48, e6, i) {
  return lr(void 0, void 0, void 0, function() {
    var n, r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m, v4, y4, x4;
    return ur(this, function(_) {
      switch (_.label) {
        case 0:
          return n = l_(), null !== (g = null == i ? void 0 : i.domain) && void 0 !== g ? (o3 = g, [3, 3]) : [3, 1];
        case 1:
          return [4, FK()];
        case 2:
          o3 = _.sent(), _.label = 3;
        case 3:
          return r = o3, [4, BK(_i(_i({}, i), { domain: r }))];
        case 4:
          return s6 = _.sent(), a = zf(t48), [4, s6.get(a)];
        case 5:
          return l = _.sent(), u2 = Pd(), [4, new i_(s6, t48).load()];
        case 6:
          return h = _.sent(), c2 = ak.bind, p4 = [void 0, t48, null != e6 ? e6 : null == l ? void 0 : l.userId], d = [_i({}, i)], f = { cookieStorage: s6, sessionManager: h, deviceId: qK(null == l ? void 0 : l.deviceId, null == i ? void 0 : i.deviceId, u2.deviceId), domain: r, optOut: null !== (m = null == i ? void 0 : i.optOut) && void 0 !== m ? m : !(null == l || !l.optOut) }, [4, s6.get(a)];
        case 7:
          return f.sessionId = null !== (y4 = null === (v4 = _.sent()) || void 0 === v4 ? void 0 : v4.sessionId) && void 0 !== y4 ? y4 : null == i ? void 0 : i.sessionId, [4, kK(i)];
        case 8:
          return [2, new (c2.apply(ak, p4.concat([_i.apply(void 0, d.concat([(f.storageProvider = _.sent(), f.trackingOptions = _i(_i({}, n.trackingOptions), null == i ? void 0 : i.trackingOptions), f.transportProvider = null !== (x4 = null == i ? void 0 : i.transportProvider) && void 0 !== x4 ? x4 : EA(null == i ? void 0 : i.transport), f)]))])))()];
      }
    });
  });
}, "useBrowserConfig");
var BK = q(function(t48, e6) {
  return void 0 === e6 && (e6 = l_()), lr(void 0, void 0, void 0, function() {
    var i, n, r;
    return ur(this, function(o3) {
      switch (o3.label) {
        case 0:
          return i = _i(_i({}, e6), t48), n = null == t48 ? void 0 : t48.cookieStorage, (r = !n) ? [3, 2] : [4, n.isEnabled()];
        case 1:
          r = !o3.sent(), o3.label = 2;
        case 2:
          return r ? [2, MA(i)] : [2, n];
      }
    });
  });
}, "createCookieStorage");
var MA = q(function(t48) {
  return lr(void 0, void 0, void 0, function() {
    var e6, i;
    return ur(this, function(n) {
      switch (n.label) {
        case 0:
          return e6 = new Gf({ domain: t48.domain, expirationDays: t48.cookieExpiration, sameSite: t48.cookieSameSite, secure: t48.cookieSecure }), (i = t48.disableCookies) ? [3, 2] : [4, e6.isEnabled()];
        case 1:
          i = !n.sent(), n.label = 2;
        case 2:
          return i ? [4, (e6 = new R0()).isEnabled()] : [3, 4];
        case 3:
          n.sent() || (e6 = new O0()), n.label = 4;
        case 4:
          return [2, e6];
      }
    });
  });
}, "createFlexibleStorage");
var kK = q(function(t48) {
  return lr(void 0, void 0, void 0, function() {
    var e6, i, n, r, o3, s6, a;
    return ur(this, function(l) {
      switch (l.label) {
        case 0:
          if (t48 && Object.prototype.hasOwnProperty.call(t48, "storageProvider") && !t48.storageProvider)
            return [3, 9];
          l.label = 1;
        case 1:
          l.trys.push([1, 7, 8, 9]), e6 = bB([null == t48 ? void 0 : t48.storageProvider, new R0()]), i = e6.next(), l.label = 2;
        case 2:
          return i.done ? [3, 6] : (n = i.value, (r = n) ? [4, n.isEnabled()] : [3, 4]);
        case 3:
          r = l.sent(), l.label = 4;
        case 4:
          if (r)
            return [2, n];
          l.label = 5;
        case 5:
          return i = e6.next(), [3, 2];
        case 6:
          return [3, 9];
        case 7:
          return o3 = l.sent(), s6 = { error: o3 }, [3, 9];
        case 8:
          try {
            i && !i.done && (a = e6.return) && a.call(e6);
          } finally {
            if (s6)
              throw s6.error;
          }
          return [7];
        case 9:
          return [2, void 0];
      }
    });
  });
}, "createEventsStorage");
var qK = q(function(t48, e6, i) {
  return e6 || i || t48 || Eh();
}, "createDeviceId");
var EA = q(function(t48) {
  return t48 === Cd.XHR ? new sk() : t48 === Cd.SendBeacon ? new ok() : l_().transportProvider;
}, "createTransport");
var FK = q(function(t48) {
  return lr(void 0, void 0, void 0, function() {
    var e6, i, n, r, o3, s6, a;
    return ur(this, function(l) {
      switch (l.label) {
        case 0:
          return [4, new Gf().isEnabled()];
        case 1:
          if (!l.sent() || !t48 && typeof location > "u")
            return [2, ""];
          for (e6 = null != t48 ? t48 : location.hostname, i = e6.split("."), n = [], r = "AMP_TLDTEST", o3 = i.length - 2; o3 >= 0; --o3)
            n.push(i.slice(o3).join("."));
          o3 = 0, l.label = 2;
        case 2:
          return o3 < n.length ? (s6 = n[o3], [4, (a = new Gf({ domain: "." + s6 })).set(r, 1)]) : [3, 7];
        case 3:
          return l.sent(), [4, a.get(r)];
        case 4:
          return l.sent() ? [4, a.remove(r)] : [3, 6];
        case 5:
          return l.sent(), [2, "." + s6];
        case 6:
          return o3++, [3, 2];
        case 7:
          return [2, ""];
      }
    });
  });
}, "getTopLevelDomain");
c();
var ck = q(function(t48, e6) {
  return lr(void 0, void 0, void 0, function() {
    var i, n, r, o3, s6, a, l, u2, h;
    return ur(this, function(c2) {
      switch (c2.label) {
        case 0:
          return [4, (i = new Gf()).isEnabled()];
        case 1:
          return (!c2.sent() || null != e6 && e6.disableCookies) && (i = new R0()), [4, i.isEnabled()];
        case 2:
          return c2.sent() ? (n = vA(t48), [4, i.getRaw(n)]) : [2, { optOut: false }];
        case 3:
          return (r = c2.sent()) ? [4, i.remove(n)] : [2, { optOut: false }];
        case 4:
          return c2.sent(), o3 = _B(r.split("."), 5), s6 = o3[0], a = o3[1], l = o3[2], u2 = o3[3], h = o3[4], [2, { deviceId: s6, userId: UK(a), sessionId: uk(u2), lastEventTime: uk(h), optOut: !!l }];
      }
    });
  });
}, "parseOldCookies");
var uk = q(function(t48) {
  var e6 = parseInt(t48, 32);
  if (!isNaN(e6))
    return e6;
}, "parseTime");
var UK = q(function(t48) {
  if (atob && escape && t48)
    try {
      return decodeURIComponent(escape(atob(t48)));
    } catch {
      return;
    }
}, "decode");
var zK = function(t48) {
  function e6() {
    return null !== t48 && t48.apply(this, arguments) || this;
  }
  return bh(e6, t48), q(e6, "AmplitudeBrowser"), e6.prototype.init = function(e10, i, n) {
    var r, o3, s6;
    return void 0 === e10 && (e10 = ""), lr(this, void 0, void 0, function() {
      var a, l, u2, h, c2 = this;
      return ur(this, function(p4) {
        switch (p4.label) {
          case 0:
            return this.initializing ? [2] : (this.initializing = true, [4, ck(e10, n)]);
          case 1:
            return a = p4.sent(), [4, lk(e10, i || a.userId, _i(_i({}, n), { deviceId: null !== (r = a.deviceId) && void 0 !== r ? r : null == n ? void 0 : n.deviceId, sessionId: null !== (o3 = a.sessionId) && void 0 !== o3 ? o3 : null == n ? void 0 : n.sessionId, optOut: null !== (s6 = null == n ? void 0 : n.optOut) && void 0 !== s6 ? s6 : a.optOut, lastEventTime: a.lastEventTime }))];
          case 2:
            return l = p4.sent(), [4, t48.prototype._init.call(this, l)];
          case 3:
            return p4.sent(), u2 = !this.config.lastEventTime, (!this.config.sessionId || this.config.lastEventTime && Date.now() - this.config.lastEventTime > this.config.sessionTimeout) && (this.setSessionId(Date.now()), u2 = true), (h = N0()).eventBridge.setEventReceiver(function(t49) {
              c2.track(t49.eventType, t49.eventProperties);
            }), h.identityStore.setIdentity({ userId: this.config.userId, deviceId: this.config.deviceId }), [4, this.add(new rk())];
          case 4:
            return p4.sent(), [4, this.add(new _A())];
          case 5:
            return p4.sent(), [4, this.add(new sA())];
          case 6:
            return p4.sent(), this.initializing = false, [4, this.runAttributionStrategy(l.attribution, u2)];
          case 7:
            return p4.sent(), [4, this.runQueuedFunctions("dispatchQ")];
          case 8:
            return p4.sent(), [2];
        }
      });
    });
  }, e6.prototype.runAttributionStrategy = function(t49, e10) {
    return void 0 === e10 && (e10 = false), lr(this, void 0, void 0, function() {
      var i, n, r;
      return ur(this, function(o3) {
        switch (o3.label) {
          case 0:
            return i = this.track.bind(this), n = this.setSessionId.bind(this, Date.now()), [4, MA(this.config)];
          case 1:
            return r = o3.sent(), [4, new yA(this.config.apiKey, _i(_i({}, t49), { storage: r, track: i, onNewCampaign: n })).send(e10)];
          case 2:
            return o3.sent(), [2];
        }
      });
    });
  }, e6.prototype.getUserId = function() {
    var t49;
    return null === (t49 = this.config) || void 0 === t49 ? void 0 : t49.userId;
  }, e6.prototype.setUserId = function(t49) {
    this.config ? this.config.userId = t49 : this.q.push(this.setUserId.bind(this, t49));
  }, e6.prototype.getDeviceId = function() {
    var t49;
    return null === (t49 = this.config) || void 0 === t49 ? void 0 : t49.deviceId;
  }, e6.prototype.setDeviceId = function(t49) {
    this.config ? this.config.deviceId = t49 : this.q.push(this.setDeviceId.bind(this, t49));
  }, e6.prototype.reset = function() {
    this.setUserId(void 0), this.setDeviceId(Eh());
  }, e6.prototype.getSessionId = function() {
    var t49;
    return null === (t49 = this.config) || void 0 === t49 ? void 0 : t49.sessionId;
  }, e6.prototype.setSessionId = function(t49) {
    this.config ? (this.config.sessionId = t49, this.config.lastEventTime = void 0) : this.q.push(this.setSessionId.bind(this, t49));
  }, e6.prototype.setTransport = function(t49) {
    this.config ? this.config.transportProvider = EA(t49) : this.q.push(this.setTransport.bind(this, t49));
  }, e6.prototype.identify = function(e10, i) {
    if (a_(e10)) {
      var n = e10._q;
      e10._q = [], e10 = o_(new Sl(), n);
    }
    return null != i && i.user_id && this.setUserId(i.user_id), null != i && i.device_id && this.setDeviceId(i.device_id), t48.prototype.identify.call(this, e10, i);
  }, e6.prototype.groupIdentify = function(e10, i, n, r) {
    if (a_(n)) {
      var o3 = n._q;
      n._q = [], n = o_(new Sl(), o3);
    }
    return t48.prototype.groupIdentify.call(this, e10, i, n, r);
  }, e6.prototype.revenue = function(e10, i) {
    if (a_(e10)) {
      var n = e10._q;
      e10._q = [], e10 = o_(new $b(), n);
    }
    return t48.prototype.revenue.call(this, e10, i);
  }, e6;
}(nA);
var u_ = q(function() {
  var t48 = new zK();
  return { init: Vr(Wa(t48.init.bind(t48)), "init", zr(t48), Gr(t48, ["config"])), add: Vr(Wa(t48.add.bind(t48)), "add", zr(t48), Gr(t48, ["config.apiKey", "timeline.plugins"])), remove: Vr(Wa(t48.remove.bind(t48)), "remove", zr(t48), Gr(t48, ["config.apiKey", "timeline.plugins"])), track: Vr(Wa(t48.track.bind(t48)), "track", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), logEvent: Vr(Wa(t48.logEvent.bind(t48)), "logEvent", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), identify: Vr(Wa(t48.identify.bind(t48)), "identify", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), groupIdentify: Vr(Wa(t48.groupIdentify.bind(t48)), "groupIdentify", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), setGroup: Vr(Wa(t48.setGroup.bind(t48)), "setGroup", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), revenue: Vr(Wa(t48.revenue.bind(t48)), "revenue", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), flush: Vr(Wa(t48.flush.bind(t48)), "flush", zr(t48), Gr(t48, ["config.apiKey", "timeline.queue.length"])), getUserId: Vr(t48.getUserId.bind(t48), "getUserId", zr(t48), Gr(t48, ["config", "config.userId"])), setUserId: Vr(t48.setUserId.bind(t48), "setUserId", zr(t48), Gr(t48, ["config", "config.userId"])), getDeviceId: Vr(t48.getDeviceId.bind(t48), "getDeviceId", zr(t48), Gr(t48, ["config", "config.deviceId"])), setDeviceId: Vr(t48.setDeviceId.bind(t48), "setDeviceId", zr(t48), Gr(t48, ["config", "config.deviceId"])), reset: Vr(t48.reset.bind(t48), "reset", zr(t48), Gr(t48, ["config", "config.userId", "config.deviceId"])), getSessionId: Vr(t48.getSessionId.bind(t48), "getSessionId", zr(t48), Gr(t48, ["config"])), setSessionId: Vr(t48.setSessionId.bind(t48), "setSessionId", zr(t48), Gr(t48, ["config"])), setOptOut: Vr(t48.setOptOut.bind(t48), "setOptOut", zr(t48), Gr(t48, ["config"])), setTransport: Vr(t48.setTransport.bind(t48), "setTransport", zr(t48), Gr(t48, ["config"])) };
}, "createInstance");
var ts = u_();
var RAe = ts.add;
var BAe = ts.flush;
var kAe = ts.getDeviceId;
var qAe = ts.getSessionId;
var FAe = ts.getUserId;
var UAe = ts.groupIdentify;
var zAe = ts.identify;
var GAe = ts.init;
var VAe = ts.logEvent;
var HAe = ts.remove;
var jAe = ts.reset;
var WAe = ts.revenue;
var YAe = ts.setDeviceId;
var XAe = ts.setGroup;
var ZAe = ts.setOptOut;
var QAe = ts.setSessionId;
var KAe = ts.setTransport;
var JAe = ts.setUserId;
var $Ae = ts.track;
var BA = { production: "40ead723d18886045e302513245edb27", development: "" };
var Id = { plan: { version: "22", branch: "main", source: "websdk", versionId: "197467d1-8926-452d-a088-b3817cbac89f" }, ingestionMetadata: { sourceName: "browser-typescript-ampli", sourceVersion: "2.0.0" } };
var kA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Analytics:categorySelected-call"), this.event_properties = t48;
  }
};
q(kA, "AnalyticsCategorySelectedCall");
var B0 = kA;
var qA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Analytics:locationSelected-call"), this.event_properties = t48;
  }
};
q(qA, "AnalyticsLocationSelectedCall");
var k0 = qA;
var FA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "BlueDot:disable-call"), this.event_properties = t48;
  }
};
q(FA, "BlueDotDisableCall");
var q0 = FA;
var UA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "BlueDot:enable-call"), this.event_properties = t48;
  }
};
q(UA, "BlueDotEnableCall");
var F0 = UA;
var zA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "BlueDot:off-call"), this.event_properties = t48;
  }
};
q(zA, "BlueDotOffCall");
var U0 = zA;
var GA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "BlueDot:on-call"), this.event_properties = t48;
  }
};
q(GA, "BlueDotOnCall");
var z0 = GA;
var VA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:animate-call"), this.event_properties = t48;
  }
};
q(VA, "CameraAnimateCall");
var G0 = VA;
var HA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:cancelAnimation-call"), this.event_properties = t48;
  }
};
q(HA, "CameraCancelAnimationCall");
var V0 = HA;
var jA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:focusOn-call"), this.event_properties = t48;
  }
};
q(jA, "CameraFocusOnCall");
var H0 = jA;
var WA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:getSafeAreaInsets-call"), this.event_properties = t48;
  }
};
q(WA, "CameraGetSafeAreaInsetsCall");
var j0 = WA;
var YA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:interaction.disable-call"), this.event_properties = t48;
  }
};
q(YA, "CameraInteractionDisableCall");
var W0 = YA;
var XA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:interaction.enable-call"), this.event_properties = t48;
  }
};
q(XA, "CameraInteractionEnableCall");
var Y0 = XA;
var ZA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:set-call"), this.event_properties = t48;
  }
};
q(ZA, "CameraSetCall");
var X0 = ZA;
var QA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:setSafeAreaInsets-call"), this.event_properties = t48;
  }
};
q(QA, "CameraSetSafeAreaInsetsCall");
var Z0 = QA;
var KA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Camera:translate-call"), this.event_properties = t48;
  }
};
q(KA, "CameraTranslateCall");
var Q0 = KA;
var JA = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FlatLabels:add-call"), this.event_properties = t48;
  }
};
q(JA, "FlatLabelsAddCall");
var K0 = JA;
var $A = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FlatLabels:labelAllLocations-call"), this.event_properties = t48;
  }
};
q($A, "FlatLabelsLabelAllLocationsCall");
var J0 = $A;
var eC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FlatLabels:remove-call"), this.event_properties = t48;
  }
};
q(eC, "FlatLabelsRemoveCall");
var $0 = eC;
var tC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FlatLabels:removeAll-call"), this.event_properties = t48;
  }
};
q(tC, "FlatLabelsRemoveAllCall");
var TA = tC;
var nC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FlatLabels:setAppearance-call"), this.event_properties = t48;
  }
};
q(nC, "FlatLabelsSetAppearanceCall");
var ev = nC;
var iC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:add-call"), this.event_properties = t48;
  }
};
q(iC, "FloatingLabelsAddCall");
var tv = iC;
var rC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:labelAllLocations-call"), this.event_properties = t48;
  }
};
q(rC, "FloatingLabelsLabelAllLocationsCall");
var nv = rC;
var sC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:remove-call"), this.event_properties = t48;
  }
};
q(sC, "FloatingLabelsRemoveCall");
var iv = sC;
var oC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:removeAll-call"), this.event_properties = t48;
  }
};
q(oC, "FloatingLabelsRemoveAllCall");
var SA = oC;
var aC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:resetPriority-call"), this.event_properties = t48;
  }
};
q(aC, "FloatingLabelsResetPriorityCall");
var rv = aC;
var lC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:setAppearance-call"), this.event_properties = t48;
  }
};
q(lC, "FloatingLabelsSetAppearanceCall");
var sv = lC;
var uC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "FloatingLabels:setPriority-call"), this.event_properties = t48;
  }
};
q(uC, "FloatingLabelsSetPriorityCall");
var ov = uC;
var cC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "global:getVenue-call"), this.event_properties = t48;
  }
};
q(cC, "GlobalGetVenueCall");
var av = cC;
var hC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "global:getVenueMVF-call"), this.event_properties = t48;
  }
};
q(hC, "GlobalGetVenueMvfCall");
var lv = hC;
var fC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "global:showVenue-call"), this.event_properties = t48;
  }
};
q(fC, "GlobalShowVenueCall");
var uv = fC;
var pC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Journey:clear-call"), this.event_properties = t48;
  }
};
q(pC, "JourneyClearCall");
var cv = pC;
var dC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Journey:draw-call"), this.event_properties = t48;
  }
};
q(dC, "JourneyDrawCall");
var hv = dC;
var mC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Journey:setStep-call"), this.event_properties = t48;
  }
};
q(mC, "JourneySetStepCall");
var fv = mC;
var gC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "Mappedin:getCollectionItemById-call"), this.event_properties = t48;
  }
};
q(gC, "MappedinGetCollectionItemByIdCall");
var AA = gC;
var vC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinCoordinate:absoluteDistanceTo-call"), this.event_properties = t48;
  }
};
q(vC, "MappedinCoordinateAbsoluteDistanceToCall");
var CA = vC;
var yC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinCoordinate:nearestNode-call"), this.event_properties = t48;
  }
};
q(yC, "MappedinCoordinateNearestNodeCall");
var PA = yC;
var xC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinLocation:clone-call"), this.event_properties = t48;
  }
};
q(xC, "MappedinLocationCloneCall");
var pv = xC;
var bC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinLocation:directionsTo-call"), this.event_properties = t48;
  }
};
q(bC, "MappedinLocationDirectionsToCall");
var dv = bC;
var _C = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinLocation:distanceTo-call"), this.event_properties = t48;
  }
};
q(_C, "MappedinLocationDistanceToCall");
var mv = _C;
var wC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinMap:createCoordinate-call"), this.event_properties = t48;
  }
};
q(wC, "MappedinMapCreateCoordinateCall");
var IA = wC;
var MC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinMap:createCoordinateByXY-call"), this.event_properties = t48;
  }
};
q(MC, "MappedinMapCreateCoordinateByXyCall");
var OA = MC;
var EC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinMap:getNorth-call"), this.event_properties = t48;
  }
};
q(EC, "MappedinMapGetNorthCall");
var LA = EC;
var TC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinNode:directionsTo-call"), this.event_properties = t48;
  }
};
q(TC, "MappedinNodeDirectionsToCall");
var gv = TC;
var SC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinNode:distanceTo-call"), this.event_properties = t48;
  }
};
q(SC, "MappedinNodeDistanceToCall");
var vv = SC;
var AC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinPolygon:directionsTo-call"), this.event_properties = t48;
  }
};
q(AC, "MappedinPolygonDirectionsToCall");
var yv = AC;
var CC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinPolygon:distanceTo-call"), this.event_properties = t48;
  }
};
q(CC, "MappedinPolygonDistanceToCall");
var xv = CC;
var PC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MappedinVenue:metadata-read"), this.event_properties = t48;
  }
};
q(PC, "MappedinVenueMetadataRead");
var bv = PC;
var IC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:addInteractivePolygon-call"), this.event_properties = t48;
  }
};
q(IC, "MapViewAddInteractivePolygonCall");
var _v = IC;
var OC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:addInteractivePolygonsForAllLocations-call"), this.event_properties = t48;
  }
};
q(OC, "MapViewAddInteractivePolygonsForAllLocationsCall");
var wv = OC;
var LC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:clearPolygonColor-call"), this.event_properties = t48;
  }
};
q(LC, "MapViewClearPolygonColorCall");
var Mv = LC;
var DC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:createCustomTooltip-call"), this.event_properties = t48;
  }
};
q(DC, "MapViewCreateCustomTooltipCall");
var Ev = DC;
var NC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:createMarker-call"), this.event_properties = t48;
  }
};
q(NC, "MapViewCreateMarkerCall");
var DA = NC;
var RC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:createTooltip-call"), this.event_properties = t48;
  }
};
q(RC, "MapViewCreateTooltipCall");
var Tv = RC;
var BC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:destroy-call"), this.event_properties = t48;
  }
};
q(BC, "MapViewDestroyCall");
var Sv = BC;
var kC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:disableImageFlippingForAllPolygons-call"), this.event_properties = t48;
  }
};
q(kC, "MapViewDisableImageFlippingForAllPolygonsCall");
var Av = kC;
var qC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:drawPath-call"), this.event_properties = t48;
  }
};
q(qC, "MapViewDrawPathCall");
var Cv = qC;
var FC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:enableImageFlippingForAllLocations-call"), this.event_properties = t48;
  }
};
q(FC, "MapViewEnableImageFlippingForAllLocationsCall");
var Pv = FC;
var UC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:enableImageFlippingForPolygon-call"), this.event_properties = t48;
  }
};
q(UC, "MapViewEnableImageFlippingForPolygonCall");
var Iv = UC;
var zC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:getNearestNodeByScreenCoordinates-call"), this.event_properties = t48;
  }
};
q(zC, "MapViewGetNearestNodeByScreenCoordinatesCall");
var Ov = zC;
var GC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:getPolygonAtCoordinate-call"), this.event_properties = t48;
  }
};
q(GC, "MapViewGetPolygonAtCoordinateCall");
var Lv = GC;
var VC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:getPrimaryLocationForPolygon-call"), this.event_properties = t48;
  }
};
q(VC, "MapViewGetPrimaryLocationForPolygonCall");
var Dv = VC;
var HC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:labelAllLocations-call"), this.event_properties = t48;
  }
};
q(HC, "MapViewLabelAllLocationsCall");
var Nv = HC;
var jC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeAllInteractivePolygons-call"), this.event_properties = t48;
  }
};
q(jC, "MapViewRemoveAllInteractivePolygonsCall");
var Rv = jC;
var WC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeAllMarkers-call"), this.event_properties = t48;
  }
};
q(WC, "MapViewRemoveAllMarkersCall");
var Bv = WC;
var YC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeAllPaths-call"), this.event_properties = t48;
  }
};
q(YC, "MapViewRemoveAllPathsCall");
var kv = YC;
var XC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeAllTooltips-call"), this.event_properties = t48;
  }
};
q(XC, "MapViewRemoveAllTooltipsCall");
var qv = XC;
var ZC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeInteractivePolygon-call"), this.event_properties = t48;
  }
};
q(ZC, "MapViewRemoveInteractivePolygonCall");
var Fv = ZC;
var QC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeMarker-call"), this.event_properties = t48;
  }
};
q(QC, "MapViewRemoveMarkerCall");
var NA = QC;
var KC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removePath-call"), this.event_properties = t48;
  }
};
q(KC, "MapViewRemovePathCall");
var Uv = KC;
var JC = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:removeTooltip-call"), this.event_properties = t48;
  }
};
q(JC, "MapViewRemoveTooltipCall");
var zv = JC;
var $C = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:setBackgroundColor-call"), this.event_properties = t48;
  }
};
q($C, "MapViewSetBackgroundColorCall");
var Gv = $C;
var e4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:setHoverColor-call"), this.event_properties = t48;
  }
};
q(e4, "MapViewSetHoverColorCall");
var Vv = e4;
var t4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:setMap-call"), this.event_properties = t48;
  }
};
q(t4, "MapViewSetMapCall");
var Hv = t4;
var n4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:setPolygonColor-call"), this.event_properties = t48;
  }
};
q(n4, "MapViewSetPolygonColorCall");
var jv = n4;
var i4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "MapView:setState-call"), this.event_properties = t48;
  }
};
q(i4, "MapViewSetStateCall");
var Wv = i4;
var r4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "metrics:mapLoad-event"), this.event_properties = t48;
  }
};
q(r4, "MetricsMapLoadEvent");
var Yv = r4;
var s4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "OfflineSearch:addQuery-call"), this.event_properties = t48;
  }
};
q(s4, "OfflineSearchAddQueryCall");
var Xv = s4;
var o4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "OfflineSearch:constructor-call"), this.event_properties = t48;
  }
};
q(o4, "OfflineSearchConstructorCall");
var Zv = o4;
var a4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "OfflineSearch:search-call"), this.event_properties = t48;
  }
};
q(a4, "OfflineSearchSearchCall");
var Qv = a4;
var l4 = class {
  constructor(t48) {
    this.event_properties = t48, v(this, "event_type", "OfflineSearch:suggest-call"), this.event_properties = t48;
  }
};
q(l4, "OfflineSearchSuggestCall");
var Kv = l4;
var c_ = q(() => ({ promise: Promise.resolve() }), "getVoidPromiseResult");
var u4 = class {
  constructor() {
    v(this, "disabled", false), v(this, "amplitude");
  }
  get client() {
    return this.isInitializedAndEnabled(), this.amplitude;
  }
  get isLoaded() {
    return null != this.amplitude;
  }
  isInitializedAndEnabled() {
    return this.amplitude ? !this.disabled : (console.error("ERROR: Ampli is not yet initialized. Have you called ampli.load() on app start?"), false);
  }
  load(t48) {
    var e6, i;
    if (this.disabled = null != (e6 = t48.disabled) && e6, this.amplitude)
      return console.warn("WARNING: Ampli is already intialized. Ampli.load() should be called once at application startup."), c_();
    let n = null;
    if (t48.client && "apiKey" in t48.client ? n = t48.client.apiKey : "environment" in t48 && (n = BA[t48.environment]), t48.client && "instance" in t48.client)
      this.amplitude = t48.client.instance;
    else {
      if (n)
        return this.amplitude = u_(), this.amplitude.init(n, void 0, { ...Id, ...null != (null == t48 ? void 0 : t48.client) && "configuration" in t48.client ? null == (i = t48.client) ? void 0 : i.configuration : {} });
      console.error("ERROR: ampli.load() requires 'environment', 'client.apiKey', or 'client.instance'");
    }
    return c_();
  }
  identify(t48, e6, i) {
    if (!this.isInitializedAndEnabled())
      return c_();
    t48 && (i = { ...i, user_id: t48 });
    let n = new Sl(), r = e6;
    if (null != r)
      for (let [t49, e10] of Object.entries(r))
        n.set(t49, e10);
    return this.amplitude.identify(n, i);
  }
  track(t48, e6) {
    return this.isInitializedAndEnabled() ? this.amplitude.track(t48, void 0, e6) : c_();
  }
  analyticsCategorySelectedCall(t48, e6) {
    return this.track(new B0(t48), e6);
  }
  analyticsLocationSelectedCall(t48, e6) {
    return this.track(new k0(t48), e6);
  }
  blueDotDisableCall(t48, e6) {
    return this.track(new q0(t48), e6);
  }
  blueDotEnableCall(t48, e6) {
    return this.track(new F0(t48), e6);
  }
  blueDotOffCall(t48, e6) {
    return this.track(new U0(t48), e6);
  }
  blueDotOnCall(t48, e6) {
    return this.track(new z0(t48), e6);
  }
  cameraAnimateCall(t48, e6) {
    return this.track(new G0(t48), e6);
  }
  cameraCancelAnimationCall(t48, e6) {
    return this.track(new V0(t48), e6);
  }
  cameraFocusOnCall(t48, e6) {
    return this.track(new H0(t48), e6);
  }
  cameraGetSafeAreaInsetsCall(t48, e6) {
    return this.track(new j0(t48), e6);
  }
  cameraInteractionDisableCall(t48, e6) {
    return this.track(new W0(t48), e6);
  }
  cameraInteractionEnableCall(t48, e6) {
    return this.track(new Y0(t48), e6);
  }
  cameraSetCall(t48, e6) {
    return this.track(new X0(t48), e6);
  }
  cameraSetSafeAreaInsetsCall(t48, e6) {
    return this.track(new Z0(t48), e6);
  }
  cameraTranslateCall(t48, e6) {
    return this.track(new Q0(t48), e6);
  }
  flatLabelsAddCall(t48, e6) {
    return this.track(new K0(t48), e6);
  }
  flatLabelsLabelAllLocationsCall(t48, e6) {
    return this.track(new J0(t48), e6);
  }
  flatLabelsRemoveCall(t48, e6) {
    return this.track(new $0(t48), e6);
  }
  flatLabelsRemoveAllCall(t48, e6) {
    return this.track(new TA(t48), e6);
  }
  flatLabelsSetAppearanceCall(t48, e6) {
    return this.track(new ev(t48), e6);
  }
  floatingLabelsAddCall(t48, e6) {
    return this.track(new tv(t48), e6);
  }
  floatingLabelsLabelAllLocationsCall(t48, e6) {
    return this.track(new nv(t48), e6);
  }
  floatingLabelsRemoveCall(t48, e6) {
    return this.track(new iv(t48), e6);
  }
  floatingLabelsRemoveAllCall(t48, e6) {
    return this.track(new SA(t48), e6);
  }
  floatingLabelsResetPriorityCall(t48, e6) {
    return this.track(new rv(t48), e6);
  }
  floatingLabelsSetAppearanceCall(t48, e6) {
    return this.track(new sv(t48), e6);
  }
  floatingLabelsSetPriorityCall(t48, e6) {
    return this.track(new ov(t48), e6);
  }
  globalGetVenueCall(t48, e6) {
    return this.track(new av(t48), e6);
  }
  globalGetVenueMvfCall(t48, e6) {
    return this.track(new lv(t48), e6);
  }
  globalShowVenueCall(t48, e6) {
    return this.track(new uv(t48), e6);
  }
  journeyClearCall(t48, e6) {
    return this.track(new cv(t48), e6);
  }
  journeyDrawCall(t48, e6) {
    return this.track(new hv(t48), e6);
  }
  journeySetStepCall(t48, e6) {
    return this.track(new fv(t48), e6);
  }
  mappedinGetCollectionItemByIdCall(t48, e6) {
    return this.track(new AA(t48), e6);
  }
  mappedinCoordinateAbsoluteDistanceToCall(t48, e6) {
    return this.track(new CA(t48), e6);
  }
  mappedinCoordinateNearestNodeCall(t48, e6) {
    return this.track(new PA(t48), e6);
  }
  mappedinLocationCloneCall(t48, e6) {
    return this.track(new pv(t48), e6);
  }
  mappedinLocationDirectionsToCall(t48, e6) {
    return this.track(new dv(t48), e6);
  }
  mappedinLocationDistanceToCall(t48, e6) {
    return this.track(new mv(t48), e6);
  }
  mappedinMapCreateCoordinateCall(t48, e6) {
    return this.track(new IA(t48), e6);
  }
  mappedinMapCreateCoordinateByXyCall(t48, e6) {
    return this.track(new OA(t48), e6);
  }
  mappedinMapGetNorthCall(t48, e6) {
    return this.track(new LA(t48), e6);
  }
  mappedinNodeDirectionsToCall(t48, e6) {
    return this.track(new gv(t48), e6);
  }
  mappedinNodeDistanceToCall(t48, e6) {
    return this.track(new vv(t48), e6);
  }
  mappedinPolygonDirectionsToCall(t48, e6) {
    return this.track(new yv(t48), e6);
  }
  mappedinPolygonDistanceToCall(t48, e6) {
    return this.track(new xv(t48), e6);
  }
  mappedinVenueMetadataRead(t48, e6) {
    return this.track(new bv(t48), e6);
  }
  mapViewAddInteractivePolygonCall(t48, e6) {
    return this.track(new _v(t48), e6);
  }
  mapViewAddInteractivePolygonsForAllLocationsCall(t48, e6) {
    return this.track(new wv(t48), e6);
  }
  mapViewClearPolygonColorCall(t48, e6) {
    return this.track(new Mv(t48), e6);
  }
  mapViewCreateCustomTooltipCall(t48, e6) {
    return this.track(new Ev(t48), e6);
  }
  mapViewCreateMarkerCall(t48, e6) {
    return this.track(new DA(t48), e6);
  }
  mapViewCreateTooltipCall(t48, e6) {
    return this.track(new Tv(t48), e6);
  }
  mapViewDestroyCall(t48, e6) {
    return this.track(new Sv(t48), e6);
  }
  mapViewDisableImageFlippingForAllPolygonsCall(t48, e6) {
    return this.track(new Av(t48), e6);
  }
  mapViewDrawPathCall(t48, e6) {
    return this.track(new Cv(t48), e6);
  }
  mapViewEnableImageFlippingForAllLocationsCall(t48, e6) {
    return this.track(new Pv(t48), e6);
  }
  mapViewEnableImageFlippingForPolygonCall(t48, e6) {
    return this.track(new Iv(t48), e6);
  }
  mapViewGetNearestNodeByScreenCoordinatesCall(t48, e6) {
    return this.track(new Ov(t48), e6);
  }
  mapViewGetPolygonAtCoordinateCall(t48, e6) {
    return this.track(new Lv(t48), e6);
  }
  mapViewGetPrimaryLocationForPolygonCall(t48, e6) {
    return this.track(new Dv(t48), e6);
  }
  mapViewLabelAllLocationsCall(t48, e6) {
    return this.track(new Nv(t48), e6);
  }
  mapViewRemoveAllInteractivePolygonsCall(t48, e6) {
    return this.track(new Rv(t48), e6);
  }
  mapViewRemoveAllMarkersCall(t48, e6) {
    return this.track(new Bv(t48), e6);
  }
  mapViewRemoveAllPathsCall(t48, e6) {
    return this.track(new kv(t48), e6);
  }
  mapViewRemoveAllTooltipsCall(t48, e6) {
    return this.track(new qv(t48), e6);
  }
  mapViewRemoveInteractivePolygonCall(t48, e6) {
    return this.track(new Fv(t48), e6);
  }
  mapViewRemoveMarkerCall(t48, e6) {
    return this.track(new NA(t48), e6);
  }
  mapViewRemovePathCall(t48, e6) {
    return this.track(new Uv(t48), e6);
  }
  mapViewRemoveTooltipCall(t48, e6) {
    return this.track(new zv(t48), e6);
  }
  mapViewSetBackgroundColorCall(t48, e6) {
    return this.track(new Gv(t48), e6);
  }
  mapViewSetHoverColorCall(t48, e6) {
    return this.track(new Vv(t48), e6);
  }
  mapViewSetMapCall(t48, e6) {
    return this.track(new Hv(t48), e6);
  }
  mapViewSetPolygonColorCall(t48, e6) {
    return this.track(new jv(t48), e6);
  }
  mapViewSetStateCall(t48, e6) {
    return this.track(new Wv(t48), e6);
  }
  metricsMapLoadEvent(t48, e6) {
    return this.track(new Yv(t48), e6);
  }
  offlineSearchAddQueryCall(t48, e6) {
    return this.track(new Xv(t48), e6);
  }
  offlineSearchConstructorCall(t48, e6) {
    return this.track(new Zv(t48), e6);
  }
  offlineSearchSearchCall(t48, e6) {
    return this.track(new Qv(t48), e6);
  }
  offlineSearchSuggestCall(t48, e6) {
    return this.track(new Kv(t48), e6);
  }
};
q(u4, "Ampli");
var RA = u4;
var Jv = new RA();
c();
var yH = u(jk());
var xH = u(O4());
c();
var cH = u(bq());
c(), c(), c();
var wF = u(_F());
c();
var nP = class {
  constructor({ origin: t48, destination: e6, vortex: i, elevationDelta: n = 0, distance: r = 0, angle: o3 = 0, pathWeight: s6 = 0 }) {
    let a, l;
    if (v(this, "origin"), v(this, "destination"), v(this, "vortex"), v(this, "distance"), v(this, "angle"), v(this, "weight"), this.origin = t48, this.destination = e6, this.vortex = i, this.distance = r, this.angle = o3, i)
      this.distance = 0, this.angle = 0, a = void 0 !== i.weight && i.weight > 0 ? i.weight : "elevator" === i.type ? 2e3 : 1e3, l = i.multiplier && i.multiplier >= 1 ? i.multiplier : 1, this.weight = n * l + a;
    else {
      let t49 = s6 || e6.weight;
      a = t49 && t49 >= 0 ? t49 : 0, l = e6.multiplier && e6.multiplier >= 1 ? e6.multiplier : 1, this.weight = this.distance * l + a;
    }
    if (isNaN(this.angle))
      throw new Error("nan angle");
  }
};
q(nP, "Edge");
var tP = nP;
var Kf = tP;
function Gre(t48) {
  if (t48.scale || t48.x_scale)
    return 1 / (t48.scale || t48.x_scale || 1);
  try {
    if (!t48.georeference)
      throw new Error("map ".concat(t48.name || t48.shortName || t48.id, " does not have a georeference field"));
    if (t48.georeference.length < 3)
      throw new Error("map ".concat(t48.name || t48.shortName || t48.id, " has less than 3 georeference points, we require at least 3 for proper map scaling"));
    let e6 = t48.georeference[0], i = t48.georeference[2], n = (0, wF.getDistance)({ latitude: e6.target.x, longitude: e6.target.y }, { latitude: i.target.x, longitude: i.target.y }), r = e6.control.x - i.control.x, o3 = e6.control.y - i.control.y;
    return Math.sqrt(r * r + o3 * o3) / n;
  } catch (t49) {
    return Le.error(t49), 1;
  }
}
function Iw(t48, e6) {
  let i = t48.x - e6.x, n = t48.y - e6.y;
  return (Math.atan2(n, i) + 2.5 * Math.PI) % (2 * Math.PI);
}
q(Gre, "getMapScale"), q(Iw, "getAngle");
var sP = class {
  constructor({ nodes: t48, vortexes: e6, maps: i, showVortexNames: n = false }) {
    v(this, "edges"), v(this, "nodesById"), v(this, "mapsById"), this.edges = {}, this.mapsById = i.map((t49) => ({ ...t49, _scale: Gre(t49) })).reduce((t49, e10) => (t49[e10.id] = e10, t49), {});
    let r = t48.filter((t49) => !!this.mapsById[t49.map]).map((t49) => ({ ...t49, paths: t49.paths ? t49.paths.filter(({ map: e10 }) => e10 === t49.map) : [] }));
    this.nodesById = r.reduce((t49, e10) => (t49[e10.id] = e10, t49), {});
    for (let t49 in this.nodesById)
      this.nodesById.hasOwnProperty(t49) && (this.nodesById[t49].paths = this.nodesById[t49].paths.filter(({ node: t50 }) => !!this.nodesById[t50]));
    let o3 = e6.map((t49) => ({ ...t49, name: n ? t49.name : t49.type, nodes: t49.nodes ? t49.nodes.filter((t50) => !!this.nodesById[t50]) : [] }));
    r.forEach((t49) => {
      this.edges[t49.id] = t49.paths.map(({ node: e10, weight: i10 }) => {
        let n10 = this.nodesById[e10];
        return new Kf({ angle: Iw(t49, n10), destination: n10, distance: this.getDistance(t49, n10), origin: t49, pathWeight: i10 });
      });
    }), o3.forEach((t49) => {
      if (null == t49.nodes || 0 === t49.nodes.length)
        return;
      let e10 = 0;
      for (; e10 < t49.nodes.length - 1; ) {
        let i10 = this.nodesById[t49.nodes[e10]];
        if (e10++, null == i10)
          continue;
        let n10 = e10;
        for (; n10 < t49.nodes.length; ) {
          let e11 = this.nodesById[t49.nodes[n10]];
          if (n10++, null == e11)
            continue;
          let r6 = this.mapsById[i10.map].elevation || 0, o6 = this.mapsById[e11.map].elevation || 0, s6 = Math.abs(r6 - o6);
          this.edges[i10.id].push(new Kf({ destination: e11, elevationDelta: s6, origin: i10, vortex: t49 })), this.edges[e11.id].push(new Kf({ destination: i10, elevationDelta: s6, origin: e11, vortex: t49 }));
        }
      }
    });
  }
  aStar({ originIds: t48, destinationNodeIds: e6, accessible: i, includedVortexIds: n, excludedVortexIds: r }) {
    let o3 = t48.map((t49) => this.nodesById[t49]).filter((t49) => t49), s6 = e6.map((t49) => this.nodesById[t49]).filter((t49) => t49);
    if (0 === o3.length || 0 === s6.length)
      return [];
    let a = [], l = {}, u2 = {};
    for (o3.forEach((t49) => {
      let e10 = this.getShortestEuclideanDistance(t49, s6);
      a.push({ origin: t49, priority: e10 }), l[t49.id] = null, u2[t49.id] = 0;
    }), a.sort((t49, e10) => t49.priority - e10.priority); a.length > 0; ) {
      let t49 = a[0];
      if (s6.includes(t49.origin)) {
        let e10 = [], i10 = l[t49.origin.id];
        for (; null != i10; ) {
          e10.push(i10);
          let t50 = l[i10.origin.id];
          i10 = null != t50 ? t50 : null;
        }
        return e10.reverse();
      }
      for (let e10 of this.edges[t49.origin.id]) {
        let o6 = e10.vortex && false === e10.vortex.accessible || false === e10.origin.accessible || false === e10.destination.accessible, h = e10.vortex && (n && !n.has(e10.vortex.id) || r && r.has(e10.vortex.id));
        if (i && o6 || h)
          continue;
        let c2 = u2[t49.origin.id] + e10.weight;
        if (null == u2[e10.destination.id] || c2 < u2[e10.destination.id]) {
          u2[e10.destination.id] = c2;
          let t50 = c2 + this.getShortestEuclideanDistance(e10.destination, s6);
          a.push({ origin: e10.destination, priority: t50 }), l[e10.destination.id] = e10;
        }
      }
      a.splice(0, 1), a.sort((t50, e10) => t50.priority - e10.priority);
    }
    return [];
  }
  getDistance(t48, e6) {
    let i, n = t48.x - e6.x, r = t48.y - e6.y, o3 = n * n + r * r;
    return i = null == this.mapsById[t48.map] ? 1 : this.mapsById[t48.map]._scale, Math.sqrt(o3) / i;
  }
  getShortestEuclideanDistance(t48, e6) {
    return e6.reduce((e10, i) => {
      let n = this.getDistance(t48, i);
      return Math.min(e10, n);
    }, Number.MAX_VALUE);
  }
};
q(sP, "NavigationGraph");
var iP = sP;
var rP = iP;
c(), c();
var Jf = ((t48) => (t48.DEPARTURE = "Departure", t48.TAKEVORTEX = "TakeVortex", t48.EXITVORTEX = "ExitVortex", t48.TURN = "Turn", t48.ARRIVAL = "Arrival", t48))(Jf || {});
var g1 = ((t48) => (t48.STRAIGHT = "Straight", t48.RIGHT = "Right", t48.SLIGHTRIGHT = "SlightRight", t48.LEFT = "Left", t48.SLIGHTLEFT = "SlightLeft", t48))(g1 || {});
function Vre(t48) {
  switch (t48) {
    case "down":
    case "up":
      return "".concat(t48, " ");
    default:
      return "";
  }
}
q(Vre, "vortexDirectionTest");
var aP = class {
  constructor({ origin: t48, action: e6, distance: i, atLocation: n, instruction: r }) {
    v(this, "node"), v(this, "instruction"), v(this, "action"), v(this, "atLocation"), v(this, "type"), v(this, "distance", 0), this.node = t48, this.action = e6, this.distance = i || 0, this.atLocation = n, this.instruction = "", r ? this.instruction = r : (null != e6 && "Departure" === e6.type ? this.instruction = null != n ? "Depart from ".concat(n.name) : "Depart from current location" : null != e6 && "Arrival" === e6.type ? this.instruction = null != n ? "Arrive at ".concat(n.name) : "Arrive at destination" : null != e6 && "TakeVortex" === e6.type ? this.instruction = "Take ".concat(n && n.name, " ").concat(Vre(e6.direction), "to ").concat(e6.toMap.name) : null != e6 && "ExitVortex" === e6.type ? this.instruction = "Exit ".concat(n && n.name, " at ").concat(e6.toMap.name) : null != e6 && "bearing" in e6 && "Right" === e6.bearing ? this.instruction = "Turn right" : null != e6 && "bearing" in e6 && "SlightRight" === e6.bearing ? this.instruction = "Turn slightly right" : null != e6 && "bearing" in e6 && "Straight" === e6.bearing ? this.instruction = "Head straight" : null != e6 && "bearing" in e6 && "SlightLeft" === e6.bearing ? this.instruction = "Turn slightly left" : null != e6 && "bearing" in e6 && "Left" === e6.bearing && (this.instruction = "Turn left"), null != e6 && "Turn" === e6.type && n && (this.instruction += " at ".concat(n.name)));
  }
};
q(aP, "Directive");
var oP = aP;
var Ph = oP;
function lP(t48, e6, i, n) {
  if (!(t48 && e6 && i && n))
    return null;
  let r = t48.x, o3 = t48.y, s6 = e6.x, a = e6.y, l = i.x, u2 = i.y, h = n.x, c2 = n.y;
  if (r === s6 && o3 === a || l === h && u2 === c2)
    return null;
  let p4 = (c2 - u2) * (s6 - r) - (h - l) * (a - o3);
  if (0 === p4)
    return null;
  let d = ((h - l) * (o3 - u2) - (c2 - u2) * (r - l)) / p4, f = ((s6 - r) * (o3 - u2) - (a - o3) * (r - l)) / p4;
  return d < 0 || d > 1 || f < 0 || f > 1 ? null : { x: r + d * (s6 - r), y: o3 + d * (a - o3) };
}
function MF(t48, e6, i) {
  if (t48.x === e6.x)
    return [{ x: t48.x + i, y: t48.y }, { x: e6.x + i, y: e6.y }];
  if (t48.y === e6.y)
    return [{ x: t48.x, y: t48.y + i }, { x: e6.x, y: e6.y + i }];
  let n = -1 / ((e6.y - t48.y) / (e6.x - t48.x)), r = i * Math.sqrt(1 / (1 + n * n)), o3 = n * r;
  return [{ x: t48.x + r, y: t48.y + o3 }, { x: e6.x + r, y: e6.y + o3 }];
}
function EF(t48, e6, i = [], n = 0) {
  let r = true;
  return i.forEach((i10) => {
    if (n > 0) {
      let o3 = MF(t48, e6, -n), s6 = MF(t48, e6, n);
      if (lP(o3[0], o3[1], i10[0], i10[1]) || lP(s6[0], s6[1], i10[0], i10[1]))
        return void (r = false);
    } else if (lP(t48, e6, i10[0], i10[1]))
      return void (r = false);
  }), r;
}
c(), q(lP, "getLineIntersection"), q(MF, "getOffsetLine"), q(EF, "hasLineOfSight");
var Ow = 0.1 * Math.PI;
function Lw(t48, e6) {
  return ((e6 - t48 + Math.PI) % (2 * Math.PI) + 2 * Math.PI) % (2 * Math.PI) - Math.PI;
}
q(Lw, "differenceBetweenAngles");
var hP = class {
  constructor({ locations: t48, nodes: e6, vortexes: i, maps: n, polygons: r, showVortexNames: o3 }) {
    v(this, "graph"), v(this, "locationsByNodeId"), v(this, "geometryEdgesByMapId", /* @__PURE__ */ new Map()), this.graph = new rP({ maps: n, nodes: e6, showVortexNames: o3, vortexes: i }), this.locationsByNodeId = t48.reduce((t49, e10) => (e10.nodes && e10.nodes.forEach((i10) => {
      t49[i10.node] = e10;
    }), e10.polygons && e10.polygons.forEach((i10) => {
      i10.entrances && i10.entrances.forEach((i11) => {
        t49[i11] = e10;
      });
    }), t49), {}), r && r.forEach((t49) => {
      this.geometryEdgesByMapId.has(t49.map) || this.geometryEdgesByMapId.set(t49.map, []), t49.vertexes.forEach((e10, i10) => {
        t49.vertexes[i10 + 1] ? this.geometryEdgesByMapId.get(t49.map).push([e10, t49.vertexes[i10 + 1]]) : this.geometryEdgesByMapId.get(t49.map).push([e10, t49.vertexes[0]]);
      });
    });
  }
  getClosestLocationInRay(t48, e6 = 0.5 * Math.PI, i = 10) {
    let n = 0, r = 0, o3 = t48;
    for (; Math.abs(n) < e6 && r < i; ) {
      let t49 = this.graph.edges[o3.destination.id], s6 = null, a = 0;
      for (let e10 of t49)
        if (e10.distance > 0)
          if (null != s6) {
            let t50 = -Lw(o3.angle, e10.angle);
            Math.abs(t50) < Math.abs(a) && (s6 = e10, a = t50);
          } else
            s6 = e10, a = -Lw(o3.angle, e10.angle);
      if (null == s6)
        return null;
      {
        if (Math.abs(a) >= e6 || (n += a, r += s6.distance, Math.abs(n) >= e6 || r > i))
          return null;
        let t50 = this.locationsByNodeId[s6.destination.id];
        if (null != t50)
          return t50;
        o3 = s6;
      }
    }
    return null;
  }
  getDirections({ originIds: t48, destinationNodeIds: e6, accessible: i, departFrom: n, arriveAt: r, includedVortexIds: o3, excludedVortexIds: s6, simplify: a }) {
    var l, u2, h;
    let c2 = this.graph.aStar({ originIds: t48, destinationNodeIds: e6, accessible: i, includedVortexIds: o3, excludedVortexIds: s6 });
    if (0 === c2.length)
      return { distance: 0, instructions: [new Ph({ distance: 0, instruction: "No Valid Path Available" })], path: [] };
    let p4 = 0, d = [], f = [];
    if (null != a && a.enabled) {
      let t49 = null != (l = null == a ? void 0 : a.bufferRadius) ? l : 1.8, e10 = [c2[0]];
      for (let i11 = 1; i11 < c2.length; i11++) {
        if (c2[i11].origin.map !== c2[i11 - 1].origin.map) {
          let n11 = null != (u2 = this.geometryEdgesByMapId.get(c2[i11 - 1].origin.map)) ? u2 : [];
          f.push(...this.simplifySteps(e10, n11, t49)), e10 = [c2[i11]];
        }
        e10.push(c2[i11]);
      }
      let i10 = c2[c2.length - 1], n10 = null != (h = this.geometryEdgesByMapId.get(i10.origin.map)) ? h : [];
      f.push(...this.simplifySteps(e10, n10, t49)), c2 = f;
    }
    for (let t49 = 0; t49 < c2.length; t49++)
      d.push(c2[t49].origin);
    d.push(c2[c2.length - 1].destination);
    let g = [], m = null, v4 = null, y4 = 0, x4 = 0;
    for (let t49 = 0; t49 < c2.length; t49++) {
      let e10 = c2[t49], i10 = e10.origin, o6 = e10.destination;
      if (p4 += e10.distance, y4 += (null == v4 ? void 0 : v4.distance) || 0, 0 === t49 && g.push(new Ph({ action: { type: "Departure" }, atLocation: n, distance: 0, origin: i10 })), null != e10.vortex) {
        let t50 = this.graph.mapsById[i10.map], n10 = this.graph.mapsById[o6.map], r6 = "none";
        if (null != t50.elevation && null != n10.elevation) {
          let e11 = t50.elevation - n10.elevation;
          e11 > 0 ? r6 = "down" : e11 < 0 && (r6 = "up");
        }
        g.push(new Ph({ action: { direction: r6, fromMap: t50, toMap: n10, type: "TakeVortex" }, atLocation: e10.vortex, distance: y4, origin: i10 })), x4 += y4, y4 = 0;
      } else if (null != m && null != v4)
        if (null != v4.vortex) {
          let t50 = this.graph.mapsById[m.map], e11 = this.graph.mapsById[v4.destination.map];
          g.push(new Ph({ action: { fromMap: t50, toMap: e11, type: "ExitVortex" }, atLocation: v4.vortex, distance: y4, origin: i10 })), x4 += y4, y4 = 0;
        } else {
          let t50 = this.graph.edges[i10.id].filter((t51) => t51.destination !== m && t51.destination !== e10.destination);
          if (t50.length > 0) {
            let n10 = -Lw(v4.angle, e10.angle), r6 = t50.reduce((t51, i11) => {
              let n11 = -Lw(e10.angle, i11.angle);
              return Math.min(t51, Math.abs(n11));
            }, Math.PI);
            if (Math.abs(n10) >= Ow || Math.abs(r6) <= Ow) {
              let t51;
              t51 = n10 <= -Math.PI / 4 ? "Right" : n10 <= -Ow ? "SlightRight" : n10 <= Ow ? "Straight" : n10 <= Math.PI / 4 ? "SlightLeft" : "Left";
              let e11 = this.locationsByNodeId[i10.id];
              if (e11 || (e11 = this.getClosestLocationInRay(v4, 0.5 * Math.PI, 10)), null != e11) {
                let n11 = new Ph({ action: { bearing: t51, referencePosition: "At", type: "Turn" }, atLocation: e11, distance: y4, origin: i10 });
                n11.type = t51, g.push(n11);
              } else
                g.push(new Ph({ action: { bearing: t51, referencePosition: "At", type: "Turn" }, distance: y4, origin: i10 }));
              x4 += y4, y4 = 0;
            }
          }
        }
      t49 === c2.length - 1 && (g.push(new Ph({ action: { type: "Arrival" }, atLocation: r, distance: p4 - x4 < 0 ? 0 : p4 - x4, origin: e10.destination })), x4 += y4, y4 = 0), m = i10, v4 = e10;
    }
    let _ = [], b = null;
    for (let t49 = g.length - 1; t49 >= 0; t49--) {
      let e10 = g[t49], { action: i10 } = e10;
      i10 && "TakeVortex" === i10.type ? (b = e10.node, _.unshift(e10)) : i10 && "Turn" === i10.type && null != b ? this.graph.getDistance(e10.node, b) > 5 && _.unshift(e10) : _.unshift(e10);
    }
    return { distance: p4, instructions: _, path: d };
  }
  simplifySteps(t48, e6, i) {
    if (t48.length < 3)
      return t48;
    let n = [t48[0]], r = 1;
    for (let o3 = r + 2; o3 < t48.length; o3++)
      if (!EF(t48[r].origin, t48[o3].origin, e6, i)) {
        let e10 = o3 - 1;
        n.push(new Kf({ ...t48[r], destination: t48[e10].origin, distance: this.graph.getDistance(t48[r].origin, t48[e10].origin), angle: Iw(t48[r].origin, t48[e10].origin) })), r = e10;
      }
    return n.push(new Kf({ ...t48[r], destination: t48[t48.length - 1].origin, distance: this.graph.getDistance(t48[r].origin, t48[t48.length - 1].origin), angle: Iw(t48[r].origin, t48[t48.length - 1].origin) }), t48[t48.length - 1]), n;
  }
};
q(hP, "Navigator");
var uP = hP;
var cP = uP;
c(), c(), c(), c();
var ds = 63710088e-1;
var TF = { centimeters: 100 * ds, centimetres: 100 * ds, degrees: ds / 111325, feet: 3.28084 * ds, inches: 39.37 * ds, kilometers: ds / 1e3, kilometres: ds / 1e3, meters: ds, metres: ds, miles: ds / 1609.344, millimeters: 1e3 * ds, millimetres: 1e3 * ds, nauticalmiles: ds / 1852, radians: 1, yards: 1.0936 * ds };
var oIe = { centimeters: 100, centimetres: 100, degrees: 1 / 111325, feet: 3.28084, inches: 39.37, kilometers: 1e-3, kilometres: 1e-3, meters: 1, metres: 1, miles: 1 / 1609.344, millimeters: 1e3, millimetres: 1e3, nauticalmiles: 1 / 1852, radians: 1 / ds, yards: 1.0936133 };
function ms(t48, e6, i) {
  void 0 === i && (i = {});
  var n = { type: "Feature" };
  return (0 === i.id || i.id) && (n.id = i.id), i.bbox && (n.bbox = i.bbox), n.properties = e6 || {}, n.geometry = t48, n;
}
function oi(t48, e6, i) {
  if (void 0 === i && (i = {}), !t48)
    throw new Error("coordinates is required");
  if (!Array.isArray(t48))
    throw new Error("coordinates must be an Array");
  if (t48.length < 2)
    throw new Error("coordinates must be at least 2 numbers long");
  if (!lu(t48[0]) || !lu(t48[1]))
    throw new Error("coordinates must contain numbers");
  return ms({ type: "Point", coordinates: t48 }, e6, i);
}
function Vi(t48, e6, i) {
  void 0 === i && (i = {});
  for (var n = 0, r = t48; n < r.length; n++) {
    var o3 = r[n];
    if (o3.length < 4)
      throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
    for (var s6 = 0; s6 < o3[o3.length - 1].length; s6++)
      if (o3[o3.length - 1][s6] !== o3[0][s6])
        throw new Error("First and last Position are not equivalent.");
  }
  return ms({ type: "Polygon", coordinates: t48 }, e6, i);
}
function gr(t48, e6, i) {
  if (void 0 === i && (i = {}), t48.length < 2)
    throw new Error("coordinates must be an array of two or more positions");
  return ms({ type: "LineString", coordinates: t48 }, e6, i);
}
function $t(t48, e6) {
  void 0 === e6 && (e6 = {});
  var i = { type: "FeatureCollection" };
  return e6.id && (i.id = e6.id), e6.bbox && (i.bbox = e6.bbox), i.features = t48, i;
}
function $f(t48, e6, i) {
  return void 0 === i && (i = {}), ms({ type: "MultiLineString", coordinates: t48 }, e6, i);
}
function fP(t48, e6, i) {
  return void 0 === i && (i = {}), ms({ type: "MultiPoint", coordinates: t48 }, e6, i);
}
function v1(t48, e6) {
  void 0 === e6 && (e6 = "kilometers");
  var i = TF[e6];
  if (!i)
    throw new Error(e6 + " units is invalid");
  return t48 * i;
}
function y1(t48, e6) {
  void 0 === e6 && (e6 = "kilometers");
  var i = TF[e6];
  if (!i)
    throw new Error(e6 + " units is invalid");
  return t48 / i;
}
function ep(t48) {
  return 180 * (t48 % (2 * Math.PI)) / Math.PI;
}
function Ns(t48) {
  return t48 % 360 * Math.PI / 180;
}
function lu(t48) {
  return !isNaN(t48) && null !== t48 && !Array.isArray(t48);
}
function ns(t48, e6, i) {
  if (null !== t48)
    for (var n, r, o3, s6, a, l, u2, h, c2 = 0, p4 = 0, d = t48.type, f = "FeatureCollection" === d, g = "Feature" === d, m = f ? t48.features.length : 1, v4 = 0; v4 < m; v4++) {
      a = (h = !!(u2 = f ? t48.features[v4].geometry : g ? t48.geometry : t48) && "GeometryCollection" === u2.type) ? u2.geometries.length : 1;
      for (var y4 = 0; y4 < a; y4++) {
        var x4 = 0, _ = 0;
        if (null !== (s6 = h ? u2.geometries[y4] : u2)) {
          l = s6.coordinates;
          var b = s6.type;
          switch (c2 = !i || "Polygon" !== b && "MultiPolygon" !== b ? 0 : 1, b) {
            case null:
              break;
            case "Point":
              if (false === e6(l, p4, v4, x4, _))
                return false;
              p4++, x4++;
              break;
            case "LineString":
            case "MultiPoint":
              for (n = 0; n < l.length; n++) {
                if (false === e6(l[n], p4, v4, x4, _))
                  return false;
                p4++, "MultiPoint" === b && x4++;
              }
              "LineString" === b && x4++;
              break;
            case "Polygon":
            case "MultiLineString":
              for (n = 0; n < l.length; n++) {
                for (r = 0; r < l[n].length - c2; r++) {
                  if (false === e6(l[n][r], p4, v4, x4, _))
                    return false;
                  p4++;
                }
                "MultiLineString" === b && x4++, "Polygon" === b && _++;
              }
              "Polygon" === b && x4++;
              break;
            case "MultiPolygon":
              for (n = 0; n < l.length; n++) {
                for (_ = 0, r = 0; r < l[n].length; r++) {
                  for (o3 = 0; o3 < l[n][r].length - c2; o3++) {
                    if (false === e6(l[n][r][o3], p4, v4, x4, _))
                      return false;
                    p4++;
                  }
                  _++;
                }
                x4++;
              }
              break;
            case "GeometryCollection":
              for (n = 0; n < s6.geometries.length; n++)
                if (false === ns(s6.geometries[n], e6, i))
                  return false;
              break;
            default:
              throw new Error("Unknown Geometry Type");
          }
        }
      }
    }
}
function SF(t48, e6, i, n) {
  var r = i;
  return ns(t48, function(t49, n10, o3, s6, a) {
    r = 0 === n10 && void 0 === i ? t49 : e6(r, t49, n10, o3, s6, a);
  }, n), r;
}
function Ci(t48, e6) {
  if ("Feature" === t48.type)
    e6(t48, 0);
  else if ("FeatureCollection" === t48.type)
    for (var i = 0; i < t48.features.length && false !== e6(t48.features[i], i); i++)
      ;
}
function uu(t48, e6) {
  var i, n, r, o3, s6, a, l, u2, h, c2, p4 = 0, d = "FeatureCollection" === t48.type, f = "Feature" === t48.type, g = d ? t48.features.length : 1;
  for (i = 0; i < g; i++) {
    for (a = d ? t48.features[i].geometry : f ? t48.geometry : t48, u2 = d ? t48.features[i].properties : f ? t48.properties : {}, h = d ? t48.features[i].bbox : f ? t48.bbox : void 0, c2 = d ? t48.features[i].id : f ? t48.id : void 0, s6 = (l = !!a && "GeometryCollection" === a.type) ? a.geometries.length : 1, r = 0; r < s6; r++)
      if (null !== (o3 = l ? a.geometries[r] : a))
        switch (o3.type) {
          case "Point":
          case "LineString":
          case "MultiPoint":
          case "Polygon":
          case "MultiLineString":
          case "MultiPolygon":
            if (false === e6(o3, p4, u2, h, c2))
              return false;
            break;
          case "GeometryCollection":
            for (n = 0; n < o3.geometries.length; n++)
              if (false === e6(o3.geometries[n], p4, u2, h, c2))
                return false;
            break;
          default:
            throw new Error("Unknown Geometry Type");
        }
      else if (false === e6(null, p4, u2, h, c2))
        return false;
    p4++;
  }
}
function vo(t48, e6) {
  uu(t48, function(t49, i, n, r, o3) {
    var s6, a = null === t49 ? null : t49.type;
    switch (a) {
      case null:
      case "Point":
      case "LineString":
      case "Polygon":
        return false !== e6(ms(t49, n, { bbox: r, id: o3 }), i, 0) && void 0;
    }
    switch (a) {
      case "MultiPoint":
        s6 = "Point";
        break;
      case "MultiLineString":
        s6 = "LineString";
        break;
      case "MultiPolygon":
        s6 = "Polygon";
    }
    for (var l = 0; l < t49.coordinates.length; l++) {
      var u2 = t49.coordinates[l];
      if (false === e6(ms({ type: s6, coordinates: u2 }, n), i, l))
        return false;
    }
  });
}
function Dw(t48, e6) {
  vo(t48, function(t49, i, n) {
    var r = 0;
    if (t49.geometry) {
      var o3 = t49.geometry.type;
      if ("Point" !== o3 && "MultiPoint" !== o3) {
        var s6, a = 0, l = 0, u2 = 0;
        if (false === ns(t49, function(o6, h, c2, p4, d) {
          if (void 0 === s6 || i > a || p4 > l || d > u2)
            return s6 = o6, a = i, l = p4, u2 = d, void (r = 0);
          var f = gr([s6, o6], t49.properties);
          if (false === e6(f, i, n, d, r))
            return false;
          r++, s6 = o6;
        }))
          return false;
      }
    }
  });
}
function AF(t48, e6, i) {
  var n = i, r = false;
  return Dw(t48, function(t49, o3, s6, a, l) {
    n = false === r && void 0 === i ? t49 : e6(n, t49, o3, s6, a, l), r = true;
  }), n;
}
function pP(t48) {
  var e6 = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
  return ns(t48, function(t49) {
    e6[0] > t49[0] && (e6[0] = t49[0]), e6[1] > t49[1] && (e6[1] = t49[1]), e6[2] < t49[0] && (e6[2] = t49[0]), e6[3] < t49[1] && (e6[3] = t49[1]);
  }), e6;
}
q(ms, "feature"), q(oi, "point"), q(Vi, "polygon"), q(gr, "lineString"), q($t, "featureCollection"), q($f, "multiLineString"), q(fP, "multiPoint"), q(v1, "radiansToLength"), q(y1, "lengthToRadians"), q(ep, "radiansToDegrees"), q(Ns, "degreesToRadians"), q(lu, "isNumber"), q(ns, "coordEach"), q(SF, "coordReduce"), q(Ci, "featureEach"), q(uu, "geomEach"), q(vo, "flattenEach"), q(Dw, "segmentEach"), q(AF, "segmentReduce"), q(pP, "bbox"), pP.default = pP;
var Rs = pP;
c(), c();
var CF = "";
var ko = class t {
  static get separator() {
    return CF;
  }
  static set separator(t48) {
    CF = t48;
  }
  static parse(t48) {
    if (!isNaN(parseFloat(t48)) && isFinite(t48))
      return Number(t48);
    let e6 = String(t48).trim().replace(/^-/, "").replace(/[NSEW]$/i, "").split(/[^0-9.,]+/);
    if ("" == e6[e6.length - 1] && e6.splice(e6.length - 1), "" == e6)
      return NaN;
    let i = null;
    switch (e6.length) {
      case 3:
        i = e6[0] / 1 + e6[1] / 60 + e6[2] / 3600;
        break;
      case 2:
        i = e6[0] / 1 + e6[1] / 60;
        break;
      case 1:
        i = e6[0];
        break;
      default:
        return NaN;
    }
    return /^-|[WS]$/i.test(t48.trim()) && (i = -i), Number(i);
  }
  static toDms(e6, i = "d", n) {
    if (isNaN(e6) || "string" == typeof e6 && "" == e6.trim() || "boolean" == typeof e6 || e6 == 1 / 0 || null == e6)
      return null;
    if (void 0 === n)
      switch (i) {
        case "d":
        case "deg":
          n = 4;
          break;
        case "dm":
        case "deg+min":
          n = 2;
          break;
        case "dms":
        case "deg+min+sec":
          n = 0;
          break;
        default:
          i = "d", n = 4;
      }
    e6 = Math.abs(e6);
    let r = null, o3 = null, s6 = null, a = null;
    switch (i) {
      default:
      case "d":
      case "deg":
        o3 = e6.toFixed(n), o3 < 100 && (o3 = "0" + o3), o3 < 10 && (o3 = "0" + o3), r = o3 + "";
        break;
      case "dm":
      case "deg+min":
        o3 = Math.floor(e6), s6 = (60 * e6 % 60).toFixed(n), 60 == s6 && (s6 = 0 .toFixed(n), o3++), o3 = ("000" + o3).slice(-3), s6 < 10 && (s6 = "0" + s6), r = o3 + "" + t.separator + s6 + "";
        break;
      case "dms":
      case "deg+min+sec":
        o3 = Math.floor(e6), s6 = Math.floor(3600 * e6 / 60) % 60, a = (3600 * e6 % 60).toFixed(n), 60 == a && (a = 0 .toFixed(n), s6++), 60 == s6 && (s6 = 0, o3++), o3 = ("000" + o3).slice(-3), s6 = ("00" + s6).slice(-2), a < 10 && (a = "0" + a), r = o3 + "" + t.separator + s6 + "" + t.separator + a + "";
    }
    return r;
  }
  static toLat(e6, i, n) {
    let r = t.toDms(t.wrap90(e6), i, n);
    return null === r ? "" : r.slice(1) + t.separator + (e6 < 0 ? "S" : "N");
  }
  static toLon(e6, i, n) {
    let r = t.toDms(t.wrap180(e6), i, n);
    return null === r ? "" : r + t.separator + (e6 < 0 ? "W" : "E");
  }
  static toBrng(e6, i, n) {
    let r = t.toDms(t.wrap360(e6), i, n);
    return null === r ? "" : r.replace("360", "0");
  }
  static fromLocale(t48) {
    let e6 = 123456.789.toLocaleString(), i = { thousands: e6.slice(3, 4), decimal: e6.slice(7, 8) };
    return t48.replace(i.thousands, "").replace(i.decimal, ".").replace("", ",");
  }
  static toLocale(t48) {
    let e6 = 123456.789.toLocaleString(), i = { thousands: e6.slice(3, 4), decimal: e6.slice(7, 8) };
    return t48.replace(/,([0-9])/, "$1").replace(".", i.decimal).replace("", i.thousands);
  }
  static compassPoint(e6, i = 3) {
    if (![1, 2, 3].includes(Number(i)))
      throw new RangeError("invalid precision ".concat(i, ""));
    e6 = t.wrap360(e6);
    let n = 4 * 2 ** (i - 1);
    return ["N", "NNE", "NE", "ENE", "E", "ESE", "SE", "SSE", "S", "SSW", "SW", "WSW", "W", "WNW", "NW", "NNW"][Math.round(e6 * n / 360) % n * 16 / n];
  }
  static wrap360(t48) {
    return 0 <= t48 && t48 < 360 ? t48 : (t48 % 360 + 360) % 360;
  }
  static wrap180(t48) {
    return -180 < t48 && t48 <= 180 ? t48 : (t48 + 540) % 360 - 180;
  }
  static wrap90(t48) {
    return -90 <= t48 && t48 <= 90 ? t48 : Math.abs((t48 % 360 + 270) % 360 - 180) - 90;
  }
};
q(ko, "Dms");
var dP = ko;
Number.prototype.toRadians = function() {
  return this * Math.PI / 180;
}, Number.prototype.toDegrees = function() {
  return 180 * this / Math.PI;
};
var Wn = dP;
var yr = Math.PI;
var en = class t2 {
  constructor(t48, e6) {
    if (isNaN(t48))
      throw new TypeError("invalid lat ".concat(t48, ""));
    if (isNaN(e6))
      throw new TypeError("invalid lon ".concat(e6, ""));
    this._lat = Wn.wrap90(Number(t48)), this._lon = Wn.wrap180(Number(e6));
  }
  get lat() {
    return this._lat;
  }
  get latitude() {
    return this._lat;
  }
  set lat(t48) {
    if (this._lat = isNaN(t48) ? Wn.wrap90(Wn.parse(t48)) : Wn.wrap90(Number(t48)), isNaN(this._lat))
      throw new TypeError("invalid lat ".concat(t48, ""));
  }
  set latitude(t48) {
    if (this._lat = isNaN(t48) ? Wn.wrap90(Wn.parse(t48)) : Wn.wrap90(Number(t48)), isNaN(this._lat))
      throw new TypeError("invalid latitude ".concat(t48, ""));
  }
  get lon() {
    return this._lon;
  }
  get lng() {
    return this._lon;
  }
  get longitude() {
    return this._lon;
  }
  set lon(t48) {
    if (this._lon = isNaN(t48) ? Wn.wrap180(Wn.parse(t48)) : Wn.wrap180(Number(t48)), isNaN(this._lon))
      throw new TypeError("invalid lon ".concat(t48, ""));
  }
  set lng(t48) {
    if (this._lon = isNaN(t48) ? Wn.wrap180(Wn.parse(t48)) : Wn.wrap180(Number(t48)), isNaN(this._lon))
      throw new TypeError("invalid lng ".concat(t48, ""));
  }
  set longitude(t48) {
    if (this._lon = isNaN(t48) ? Wn.wrap180(Wn.parse(t48)) : Wn.wrap180(Number(t48)), isNaN(this._lon))
      throw new TypeError("invalid longitude ".concat(t48, ""));
  }
  static get metresToKm() {
    return 1e-3;
  }
  static get metresToMiles() {
    return 1 / 1609.344;
  }
  static get metresToNauticalMiles() {
    return 1 / 1852;
  }
  static parse(...e6) {
    if (0 == e6.length)
      throw new TypeError("invalid (empty) point");
    if (null === e6[0] || null === e6[1])
      throw new TypeError("invalid (null) point");
    let i, n;
    if (2 == e6.length && ([i, n] = e6, i = Wn.wrap90(Wn.parse(i)), n = Wn.wrap180(Wn.parse(n)), isNaN(i) || isNaN(n)))
      throw new TypeError("invalid point ".concat(e6.toString(), ""));
    if (1 == e6.length && "string" == typeof e6[0] && ([i, n] = e6[0].split(","), i = Wn.wrap90(Wn.parse(i)), n = Wn.wrap180(Wn.parse(n)), isNaN(i) || isNaN(n)))
      throw new TypeError("invalid point ".concat(e6[0], ""));
    if (1 == e6.length && "object" == typeof e6[0]) {
      let t48 = e6[0];
      if ("Point" == t48.type && Array.isArray(t48.coordinates) ? [n, i] = t48.coordinates : (null != t48.latitude && (i = t48.latitude), null != t48.lat && (i = t48.lat), null != t48.longitude && (n = t48.longitude), null != t48.lng && (n = t48.lng), null != t48.lon && (n = t48.lon), i = Wn.wrap90(Wn.parse(i)), n = Wn.wrap180(Wn.parse(n))), isNaN(i) || isNaN(n))
        throw new TypeError("invalid point ".concat(JSON.stringify(e6[0]), ""));
    }
    if (isNaN(i) || isNaN(n))
      throw new TypeError("invalid point ".concat(e6.toString(), ""));
    return new t2(i, n);
  }
  distanceTo(e6, i = 6371e3) {
    if (e6 instanceof t2 || (e6 = t2.parse(e6)), isNaN(i))
      throw new TypeError("invalid radius ".concat(i, ""));
    let n = i, r = this.lat.toRadians(), o3 = this.lon.toRadians(), s6 = e6.lat.toRadians(), a = s6 - r, l = e6.lon.toRadians() - o3, u2 = Math.sin(a / 2) * Math.sin(a / 2) + Math.cos(r) * Math.cos(s6) * Math.sin(l / 2) * Math.sin(l / 2);
    return n * (2 * Math.atan2(Math.sqrt(u2), Math.sqrt(1 - u2)));
  }
  initialBearingTo(e6) {
    if (e6 instanceof t2 || (e6 = t2.parse(e6)), this.equals(e6))
      return NaN;
    let i = this.lat.toRadians(), n = e6.lat.toRadians(), r = (e6.lon - this.lon).toRadians(), o3 = Math.cos(i) * Math.sin(n) - Math.sin(i) * Math.cos(n) * Math.cos(r), s6 = Math.sin(r) * Math.cos(n), a = Math.atan2(s6, o3).toDegrees();
    return Wn.wrap360(a);
  }
  finalBearingTo(e6) {
    e6 instanceof t2 || (e6 = t2.parse(e6));
    let i = e6.initialBearingTo(this) + 180;
    return Wn.wrap360(i);
  }
  midpointTo(e6) {
    e6 instanceof t2 || (e6 = t2.parse(e6));
    let i = this.lat.toRadians(), n = this.lon.toRadians(), r = e6.lat.toRadians(), o3 = (e6.lon - this.lon).toRadians(), s6 = Math.cos(i), a = 0, l = Math.sin(i), u2 = { x: s6 + Math.cos(r) * Math.cos(o3), y: a + Math.cos(r) * Math.sin(o3), z: l + Math.sin(r) }, h = Math.atan2(u2.z, Math.sqrt(u2.x * u2.x + u2.y * u2.y)), c2 = n + Math.atan2(u2.y, u2.x), p4 = h.toDegrees(), d = c2.toDegrees();
    return new t2(p4, d);
  }
  intermediatePointTo(e6, i) {
    if (e6 instanceof t2 || (e6 = t2.parse(e6)), this.equals(e6))
      return new t2(this.lat, this.lon);
    let n = this.lat.toRadians(), r = this.lon.toRadians(), o3 = e6.lat.toRadians(), s6 = e6.lon.toRadians(), a = o3 - n, l = s6 - r, u2 = Math.sin(a / 2) * Math.sin(a / 2) + Math.cos(n) * Math.cos(o3) * Math.sin(l / 2) * Math.sin(l / 2), h = 2 * Math.atan2(Math.sqrt(u2), Math.sqrt(1 - u2)), c2 = Math.sin((1 - i) * h) / Math.sin(h), p4 = Math.sin(i * h) / Math.sin(h), d = c2 * Math.cos(n) * Math.cos(r) + p4 * Math.cos(o3) * Math.cos(s6), f = c2 * Math.cos(n) * Math.sin(r) + p4 * Math.cos(o3) * Math.sin(s6), g = c2 * Math.sin(n) + p4 * Math.sin(o3), m = Math.atan2(g, Math.sqrt(d * d + f * f)), v4 = Math.atan2(f, d), y4 = m.toDegrees(), x4 = v4.toDegrees();
    return new t2(y4, x4);
  }
  destinationPoint(e6, i, n = 6371e3) {
    let r = e6 / n, o3 = Number(i).toRadians(), s6 = this.lat.toRadians(), a = this.lon.toRadians(), l = Math.sin(s6) * Math.cos(r) + Math.cos(s6) * Math.sin(r) * Math.cos(o3), u2 = Math.asin(l), h = Math.sin(o3) * Math.sin(r) * Math.cos(s6), c2 = Math.cos(r) - Math.sin(s6) * l, p4 = a + Math.atan2(h, c2), d = u2.toDegrees(), f = p4.toDegrees();
    return new t2(d, f);
  }
  static intersection(e6, i, n, r) {
    if (e6 instanceof t2 || (e6 = t2.parse(e6)), n instanceof t2 || (n = t2.parse(n)), isNaN(i))
      throw new TypeError("invalid brng1 ".concat(i, ""));
    if (isNaN(r))
      throw new TypeError("invalid brng2 ".concat(r, ""));
    let o3 = e6.lat.toRadians(), s6 = e6.lon.toRadians(), a = n.lat.toRadians(), l = n.lon.toRadians(), u2 = Number(i).toRadians(), h = Number(r).toRadians(), c2 = a - o3, p4 = l - s6, d = 2 * Math.asin(Math.sqrt(Math.sin(c2 / 2) * Math.sin(c2 / 2) + Math.cos(o3) * Math.cos(a) * Math.sin(p4 / 2) * Math.sin(p4 / 2)));
    if (Math.abs(d) < Number.EPSILON)
      return new t2(e6.lat, e6.lon);
    let f = (Math.sin(a) - Math.sin(o3) * Math.cos(d)) / (Math.sin(d) * Math.cos(o3)), g = (Math.sin(o3) - Math.sin(a) * Math.cos(d)) / (Math.sin(d) * Math.cos(a)), m = Math.acos(Math.min(Math.max(f, -1), 1)), v4 = Math.acos(Math.min(Math.max(g, -1), 1)), y4 = u2 - (Math.sin(l - s6) > 0 ? m : 2 * yr - m), x4 = (Math.sin(l - s6) > 0 ? 2 * yr - v4 : v4) - h;
    if (0 == Math.sin(y4) && 0 == Math.sin(x4) || Math.sin(y4) * Math.sin(x4) < 0)
      return null;
    let _ = -Math.cos(y4) * Math.cos(x4) + Math.sin(y4) * Math.sin(x4) * Math.cos(d), b = Math.atan2(Math.sin(d) * Math.sin(y4) * Math.sin(x4), Math.cos(x4) + Math.cos(y4) * _), M = Math.asin(Math.min(Math.max(Math.sin(o3) * Math.cos(b) + Math.cos(o3) * Math.sin(b) * Math.cos(u2), -1), 1)), E = s6 + Math.atan2(Math.sin(u2) * Math.sin(b) * Math.cos(o3), Math.cos(b) - Math.sin(o3) * Math.sin(M)), w4 = M.toDegrees(), A = E.toDegrees();
    return new t2(w4, A);
  }
  crossTrackDistanceTo(e6, i, n = 6371e3) {
    e6 instanceof t2 || (e6 = t2.parse(e6)), i instanceof t2 || (i = t2.parse(i));
    let r = n;
    if (this.equals(e6))
      return 0;
    let o3 = e6.distanceTo(this, r) / r, s6 = e6.initialBearingTo(this).toRadians(), a = e6.initialBearingTo(i).toRadians();
    return Math.asin(Math.sin(o3) * Math.sin(s6 - a)) * r;
  }
  alongTrackDistanceTo(e6, i, n = 6371e3) {
    e6 instanceof t2 || (e6 = t2.parse(e6)), i instanceof t2 || (i = t2.parse(i));
    let r = n;
    if (this.equals(e6))
      return 0;
    let o3 = e6.distanceTo(this, r) / r, s6 = e6.initialBearingTo(this).toRadians(), a = e6.initialBearingTo(i).toRadians(), l = Math.asin(Math.sin(o3) * Math.sin(s6 - a));
    return Math.acos(Math.cos(o3) / Math.abs(Math.cos(l))) * Math.sign(Math.cos(a - s6)) * r;
  }
  maxLatitude(t48) {
    let e6 = Number(t48).toRadians(), i = this.lat.toRadians();
    return Math.acos(Math.abs(Math.sin(e6) * Math.cos(i))).toDegrees();
  }
  static crossingParallels(t48, e6, i) {
    if (t48.equals(e6))
      return null;
    let n = Number(i).toRadians(), r = t48.lat.toRadians(), o3 = t48.lon.toRadians(), s6 = e6.lat.toRadians(), a = e6.lon.toRadians() - o3, l = Math.sin(r) * Math.cos(s6) * Math.cos(n) * Math.sin(a), u2 = Math.sin(r) * Math.cos(s6) * Math.cos(n) * Math.cos(a) - Math.cos(r) * Math.sin(s6) * Math.cos(n), h = Math.cos(r) * Math.cos(s6) * Math.sin(n) * Math.sin(a);
    if (h * h > l * l + u2 * u2)
      return null;
    let c2 = Math.atan2(-u2, l), p4 = Math.acos(h / Math.sqrt(l * l + u2 * u2)), d = o3 + c2 + p4, f = (o3 + c2 - p4).toDegrees(), g = d.toDegrees();
    return { lon1: Wn.wrap180(f), lon2: Wn.wrap180(g) };
  }
  rhumbDistanceTo(e6, i = 6371e3) {
    e6 instanceof t2 || (e6 = t2.parse(e6));
    let n = i, r = this.lat.toRadians(), o3 = e6.lat.toRadians(), s6 = o3 - r, a = Math.abs(e6.lon - this.lon).toRadians();
    Math.abs(a) > yr && (a = a > 0 ? -(2 * yr - a) : 2 * yr + a);
    let l = Math.log(Math.tan(o3 / 2 + yr / 4) / Math.tan(r / 2 + yr / 4)), u2 = Math.abs(l) > 1e-11 ? s6 / l : Math.cos(r);
    return Math.sqrt(s6 * s6 + u2 * u2 * a * a) * n;
  }
  rhumbBearingTo(e6) {
    if (e6 instanceof t2 || (e6 = t2.parse(e6)), this.equals(e6))
      return NaN;
    let i = this.lat.toRadians(), n = e6.lat.toRadians(), r = (e6.lon - this.lon).toRadians();
    Math.abs(r) > yr && (r = r > 0 ? -(2 * yr - r) : 2 * yr + r);
    let o3 = Math.log(Math.tan(n / 2 + yr / 4) / Math.tan(i / 2 + yr / 4)), s6 = Math.atan2(r, o3).toDegrees();
    return Wn.wrap360(s6);
  }
  rhumbDestinationPoint(e6, i, n = 6371e3) {
    let r = this.lat.toRadians(), o3 = this.lon.toRadians(), s6 = Number(i).toRadians(), a = e6 / n, l = a * Math.cos(s6), u2 = r + l;
    Math.abs(u2) > yr / 2 && (u2 = u2 > 0 ? yr - u2 : -yr - u2);
    let h = Math.log(Math.tan(u2 / 2 + yr / 4) / Math.tan(r / 2 + yr / 4)), c2 = Math.abs(h) > 1e-11 ? l / h : Math.cos(r), p4 = o3 + a * Math.sin(s6) / c2, d = u2.toDegrees(), f = p4.toDegrees();
    return new t2(d, f);
  }
  rhumbMidpointTo(e6) {
    e6 instanceof t2 || (e6 = t2.parse(e6));
    let i = this.lat.toRadians(), n = this.lon.toRadians(), r = e6.lat.toRadians(), o3 = e6.lon.toRadians();
    Math.abs(o3 - n) > yr && (n += 2 * yr);
    let s6 = (i + r) / 2, a = Math.tan(yr / 4 + i / 2), l = Math.tan(yr / 4 + r / 2), u2 = Math.tan(yr / 4 + s6 / 2), h = ((o3 - n) * Math.log(u2) + n * Math.log(l) - o3 * Math.log(a)) / Math.log(l / a);
    isFinite(h) || (h = (n + o3) / 2);
    let c2 = s6.toDegrees(), p4 = h.toDegrees();
    return new t2(c2, p4);
  }
  static areaOf(t48, e6 = 6371e3) {
    let i = e6, n = t48[0].equals(t48[t48.length - 1]);
    n || t48.push(t48[0]);
    let r = t48.length - 1, o3 = 0;
    for (let e10 = 0; e10 < r; e10++) {
      let i10 = t48[e10].lat.toRadians(), n10 = t48[e10 + 1].lat.toRadians(), r6 = (t48[e10 + 1].lon - t48[e10].lon).toRadians();
      o3 += 2 * Math.atan2(Math.tan(r6 / 2) * (Math.tan(i10 / 2) + Math.tan(n10 / 2)), 1 + Math.tan(i10 / 2) * Math.tan(n10 / 2));
    }
    a(t48) && (o3 = Math.abs(o3) - 2 * yr);
    let s6 = Math.abs(o3 * i * i);
    return n || t48.pop(), s6;
    function a(t49) {
      let e10 = 0, i10 = t49[0].initialBearingTo(t49[1]);
      for (let n10 = 0; n10 < t49.length - 1; n10++) {
        let r6 = t49[n10].initialBearingTo(t49[n10 + 1]), o6 = t49[n10].finalBearingTo(t49[n10 + 1]);
        e10 += (r6 - i10 + 540) % 360 - 180, e10 += (o6 - r6 + 540) % 360 - 180, i10 = o6;
      }
      return e10 += (t49[0].initialBearingTo(t49[1]) - i10 + 540) % 360 - 180, Math.abs(e10) < 90;
    }
  }
  equals(e6) {
    return e6 instanceof t2 || (e6 = t2.parse(e6)), !(Math.abs(this.lat - e6.lat) > Number.EPSILON || Math.abs(this.lon - e6.lon) > Number.EPSILON);
  }
  toGeoJSON() {
    return { type: "Point", coordinates: [this.lon, this.lat] };
  }
  toString(t48 = "d", e6) {
    if (!["d", "dm", "dms", "n"].includes(t48))
      throw new RangeError("invalid format ".concat(t48, ""));
    if ("n" == t48)
      return null == e6 && (e6 = 4), "".concat(this.lat.toFixed(e6), ",").concat(this.lon.toFixed(e6));
    let i = Wn.toLat(this.lat, t48, e6), n = Wn.toLon(this.lon, t48, e6);
    return "".concat(i, ", ").concat(n);
  }
};
q(en, "LatLonSpherical");
var mi = en;
function xr(t48) {
  if (!t48)
    throw new Error("coord is required");
  if (!Array.isArray(t48)) {
    if ("Feature" === t48.type && null !== t48.geometry && "Point" === t48.geometry.type)
      return t48.geometry.coordinates;
    if ("Point" === t48.type)
      return t48.coordinates;
  }
  if (Array.isArray(t48) && t48.length >= 2 && !Array.isArray(t48[0]) && !Array.isArray(t48[1]))
    return t48;
  throw new Error("coord must be GeoJSON Point or an Array of numbers");
}
function Pi(t48) {
  if (Array.isArray(t48))
    return t48;
  if ("Feature" === t48.type) {
    if (null !== t48.geometry)
      return t48.geometry.coordinates;
  } else if (t48.coordinates)
    return t48.coordinates;
  throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array");
}
function mP(t48, e6, i) {
  if (!t48)
    throw new Error("No feature passed");
  if (!i)
    throw new Error(".featureOf() requires a name");
  if (!t48 || "Feature" !== t48.type || !t48.geometry)
    throw new Error("Invalid input to " + i + ", Feature with geometry required");
  if (!t48.geometry || t48.geometry.type !== e6)
    throw new Error("Invalid input to " + i + ": must be a " + e6 + ", given " + t48.geometry.type);
}
function no(t48) {
  return "Feature" === t48.type ? t48.geometry : t48;
}
function Ma(t48, e6) {
  return "FeatureCollection" === t48.type ? "FeatureCollection" : "GeometryCollection" === t48.type ? "GeometryCollection" : "Feature" === t48.type && null !== t48.geometry ? t48.geometry.type : t48.type;
}
c(), c(), c(), c(), q(xr, "getCoord"), q(Pi, "getCoords"), q(mP, "featureOf"), q(no, "getGeom"), q(Ma, "getType");
var Kre = u(Nw(), 1);
c();
var ase = u(WF(), 1);
function Bs(t48, e6, i) {
  if (void 0 === i && (i = {}), !t48)
    throw new Error("point is required");
  if (!e6)
    throw new Error("polygon is required");
  var n = xr(t48), r = no(e6), o3 = r.type, s6 = e6.bbox, a = r.coordinates;
  if (s6 && false === lse(n, s6))
    return false;
  "Polygon" === o3 && (a = [a]);
  for (var l = false, u2 = 0; u2 < a.length && !l; u2++)
    if (YF(n, a[u2][0], i.ignoreBoundary)) {
      for (var h = false, c2 = 1; c2 < a[u2].length && !h; )
        YF(n, a[u2][c2], !i.ignoreBoundary) && (h = true), c2++;
      h || (l = true);
    }
  return l;
}
function YF(t48, e6, i) {
  var n = false;
  e6[0][0] === e6[e6.length - 1][0] && e6[0][1] === e6[e6.length - 1][1] && (e6 = e6.slice(0, e6.length - 1));
  for (var r = 0, o3 = e6.length - 1; r < e6.length; o3 = r++) {
    var s6 = e6[r][0], a = e6[r][1], l = e6[o3][0], u2 = e6[o3][1];
    if (t48[1] * (s6 - l) + a * (l - t48[0]) + u2 * (t48[0] - s6) == 0 && (s6 - t48[0]) * (l - t48[0]) <= 0 && (a - t48[1]) * (u2 - t48[1]) <= 0)
      return !i;
    a > t48[1] != u2 > t48[1] && t48[0] < (l - s6) * (t48[1] - a) / (u2 - a) + s6 && (n = !n);
  }
  return n;
}
function lse(t48, e6) {
  return e6[0] <= t48[0] && e6[1] <= t48[1] && e6[2] >= t48[0] && e6[3] >= t48[1];
}
function use(t48, e6, i) {
  void 0 === i && (i = {});
  var n = xr(t48), r = xr(e6), o3 = Ns(r[1] - n[1]), s6 = Ns(r[0] - n[0]), a = Ns(n[1]), l = Ns(r[1]), u2 = Math.pow(Math.sin(o3 / 2), 2) + Math.pow(Math.sin(s6 / 2), 2) * Math.cos(a) * Math.cos(l);
  return v1(2 * Math.atan2(Math.sqrt(u2), Math.sqrt(1 - u2)), i.units);
}
c(), c(), q(Bs, "booleanPointInPolygon"), q(YF, "inRing"), q(lse, "inBBox"), c(), c(), q(use, "distance");
var hr = use;
c();
var x5e = function() {
  function t48(t49, e6, i) {
    this.a = t49, this.b = e6, this.c = i;
    var n, r, o3 = e6.x - t49.x, s6 = e6.y - t49.y, a = i.x - t49.x, l = i.y - t49.y, u2 = o3 * (t49.x + e6.x) + s6 * (t49.y + e6.y), h = a * (t49.x + i.x) + l * (t49.y + i.y), c2 = 2 * (o3 * (i.y - e6.y) - s6 * (i.x - e6.x));
    this.x = (l * u2 - s6 * h) / c2, this.y = (o3 * h - a * u2) / c2, n = this.x - t49.x, r = this.y - t49.y, this.r = n * n + r * r;
  }
  return q(t48, "Triangle"), t48;
}();
c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c();
var ZF = new ArrayBuffer(16);
var aOe = new Float64Array(ZF);
var lOe = new Uint32Array(ZF);
c(), c(), c(), c(), c(), c();
var Ese = u(CP(), 1);
c(), c(), c(), c(), c();
var vDe = function() {
  function t48(t49) {
    this.points = t49.points || [], this.duration = t49.duration || 1e4, this.sharpness = t49.sharpness || 0.85, this.centers = [], this.controls = [], this.stepLength = t49.stepLength || 60, this.length = this.points.length, this.delay = 0;
    for (var e6 = 0; e6 < this.length; e6++)
      this.points[e6].z = this.points[e6].z || 0;
    for (e6 = 0; e6 < this.length - 1; e6++) {
      var i = this.points[e6], n = this.points[e6 + 1];
      this.centers.push({ x: (i.x + n.x) / 2, y: (i.y + n.y) / 2, z: (i.z + n.z) / 2 });
    }
    this.controls.push([this.points[0], this.points[0]]);
    for (e6 = 0; e6 < this.centers.length - 1; e6++) {
      var r = this.points[e6 + 1].x - (this.centers[e6].x + this.centers[e6 + 1].x) / 2, o3 = this.points[e6 + 1].y - (this.centers[e6].y + this.centers[e6 + 1].y) / 2, s6 = this.points[e6 + 1].z - (this.centers[e6].y + this.centers[e6 + 1].z) / 2;
      this.controls.push([{ x: (1 - this.sharpness) * this.points[e6 + 1].x + this.sharpness * (this.centers[e6].x + r), y: (1 - this.sharpness) * this.points[e6 + 1].y + this.sharpness * (this.centers[e6].y + o3), z: (1 - this.sharpness) * this.points[e6 + 1].z + this.sharpness * (this.centers[e6].z + s6) }, { x: (1 - this.sharpness) * this.points[e6 + 1].x + this.sharpness * (this.centers[e6 + 1].x + r), y: (1 - this.sharpness) * this.points[e6 + 1].y + this.sharpness * (this.centers[e6 + 1].y + o3), z: (1 - this.sharpness) * this.points[e6 + 1].z + this.sharpness * (this.centers[e6 + 1].z + s6) }]);
    }
    return this.controls.push([this.points[this.length - 1], this.points[this.length - 1]]), this.steps = this.cacheSteps(this.stepLength), this;
  }
  return q(t48, "Spline"), t48.prototype.cacheSteps = function(t49) {
    var e6 = [], i = this.pos(0);
    e6.push(0);
    for (var n = 0; n < this.duration; n += 10) {
      var r = this.pos(n);
      Math.sqrt((r.x - i.x) * (r.x - i.x) + (r.y - i.y) * (r.y - i.y) + (r.z - i.z) * (r.z - i.z)) > t49 && (e6.push(n), i = r);
    }
    return e6;
  }, t48.prototype.vector = function(t49) {
    var e6 = this.pos(t49 + 10), i = this.pos(t49 - 10);
    return { angle: 180 * Math.atan2(e6.y - i.y, e6.x - i.x) / 3.14, speed: Math.sqrt((i.x - e6.x) * (i.x - e6.x) + (i.y - e6.y) * (i.y - e6.y) + (i.z - e6.z) * (i.z - e6.z)) };
  }, t48.prototype.pos = function(t49) {
    var e6 = t49 - this.delay;
    e6 < 0 && (e6 = 0), e6 > this.duration && (e6 = this.duration - 1);
    var i = e6 / this.duration;
    if (i >= 1)
      return this.points[this.length - 1];
    var n = Math.floor((this.points.length - 1) * i);
    return Tse((this.length - 1) * i - n, this.points[n], this.controls[n][1], this.controls[n + 1][0], this.points[n + 1]);
  }, t48;
}();
function Tse(t48, e6, i, n, r) {
  var o3 = Sse(t48);
  return { x: r.x * o3[0] + n.x * o3[1] + i.x * o3[2] + e6.x * o3[3], y: r.y * o3[0] + n.y * o3[1] + i.y * o3[2] + e6.y * o3[3], z: r.z * o3[0] + n.z * o3[1] + i.z * o3[2] + e6.z * o3[3] };
}
function Sse(t48) {
  var e6 = t48 * t48;
  return [e6 * t48, 3 * e6 * (1 - t48), 3 * t48 * (1 - t48) * (1 - t48), (1 - t48) * (1 - t48) * (1 - t48)];
}
function w1(t48, e6) {
  void 0 === e6 && (e6 = {});
  var i = Number(t48[0]), n = Number(t48[1]), r = Number(t48[2]), o3 = Number(t48[3]);
  if (6 === t48.length)
    throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");
  var s6 = [i, n];
  return Vi([[s6, [r, n], [r, o3], [i, o3], s6]], e6.properties, { bbox: t48, id: e6.id });
}
function Ase(t48) {
  return w1(Rs(t48));
}
q(Tse, "bezier"), q(Sse, "B"), c(), c(), c(), c(), q(w1, "bboxPolygon"), q(Ase, "envelope");
var PP = Ase;
function cu(t48, e6, i, n) {
  void 0 === n && (n = {});
  var r = xr(t48), o3 = Ns(r[0]), s6 = Ns(r[1]), a = Ns(i), l = y1(e6, n.units), u2 = Math.asin(Math.sin(s6) * Math.cos(l) + Math.cos(s6) * Math.sin(l) * Math.cos(a));
  return oi([ep(o3 + Math.atan2(Math.sin(a) * Math.sin(l) * Math.cos(s6), Math.cos(l) - Math.sin(s6) * Math.sin(u2))), ep(u2)], n.properties);
}
function lc(t48, e6, i) {
  if (void 0 === i && (i = {}), true === i.final)
    return Cse(t48, e6);
  var n = xr(t48), r = xr(e6), o3 = Ns(n[0]), s6 = Ns(r[0]), a = Ns(n[1]), l = Ns(r[1]), u2 = Math.sin(s6 - o3) * Math.cos(l), h = Math.cos(a) * Math.sin(l) - Math.sin(a) * Math.cos(l) * Math.cos(s6 - o3);
  return ep(Math.atan2(u2, h));
}
function Cse(t48, e6) {
  var i = lc(e6, t48);
  return i = (i + 180) % 360;
}
function Pse(t48, e6) {
  void 0 === e6 && (e6 = {});
  var i = Rs(t48);
  return oi([(i[0] + i[2]) / 2, (i[1] + i[3]) / 2], e6.properties, e6);
}
c(), c(), c(), q(cu, "destination"), c(), c(), q(lc, "bearing"), q(Cse, "calculateFinalBearing"), c(), q(Pse, "center");
var tp = Pse;
c(), c(), c(), c(), c();
var Ose = u(ue(), 1);
function Lse(t48) {
  if (!t48)
    throw new Error("geojson is required");
  var e6 = [];
  return vo(t48, function(t49) {
    Dse(t49, e6);
  }), $t(e6);
}
function Dse(t48, e6) {
  var i = [], n = t48.geometry;
  if (null !== n) {
    switch (n.type) {
      case "Polygon":
        i = Pi(n);
        break;
      case "LineString":
        i = [Pi(n)];
    }
    i.forEach(function(i10) {
      Nse(i10, t48.properties).forEach(function(t49) {
        t49.id = e6.length, e6.push(t49);
      });
    });
  }
}
function Nse(t48, e6) {
  var i = [];
  return t48.reduce(function(t49, n) {
    var r = gr([t49, n], e6);
    return r.bbox = Rse(t49, n), i.push(r), n;
  }), i;
}
function Rse(t48, e6) {
  var i = t48[0], n = t48[1], r = e6[0], o3 = e6[1];
  return [i < r ? i : r, n < o3 ? n : o3, i > r ? i : r, n > o3 ? n : o3];
}
c(), c(), c(), c(), q(Lse, "lineSegment"), q(Dse, "lineSegmentFeature"), q(Nse, "createSegments"), q(Rse, "bbox");
var np = Lse;
var vU = u(Ww(), 1);
function loe(t48, e6) {
  var i = {}, n = [];
  if ("LineString" === t48.type && (t48 = ms(t48)), "LineString" === e6.type && (e6 = ms(e6)), "Feature" === t48.type && "Feature" === e6.type && null !== t48.geometry && null !== e6.geometry && "LineString" === t48.geometry.type && "LineString" === e6.geometry.type && 2 === t48.geometry.coordinates.length && 2 === e6.geometry.coordinates.length) {
    var r = gU(t48, e6);
    return r && n.push(r), $t(n);
  }
  var o3 = (0, vU.default)();
  return o3.load(np(e6)), Ci(np(t48), function(t49) {
    Ci(o3.search(t49), function(e10) {
      var r6 = gU(t49, e10);
      if (r6) {
        var o6 = Pi(r6).join(",");
        i[o6] || (i[o6] = true, n.push(r6));
      }
    });
  }), $t(n);
}
function gU(t48, e6) {
  var i = Pi(t48), n = Pi(e6);
  if (2 !== i.length)
    throw new Error("<intersects> line1 must only contain 2 coordinates");
  if (2 !== n.length)
    throw new Error("<intersects> line2 must only contain 2 coordinates");
  var r = i[0][0], o3 = i[0][1], s6 = i[1][0], a = i[1][1], l = n[0][0], u2 = n[0][1], h = n[1][0], c2 = n[1][1], p4 = (c2 - u2) * (s6 - r) - (h - l) * (a - o3);
  if (0 === p4)
    return null;
  var d = ((h - l) * (o3 - u2) - (c2 - u2) * (r - l)) / p4, f = ((s6 - r) * (o3 - u2) - (a - o3) * (r - l)) / p4;
  return d >= 0 && d <= 1 && f >= 0 && f <= 1 ? oi([r + d * (s6 - r), o3 + d * (a - o3)]) : null;
}
q(loe, "lineIntersect"), q(gU, "intersects");
var ip = loe;
function uoe(t48, e6, i) {
  void 0 === i && (i = {});
  var n = oi([1 / 0, 1 / 0], { dist: 1 / 0 }), r = 0;
  return vo(t48, function(t49) {
    for (var o3 = Pi(t49), s6 = 0; s6 < o3.length - 1; s6++) {
      var a = oi(o3[s6]);
      a.properties.dist = hr(e6, a, i);
      var l = oi(o3[s6 + 1]);
      l.properties.dist = hr(e6, l, i);
      var u2 = hr(a, l, i), h = Math.max(a.properties.dist, l.properties.dist), c2 = lc(a, l), p4 = cu(e6, h, c2 + 90, i), d = cu(e6, h, c2 - 90, i), f = ip(gr([p4.geometry.coordinates, d.geometry.coordinates]), gr([a.geometry.coordinates, l.geometry.coordinates])), g = null;
      f.features.length > 0 && ((g = f.features[0]).properties.dist = hr(e6, g, i), g.properties.location = r + hr(a, g, i)), a.properties.dist < n.properties.dist && ((n = a).properties.index = s6, n.properties.location = r), l.properties.dist < n.properties.dist && ((n = l).properties.index = s6 + 1, n.properties.location = r + u2), g && g.properties.dist < n.properties.dist && ((n = g).properties.index = s6), r += u2;
    }
  }), n;
}
q(uoe, "nearestPointOnLine");
var uc = uoe;
c(), c(), c();
var hoe = u(Nw(), 1);
function rp(t48, e6) {
  return void 0 === e6 && (e6 = {}), AF(t48, function(t49, i) {
    var n = i.geometry.coordinates;
    return t49 + hr(n[0], n[1], e6);
  }, 0);
}
function foe(t48, e6, i) {
  var n = Pi(i);
  if ("LineString" !== Ma(i))
    throw new Error("line must be a LineString");
  for (var r, o3 = uc(i, t48), s6 = uc(i, e6), a = [(r = o3.properties.index <= s6.properties.index ? [o3, s6] : [s6, o3])[0].geometry.coordinates], l = r[0].properties.index + 1; l < r[1].properties.index + 1; l++)
    a.push(n[l]);
  return a.push(r[1].geometry.coordinates), gr(a, i.properties);
}
c(), c(), c(), c(), c(), c(), q(rp, "length"), c(), q(foe, "lineSlice");
var Xw = foe;
function poe(t48, e6, i) {
  void 0 === i && (i = {});
  for (var n = xr(t48), r = Pi(e6), o3 = 0; o3 < r.length - 1; o3++) {
    var s6 = false;
    if (i.ignoreEndVertices && (0 === o3 && (s6 = "start"), o3 === r.length - 2 && (s6 = "end"), 0 === o3 && o3 + 1 === r.length - 1 && (s6 = "both")), doe(r[o3], r[o3 + 1], n, s6, typeof i.epsilon > "u" ? null : i.epsilon))
      return true;
  }
  return false;
}
function doe(t48, e6, i, n, r) {
  var o3 = i[0], s6 = i[1], a = t48[0], l = t48[1], u2 = e6[0], h = e6[1], c2 = u2 - a, p4 = h - l, d = (i[0] - a) * p4 - (i[1] - l) * c2;
  if (null !== r) {
    if (Math.abs(d) > r)
      return false;
  } else if (0 !== d)
    return false;
  return n ? "start" === n ? Math.abs(c2) >= Math.abs(p4) ? c2 > 0 ? a < o3 && o3 <= u2 : u2 <= o3 && o3 < a : p4 > 0 ? l < s6 && s6 <= h : h <= s6 && s6 < l : "end" === n ? Math.abs(c2) >= Math.abs(p4) ? c2 > 0 ? a <= o3 && o3 < u2 : u2 < o3 && o3 <= a : p4 > 0 ? l <= s6 && s6 < h : h < s6 && s6 <= l : "both" === n && (Math.abs(c2) >= Math.abs(p4) ? c2 > 0 ? a < o3 && o3 < u2 : u2 < o3 && o3 < a : p4 > 0 ? l < s6 && s6 < h : h < s6 && s6 < l) : Math.abs(c2) >= Math.abs(p4) ? c2 > 0 ? a <= o3 && o3 <= u2 : u2 <= o3 && o3 <= a : p4 > 0 ? l <= s6 && s6 <= h : h <= s6 && s6 <= l;
}
c(), c(), c(), c(), q(poe, "booleanPointOnLine"), q(doe, "isPointOnLineSegment");
var Hd = poe;
c(), c(), c(), c();
var voe = u(CP(), 1);
c();
var xU = Math.PI / 180;
var bU = 180 / Math.PI;
var E1 = q(function(t48, e6) {
  this.lon = t48, this.lat = e6, this.x = xU * t48, this.y = xU * e6;
}, "Coord");
E1.prototype.view = function() {
  return String(this.lon).slice(0, 4) + "," + String(this.lat).slice(0, 4);
}, E1.prototype.antipode = function() {
  var t48 = -1 * this.lat, e6 = this.lon < 0 ? 180 + this.lon : -1 * (180 - this.lon);
  return new E1(e6, t48);
};
var _U = q(function() {
  this.coords = [], this.length = 0;
}, "LineString");
_U.prototype.move_to = function(t48) {
  this.length++, this.coords.push(t48);
};
var jP = q(function(t48) {
  this.properties = t48 || {}, this.geometries = [];
}, "Arc");
jP.prototype.json = function() {
  if (this.geometries.length <= 0)
    return { geometry: { type: "LineString", coordinates: null }, type: "Feature", properties: this.properties };
  if (1 === this.geometries.length)
    return { geometry: { type: "LineString", coordinates: this.geometries[0].coords }, type: "Feature", properties: this.properties };
  for (var t48 = [], e6 = 0; e6 < this.geometries.length; e6++)
    t48.push(this.geometries[e6].coords);
  return { geometry: { type: "MultiLineString", coordinates: t48 }, type: "Feature", properties: this.properties };
}, jP.prototype.wkt = function() {
  for (var t48 = "", e6 = "LINESTRING(", i = q(function(t49) {
    e6 += t49[0] + " " + t49[1] + ",";
  }, "collect"), n = 0; n < this.geometries.length; n++) {
    if (0 === this.geometries[n].coords.length)
      return "LINESTRING(empty)";
    this.geometries[n].coords.forEach(i), t48 += e6.substring(0, e6.length - 1) + ")";
  }
  return t48;
};
var wU = q(function(t48, e6, i) {
  if (!t48 || void 0 === t48.x || void 0 === t48.y)
    throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");
  if (!e6 || void 0 === e6.x || void 0 === e6.y)
    throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");
  this.start = new E1(t48.x, t48.y), this.end = new E1(e6.x, e6.y), this.properties = i || {};
  var n = this.start.x - this.end.x, r = this.start.y - this.end.y, o3 = Math.pow(Math.sin(r / 2), 2) + Math.cos(this.start.y) * Math.cos(this.end.y) * Math.pow(Math.sin(n / 2), 2);
  if (this.g = 2 * Math.asin(Math.sqrt(o3)), this.g === Math.PI)
    throw new Error("it appears " + t48.view() + " and " + e6.view() + " are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");
  if (isNaN(this.g))
    throw new Error("could not calculate great circle between " + t48 + " and " + e6);
}, "GreatCircle");
wU.prototype.interpolate = function(t48) {
  var e6 = Math.sin((1 - t48) * this.g) / Math.sin(this.g), i = Math.sin(t48 * this.g) / Math.sin(this.g), n = e6 * Math.cos(this.start.y) * Math.cos(this.start.x) + i * Math.cos(this.end.y) * Math.cos(this.end.x), r = e6 * Math.cos(this.start.y) * Math.sin(this.start.x) + i * Math.cos(this.end.y) * Math.sin(this.end.x), o3 = e6 * Math.sin(this.start.y) + i * Math.sin(this.end.y), s6 = bU * Math.atan2(o3, Math.sqrt(Math.pow(n, 2) + Math.pow(r, 2)));
  return [bU * Math.atan2(r, n), s6];
}, wU.prototype.Arc = function(t48, e6) {
  var i = [];
  if (!t48 || t48 <= 2)
    i.push([this.start.lon, this.start.lat]), i.push([this.end.lon, this.end.lat]);
  else
    for (var n = 1 / (t48 - 1), r = 0; r < t48; ++r) {
      var o3 = n * r, s6 = this.interpolate(o3);
      i.push(s6);
    }
  for (var a = false, l = 0, u2 = e6 && e6.offset ? e6.offset : 10, h = 180 - u2, c2 = -180 + u2, p4 = 360 - u2, d = 1; d < i.length; ++d) {
    var f = i[d - 1][0], g = i[d][0], m = Math.abs(g - f);
    m > p4 && (g > h && f < c2 || f > h && g < c2) ? a = true : m > l && (l = m);
  }
  var v4 = [];
  if (a && l < u2) {
    var y4 = [];
    v4.push(y4);
    for (var x4 = 0; x4 < i.length; ++x4) {
      var _ = parseFloat(i[x4][0]);
      if (x4 > 0 && Math.abs(_ - i[x4 - 1][0]) > p4) {
        var b = parseFloat(i[x4 - 1][0]), M = parseFloat(i[x4 - 1][1]), E = parseFloat(i[x4][0]), w4 = parseFloat(i[x4][1]);
        if (b > -180 && b < c2 && 180 === E && x4 + 1 < i.length && i[x4 - 1][0] > -180 && i[x4 - 1][0] < c2) {
          y4.push([-180, i[x4][1]]), x4++, y4.push([i[x4][0], i[x4][1]]);
          continue;
        }
        if (b > h && b < 180 && -180 === E && x4 + 1 < i.length && i[x4 - 1][0] > h && i[x4 - 1][0] < 180) {
          y4.push([180, i[x4][1]]), x4++, y4.push([i[x4][0], i[x4][1]]);
          continue;
        }
        if (b < c2 && E > h) {
          var A = b;
          b = E, E = A;
          var S = M;
          M = w4, w4 = S;
        }
        if (b > h && E < c2 && (E += 360), b <= 180 && E >= 180 && b < E) {
          var T = (180 - b) / (E - b), C = T * w4 + (1 - T) * M;
          y4.push([i[x4 - 1][0] > h ? 180 : -180, C]), (y4 = []).push([i[x4 - 1][0] > h ? -180 : 180, C]), v4.push(y4);
        } else
          y4 = [], v4.push(y4);
        y4.push([_, i[x4][1]]);
      } else
        y4.push([i[x4][0], i[x4][1]]);
    }
  } else {
    var P = [];
    v4.push(P);
    for (var I = 0; I < i.length; ++I)
      P.push([i[I][0], i[I][1]]);
  }
  for (var L = new jP(this.properties), O = 0; O < v4.length; ++O) {
    var N = new _U();
    L.geometries.push(N);
    for (var D = v4[O], R = 0; R < D.length; ++R)
      N.move_to(D[R]);
  }
  return L;
}, c();
var boe = u(Ww(), 1);
c(), c(), c(), c(), c(), c();
var Zae = u(Ww(), 1);
var Qae = u(yI(), 1);
c(), c(), c(), c(), c(), c(), c();
var $ae = u(Nw(), 1);
var gn = [];
var vn = [];
var yn = [];
var xn = [];
var bn = [];
var _n = [];
var wn = [];
var Mn = [];
var En = [];
var Tn = [];
var Sn = [];
var An = [];
var Cn = [];
var Pn = [];
var In = [];
var On = [];
var Ln = [];
var Dn = [];
var Nn = [];
var Rn = [];
var Bn = [];
var kn = [];
var qn = [];
var Fn = [];
wn[85] = Tn[85] = -1, Mn[85] = Sn[85] = 0, En[85] = An[85] = 1, Nn[85] = kn[85] = 1, Rn[85] = qn[85] = 0, Bn[85] = Fn[85] = 1, gn[85] = xn[85] = 0, vn[85] = bn[85] = -1, yn[85] = In[85] = 0, On[85] = Cn[85] = 0, Ln[85] = Pn[85] = 1, _n[85] = Dn[85] = 1, kn[1] = kn[169] = 0, qn[1] = qn[169] = -1, Fn[1] = Fn[169] = 0, Cn[1] = Cn[169] = -1, Pn[1] = Pn[169] = 0, In[1] = In[169] = 0, Tn[4] = Tn[166] = 0, Sn[4] = Sn[166] = -1, An[4] = An[166] = 1, On[4] = On[166] = 1, Ln[4] = Ln[166] = 0, Dn[4] = Dn[166] = 0, wn[16] = wn[154] = 0, Mn[16] = Mn[154] = 1, En[16] = En[154] = 1, xn[16] = xn[154] = 1, bn[16] = bn[154] = 0, _n[16] = _n[154] = 1, Nn[64] = Nn[106] = 0, Rn[64] = Rn[106] = 1, Bn[64] = Bn[106] = 0, gn[64] = gn[106] = -1, vn[64] = vn[106] = 0, yn[64] = yn[106] = 1, Nn[2] = Nn[168] = 0, Rn[2] = Rn[168] = -1, Bn[2] = Bn[168] = 1, kn[2] = kn[168] = 0, qn[2] = qn[168] = -1, Fn[2] = Fn[168] = 0, Cn[2] = Cn[168] = -1, Pn[2] = Pn[168] = 0, In[2] = In[168] = 0, On[2] = On[168] = -1, Ln[2] = Ln[168] = 0, Dn[2] = Dn[168] = 1, wn[8] = wn[162] = 0, Mn[8] = Mn[162] = -1, En[8] = En[162] = 0, Tn[8] = Tn[162] = 0, Sn[8] = Sn[162] = -1, An[8] = An[162] = 1, Cn[8] = Cn[162] = 1, Pn[8] = Pn[162] = 0, In[8] = In[162] = 1, On[8] = On[162] = 1, Ln[8] = Ln[162] = 0, Dn[8] = Dn[162] = 0, wn[32] = wn[138] = 0, Mn[32] = Mn[138] = 1, En[32] = En[138] = 1, Tn[32] = Tn[138] = 0, Sn[32] = Sn[138] = 1, An[32] = An[138] = 0, gn[32] = gn[138] = 1, vn[32] = vn[138] = 0, yn[32] = yn[138] = 0, xn[32] = xn[138] = 1, bn[32] = bn[138] = 0, _n[32] = _n[138] = 1, kn[128] = kn[42] = 0, qn[128] = qn[42] = 1, Fn[128] = Fn[42] = 1, Nn[128] = Nn[42] = 0, Rn[128] = Rn[42] = 1, Bn[128] = Bn[42] = 0, gn[128] = gn[42] = -1, vn[128] = vn[42] = 0, yn[128] = yn[42] = 1, xn[128] = xn[42] = -1, bn[128] = bn[42] = 0, _n[128] = _n[42] = 0, Tn[5] = Tn[165] = -1, Sn[5] = Sn[165] = 0, An[5] = An[165] = 0, kn[5] = kn[165] = 1, qn[5] = qn[165] = 0, Fn[5] = Fn[165] = 0, On[20] = On[150] = 0, Ln[20] = Ln[150] = 1, Dn[20] = Dn[150] = 1, xn[20] = xn[150] = 0, bn[20] = bn[150] = -1, _n[20] = _n[150] = 1, wn[80] = wn[90] = -1, Mn[80] = Mn[90] = 0, En[80] = En[90] = 1, Nn[80] = Nn[90] = 1, Rn[80] = Rn[90] = 0, Bn[80] = Bn[90] = 1, Cn[65] = Cn[105] = 0, Pn[65] = Pn[105] = 1, In[65] = In[105] = 0, gn[65] = gn[105] = 0, vn[65] = vn[105] = -1, yn[65] = yn[105] = 0, wn[160] = wn[10] = -1, Mn[160] = Mn[10] = 0, En[160] = En[10] = 1, Tn[160] = Tn[10] = -1, Sn[160] = Sn[10] = 0, An[160] = An[10] = 0, kn[160] = kn[10] = 1, qn[160] = qn[10] = 0, Fn[160] = Fn[10] = 0, Nn[160] = Nn[10] = 1, Rn[160] = Rn[10] = 0, Bn[160] = Bn[10] = 1, On[130] = On[40] = 0, Ln[130] = Ln[40] = 1, Dn[130] = Dn[40] = 1, Cn[130] = Cn[40] = 0, Pn[130] = Pn[40] = 1, In[130] = In[40] = 0, gn[130] = gn[40] = 0, vn[130] = vn[40] = -1, yn[130] = yn[40] = 0, xn[130] = xn[40] = 0, bn[130] = bn[40] = -1, _n[130] = _n[40] = 1, Tn[37] = Tn[133] = 0, Sn[37] = Sn[133] = 1, An[37] = An[133] = 1, kn[37] = kn[133] = 0, qn[37] = qn[133] = 1, Fn[37] = Fn[133] = 0, gn[37] = gn[133] = -1, vn[37] = vn[133] = 0, yn[37] = yn[133] = 0, xn[37] = xn[133] = 1, bn[37] = bn[133] = 0, _n[37] = _n[133] = 0, On[148] = On[22] = -1, Ln[148] = Ln[22] = 0, Dn[148] = Dn[22] = 0, kn[148] = kn[22] = 0, qn[148] = qn[22] = -1, Fn[148] = Fn[22] = 1, Nn[148] = Nn[22] = 0, Rn[148] = Rn[22] = 1, Bn[148] = Bn[22] = 1, xn[148] = xn[22] = -1, bn[148] = bn[22] = 0, _n[148] = _n[22] = 1, wn[82] = wn[88] = 0, Mn[82] = Mn[88] = -1, En[82] = En[88] = 1, On[82] = On[88] = 1, Ln[82] = Ln[88] = 0, Dn[82] = Dn[88] = 1, Cn[82] = Cn[88] = -1, Pn[82] = Pn[88] = 0, In[82] = In[88] = 1, Nn[82] = Nn[88] = 0, Rn[82] = Rn[88] = -1, Bn[82] = Bn[88] = 0, wn[73] = wn[97] = 0, Mn[73] = Mn[97] = 1, En[73] = En[97] = 0, Tn[73] = Tn[97] = 0, Sn[73] = Sn[97] = -1, An[73] = An[97] = 0, Cn[73] = Cn[97] = 1, Pn[73] = Pn[97] = 0, In[73] = In[97] = 0, gn[73] = gn[97] = 1, vn[73] = vn[97] = 0, yn[73] = yn[97] = 1, wn[145] = wn[25] = 0, Mn[145] = Mn[25] = -1, En[145] = En[25] = 0, Cn[145] = Cn[25] = 1, Pn[145] = Pn[25] = 0, In[145] = In[25] = 1, kn[145] = kn[25] = 0, qn[145] = qn[25] = 1, Fn[145] = Fn[25] = 1, xn[145] = xn[25] = -1, bn[145] = bn[25] = 0, _n[145] = _n[25] = 0, Tn[70] = Tn[100] = 0, Sn[70] = Sn[100] = 1, An[70] = An[100] = 0, On[70] = On[100] = -1, Ln[70] = Ln[100] = 0, Dn[70] = Dn[100] = 1, Nn[70] = Nn[100] = 0, Rn[70] = Rn[100] = -1, Bn[70] = Bn[100] = 1, gn[70] = gn[100] = 1, vn[70] = vn[100] = 0, yn[70] = yn[100] = 0, Tn[101] = Tn[69] = 0, Sn[101] = Sn[69] = 1, An[101] = An[69] = 0, gn[101] = gn[69] = 1, vn[101] = vn[69] = 0, yn[101] = yn[69] = 0, kn[149] = kn[21] = 0, qn[149] = qn[21] = 1, Fn[149] = Fn[21] = 1, xn[149] = xn[21] = -1, bn[149] = bn[21] = 0, _n[149] = _n[21] = 0, On[86] = On[84] = -1, Ln[86] = Ln[84] = 0, Dn[86] = Dn[84] = 1, Nn[86] = Nn[84] = 0, Rn[86] = Rn[84] = -1, Bn[86] = Bn[84] = 1, wn[89] = wn[81] = 0, Mn[89] = Mn[81] = -1, En[89] = En[81] = 0, Cn[89] = Cn[81] = 1, Pn[89] = Pn[81] = 0, In[89] = In[81] = 1, wn[96] = wn[74] = 0, Mn[96] = Mn[74] = 1, En[96] = En[74] = 0, Tn[96] = Tn[74] = -1, Sn[96] = Sn[74] = 0, An[96] = An[74] = 1, Nn[96] = Nn[74] = 1, Rn[96] = Rn[74] = 0, Bn[96] = Bn[74] = 0, gn[96] = gn[74] = 1, vn[96] = vn[74] = 0, yn[96] = yn[74] = 1, wn[24] = wn[146] = 0, Mn[24] = Mn[146] = -1, En[24] = En[146] = 1, On[24] = On[146] = 1, Ln[24] = Ln[146] = 0, Dn[24] = Dn[146] = 1, Cn[24] = Cn[146] = 0, Pn[24] = Pn[146] = 1, In[24] = In[146] = 1, xn[24] = xn[146] = 0, bn[24] = bn[146] = -1, _n[24] = _n[146] = 0, Tn[6] = Tn[164] = -1, Sn[6] = Sn[164] = 0, An[6] = An[164] = 1, On[6] = On[164] = -1, Ln[6] = Ln[164] = 0, Dn[6] = Dn[164] = 0, kn[6] = kn[164] = 0, qn[6] = qn[164] = -1, Fn[6] = Fn[164] = 1, Nn[6] = Nn[164] = 1, Rn[6] = Rn[164] = 0, Bn[6] = Bn[164] = 0, Cn[129] = Cn[41] = 0, Pn[129] = Pn[41] = 1, In[129] = In[41] = 1, kn[129] = kn[41] = 0, qn[129] = qn[41] = 1, Fn[129] = Fn[41] = 0, gn[129] = gn[41] = -1, vn[129] = vn[41] = 0, yn[129] = yn[41] = 0, xn[129] = xn[41] = 0, bn[129] = bn[41] = -1, _n[129] = _n[41] = 0, On[66] = On[104] = 0, Ln[66] = Ln[104] = 1, Dn[66] = Dn[104] = 0, Cn[66] = Cn[104] = -1, Pn[66] = Pn[104] = 0, In[66] = In[104] = 1, Nn[66] = Nn[104] = 0, Rn[66] = Rn[104] = -1, Bn[66] = Bn[104] = 0, gn[66] = gn[104] = 0, vn[66] = vn[104] = -1, yn[66] = yn[104] = 1, wn[144] = wn[26] = -1, Mn[144] = Mn[26] = 0, En[144] = En[26] = 0, kn[144] = kn[26] = 1, qn[144] = qn[26] = 0, Fn[144] = Fn[26] = 1, Nn[144] = Nn[26] = 0, Rn[144] = Rn[26] = 1, Bn[144] = Bn[26] = 1, xn[144] = xn[26] = -1, bn[144] = bn[26] = 0, _n[144] = _n[26] = 1, Tn[36] = Tn[134] = 0, Sn[36] = Sn[134] = 1, An[36] = An[134] = 1, On[36] = On[134] = 0, Ln[36] = Ln[134] = 1, Dn[36] = Dn[134] = 0, gn[36] = gn[134] = 0, vn[36] = vn[134] = -1, yn[36] = yn[134] = 1, xn[36] = xn[134] = 1, bn[36] = bn[134] = 0, _n[36] = _n[134] = 0, wn[9] = wn[161] = -1, Mn[9] = Mn[161] = 0, En[9] = En[161] = 0, Tn[9] = Tn[161] = 0, Sn[9] = Sn[161] = -1, An[9] = An[161] = 0, Cn[9] = Cn[161] = 1, Pn[9] = Pn[161] = 0, In[9] = In[161] = 0, kn[9] = kn[161] = 1, qn[9] = qn[161] = 0, Fn[9] = Fn[161] = 1, wn[136] = 0, Mn[136] = 1, En[136] = 1, Tn[136] = 0, Sn[136] = 1, An[136] = 0, On[136] = -1, Ln[136] = 0, Dn[136] = 1, Cn[136] = -1, Pn[136] = 0, In[136] = 0, kn[136] = 0, qn[136] = -1, Fn[136] = 0, Nn[136] = 0, Rn[136] = -1, Bn[136] = 1, gn[136] = 1, vn[136] = 0, yn[136] = 0, xn[136] = 1, bn[136] = 0, _n[136] = 1, wn[34] = 0, Mn[34] = -1, En[34] = 0, Tn[34] = 0, Sn[34] = -1, An[34] = 1, On[34] = 1, Ln[34] = 0, Dn[34] = 0, Cn[34] = 1, Pn[34] = 0, In[34] = 1, kn[34] = 0, qn[34] = 1, Fn[34] = 1, Nn[34] = 0, Rn[34] = 1, Bn[34] = 0, gn[34] = -1, vn[34] = 0, yn[34] = 1, xn[34] = -1, bn[34] = 0, _n[34] = 0, wn[35] = 0, Mn[35] = 1, En[35] = 1, Tn[35] = 0, Sn[35] = -1, An[35] = 1, On[35] = 1, Ln[35] = 0, Dn[35] = 0, Cn[35] = -1, Pn[35] = 0, In[35] = 0, kn[35] = 0, qn[35] = -1, Fn[35] = 0, Nn[35] = 0, Rn[35] = 1, Bn[35] = 0, gn[35] = -1, vn[35] = 0, yn[35] = 1, xn[35] = 1, bn[35] = 0, _n[35] = 1, wn[153] = 0, Mn[153] = 1, En[153] = 1, Cn[153] = -1, Pn[153] = 0, In[153] = 0, kn[153] = 0, qn[153] = -1, Fn[153] = 0, xn[153] = 1, bn[153] = 0, _n[153] = 1, Tn[102] = 0, Sn[102] = -1, An[102] = 1, On[102] = 1, Ln[102] = 0, Dn[102] = 0, Nn[102] = 0, Rn[102] = 1, Bn[102] = 0, gn[102] = -1, vn[102] = 0, yn[102] = 1, wn[155] = 0, Mn[155] = -1, En[155] = 0, Cn[155] = 1, Pn[155] = 0, In[155] = 1, kn[155] = 0, qn[155] = 1, Fn[155] = 1, xn[155] = -1, bn[155] = 0, _n[155] = 0, Tn[103] = 0, Sn[103] = 1, An[103] = 0, On[103] = -1, Ln[103] = 0, Dn[103] = 1, Nn[103] = 0, Rn[103] = -1, Bn[103] = 1, gn[103] = 1, vn[103] = 0, yn[103] = 0, wn[152] = 0, Mn[152] = 1, En[152] = 1, On[152] = -1, Ln[152] = 0, Dn[152] = 1, Cn[152] = -1, Pn[152] = 0, In[152] = 0, kn[152] = 0, qn[152] = -1, Fn[152] = 0, Nn[152] = 0, Rn[152] = -1, Bn[152] = 1, xn[152] = 1, bn[152] = 0, _n[152] = 1, wn[156] = 0, Mn[156] = -1, En[156] = 1, On[156] = 1, Ln[156] = 0, Dn[156] = 1, Cn[156] = -1, Pn[156] = 0, In[156] = 0, kn[156] = 0, qn[156] = -1, Fn[156] = 0, Nn[156] = 0, Rn[156] = 1, Bn[156] = 1, xn[156] = -1, bn[156] = 0, _n[156] = 1, wn[137] = 0, Mn[137] = 1, En[137] = 1, Tn[137] = 0, Sn[137] = 1, An[137] = 0, Cn[137] = -1, Pn[137] = 0, In[137] = 0, kn[137] = 0, qn[137] = -1, Fn[137] = 0, gn[137] = 1, vn[137] = 0, yn[137] = 0, xn[137] = 1, bn[137] = 0, _n[137] = 1, wn[139] = 0, Mn[139] = 1, En[139] = 1, Tn[139] = 0, Sn[139] = -1, An[139] = 0, Cn[139] = 1, Pn[139] = 0, In[139] = 0, kn[139] = 0, qn[139] = 1, Fn[139] = 0, gn[139] = -1, vn[139] = 0, yn[139] = 0, xn[139] = 1, bn[139] = 0, _n[139] = 1, wn[98] = 0, Mn[98] = -1, En[98] = 0, Tn[98] = 0, Sn[98] = -1, An[98] = 1, On[98] = 1, Ln[98] = 0, Dn[98] = 0, Cn[98] = 1, Pn[98] = 0, In[98] = 1, Nn[98] = 0, Rn[98] = 1, Bn[98] = 0, gn[98] = -1, vn[98] = 0, yn[98] = 1, wn[99] = 0, Mn[99] = 1, En[99] = 0, Tn[99] = 0, Sn[99] = -1, An[99] = 1, On[99] = 1, Ln[99] = 0, Dn[99] = 0, Cn[99] = -1, Pn[99] = 0, In[99] = 1, Nn[99] = 0, Rn[99] = -1, Bn[99] = 0, gn[99] = 1, vn[99] = 0, yn[99] = 1, Tn[38] = 0, Sn[38] = -1, An[38] = 1, On[38] = 1, Ln[38] = 0, Dn[38] = 0, kn[38] = 0, qn[38] = 1, Fn[38] = 1, Nn[38] = 0, Rn[38] = 1, Bn[38] = 0, gn[38] = -1, vn[38] = 0, yn[38] = 1, xn[38] = -1, bn[38] = 0, _n[38] = 0, Tn[39] = 0, Sn[39] = 1, An[39] = 1, On[39] = -1, Ln[39] = 0, Dn[39] = 0, kn[39] = 0, qn[39] = -1, Fn[39] = 1, Nn[39] = 0, Rn[39] = 1, Bn[39] = 0, gn[39] = -1, vn[39] = 0, yn[39] = 1, xn[39] = 1, bn[39] = 0, _n[39] = 0;
var xI = q(function(t48) {
  return [[t48.bottomleft, 0], [0, 0], [0, t48.leftbottom]];
}, "p00");
var bI = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [t48.bottomright, 0]];
}, "p01");
var _I = q(function(t48) {
  return [[t48.topright, 1], [1, 1], [1, t48.righttop]];
}, "p02");
var wI = q(function(t48) {
  return [[0, t48.lefttop], [0, 1], [t48.topleft, 1]];
}, "p03");
var MI = q(function(t48) {
  return [[t48.bottomright, 0], [t48.bottomleft, 0], [0, t48.leftbottom], [0, t48.lefttop]];
}, "p04");
var EI = q(function(t48) {
  return [[t48.bottomright, 0], [t48.bottomleft, 0], [1, t48.righttop], [1, t48.rightbottom]];
}, "p05");
var TI = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [t48.topleft, 1], [t48.topright, 1]];
}, "p06");
var SI = q(function(t48) {
  return [[0, t48.leftbottom], [0, t48.lefttop], [t48.topleft, 1], [t48.topright, 1]];
}, "p07");
var ele = q(function(t48) {
  return [[0, 0], [0, t48.leftbottom], [1, t48.rightbottom], [1, 0]];
}, "p08");
var tle = q(function(t48) {
  return [[1, 0], [t48.bottomright, 0], [t48.topright, 1], [1, 1]];
}, "p09");
var nle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [0, t48.lefttop], [0, 1]];
}, "p10");
var ile = q(function(t48) {
  return [[t48.bottomleft, 0], [0, 0], [0, 1], [t48.topleft, 1]];
}, "p11");
var rle = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [0, t48.leftbottom], [0, t48.lefttop]];
}, "p12");
var sle = q(function(t48) {
  return [[t48.topleft, 1], [t48.topright, 1], [t48.bottomright, 0], [t48.bottomleft, 0]];
}, "p13");
var ole = q(function() {
  return [[0, 0], [0, 1], [1, 1], [1, 0]];
}, "p14");
var ale = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [0, 0], [0, 1], [t48.topleft, 1]];
}, "p15");
var lle = q(function(t48) {
  return [[t48.topright, 1], [1, 1], [1, 0], [0, 0], [0, t48.leftbottom]];
}, "p16");
var ule = q(function(t48) {
  return [[1, 0], [t48.bottomright, 0], [0, t48.lefttop], [0, 1], [1, 1]];
}, "p17");
var cle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [t48.bottomleft, 0], [0, 0], [0, 1]];
}, "p18");
var hle = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [0, t48.lefttop], [0, 1], [t48.topleft, 1]];
}, "p19");
var fle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [t48.bottomright, 0], [t48.bottomleft, 0], [t48.topright, 1]];
}, "p20");
var ple = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [t48.bottomright, 0], [0, t48.leftbottom], [0, t48.lefttop]];
}, "p21");
var dle = q(function(t48) {
  return [[t48.topright, 1], [t48.bottomleft, 0], [0, 0], [0, t48.leftbottom], [t48.topleft, 1]];
}, "p22");
var mle = q(function(t48) {
  return [[t48.bottomright, 0], [t48.bottomleft, 0], [0, t48.lefttop], [0, 1], [t48.topleft, 1]];
}, "p23");
var gle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [0, t48.leftbottom], [0, t48.lefttop], [t48.topright, 1]];
}, "p24");
var vle = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [t48.bottomright, 0], [t48.topleft, 1], [t48.topright, 1]];
}, "p25");
var yle = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [t48.bottomleft, 0], [0, 0], [0, t48.leftbottom]];
}, "p26");
var xle = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [0, 0], [0, t48.leftbottom], [t48.topleft, 1], [t48.topright, 1]];
}, "p27");
var ble = q(function(t48) {
  return [[1, 1], [1, 0], [t48.bottomright, 0], [0, t48.leftbottom], [0, t48.lefttop], [t48.topright, 1]];
}, "p28");
var _le = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [t48.bottomright, 0], [t48.bottomleft, 0], [0, t48.lefttop], [0, 1]];
}, "p29");
var wle = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [t48.bottomleft, 0], [0, 0], [0, 1], [t48.topleft, 1]];
}, "p30");
var Mle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [t48.bottomleft, 0], [0, 0], [0, t48.leftbottom], [t48.topright, 1]];
}, "p31");
var Ele = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [t48.bottomright, 0], [0, t48.lefttop], [0, 1], [t48.topleft, 1]];
}, "p32");
var Tle = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [t48.bottomright, 0], [t48.bottomleft, 0], [0, t48.leftbottom], [0, t48.lefttop], [t48.topleft, 1], [t48.topright, 1]];
}, "p33");
var Sle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [t48.bottomleft, 0], [0, 0], [0, t48.leftbottom], [t48.topright, 1]];
}, "p34");
var Ale = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [t48.bottomright, 0], [0, t48.lefttop], [0, 1], [t48.topleft, 1]];
}, "p35");
var Cle = q(function(t48) {
  return [[1, 1], [1, t48.righttop], [t48.bottomright, 0], [t48.bottomleft, 0], [0, t48.leftbottom], [0, t48.lefttop], [t48.topright, 1]];
}, "p36");
var Ple = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [t48.bottomleft, 0], [0, 0], [0, t48.leftbottom], [t48.topleft, 1], [t48.topright, 1]];
}, "p37");
var Ile = q(function(t48) {
  return [[1, t48.righttop], [1, t48.rightbottom], [t48.bottomright, 0], [t48.bottomleft, 0], [0, t48.lefttop], [0, 1], [t48.topleft, 1]];
}, "p38");
var Ole = q(function(t48) {
  return [[1, t48.rightbottom], [1, 0], [t48.bottomright, 0], [0, t48.leftbottom], [0, t48.lefttop], [t48.topleft, 1], [t48.topright, 1]];
}, "p39");
var Yn = [];
var Xn = [];
var Zn = [];
var Qn = [];
var Kn = [];
var Jn = [];
var $n = [];
var ei = [];
Qn[1] = Kn[1] = 18, Qn[169] = Kn[169] = 18, Zn[4] = Xn[4] = 12, Zn[166] = Xn[166] = 12, Yn[16] = ei[16] = 4, Yn[154] = ei[154] = 4, Jn[64] = $n[64] = 22, Jn[106] = $n[106] = 22, Zn[2] = Jn[2] = 17, Qn[2] = Kn[2] = 18, Zn[168] = Jn[168] = 17, Qn[168] = Kn[168] = 18, Yn[8] = Qn[8] = 9, Xn[8] = Zn[8] = 12, Yn[162] = Qn[162] = 9, Xn[162] = Zn[162] = 12, Yn[32] = ei[32] = 4, Xn[32] = $n[32] = 1, Yn[138] = ei[138] = 4, Xn[138] = $n[138] = 1, Kn[128] = ei[128] = 21, Jn[128] = $n[128] = 22, Kn[42] = ei[42] = 21, Jn[42] = $n[42] = 22, Xn[5] = Kn[5] = 14, Xn[165] = Kn[165] = 14, Zn[20] = ei[20] = 6, Zn[150] = ei[150] = 6, Yn[80] = Jn[80] = 11, Yn[90] = Jn[90] = 11, Qn[65] = $n[65] = 3, Qn[105] = $n[105] = 3, Yn[160] = Jn[160] = 11, Xn[160] = Kn[160] = 14, Yn[10] = Jn[10] = 11, Xn[10] = Kn[10] = 14, Zn[130] = ei[130] = 6, Qn[130] = $n[130] = 3, Zn[40] = ei[40] = 6, Qn[40] = $n[40] = 3, Xn[101] = $n[101] = 1, Xn[69] = $n[69] = 1, Kn[149] = ei[149] = 21, Kn[21] = ei[21] = 21, Zn[86] = Jn[86] = 17, Zn[84] = Jn[84] = 17, Yn[89] = Qn[89] = 9, Yn[81] = Qn[81] = 9, Yn[96] = $n[96] = 0, Xn[96] = Jn[96] = 15, Yn[74] = $n[74] = 0, Xn[74] = Jn[74] = 15, Yn[24] = Zn[24] = 8, Qn[24] = ei[24] = 7, Yn[146] = Zn[146] = 8, Qn[146] = ei[146] = 7, Xn[6] = Jn[6] = 15, Zn[6] = Kn[6] = 16, Xn[164] = Jn[164] = 15, Zn[164] = Kn[164] = 16, Qn[129] = ei[129] = 7, Kn[129] = $n[129] = 20, Qn[41] = ei[41] = 7, Kn[41] = $n[41] = 20, Zn[66] = $n[66] = 2, Qn[66] = Jn[66] = 19, Zn[104] = $n[104] = 2, Qn[104] = Jn[104] = 19, Yn[144] = Kn[144] = 10, Jn[144] = ei[144] = 23, Yn[26] = Kn[26] = 10, Jn[26] = ei[26] = 23, Xn[36] = ei[36] = 5, Zn[36] = $n[36] = 2, Xn[134] = ei[134] = 5, Zn[134] = $n[134] = 2, Yn[9] = Kn[9] = 10, Xn[9] = Qn[9] = 13, Yn[161] = Kn[161] = 10, Xn[161] = Qn[161] = 13, Xn[37] = ei[37] = 5, Kn[37] = $n[37] = 20, Xn[133] = ei[133] = 5, Kn[133] = $n[133] = 20, Zn[148] = Kn[148] = 16, Jn[148] = ei[148] = 23, Zn[22] = Kn[22] = 16, Jn[22] = ei[22] = 23, Yn[82] = Zn[82] = 8, Qn[82] = Jn[82] = 19, Yn[88] = Zn[88] = 8, Qn[88] = Jn[88] = 19, Yn[73] = $n[73] = 0, Xn[73] = Qn[73] = 13, Yn[97] = $n[97] = 0, Xn[97] = Qn[97] = 13, Yn[145] = Qn[145] = 9, Kn[145] = ei[145] = 21, Yn[25] = Qn[25] = 9, Kn[25] = ei[25] = 21, Xn[70] = $n[70] = 1, Zn[70] = Jn[70] = 17, Xn[100] = $n[100] = 1, Zn[100] = Jn[100] = 17, Yn[34] = Qn[34] = 9, Xn[34] = Zn[34] = 12, Kn[34] = ei[34] = 21, Jn[34] = $n[34] = 22, Yn[136] = ei[136] = 4, Xn[136] = $n[136] = 1, Zn[136] = Jn[136] = 17, Qn[136] = Kn[136] = 18, Yn[35] = ei[35] = 4, Xn[35] = Zn[35] = 12, Qn[35] = Kn[35] = 18, Jn[35] = $n[35] = 22, Yn[153] = ei[153] = 4, Qn[153] = Kn[153] = 18, Xn[102] = Zn[102] = 12, Jn[102] = $n[102] = 22, Yn[155] = Qn[155] = 9, Kn[155] = ei[155] = 23, Xn[103] = $n[103] = 1, Zn[103] = Jn[103] = 17, Yn[152] = ei[152] = 4, Zn[152] = Jn[152] = 17, Qn[152] = Kn[152] = 18, Yn[156] = Zn[156] = 8, Qn[156] = Kn[156] = 18, Jn[156] = ei[156] = 23, Yn[137] = ei[137] = 4, Xn[137] = $n[137] = 1, Qn[137] = Kn[137] = 18, Yn[139] = ei[139] = 4, Xn[139] = Qn[139] = 13, Kn[139] = $n[139] = 20, Yn[98] = Qn[98] = 9, Xn[98] = Zn[98] = 12, Jn[98] = $n[98] = 22, Yn[99] = $n[99] = 0, Xn[99] = Zn[99] = 12, Qn[99] = Jn[99] = 19, Xn[38] = Zn[38] = 12, Kn[38] = ei[38] = 21, Jn[38] = $n[38] = 22, Xn[39] = ei[39] = 5, Zn[39] = Kn[39] = 16, Jn[39] = $n[39] = 22;
var dt = [];
function Dle(t48) {
  return (t48 > 0) - (t48 < 0) || +t48;
}
function tm(t48, e6, i) {
  var n = e6[0] - t48[0], r = e6[1] - t48[1], o3 = i[0] - e6[0];
  return Dle(n * (i[1] - e6[1]) - o3 * r);
}
function pG(t48, e6) {
  var i = t48.geometry.coordinates[0].map(function(t49) {
    return t49[0];
  }), n = t48.geometry.coordinates[0].map(function(t49) {
    return t49[1];
  }), r = e6.geometry.coordinates[0].map(function(t49) {
    return t49[0];
  }), o3 = e6.geometry.coordinates[0].map(function(t49) {
    return t49[1];
  });
  return Math.max.apply(null, i) === Math.max.apply(null, r) && Math.max.apply(null, n) === Math.max.apply(null, o3) && Math.min.apply(null, i) === Math.min.apply(null, r) && Math.min.apply(null, n) === Math.min.apply(null, o3);
}
function AI(t48, e6) {
  return e6.geometry.coordinates[0].every(function(e10) {
    return Bs(oi(e10), t48);
  });
}
function dG(t48, e6) {
  return t48[0] === e6[0] && t48[1] === e6[1];
}
dt[1] = dt[169] = xI, dt[4] = dt[166] = bI, dt[16] = dt[154] = _I, dt[64] = dt[106] = wI, dt[168] = dt[2] = MI, dt[162] = dt[8] = EI, dt[138] = dt[32] = TI, dt[42] = dt[128] = SI, dt[5] = dt[165] = ele, dt[20] = dt[150] = tle, dt[80] = dt[90] = nle, dt[65] = dt[105] = ile, dt[160] = dt[10] = rle, dt[130] = dt[40] = sle, dt[85] = ole, dt[101] = dt[69] = ale, dt[149] = dt[21] = lle, dt[86] = dt[84] = ule, dt[89] = dt[81] = cle, dt[96] = dt[74] = hle, dt[24] = dt[146] = fle, dt[6] = dt[164] = ple, dt[129] = dt[41] = dle, dt[66] = dt[104] = mle, dt[144] = dt[26] = gle, dt[36] = dt[134] = vle, dt[9] = dt[161] = yle, dt[37] = dt[133] = xle, dt[148] = dt[22] = ble, dt[82] = dt[88] = _le, dt[73] = dt[97] = wle, dt[145] = dt[25] = Mle, dt[70] = dt[100] = Ele, dt[34] = function(t48) {
  return [SI(t48), EI(t48)];
}, dt[35] = Tle, dt[136] = function(t48) {
  return [TI(t48), MI(t48)];
}, dt[153] = function(t48) {
  return [_I(t48), xI(t48)];
}, dt[102] = function(t48) {
  return [bI(t48), wI(t48)];
}, dt[155] = Sle, dt[103] = Ale, dt[152] = function(t48) {
  return [_I(t48), MI(t48)];
}, dt[156] = Cle, dt[137] = function(t48) {
  return [TI(t48), xI(t48)];
}, dt[139] = Ple, dt[98] = function(t48) {
  return [EI(t48), wI(t48)];
}, dt[99] = Ile, dt[38] = function(t48) {
  return [bI(t48), SI(t48)];
}, dt[39] = Ole, c(), c(), c(), c(), c(), c(), c(), c(), q(Dle, "mathSign"), q(tm, "orientationIndex"), q(pG, "envelopeIsEqual"), q(AI, "envelopeContains"), q(dG, "coordinatesEqual");
var Nle = function() {
  function t48(e6) {
    this.id = t48.buildId(e6), this.coordinates = e6, this.innerEdges = [], this.outerEdges = [], this.outerEdgesSorted = false;
  }
  return q(t48, "Node"), t48.buildId = function(t49) {
    return t49.join(",");
  }, t48.prototype.removeInnerEdge = function(t49) {
    this.innerEdges = this.innerEdges.filter(function(e6) {
      return e6.from.id !== t49.from.id;
    });
  }, t48.prototype.removeOuterEdge = function(t49) {
    this.outerEdges = this.outerEdges.filter(function(e6) {
      return e6.to.id !== t49.to.id;
    });
  }, t48.prototype.addOuterEdge = function(t49) {
    this.outerEdges.push(t49), this.outerEdgesSorted = false;
  }, t48.prototype.sortOuterEdges = function() {
    var t49 = this;
    this.outerEdgesSorted || (this.outerEdges.sort(function(e6, i) {
      var n = e6.to, r = i.to;
      if (n.coordinates[0] - t49.coordinates[0] >= 0 && r.coordinates[0] - t49.coordinates[0] < 0)
        return 1;
      if (n.coordinates[0] - t49.coordinates[0] < 0 && r.coordinates[0] - t49.coordinates[0] >= 0)
        return -1;
      if (n.coordinates[0] - t49.coordinates[0] == 0 && r.coordinates[0] - t49.coordinates[0] == 0)
        return n.coordinates[1] - t49.coordinates[1] >= 0 || r.coordinates[1] - t49.coordinates[1] >= 0 ? n.coordinates[1] - r.coordinates[1] : r.coordinates[1] - n.coordinates[1];
      var o3 = tm(t49.coordinates, n.coordinates, r.coordinates);
      return o3 < 0 ? 1 : o3 > 0 ? -1 : Math.pow(n.coordinates[0] - t49.coordinates[0], 2) + Math.pow(n.coordinates[1] - t49.coordinates[1], 2) - (Math.pow(r.coordinates[0] - t49.coordinates[0], 2) + Math.pow(r.coordinates[1] - t49.coordinates[1], 2));
    }), this.outerEdgesSorted = true);
  }, t48.prototype.getOuterEdges = function() {
    return this.sortOuterEdges(), this.outerEdges;
  }, t48.prototype.getOuterEdge = function(t49) {
    return this.sortOuterEdges(), this.outerEdges[t49];
  }, t48.prototype.addInnerEdge = function(t49) {
    this.innerEdges.push(t49);
  }, t48;
}();
var CI = Nle;
c();
var Rle = function() {
  function t48(t49, e6) {
    this.from = t49, this.to = e6, this.next = void 0, this.label = void 0, this.symetric = void 0, this.ring = void 0, this.from.addOuterEdge(this), this.to.addInnerEdge(this);
  }
  return q(t48, "Edge"), t48.prototype.getSymetric = function() {
    return this.symetric || (this.symetric = new t48(this.to, this.from), this.symetric.symetric = this), this.symetric;
  }, t48.prototype.deleteEdge = function() {
    this.from.removeOuterEdge(this), this.to.removeInnerEdge(this);
  }, t48.prototype.isEqual = function(t49) {
    return this.from.id === t49.from.id && this.to.id === t49.to.id;
  }, t48.prototype.toString = function() {
    return "Edge { " + this.from.id + " -> " + this.to.id + " }";
  }, t48.prototype.toLineString = function() {
    return gr([this.from.coordinates, this.to.coordinates]);
  }, t48.prototype.compareTo = function(t49) {
    return tm(t49.from.coordinates, t49.to.coordinates, this.to.coordinates);
  }, t48;
}();
var mG = Rle;
c();
var Ble = function() {
  function t48() {
    this.edges = [], this.polygon = void 0, this.envelope = void 0;
  }
  return q(t48, "EdgeRing"), t48.prototype.push = function(t49) {
    this.edges.push(t49), this.polygon = this.envelope = void 0;
  }, t48.prototype.get = function(t49) {
    return this.edges[t49];
  }, Object.defineProperty(t48.prototype, "length", { get: function() {
    return this.edges.length;
  }, enumerable: true, configurable: true }), t48.prototype.forEach = function(t49) {
    this.edges.forEach(t49);
  }, t48.prototype.map = function(t49) {
    return this.edges.map(t49);
  }, t48.prototype.some = function(t49) {
    return this.edges.some(t49);
  }, t48.prototype.isValid = function() {
    return true;
  }, t48.prototype.isHole = function() {
    var t49 = this, e6 = this.edges.reduce(function(e10, i10, n10) {
      return i10.from.coordinates[1] > t49.edges[e10].from.coordinates[1] && (e10 = n10), e10;
    }, 0), i = (0 === e6 ? this.length : e6) - 1, n = (e6 + 1) % this.length, r = tm(this.edges[i].from.coordinates, this.edges[e6].from.coordinates, this.edges[n].from.coordinates);
    return 0 === r ? this.edges[i].from.coordinates[0] > this.edges[n].from.coordinates[0] : r > 0;
  }, t48.prototype.toMultiPoint = function() {
    return fP(this.edges.map(function(t49) {
      return t49.from.coordinates;
    }));
  }, t48.prototype.toPolygon = function() {
    if (this.polygon)
      return this.polygon;
    var t49 = this.edges.map(function(t50) {
      return t50.from.coordinates;
    });
    return t49.push(this.edges[0].from.coordinates), this.polygon = Vi([t49]);
  }, t48.prototype.getEnvelope = function() {
    return this.envelope ? this.envelope : this.envelope = PP(this.toPolygon());
  }, t48.findEdgeRingContaining = function(t49, e6) {
    var i, n, r = t49.getEnvelope();
    return e6.forEach(function(e10) {
      var o3 = e10.getEnvelope();
      if (n && (i = n.getEnvelope()), !pG(o3, r) && AI(o3, r)) {
        for (var s6 = t49.map(function(t50) {
          return t50.from.coordinates;
        }), a = void 0, l = q(function(t50) {
          e10.some(function(e11) {
            return dG(t50, e11.from.coordinates);
          }) || (a = t50);
        }, "_loop_1"), h = 0, c2 = s6; h < c2.length; h++) {
          l(c2[h]);
        }
        a && e10.inside(oi(a)) && (!n || AI(i, o3)) && (n = e10);
      }
    }), n;
  }, t48.prototype.inside = function(t49) {
    return Bs(t49, this.toPolygon());
  }, t48;
}();
var PI = Ble;
function kle(t48) {
  if (!t48)
    throw new Error("No geojson passed");
  if ("FeatureCollection" !== t48.type && "GeometryCollection" !== t48.type && "MultiLineString" !== t48.type && "LineString" !== t48.type && "Feature" !== t48.type)
    throw new Error("Invalid input type '" + t48.type + "'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature");
}
q(kle, "validateGeoJson");
var CFe = function() {
  function t48() {
    this.edges = [], this.nodes = {};
  }
  return q(t48, "Graph"), t48.fromGeoJson = function(e6) {
    kle(e6);
    var i = new t48();
    return vo(e6, function(t49) {
      mP(t49, "LineString", "Graph::fromGeoJson"), SF(t49, function(t50, e10) {
        if (t50) {
          var n = i.getNode(t50), r = i.getNode(e10);
          i.addEdge(n, r);
        }
        return e10;
      });
    }), i;
  }, t48.prototype.getNode = function(t49) {
    var e6 = CI.buildId(t49), i = this.nodes[e6];
    return i || (i = this.nodes[e6] = new CI(t49)), i;
  }, t48.prototype.addEdge = function(t49, e6) {
    var i = new mG(t49, e6), n = i.getSymetric();
    this.edges.push(i), this.edges.push(n);
  }, t48.prototype.deleteDangles = function() {
    var t49 = this;
    Object.keys(this.nodes).map(function(e6) {
      return t49.nodes[e6];
    }).forEach(function(e6) {
      return t49._removeIfDangle(e6);
    });
  }, t48.prototype._removeIfDangle = function(t49) {
    var e6 = this;
    if (t49.innerEdges.length <= 1) {
      var i = t49.getOuterEdges().map(function(t50) {
        return t50.to;
      });
      this.removeNode(t49), i.forEach(function(t50) {
        return e6._removeIfDangle(t50);
      });
    }
  }, t48.prototype.deleteCutEdges = function() {
    var t49 = this;
    this._computeNextCWEdges(), this._findLabeledEdgeRings(), this.edges.forEach(function(e6) {
      e6.label === e6.symetric.label && (t49.removeEdge(e6.symetric), t49.removeEdge(e6));
    });
  }, t48.prototype._computeNextCWEdges = function(t49) {
    var e6 = this;
    typeof t49 > "u" ? Object.keys(this.nodes).forEach(function(t50) {
      return e6._computeNextCWEdges(e6.nodes[t50]);
    }) : t49.getOuterEdges().forEach(function(e10, i) {
      t49.getOuterEdge((0 === i ? t49.getOuterEdges().length : i) - 1).symetric.next = e10;
    });
  }, t48.prototype._computeNextCCWEdges = function(t49, e6) {
    for (var i, n, r = t49.getOuterEdges(), o3 = r.length - 1; o3 >= 0; --o3) {
      var s6 = r[o3], a = s6.symetric, l = void 0, u2 = void 0;
      s6.label === e6 && (l = s6), a.label === e6 && (u2 = a), l && u2 && (u2 && (n = u2), l && (n && (n.next = l, n = void 0), i || (i = l)));
    }
    n && (n.next = i);
  }, t48.prototype._findLabeledEdgeRings = function() {
    var t49 = [], e6 = 0;
    return this.edges.forEach(function(i) {
      if (!(i.label >= 0)) {
        t49.push(i);
        var n = i;
        do {
          n.label = e6, n = n.next;
        } while (!i.isEqual(n));
        e6++;
      }
    }), t49;
  }, t48.prototype.getEdgeRings = function() {
    var t49 = this;
    this._computeNextCWEdges(), this.edges.forEach(function(t50) {
      t50.label = void 0;
    }), this._findLabeledEdgeRings().forEach(function(e10) {
      t49._findIntersectionNodes(e10).forEach(function(i) {
        t49._computeNextCCWEdges(i, e10.label);
      });
    });
    var e6 = [];
    return this.edges.forEach(function(i) {
      i.ring || e6.push(t49._findEdgeRing(i));
    }), e6;
  }, t48.prototype._findIntersectionNodes = function(t49) {
    var e6 = [], i = t49, n = q(function() {
      var n10 = 0;
      i.from.getOuterEdges().forEach(function(e10) {
        e10.label === t49.label && ++n10;
      }), n10 > 1 && e6.push(i.from), i = i.next;
    }, "_loop_1");
    do {
      n();
    } while (!t49.isEqual(i));
    return e6;
  }, t48.prototype._findEdgeRing = function(t49) {
    var e6 = t49, i = new PI();
    do {
      i.push(e6), e6.ring = i, e6 = e6.next;
    } while (!t49.isEqual(e6));
    return i;
  }, t48.prototype.removeNode = function(t49) {
    var e6 = this;
    t49.getOuterEdges().forEach(function(t50) {
      return e6.removeEdge(t50);
    }), t49.innerEdges.forEach(function(t50) {
      return e6.removeEdge(t50);
    }), delete this.nodes[t49.id];
  }, t48.prototype.removeEdge = function(t49) {
    this.edges = this.edges.filter(function(e6) {
      return !e6.isEqual(t49);
    }), t49.deleteEdge();
  }, t48;
}();
c(), c(), c(), c();
var zle = u(II(), 1);
c();
var Gle = u(II(), 1);
c(), c();
var Hle = u(EG(), 1);
c();
var Kle = u(NG(), 1);
function BG(t48) {
  for (var e6 = t48, i = []; e6.parent; )
    i.unshift(e6), e6 = e6.parent;
  return i;
}
function $le() {
  return new kG(function(t48) {
    return t48.f;
  });
}
c(), c(), q(BG, "pathTo"), q($le, "getHeap");
var NI = { search: function(t48, e6, i, n) {
  t48.cleanDirty();
  var r = (n = n || {}).heuristic || NI.heuristics.manhattan, o3 = n.closest || false, s6 = $le(), a = e6;
  for (e6.h = r(e6, i), s6.push(e6); s6.size() > 0; ) {
    var l = s6.pop();
    if (l === i)
      return BG(l);
    l.closed = true;
    for (var u2 = t48.neighbors(l), h = 0, c2 = u2.length; h < c2; ++h) {
      var p4 = u2[h];
      if (!p4.closed && !p4.isWall()) {
        var d = l.g + p4.getCost(l), f = p4.visited;
        (!f || d < p4.g) && (p4.visited = true, p4.parent = l, p4.h = p4.h || r(p4, i), p4.g = d, p4.f = p4.g + p4.h, t48.markDirty(p4), o3 && (p4.h < a.h || p4.h === a.h && p4.g < a.g) && (a = p4), f ? s6.rescoreElement(p4) : s6.push(p4));
      }
    }
  }
  return o3 ? BG(a) : [];
}, heuristics: { manhattan: function(t48, e6) {
  return Math.abs(e6.x - t48.x) + Math.abs(e6.y - t48.y);
}, diagonal: function(t48, e6) {
  var i = Math.sqrt(2), n = Math.abs(e6.x - t48.x), r = Math.abs(e6.y - t48.y);
  return 1 * (n + r) + (i - 2) * Math.min(n, r);
} }, cleanNode: function(t48) {
  t48.f = 0, t48.g = 0, t48.h = 0, t48.visited = false, t48.closed = false, t48.parent = null;
} };
function L1(t48, e6) {
  e6 = e6 || {}, this.nodes = [], this.diagonal = !!e6.diagonal, this.grid = [];
  for (var i = 0; i < t48.length; i++) {
    this.grid[i] = [];
    for (var n = 0, r = t48[i]; n < r.length; n++) {
      var o3 = new dM(i, n, r[n]);
      this.grid[i][n] = o3, this.nodes.push(o3);
    }
  }
  this.init();
}
function dM(t48, e6, i) {
  this.x = t48, this.y = e6, this.weight = i;
}
function kG(t48) {
  this.content = [], this.scoreFunction = t48;
}
function RI() {
  this._ = null;
}
function im(t48) {
  t48.U = t48.C = t48.L = t48.R = t48.P = t48.N = null;
}
function D1(t48, e6) {
  var i = e6, n = e6.R, r = i.U;
  r ? r.L === i ? r.L = n : r.R = n : t48._ = n, n.U = r, i.U = n, i.R = n.L, i.R && (i.R.U = i), n.L = i;
}
function N1(t48, e6) {
  var i = e6, n = e6.L, r = i.U;
  r ? r.L === i ? r.L = n : r.R = n : t48._ = n, n.U = r, i.U = n, i.L = n.R, i.L && (i.L.U = i), n.R = i;
}
function qG(t48) {
  for (; t48.L; )
    t48 = t48.L;
  return t48;
}
q(L1, "Graph"), L1.prototype.init = function() {
  this.dirtyNodes = [];
  for (var t48 = 0; t48 < this.nodes.length; t48++)
    NI.cleanNode(this.nodes[t48]);
}, L1.prototype.cleanDirty = function() {
  for (var t48 = 0; t48 < this.dirtyNodes.length; t48++)
    NI.cleanNode(this.dirtyNodes[t48]);
  this.dirtyNodes = [];
}, L1.prototype.markDirty = function(t48) {
  this.dirtyNodes.push(t48);
}, L1.prototype.neighbors = function(t48) {
  var e6 = [], i = t48.x, n = t48.y, r = this.grid;
  return r[i - 1] && r[i - 1][n] && e6.push(r[i - 1][n]), r[i + 1] && r[i + 1][n] && e6.push(r[i + 1][n]), r[i] && r[i][n - 1] && e6.push(r[i][n - 1]), r[i] && r[i][n + 1] && e6.push(r[i][n + 1]), this.diagonal && (r[i - 1] && r[i - 1][n - 1] && e6.push(r[i - 1][n - 1]), r[i + 1] && r[i + 1][n - 1] && e6.push(r[i + 1][n - 1]), r[i - 1] && r[i - 1][n + 1] && e6.push(r[i - 1][n + 1]), r[i + 1] && r[i + 1][n + 1] && e6.push(r[i + 1][n + 1])), e6;
}, L1.prototype.toString = function() {
  for (var t48, e6, i, n, r = [], o3 = this.grid, s6 = 0, a = o3.length; s6 < a; s6++) {
    for (t48 = [], i = 0, n = (e6 = o3[s6]).length; i < n; i++)
      t48.push(e6[i].weight);
    r.push(t48.join(" "));
  }
  return r.join("\n");
}, q(dM, "GridNode"), dM.prototype.toString = function() {
  return "[" + this.x + " " + this.y + "]";
}, dM.prototype.getCost = function(t48) {
  return t48 && t48.x !== this.x && t48.y !== this.y ? 1.41421 * this.weight : this.weight;
}, dM.prototype.isWall = function() {
  return 0 === this.weight;
}, q(kG, "BinaryHeap"), kG.prototype = { push: function(t48) {
  this.content.push(t48), this.sinkDown(this.content.length - 1);
}, pop: function() {
  var t48 = this.content[0], e6 = this.content.pop();
  return this.content.length > 0 && (this.content[0] = e6, this.bubbleUp(0)), t48;
}, remove: function(t48) {
  var e6 = this.content.indexOf(t48), i = this.content.pop();
  e6 !== this.content.length - 1 && (this.content[e6] = i, this.scoreFunction(i) < this.scoreFunction(t48) ? this.sinkDown(e6) : this.bubbleUp(e6));
}, size: function() {
  return this.content.length;
}, rescoreElement: function(t48) {
  this.sinkDown(this.content.indexOf(t48));
}, sinkDown: function(t48) {
  for (var e6 = this.content[t48]; t48 > 0; ) {
    var i = (t48 + 1 >> 1) - 1, n = this.content[i];
    if (!(this.scoreFunction(e6) < this.scoreFunction(n)))
      break;
    this.content[i] = e6, this.content[t48] = n, t48 = i;
  }
}, bubbleUp: function(t48) {
  for (var e6 = this.content.length, i = this.content[t48], n = this.scoreFunction(i); ; ) {
    var r, o3 = t48 + 1 << 1, s6 = o3 - 1, a = null;
    if (s6 < e6) {
      var l = this.content[s6];
      (r = this.scoreFunction(l)) < n && (a = s6);
    }
    if (o3 < e6) {
      var u2 = this.content[o3];
      this.scoreFunction(u2) < (null === a ? n : r) && (a = o3);
    }
    if (null === a)
      break;
    this.content[t48] = this.content[a], this.content[a] = i, t48 = a;
  }
} }, c(), c(), c(), c(), c(), c(), c(), c(), q(RI, "RedBlackTree"), q(im, "RedBlackNode"), RI.prototype = { constructor: RI, insert: function(t48, e6) {
  var i, n, r;
  if (t48) {
    if (e6.P = t48, e6.N = t48.N, t48.N && (t48.N.P = e6), t48.N = e6, t48.R) {
      for (t48 = t48.R; t48.L; )
        t48 = t48.L;
      t48.L = e6;
    } else
      t48.R = e6;
    i = t48;
  } else
    this._ ? (t48 = qG(this._), e6.P = null, e6.N = t48, t48.P = t48.L = e6, i = t48) : (e6.P = e6.N = null, this._ = e6, i = null);
  for (e6.L = e6.R = null, e6.U = i, e6.C = true, t48 = e6; i && i.C; )
    i === (n = i.U).L ? (r = n.R) && r.C ? (i.C = r.C = false, n.C = true, t48 = n) : (t48 === i.R && (D1(this, i), i = (t48 = i).U), i.C = false, n.C = true, N1(this, n)) : (r = n.L) && r.C ? (i.C = r.C = false, n.C = true, t48 = n) : (t48 === i.L && (N1(this, i), i = (t48 = i).U), i.C = false, n.C = true, D1(this, n)), i = t48.U;
  this._.C = false;
}, remove: function(t48) {
  t48.N && (t48.N.P = t48.P), t48.P && (t48.P.N = t48.N), t48.N = t48.P = null;
  var e6, i, n, r = t48.U, o3 = t48.L, s6 = t48.R;
  if (i = o3 ? s6 ? qG(s6) : o3 : s6, r ? r.L === t48 ? r.L = i : r.R = i : this._ = i, o3 && s6 ? (n = i.C, i.C = t48.C, i.L = o3, o3.U = i, i !== s6 ? (r = i.U, i.U = t48.U, t48 = i.R, r.L = t48, i.R = s6, s6.U = i) : (i.U = r, r = i, t48 = i.R)) : (n = t48.C, t48 = i), t48 && (t48.U = r), !n) {
    if (t48 && t48.C)
      return void (t48.C = false);
    do {
      if (t48 === this._)
        break;
      if (t48 === r.L) {
        if ((e6 = r.R).C && (e6.C = false, r.C = true, D1(this, r), e6 = r.R), e6.L && e6.L.C || e6.R && e6.R.C) {
          (!e6.R || !e6.R.C) && (e6.L.C = false, e6.C = true, N1(this, e6), e6 = r.R), e6.C = r.C, r.C = e6.R.C = false, D1(this, r), t48 = this._;
          break;
        }
      } else if ((e6 = r.L).C && (e6.C = false, r.C = true, N1(this, r), e6 = r.L), e6.L && e6.L.C || e6.R && e6.R.C) {
        (!e6.L || !e6.L.C) && (e6.R.C = false, e6.C = true, D1(this, e6), e6 = r.L), e6.C = r.C, r.C = e6.L.C = false, N1(this, r), t48 = this._;
        break;
      }
      e6.C = true, t48 = r, r = r.U;
    } while (!t48.C);
    t48 && (t48.C = false);
  }
} }, q(D1, "RedBlackRotateLeft"), q(N1, "RedBlackRotateRight"), q(qG, "RedBlackFirst");
var BI = RI;
function rm(t48, e6, i, n) {
  var r = [null, null], o3 = ks.push(r) - 1;
  return r.left = t48, r.right = e6, i && R1(r, t48, e6, i), n && R1(r, e6, t48, n), qo[t48.index].halfedges.push(o3), qo[e6.index].halfedges.push(o3), r;
}
function sm(t48, e6, i) {
  var n = [e6, i];
  return n.left = t48, n;
}
function R1(t48, e6, i, n) {
  t48[0] || t48[1] ? t48.left === i ? t48[1] = n : t48[0] = n : (t48[0] = n, t48.left = e6, t48.right = i);
}
function eue(t48, e6, i, n, r) {
  var o3, s6 = t48[0], a = t48[1], l = s6[0], u2 = s6[1], h = 0, c2 = 1, p4 = a[0] - l, d = a[1] - u2;
  if (o3 = e6 - l, p4 || !(o3 > 0)) {
    if (o3 /= p4, p4 < 0) {
      if (o3 < h)
        return;
      o3 < c2 && (c2 = o3);
    } else if (p4 > 0) {
      if (o3 > c2)
        return;
      o3 > h && (h = o3);
    }
    if (o3 = n - l, p4 || !(o3 < 0)) {
      if (o3 /= p4, p4 < 0) {
        if (o3 > c2)
          return;
        o3 > h && (h = o3);
      } else if (p4 > 0) {
        if (o3 < h)
          return;
        o3 < c2 && (c2 = o3);
      }
      if (o3 = i - u2, d || !(o3 > 0)) {
        if (o3 /= d, d < 0) {
          if (o3 < h)
            return;
          o3 < c2 && (c2 = o3);
        } else if (d > 0) {
          if (o3 > c2)
            return;
          o3 > h && (h = o3);
        }
        if (o3 = r - u2, d || !(o3 < 0)) {
          if (o3 /= d, d < 0) {
            if (o3 > c2)
              return;
            o3 > h && (h = o3);
          } else if (d > 0) {
            if (o3 < h)
              return;
            o3 < c2 && (c2 = o3);
          }
          return !(h > 0) && !(c2 < 1) || (h > 0 && (t48[0] = [l + h * p4, u2 + h * d]), c2 < 1 && (t48[1] = [l + c2 * p4, u2 + c2 * d])), true;
        }
      }
    }
  }
}
function tue(t48, e6, i, n, r) {
  var o3 = t48[1];
  if (o3)
    return true;
  var s6, a, l = t48[0], u2 = t48.left, h = t48.right, c2 = u2[0], p4 = u2[1], d = h[0], f = h[1], g = (c2 + d) / 2, m = (p4 + f) / 2;
  if (f === p4) {
    if (g < e6 || g >= n)
      return;
    if (c2 > d) {
      if (l) {
        if (l[1] >= r)
          return;
      } else
        l = [g, i];
      o3 = [g, r];
    } else {
      if (l) {
        if (l[1] < i)
          return;
      } else
        l = [g, r];
      o3 = [g, i];
    }
  } else if (a = m - (s6 = (c2 - d) / (f - p4)) * g, s6 < -1 || s6 > 1)
    if (c2 > d) {
      if (l) {
        if (l[1] >= r)
          return;
      } else
        l = [(i - a) / s6, i];
      o3 = [(r - a) / s6, r];
    } else {
      if (l) {
        if (l[1] < i)
          return;
      } else
        l = [(r - a) / s6, r];
      o3 = [(i - a) / s6, i];
    }
  else if (p4 < f) {
    if (l) {
      if (l[0] >= n)
        return;
    } else
      l = [e6, s6 * e6 + a];
    o3 = [n, s6 * n + a];
  } else {
    if (l) {
      if (l[0] < e6)
        return;
    } else
      l = [n, s6 * n + a];
    o3 = [e6, s6 * e6 + a];
  }
  return t48[0] = l, t48[1] = o3, true;
}
function FG(t48, e6, i, n) {
  for (var r, o3 = ks.length; o3--; )
    tue(r = ks[o3], t48, e6, i, n) && eue(r, t48, e6, i, n) && (Math.abs(r[0][0] - r[1][0]) > Ii || Math.abs(r[0][1] - r[1][1]) > Ii) || delete ks[o3];
}
function UG(t48) {
  return qo[t48.index] = { site: t48, halfedges: [] };
}
function nue(t48, e6) {
  var i = t48.site, n = e6.left, r = e6.right;
  return i === r && (r = n, n = i), r ? Math.atan2(r[1] - n[1], r[0] - n[0]) : (i === n ? (n = e6[1], r = e6[0]) : (n = e6[0], r = e6[1]), Math.atan2(n[0] - r[0], r[1] - n[1]));
}
function kI(t48, e6) {
  return e6[+(e6.left !== t48.site)];
}
function iue(t48, e6) {
  return e6[+(e6.left === t48.site)];
}
function zG() {
  for (var t48, e6, i, n, r = 0, o3 = qo.length; r < o3; ++r)
    if ((t48 = qo[r]) && (n = (e6 = t48.halfedges).length)) {
      var s6 = new Array(n), a = new Array(n);
      for (i = 0; i < n; ++i)
        s6[i] = i, a[i] = nue(t48, ks[e6[i]]);
      for (s6.sort(function(t49, e10) {
        return a[e10] - a[t49];
      }), i = 0; i < n; ++i)
        a[i] = e6[s6[i]];
      for (i = 0; i < n; ++i)
        e6[i] = a[i];
    }
}
function GG(t48, e6, i, n) {
  var r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m = qo.length, v4 = true;
  for (r = 0; r < m; ++r)
    if (o3 = qo[r]) {
      for (s6 = o3.site, a = (l = o3.halfedges).length; a--; )
        ks[l[a]] || l.splice(a, 1);
      for (a = 0, u2 = l.length; a < u2; )
        f = (d = iue(o3, ks[l[a]]))[0], g = d[1], c2 = (h = kI(o3, ks[l[++a % u2]]))[0], p4 = h[1], (Math.abs(f - c2) > Ii || Math.abs(g - p4) > Ii) && (l.splice(a, 0, ks.push(sm(s6, d, Math.abs(f - t48) < Ii && n - g > Ii ? [t48, Math.abs(c2 - t48) < Ii ? p4 : n] : Math.abs(g - n) < Ii && i - f > Ii ? [Math.abs(p4 - n) < Ii ? c2 : i, n] : Math.abs(f - i) < Ii && g - e6 > Ii ? [i, Math.abs(c2 - i) < Ii ? p4 : e6] : Math.abs(g - e6) < Ii && f - t48 > Ii ? [Math.abs(p4 - e6) < Ii ? c2 : t48, e6] : null)) - 1), ++u2);
      u2 && (v4 = false);
    }
  if (v4) {
    var y4, x4, _, b = 1 / 0;
    for (r = 0, v4 = null; r < m; ++r)
      (o3 = qo[r]) && ((_ = (y4 = (s6 = o3.site)[0] - t48) * y4 + (x4 = s6[1] - e6) * x4) < b && (b = _, v4 = o3));
    if (v4) {
      var M = [t48, e6], E = [t48, n], w4 = [i, n], A = [i, e6];
      v4.halfedges.push(ks.push(sm(s6 = v4.site, M, E)) - 1, ks.push(sm(s6, E, w4)) - 1, ks.push(sm(s6, w4, A)) - 1, ks.push(sm(s6, A, M)) - 1);
    }
  }
  for (r = 0; r < m; ++r)
    (o3 = qo[r]) && (o3.halfedges.length || delete qo[r]);
}
c(), c(), q(rm, "createEdge"), q(sm, "createBorderEdge"), q(R1, "setEdgeEnd"), q(eue, "clipEdge"), q(tue, "connectEdge"), q(FG, "clipEdges"), q(UG, "createCell"), q(nue, "cellHalfedgeAngle"), q(kI, "cellHalfedgeStart"), q(iue, "cellHalfedgeEnd"), q(zG, "sortCellHalfedges"), q(GG, "clipCells"), c();
var mM;
var VG = [];
function rue() {
  im(this), this.x = this.y = this.arc = this.site = this.cy = null;
}
function lp(t48) {
  var e6 = t48.P, i = t48.N;
  if (e6 && i) {
    var n = e6.site, r = t48.site, o3 = i.site;
    if (n !== o3) {
      var s6 = r[0], a = r[1], l = n[0] - s6, u2 = n[1] - a, h = o3[0] - s6, c2 = o3[1] - a, p4 = 2 * (l * c2 - u2 * h);
      if (!(p4 >= -HG)) {
        var d = l * l + u2 * u2, f = h * h + c2 * c2, g = (c2 * d - u2 * f) / p4, m = (l * f - h * d) / p4, v4 = VG.pop() || new rue();
        v4.arc = t48, v4.site = r, v4.x = g + s6, v4.y = (v4.cy = m + a) + Math.sqrt(g * g + m * m), t48.circle = v4;
        for (var y4 = null, x4 = om._; x4; )
          if (v4.y < x4.y || v4.y === x4.y && v4.x <= x4.x) {
            if (!x4.L) {
              y4 = x4.P;
              break;
            }
            x4 = x4.L;
          } else {
            if (!x4.R) {
              y4 = x4;
              break;
            }
            x4 = x4.R;
          }
        om.insert(y4, v4), y4 || (mM = v4);
      }
    }
  }
}
function up(t48) {
  var e6 = t48.circle;
  e6 && (e6.P || (mM = e6.N), om.remove(e6), VG.push(e6), im(e6), t48.circle = null);
}
q(rue, "Circle"), q(lp, "attachCircle"), q(up, "detachCircle");
var WG = [];
function sue() {
  im(this), this.edge = this.site = this.circle = null;
}
function jG(t48) {
  var e6 = WG.pop() || new sue();
  return e6.site = t48, e6;
}
function qI(t48) {
  up(t48), cp.remove(t48), WG.push(t48), im(t48);
}
function YG(t48) {
  var e6 = t48.circle, i = e6.x, n = e6.cy, r = [i, n], o3 = t48.P, s6 = t48.N, a = [t48];
  qI(t48);
  for (var l = o3; l.circle && Math.abs(i - l.circle.x) < Ii && Math.abs(n - l.circle.cy) < Ii; )
    o3 = l.P, a.unshift(l), qI(l), l = o3;
  a.unshift(l), up(l);
  for (var u2 = s6; u2.circle && Math.abs(i - u2.circle.x) < Ii && Math.abs(n - u2.circle.cy) < Ii; )
    s6 = u2.N, a.push(u2), qI(u2), u2 = s6;
  a.push(u2), up(u2);
  var h, c2 = a.length;
  for (h = 1; h < c2; ++h)
    u2 = a[h], l = a[h - 1], R1(u2.edge, l.site, u2.site, r);
  l = a[0], (u2 = a[c2 - 1]).edge = rm(l.site, u2.site, null, r), lp(l), lp(u2);
}
function XG(t48) {
  for (var e6, i, n, r, o3 = t48[0], s6 = t48[1], a = cp._; a; )
    if ((n = ZG(a, s6) - o3) > Ii)
      a = a.L;
    else {
      if (!((r = o3 - oue(a, s6)) > Ii)) {
        n > -Ii ? (e6 = a.P, i = a) : r > -Ii ? (e6 = a, i = a.N) : e6 = i = a;
        break;
      }
      if (!a.R) {
        e6 = a;
        break;
      }
      a = a.R;
    }
  UG(t48);
  var l = jG(t48);
  if (cp.insert(e6, l), e6 || i) {
    if (e6 === i)
      return up(e6), i = jG(e6.site), cp.insert(l, i), l.edge = i.edge = rm(e6.site, l.site), lp(e6), void lp(i);
    if (!i)
      return void (l.edge = rm(e6.site, l.site));
    up(e6), up(i);
    var u2 = e6.site, h = u2[0], c2 = u2[1], p4 = t48[0] - h, d = t48[1] - c2, f = i.site, g = f[0] - h, m = f[1] - c2, v4 = 2 * (p4 * m - d * g), y4 = p4 * p4 + d * d, x4 = g * g + m * m, _ = [(m * y4 - d * x4) / v4 + h, (p4 * x4 - g * y4) / v4 + c2];
    R1(i.edge, u2, f, _), l.edge = rm(u2, t48, null, _), i.edge = rm(t48, f, null, _), lp(e6), lp(i);
  }
}
function ZG(t48, e6) {
  var i = t48.site, n = i[0], r = i[1], o3 = r - e6;
  if (!o3)
    return n;
  var s6 = t48.P;
  if (!s6)
    return -1 / 0;
  var a = (i = s6.site)[0], l = i[1], u2 = l - e6;
  if (!u2)
    return a;
  var h = a - n, c2 = 1 / o3 - 1 / u2, p4 = h / u2;
  return c2 ? (-p4 + Math.sqrt(p4 * p4 - 2 * c2 * (h * h / (-2 * u2) - l + u2 / 2 + r - o3 / 2))) / c2 + n : (n + a) / 2;
}
function oue(t48, e6) {
  var i = t48.N;
  if (i)
    return ZG(i, e6);
  var n = t48.site;
  return n[1] === e6 ? n[0] : 1 / 0;
}
q(sue, "Beach"), q(jG, "createBeach"), q(qI, "detachBeach"), q(YG, "removeBeach"), q(XG, "addBeach"), q(ZG, "leftBreakPoint"), q(oue, "rightBreakPoint");
var cp;
var qo;
var om;
var ks;
var Ii = 1e-6;
var HG = 1e-12;
function aue(t48, e6, i) {
  return (t48[0] - i[0]) * (e6[1] - t48[1]) - (t48[0] - e6[0]) * (i[1] - t48[1]);
}
function lue(t48, e6) {
  return e6[1] - t48[1] || e6[0] - t48[0];
}
function gM(t48, e6) {
  var i, n, r, o3 = t48.sort(lue).pop();
  for (ks = [], qo = new Array(t48.length), cp = new BI(), om = new BI(); ; )
    if (r = mM, o3 && (!r || o3[1] < r.y || o3[1] === r.y && o3[0] < r.x))
      (o3[0] !== i || o3[1] !== n) && (XG(o3), i = o3[0], n = o3[1]), o3 = t48.pop();
    else {
      if (!r)
        break;
      YG(r.arc);
    }
  if (zG(), e6) {
    var s6 = +e6[0][0], a = +e6[0][1], l = +e6[1][0], u2 = +e6[1][1];
    FG(s6, a, l, u2), GG(s6, a, l, u2);
  }
  this.edges = ks, this.cells = qo, cp = om = ks = qo = null;
}
q(aue, "triangleArea"), q(lue, "lexicographic"), q(gM, "Diagram"), gM.prototype = { constructor: gM, polygons: function() {
  var t48 = this.edges;
  return this.cells.map(function(e6) {
    var i = e6.halfedges.map(function(i10) {
      return kI(e6, t48[i10]);
    });
    return i.data = e6.site.data, i;
  });
}, triangles: function() {
  var t48 = [], e6 = this.edges;
  return this.cells.forEach(function(i, n) {
    if (o3 = (r = i.halfedges).length)
      for (var r, o3, s6, a = i.site, l = -1, u2 = e6[r[o3 - 1]], h = u2.left === a ? u2.right : u2.left; ++l < o3; )
        s6 = h, h = (u2 = e6[r[l]]).left === a ? u2.right : u2.left, s6 && h && n < s6.index && n < h.index && aue(a, s6, h) < 0 && t48.push([a.data, s6.data, h.data]);
  }), t48;
}, links: function() {
  return this.edges.filter(function(t48) {
    return t48.right;
  }).map(function(t48) {
    return { source: t48.left.data, target: t48.right.data };
  });
}, find: function(t48, e6, i) {
  for (var n, r, o3 = this, s6 = o3._found || 0, a = o3.cells.length; !(r = o3.cells[s6]); )
    if (++s6 >= a)
      return null;
  var l = t48 - r.site[0], u2 = e6 - r.site[1], h = l * l + u2 * u2;
  do {
    r = o3.cells[n = s6], s6 = null, r.halfedges.forEach(function(i10) {
      var n10 = o3.edges[i10], a3 = n10.left;
      if (a3 !== r.site && a3 || (a3 = n10.right)) {
        var l3 = t48 - a3[0], u3 = e6 - a3[1], c2 = l3 * l3 + u3 * u3;
        c2 < h && (h = c2, s6 = a3.index);
      }
    });
  } while (null !== s6);
  return o3._found = n, null == i || h <= i * i ? r.site : null;
} }, c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c(), c();
var gue = u(am(), 1);
c();
var pm = u($G(), 1);
function Fo() {
  return new xM();
}
function xM() {
  this.reset();
}
c(), c(), c(), q(Fo, "default"), q(xM, "Adder"), xM.prototype = { constructor: xM, reset: function() {
  this.s = this.t = 0;
}, add: function(t48) {
  eV(yM, t48, this.t), eV(this, yM.s, this.s), this.s ? this.t += yM.t : this.s = yM.t;
}, valueOf: function() {
  return this.s;
} };
var yM = new xM();
function eV(t48, e6, i) {
  var n = t48.s = e6 + i, r = n - e6, o3 = n - r;
  t48.t = e6 - o3 + (i - r);
}
q(eV, "add"), c();
var jt = 1e-6;
var Un = Math.PI;
var vs = Un / 2;
var bM = Un / 4;
var io = 2 * Un;
var Uo = 180 / Un;
var br = Un / 180;
var vi = Math.abs;
var Cl = Math.atan;
var qs = Math.atan2;
var Gt = Math.cos;
var _M = Math.exp;
var B1 = Math.log;
var Vt = Math.sin;
var is = Math.sqrt;
var k1 = Math.tan;
function wM(t48) {
  return t48 > 1 ? 0 : t48 < -1 ? Un : Math.acos(t48);
}
function ys(t48) {
  return t48 > 1 ? vs : t48 < -1 ? -vs : Math.asin(t48);
}
function zo() {
}
function MM(t48, e6) {
  t48 && nV.hasOwnProperty(t48.type) && nV[t48.type](t48, e6);
}
q(wM, "acos"), q(ys, "asin"), c(), q(zo, "noop"), c(), q(MM, "streamGeometry");
var tV = { Feature: function(t48, e6) {
  MM(t48.geometry, e6);
}, FeatureCollection: function(t48, e6) {
  for (var i = t48.features, n = -1, r = i.length; ++n < r; )
    MM(i[n].geometry, e6);
} };
var nV = { Sphere: function(t48, e6) {
  e6.sphere();
}, Point: function(t48, e6) {
  t48 = t48.coordinates, e6.point(t48[0], t48[1], t48[2]);
}, MultiPoint: function(t48, e6) {
  for (var i = t48.coordinates, n = -1, r = i.length; ++n < r; )
    t48 = i[n], e6.point(t48[0], t48[1], t48[2]);
}, LineString: function(t48, e6) {
  zI(t48.coordinates, e6, 0);
}, MultiLineString: function(t48, e6) {
  for (var i = t48.coordinates, n = -1, r = i.length; ++n < r; )
    zI(i[n], e6, 0);
}, Polygon: function(t48, e6) {
  iV(t48.coordinates, e6);
}, MultiPolygon: function(t48, e6) {
  for (var i = t48.coordinates, n = -1, r = i.length; ++n < r; )
    iV(i[n], e6);
}, GeometryCollection: function(t48, e6) {
  for (var i = t48.geometries, n = -1, r = i.length; ++n < r; )
    MM(i[n], e6);
} };
function zI(t48, e6, i) {
  var n, r = -1, o3 = t48.length - i;
  for (e6.lineStart(); ++r < o3; )
    n = t48[r], e6.point(n[0], n[1], n[2]);
  e6.lineEnd();
}
function iV(t48, e6) {
  var i = -1, n = t48.length;
  for (e6.polygonStart(); ++i < n; )
    zI(t48[i], e6, 1);
  e6.polygonEnd();
}
function hc(t48, e6) {
  t48 && tV.hasOwnProperty(t48.type) ? tV[t48.type](t48, e6) : MM(t48, e6);
}
q(zI, "streamLine"), q(iV, "streamPolygon"), q(hc, "default");
var vue = Fo();
var fHe = Fo();
function lm(t48) {
  return [qs(t48[1], t48[0]), ys(t48[2])];
}
function Pl(t48) {
  var e6 = t48[0], i = t48[1], n = Gt(i);
  return [n * Gt(e6), n * Vt(e6), Vt(i)];
}
function q1(t48, e6) {
  return t48[0] * e6[0] + t48[1] * e6[1] + t48[2] * e6[2];
}
function hp(t48, e6) {
  return [t48[1] * e6[2] - t48[2] * e6[1], t48[2] * e6[0] - t48[0] * e6[2], t48[0] * e6[1] - t48[1] * e6[0]];
}
function EM(t48, e6) {
  t48[0] += e6[0], t48[1] += e6[1], t48[2] += e6[2];
}
function F1(t48, e6) {
  return [t48[0] * e6, t48[1] * e6, t48[2] * e6];
}
function um(t48) {
  var e6 = is(t48[0] * t48[0] + t48[1] * t48[1] + t48[2] * t48[2]);
  t48[0] /= e6, t48[1] /= e6, t48[2] /= e6;
}
c(), c(), q(lm, "spherical"), q(Pl, "cartesian"), q(q1, "cartesianDot"), q(hp, "cartesianCross"), q(EM, "cartesianAddInPlace"), q(F1, "cartesianScale"), q(um, "cartesianNormalizeInPlace");
var SHe = Fo();
function U1(t48, e6) {
  function i(i10, n) {
    return i10 = t48(i10, n), e6(i10[0], i10[1]);
  }
  return q(i, "compose"), t48.invert && e6.invert && (i.invert = function(i10, n) {
    return (i10 = e6.invert(i10, n)) && t48.invert(i10[0], i10[1]);
  }), i;
}
function GI(t48, e6) {
  return [t48 > Un ? t48 - io : t48 < -Un ? t48 + io : t48, e6];
}
function VI(t48, e6, i) {
  return (t48 %= io) ? e6 || i ? U1(sV(t48), oV(e6, i)) : sV(t48) : e6 || i ? oV(e6, i) : GI;
}
function rV(t48) {
  return function(e6, i) {
    return [(e6 += t48) > Un ? e6 - io : e6 < -Un ? e6 + io : e6, i];
  };
}
function sV(t48) {
  var e6 = rV(t48);
  return e6.invert = rV(-t48), e6;
}
function oV(t48, e6) {
  var i = Gt(t48), n = Vt(t48), r = Gt(e6), o3 = Vt(e6);
  function s6(t49, e10) {
    var s10 = Gt(e10), a = Gt(t49) * s10, l = Vt(t49) * s10, u2 = Vt(e10), h = u2 * i + a * n;
    return [qs(l * r - h * o3, a * i - u2 * n), ys(h * r + l * o3)];
  }
  return q(s6, "rotation"), s6.invert = function(t49, e10) {
    var s10 = Gt(e10), a = Gt(t49) * s10, l = Vt(t49) * s10, u2 = Vt(e10), h = u2 * r - l * o3;
    return [qs(l * r + u2 * o3, a * i + h * n), ys(h * i - a * n)];
  }, s6;
}
function lV(t48, e6, i, n, r, o3) {
  if (i) {
    var s6 = Gt(e6), a = Vt(e6), l = n * i;
    null == r ? (r = e6 + n * io, o3 = e6 - l / 2) : (r = aV(s6, r), o3 = aV(s6, o3), (n > 0 ? r < o3 : r > o3) && (r += n * io));
    for (var u2, h = r; n > 0 ? h > o3 : h < o3; h -= l)
      u2 = lm([s6, -a * Gt(h), -a * Vt(h)]), t48.point(u2[0], u2[1]);
  }
}
function aV(t48, e6) {
  (e6 = Pl(e6))[0] -= t48, um(e6);
  var i = wM(-e6[1]);
  return ((-e6[2] < 0 ? -i : i) + io - jt) % io;
}
function z1() {
  var t48, e6 = [];
  return { point: function(e10, i) {
    t48.push([e10, i]);
  }, lineStart: function() {
    e6.push(t48 = []);
  }, lineEnd: zo, rejoin: function() {
    e6.length > 1 && e6.push(e6.pop().concat(e6.shift()));
  }, result: function() {
    var i = e6;
    return e6 = [], t48 = null, i;
  } };
}
function HI(t48, e6, i, n, r, o3) {
  var s6, a = t48[0], l = t48[1], u2 = 0, h = 1, c2 = e6[0] - a, p4 = e6[1] - l;
  if (s6 = i - a, c2 || !(s6 > 0)) {
    if (s6 /= c2, c2 < 0) {
      if (s6 < u2)
        return;
      s6 < h && (h = s6);
    } else if (c2 > 0) {
      if (s6 > h)
        return;
      s6 > u2 && (u2 = s6);
    }
    if (s6 = r - a, c2 || !(s6 < 0)) {
      if (s6 /= c2, c2 < 0) {
        if (s6 > h)
          return;
        s6 > u2 && (u2 = s6);
      } else if (c2 > 0) {
        if (s6 < u2)
          return;
        s6 < h && (h = s6);
      }
      if (s6 = n - l, p4 || !(s6 > 0)) {
        if (s6 /= p4, p4 < 0) {
          if (s6 < u2)
            return;
          s6 < h && (h = s6);
        } else if (p4 > 0) {
          if (s6 > h)
            return;
          s6 > u2 && (u2 = s6);
        }
        if (s6 = o3 - l, p4 || !(s6 < 0)) {
          if (s6 /= p4, p4 < 0) {
            if (s6 > h)
              return;
            s6 > u2 && (u2 = s6);
          } else if (p4 > 0) {
            if (s6 < u2)
              return;
            s6 < h && (h = s6);
          }
          return u2 > 0 && (t48[0] = a + u2 * c2, t48[1] = l + u2 * p4), h < 1 && (e6[0] = a + h * c2, e6[1] = l + h * p4), true;
        }
      }
    }
  }
}
function fp(t48, e6) {
  return vi(t48[0] - e6[0]) < jt && vi(t48[1] - e6[1]) < jt;
}
function TM(t48, e6, i, n) {
  this.x = t48, this.z = e6, this.o = i, this.e = n, this.v = false, this.n = this.p = null;
}
function G1(t48, e6, i, n, r) {
  var o3, s6, a = [], l = [];
  if (t48.forEach(function(t49) {
    if (!((e10 = t49.length - 1) <= 0)) {
      var e10, i10, n10 = t49[0], s10 = t49[e10];
      if (fp(n10, s10)) {
        for (r.lineStart(), o3 = 0; o3 < e10; ++o3)
          r.point((n10 = t49[o3])[0], n10[1]);
        return void r.lineEnd();
      }
      a.push(i10 = new TM(n10, t49, null, true)), l.push(i10.o = new TM(n10, null, i10, false)), a.push(i10 = new TM(s10, t49, null, false)), l.push(i10.o = new TM(s10, null, i10, true));
    }
  }), a.length) {
    for (l.sort(e6), uV(a), uV(l), o3 = 0, s6 = l.length; o3 < s6; ++o3)
      l[o3].e = i = !i;
    for (var u2, h, c2 = a[0]; ; ) {
      for (var p4 = c2, d = true; p4.v; )
        if ((p4 = p4.n) === c2)
          return;
      u2 = p4.z, r.lineStart();
      do {
        if (p4.v = p4.o.v = true, p4.e) {
          if (d)
            for (o3 = 0, s6 = u2.length; o3 < s6; ++o3)
              r.point((h = u2[o3])[0], h[1]);
          else
            n(p4.x, p4.n.x, 1, r);
          p4 = p4.n;
        } else {
          if (d)
            for (u2 = p4.p.z, o3 = u2.length - 1; o3 >= 0; --o3)
              r.point((h = u2[o3])[0], h[1]);
          else
            n(p4.x, p4.p.x, -1, r);
          p4 = p4.p;
        }
        u2 = (p4 = p4.o).z, d = !d;
      } while (!p4.v);
      r.lineEnd();
    }
  }
}
function uV(t48) {
  if (e6 = t48.length) {
    for (var e6, i, n = 0, r = t48[0]; ++n < e6; )
      r.n = i = t48[n], i.p = r, r = i;
    r.n = i = t48[0], i.p = r;
  }
}
function fc(t48, e6) {
  return t48 < e6 ? -1 : t48 > e6 ? 1 : t48 >= e6 ? 0 : NaN;
}
function SM(t48) {
  return 1 === t48.length && (t48 = yue(t48)), { left: function(e6, i, n, r) {
    for (null == n && (n = 0), null == r && (r = e6.length); n < r; ) {
      var o3 = n + r >>> 1;
      t48(e6[o3], i) < 0 ? n = o3 + 1 : r = o3;
    }
    return n;
  }, right: function(e6, i, n, r) {
    for (null == n && (n = 0), null == r && (r = e6.length); n < r; ) {
      var o3 = n + r >>> 1;
      t48(e6[o3], i) > 0 ? r = o3 : n = o3 + 1;
    }
    return n;
  } };
}
function yue(t48) {
  return function(e6, i) {
    return fc(t48(e6), i);
  };
}
c(), c(), c(), c(), c(), q(U1, "default"), q(GI, "rotationIdentity"), GI.invert = GI, q(VI, "rotateRadians"), q(rV, "forwardRotationLambda"), q(sV, "rotationLambda"), q(oV, "rotationPhiGamma"), q(lV, "circleStream"), q(aV, "circleRadius"), c(), c(), q(z1, "default"), c(), q(HI, "default"), c(), c(), q(fp, "default"), q(TM, "Intersection"), q(G1, "default"), q(uV, "link"), c(), c(), c(), q(fc, "default"), c(), q(SM, "default"), q(yue, "ascendingComparator");
var cV = SM(fc);
var xue = cV.right;
var bue = cV.left;
c(), c(), c(), c(), c(), c(), c(), c(), c();
var hV = Array.prototype;
var wue = hV.slice;
var Mue = hV.map;
c(), c(), c(), c();
var cWe = Math.sqrt(50);
var hWe = Math.sqrt(10);
var fWe = Math.sqrt(2);
function cm(t48) {
  for (var e6, i, n, r = t48.length, o3 = -1, s6 = 0; ++o3 < r; )
    s6 += t48[o3].length;
  for (i = new Array(s6); --r >= 0; )
    for (e6 = (n = t48[r]).length; --e6 >= 0; )
      i[--s6] = n[e6];
  return i;
}
c(), c(), c(), c(), c(), c(), c(), c(), q(cm, "default"), c(), c(), c(), c(), c(), c(), c();
var V1 = 1e9;
var CM = -V1;
function jI(t48, e6, i, n) {
  function r(r6, o6) {
    return t48 <= r6 && r6 <= i && e6 <= o6 && o6 <= n;
  }
  function o3(r6, o6, a3, u2) {
    var h = 0, c2 = 0;
    if (null == r6 || (h = s6(r6, a3)) !== (c2 = s6(o6, a3)) || l(r6, o6) < 0 ^ a3 > 0)
      do {
        u2.point(0 === h || 3 === h ? t48 : i, h > 1 ? n : e6);
      } while ((h = (h + a3 + 4) % 4) !== c2);
    else
      u2.point(o6[0], o6[1]);
  }
  function s6(n10, r6) {
    return vi(n10[0] - t48) < jt ? r6 > 0 ? 0 : 3 : vi(n10[0] - i) < jt ? r6 > 0 ? 2 : 1 : vi(n10[1] - e6) < jt ? r6 > 0 ? 1 : 0 : r6 > 0 ? 3 : 2;
  }
  function a(t49, e10) {
    return l(t49.x, e10.x);
  }
  function l(t49, e10) {
    var i10 = s6(t49, 1), n10 = s6(e10, 1);
    return i10 !== n10 ? i10 - n10 : 0 === i10 ? e10[1] - t49[1] : 1 === i10 ? t49[0] - e10[0] : 2 === i10 ? t49[1] - e10[1] : e10[0] - t49[0];
  }
  return q(r, "visible"), q(o3, "interpolate"), q(s6, "corner"), q(a, "compareIntersection"), q(l, "comparePoint"), function(s10) {
    var l3, h, c2, p4, d, f, g, m, v4, y4, x4, _ = s10, b = z1(), M = { point: E, lineStart: T, lineEnd: C, polygonStart: A, polygonEnd: S };
    function E(t49, e10) {
      r(t49, e10) && _.point(t49, e10);
    }
    function w4() {
      for (var e10 = 0, i10 = 0, r6 = h.length; i10 < r6; ++i10)
        for (var o6, s11, a3 = h[i10], l10 = 1, u2 = a3.length, c4 = a3[0], p10 = c4[0], d4 = c4[1]; l10 < u2; ++l10)
          o6 = p10, s11 = d4, p10 = (c4 = a3[l10])[0], d4 = c4[1], s11 <= n ? d4 > n && (p10 - o6) * (n - s11) > (d4 - s11) * (t48 - o6) && ++e10 : d4 <= n && (p10 - o6) * (n - s11) < (d4 - s11) * (t48 - o6) && --e10;
      return e10;
    }
    function A() {
      _ = b, l3 = [], h = [], x4 = true;
    }
    function S() {
      var t49 = w4(), e10 = x4 && t49, i10 = (l3 = cm(l3)).length;
      (e10 || i10) && (s10.polygonStart(), e10 && (s10.lineStart(), o3(null, null, 1, s10), s10.lineEnd()), i10 && G1(l3, a, t49, o3, s10), s10.polygonEnd()), _ = s10, l3 = h = c2 = null;
    }
    function T() {
      M.point = P, h && h.push(c2 = []), y4 = true, v4 = false, g = m = NaN;
    }
    function C() {
      l3 && (P(p4, d), f && v4 && b.rejoin(), l3.push(b.result())), M.point = E, v4 && _.lineEnd();
    }
    function P(o6, s11) {
      var a3 = r(o6, s11);
      if (h && c2.push([o6, s11]), y4)
        p4 = o6, d = s11, f = a3, y4 = false, a3 && (_.lineStart(), _.point(o6, s11));
      else if (a3 && v4)
        _.point(o6, s11);
      else {
        var l10 = [g = Math.max(CM, Math.min(V1, g)), m = Math.max(CM, Math.min(V1, m))], u2 = [o6 = Math.max(CM, Math.min(V1, o6)), s11 = Math.max(CM, Math.min(V1, s11))];
        HI(l10, u2, t48, e6, i, n) ? (v4 || (_.lineStart(), _.point(l10[0], l10[1])), _.point(u2[0], u2[1]), a3 || _.lineEnd(), x4 = false) : a3 && (_.lineStart(), _.point(o6, s11), x4 = false);
      }
      g = o6, m = s11, v4 = a3;
    }
    return q(E, "point"), q(w4, "polygonInside"), q(A, "polygonStart"), q(S, "polygonEnd"), q(T, "lineStart"), q(C, "lineEnd"), q(P, "linePoint"), M;
  };
}
q(jI, "clipExtent"), c(), c();
var WI = Fo();
function PM(t48, e6) {
  var i = e6[0], n = e6[1], r = [Vt(i), -Gt(i), 0], o3 = 0, s6 = 0;
  WI.reset();
  for (var a = 0, l = t48.length; a < l; ++a)
    if (h = (u2 = t48[a]).length)
      for (var u2, h, c2 = u2[h - 1], p4 = c2[0], d = c2[1] / 2 + bM, f = Vt(d), g = Gt(d), m = 0; m < h; ++m, p4 = y4, f = _, g = b, c2 = v4) {
        var v4 = u2[m], y4 = v4[0], x4 = v4[1] / 2 + bM, _ = Vt(x4), b = Gt(x4), M = y4 - p4, E = M >= 0 ? 1 : -1, w4 = E * M, A = w4 > Un, S = f * _;
        if (WI.add(qs(S * E * Vt(w4), g * b + S * Gt(w4))), o3 += A ? M + E * io : M, A ^ p4 >= i ^ y4 >= i) {
          var T = hp(Pl(c2), Pl(v4));
          um(T);
          var C = hp(r, T);
          um(C);
          var P = (A ^ M >= 0 ? -1 : 1) * ys(C[2]);
          (n > P || n === P && (T[0] || T[1])) && (s6 += A ^ M >= 0 ? 1 : -1);
        }
      }
  return (o3 < -jt || o3 < jt && WI < -jt) ^ 1 & s6;
}
q(PM, "default"), c(), c();
var GXe = Fo();
function hm(t48) {
  return t48;
}
c(), c(), c(), c(), q(hm, "default"), c();
var xZe = Fo();
var bZe = Fo();
c();
var fm = 1 / 0;
var IM = fm;
var H1 = -fm;
var OM = H1;
var Due = { point: Nue, lineStart: zo, lineEnd: zo, polygonStart: zo, polygonEnd: zo, result: function() {
  var t48 = [[fm, IM], [H1, OM]];
  return H1 = OM = -(IM = fm = 1 / 0), t48;
} };
function Nue(t48, e6) {
  t48 < fm && (fm = t48), t48 > H1 && (H1 = t48), e6 < IM && (IM = e6), e6 > OM && (OM = e6);
}
q(Nue, "boundsPoint");
var LM = Due;
function YI(t48) {
  this._context = t48;
}
c(), c(), q(YI, "PathContext"), YI.prototype = { _radius: 4.5, pointRadius: function(t48) {
  return this._radius = t48, this;
}, polygonStart: function() {
  this._line = 0;
}, polygonEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._point = 0;
}, lineEnd: function() {
  0 === this._line && this._context.closePath(), this._point = NaN;
}, point: function(t48, e6) {
  switch (this._point) {
    case 0:
      this._context.moveTo(t48, e6), this._point = 1;
      break;
    case 1:
      this._context.lineTo(t48, e6);
      break;
    default:
      this._context.moveTo(t48 + this._radius, e6), this._context.arc(t48, e6, this._radius, 0, io);
  }
}, result: zo }, c();
var UZe = Fo();
function XI() {
  this._string = [];
}
function dV(t48) {
  return "m0," + t48 + "a" + t48 + "," + t48 + " 0 1,1 0," + -2 * t48 + "a" + t48 + "," + t48 + " 0 1,1 0," + 2 * t48 + "z";
}
function j1(t48, e6, i, n) {
  return function(r, o3) {
    var s6, a, l, h = e6(o3), c2 = r.invert(n[0], n[1]), p4 = z1(), d = e6(p4), f = false, g = { point: m, lineStart: y4, lineEnd: x4, polygonStart: function() {
      g.point = _, g.lineStart = b, g.lineEnd = M, a = [], s6 = [];
    }, polygonEnd: function() {
      g.point = m, g.lineStart = y4, g.lineEnd = x4, a = cm(a);
      var t49 = PM(s6, c2);
      a.length ? (f || (o3.polygonStart(), f = true), G1(a, Bue, t49, i, o3)) : t49 && (f || (o3.polygonStart(), f = true), o3.lineStart(), i(null, null, 1, o3), o3.lineEnd()), f && (o3.polygonEnd(), f = false), a = s6 = null;
    }, sphere: function() {
      o3.polygonStart(), o3.lineStart(), i(null, null, 1, o3), o3.lineEnd(), o3.polygonEnd();
    } };
    function m(e10, i10) {
      var n10 = r(e10, i10);
      t48(e10 = n10[0], i10 = n10[1]) && o3.point(e10, i10);
    }
    function v4(t49, e10) {
      var i10 = r(t49, e10);
      h.point(i10[0], i10[1]);
    }
    function y4() {
      g.point = v4, h.lineStart();
    }
    function x4() {
      g.point = m, h.lineEnd();
    }
    function _(t49, e10) {
      l.push([t49, e10]);
      var i10 = r(t49, e10);
      d.point(i10[0], i10[1]);
    }
    function b() {
      d.lineStart(), l = [];
    }
    function M() {
      _(l[0][0], l[0][1]), d.lineEnd();
      var t49, e10, i10, n10, r6 = d.clean(), u2 = p4.result(), h2 = u2.length;
      if (l.pop(), s6.push(l), l = null, h2) {
        if (1 & r6) {
          if ((e10 = (i10 = u2[0]).length - 1) > 0) {
            for (f || (o3.polygonStart(), f = true), o3.lineStart(), t49 = 0; t49 < e10; ++t49)
              o3.point((n10 = i10[t49])[0], n10[1]);
            o3.lineEnd();
          }
          return;
        }
        h2 > 1 && 2 & r6 && u2.push(u2.pop().concat(u2.shift())), a.push(u2.filter(Rue));
      }
    }
    return q(m, "point"), q(v4, "pointLine"), q(y4, "lineStart"), q(x4, "lineEnd"), q(_, "pointRing"), q(b, "ringStart"), q(M, "ringEnd"), g;
  };
}
function Rue(t48) {
  return t48.length > 1;
}
function Bue(t48, e6) {
  return ((t48 = t48.x)[0] < 0 ? t48[1] - vs - jt : vs - t48[1]) - ((e6 = e6.x)[0] < 0 ? e6[1] - vs - jt : vs - e6[1]);
}
c(), q(XI, "PathString"), XI.prototype = { _radius: 4.5, _circle: dV(4.5), pointRadius: function(t48) {
  return (t48 = +t48) !== this._radius && (this._radius = t48, this._circle = null), this;
}, polygonStart: function() {
  this._line = 0;
}, polygonEnd: function() {
  this._line = NaN;
}, lineStart: function() {
  this._point = 0;
}, lineEnd: function() {
  0 === this._line && this._string.push("Z"), this._point = NaN;
}, point: function(t48, e6) {
  switch (this._point) {
    case 0:
      this._string.push("M", t48, ",", e6), this._point = 1;
      break;
    case 1:
      this._string.push("L", t48, ",", e6);
      break;
    default:
      null == this._circle && (this._circle = dV(this._radius)), this._string.push("M", t48, ",", e6, this._circle);
  }
}, result: function() {
  if (this._string.length) {
    var t48 = this._string.join("");
    return this._string = [], t48;
  }
  return null;
} }, q(dV, "circle"), c(), c(), c(), c(), c(), c(), q(j1, "default"), q(Rue, "validSegment"), q(Bue, "compareIntersection");
var ZI = j1(function() {
  return true;
}, kue, Fue, [-Un, -vs]);
function kue(t48) {
  var e6, i = NaN, n = NaN, r = NaN;
  return { lineStart: function() {
    t48.lineStart(), e6 = 1;
  }, point: function(o3, s6) {
    var a = o3 > 0 ? Un : -Un, l = vi(o3 - i);
    vi(l - Un) < jt ? (t48.point(i, n = (n + s6) / 2 > 0 ? vs : -vs), t48.point(r, n), t48.lineEnd(), t48.lineStart(), t48.point(a, n), t48.point(o3, n), e6 = 0) : r !== a && l >= Un && (vi(i - r) < jt && (i -= r * jt), vi(o3 - a) < jt && (o3 -= a * jt), n = que(i, n, o3, s6), t48.point(r, n), t48.lineEnd(), t48.lineStart(), t48.point(a, n), e6 = 0), t48.point(i = o3, n = s6), r = a;
  }, lineEnd: function() {
    t48.lineEnd(), i = n = NaN;
  }, clean: function() {
    return 2 - e6;
  } };
}
function que(t48, e6, i, n) {
  var r, o3, s6 = Vt(t48 - i);
  return vi(s6) > jt ? Cl((Vt(e6) * (o3 = Gt(n)) * Vt(i) - Vt(n) * (r = Gt(e6)) * Vt(t48)) / (r * o3 * s6)) : (e6 + n) / 2;
}
function Fue(t48, e6, i, n) {
  var r;
  if (null == t48)
    r = i * vs, n.point(-Un, r), n.point(0, r), n.point(Un, r), n.point(Un, 0), n.point(Un, -r), n.point(0, -r), n.point(-Un, -r), n.point(-Un, 0), n.point(-Un, r);
  else if (vi(t48[0] - e6[0]) > jt) {
    var o3 = t48[0] < e6[0] ? Un : -Un;
    r = i * o3 / 2, n.point(-o3, r), n.point(0, r), n.point(o3, r);
  } else
    n.point(e6[0], e6[1]);
}
function QI(t48, e6) {
  var i = Gt(t48), n = i > 0, r = vi(i) > jt;
  function o3(i10, n10, r6, o6) {
    lV(o6, t48, e6, r6, i10, n10);
  }
  function s6(t49, e10) {
    return Gt(t49) * Gt(e10) > i;
  }
  function a(t49) {
    var e10, i10, o6, a3, u2;
    return { lineStart: function() {
      a3 = o6 = false, u2 = 1;
    }, point: function(c2, p4) {
      var d, f = [c2, p4], g = s6(c2, p4), m = n ? g ? 0 : h(c2, p4) : g ? h(c2 + (c2 < 0 ? Un : -Un), p4) : 0;
      if (!e10 && (a3 = o6 = g) && t49.lineStart(), g !== o6 && ((!(d = l(e10, f)) || fp(e10, d) || fp(f, d)) && (f[0] += jt, f[1] += jt, g = s6(f[0], f[1]))), g !== o6)
        u2 = 0, g ? (t49.lineStart(), d = l(f, e10), t49.point(d[0], d[1])) : (d = l(e10, f), t49.point(d[0], d[1]), t49.lineEnd()), e10 = d;
      else if (r && e10 && n ^ g) {
        var v4;
        !(m & i10) && (v4 = l(f, e10, true)) && (u2 = 0, n ? (t49.lineStart(), t49.point(v4[0][0], v4[0][1]), t49.point(v4[1][0], v4[1][1]), t49.lineEnd()) : (t49.point(v4[1][0], v4[1][1]), t49.lineEnd(), t49.lineStart(), t49.point(v4[0][0], v4[0][1])));
      }
      g && (!e10 || !fp(e10, f)) && t49.point(f[0], f[1]), e10 = f, o6 = g, i10 = m;
    }, lineEnd: function() {
      o6 && t49.lineEnd(), e10 = null;
    }, clean: function() {
      return u2 | (a3 && o6) << 1;
    } };
  }
  function l(t49, e10, n10) {
    var r6 = [1, 0, 0], o6 = hp(Pl(t49), Pl(e10)), s10 = q1(o6, o6), a3 = o6[0], l3 = s10 - a3 * a3;
    if (!l3)
      return !n10 && t49;
    var u2 = i * s10 / l3, h2 = -i * a3 / l3, c2 = hp(r6, o6), p4 = F1(r6, u2);
    EM(p4, F1(o6, h2));
    var d = c2, f = q1(p4, d), g = q1(d, d), m = f * f - g * (q1(p4, p4) - 1);
    if (!(m < 0)) {
      var v4 = is(m), y4 = F1(d, (-f - v4) / g);
      if (EM(y4, p4), y4 = lm(y4), !n10)
        return y4;
      var x4, _ = t49[0], b = e10[0], M = t49[1], E = e10[1];
      b < _ && (x4 = _, _ = b, b = x4);
      var w4 = b - _, A = vi(w4 - Un) < jt;
      if (!A && E < M && (x4 = M, M = E, E = x4), A || w4 < jt ? A ? M + E > 0 ^ y4[1] < (vi(y4[0] - _) < jt ? M : E) : M <= y4[1] && y4[1] <= E : w4 > Un ^ (_ <= y4[0] && y4[0] <= b)) {
        var S = F1(d, (-f + v4) / g);
        return EM(S, p4), [y4, lm(S)];
      }
    }
  }
  function h(e10, i10) {
    var r6 = n ? t48 : Un - t48, o6 = 0;
    return e10 < -r6 ? o6 |= 1 : e10 > r6 && (o6 |= 2), i10 < -r6 ? o6 |= 4 : i10 > r6 && (o6 |= 8), o6;
  }
  return q(o3, "interpolate"), q(s6, "visible"), q(a, "clipLine"), q(l, "intersect"), q(h, "code"), j1(s6, a, o3, n ? [0, -t48] : [-Un, t48 - Un]);
}
function W1(t48) {
  return function(e6) {
    var i = new KI();
    for (var n in t48)
      i[n] = t48[n];
    return i.stream = e6, i;
  };
}
function KI() {
}
function Y1(t48, e6, i) {
  var n = e6[1][0] - e6[0][0], r = e6[1][1] - e6[0][1], o3 = t48.clipExtent && t48.clipExtent();
  t48.scale(150).translate([0, 0]), null != o3 && t48.clipExtent(null), hc(i, t48.stream(LM));
  var s6 = LM.result(), a = Math.min(n / (s6[1][0] - s6[0][0]), r / (s6[1][1] - s6[0][1])), l = +e6[0][0] + (n - a * (s6[1][0] + s6[0][0])) / 2, u2 = +e6[0][1] + (r - a * (s6[1][1] + s6[0][1])) / 2;
  return null != o3 && t48.clipExtent(o3), t48.scale(150 * a).translate([l, u2]);
}
function DM(t48, e6, i) {
  return Y1(t48, [[0, 0], e6], i);
}
q(kue, "clipAntimeridianLine"), q(que, "clipAntimeridianIntersect"), q(Fue, "clipAntimeridianInterpolate"), c(), q(QI, "default"), c(), q(W1, "transformer"), q(KI, "TransformStream"), KI.prototype = { constructor: KI, point: function(t48, e6) {
  this.stream.point(t48, e6);
}, sphere: function() {
  this.stream.sphere();
}, lineStart: function() {
  this.stream.lineStart();
}, lineEnd: function() {
  this.stream.lineEnd();
}, polygonStart: function() {
  this.stream.polygonStart();
}, polygonEnd: function() {
  this.stream.polygonEnd();
} }, c(), q(Y1, "fitExtent"), q(DM, "fitSize"), c();
var mV = 16;
var Uue = Gt(30 * br);
function NM(t48, e6) {
  return +e6 ? Gue(t48, e6) : zue(t48);
}
function zue(t48) {
  return W1({ point: function(e6, i) {
    e6 = t48(e6, i), this.stream.point(e6[0], e6[1]);
  } });
}
function Gue(t48, e6) {
  function i(n, r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m) {
    var v4 = u2 - n, y4 = h - r, x4 = v4 * v4 + y4 * y4;
    if (x4 > 4 * e6 && g--) {
      var _ = s6 + p4, b = a + d, M = l + f, E = is(_ * _ + b * b + M * M), w4 = ys(M /= E), A = vi(vi(M) - 1) < jt || vi(o3 - c2) < jt ? (o3 + c2) / 2 : qs(b, _), S = t48(A, w4), T = S[0], C = S[1], P = T - n, I = C - r, L = y4 * P - v4 * I;
      (L * L / x4 > e6 || vi((v4 * P + y4 * I) / x4 - 0.5) > 0.3 || s6 * p4 + a * d + l * f < Uue) && (i(n, r, o3, s6, a, l, T, C, A, _ /= E, b /= E, M, g, m), m.point(T, C), i(T, C, A, _, b, M, u2, h, c2, p4, d, f, g, m));
    }
  }
  return q(i, "resampleLineTo"), function(e10) {
    var n, r, o3, s6, a, l, h, c2, p4, d, f, g, m = { point: v4, lineStart: y4, lineEnd: _, polygonStart: function() {
      e10.polygonStart(), m.lineStart = b;
    }, polygonEnd: function() {
      e10.polygonEnd(), m.lineStart = y4;
    } };
    function v4(i10, n10) {
      i10 = t48(i10, n10), e10.point(i10[0], i10[1]);
    }
    function y4() {
      c2 = NaN, m.point = x4, e10.lineStart();
    }
    function x4(n10, r6) {
      var o6 = Pl([n10, r6]), s10 = t48(n10, r6);
      i(c2, p4, h, d, f, g, c2 = s10[0], p4 = s10[1], h = n10, d = o6[0], f = o6[1], g = o6[2], mV, e10), e10.point(c2, p4);
    }
    function _() {
      m.point = v4, e10.lineEnd();
    }
    function b() {
      y4(), m.point = M, m.lineEnd = E;
    }
    function M(t49, e11) {
      x4(n = t49, e11), r = c2, o3 = p4, s6 = d, a = f, l = g, m.point = x4;
    }
    function E() {
      i(c2, p4, h, d, f, g, r, o3, n, s6, a, l, mV, e10), m.lineEnd = _, _();
    }
    return q(v4, "point"), q(y4, "lineStart"), q(x4, "linePoint"), q(_, "lineEnd"), q(b, "ringStart"), q(M, "ringPoint"), q(E, "ringEnd"), m;
  };
}
q(NM, "default"), q(zue, "resampleNone"), q(Gue, "resample");
var Vue = W1({ point: function(t48, e6) {
  this.stream.point(t48 * br, e6 * br);
} });
function Il(t48) {
  return JI(function() {
    return t48;
  })();
}
function JI(t48) {
  var e6, i, n, r, o3, s6, a, l, h, c2, p4 = 150, d = 480, f = 250, g = 0, m = 0, v4 = 0, y4 = 0, x4 = 0, _ = null, b = ZI, M = null, E = hm, w4 = 0.5, A = NM(C, w4);
  function S(t49) {
    return [(t49 = o3(t49[0] * br, t49[1] * br))[0] * p4 + i, n - t49[1] * p4];
  }
  function T(t49) {
    return (t49 = o3.invert((t49[0] - i) / p4, (n - t49[1]) / p4)) && [t49[0] * Uo, t49[1] * Uo];
  }
  function C(t49, r6) {
    return [(t49 = e6(t49, r6))[0] * p4 + i, n - t49[1] * p4];
  }
  function P() {
    o3 = U1(r = VI(v4, y4, x4), e6);
    var t49 = e6(g, m);
    return i = d - t49[0] * p4, n = f + t49[1] * p4, I();
  }
  function I() {
    return h = c2 = null, S;
  }
  return q(S, "projection"), q(T, "invert"), q(C, "projectTransform"), S.stream = function(t49) {
    return h && c2 === t49 ? h : h = Vue(b(r, A(E(c2 = t49))));
  }, S.clipAngle = function(t49) {
    return arguments.length ? (b = +t49 ? QI(_ = t49 * br, 6 * br) : (_ = null, ZI), I()) : _ * Uo;
  }, S.clipExtent = function(t49) {
    return arguments.length ? (E = null == t49 ? (M = s6 = a = l = null, hm) : jI(M = +t49[0][0], s6 = +t49[0][1], a = +t49[1][0], l = +t49[1][1]), I()) : null == M ? null : [[M, s6], [a, l]];
  }, S.scale = function(t49) {
    return arguments.length ? (p4 = +t49, P()) : p4;
  }, S.translate = function(t49) {
    return arguments.length ? (d = +t49[0], f = +t49[1], P()) : [d, f];
  }, S.center = function(t49) {
    return arguments.length ? (g = t49[0] % 360 * br, m = t49[1] % 360 * br, P()) : [g * Uo, m * Uo];
  }, S.rotate = function(t49) {
    return arguments.length ? (v4 = t49[0] % 360 * br, y4 = t49[1] % 360 * br, x4 = t49.length > 2 ? t49[2] % 360 * br : 0, P()) : [v4 * Uo, y4 * Uo, x4 * Uo];
  }, S.precision = function(t49) {
    return arguments.length ? (A = NM(C, w4 = t49 * t49), I()) : is(w4);
  }, S.fitExtent = function(t49, e10) {
    return Y1(S, t49, e10);
  }, S.fitSize = function(t49, e10) {
    return DM(S, t49, e10);
  }, q(P, "recenter"), q(I, "reset"), function() {
    return e6 = t48.apply(this, arguments), S.invert = e6.invert && T, P();
  };
}
function RM(t48) {
  return function(e6, i) {
    var n = Gt(e6), r = Gt(i), o3 = t48(n * r);
    return [o3 * r * Vt(e6), o3 * Vt(i)];
  };
}
function du(t48) {
  return function(e6, i) {
    var n = is(e6 * e6 + i * i), r = t48(n), o3 = Vt(r), s6 = Gt(r);
    return [qs(e6 * o3, n * s6), ys(n && i * o3 / n)];
  };
}
q(Il, "projection"), q(JI, "projectionMutator"), c(), c(), c(), c(), q(RM, "azimuthalRaw"), q(du, "azimuthalInvert");
var xV = RM(function(t48) {
  return is(2 / (1 + t48));
});
xV.invert = du(function(t48) {
  return 2 * ys(t48 / 2);
}), c();
var $I = RM(function(t48) {
  return (t48 = wM(t48)) && t48 / Vt(t48);
});
function BM() {
  return Il($I).scale(79.4188).clipAngle(179.999);
}
function e5(t48, e6) {
  return [t48, B1(k1((vs + e6) / 2))];
}
function kM(t48, e6) {
  return [t48, e6];
}
function bV(t48, e6) {
  var i = Gt(e6), n = Gt(t48) * i;
  return [i * Vt(t48) / n, Vt(e6) / n];
}
function _V(t48, e6) {
  var i = e6 * e6, n = i * i;
  return [t48 * (0.8707 - 0.131979 * i + n * (n * (3971e-6 * i - 1529e-6 * n) - 0.013791)), e6 * (1.007226 + i * (0.015085 + n * (0.028874 * i - 0.044475 - 5916e-6 * n)))];
}
function wV(t48, e6) {
  return [Gt(e6) * Vt(t48), Vt(e6)];
}
function MV(t48, e6) {
  var i = Gt(e6), n = 1 + Gt(t48) * i;
  return [i * Vt(t48) / n, Vt(e6) / n];
}
function EV(t48, e6) {
  return [B1(k1((vs + e6) / 2)), -t48];
}
function Wue(t48, e6, i) {
  var n = (i = i || {}).units || "kilometers", r = i.steps || 8;
  if (!t48)
    throw new Error("geojson is required");
  if ("object" != typeof i)
    throw new Error("options must be an object");
  if ("number" != typeof r)
    throw new Error("steps must be an number");
  if (void 0 === e6)
    throw new Error("radius is required");
  if (r <= 0)
    throw new Error("steps must be greater than 0");
  var o3 = [];
  switch (t48.type) {
    case "GeometryCollection":
      return uu(t48, function(t49) {
        var i10 = qM(t49, e6, n, r);
        i10 && o3.push(i10);
      }), $t(o3);
    case "FeatureCollection":
      return Ci(t48, function(t49) {
        var i10 = qM(t49, e6, n, r);
        i10 && Ci(i10, function(t50) {
          t50 && o3.push(t50);
        });
      }), $t(o3);
  }
  return qM(t48, e6, n, r);
}
function qM(t48, e6, i, n) {
  var r = t48.properties || {}, o3 = "Feature" === t48.type ? t48.geometry : t48;
  if ("GeometryCollection" === o3.type) {
    var s6 = [];
    return uu(t48, function(t49) {
      var r6 = qM(t49, e6, i, n);
      r6 && s6.push(r6);
    }), $t(s6);
  }
  var a = Yue(o3), l = { type: o3.type, coordinates: SV(o3.coordinates, a) }, u2 = new pm.GeoJSONReader().read(l), h = v1(y1(e6, i), "meters"), c2 = pm.BufferOp.bufferOp(u2, h, n);
  if (!TV((c2 = new pm.GeoJSONWriter().write(c2)).coordinates))
    return ms({ type: c2.type, coordinates: AV(c2.coordinates, a) }, r);
}
function TV(t48) {
  return Array.isArray(t48[0]) ? TV(t48[0]) : isNaN(t48[0]);
}
function SV(t48, e6) {
  return "object" != typeof t48[0] ? e6(t48) : t48.map(function(t49) {
    return SV(t49, e6);
  });
}
function AV(t48, e6) {
  return "object" != typeof t48[0] ? e6.invert(t48) : t48.map(function(t49) {
    return AV(t49, e6);
  });
}
function Yue(t48) {
  var e6 = tp(t48).geometry.coordinates, i = [-e6[0], -e6[1]];
  return BM().rotate(i).scale(ds);
}
$I.invert = du(function(t48) {
  return t48;
}), q(BM, "default"), c(), c(), q(e5, "mercatorRaw"), e5.invert = function(t48, e6) {
  return [t48, 2 * Cl(_M(e6)) - vs];
}, c(), c(), q(kM, "equirectangularRaw"), kM.invert = kM, c(), q(bV, "gnomonicRaw"), bV.invert = du(Cl), c(), c(), q(_V, "naturalEarth1Raw"), _V.invert = function(t48, e6) {
  var i, n = e6, r = 25;
  do {
    var o3 = n * n, s6 = o3 * o3;
    n -= i = (n * (1.007226 + o3 * (0.015085 + s6 * (0.028874 * o3 - 0.044475 - 5916e-6 * s6))) - e6) / (1.007226 + o3 * (0.045255 + s6 * (0.259866 * o3 - 0.311325 - 5916e-6 * 11 * s6)));
  } while (vi(i) > jt && --r > 0);
  return [t48 / (0.8707 + (o3 = n * n) * (o3 * (o3 * o3 * o3 * (3971e-6 - 1529e-6 * o3) - 0.013791) - 0.131979)), n];
}, c(), q(wV, "orthographicRaw"), wV.invert = du(ys), c(), q(MV, "stereographicRaw"), MV.invert = du(function(t48) {
  return 2 * Cl(t48);
}), c(), q(EV, "transverseMercatorRaw"), EV.invert = function(t48, e6) {
  return [-e6, 2 * Cl(_M(t48)) - vs];
}, q(Wue, "buffer"), q(qM, "bufferFeature"), q(TV, "coordsIsNaN"), q(SV, "projectCoords"), q(AV, "unprojectCoords"), q(Yue, "defineProjection");
var t5 = Wue;
c();
var Xue = u(am(), 1);
c();
var Zue = u(am(), 1);
c();
var Kue = u(am(), 1);
c(), c();
var Jue = u(am(), 1);
c(), c(), c(), c();
var ace = 1e-7;
var lce = 0.22;
var uce = 0.2;
var PV = 5e-3;
var IV = ["connection.json", "manifest.geojson", "map.geojson", "node.geojson", "styles.json", "mapstack.geojson"];
function n5(t48, e6, i) {
  let n = pce(e6), [r, o3] = t48.features.reduce((t49, e10) => {
    let [r6, o6] = t49, s10 = [e10], { properties: a } = e10, l = (a.entrances || []).reduce((t50, e11) => (n.has(e11) && t50.push(n.get(e11)), t50), []);
    if (l.length && (s10 = cce(e10, l)), i && "LineString" === s10[0].geometry.type) {
      let t50 = i.get(s10[0].properties.id).type;
      r6.has(t50) || r6.set(t50, []), r6.get(t50).push(...s10);
    } else
      o6.push(...s10);
    return t49;
  }, [/* @__PURE__ */ new Map(), []]), s6 = 1;
  return r.forEach((t49) => {
    var e10;
    let n10 = { kind: t49[0].properties.kind, id: t49[0].properties.id, externalId: t49[0].properties.externalId }, a = ((null == (e10 = null == i ? void 0 : i.get(t49[0].properties.id)) ? void 0 : e10.width) || lce) / 2, l = s6 / r.size * a * uce;
    if (t49.length) {
      let e11 = t5($f(t49.map(({ geometry: t50 }) => t50.coordinates)), a + l, { units: "meters", steps: 3 });
      e11.properties = { ...n10, ...e11.properties };
      let i10 = [];
      i10 = "MultiPolygon" === e11.geometry.type ? e11.geometry.coordinates.map((t50) => ({ ...Vi(t50), properties: n10 })) : [e11], o3 = o3.concat(i10);
    }
    s6++;
  }), $t(o3);
}
function cce(t48, e6) {
  return e6.reduce((t49, e10) => {
    let i = { epsilon: ace }, n = t49.findIndex((t50) => Hd(tp(e10), t50, i)), r = t49[n];
    if (r) {
      let [i10, o3] = fce(r, e10);
      t49.splice(n, 1, i10, o3);
    }
    return t49;
  }, [t48]);
}
function hce(t48) {
  return null != t48 && (null != t48.polygons || null != t48.lineStrings);
}
function fce(t48, e6) {
  let { coordinates: i } = e6.geometry, { coordinates: n } = t48.geometry, r = i.map((e10) => uc(t48, oi(e10)));
  return n.reduce((e10, i10) => {
    let n10 = Xw(oi(i10), r[0], t48), o3 = Xw(oi(i10), r[1], t48), s6 = rp(n10) < rp(o3) ? n10 : o3;
    return s6.properties = { ...t48.properties, entrances: [] }, e10.concat([s6]);
  }, []);
}
function OV(t48) {
  let e6 = /* @__PURE__ */ new Map();
  for (let i in t48) {
    let n = t48[i];
    if (!hce(n))
      continue;
    let { altitude: r, color: o3, width: s6, height: a, opacity: l } = n;
    (n.polygons || n.lineStrings).forEach((t49) => {
      e6.set(t49, { altitude: r, color: o3, width: s6, height: a, opacity: l, type: i });
    });
  }
  return e6;
}
function pce(t48) {
  return new Map(t48.features.map((t49) => {
    let { properties: e6 } = t49, { id: i } = e6;
    return [i, t49];
  }));
}
function dce(t48) {
  if (null == t48 || "object" != typeof t48)
    return false;
  for (let e6 of IV)
    if ("Uint8Array" !== t48[e6][Symbol.toStringTag])
      return false;
  return true;
}
function mce(t48) {
  var e6;
  if (null == t48 || "object" != typeof t48)
    return false;
  let i = ["building.geojson", "category.geojson", "location.geojson", "manifest.geojson"];
  for (let n of i)
    if ("Uint8Array" !== (null == (e6 = null == t48 ? void 0 : t48[n]) ? void 0 : e6[Symbol.toStringTag]))
      return false;
  return true;
}
async function NV(t48) {
  return new Promise(async (e6, i) => {
    try {
      if (null == t48 || "object" != typeof t48)
        throw new Error("Error parsing data! Unzipping failed.");
      if ("Uint8Array" !== t48[Symbol.toStringTag])
        throw new Error("Unexpected file type! Unzipping failed.");
      let i10 = (await import("./browser-TSE6NP6L-MRPIE223.js")).unzipSync(t48);
      if (!mce(i10))
        throw new Error("MVF is missing some expect static files. Unzipping failed.");
      let n = { "building.geojson": i10["building.geojson"], "category.geojson": i10["category.geojson"], "location.geojson": i10["location.geojson"], "manifest.geojson": i10["manifest.geojson"], space: {}, obstruction: {}, node: {}, level: {}, connection: {} }, r = Object.keys(i10);
      for (let t49 of r) {
        if (0 === i10[t49].length)
          continue;
        let e10 = t49.split("/");
        if (e10.length < 0)
          throw new Error("Encounted a file with no name! Unzipping failed.");
        if (e10.length > 2)
          throw new Error("Encountered unexpected nesting in MVF! Unzipping failed.");
        if (1 !== e10.length) {
          if ("image" === e10[0]) {
            Le.warn("MVF unzipping encountered an image. Ignoring as this case has not been implemented.");
            continue;
          }
          null == n[e10[0]] && (n[e10[0]] = {}), n[e10[0]][e10[1]] = i10[t49];
        }
      }
      e6(n);
    } catch (t49) {
      i(t49);
    }
  });
}
async function r5(t48) {
  return new Promise(async (e6, i) => {
    try {
      if (null == t48 || "object" != typeof t48)
        throw new Error("Error parsing data! Unzipping failed.");
      if ("Uint8Array" !== t48[Symbol.toStringTag])
        throw new Error("Unexpected file type! Unzipping failed.");
      let i10 = (await import("./browser-TSE6NP6L-MRPIE223.js")).unzipSync(t48);
      if (!dce(i10))
        throw new Error("MVF is missing some expect static files. Unzipping failed.");
      let n = { "connection.json": i10["connection.json"], "manifest.geojson": i10["manifest.geojson"], "node.geojson": i10["node.geojson"], "map.geojson": i10["map.geojson"], "mapstack.geojson": i10["mapstack.geojson"], "styles.json": i10["styles.json"], space: {}, obstruction: {}, entrance: {} }, r = Object.keys(i10);
      for (let t49 of r) {
        if (0 === i10[t49].length)
          continue;
        let e10 = t49.split("/");
        if (e10.length < 0)
          throw new Error("Encounted a file with no name! Unzipping failed.");
        if (e10.length > 2)
          throw new Error("Encountered unexpected nesting in MVF! Unzipping failed.");
        if (1 !== e10.length) {
          if ("image" === e10[0]) {
            Le.warn("MVF unzipping encountered an image. Ignoring as this case has not been implemented.");
            continue;
          }
          null == n[e10[0]] && (n[e10[0]] = {}), n[e10[0]][e10[1]] = i10[t49];
        }
      }
      e6(n);
    } catch (t49) {
      i(t49);
    }
  });
}
function RV(t48) {
  let [e6, i, n, r] = Rs(t48);
  return { minLat: i, minLong: e6, maxLat: r, maxLong: n };
}
function gce(t48, e6, i) {
  let n = i.createGeoreferences(), r = /* @__PURE__ */ new Set();
  e6.forEach((t49) => {
    t49.layer && r.add(t49.layer);
  });
  let o3 = t48.id || "", s6 = t48.externalId || o3 || "", a = t48.elevation || 0, l = [...r].map((t49) => ({ id: t49, visible: true })), u2 = 1 / i.mapScale;
  return { id: o3, georeference: n, name: s6, shortName: s6, scene: { polygons: e6 }, elevation: a, scale: u2, x_scale: u2, layers: l, width: i.widthInMapUnits, height: i.heightInMapUnits };
}
q(n5, "processObstructions"), q(cce, "splitObstructionByAllEntrances"), q(hce, "isPolygonStyle"), q(fce, "splitObstructionByEntrance"), q(OV, "getStylesMap"), q(pce, "getEntranceMap"), q(dce, "validateStaticMVFFiles"), q(mce, "validateStaticMVFv1Files"), q(NV, "unzipMVFv1"), q(r5, "unzipMVF"), q(RV, "getMapExtent"), q(gce, "convertMap");
var o5 = class {
  constructor(t48) {
    v(this, "mapExtent"), v(this, "stretchRatio"), v(this, "midLat"), v(this, "midLong"), v(this, "mapUnitRatio", 1e6), v(this, "latDistance"), v(this, "longDistance"), v(this, "mapScale"), v(this, "widthInMapUnits"), v(this, "heightInMapUnits"), this.mapExtent = t48;
    let { minLat: e6, minLong: i, maxLat: n, maxLong: r } = t48, o3 = (e6 + n) / 2, s6 = (i + r) / 2, a = new mi(o3, r), l = new mi(o3, i), u2 = new mi(e6, s6), h = new mi(n, s6);
    this.latDistance = u2.distanceTo(h), this.longDistance = a.distanceTo(l);
    let c2 = this.latDistance / this.longDistance, p4 = (n - e6) / (r - i);
    this.stretchRatio = c2 / p4, this.midLat = o3, this.midLong = s6, this.widthInMapUnits = (r - i) * this.mapUnitRatio, this.heightInMapUnits = (n - e6) * this.mapUnitRatio * this.stretchRatio, this.mapScale = this.widthInMapUnits / this.longDistance;
  }
  convert(t48) {
    let e6 = t48[1], i = (t48[0] - this.midLong) * this.mapUnitRatio, n = (this.midLat - e6) * this.mapUnitRatio * this.stretchRatio;
    return { x: i + this.widthInMapUnits / 2, y: n + this.heightInMapUnits / 2 };
  }
  createGeoreferences() {
    let { minLat: t48, minLong: e6, maxLat: i, maxLong: n } = this.mapExtent;
    return [[t48, e6], [t48, n], [i, n], [i, e6]].map((t49) => ({ target: { x: t49[0], y: t49[1] }, control: this.convert([t49[1], t49[0]]) }));
  }
};
q(o5, "CoordinateConverter");
var FM = o5;
function vce(t48, e6) {
  let i = /* @__PURE__ */ new Map(), n = [];
  return t48.features.forEach((t49) => {
    let e10 = t49.properties.id;
    e10 && !i.has(e10) && i.set(e10, t49);
  }), i.forEach((t49, r) => {
    let o3 = t49.properties.map || "", s6 = e6.get(o3);
    if (s6) {
      let e10 = s6.convert(t49.geometry.coordinates), a = t49.properties.externalId || "", l = [];
      t49.properties.neighbors.forEach((t50) => {
        var e11;
        let n10 = null != (e11 = t50.weight) ? e11 : 0, r6 = i.get(t50.id);
        r6 && r6.properties.map === o3 && l.push({ node: r6.properties.id, map: r6.properties.map, weight: n10 });
      }), n.push({ id: r, map: o3, externalId: a, paths: l, ...e10 });
    }
  }), n;
}
function yce(t48, e6, i) {
  let n = [];
  return t48.features.forEach((t49) => {
    let r = i.convert(t49.geometry.coordinates);
    n.push({ id: t49.properties.id, x: r.x, y: r.y, map: e6, paths: t49.properties.neighbors.map((t50) => ({ node: t50, map: e6 })) });
  }), n;
}
q(vce, "convertNodes"), q(yce, "convertNodes_MVFv1");
var LV = q((t48, e6, i, n, r) => {
  let o3 = [];
  return e6.features.forEach((s6, a) => {
    var l;
    if ("Point" === s6.geometry.type)
      return;
    let u2 = "desk-entrance" === (null == (l = s6.properties.kind) ? void 0 : l.toLowerCase()), h = (u2 ? s6.properties.externalId : s6.properties.id) || "", c2 = s6.properties.externalId || "", p4 = i.get(h) || [];
    if ("destinationNodes" in s6.properties && s6.properties.destinationNodes.forEach((e10) => {
      p4.push({ map: t48, id: e10 });
    }), u2 && i.set(c2, p4), "LineString" === s6.geometry.type)
      return;
    let d = n.get(s6.properties.id), f = s6.geometry.coordinates[0].map((t49) => r.convert(t49)), g = s6.properties.center ? r.convert(s6.properties.center) : void 0, m = s6.geometry.coordinates.slice(1).map((t49) => t49.map((t50) => r.convert(t50))), v4 = Math.max(r.widthInMapUnits, r.heightInMapUnits) / 1e3, y4 = s6.properties.kind || "", x4 = "void" === y4.toLowerCase(), _ = 1 - (a + 1) / e6.features.length * PV;
    o3.push({ entrances: p4, map: t48, id: h, externalId: c2, layer: y4, geometry: { visible: !x4, position: { x: 0, y: 0, z: ((null == d ? void 0 : d.altitude) || 0) * r.mapScale / v4 }, scale: { x: 1, y: 1, z: ((null == d ? void 0 : d.height) || 1) * r.mapScale / v4 * _ } }, material: { color: (null == d ? void 0 : d.color) || "#000000" }, vertexes: f, center: g, holes: m });
  }), o3;
}, "generateMappedinPolygons");
var DV = q((t48, e6, i) => {
  let n = [];
  return e6.features.forEach((e10) => {
    if (!e10.geometry.coordinates[0].forEach)
      return;
    let r = e10.properties, o3 = e10.geometry.coordinates[0].map((t49) => i.convert(t49)), s6 = e10.geometry.coordinates.slice(1).map((t49) => t49.map((t50) => i.convert(t50))), a = Math.max(i.widthInMapUnits, i.heightInMapUnits) / 1e3, l = [];
    "entrances" in e10.properties && e10.properties.entrances.forEach((t49) => l.push({ id: "n_" + t49.id, map: t49.level })), n.push({ entrances: null != l ? l : [], map: t48, id: e10.properties.id || "", externalId: e10.properties.externalId || "", layer: e10.properties.layer || "Polygon", geometry: { visible: true, position: { x: 0, y: 0, z: ((null == r ? void 0 : r.altitude) || 0) * i.mapScale / a }, scale: { x: 1, y: 1, z: ((null == r ? void 0 : r.height) || 1) * i.mapScale / a } }, material: { color: (null == r ? void 0 : r.color) || "#000000" }, vertexes: o3, holes: s6 });
  }), n;
}, "generateMappedinPolygons_MVFv1");
function xce(t48, e6, i, n, r, o3) {
  let s6 = LV(t48, i, n, r, o3), a = LV(t48, e6, n, r, o3);
  return s6.concat(a);
}
function bce(t48) {
  let e6 = [];
  return t48.forEach((t49) => {
    var i;
    e6.push({ id: t49.id || "", name: t49.externalId || "", type: t49.type || "", weight: 1e3, multiplier: 1, nodes: t49.nodes || [], accessible: null != (i = t49.accessible) && i });
  }), e6;
}
function _ce(t48) {
  let e6 = /* @__PURE__ */ new Map();
  return t48.features.forEach((t49) => {
    var i, n, r, o3, s6, a, l;
    let u2 = "", h = ["n_".concat(t49.properties.id)];
    t49.properties.destinations.forEach((t50) => {
      let e10 = t50.split("-");
      u2 = e10[0], h.push("n_".concat(e10[1]));
    });
    let c2 = null != (n = null == (i = e6.get(u2)) ? void 0 : i.nodes) ? n : [], p4 = /* @__PURE__ */ new Set([...c2, ...h]);
    e6.set(u2, { id: u2, name: null != (r = t49.properties.name) ? r : "", type: null != (o3 = t49.properties.type) ? o3 : "", weight: null != (s6 = t49.properties.weight) ? s6 : 1e3, multiplier: null != (a = t49.properties.multiplier) ? a : 1, nodes: Array.from(p4), accessible: null != (l = t49.properties.accessible) && l });
  }), Array.from(e6.values());
}
function BV(t48, e6) {
  if (e6)
    for (let i in e6)
      e6.hasOwnProperty(i) && Object.assign(t48[i], e6[i]);
  return t48;
}
function s5(t48) {
  let e6 = new TextDecoder(), i = e6.decode.bind(e6);
  try {
    let e10 = { "connection.json": JSON.parse(i(t48["connection.json"])), "manifest.geojson": JSON.parse(i(t48["manifest.geojson"])), "styles.json": JSON.parse(i(t48["styles.json"])), "map.geojson": JSON.parse(i(t48["map.geojson"])), "mapstack.geojson": JSON.parse(i(t48["mapstack.geojson"])), "node.geojson": JSON.parse(i(t48["node.geojson"])), obstruction: {}, space: {}, entrance: {}, annotation: {} };
    if (null != t48.annotation) {
      let n10 = Object.keys(t48.annotation);
      for (let r6 of n10) {
        let n11 = r6.replace(/\.json|\.geojson/g, "");
        e10.annotation[n11] = JSON.parse(i(t48.annotation[r6]));
      }
    }
    let n = Object.keys(t48.space);
    for (let r6 of n) {
      let n10 = r6.replace(/\.json|\.geojson/g, "");
      e10.space[n10] = JSON.parse(i(t48.space[r6]));
    }
    let r = Object.keys(t48.obstruction);
    for (let n10 of r) {
      let r6 = n10.replace(/\.json|\.geojson/g, "");
      e10.obstruction[r6] = JSON.parse(i(t48.obstruction[n10]));
    }
    let o3 = Object.keys(t48.entrance);
    for (let n10 of o3) {
      let r6 = n10.replace(/\.json|\.geojson/g, "");
      e10.entrance[r6] = JSON.parse(i(t48.entrance[n10]));
    }
    return e10;
  } catch (t49) {
    throw Le.error(t49), new Error("MVF parsing failed! Probably encountered a bad file.");
  }
}
function kV(t48) {
  let e6 = new TextDecoder(), i = e6.decode.bind(e6);
  try {
    let e10 = { "manifest.geojson": JSON.parse(i(t48["manifest.geojson"])), "building.geojson": JSON.parse(i(t48["building.geojson"])), "category.geojson": JSON.parse(i(t48["category.geojson"])), "location.geojson": JSON.parse(i(t48["location.geojson"])), obstruction: {}, space: {}, level: {}, node: {}, connection: {} }, n = Object.keys(t48.space);
    for (let r6 of n) {
      let n10 = r6.replace(/\.json|\.geojson/g, "");
      e10.space[n10] = JSON.parse(i(t48.space[r6]));
    }
    let r = Object.keys(t48.obstruction);
    for (let n10 of r) {
      let r6 = n10.replace(/\.json|\.geojson/g, "");
      e10.obstruction[r6] = JSON.parse(i(t48.obstruction[n10]));
    }
    let o3 = Object.keys(t48.node);
    for (let n10 of o3) {
      let r6 = n10.replace(/\.json|\.geojson/g, "");
      e10.node[r6] = JSON.parse(i(t48.node[n10]));
    }
    let s6 = Object.keys(t48.level);
    for (let n10 of s6) {
      let r6 = n10.replace(/\.json|\.geojson/g, "");
      e10.level[r6] = JSON.parse(i(t48.level[n10]));
    }
    let a = Object.keys(t48.connection);
    for (let n10 of a) {
      let r6 = n10.replace(/\.json|\.geojson/g, "");
      e10.connection[r6] = JSON.parse(i(t48.connection[n10]));
    }
    return e10;
  } catch (t49) {
    throw Le.error(t49), new Error("MVF parsing failed! Probably encountered a bad file.");
  }
}
function qV(t48, e6) {
  var i;
  let n = null != (i = e6.properties.externalId) ? i : "";
  return 0 === n.length && (n = e6.properties.id), "location-".concat(t48, "-").concat(n.toLowerCase().replace(" ", "-"));
}
function FV(t48, e6) {
  var i;
  let n = /* @__PURE__ */ new Set();
  if ("entrance" === t48)
    n.add("Entrance");
  else if ("obstruction" === t48) {
    let t49 = e6.properties.kind;
    null != t49 && t49.length > 0 && n.add(t49), e6.properties.footprintComponent && n.add("Exterior");
  } else if ("space" === t48) {
    let t49 = e6.properties.kind;
    null != t49 && t49.length > 0 && n.add("default" === t49 ? "Room" : t49);
    let r = null != (i = e6.properties.tags) ? i : [];
    if (r.length > 0)
      for (let t50 of r)
        n.add(t50);
  }
  return Array.from(n).filter((t49) => t49.length > 0);
}
function UV(t48) {
  return "category-".concat(t48.toLowerCase().replace(" ", "-"));
}
function i5(t48, e6, i) {
  let n = FV(t48, e6);
  for (let t49 of n) {
    let e10 = UV(t49);
    null == i[e10] && (i[e10] = { id: e10, name: t49 });
  }
}
function zV(t48) {
  var e6, i, n;
  return null != (n = null == (i = null == (e6 = null == t48 ? void 0 : t48.properties) ? void 0 : e6.kind) ? void 0 : i.startsWith("connection")) && n;
}
function wce(t48) {
  var e6;
  let i = null != (e6 = t48.properties.externalId) ? e6 : "";
  return zV(t48) && 0 === i.length && (i = "unnamed-connection-" + t48.properties.id), i;
}
function X1(t48, e6, i, n) {
  var r;
  if ((null == e6.properties.externalId || 0 === e6.properties.externalId.length) && !zV(e6) || "obstruction" === t48 && "desks" !== (null == (r = e6.properties.kind) ? void 0 : r.toLowerCase()))
    return;
  let o3 = wce(e6), s6 = qV(t48, e6);
  if (null == n[s6]) {
    let t49 = { id: s6, type: "", name: o3, nodes: [], polygons: [], categories: [] };
    n[s6] = t49;
  }
  if ("space" === t48 || "obstruction" === t48) {
    let t49 = { map: i.id, id: e6.properties.id };
    n[s6].polygons.push(t49);
  }
  if ("destinationNodes" in e6.properties && e6.properties.destinationNodes.forEach((t49) => {
    let e10 = { map: i.id, node: t49 };
    n[s6].nodes.push(e10);
  }), "node" in e6.properties && e6.properties.node) {
    let t49 = { map: i.id, node: e6.properties.node };
    n[s6].nodes.push(t49);
  }
  let a = FV(t48, e6);
  for (let t49 of a) {
    let e10 = UV(t49);
    n[s6].categories.push(e10);
  }
}
function Mce(t48, e6 = /* @__PURE__ */ new Map()) {
  var i, n, r, o3, s6, a, l, u2, h;
  let c2 = {}, p4 = {}, { space: d, "map.geojson": f, entrance: g, obstruction: m } = t48;
  for (let t49 of f) {
    let f2 = null != (n = null == (i = d[t49.id]) ? void 0 : i.features) ? n : [], v4 = null != (o3 = null == (r = g[t49.id]) ? void 0 : r.features) ? o3 : [], y4 = null != (a = null == (s6 = m[t49.id]) ? void 0 : s6.features) ? a : [];
    for (let e10 of f2)
      ["Polygon", "Point"].includes(e10.geometry.type) && "hallway" !== (null == (l = e10.properties.kind) ? void 0 : l.toLowerCase()) && (i5("space", e10, p4), X1("space", e10, t49, c2));
    let x4 = /* @__PURE__ */ new Map();
    for (let e10 of v4)
      x4.set(e10.properties.id, e10), e10.properties.externalId && (i5("entrance", e10, p4), X1("entrance", e10, t49, c2));
    let _ = { type: "Feature", geometry: { type: "LineString", coordinates: [] }, properties: { id: "footprintComponent", externalId: "footprintComponent", node: void 0, metadata: void 0 } };
    X1("entrance", _, t49, c2);
    for (let i10 of y4) {
      if (i5("obstruction", i10, p4), X1("obstruction", i10, t49, c2), i10.properties.footprintComponent) {
        let e10 = i10.properties.entrances;
        for (let i11 of e10) {
          let e11 = x4.get(i11);
          e11 && X1("entrance", { ...e11, properties: { ...e11.properties, externalId: _.properties.externalId } }, t49, c2);
        }
      }
      if ("desks" === (null == (u2 = i10.properties.kind) ? void 0 : u2.toLowerCase()) && i10.properties.externalId.length > 0) {
        let t50 = null != (h = e6.get(i10.properties.id)) ? h : [];
        for (let e10 of t50) {
          let t51 = qV("obstruction", i10);
          null != c2[t51] && c2[t51].nodes.push({ map: e10.map, node: e10.id });
        }
      }
    }
  }
  return { locations: Object.values(c2), categories: Object.values(p4) };
}
function GV(t48) {
  var e6, i, n, r, o3, s6, a, l, u2, h;
  let c2 = null != (e6 = t48.obstruction) ? e6 : [], p4 = null != (i = t48.space) ? i : [], d = null != (n = t48.entrance) ? n : [], f = null != (r = t48["mapstack.geojson"]) ? r : [], g = null != (o3 = t48["map.geojson"]) ? o3 : [], m = null != (s6 = t48["styles.json"]) ? s6 : {}, v4 = null != (a = t48["manifest.geojson"]) ? a : {}, y4 = null != (l = t48["node.geojson"]) ? l : [], x4 = null != (u2 = t48["connection.json"]) ? u2 : [], _ = {}, b = /* @__PURE__ */ new Map(), M = [], E = OV(m), w4 = /* @__PURE__ */ new Map(), A = /* @__PURE__ */ new Map();
  g.forEach((t49) => {
    let e10 = t49.id;
    e10 && !A.has(e10) && A.set(e10, t49);
  }), f.forEach(({ maps: t49 }) => {
    t49.forEach((t50) => {
      if (!A.has(t50))
        return;
      let e10 = n5(c2[t50], d[t50], E);
      if (e10.features.length) {
        let i10 = RV(e10), n10 = new FM(i10);
        b.set(t50, n10), _[t50] = xce(t50, e10, p4[t50], w4, E, n10), M.push(gce(A.get(t50), _[t50], n10));
      }
    });
  });
  let S = Object.values(_).flat(), T = bce(x4), C = vce(y4, b), P = v4.features[0], I = P.properties.name, L = P.geometry.coordinates[0], O = P.geometry.coordinates[1], N = (null == (h = M[0]) ? void 0 : h.id) || "", { locations: D, categories: R } = Mce(t48, w4);
  return { polygons: S, venue: { name: I, latitude: O, longitude: L, defaultMap: N }, maps: M, vortexes: T, nodes: C, locations: D, mapGroups: [], locationStates: [], categories: R, themes: [], imageBinaries: /* @__PURE__ */ new Map() };
}
function VV(t48) {
  var e6, i, n, r, o3, s6, a;
  let l = null != (e6 = t48.obstruction) ? e6 : {}, u2 = null != (i = t48.space) ? i : {}, h = null != (n = t48.node) ? n : {}, c2 = null != (r = t48.level) ? r : {}, p4 = null != (o3 = t48["manifest.geojson"]) ? o3 : {}, d = null != (s6 = t48.connection) ? s6 : {}, f = {}, g = /* @__PURE__ */ new Map(), m = [], v4 = [], y4 = [];
  Object.keys(c2).forEach((t49) => {
    let e10 = n5(l[t49], { type: "FeatureCollection", features: [] });
    if (e10.features.length) {
      let i10 = RV(e10), n10 = new FM(i10);
      g.set(t49, n10);
      let r6 = DV(t49, u2[t49], n10), o6 = DV(t49, e10, n10);
      f[t49] = r6.concat(o6), v4 = v4.concat(yce(h[t49], t49, n10)), m.push(Ece(c2[t49], f[t49], n10));
    }
    y4 = y4.concat(_ce(d[t49]));
  });
  let x4 = Object.values(f).flat(), _ = p4.features[0], b = _.properties.name, M = _.geometry.coordinates[0], E = _.geometry.coordinates[1], w4 = (null == (a = m[0]) ? void 0 : a.id) || "", A = /* @__PURE__ */ new Map();
  x4.forEach((t49) => A.set(t49.id, t49));
  let S = [], T = t48["location.geojson"].features.map((t49) => {
    if (t49.properties.spaces) {
      let e10 = t49.properties.spaces.map((t50) => t50.id).map((t50) => A.get(t50)).filter((t50) => t50);
      if (e10) {
        let t50 = [];
        e10.forEach((e11) => {
          t50.push(...e11.entrances.map((t51) => ({ node: t51.id, map: t51.level })));
        }), S = t50;
      }
    }
    return { ...t49.properties, nodes: S, polygons: t49.properties.spaces };
  }), C = t48["category.geojson"].features.map((t49) => t49.properties);
  return { polygons: x4, venue: { name: b, latitude: E, longitude: M, defaultMap: w4 }, maps: m, vortexes: y4, nodes: v4, locations: T, mapGroups: [], locationStates: [], categories: C, themes: [], imageBinaries: /* @__PURE__ */ new Map() };
}
function Ece(t48, e6, i) {
  let n = i.createGeoreferences(), r = /* @__PURE__ */ new Set(), o3 = t48.features[0].properties;
  e6.forEach((t49) => {
    t49.layer && r.add(t49.layer);
  });
  let s6 = [...r].map((t49) => ({ id: t49, visible: true })), a = 1 / i.mapScale;
  return { id: o3.id, georeference: n, name: o3.name, shortName: o3.abbreviation || o3.name, scene: { polygons: e6 }, elevation: o3.elevation, scale: a, x_scale: a, layers: s6, width: i.widthInMapUnits, height: i.heightInMapUnits };
}
q(xce, "convertPolygons"), q(bce, "convertVortexes"), q(_ce, "convertVortexes_MVFv1"), q(BV, "overrideMVF"), q(s5, "parseMVF"), q(kV, "parseMVFv1"), q(qV, "getLocationId"), q(FV, "getFeatureCategories"), q(UV, "getCategoryIdFromName"), q(i5, "mutateCategoriesWithNewFeature"), q(zV, "isFeatureConnection"), q(wce, "getLocationLabel"), q(X1, "mutateLocationsWithNewFeature"), q(Mce, "createMetaDataFromMVF"), q(GV, "convertMVFToMappedin"), q(VV, "convertMVFv1ToMappedin"), q(Ece, "convertMap_MVFv1"), c();
var a5 = class {
  constructor() {
    v(this, "_subscribers", {});
  }
  publish(t48, e6) {
    !this._subscribers || !this._subscribers[t48] || this._subscribers[t48].forEach(function(t49) {
      "function" == typeof t49 && t49(e6);
    });
  }
  on(t48, e6) {
    this._subscribers || (this._subscribers = {}), this._subscribers[t48] = this._subscribers[t48] || [], this._subscribers[t48].push(e6);
  }
  off(t48, e6) {
    if (!this._subscribers || null == this._subscribers[t48])
      return;
    let i = this._subscribers[t48].indexOf(e6);
    -1 !== i && this._subscribers[t48].splice(i, 1);
  }
  destroy() {
    this._subscribers = {};
  }
};
q(a5, "PubSub");
var pc;
var dm;
var dp;
var mm;
var Z1;
var l5;
var UM;
var HV;
var Go = a5;
var u5 = { supplementaryUrl: "https://api-gateway.mappedin.com/analytics/", headers: {}, accessToken: "", clientId: "", noAuth: false, includeHidden: true, clientSecret: "", apiGateway: "", authorization: "", perspective: "Website", language: "", things: {}, venue: "" };
var c5 = class extends Go {
  constructor(t48) {
    super(), w(this, Z1), w(this, UM), v(this, "perspective"), v(this, "things"), v(this, "options"), w(this, pc, void 0), w(this, dm, ""), v(this, "updatedAt"), v(this, "categories", []), v(this, "locations", []), v(this, "vortexes", []), v(this, "maps", []), v(this, "nodes", []), v(this, "polygons", []), v(this, "venue", {}), v(this, "events", []), v(this, "mapGroups", []), v(this, "themes", []), v(this, "locationStates", []), v(this, "rankings"), v(this, "currentLanguage"), w(this, dp, {}), v(this, "_categoriesById"), v(this, "_locationsById"), v(this, "_vortexesById"), v(this, "_mapsById"), v(this, "_nodesById"), v(this, "_polygonsById"), v(this, "_eventsById"), v(this, "_mapGroupsById"), v(this, "_locationStatesById"), v(this, "_locationRankingsById"), v(this, "_rankingsById"), v(this, "_categoriesByExternalId"), v(this, "_locationsByExternalId"), v(this, "_vortexesByExternalId"), v(this, "_mapsByExternalId"), v(this, "_nodesByExternalId"), v(this, "_polygonsByExternalId"), v(this, "_eventsByExternalId"), v(this, "_mapGroupsByExternalId"), v(this, "_locationStatesByExternalId"), v(this, "_locationRankingsByExternalId"), v(this, "_rankingsByExternalId"), w(this, mm, void 0), v(this, "images"), v(this, "imageBinaries"), v(this, "scenes"), v(this, "analytics"), v(this, "navigator"), this.options = t48, p(this, pc, bo.create(this));
    let e6 = Qa.create({ ...t48, testMode: !(null != t48 && t48.emitAnalyticsEvents) });
    this.analytics = { locationSelected: e6.locationSelected, categorySelected: e6.categorySelected, getDirections: e6.getDirections }, globalThis.MappedinDebug || (globalThis.MappedinDebug = { enable() {
      globalThis.sessionStorage.setItem(vB, "true");
    } });
  }
  generateGetters(t48) {
    try {
      for (let e6 = 0, i = t48.length; e6 < i; ++e6) {
        let i10 = t48[e6];
        Array.isArray(this[i10]) && (Object.defineProperty(this, "_".concat(i10, "ByExternalId"), { configurable: true, get() {
          let t49 = o(this, pc)[i10];
          if (null != t49)
            return t49;
          let e10 = {};
          return this[i10].forEach((t50) => e10[t50.externalId] = t50), o(this, pc)[i10] = e10, e10;
        } }), Object.defineProperty(this, "_".concat(i10, "ById"), { configurable: true, get() {
          let t49 = o(this, pc)[i10];
          if (null != t49)
            return t49;
          let e10 = {};
          return this[i10].forEach((t50) => e10[t50.id] = t50), o(this, pc)[i10] = e10, e10;
        } }));
      }
      return this;
    } catch (t49) {
      throw new Error("Unable to generate getters, " + t49);
    }
  }
  getCollectionItemById(t48, e6) {
    let i = "_".concat(t48, "ById"), n = "_".concat(t48, "ByExternalId"), r = this[i];
    return null != r && null != r[e6] || (r = this[n], null != r && null != r[e6]) ? r[e6] : null;
  }
  async hydrateFromMVF(t48) {
    let e6 = GV(t48);
    return this.hydrate(e6);
  }
  async hydrateFromMVFv1(t48) {
    let e6 = VV(t48);
    return this.hydrate(e6);
  }
  async changeLanguage(t48, e6 = true) {
    var i;
    if (this.currentLanguage.code !== t48) {
      if (null == (i = this.venue.languages) || !i.find((e10) => e10.code === t48))
        return void Le.error("Language ".concat(t48, " not found in venue ").concat(this.venue.slug));
      if (e6 && !o(this, dp)[this.currentLanguage.code] && (o(this, dp)[this.currentLanguage.code] = JSON.stringify(this.toJSON())), bo.clearInstance(this), p(this, pc, bo.create(this)), this.currentLanguage = this.venue.languages.find((e10) => e10.code === t48), null != o(this, dp)[t48]) {
        let e10 = JSON.parse(o(this, dp)[t48]);
        await this.hydrate(e10);
      } else
        this.options.language = this.currentLanguage.code, await this.fetch();
      this.publish(0, this.currentLanguage);
    }
  }
  async hydrate(t48, e6) {
    let i;
    if ("string" == typeof t48)
      try {
        p(this, dm, t48), i = JSON.parse(t48);
      } catch (t49) {
        return void Le.error("Unable to parse JSON", t49);
      }
    else
      i = t48, p(this, dm, JSON.stringify(i));
    let n = Object.keys(i);
    for (let t49 = 0, e10 = n.length; t49 < e10; ++t49) {
      let e11 = n[t49], r6 = i[e11];
      null != pp[e11] && "function" == typeof pp[e11].hydrate && (this[e11] = pp[e11].hydrate(r6, this));
    }
    e6 && await jV(i);
    let { images: r, scenes: o3, imageBinaries: s6 } = i;
    this.images = r, this.scenes = o3, this.imageBinaries = s6, this.generateGetters(n), y(this, Z1, l5).call(this), this.initNavigator();
  }
  async fetch() {
    "vortexes" in this.options.things || (this.options.things.vortexes = ["name", "type", "accessible", "weight", "multiplier", "nodes"]), "locationStates" in this.options.things || (this.options.things.locationStates = ["name", "id", "value"]), zM(this.options.clientId) || this.options.things.rankings && delete this.options.things.rankings;
    let { things: t48 } = this.options, e6 = [], i = Object.keys(t48);
    for (let t49 = 0, n = i.length; t49 < n; ++t49) {
      let n10 = i[t49];
      pp[n10] && e6.push(pp[n10].fetch(this).then((t50) => (this[n10] = t50, Promise.resolve())));
    }
    return e6.push(gm(this.options, "cdn-access-token", { venue: this.options.venue }, false).then((t49) => p(this, mm, t49.token), () => Promise.resolve())), this.generateGetters(i), Promise.all(e6).then(() => {
      var t49;
      this.currentLanguage = this.currentLanguage || (null == (t49 = this.venue.languages) ? void 0 : t49.find((t50) => t50.code === this.options.language)) || this.venue.defaultLanguage, y(this, Z1, l5).call(this), this.initNavigator();
    });
  }
  initNavigator() {
    this.navigator = new cP({ locations: this.locations.map((t48) => t48.toJSON()), nodes: this.nodes.map((t48) => t48.toJSON()), vortexes: this.vortexes.map((t48) => t48.toJSON()), maps: this.maps.map((t48) => t48.toJSON()), polygons: this.polygons.map((t48) => t48.toJSON()) });
  }
  toJSON() {
    var t48;
    let e6 = {};
    for (let t49 in pp)
      Array.isArray(this[t49]) && (e6[t49] = this[t49].map((t50) => t50.toJSON()));
    let i = { ...e6, venue: this.venue.toJSON() };
    return null != this.rankings && (i.rankings = null == (t48 = this.rankings) ? void 0 : t48.toJSON()), delete i.locationRankings, i;
  }
  toString() {
    return o(this, dm) || JSON.stringify(this.toJSON());
  }
};
pc = /* @__PURE__ */ new WeakMap(), dm = /* @__PURE__ */ new WeakMap(), dp = /* @__PURE__ */ new WeakMap(), mm = /* @__PURE__ */ new WeakMap(), Z1 = /* @__PURE__ */ new WeakSet(), l5 = q(function() {
  o(this, mm) && this.maps.forEach((t48) => {
    var e6;
    null != (e6 = t48.scene) && e6.polygons && (t48.scene.polygons += "?".concat(o(this, mm)));
  }), y(this, UM, HV).call(this);
}, "#transformData"), UM = /* @__PURE__ */ new WeakSet(), HV = q(function() {
  let t48 = this.categories.filter((t49) => t49.sortOrder).map((t49) => t49.sortOrder);
  if (t48.length <= 0)
    return;
  let e6 = Math.min(...t48), i = Math.max(...t48);
  this.polygons.forEach((t49) => {
    var n, r;
    let o3 = Bh(t49, this);
    if (o3) {
      let s6 = o3.categories.filter((t50) => t50.sortOrder).map((t50) => t50.sortOrder);
      if (s6.length > 0) {
        let o6 = Math.min(...s6);
        t49.categoryRank = WV(o6, e6, i, null != (r = null == (n = t49.rank) ? void 0 : n.score) ? r : 0);
      }
    }
  });
}, "#applyCategoryRankToPolygons"), q(c5, "Mappedin");
var sa = c5;
c();
var XV = { venue: ["slug", "name", "defaultMap", "metadata", "countrycode", "tzid", "logo", "externalId", "secureContentStorage", "languages", "topLocations", "defaultLanguage"], nodes: ["externalId", "x", "y", "paths", "accessible", "operationHours"], vortexes: ["externalId", "nodes", "types", "accessible"], polygons: ["vertexes", "geometry", "canvasBounds", "layer", "externalId", "entrances", "material"], locations: ["externalId", "name", "type", "picture", "description", "icon", "logo", "sortOrder", "phone", "operationHours", "social", "color", "toMap", "tags", "shortName", "detailsUrl", "locationState", "metadata", "siblingGroups", "gallery", "showSmartLabelWhenImagePresent", "amenity"], categories: ["name", "color", "sortOrder", "parents", "icon", "iconFromDefaultList"], maps: ["name", "subtitle", "elevation", "height", "width", "layers", "shortName", "scene", "group", "x_scale"], mapGroups: ["name"], themes: ["name", "themeData"], rankings: ["polygons"] };
c(), c();
var rs = q(function() {
  return rs = Object.assign || q(function(t48) {
    for (var e6, i = 1, n = arguments.length; i < n; i++)
      for (var r in e6 = arguments[i])
        Object.prototype.hasOwnProperty.call(e6, r) && (t48[r] = e6[r]);
    return t48;
  }, "__assign"), rs.apply(this, arguments);
}, "__assign");
function yi(t48) {
  var e6 = "function" == typeof Symbol && Symbol.iterator, i = e6 && t48[e6], n = 0;
  if (i)
    return i.call(t48);
  if (t48 && "number" == typeof t48.length)
    return { next: function() {
      return t48 && n >= t48.length && (t48 = void 0), { value: t48 && t48[n++], done: !t48 };
    } };
  throw new TypeError(e6 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function ro(t48, e6) {
  var i = "function" == typeof Symbol && t48[Symbol.iterator];
  if (!i)
    return t48;
  var n, r, o3 = i.call(t48), s6 = [];
  try {
    for (; (void 0 === e6 || e6-- > 0) && !(n = o3.next()).done; )
      s6.push(n.value);
  } catch (t49) {
    r = { error: t49 };
  } finally {
    try {
      n && !n.done && (i = o3.return) && i.call(o3);
    } finally {
      if (r)
        throw r.error;
    }
  }
  return s6;
}
q(yi, "__values"), q(ro, "__read");
var Q1;
var Tce = "ENTRIES";
var tH = "KEYS";
var nH = "VALUES";
var so = "";
var h5 = function() {
  function t48(t49, e6) {
    var i = t49._tree, n = Array.from(i.keys());
    this.set = t49, this._type = e6, this._path = n.length > 0 ? [{ node: i, keys: n }] : [];
  }
  return q(t48, "TreeIterator"), t48.prototype.next = function() {
    var t49 = this.dive();
    return this.backtrack(), t49;
  }, t48.prototype.dive = function() {
    if (0 === this._path.length)
      return { done: true, value: void 0 };
    var t49 = vm(this._path), e6 = t49.node, i = t49.keys;
    if (vm(i) === so)
      return { done: false, value: this.result() };
    var n = e6.get(vm(i));
    return this._path.push({ node: n, keys: Array.from(n.keys()) }), this.dive();
  }, t48.prototype.backtrack = function() {
    if (0 !== this._path.length) {
      var t49 = vm(this._path).keys;
      t49.pop(), !(t49.length > 0) && (this._path.pop(), this.backtrack());
    }
  }, t48.prototype.key = function() {
    return this.set._prefix + this._path.map(function(t49) {
      var e6 = t49.keys;
      return vm(e6);
    }).filter(function(t49) {
      return t49 !== so;
    }).join("");
  }, t48.prototype.value = function() {
    return vm(this._path).node.get(so);
  }, t48.prototype.result = function() {
    switch (this._type) {
      case nH:
        return this.value();
      case tH:
        return this.key();
      default:
        return [this.key(), this.value()];
    }
  }, t48.prototype[Symbol.iterator] = function() {
    return this;
  }, t48;
}();
var vm = q(function(t48) {
  return t48[t48.length - 1];
}, "last$1");
var Sce = q(function(t48, e6, i) {
  var n = /* @__PURE__ */ new Map();
  if (void 0 === e6)
    return n;
  for (var r = e6.length + 1, o3 = r + i, s6 = new Uint8Array(o3 * r).fill(i + 1), a = 0; a < r; ++a)
    s6[a] = a;
  for (var l = 1; l < o3; ++l)
    s6[l * r] = l;
  return iH(t48, e6, i, n, s6, 1, r, ""), n;
}, "fuzzySearch");
var iH = q(function(t48, e6, i, n, r, o3, s6, a) {
  var l, u2, h = o3 * s6;
  try {
    t:
      for (var c2 = yi(t48.keys()), p4 = c2.next(); !p4.done; p4 = c2.next()) {
        var d = p4.value;
        if (d === so) {
          var f = r[h - 1];
          f <= i && n.set(a, [t48.get(d), f]);
        } else {
          for (var g = o3, m = 0; m < d.length; ++m, ++g) {
            for (var v4 = d[m], y4 = s6 * g, x4 = y4 - s6, _ = r[y4], b = Math.max(0, g - i - 1), M = Math.min(s6 - 1, g + i), E = b; E < M; ++E) {
              var w4 = v4 !== e6[E], A = r[x4 + E] + +w4, S = r[x4 + E + 1] + 1, T = r[y4 + E] + 1, C = r[y4 + E + 1] = Math.min(A, S, T);
              C < _ && (_ = C);
            }
            if (_ > i)
              continue t;
          }
          iH(t48.get(d), e6, i, n, r, g, s6, a + d);
        }
      }
  } catch (t49) {
    l = { error: t49 };
  } finally {
    try {
      p4 && !p4.done && (u2 = c2.return) && u2.call(c2);
    } finally {
      if (l)
        throw l.error;
    }
  }
}, "recurse");
var f5 = function() {
  function t48(t49, e6) {
    void 0 === t49 && (t49 = /* @__PURE__ */ new Map()), void 0 === e6 && (e6 = ""), this._size = void 0, this._tree = t49, this._prefix = e6;
  }
  return q(t48, "SearchableMap"), t48.prototype.atPrefix = function(e6) {
    var i, n;
    if (!e6.startsWith(this._prefix))
      throw new Error("Mismatched prefix");
    var r = ro(VM(this._tree, e6.slice(this._prefix.length)), 2), o3 = r[0], s6 = r[1];
    if (void 0 === o3) {
      var a = ro(v5(s6), 2), l = a[0], u2 = a[1];
      try {
        for (var h = yi(l.keys()), c2 = h.next(); !c2.done; c2 = h.next()) {
          var p4 = c2.value;
          if (p4 !== so && p4.startsWith(u2)) {
            var d = /* @__PURE__ */ new Map();
            return d.set(p4.slice(u2.length), l.get(p4)), new t48(d, e6);
          }
        }
      } catch (t49) {
        i = { error: t49 };
      } finally {
        try {
          c2 && !c2.done && (n = h.return) && n.call(h);
        } finally {
          if (i)
            throw i.error;
        }
      }
    }
    return new t48(o3, e6);
  }, t48.prototype.clear = function() {
    this._size = void 0, this._tree.clear();
  }, t48.prototype.delete = function(t49) {
    return this._size = void 0, Ace(this._tree, t49);
  }, t48.prototype.entries = function() {
    return new h5(this, Tce);
  }, t48.prototype.forEach = function(t49) {
    var e6, i;
    try {
      for (var n = yi(this), r = n.next(); !r.done; r = n.next()) {
        var o3 = ro(r.value, 2);
        t49(o3[0], o3[1], this);
      }
    } catch (t50) {
      e6 = { error: t50 };
    } finally {
      try {
        r && !r.done && (i = n.return) && i.call(n);
      } finally {
        if (e6)
          throw e6.error;
      }
    }
  }, t48.prototype.fuzzyGet = function(t49, e6) {
    return Sce(this._tree, t49, e6);
  }, t48.prototype.get = function(t49) {
    var e6 = g5(this._tree, t49);
    return void 0 !== e6 ? e6.get(so) : void 0;
  }, t48.prototype.has = function(t49) {
    var e6 = g5(this._tree, t49);
    return void 0 !== e6 && e6.has(so);
  }, t48.prototype.keys = function() {
    return new h5(this, tH);
  }, t48.prototype.set = function(t49, e6) {
    if ("string" != typeof t49)
      throw new Error("key must be a string");
    return this._size = void 0, p5(this._tree, t49).set(so, e6), this;
  }, Object.defineProperty(t48.prototype, "size", { get: function() {
    if (this._size)
      return this._size;
    this._size = 0;
    for (var t49 = this.entries(); !t49.next().done; )
      this._size += 1;
    return this._size;
  }, enumerable: false, configurable: true }), t48.prototype.update = function(t49, e6) {
    if ("string" != typeof t49)
      throw new Error("key must be a string");
    this._size = void 0;
    var i = p5(this._tree, t49);
    return i.set(so, e6(i.get(so))), this;
  }, t48.prototype.fetch = function(t49, e6) {
    if ("string" != typeof t49)
      throw new Error("key must be a string");
    this._size = void 0;
    var i = p5(this._tree, t49), n = i.get(so);
    return void 0 === n && i.set(so, n = e6()), n;
  }, t48.prototype.values = function() {
    return new h5(this, nH);
  }, t48.prototype[Symbol.iterator] = function() {
    return this.entries();
  }, t48.from = function(e6) {
    var i, n, r = new t48();
    try {
      for (var o3 = yi(e6), s6 = o3.next(); !s6.done; s6 = o3.next()) {
        var a = ro(s6.value, 2), l = a[0], u2 = a[1];
        r.set(l, u2);
      }
    } catch (t49) {
      i = { error: t49 };
    } finally {
      try {
        s6 && !s6.done && (n = o3.return) && n.call(o3);
      } finally {
        if (i)
          throw i.error;
      }
    }
    return r;
  }, t48.fromObject = function(e6) {
    return t48.from(Object.entries(e6));
  }, t48;
}();
var VM = q(function(t48, e6, i) {
  var n, r;
  if (void 0 === i && (i = []), 0 === e6.length || null == t48)
    return [t48, i];
  try {
    for (var o3 = yi(t48.keys()), s6 = o3.next(); !s6.done; s6 = o3.next()) {
      var a = s6.value;
      if (a !== so && e6.startsWith(a))
        return i.push([t48, a]), VM(t48.get(a), e6.slice(a.length), i);
    }
  } catch (t49) {
    n = { error: t49 };
  } finally {
    try {
      s6 && !s6.done && (r = o3.return) && r.call(o3);
    } finally {
      if (n)
        throw n.error;
    }
  }
  return i.push([t48, e6]), VM(void 0, "", i);
}, "trackDown");
var g5 = q(function(t48, e6) {
  var i, n;
  if (0 === e6.length || null == t48)
    return t48;
  try {
    for (var r = yi(t48.keys()), o3 = r.next(); !o3.done; o3 = r.next()) {
      var s6 = o3.value;
      if (s6 !== so && e6.startsWith(s6))
        return g5(t48.get(s6), e6.slice(s6.length));
    }
  } catch (t49) {
    i = { error: t49 };
  } finally {
    try {
      o3 && !o3.done && (n = r.return) && n.call(r);
    } finally {
      if (i)
        throw i.error;
    }
  }
}, "lookup");
var p5 = q(function(t48, e6) {
  var i, n, r = e6.length;
  t:
    for (var o3 = 0; t48 && o3 < r; ) {
      try {
        for (var s6 = (i = void 0, yi(t48.keys())), a = s6.next(); !a.done; a = s6.next()) {
          var l = a.value;
          if (l !== so && e6[o3] === l[0]) {
            for (var u2 = Math.min(r - o3, l.length), h = 1; h < u2 && e6[o3 + h] === l[h]; )
              ++h;
            var c2 = t48.get(l);
            if (h === l.length)
              t48 = c2;
            else {
              var p4 = /* @__PURE__ */ new Map();
              p4.set(l.slice(h), c2), t48.set(e6.slice(o3, o3 + h), p4), t48.delete(l), t48 = p4;
            }
            o3 += h;
            continue t;
          }
        }
      } catch (t49) {
        i = { error: t49 };
      } finally {
        try {
          a && !a.done && (n = s6.return) && n.call(s6);
        } finally {
          if (i)
            throw i.error;
        }
      }
      var d = /* @__PURE__ */ new Map();
      return t48.set(e6.slice(o3), d), d;
    }
  return t48;
}, "createPath");
var Ace = q(function(t48, e6) {
  var i = ro(VM(t48, e6), 2), n = i[0], r = i[1];
  if (void 0 !== n) {
    if (n.delete(so), 0 === n.size)
      rH(r);
    else if (1 === n.size) {
      var o3 = ro(n.entries().next().value, 2), s6 = o3[0], a = o3[1];
      sH(r, s6, a);
    }
  }
}, "remove");
var rH = q(function(t48) {
  if (0 !== t48.length) {
    var e6 = ro(v5(t48), 2), i = e6[0], n = e6[1];
    if (i.delete(n), 0 === i.size)
      rH(t48.slice(0, -1));
    else if (1 === i.size) {
      var r = ro(i.entries().next().value, 2), o3 = r[0], s6 = r[1];
      o3 !== so && sH(t48.slice(0, -1), o3, s6);
    }
  }
}, "cleanup");
var sH = q(function(t48, e6, i) {
  if (0 !== t48.length) {
    var n = ro(v5(t48), 2), r = n[0], o3 = n[1];
    r.set(o3 + e6, i), r.delete(o3);
  }
}, "merge");
var v5 = q(function(t48) {
  return t48[t48.length - 1];
}, "last");
var y5 = "or";
var Cce = "and";
var Pce = "and_not";
var mp = function() {
  function t48(t49) {
    if (null == (null == t49 ? void 0 : t49.fields))
      throw new Error('MiniSearch: option "fields" must be provided');
    this._options = rs(rs(rs({}, m5), t49), { searchOptions: rs(rs({}, KV), t49.searchOptions || {}) }), this._index = new f5(), this._documentCount = 0, this._documentIds = /* @__PURE__ */ new Map(), this._fieldIds = {}, this._fieldLength = /* @__PURE__ */ new Map(), this._avgFieldLength = [], this._nextId = 0, this._storedFields = /* @__PURE__ */ new Map(), this.addFields(this._options.fields);
  }
  return q(t48, "MiniSearch"), t48.prototype.add = function(t49) {
    var e6, i, n, r, o3 = this._options, s6 = o3.extractField, a = o3.tokenize, l = o3.processTerm, u2 = o3.fields, h = o3.idField, c2 = s6(t49, h);
    if (null == c2)
      throw new Error('MiniSearch: document does not have ID field "'.concat(h, '"'));
    var p4 = this.addDocumentId(c2);
    this.saveStoredFields(p4, t49);
    try {
      for (var d = yi(u2), f = d.next(); !f.done; f = d.next()) {
        var g = f.value, m = s6(t49, g);
        if (null != m) {
          var v4 = a(m.toString(), g), y4 = this._fieldIds[g], x4 = new Set(v4).size;
          this.addFieldLength(p4, y4, this._documentCount - 1, x4);
          try {
            for (var _ = (n = void 0, yi(v4)), b = _.next(); !b.done; b = _.next()) {
              var M = l(b.value, g);
              M && this.addTerm(y4, p4, M);
            }
          } catch (t50) {
            n = { error: t50 };
          } finally {
            try {
              b && !b.done && (r = _.return) && r.call(_);
            } finally {
              if (n)
                throw n.error;
            }
          }
        }
      }
    } catch (t50) {
      e6 = { error: t50 };
    } finally {
      try {
        f && !f.done && (i = d.return) && i.call(d);
      } finally {
        if (e6)
          throw e6.error;
      }
    }
  }, t48.prototype.addAll = function(t49) {
    var e6, i;
    try {
      for (var n = yi(t49), r = n.next(); !r.done; r = n.next()) {
        var o3 = r.value;
        this.add(o3);
      }
    } catch (t50) {
      e6 = { error: t50 };
    } finally {
      try {
        r && !r.done && (i = n.return) && i.call(n);
      } finally {
        if (e6)
          throw e6.error;
      }
    }
  }, t48.prototype.addAllAsync = function(t49, e6) {
    var i = this;
    void 0 === e6 && (e6 = {});
    var n = e6.chunkSize, r = void 0 === n ? 10 : n, o3 = { chunk: [], promise: Promise.resolve() }, s6 = t49.reduce(function(t50, e10, n10) {
      var o6 = t50.chunk, s10 = t50.promise;
      return o6.push(e10), (n10 + 1) % r == 0 ? { chunk: [], promise: s10.then(function() {
        return new Promise(function(t51) {
          return setTimeout(t51, 0);
        });
      }).then(function() {
        return i.addAll(o6);
      }) } : { chunk: o6, promise: s10 };
    }, o3), a = s6.chunk;
    return s6.promise.then(function() {
      return i.addAll(a);
    });
  }, t48.prototype.remove = function(t49) {
    var e6, i, n, r, o3, s6, a = this._options, l = a.tokenize, u2 = a.processTerm, h = a.extractField, c2 = a.fields, p4 = a.idField, d = h(t49, p4);
    if (null == d)
      throw new Error('MiniSearch: document does not have ID field "'.concat(p4, '"'));
    try {
      for (var f = yi(this._documentIds), g = f.next(); !g.done; g = f.next()) {
        var m = ro(g.value, 2), v4 = m[0];
        if (d === m[1]) {
          try {
            for (var y4 = (n = void 0, yi(c2)), x4 = y4.next(); !x4.done; x4 = y4.next()) {
              var _ = x4.value, b = h(t49, _);
              if (null != b) {
                var M = l(b.toString(), _), E = this._fieldIds[_], w4 = new Set(M).size;
                this.removeFieldLength(v4, E, this._documentCount, w4);
                try {
                  for (var A = (o3 = void 0, yi(M)), S = A.next(); !S.done; S = A.next()) {
                    var T = u2(S.value, _);
                    T && this.removeTerm(E, v4, T);
                  }
                } catch (t50) {
                  o3 = { error: t50 };
                } finally {
                  try {
                    S && !S.done && (s6 = A.return) && s6.call(A);
                  } finally {
                    if (o3)
                      throw o3.error;
                  }
                }
              }
            }
          } catch (t50) {
            n = { error: t50 };
          } finally {
            try {
              x4 && !x4.done && (r = y4.return) && r.call(y4);
            } finally {
              if (n)
                throw n.error;
            }
          }
          return this._storedFields.delete(v4), this._documentIds.delete(v4), this._fieldLength.delete(v4), void (this._documentCount -= 1);
        }
      }
    } catch (t50) {
      e6 = { error: t50 };
    } finally {
      try {
        g && !g.done && (i = f.return) && i.call(f);
      } finally {
        if (e6)
          throw e6.error;
      }
    }
    throw new Error("MiniSearch: cannot remove document with ID ".concat(d, ": it is not in the index"));
  }, t48.prototype.removeAll = function(t49) {
    var e6, i;
    if (t49)
      try {
        for (var n = yi(t49), r = n.next(); !r.done; r = n.next()) {
          var o3 = r.value;
          this.remove(o3);
        }
      } catch (t50) {
        e6 = { error: t50 };
      } finally {
        try {
          r && !r.done && (i = n.return) && i.call(n);
        } finally {
          if (e6)
            throw e6.error;
        }
      }
    else {
      if (arguments.length > 0)
        throw new Error("Expected documents to be present. Omit the argument to remove all documents.");
      this._index = new f5(), this._documentCount = 0, this._documentIds = /* @__PURE__ */ new Map(), this._fieldLength = /* @__PURE__ */ new Map(), this._avgFieldLength = [], this._storedFields = /* @__PURE__ */ new Map(), this._nextId = 0;
    }
  }, t48.prototype.search = function(t49, e6) {
    var i, n;
    void 0 === e6 && (e6 = {});
    var r = this.executeQuery(t49, e6), o3 = [];
    try {
      for (var s6 = yi(r), a = s6.next(); !a.done; a = s6.next()) {
        var l = ro(a.value, 2), u2 = l[0], h = l[1], c2 = h.score, p4 = h.terms, d = h.match, f = p4.length, g = { id: this._documentIds.get(u2), score: c2 * f, terms: Object.keys(d), match: d };
        Object.assign(g, this._storedFields.get(u2)), (null == e6.filter || e6.filter(g)) && o3.push(g);
      }
    } catch (t50) {
      i = { error: t50 };
    } finally {
      try {
        a && !a.done && (n = s6.return) && n.call(s6);
      } finally {
        if (i)
          throw i.error;
      }
    }
    return o3.sort($V), o3;
  }, t48.prototype.autoSuggest = function(t49, e6) {
    var i, n, r, o3;
    void 0 === e6 && (e6 = {}), e6 = rs(rs({}, Nce), e6);
    var s6 = /* @__PURE__ */ new Map();
    try {
      for (var a = yi(this.search(t49, e6)), l = a.next(); !l.done; l = a.next()) {
        var u2 = l.value, h = u2.score, c2 = (y4 = u2.terms).join(" ");
        null != (m = s6.get(c2)) ? (m.score += h, m.count += 1) : s6.set(c2, { score: h, terms: y4, count: 1 });
      }
    } catch (t50) {
      i = { error: t50 };
    } finally {
      try {
        l && !l.done && (n = a.return) && n.call(a);
      } finally {
        if (i)
          throw i.error;
      }
    }
    var p4 = [];
    try {
      for (var d = yi(s6), f = d.next(); !f.done; f = d.next()) {
        var g = ro(f.value, 2), m = g[0], v4 = g[1], y4 = (h = v4.score, v4.terms), x4 = v4.count;
        p4.push({ suggestion: m, terms: y4, score: h / x4 });
      }
    } catch (t50) {
      r = { error: t50 };
    } finally {
      try {
        f && !f.done && (o3 = d.return) && o3.call(d);
      } finally {
        if (r)
          throw r.error;
      }
    }
    return p4.sort($V), p4;
  }, Object.defineProperty(t48.prototype, "documentCount", { get: function() {
    return this._documentCount;
  }, enumerable: false, configurable: true }), t48.loadJSON = function(e6, i) {
    if (null == i)
      throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");
    return t48.loadJS(JSON.parse(e6), i);
  }, t48.getDefault = function(t49) {
    if (m5.hasOwnProperty(t49))
      return d5(m5, t49);
    throw new Error('MiniSearch: unknown option "'.concat(t49, '"'));
  }, t48.loadJS = function(e6, i) {
    var n, r, o3, s6, a = e6.index, l = e6.documentCount, u2 = e6.nextId, h = e6.documentIds, c2 = e6.fieldIds, p4 = e6.fieldLength, d = e6.averageFieldLength, f = e6.storedFields, g = e6.serializationVersion;
    if (1 !== g && 2 !== g)
      throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");
    var m = new t48(i);
    m._documentCount = l, m._nextId = u2, m._documentIds = GM(h), m._fieldIds = c2, m._fieldLength = GM(p4), m._avgFieldLength = d, m._storedFields = GM(f), m._index = new f5();
    try {
      for (var v4 = yi(a), y4 = v4.next(); !y4.done; y4 = v4.next()) {
        var x4 = ro(y4.value, 2), _ = x4[0], b = x4[1], M = /* @__PURE__ */ new Map();
        try {
          for (var E = (o3 = void 0, yi(Object.keys(b))), w4 = E.next(); !w4.done; w4 = E.next()) {
            var A = w4.value, S = b[A];
            1 === g && (S = S.ds), M.set(parseInt(A, 10), GM(S));
          }
        } catch (t49) {
          o3 = { error: t49 };
        } finally {
          try {
            w4 && !w4.done && (s6 = E.return) && s6.call(E);
          } finally {
            if (o3)
              throw o3.error;
          }
        }
        m._index.set(_, M);
      }
    } catch (t49) {
      n = { error: t49 };
    } finally {
      try {
        y4 && !y4.done && (r = v4.return) && r.call(v4);
      } finally {
        if (n)
          throw n.error;
      }
    }
    return m;
  }, t48.prototype.executeQuery = function(t49, e6) {
    var i = this;
    if (void 0 === e6 && (e6 = {}), "string" != typeof t49) {
      var n = rs(rs(rs({}, e6), t49), { queries: void 0 }), r = t49.queries.map(function(t50) {
        return i.executeQuery(t50, n);
      });
      return this.combineResults(r, t49.combineWith);
    }
    var o3 = this._options, s6 = o3.tokenize, a = o3.processTerm, l = o3.searchOptions, u2 = rs(rs({ tokenize: s6, processTerm: a }, l), e6), h = u2.tokenize, c2 = u2.processTerm, p4 = h(t49).map(function(t50) {
      return c2(t50);
    }).filter(function(t50) {
      return !!t50;
    }).map(Dce(u2)).map(function(t50) {
      return i.executeQuerySpec(t50, u2);
    });
    return this.combineResults(p4, u2.combineWith);
  }, t48.prototype.executeQuerySpec = function(t49, e6) {
    var i, n, r, o3, s6, a, l = rs(rs({}, this._options.searchOptions), e6), u2 = (l.fields || this._options.fields).reduce(function(t50, e10) {
      var i10;
      return rs(rs({}, t50), ((i10 = {})[e10] = d5(t50, e10) || 1, i10));
    }, l.boost || {}), h = l.boostDocument, c2 = l.weights, p4 = l.maxFuzzy, d = rs(rs({}, KV.weights), c2), f = d.fuzzy, g = d.prefix, m = this._index.get(t49.term), v4 = this.termResults(t49.term, t49.term, 1, m, u2, h);
    if (t49.prefix && (s6 = this._index.atPrefix(t49.term)), t49.fuzzy) {
      var y4 = true === t49.fuzzy ? 0.2 : t49.fuzzy, x4 = y4 < 1 ? Math.min(p4, Math.round(t49.term.length * y4)) : y4;
      x4 && (a = this._index.fuzzyGet(t49.term, x4));
    }
    if (s6)
      try {
        for (var _ = yi(s6), b = _.next(); !b.done; b = _.next()) {
          var M = ro(b.value, 2), E = M[0], w4 = M[1];
          if (C = E.length - t49.term.length) {
            null == a || a.delete(E);
            var A = g * E.length / (E.length + 0.3 * C);
            this.termResults(t49.term, E, A, w4, u2, h, v4);
          }
        }
      } catch (t50) {
        i = { error: t50 };
      } finally {
        try {
          b && !b.done && (n = _.return) && n.call(_);
        } finally {
          if (i)
            throw i.error;
        }
      }
    if (a)
      try {
        for (var S = yi(a.keys()), T = S.next(); !T.done; T = S.next()) {
          E = T.value;
          var C, P = ro(a.get(E), 2), I = P[0];
          if (C = P[1]) {
            A = f * E.length / (E.length + C);
            this.termResults(t49.term, E, A, I, u2, h, v4);
          }
        }
      } catch (t50) {
        r = { error: t50 };
      } finally {
        try {
          T && !T.done && (o3 = S.return) && o3.call(S);
        } finally {
          if (r)
            throw r.error;
        }
      }
    return v4;
  }, t48.prototype.combineResults = function(t49, e6) {
    if (void 0 === e6 && (e6 = y5), 0 === t49.length)
      return /* @__PURE__ */ new Map();
    var i = e6.toLowerCase();
    return t49.reduce(Ice[i]) || /* @__PURE__ */ new Map();
  }, t48.prototype.toJSON = function() {
    var t49, e6, i, n, r = [];
    try {
      for (var o3 = yi(this._index), s6 = o3.next(); !s6.done; s6 = o3.next()) {
        var a = ro(s6.value, 2), l = a[0], u2 = a[1], h = {};
        try {
          for (var c2 = (i = void 0, yi(u2)), p4 = c2.next(); !p4.done; p4 = c2.next()) {
            var d = ro(p4.value, 2), f = d[0], g = d[1];
            h[f] = Object.fromEntries(g);
          }
        } catch (t50) {
          i = { error: t50 };
        } finally {
          try {
            p4 && !p4.done && (n = c2.return) && n.call(c2);
          } finally {
            if (i)
              throw i.error;
          }
        }
        r.push([l, h]);
      }
    } catch (e10) {
      t49 = { error: e10 };
    } finally {
      try {
        s6 && !s6.done && (e6 = o3.return) && e6.call(o3);
      } finally {
        if (t49)
          throw t49.error;
      }
    }
    return { documentCount: this._documentCount, nextId: this._nextId, documentIds: Object.fromEntries(this._documentIds), fieldIds: this._fieldIds, fieldLength: Object.fromEntries(this._fieldLength), averageFieldLength: this._avgFieldLength, storedFields: Object.fromEntries(this._storedFields), index: r, serializationVersion: 2 };
  }, t48.prototype.termResults = function(t49, e6, i, n, r, o3, s6) {
    var a, l, u2, h, c2;
    if (void 0 === s6 && (s6 = /* @__PURE__ */ new Map()), null == n)
      return s6;
    try {
      for (var p4 = yi(Object.keys(r)), d = p4.next(); !d.done; d = p4.next()) {
        var f = d.value, g = r[f], m = this._fieldIds[f], v4 = n.get(m);
        if (null != v4) {
          var y4 = v4.size, x4 = this._avgFieldLength[m];
          try {
            for (var _ = (u2 = void 0, yi(v4.keys())), b = _.next(); !b.done; b = _.next()) {
              var M = b.value, E = o3 ? o3(this._documentIds.get(M), e6) : 1;
              if (E) {
                var w4 = v4.get(M), A = this._fieldLength.get(M)[m], S = i * g * E * Lce(w4, y4, this._documentCount, A, x4), T = s6.get(M);
                if (T) {
                  T.score += S, Rce(T.terms, t49);
                  var C = d5(T.match, e6);
                  C ? C.push(f) : T.match[e6] = [f];
                } else
                  s6.set(M, { score: S, terms: [t49], match: (c2 = {}, c2[e6] = [f], c2) });
              }
            }
          } catch (t50) {
            u2 = { error: t50 };
          } finally {
            try {
              b && !b.done && (h = _.return) && h.call(_);
            } finally {
              if (u2)
                throw u2.error;
            }
          }
        }
      }
    } catch (t50) {
      a = { error: t50 };
    } finally {
      try {
        d && !d.done && (l = p4.return) && l.call(p4);
      } finally {
        if (a)
          throw a.error;
      }
    }
    return s6;
  }, t48.prototype.addTerm = function(t49, e6, i) {
    var n = this._index.fetch(i, eH), r = n.get(t49);
    if (null == r)
      (r = /* @__PURE__ */ new Map()).set(e6, 1), n.set(t49, r);
    else {
      var o3 = r.get(e6);
      r.set(e6, (o3 || 0) + 1);
    }
  }, t48.prototype.removeTerm = function(t49, e6, i) {
    if (this._index.has(i)) {
      var n = this._index.fetch(i, eH), r = n.get(t49);
      null == r || null == r.get(e6) ? this.warnDocumentChanged(e6, t49, i) : r.get(e6) <= 1 ? r.size <= 1 ? n.delete(t49) : r.delete(e6) : r.set(e6, r.get(e6) - 1), 0 === this._index.get(i).size && this._index.delete(i);
    } else
      this.warnDocumentChanged(e6, t49, i);
  }, t48.prototype.warnDocumentChanged = function(t49, e6, i) {
    var n, r;
    if (null != console && null != console.warn)
      try {
        for (var o3 = yi(Object.keys(this._fieldIds)), s6 = o3.next(); !s6.done; s6 = o3.next()) {
          var a = s6.value;
          if (this._fieldIds[a] === e6)
            return void console.warn("MiniSearch: document with ID ".concat(this._documentIds.get(t49), ' has changed before removal: term "').concat(i, '" was not present in field "').concat(a, '". Removing a document after it has changed can corrupt the index!'));
        }
      } catch (t50) {
        n = { error: t50 };
      } finally {
        try {
          s6 && !s6.done && (r = o3.return) && r.call(o3);
        } finally {
          if (n)
            throw n.error;
        }
      }
  }, t48.prototype.addDocumentId = function(t49) {
    var e6 = this._nextId;
    return this._documentIds.set(e6, t49), this._documentCount += 1, this._nextId += 1, e6;
  }, t48.prototype.addFields = function(t49) {
    for (var e6 = 0; e6 < t49.length; e6++)
      this._fieldIds[t49[e6]] = e6;
  }, t48.prototype.addFieldLength = function(t49, e6, i, n) {
    var r = this._fieldLength.get(t49);
    null == r && this._fieldLength.set(t49, r = []), r[e6] = n;
    var o3 = (this._avgFieldLength[e6] || 0) * i + n;
    this._avgFieldLength[e6] = o3 / (i + 1);
  }, t48.prototype.removeFieldLength = function(t49, e6, i, n) {
    var r = this._avgFieldLength[e6] * i - n;
    this._avgFieldLength[e6] = r / (i - 1);
  }, t48.prototype.saveStoredFields = function(t49, e6) {
    var i, n, r = this._options, o3 = r.storeFields, s6 = r.extractField;
    if (null != o3 && 0 !== o3.length) {
      var a = this._storedFields.get(t49);
      null == a && this._storedFields.set(t49, a = {});
      try {
        for (var l = yi(o3), u2 = l.next(); !u2.done; u2 = l.next()) {
          var h = u2.value, c2 = s6(e6, h);
          void 0 !== c2 && (a[h] = c2);
        }
      } catch (t50) {
        i = { error: t50 };
      } finally {
        try {
          u2 && !u2.done && (n = l.return) && n.call(l);
        } finally {
          if (i)
            throw i.error;
        }
      }
    }
  }, t48;
}();
var d5 = q(function(t48, e6) {
  return Object.prototype.hasOwnProperty.call(t48, e6) ? t48[e6] : void 0;
}, "getOwnProperty");
var Ice = ((Q1 = {})[y5] = function(t48, e6) {
  var i, n;
  try {
    for (var r = yi(e6.keys()), o3 = r.next(); !o3.done; o3 = r.next()) {
      var s6 = o3.value, a = t48.get(s6);
      if (null == a)
        t48.set(s6, e6.get(s6));
      else {
        var l = e6.get(s6), u2 = l.score, h = l.terms, c2 = l.match;
        a.score = a.score + u2, a.match = Object.assign(a.match, c2), JV(a.terms, h);
      }
    }
  } catch (t49) {
    i = { error: t49 };
  } finally {
    try {
      o3 && !o3.done && (n = r.return) && n.call(r);
    } finally {
      if (i)
        throw i.error;
    }
  }
  return t48;
}, Q1[Cce] = function(t48, e6) {
  var i, n, r = /* @__PURE__ */ new Map();
  try {
    for (var o3 = yi(e6.keys()), s6 = o3.next(); !s6.done; s6 = o3.next()) {
      var a = s6.value, l = t48.get(a);
      if (null != l) {
        var u2 = e6.get(a), h = u2.score, c2 = u2.terms, p4 = u2.match;
        JV(l.terms, c2), r.set(a, { score: l.score + h, terms: l.terms, match: Object.assign(l.match, p4) });
      }
    }
  } catch (t49) {
    i = { error: t49 };
  } finally {
    try {
      s6 && !s6.done && (n = o3.return) && n.call(o3);
    } finally {
      if (i)
        throw i.error;
    }
  }
  return r;
}, Q1[Pce] = function(t48, e6) {
  var i, n;
  try {
    for (var r = yi(e6.keys()), o3 = r.next(); !o3.done; o3 = r.next()) {
      var s6 = o3.value;
      t48.delete(s6);
    }
  } catch (t49) {
    i = { error: t49 };
  } finally {
    try {
      o3 && !o3.done && (n = r.return) && n.call(r);
    } finally {
      if (i)
        throw i.error;
    }
  }
  return t48;
}, Q1);
var ZV = 1.2;
var QV = 0.7;
var Oce = 0.5;
var Lce = q(function(t48, e6, i, n, r) {
  return Math.log(1 + (i - e6 + 0.5) / (e6 + 0.5)) * (Oce + t48 * (ZV + 1) / (t48 + ZV * (1 - QV + QV * n / r)));
}, "calcBM25Score");
var Dce = q(function(t48) {
  return function(e6, i, n) {
    return { term: e6, fuzzy: "function" == typeof t48.fuzzy ? t48.fuzzy(e6, i, n) : t48.fuzzy || false, prefix: "function" == typeof t48.prefix ? t48.prefix(e6, i, n) : true === t48.prefix };
  };
}, "termToQuerySpec");
var m5 = { idField: "id", extractField: function(t48, e6) {
  return t48[e6];
}, tokenize: function(t48, e6) {
  return t48.split(Bce);
}, processTerm: function(t48, e6) {
  return t48.toLowerCase();
}, fields: void 0, searchOptions: void 0, storeFields: [] };
var KV = { combineWith: y5, prefix: false, fuzzy: false, maxFuzzy: 6, boost: {}, weights: { fuzzy: 0.45, prefix: 0.375 } };
var Nce = { prefix: function(t48, e6, i) {
  return e6 === i.length - 1;
} };
var Rce = q(function(t48, e6) {
  t48.includes(e6) || t48.push(e6);
}, "assignUniqueTerm");
var JV = q(function(t48, e6) {
  var i, n;
  try {
    for (var r = yi(e6), o3 = r.next(); !o3.done; o3 = r.next()) {
      var s6 = o3.value;
      t48.includes(s6) || t48.push(s6);
    }
  } catch (t49) {
    i = { error: t49 };
  } finally {
    try {
      o3 && !o3.done && (n = r.return) && n.call(r);
    } finally {
      if (i)
        throw i.error;
    }
  }
}, "assignUniqueTerms");
var $V = q(function(t48, e6) {
  var i = t48.score;
  return e6.score - i;
}, "byScore");
var eH = q(function() {
  return /* @__PURE__ */ new Map();
}, "createMap");
var GM = q(function(t48) {
  var e6, i, n = /* @__PURE__ */ new Map();
  try {
    for (var r = yi(Object.keys(t48)), o3 = r.next(); !o3.done; o3 = r.next()) {
      var s6 = o3.value;
      n.set(parseInt(s6, 10), t48[s6]);
    }
  } catch (t49) {
    e6 = { error: t49 };
  } finally {
    try {
      o3 && !o3.done && (i = r.return) && i.call(r);
    } finally {
      if (e6)
        throw e6.error;
    }
  }
  return n;
}, "objectToNumericMap");
var Bce = /[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;
c();
var x5 = [0, 4, 6, 8, 10];
var Cr = q(() => {
  let t48 = new Array(16).fill(0), e6 = 4294967296 * Math.random();
  for (let i10 = 0; i10 < t48.length; i10++)
    i10 > 0 && !(3 & i10) && (e6 = 4294967296 * Math.random()), t48[i10] = e6 >>> ((3 & i10) << 3) & 255;
  let i = t48.map((t49) => t49.toString(16).padStart(2, "0"));
  return i[6] = "4" + i[6][1], i[8] = ["8", "9", "a", "b"].includes(i[7][0]) ? i[7] : "a" + i[7][1], x5.map((t49, e10) => i.slice(t49, e10 === x5.length - 1 ? void 0 : x5[e10 + 1]).join("")).join("-");
}, "randomId");
c();
var kce = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
var qce = ["", "", "", "", "", "", "", "", "", ""];
var Fce = ["", "", "", "", "", "", "", "", "", ""];
var Uce = ["", "", "", "", "", "", "", "", "", ""];
var Hrt = [...kce, ...qce, ...Fce, ...Uce];
var oH = ["about", "after", "all", "also", "am", "an", "and", "another", "any", "are", "as", "at", "be", "because", "been", "before", "being", "between", "both", "but", "by", "came", "can", "come", "could", "did", "do", "each", "for", "from", "get", "got", "has", "had", "he", "have", "her", "here", "him", "himself", "his", "how", "if", "in", "into", "is", "it", "like", "make", "many", "me", "might", "more", "most", "much", "must", "my", "never", "now", "of", "on", "only", "or", "other", "our", "out", "over", "said", "same", "should", "since", "some", "still", "such", "take", "than", "that", "the", "their", "them", "then", "there", "these", "they", "this", "those", "through", "to", "too", "under", "up", "very", "was", "way", "we", "well", "were", "what", "where", "which", "while", "who", "with", "would", "you", "your", "a", "i"];
c();
var zce = 32;
var oa = false;
var Gce = 120;
var b5 = 0;
var w5 = class {
  constructor(t48) {
    v(this, "_callback"), v(this, "_frameCount"), v(this, "_ordering"), v(this, "_supersededBy"), v(this, "name"), v(this, "_remainingFrameCount"), v(this, "_lastFrameTime"), v(this, "userdata"), this._callback = t48.callback, this._frameCount = null != t48.frameCount ? t48.frameCount : 1, this._ordering = null != t48.ordering ? t48.ordering : 0, this._supersededBy = null != t48.supersededBy ? new Set(t48.supersededBy) : /* @__PURE__ */ new Set(), this.name = t48.name, this.userdata = t48.userdata, this._remainingFrameCount = this._frameCount, this._lastFrameTime = 0, oa && Le.log("update instantiated", this.name);
  }
  getLastFrameTime() {
    return this._lastFrameTime;
  }
};
q(w5, "FrameUpdate");
var xs = w5;
var M5 = class {
  constructor(t48) {
    if (v(this, "_postponed"), v(this, "userdata"), v(this, "_priority"), v(this, "_group"), v(this, "name"), v(this, "_lastFrameTime"), v(this, "_callback"), v(this, "_complete"), v(this, "_scheduled"), v(this, "_cancelled"), null != t48.group && null != t48.priority)
      throw new Error("cannot specify task priority individually within group");
    if (null != t48.group && null != t48.postponeOnAdd)
      throw new Error("cannot specify task postpone individually within group");
    this._callback = t48.callback, this._group = null != t48.group ? t48.group : null, this._priority = null != t48.priority ? t48.priority : 0, this._postponed = null != t48.postponeOnAdd && t48.postponeOnAdd, this.name = t48.name, this.userdata = t48.userdata || {}, this._complete = false, this._scheduled = false, this._cancelled = false, this._lastFrameTime = 0, oa && Le.log("task instantiated", this.name);
  }
  isComplete() {
    return this._complete;
  }
  getLastFrameTime() {
    return this._lastFrameTime;
  }
};
q(M5, "FrameTask");
var Hi = M5;
var E5 = class {
  constructor(t48) {
    v(this, "_postponed"), v(this, "_onComplete"), v(this, "_priority"), v(this, "userdata"), v(this, "name"), v(this, "_tasks"), v(this, "_scheduledTasks"), v(this, "_scheduled"), v(this, "_cancelled"), this._onComplete = null != t48.onComplete ? t48.onComplete : () => {
    }, this._priority = null != t48.priority ? t48.priority : 0, this._postponed = null != t48.postponeOnAdd && t48.postponeOnAdd, this.name = t48.name, this.userdata = t48.userdata, this._tasks = /* @__PURE__ */ new Set(), this._scheduledTasks = /* @__PURE__ */ new Set(), this._scheduled = false, this._cancelled = false, oa && Le.log("task group instantiated", this.name);
  }
  isComplete() {
    return 0 === this._scheduledTasks.size;
  }
  getTasks() {
    return Array.from(this._tasks.values());
  }
  clear() {
    this._tasks.clear(), this._scheduledTasks.clear();
  }
  _popTask() {
    for (let t48 of this._scheduledTasks)
      return this._scheduledTasks.delete(t48), t48;
  }
};
q(E5, "FrameTaskGroup");
var dc = E5;
var T5 = class {
  constructor(t48) {
    v(this, "_maxMillisecondsPerFrame"), v(this, "_time"), this._maxMillisecondsPerFrame = null != (null == t48 ? void 0 : t48.maxMillisecondsPerFrame) ? t48.maxMillisecondsPerFrame : zce, this._time = 0;
  }
  beginFrame() {
    this._time = performance.now() + this._maxMillisecondsPerFrame;
  }
  hasTimeRemaining() {
    return performance.now() <= this._time;
  }
};
q(T5, "RealTimeTimer");
var _5 = T5;
var S5 = class {
  constructor(t48) {
    var e6;
    v(this, "_raf"), v(this, "_timer"), v(this, "_performance"), v(this, "_scheduledUpdatesByOrdering"), v(this, "_scheduledTasksByPriority"), v(this, "_postponedTasks"), v(this, "_requestAnimationFrameHandle"), v(this, "_updatesToRunThisFrame"), v(this, "_lastFrameTime", 0), v(this, "_updatesRunLastFrame"), this._timer = null != (null == t48 ? void 0 : t48.timer) ? t48.timer : new _5(), this._performance = null != (null == t48 ? void 0 : t48.performance) && t48.performance, this._scheduledUpdatesByOrdering = new ym(), this._scheduledTasksByPriority = new ym(), this._postponedTasks = /* @__PURE__ */ new Set(), this._requestAnimationFrameHandle = null, this._updatesToRunThisFrame = [], this._lastFrameTime = 0, this._updatesRunLastFrame = /* @__PURE__ */ new Set(), this.update = this.update.bind(this), oa && Le.log("task scheduler instantiated"), null != (e6 = globalThis.MappedinDebug) && e6.TEST_IOS && (this._raf = (t49) => setTimeout(t49, 16));
  }
  clear() {
    for (let t48 of this._scheduledTasksByPriority.values())
      t48._cancelled = true;
    for (let t48 of this._postponedTasks.values())
      t48._cancelled = true;
    this._scheduledUpdatesByOrdering = new ym(), this._scheduledTasksByPriority = new ym(), this._postponedTasks = /* @__PURE__ */ new Set(), this._lastFrameTime = 0, this._updatesRunLastFrame.clear(), oa && Le.log("task scheduler cleared");
  }
  destroy() {
    this.clear();
  }
  requestAnimationFrame() {
    null == this._requestAnimationFrameHandle && (this._requestAnimationFrameHandle = "function" == typeof this._raf ? this._raf(this.update) : requestAnimationFrame(this.update));
  }
  update(t48) {
    let e6;
    this._timer.beginFrame(), this._performance && (e6 = performance.now());
    let i = false;
    oa && (0 === b5 && (i = true), ++b5, b5 %= Gce);
    let n = this._scheduledUpdatesByOrdering.keys();
    for (let t49 = n.length - 1; t49 >= 0; --t49) {
      let e10 = n[t49];
      for (let t50 of this._scheduledUpdatesByOrdering.get(e10).values())
        this._updatesToRunThisFrame.push(t50), i && Le.log("update scheduled to run this frame", t50.name);
    }
    for (let t49 of this._updatesToRunThisFrame) {
      --t49._remainingFrameCount, t49._remainingFrameCount <= 0 && this._scheduledUpdatesByOrdering.delete(t49._ordering, t49), t49._superseded = false;
      for (let e10 of this._updatesToRunThisFrame)
        t49._supersededBy.has(e10) && (t49._superseded = true, i && Le.log("update superseded", t49.name, e10.name));
    }
    for (let t49 = 0; t49 < this._updatesToRunThisFrame.length; ++t49)
      this._updatesToRunThisFrame[t49]._superseded && (this._updatesToRunThisFrame.splice(t49, 1), --t49);
    for (let e10 of this._updatesToRunThisFrame) {
      let n10;
      this._performance && (n10 = performance.now()), e10._callback(t48), this._performance && (e10._lastFrameTime = performance.now() - n10), i && Le.log("update completed", e10.name);
    }
    this._updatesRunLastFrame.clear();
    for (let t49 of this._updatesToRunThisFrame)
      this._updatesRunLastFrame.add(t49);
    if (this._updatesToRunThisFrame.splice(0, this._updatesToRunThisFrame.length), this._scheduledTasksByPriority.size > 0)
      do {
        this._executeOneTask(t48);
      } while (this._timer.hasTimeRemaining() && this._scheduledTasksByPriority.size > 0);
    this._performance && (this._lastFrameTime = performance.now() - e6), this._requestAnimationFrameHandle = null, (this._scheduledUpdatesByOrdering.size > 0 || this._scheduledTasksByPriority.size > 0) && this.requestAnimationFrame();
  }
  flushTasks() {
    for (; this._scheduledTasksByPriority.size > 0; )
      this._executeOneTask(performance.now());
  }
  getLastFrameTime() {
    return this._lastFrameTime;
  }
  getUpdatesRunLastFrame() {
    return this._updatesRunLastFrame;
  }
  _executeOneTask(t48) {
    let e6, i = this._scheduledTasksByPriority.popFromMaxKey(), n = null;
    Le.assert(void 0 !== i), Object.getPrototypeOf(i) === dc.prototype && (n = i, i = n._popTask()), Le.assert(void 0 !== i), Le.assert(Object.getPrototypeOf(i) === Hi.prototype), this._performance && (e6 = performance.now()), i._callback(t48), i._complete = true, this._performance && (i._lastFrameTime = performance.now() - e6), oa && Le.log("task completed", i.name), null != n && (n.isComplete() ? (n.clear(), n._onComplete(), oa && Le.log("group completed", n.name)) : this._scheduledTasksByPriority.insert(n._priority, n));
  }
  scheduleUpdate(t48) {
    t48._remainingFrameCount = t48._frameCount, this._scheduledUpdatesByOrdering.insert(t48._ordering, t48), this.requestAnimationFrame();
  }
  scheduleTask(t48) {
    if (Object.getPrototypeOf(t48) === dc)
      throw new Error("frame task groups are automatically scheduled when a task is added to them and cannot be manually scheduled: " + t48.name);
    if (t48._scheduled)
      throw new Error("cannot schedule already scheduled task: " + t48.name);
    if (t48._cancelled)
      throw new Error("cannot schedule cancelled task: " + t48.name);
    let e6 = t48;
    "_group" in t48 && null != t48._group && (t48._group._tasks.add(t48), t48._group._scheduledTasks.add(t48), e6 = t48._group), e6._postponed ? this._postponedTasks.add(e6) : this._scheduledTasksByPriority.insert(e6._priority, e6), t48._scheduled = true, e6._scheduled = true, oa && Le.log("task scheduled", t48.name), this.requestAnimationFrame();
  }
  cancelUpdate(t48) {
    this._scheduledUpdatesByOrdering.delete(t48._ordering, t48), oa && Le.log("update cancelled", t48.name);
  }
  cancelTask(t48) {
    if (!t48._scheduled)
      throw new Error("cannot cancel task that has not been scheduled: " + t48.name);
    if (t48._cancelled)
      throw new Error("cannot cancel task that has already been cancelled: " + t48.name);
    if ("_group" in t48 && null != t48._group) {
      let e6 = t48._group.isComplete();
      t48._group._tasks.delete(t48), t48._group._scheduledTasks.delete(t48), t48._group.isComplete() && (this._scheduledTasksByPriority.delete(t48._group._priority, t48._group), e6 || t48._group._onComplete());
    } else
      this._scheduledTasksByPriority.delete(t48._priority, t48), this._postponedTasks.delete(t48);
    Object.getPrototypeOf(t48) === Hi.prototype ? t48._cancelled = true : "clear" in t48 && t48.clear(), oa && Le.log("task cancelled", t48.name);
  }
  postponeTask(t48) {
    if ("_group" in t48 && null != t48._group)
      throw new Error("cannot postpone individual tasks in group: " + t48.name);
    if (t48._cancelled)
      throw new Error("cannot postpone cancelled task: " + t48.name);
    if (!t48._postponed) {
      if (Object.getPrototypeOf(t48) === Hi.prototype) {
        if ("_complete" in t48)
          return;
        if (!t48._scheduled)
          throw new Error("cannot postpone task that has not been scheduled: " + t48.name);
      }
      this._scheduledTasksByPriority.delete(t48._priority, t48), (Object.getPrototypeOf(t48) === Hi.prototype || !t48.isComplete()) && this._postponedTasks.add(t48), t48._postponed = true, oa && Le.log("task postponed", t48.name);
    }
  }
  resumeTask(t48) {
    if ("_group" in t48 && null != t48._group)
      throw new Error("cannot resume individual tasks in groups");
    if (t48._cancelled)
      throw new Error("cannot resume cancelled task");
    if (t48._postponed) {
      if (Object.getPrototypeOf(t48) === Hi.prototype) {
        if ("_complete" in t48 && t48._complete)
          return;
        if (!t48._scheduled)
          throw new Error("cannot resume unscheduled task");
      }
      this._postponedTasks.delete(t48), (Object.getPrototypeOf(t48) === Hi.prototype || !t48.isComplete()) && this._scheduledTasksByPriority.insert(t48._priority, t48), t48._postponed = false, this.requestAnimationFrame(), oa && Le.log("task resumed", t48.name);
    }
  }
  setTaskPriority(t48, e6) {
    if (Object.getPrototypeOf(t48) === Hi.prototype && !t48._scheduled)
      throw new Error("task must be scheduled to be reprioritized");
    this._scheduledTasksByPriority.has(t48._priority, t48) && (this._scheduledTasksByPriority.delete(t48._priority, t48), this._scheduledTasksByPriority.insert(e6, t48)), t48._priority = e6, oa && Le.log("task priority changed", t48.name, e6);
  }
};
q(S5, "TaskScheduler");
var gp = S5;
var A5 = class {
  constructor() {
    v(this, "_map"), v(this, "_size"), v(this, "_sortedKeys"), this._map = /* @__PURE__ */ new Map(), this._size = 0, this._sortedKeys = [];
  }
  has(t48, e6) {
    return null != this._map.get(t48) && this._map.get(t48).has(e6);
  }
  get(t48) {
    return this._map.get(t48);
  }
  insert(t48, e6) {
    if (Le.assert("number" == typeof t48 && Number.isFinite(t48)), null == this._map.get(t48)) {
      this._map.set(t48, /* @__PURE__ */ new Set());
      for (let e10 = 0; e10 <= this._sortedKeys.length; ++e10)
        if (e10 === this._sortedKeys.length || t48 < this._sortedKeys[e10]) {
          this._sortedKeys.splice(e10, 0, t48);
          break;
        }
    }
    this._map.get(t48).has(e6) || (this._map.get(t48).add(e6), ++this._size);
  }
  delete(t48, e6) {
    null != this._map.get(t48) && this._map.get(t48).has(e6) && (this._map.get(t48).delete(e6), --this._size, 0 === this._map.get(t48).size && (this._map.delete(t48), this._sortedKeys.splice(this._sortedKeys.indexOf(t48), 1)));
  }
  pop(t48) {
    if (null != this._map.get(t48)) {
      let e6;
      for (e6 of this._map.get(t48).values()) {
        this._map.get(t48).delete(e6), --this._size;
        break;
      }
      return 0 === this._map.get(t48).size && (this._map.delete(t48), this._sortedKeys.splice(this._sortedKeys.indexOf(t48), 1)), e6;
    }
  }
  popFromMaxKey() {
    if (this._sortedKeys.length > 0)
      return this.pop(this._sortedKeys[this._sortedKeys.length - 1]);
  }
  values() {
    let t48 = this._map.keys(), e6 = null, i = { [Symbol.iterator]: () => i, next: () => {
      if (null == e6) {
        let i11 = t48.next();
        if (i11.done)
          return i11;
        e6 = this._map.get(i11.value).values();
      }
      let i10 = e6.next();
      for (; i10.done; ) {
        let n = t48.next();
        if (n.done)
          return n;
        e6 = this._map.get(n.value).values(), i10 = e6.next();
      }
      return i10;
    } };
    return i;
  }
  keys() {
    return this._sortedKeys;
  }
  get size() {
    let t48 = 0;
    for (let e6 of this._map.values())
      t48 += e6.size;
    return Le.assert(t48 === this._size), t48;
  }
};
q(A5, "Multimap");
var gc;
var Ka;
var kh;
var mu;
var Pr;
var J1;
var $1;
var bm;
var ey;
var ty;
var ny;
var iy;
var _m;
var vc;
var HM;
var jM;
var qh;
var ry;
var WM;
var YM;
var XM;
var lH;
var ym = A5;
var mc = q((t48) => t48.normalize("NFD").replace(/[\u0300-\u036f|\u2019|\u0027|\']/g, "").toLowerCase(), "removeAccents");
var xm = "";
var Vce = 0.09;
var Hce = 1;
var jce = 0.025;
var Wce = 0.5;
var Yce = 5e-4;
var Xce = 5e-4;
var Zce = 0.01;
var Qce = 0.05;
var aH = 1;
var Kce = 0.01;
var Jce = 0.2;
var $ce = { MappedinCategory: "categories", MappedinLocation: "locations" };
var ehe = { searchDescriptions: true, searchTags: true, searchTagsInCategories: false, searchDescriptionsInCategories: false, stopWords: oH, jsonIndex: void 0, useLocationRank: true, emitAnalyticsEvents: "production" === e.env.NODE_ENV, constants: { PRIMARY_INDEX_FUZZYNESS: Vce, PRIMARY_INDEX_WEIGHT: Hce, SECONDARY_INDEX_WEIGHT: jce, CATEGORY_NAME_WEIGHT: Wce, LOCATION_NAME_WEIGHT: aH, CATEGORY_LOCATION_DESCRIPTION_WEIGHT: Yce, CATEGORY_LOCATION_TAGS_WEIGHT: Xce, CATEGORY_LOCATION_NAME_WEIGHT: Zce, PRIMARY_INDEX_TAGS_NAME_WEIGHT: Qce, LOCATION_DEFAULT_RANK: aH, RATIO_OF_FUZZY_TO_EXACT: Kce, RATIO_OF_PREFIX_TO_EXACT: Jce } };
var C5 = class {
  constructor(t48, e6) {
    var i;
    w(this, XM), w(this, gc, void 0), w(this, Ka, void 0), w(this, kh, void 0), w(this, mu, void 0), w(this, Pr, void 0), w(this, J1, new gp({ performance: true })), w(this, $1, void 0), w(this, bm, void 0), w(this, ey, /* @__PURE__ */ new Map()), w(this, ty, void 0), w(this, ny, void 0), w(this, iy, void 0), v(this, "buildIndices", q(() => {
      var t49, e10;
      p(this, qh, new Promise((t50) => {
        p(this, ry, t50);
      }));
      let { PRIMARY_INDEX_FUZZYNESS: i10, PRIMARY_INDEX_WEIGHT: n10, CATEGORY_NAME_WEIGHT: r, RATIO_OF_FUZZY_TO_EXACT: o3, RATIO_OF_PREFIX_TO_EXACT: s6, PRIMARY_INDEX_TAGS_NAME_WEIGHT: a } = o(this, Pr).constants, l = ["object", "query", "weight", "tag", "rank"], u2 = { fields: ["query", "name", "tag"], storeFields: l, searchOptions: { combineWith: "OR", prefix: true, fuzzy: i10 }, boost: { name: n10, query: n10, tag: a }, weights: { fuzzy: o3, prefix: s6 }, boostDocument: (t50) => t50.includes("MappedinLocation") ? n10 : t50.includes("MappedinCategory") ? r : n10 }, h = { fields: ["description"], storeFields: l, searchOptions: { combineWith: "AND", prefix: true, fuzzy: 0.1 }, processTerm: (t50, e11) => {
        var i11;
        return null != (i11 = o(this, $1)) && i11.has(t50.toLowerCase()) ? null : t50.toLowerCase();
      } }, c2 = { fields: ["category.locations.description", "category.locations.tags", "category.locations.name"], storeFields: [...l, "ref", "category.locations.tags", "category.locations.name", "category.locations.description"], searchOptions: { combineWith: "AND", prefix: true, fuzzy: false } };
      if (null != (t49 = o(this, Pr)) && t49.jsonIndex) {
        let { primary: t50, secondary: i11, extra: n11 } = JSON.parse(null == (e10 = o(this, Pr)) ? void 0 : e10.jsonIndex);
        p(this, Ka, mp.loadJS(t50, u2)), p(this, kh, mp.loadJS(i11, h)), p(this, mu, mp.loadJS(n11, c2));
      } else
        p(this, Ka, new mp(u2)), p(this, kh, new mp(h)), p(this, mu, new mp(c2)), o(this, gc).locations.forEach(o(this, HM)), o(this, gc).categories.forEach(o(this, jM));
      o(this, J1).update(performance.now());
    }, "buildIndices")), w(this, _m, 0), w(this, vc, q((t49) => {
      x(this, _m)._++, o(this, J1).scheduleUpdate(new xs({ name: "updateIndex", ordering: 0, frameCount: 1, callback: () => {
        t49(), x(this, _m)._--, 0 === o(this, _m) && o(this, ry).call(this);
      } }));
    }, "#addTask")), w(this, HM, q((t49) => {
      var e10, i10, n10;
      let { SECONDARY_INDEX_WEIGHT: r, LOCATION_DEFAULT_RANK: o3, PRIMARY_INDEX_TAGS_NAME_WEIGHT: s6 } = o(this, Pr).constants, a = o3;
      null != (e10 = o(this, Pr)) && e10.useLocationRank && (a = Array.isArray(t49.polygons) ? Math.max(...t49.polygons.map((t50) => {
        var e11, i11;
        return null != (e11 = t50.rank) && e11.score ? null == (i11 = t50.rank) ? void 0 : i11.score : o3;
      }), o3) : o3), o(this, vc).call(this, () => {
        o(this, Ka).add({ name: mc(t49.name), tags: "", id: "MappedinLocation_" + t49.id, weight: o3, rank: a });
      }), null != (i10 = o(this, Pr)) && i10.searchTags && Array.isArray(t49.tags) && t49.tags.forEach((e11) => {
        o(this, Ka).add({ name: "", tag: mc(e11), id: "MappedinLocation_" + t49.id, weight: s6, rank: a });
      }), null != (n10 = o(this, Pr)) && n10.searchDescriptions && o(this, vc).call(this, () => o(this, kh).add({ description: mc(t49.description || ""), id: "MappedinLocation_" + t49.id, weight: r, rank: a }));
    }, "#processLocation")), w(this, jM, q((t49) => {
      var e10, i10;
      let { CATEGORY_LOCATION_DESCRIPTION_WEIGHT: n10, CATEGORY_LOCATION_TAGS_WEIGHT: r, CATEGORY_LOCATION_NAME_WEIGHT: o3, CATEGORY_NAME_WEIGHT: s6 } = o(this, Pr).constants;
      o(this, vc).call(this, () => o(this, Ka).add({ name: mc(t49.name || ""), description: "", id: "MappedinCategory_" + t49.id, weight: s6 }));
      let a = t49.locations.reduce((t50, e11) => t50 + " ".concat(xm, " ") + e11.name, "") + " ".concat(xm);
      if (null != (e10 = o(this, Pr)) && e10.searchDescriptionsInCategories && t49.locations.forEach((e11) => {
        null != e11.description && o(this, vc).call(this, () => o(this, mu).add({ id: "MappedinCategory_" + t49.id, "category.locations.description": mc(e11.description), ref: e11.name, weight: n10 }));
      }), null != (i10 = o(this, Pr)) && i10.searchTagsInCategories) {
        let e11 = t49.locations.reduce((t50, e12) => {
          var i11;
          return t50 + (null == (i11 = e12.tags) ? void 0 : i11.reduce((t51, e13) => t51 + " ".concat(xm, " ") + e13, "")) + " ".concat(xm);
        }, "");
        o(this, vc).call(this, () => o(this, mu).add({ "category.locations.tags": mc(e11), id: "MappedinCategory_" + t49.id, weight: r }));
      }
      o(this, vc).call(this, () => o(this, mu).add({ "category.locations.name": mc(a), id: "MappedinCategory_" + t49.id, weight: o3 }));
    }, "#processCategory")), w(this, qh, void 0), w(this, ry, void 0), w(this, WM, q((t49) => {
      var e10;
      let i10 = t49.score, { object: n10, id: r, weight: o3, rank: s6 } = t49, [a, l] = r.split("_"), u2 = n10 || o(this, gc).getCollectionItemById($ce[a], l);
      return s6 && null != (e10 = o(this, Pr)) && e10.useLocationRank && (i10 += s6), o3 && (i10 *= o3), { score: i10, type: a, object: u2 };
    }, "#processSearchResult")), w(this, YM, q((t49, e10) => {
      for (let i10 in t49.match)
        t49.match[i10].forEach((n10) => {
          let r = t49.ref || t49[n10] || e10.object[n10];
          if ("category.locations.tags" === n10 || "category.locations.name" === n10) {
            let e11 = new RegExp("[^".concat(xm, "]* ") + i10 + " [^".concat(xm, "]*"), "ig").exec(t49[n10]);
            null != e11 && (r = e11[0].slice(1, -1));
          }
          e10.matches.push({ term: i10, weight: t49.weight, matchesOn: n10, value: r });
        });
    }, "#addMatches")), p(this, bm, Qa.create({ ...t48.options, testMode: false === (null == e6 ? void 0 : e6.emitAnalyticsEvents) })), p(this, Pr, { ...ehe, ...e6 }), p(this, gc, t48), p(this, $1, new Set(null == (i = o(this, Pr)) ? void 0 : i.stopWords));
    let n = o(this, gc).venue.slug;
    o(this, gc).on(0, this.buildIndices), this.buildIndices(), p(this, ty, wm((t49) => {
      o(this, bm).trackSearchSuggest({ query: t49 }), ht.addPendingEvent(new Kv({ venue: n }));
    }, 300)), p(this, ny, wm((t49) => {
      o(this, bm).trackSearch({ query: t49 }), ht.addPendingEvent(new Qv({ venue: n }));
    }, 300)), p(this, iy, wm(() => {
      ht.addPendingEvent(new Xv({ venue: n }));
    }, 300)), ht.addPendingEvent(new Zv({ search_descriptions: o(this, Pr).searchDescriptions, search_tags: o(this, Pr).searchTags, search_descriptions_in_categories: o(this, Pr).searchDescriptionsInCategories, search_tags_in_categories: o(this, Pr).searchTagsInCategories, use_location_rank: o(this, Pr).useLocationRank, venue: n }));
  }
  async suggest(t48) {
    await o(this, qh);
    let { PRIMARY_INDEX_FUZZYNESS: e6, PRIMARY_INDEX_WEIGHT: i, PRIMARY_INDEX_TAGS_NAME_WEIGHT: n, RATIO_OF_FUZZY_TO_EXACT: r, RATIO_OF_PREFIX_TO_EXACT: o3 } = o(this, Pr).constants, s6 = o(this, Ka).autoSuggest(t48, { fields: ["name", "tag", "query"], combineWith: "AND", prefix: true, fuzzy: e6, boost: { name: i, query: i, tag: n }, weights: { fuzzy: r, prefix: o3 } });
    return o(this, ty).call(this, t48), { total: s6.length, hits: s6.map((t49) => ({ text: t49.suggestion })) };
  }
  async search(t48) {
    await o(this, qh);
    let e6 = y(this, XM, lH).call(this, t48);
    return o(this, ny).call(this, t48), e6;
  }
  async toJSON() {
    return await o(this, qh), JSON.stringify({ primary: o(this, Ka), secondary: o(this, kh), extra: o(this, mu) });
  }
  async addQuery(t48) {
    let e6, i, { query: n, object: r, weight: o3 = 1 } = t48;
    await o(this, qh), e6 = r instanceof Ja ? "MappedinLocation" : r instanceof yc ? "MappedinCategory" : "Custom", "MappedinLocation" === e6 || "MappedinCategory" === e6 ? i = e6 + "_" + r.id : "string" == typeof r.id ? i = "Custom_" + r.id : (i = o(this, ey).get(r), i || (i = "Custom_" + Cr(), o(this, ey).set(r, i))), o(this, Ka).add({ id: i, weight: o3, object: r, query: mc(n) }), o(this, iy).call(this);
  }
};
gc = /* @__PURE__ */ new WeakMap(), Ka = /* @__PURE__ */ new WeakMap(), kh = /* @__PURE__ */ new WeakMap(), mu = /* @__PURE__ */ new WeakMap(), Pr = /* @__PURE__ */ new WeakMap(), J1 = /* @__PURE__ */ new WeakMap(), $1 = /* @__PURE__ */ new WeakMap(), bm = /* @__PURE__ */ new WeakMap(), ey = /* @__PURE__ */ new WeakMap(), ty = /* @__PURE__ */ new WeakMap(), ny = /* @__PURE__ */ new WeakMap(), iy = /* @__PURE__ */ new WeakMap(), _m = /* @__PURE__ */ new WeakMap(), vc = /* @__PURE__ */ new WeakMap(), HM = /* @__PURE__ */ new WeakMap(), jM = /* @__PURE__ */ new WeakMap(), qh = /* @__PURE__ */ new WeakMap(), ry = /* @__PURE__ */ new WeakMap(), WM = /* @__PURE__ */ new WeakMap(), YM = /* @__PURE__ */ new WeakMap(), XM = /* @__PURE__ */ new WeakSet(), lH = q(function(t48) {
  let e6 = [], i = mc(t48);
  e6 = [...o(this, Ka).search(i), ...o(this, kh).search(i), ...o(this, mu).search(i)].sort((t49, e10) => e10.score - t49.score);
  let n = {};
  for (let t49 of e6) {
    let e10 = o(this, WM).call(this, t49);
    n[t49.id] ? n[t49.id].score += e10.score : n[t49.id] = { ...e10, matches: [] }, o(this, YM).call(this, t49, n[t49.id]);
  }
  return Object.keys(n).map((t49) => ({ ...n[t49], matches: n[t49].matches.sort((t50, e10) => e10.weight - t50.weight) })).sort((t49, e10) => e10.score - t49.score);
}, "#doSearch"), q(C5, "OfflineSearch");
var K1 = C5;
c();
var xc = ((t48) => (t48.MULTI_GEOMETRY = "MULTI_GEOMETRY", t48.SINGLE_GEOMETRY = "SINGLE_GEOMETRY", t48))(xc || {});
c();
var oy;
var ay;
var ly;
var Mm;
var sy = class t3 {
  constructor(t48, e6) {
    w(this, oy, void 0), w(this, ay, void 0), w(this, ly, void 0), w(this, Mm, {}), v(this, "defaultMap", ""), v(this, "address", ""), v(this, "city", ""), v(this, "countrycode", ""), v(this, "externalId", ""), v(this, "id", ""), v(this, "latitude"), v(this, "logo"), v(this, "longitude"), v(this, "name", ""), v(this, "operationHours"), v(this, "postal", ""), v(this, "slug", ""), v(this, "state", ""), v(this, "telephone", ""), v(this, "tzid", ""), v(this, "tzidOverride", ""), v(this, "utcOffset", ""), v(this, "website", ""), v(this, "secureContentStorage", false), v(this, "defaultLanguage"), v(this, "languages", []), v(this, "topLocations", []), p(this, ay, t48), p(this, oy, e6), Object.assign(this, e6);
  }
  get metadata() {
    return ht.addPendingEvent(new bv({ venue: this.slug })), o(this, ly);
  }
  set metadata(t48) {
    p(this, ly, t48);
  }
  static hydrate(e6, i) {
    return new t3(i, e6);
  }
  static async fetch(e6) {
    let i = { fields: e6.options.things.venue, slug: e6.options.venue, limit: 1 };
    try {
      let n = await Ir(e6.options, "venue", i);
      return new t3(e6, Array.isArray(n) ? n[0] : n);
    } catch (t48) {
      return Le.error("Fetch Venue:", t48), {};
    }
  }
  get isMultiBuilding() {
    if (null == o(this, Mm).isMultiBuilding) {
      let t48 = o(this, ay).maps, e6 = t48.reduce((t49, e10) => t49.add(e10.elevation), /* @__PURE__ */ new Set()), i = t48.length !== e6.size;
      o(this, Mm).isMultiBuilding = i;
    }
    return o(this, Mm).isMultiBuilding;
  }
  toJSON() {
    return o(this, oy);
  }
};
oy = /* @__PURE__ */ new WeakMap(), ay = /* @__PURE__ */ new WeakMap(), ly = /* @__PURE__ */ new WeakMap(), Mm = /* @__PURE__ */ new WeakMap(), q(sy, "MappedinVenue");
var bc = sy;
var P5 = globalThis.fetch;
function _o() {
  if (null == P5)
    throw new Error("fetch is not available in your environment. Pass your own function into `setFetchFn` (node-fetch, etc)");
  return P5;
}
function the(t48) {
  P5 = t48;
}
q(_o, "isomorphicFetch"), q(the, "setFetchFn");
var uH;
var nhe = null == (uH = null == e ? void 0 : e.env) ? void 0 : uH.npm_package_version;
globalThis.btoa || (globalThis.btoa = cH.encode);
var ihe = ["ar"];
function vp(t48) {
  let e6 = { ...u5, things: XV, ...t48 };
  return e6.headers = { ...e6.headers, "mappedin-sdk-version": nhe }, t48.platformString && (e6.headers = { ...e6.headers, "mappedin-platform-version": t48.platformString }), e6.noAuth || (e6.accessToken ? e6.authorization = "Bearer ".concat(e6.accessToken) : e6.clientId && e6.clientSecret && (e6.authorization = "Basic ".concat(globalThis.btoa("".concat(e6.clientId, ":").concat(e6.clientSecret))))), e6;
}
function hH(t48) {
  return t48.endsWith("/") ? t48 : "".concat(t48, "/");
}
async function rhe(t48) {
  let e6 = { emitAnalyticsEvents: true, version: "2.0.0", ...t48 }, i = vp({ ...e6 }), n = new sa(i), r = await mH(i);
  if ("1.0.0" === i.version) {
    let t49 = kV(await NV(r));
    return n.hydrateFromMVFv1(t49), n;
  }
  let o3 = BV(s5(await r5(r)), i.override);
  return "function" == typeof e6.onMVFParsed && e6.onMVFParsed(o3), await n.hydrateFromMVF(o3), ht.addPendingEvent(new lv({ venue: i.venue })), n;
}
async function she(t48) {
  let e6 = { emitAnalyticsEvents: true, clientId: t48.key, clientSecret: t48.secret, venue: t48.mapId, ...t48 }, i = vp({ ...e6 }), n = new sa(i);
  try {
    if (!i.key)
      throw new Error("key is required.");
    if (!i.secret)
      throw new Error("secret is required.");
    if (!i.mapId)
      throw new Error("mapId is required.");
    let t49 = await che(i), r = s5(await r5(t49));
    "function" == typeof e6.onMVFParsed && e6.onMVFParsed(r), n.hydrateFromMVF(r);
  } catch (t49) {
    Le.error("Failed to get Maker map data.", t49);
  }
  return n;
}
async function fH(t48) {
  let e6 = { emitAnalyticsEvents: true, secure: true, ...t48 }, i = vp({ baseUrl: "https://api-gateway.mappedin.com/", ...e6 }), n = "public/1/".concat(i.useDraftData ? "draft/" : ""), r = new sa({ ...i, baseUrl: i.baseUrl + n });
  return await r.fetch(), e6.emitAnalyticsEvents, ht.addPendingEvent(new av({ venue: i.venue })), r;
}
q(vp, "parseOptions"), q(hH, "normalizeUrl"), q(rhe, "getVenueMVF"), q(she, "getVenueMaker"), q(fH, "getVenue");
var I5 = { shouldPopulateBundledImagesAsBlobs: !(typeof globalThis.navigator < "u" && "ReactNative" == globalThis.navigator.product) };
async function pH(t48) {
  let e6 = vp({ baseUrl: "https://api-gateway.mappedin.com/", ...I5, ...t48 }), { url: i, updated_at: n } = await dH(t48), r = await _o()(i, { mode: "cors" }), { data: o3, format: s6 = "jsonstring" } = await r.json();
  if ("jsonstring" !== s6)
    throw new Error("Unrecognized format ".concat(s6));
  let a = new sa(e6);
  return await a.hydrate(o3, e6.shouldPopulateBundledImagesAsBlobs), a.updatedAt = n, a;
}
async function dH(t48) {
  let e6 = vp({ baseUrl: "https://api-gateway.mappedin.com/", ...I5, ...t48 }), { version: i, venue: n } = t48, r = "".concat(t48.bundleBaseUri || e6.baseUrl + "exports/legacy".concat(null != e6.language && ihe.includes(e6.language) ? "-" + e6.language : "", "/1/bundle"), "?venue=").concat(n, "&version=1.0.0");
  return e6.language = void 0, await ZM(e6, r);
}
async function ohe(t48, { url: e6, updated_at: i }) {
  let n = vp({ baseUrl: "https://api-gateway.mappedin.com/", ...I5, ...t48 }), r = await _o()(e6, { mode: "cors" }), { data: o3, format: s6 = "jsonstring" } = await r.json();
  if ("jsonstring" !== s6)
    throw new Error("Unrecognized format".concat(s6));
  let a = new sa(n);
  return await a.hydrate(o3, n.shouldPopulateBundledImagesAsBlobs), a.updatedAt = i, a;
}
async function ahe(t48) {
  var e6;
  let i = vp({ baseUrl: "https://api-gateway.mappedin.com/", ...u5, ...t48 }), n = "".concat(i.bundleBaseUri || i.baseUrl + "exports/mvf/1/bundle", "?venue=").concat(i.venue, "&version=").concat(null != (e6 = i.version) ? e6 : "2.0.0");
  return i.headers["Content-Type"] = "application/zip", await ZM(i, n);
}
async function mH(t48) {
  return new Promise(async (e6, i) => {
    try {
      let { url: i10 } = await ahe(t48), n = await _o()(i10).then((t49) => t49.arrayBuffer());
      e6(new Uint8Array(n));
    } catch (t49) {
      i(t49);
    }
  });
}
async function lhe(t48) {
  let e6 = "".concat(t48.authBaseUri ? hH(t48.authBaseUri) : "https://auth-maker.mappedin.com/", "api-key/token"), i = await _o()(e6, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ key: t48.key, secret: t48.secret }) });
  if (!i.ok)
    throw new Error("".concat(i.status, " ").concat(i.statusText));
  return i.json();
}
async function uhe(t48, e6) {
  let i = "".concat(t48.bundleBaseUri ? hH(t48.bundleBaseUri) : "https://maker.mappedin.com/", "api/venue/").concat(t48.mapId, "/mvf"), n = await _o()(i, { headers: { Authorization: "Bearer ".concat(e6) } });
  if (!n.ok)
    throw new Error("".concat(n.status, " ").concat(n.statusText));
  return n.json();
}
async function che(t48) {
  return new Promise(async (e6, i) => {
    try {
      let { access_token: i10 } = await lhe(t48), { url: n } = await uhe(t48, i10), r = await _o()(n).then((t49) => t49.arrayBuffer());
      e6(new Uint8Array(r));
    } catch (t49) {
      i(t49);
    }
  });
}
async function hhe(t48, e6 = true) {
  let i = new sa({ venue: "" });
  return await i.hydrate(t48, e6), i;
}
q(pH, "getVenueBundle"), q(dH, "getVenueBundleURL"), q(ohe, "downloadBundle"), q(ahe, "getVenueMVFURL"), q(mH, "downloadVenueBundleMVF"), q(lhe, "getMakerAccessToken"), q(uhe, "getMakerBundleURL"), q(che, "downloadMakerMVF"), q(hhe, "hydrateVenue");
var _c;
var wp;
var Ol;
var Tm;
var gu;
var KM;
var _H;
var JM;
var wH;
var cy;
var D5;
var hy;
var N5;
var Ll;
var bH = u(gH());
var vH = "5.25.0";
var phe = "https://api2.amplitude.com/2/httpapi";
var dhe = "https://api2.amplitude.com/batch";
var mhe = "__unspecified__";
var O5 = { branch: "main", version: "0", source: "websdk" };
var Ho = class t6 {
  constructor() {
    w(this, KM), w(this, JM), w(this, cy), w(this, hy), w(this, Ol, {}), w(this, Tm, false), w(this, gu, void 0), w(this, Ll, q(async (t48) => {
      vhe(t48.type) && (window.removeEventListener("visibilitychange", o(this, Ll)), window.removeEventListener("pagehide", o(this, Ll)), window.removeEventListener("beforeunload", o(this, Ll)), window.removeEventListener("unload", o(this, Ll)), await this.sendAllPendingEvents());
    }, "#handlePageUnload")), null == o(t6, wp) && p(t6, wp, vH), typeof navigator < "u" && null != navigator.userAgent && p(this, gu, new bH.UAParser(navigator.userAgent).getResult());
  }
  static setContext(e6) {
    p(t6, _c, e6);
  }
  static setVersion(e6) {
    p(t6, wp, e6);
  }
  addPendingEvent(e6) {
    var i;
    if (null == o(t6, _c))
      return;
    let n = e6.event_type;
    if (!y(this, JM, wH).call(this, e6))
      return;
    null == e6.event_properties && (e6.event_properties = {});
    let r = o(this, Ol)[n];
    (0, xH.default)(e6.event_properties, null != (i = null == r ? void 0 : r.event_properties) ? i : {}), o(this, Ol)[n] = e6;
  }
  async sendAllPendingEvents() {
    if (null == o(t6, _c) || Object.keys(o(this, Ol)).length < 1)
      return;
    if (o(this, Tm))
      return void Le.warn("The current batch of analytics is already sending. Wait until this finishes before trying to send again.");
    let e6 = [];
    for (let t48 in o(this, Ol)) {
      let i = o(this, Ol)[t48], n = y(this, cy, D5).call(this, i);
      null != n && e6.push(n);
    }
    if (!(e6.length < 1))
      try {
        p(this, Tm, true), 200 === (await y(this, hy, N5).call(this, dhe, e6)).status && p(this, Ol, {});
      } catch (t48) {
        Le.warn("Error sending batch product analytics!", t48);
      } finally {
        p(this, Tm, false);
      }
  }
  async load() {
    if (!Jv.isLoaded) {
      let { promise: t48 } = Jv.load({ environment: "production", client: { configuration: { trackingOptions: { osName: true } } } });
      t48.then(() => {
        window.addEventListener("pagehide", o(this, Ll)), window.addEventListener("beforeunload", o(this, Ll)), window.addEventListener("unload", o(this, Ll)), window.addEventListener("visibilitychange", o(this, Ll));
      });
    }
  }
  async sendEventNow(e6) {
    if (null == o(t6, _c))
      return;
    let i = y(this, cy, D5).call(this, e6);
    if (null != i)
      try {
        await y(this, hy, N5).call(this, phe, [i]);
      } catch (t48) {
        Le.warn("Error sending single product analytics event!", t48);
      }
  }
};
_c = /* @__PURE__ */ new WeakMap(), wp = /* @__PURE__ */ new WeakMap(), Ol = /* @__PURE__ */ new WeakMap(), Tm = /* @__PURE__ */ new WeakMap(), gu = /* @__PURE__ */ new WeakMap(), KM = /* @__PURE__ */ new WeakSet(), _H = q(function(t48) {
  let e6 = t48.event_type;
  return null != o(this, Ol)[e6];
}, "#isEventTypePending"), JM = /* @__PURE__ */ new WeakSet(), wH = q(function(t48) {
  if (!y(this, KM, _H).call(this, t48))
    return true;
  let e6 = t48.event_type, i = o(this, Ol)[e6];
  return !(0, yH.default)(i.event_properties, t48.event_properties);
}, "#didEventPropertiesChange"), cy = /* @__PURE__ */ new WeakSet(), D5 = q(function(t48) {
  var e6, i, n, r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m, v4;
  if (null != o(Ho, _c))
    return null == (null == (e6 = t48.event_properties) ? void 0 : e6.venue) && Le.warn("Error processing product analytics event! Unspecified venue slug", t48), null == Id.plan && Le.warn("Error processing product analytics event! Unknown coinfiguration plan", t48), { event_type: t48.event_type, session_id: null != (i = Jv.client.getSessionId()) ? i : eE(), device_id: null != (n = Jv.client.getDeviceId()) ? n : $M(), plan: { branch: null != (o3 = null == (r = Id.plan) ? void 0 : r.branch) ? o3 : O5.branch, version: null != (a = null == (s6 = Id.plan) ? void 0 : s6.version) ? a : O5.version, source: null != (u2 = null == (l = Id.plan) ? void 0 : l.source) ? u2 : O5.source }, os_name: null == (h = o(this, gu)) ? void 0 : h.browser.name, os_version: null == (c2 = o(this, gu)) ? void 0 : c2.browser.version, device_manufacturer: null == (p4 = o(this, gu)) ? void 0 : p4.device.vendor, device_model: null == (d = o(this, gu)) ? void 0 : d.device.model, event_properties: { ...t48.event_properties, context: o(Ho, _c), sdk_version: o(Ho, wp), browser_name: null == (f = o(this, gu)) ? void 0 : f.browser.name, browser_version: null == (g = o(this, gu)) ? void 0 : g.browser.version, venue: null != (v4 = null == (m = t48.event_properties) ? void 0 : m.venue) ? v4 : mhe }, time: t48.time };
}, "#makeBatchFormattedEvent"), hy = /* @__PURE__ */ new WeakSet(), N5 = q(async function(t48, e6) {
  return await _o()(t48, { method: "POST", mode: "cors", headers: { "Content-Type": "application/json", Accept: "*/*" }, body: JSON.stringify({ api_key: BA.production, events: e6 }) });
}, "#batchSend"), Ll = /* @__PURE__ */ new WeakMap(), q(Ho, "ProductAnalytics"), w(Ho, _c, void 0), w(Ho, wp, void 0);
var L5 = Ho;
var ghe = new L5();
var ht = ghe;
function vhe(t48) {
  return "beforeunload" === t48 || "pagehide" === t48 || "unload" === t48 || "hidden" === document.visibilityState;
}
q(vhe, "areWeLeavingThePage");
var el;
var Sm;
var oo;
var py;
var fy = class t7 extends ja {
  constructor(t48, e6) {
    super(t48), w(this, el, void 0), w(this, Sm, void 0), w(this, oo, {}), v(this, "id", ""), v(this, "x", 0), v(this, "y", 0), v(this, "operationHours"), v(this, "externalId"), w(this, py, void 0), p(this, el, t48), p(this, Sm, e6);
    let i = Object.assign({}, e6);
    delete i.map, Object.assign(this, i);
  }
  get map() {
    let t48 = o(this, oo).map;
    if (typeof t48 < "u")
      return t48;
    let e6 = o(this, el).getCollectionItemById("maps", o(this, Sm).map);
    return o(this, oo).map = e6, e6;
  }
  get lat() {
    var t48;
    let e6 = o(this, oo).cachedLatLon;
    if (null != e6)
      return e6.lat;
    let i = null == (t48 = o(this, el)._mapsById) ? void 0 : t48[this.map.id];
    if (null == i)
      throw new Error("Map not found");
    return o(this, oo).cachedLatLon = i.createCoordinateByXY(this.x, this.y), o(this, oo).cachedLatLon.lat;
  }
  get lon() {
    var t48;
    let e6 = o(this, oo).cachedLatLon;
    if (null != e6)
      return e6.lon;
    let i = null == (t48 = o(this, el)._mapsById) ? void 0 : t48[this.map.id];
    if (null == i)
      throw new Error("Map not found");
    return o(this, oo).cachedLatLon = i.createCoordinateByXY(this.x, this.y), o(this, oo).cachedLatLon.lon;
  }
  get paths() {
    let t48 = o(this, oo).paths;
    if (typeof t48 < "u")
      return t48;
    let e6 = [], i = o(this, el)._nodesById, n = o(this, py);
    if (Array.isArray(n))
      for (let t49 = 0, r = n.length; t49 < r; ++t49) {
        let r6 = i[n[t49].node];
        null != r6 && e6.push(r6);
      }
    return o(this, oo).paths = e6, e6;
  }
  set paths(t48) {
    p(this, py, t48);
  }
  get locations() {
    var t48, e6, i;
    let n = o(this, oo).locations;
    if (typeof n < "u")
      return n;
    let r = [], o3 = null != (i = null == (e6 = null == (t48 = bo.instances.get(o(this, el))) ? void 0 : t48.locationsByMapId) ? void 0 : e6.get(this.map.id)) ? i : [], s6 = this.id;
    for (let t49 = 0, e10 = o3.length; t49 < e10; ++t49) {
      let e11 = o3[t49], i10 = e11.nodes;
      if (Array.isArray(i10)) {
        for (let t50 = 0, n10 = i10.length; t50 < n10; ++t50)
          if (i10[t50].id === s6) {
            r.push(e11);
            break;
          }
      }
    }
    return o(this, oo).locations = r, r;
  }
  get polygon() {
    var t48, e6, i;
    let n = o(this, oo).polygon;
    if (typeof n < "u")
      return n;
    let r, o3 = null != (i = null == (e6 = null == (t48 = bo.instances.get(o(this, el))) ? void 0 : t48.polygonsByMapId) ? void 0 : e6.get(this.map.id)) ? i : [], s6 = this.id;
    for (let t49 = 0, e10 = o3.length; t49 < e10; ++t49) {
      let e11 = o3[t49];
      e11.entrances.map((t50) => t50.id).includes(s6) && (r = e11);
    }
    return o(this, oo).polygon = r, r;
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t7(i, e10));
  }
  static async fetch(e6) {
    let i = e6.options.things.nodes.slice();
    e6.options.things.maps && Or(i, "map"), ["weight", "multiplier", "accessible"].forEach(function(t48) {
      Or(i, t48);
    });
    let n = { fields: i, venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "node", n)).map((i10) => new t7(e6, i10));
    } catch (t48) {
      return Le.error("Fetch Nodes:", t48), [];
    }
  }
  directionsTo(t48, e6) {
    let i = t48 instanceof ia, n = o(this, el).venue.slug, r = new gv({ with_destination_set: i || void 0, venue: n });
    return ht.addPendingEvent(r), super.directionsTo(t48, e6);
  }
  distanceTo(t48, e6) {
    let i = o(this, el).venue.slug;
    return ht.addPendingEvent(new vv({ venue: i })), super.distanceTo(t48, e6);
  }
  toJSON() {
    return o(this, Sm);
  }
};
el = /* @__PURE__ */ new WeakMap(), Sm = /* @__PURE__ */ new WeakMap(), oo = /* @__PURE__ */ new WeakMap(), py = /* @__PURE__ */ new WeakMap(), q(fy, "MappedinNode");
var Fs = fy;
c();
var vu;
var Am;
var tl;
var my;
var dy = class t8 extends ja {
  constructor(t48, e6) {
    super(t48), w(this, vu, void 0), w(this, Am, void 0), w(this, tl, {}), v(this, "geometry"), v(this, "perspectives"), v(this, "image"), v(this, "holes"), v(this, "textures"), v(this, "material"), v(this, "label"), v(this, "id", ""), v(this, "layer"), v(this, "layerId"), v(this, "name"), v(this, "externalId"), v(this, "vertexes"), v(this, "center"), v(this, "canvasBounds"), v(this, "categoryRank"), w(this, my, void 0), p(this, vu, t48), p(this, Am, e6);
    let i = Object.assign({}, e6);
    delete i.map, Object.assign(this, i);
  }
  get map() {
    let t48 = o(this, tl).map;
    if (typeof t48 < "u")
      return t48;
    let e6 = o(this, vu).getCollectionItemById("maps", o(this, Am).map);
    return o(this, tl).map = e6, e6;
  }
  get locations() {
    var t48, e6;
    let i = o(this, tl).locations;
    if (typeof i < "u")
      return i;
    let n = [], r = null != (e6 = null == (t48 = bo.instances.get(o(this, vu))) ? void 0 : t48.locationsByMapId.get(this.map.id)) ? e6 : [], { id: o3 } = this;
    for (let t49 = 0, e10 = r.length; t49 < e10; ++t49) {
      let e11 = r[t49], i10 = e11.polygons;
      if (Array.isArray(i10)) {
        for (let t50 = 0, r6 = i10.length; t50 < r6; ++t50)
          if (i10[t50].id === o3) {
            n.push(e11);
            break;
          }
      }
    }
    return o(this, tl).locations = n, n;
  }
  get entrances() {
    let t48 = o(this, tl).entrances;
    if (typeof t48 < "u")
      return t48;
    let e6 = [], i = o(this, my), n = o(this, vu)._nodesById;
    if (Array.isArray(i)) {
      for (let t49 = 0, r = i.length; t49 < r; ++t49) {
        let r6 = n[i[t49].id];
        null != r6 && e6.push(r6);
      }
      return o(this, tl).entrances = e6, e6;
    }
    return [];
  }
  set entrances(t48) {
    p(this, my, t48);
  }
  get rank() {
    let t48 = o(this, tl).rank;
    if (typeof t48 < "u")
      return t48;
    let { rankings: e6 } = o(this, vu);
    if (!e6 || !e6.polygons)
      return null;
    let i = e6.polygons.find((t49) => t49.polygonId === this.id);
    return i ? (o(this, tl).rank = { score: i.score, node: i.entranceNodeId }, { score: i.score, node: i.entranceNodeId }) : (o(this, tl).rank = null, null);
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t8(i, e10));
  }
  static async fetch(e6) {
    let i = e6.options.things.polygons.slice();
    e6.options.things.maps && Or(i, "map"), e6.options.things.nodes && Or(i, "entrances");
    let n = { fields: i, venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "polygon", n)).map((i10) => new t8(e6, i10));
    } catch (t48) {
      return Le.error("Fetch Polygons:", t48), [];
    }
  }
  directionsTo(t48, e6) {
    let i = t48 instanceof ia, n = o(this, vu).venue.slug, r = new yv({ with_destination_set: i || void 0, venue: n });
    return ht.addPendingEvent(r), super.directionsTo(t48, e6);
  }
  distanceTo(t48, e6) {
    let i = o(this, vu).venue.slug;
    return ht.addPendingEvent(new xv({ venue: i })), super.distanceTo(t48, e6);
  }
  toJSON() {
    return o(this, Am);
  }
};
vu = /* @__PURE__ */ new WeakMap(), Am = /* @__PURE__ */ new WeakMap(), tl = /* @__PURE__ */ new WeakMap(), my = /* @__PURE__ */ new WeakMap(), q(dy, "MappedinPolygon");
var $a = dy;
c();
var yhe = 0;
var xhe = "9999-12-31T00:00:00.000Z";
function bhe(t48, e6, i = /* @__PURE__ */ new Date()) {
  if (!t48.states)
    return;
  let n = i || /* @__PURE__ */ new Date(), r = t48.states.find((t49) => {
    let e10 = new Date(t49.start || yhe), i10 = new Date(t49.end || xhe);
    return e10 < n && i10 > n;
  });
  return r ? e6.find((t49) => t49.value === r.type) : void 0;
}
q(bhe, "getCurrentLocationState");
var Ea;
var Uh;
var Ta;
var gy;
var vy;
var yy;
var Cm = class t9 extends ja {
  constructor(t48, e6) {
    super(t48), w(this, Ea, void 0), w(this, Uh, void 0), w(this, Ta, {}), v(this, "states"), v(this, "id", ""), v(this, "name", ""), v(this, "type", ""), v(this, "description"), v(this, "sortOrder"), v(this, "logo"), v(this, "phone"), v(this, "social"), v(this, "color"), v(this, "shortName"), v(this, "detailsUrl"), v(this, "tags"), v(this, "toMap"), v(this, "externalId"), v(this, "showLabelWhenImagePresent"), v(this, "showSmartLabelWhenImagePresent"), v(this, "picture"), v(this, "operationHours"), v(this, "siblingGroups"), v(this, "gallery"), v(this, "amenity"), w(this, gy, void 0), w(this, vy, []), w(this, yy, void 0), p(this, Ea, t48), p(this, Uh, e6);
    let i = Object.assign({}, e6);
    delete i.categories, Object.assign(this, i);
  }
  get polygons() {
    let t48 = o(this, Ta).polygons;
    if (typeof t48 < "u")
      return t48;
    let e6 = [], i = o(this, gy), n = o(this, Ea)._polygonsById;
    if (Array.isArray(i))
      for (let t49 = 0, r = i.length; t49 < r; ++t49) {
        let r6 = n[i[t49].id];
        null != r6 && e6.push(r6);
      }
    return o(this, Ta).polygons = e6, e6;
  }
  set polygons(t48) {
    p(this, gy, t48);
  }
  get nodes() {
    let t48 = o(this, Ta).nodes;
    if (typeof t48 < "u")
      return t48;
    let e6 = [], i = o(this, vy), n = o(this, Ea)._nodesById;
    if (i && i.length)
      for (let t49 = 0, r = i.length; t49 < r; ++t49) {
        let r6 = n[i[t49].node];
        null != r6 && e6.push(r6);
      }
    return o(this, Ta).nodes = e6, e6;
  }
  set nodes(t48) {
    p(this, vy, t48);
  }
  get parent() {
    let t48 = o(this, Ta).parent;
    if (typeof t48 < "u")
      return t48;
    let e6, i = o(this, Ea)._locationsById, n = o(this, yy);
    return void 0 !== n && (e6 = i[n]), o(this, Ta).parent = e6, e6;
  }
  set parent(t48) {
    p(this, yy, t48);
  }
  get categories() {
    let t48 = o(this, Ta).categories;
    if (typeof t48 < "u")
      return t48;
    let e6 = [];
    return o(this, Uh).categories.forEach((t49) => {
      let i = o(this, Ea).getCollectionItemById("categories", t49);
      i && e6.push(i);
    }), o(this, Ta).categories = e6, e6;
  }
  get state() {
    return bhe(this, o(this, Ea).locationStates);
  }
  clone() {
    let e6 = o(this, Ea).venue.slug;
    return ht.addPendingEvent(new pv({ venue: e6 })), new t9(o(this, Ea), o(this, Uh));
  }
  get nodeOperationHours() {
    let t48 = o(this, Ta).nodeOperationHours;
    if (typeof t48 < "u")
      return t48;
    if (null == this.nodes)
      return {};
    let e6 = o(this, Uh).nodes.reduce((t49, e10) => (null != e10.operationHours && (t49[e10.node] = e10.operationHours), t49), {});
    return o(this, Ta).nodeOperationHours = e6, e6;
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t9(i, e10));
  }
  static async fetch(e6) {
    let i = e6.options.things.locations.slice();
    e6.options.things.categories && Or(i, "categories"), e6.options.things.nodes && Or(i, "nodes"), e6.options.things.polygons && Or(i, "polygons"), e6.options.things.locationStates && Or(i, "states");
    let n = { fields: i, venue: e6.options.venue };
    try {
      let i10 = await Ir(e6.options, "location", n);
      return e6.options.includeHidden || (i10 = i10.filter((t48) => !t48.hidden)), i10.map((i11) => new t9(e6, i11));
    } catch (t48) {
      return Le.error("Fetch Locations:", t48), [];
    }
  }
  directionsTo(t48, e6) {
    let i = t48 instanceof ia, n = o(this, Ea).venue.slug, r = new dv({ with_destination_set: i || void 0, venue: n });
    return ht.addPendingEvent(r), super.directionsTo(t48, e6);
  }
  distanceTo(t48, e6) {
    let i = o(this, Ea).venue.slug;
    return ht.addPendingEvent(new mv({ venue: i })), super.distanceTo(t48, e6);
  }
  toJSON() {
    let t48 = o(this, Uh);
    return delete t48.color, t48;
  }
};
Ea = /* @__PURE__ */ new WeakMap(), Uh = /* @__PURE__ */ new WeakMap(), Ta = /* @__PURE__ */ new WeakMap(), gy = /* @__PURE__ */ new WeakMap(), vy = /* @__PURE__ */ new WeakMap(), yy = /* @__PURE__ */ new WeakMap(), q(Cm, "MappedinLocation");
var Ja = Cm;
c();
var Pm;
var Mp;
var by;
var xy = class t10 {
  constructor(t48, e6) {
    w(this, Pm, void 0), w(this, Mp, {}), w(this, by, void 0), v(this, "name"), v(this, "externalId"), v(this, "parents"), v(this, "id"), v(this, "icon"), v(this, "iconFromDefaultList"), v(this, "sortOrder"), this.id = e6.id, p(this, by, e6), p(this, Pm, t48), Object.assign(this, e6);
  }
  get locations() {
    var t48;
    let e6 = o(this, Mp).locations;
    if (typeof e6 < "u")
      return e6;
    let i = [], { locations: n } = o(this, Pm), { id: r } = this;
    for (let e10 = 0, o3 = n.length; e10 < o3; ++e10) {
      let o6 = n[e10], s6 = o6.categories;
      if (Array.isArray(s6)) {
        for (let e11 = 0, n10 = s6.length; e11 < n10; ++e11)
          if ((null == (t48 = s6[e11]) ? void 0 : t48.id) === r) {
            i.push(o6);
            break;
          }
      }
    }
    return o(this, Mp).locations = i, i;
  }
  get children() {
    var t48;
    let e6 = o(this, Mp).children;
    if (typeof e6 < "u")
      return e6;
    let { categories: i } = o(this, Pm), { id: n } = this, r = [];
    for (let e10 = 0; e10 < i.length; e10++)
      n && null != (t48 = i[e10].parents) && t48.includes(n) && r.push(i[e10]);
    return o(this, Mp).children = r, r;
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t10(i, e10));
  }
  static async fetch(e6) {
    let i = { fields: e6.options.things.categories, venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "category", i)).map((i10) => new t10(e6, i10));
    } catch (t48) {
      return Le.error("Fetch Categories:", t48), [];
    }
  }
  toJSON() {
    return o(this, by);
  }
};
Pm = /* @__PURE__ */ new WeakMap(), Mp = /* @__PURE__ */ new WeakMap(), by = /* @__PURE__ */ new WeakMap(), q(xy, "MappedinCategory");
var yc = xy;
c();
var _y;
var wc;
var R5 = class {
  constructor(t48, e6) {
    w(this, _y, void 0), w(this, wc, void 0), v(this, "distance", 0), v(this, "path", []), v(this, "instructions", []), p(this, wc, t48), p(this, _y, e6), this.distance = e6.distance, this.instructions = e6.instructions.map((t49) => {
      var e10, i, n, r, o3, s6, a, l, u2, h, c2, p4;
      let d = { ...t49, action: { ...t49.action }, atLocation: null != (e10 = t49.atLocation) && e10.id ? null == (n = null == (i = o(this, wc)) ? void 0 : i._vortexesById) ? void 0 : n[t49.atLocation.id] : void 0, node: null != (r = t49.node) && r.id ? null == (s6 = null == (o3 = o(this, wc)) ? void 0 : o3._nodesById) ? void 0 : s6[t49.node.id] : void 0 };
      if ("TakeVortex" === (null == (a = d.action) ? void 0 : a.type) || "ExitVortex" === (null == (l = d.action) ? void 0 : l.type)) {
        let t50 = null == (h = o(this, wc)._mapsById) ? void 0 : h[null == (u2 = d.action) ? void 0 : u2.fromMap.id], e11 = null == (p4 = o(this, wc)._mapsById) ? void 0 : p4[null == (c2 = d.action) ? void 0 : c2.toMap.id];
        t50 && e11 && (d.action.fromMap = t50, d.action.toMap = e11);
      }
      return d;
    }), this.path = e6.path.reduce((t49, { id: e10 }) => {
      var i, n;
      let r = null == (n = null == (i = o(this, wc)) ? void 0 : i._nodesById) ? void 0 : n[e10];
      return r && t49.push(r), t49;
    }, []);
  }
  toJSON() {
    return o(this, _y);
  }
};
_y = /* @__PURE__ */ new WeakMap(), wc = /* @__PURE__ */ new WeakMap(), q(R5, "MappedinDirections");
var tc = R5;
c();
var B5 = class {
  constructor(t48) {
    v(this, "destinations", []), this.destinations = t48;
  }
};
q(B5, "MappedinDestinationSet");
var ia = B5;
c();
var My;
var wy = class t11 {
  constructor(t48) {
    v(this, "id", ""), w(this, My, void 0), v(this, "accessible"), v(this, "name"), v(this, "type"), v(this, "weight"), v(this, "multiplier"), v(this, "nodes"), p(this, My, t48), Object.assign(this, t48);
  }
  static hydrate(e6) {
    return e6.map((e10) => new t11(e10));
  }
  static async fetch(e6) {
    let i = e6.options.things.vortexes.slice();
    ["name", "type", "accessible", "weight", "multiplier", "nodes"].forEach(function(t48) {
      Or(i, t48);
    });
    let n = { fields: i, venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "vortex", n)).map((e10) => new t11(e10));
    } catch (t48) {
      return Le.error("Fetch Vortexes:", t48), [];
    }
  }
  toJSON() {
    return o(this, My);
  }
};
My = /* @__PURE__ */ new WeakMap(), q(wy, "MappedinVortex");
var yp = wy;
c();
var Ty;
var Ey = class t12 {
  constructor(t48) {
    v(this, "id", ""), w(this, Ty, void 0), p(this, Ty, t48), Object.assign(this, t48);
  }
  static hydrate(e6) {
    return e6.map((e10) => new t12(e10));
  }
  static async fetch(e6) {
    let i = { fields: e6.options.things.themes.slice(), venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "apollo-theme", i)).map((e10) => new t12(e10));
    } catch (t48) {
      return Le.error("Fetch Theme:", t48), [];
    }
  }
  toJSON() {
    return o(this, Ty);
  }
};
Ty = /* @__PURE__ */ new WeakMap(), q(Ey, "MappedinTheme");
var tE = Ey;
c();
var Ay;
var Sy = class t13 {
  constructor(t48) {
    w(this, Ay, void 0), v(this, "polygons", []), p(this, Ay, t48), Object.assign(this, t48);
  }
  static hydrate(e6) {
    return new t13(e6);
  }
  static async fetch(e6) {
    try {
      let i = await gm({ ...e6.options, secure: false }, "smart-labels/polygon-label-ranking", { venue: e6.options.venue }, true);
      return new t13(i);
    } catch (t48) {
      return Le.error("Fetch Rankings:", t48), null;
    }
  }
  toJSON() {
    return o(this, Ay);
  }
};
Ay = /* @__PURE__ */ new WeakMap(), q(Sy, "MappedinRankings");
var xp = Sy;
c(), c();
var Py;
var Im;
var Iy;
var Cy = class t14 {
  constructor(t48, e6) {
    w(this, Py, void 0), w(this, Im, void 0), w(this, Iy, {}), v(this, "id", ""), v(this, "type", ""), v(this, "name", ""), v(this, "description"), v(this, "image"), v(this, "startDate"), v(this, "endDate"), v(this, "showDate"), p(this, Im, e6), p(this, Py, t48), Object.assign(this, e6);
  }
  location() {
    let t48 = o(this, Iy).location;
    if (typeof t48 < "u")
      return t48;
    let e6, i = o(this, Py)._locationsById, n = o(this, Im).location;
    if (null != n) {
      let t49 = i[n];
      null != t49 && (e6 = t49);
    }
    return o(this, Iy).location = e6, e6;
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t14(i, e10));
  }
  static async fetch(e6) {
    let i = e6.options.things.events.slice();
    e6.options.things.locations && Or(i, "location");
    let n = { fields: i, venue: e6.options.venue, activeAtOrAfter: Date.now() };
    try {
      return (await Ir(e6.options, "event", n)).map((i10) => new t14(e6, i10));
    } catch (t48) {
      return Le.error("Fetch Events:", t48), [];
    }
  }
  toJSON() {
    return o(this, Im);
  }
};
Py = /* @__PURE__ */ new WeakMap(), Im = /* @__PURE__ */ new WeakMap(), Iy = /* @__PURE__ */ new WeakMap(), q(Cy, "MappedinEvent");
var bp = Cy;
c();
var Ly;
var Oy = class t15 {
  constructor(t48) {
    w(this, Ly, void 0), v(this, "id", ""), v(this, "name", ""), v(this, "value", ""), p(this, Ly, t48), Object.assign(this, t48);
  }
  static hydrate(e6) {
    return e6.map((e10) => new t15(e10));
  }
  static async fetch(e6) {
    let i = { fields: e6.options.things.locationStates.slice(), venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "location-state", i)).map((e10) => new t15(e10));
    } catch (t48) {
      return Le.error("Fetch Location States:", t48), [];
    }
  }
  toJSON() {
    return o(this, Ly);
  }
};
Ly = /* @__PURE__ */ new WeakMap(), q(Oy, "MappedinLocationState");
var Em = Oy;
c();
var yu;
var Ny;
var Ry;
var Dy = class t16 {
  constructor(t48, e6) {
    w(this, yu, void 0), w(this, Ny, {}), w(this, Ry, void 0), v(this, "id", ""), v(this, "group", ""), v(this, "name", ""), v(this, "shortName", ""), v(this, "elevation", 0), v(this, "subtitle"), v(this, "scale", 0), v(this, "layers"), v(this, "x_scale"), v(this, "perspectiveId"), v(this, "scene"), v(this, "width", 0), v(this, "height", 0), v(this, "georeference", []), v(this, "_scale", 0), p(this, yu, t48), p(this, Ry, e6), Object.assign(this, e6), this._scale = MH(this), this.scale = this.x_scale || 1 / this._scale;
  }
  get polygons() {
    var t48, e6, i;
    return null != (i = null == (e6 = null == (t48 = bo.instances.get(o(this, yu))) ? void 0 : t48.polygonsByMapId) ? void 0 : e6.get(this.id)) ? i : [];
  }
  get locations() {
    var t48, e6, i;
    return null != (i = null == (e6 = null == (t48 = bo.instances.get(o(this, yu))) ? void 0 : t48.locationsByMapId) ? void 0 : e6.get(this.id)) ? i : [];
  }
  get nodes() {
    var t48, e6, i;
    return null != (i = null == (e6 = null == (t48 = bo.instances.get(o(this, yu))) ? void 0 : t48.nodesByMapId) ? void 0 : e6.get(this.id)) ? i : [];
  }
  get mapGroup() {
    let t48 = o(this, Ny).mapGroup;
    if (typeof t48 < "u")
      return t48;
    let e6 = this.group, i = e6 && o(this, yu)._mapGroupsById[e6] || null;
    return o(this, Ny).mapGroup = i, i;
  }
  createCoordinateByXY(t48, e6) {
    return new aa({ x: t48, y: e6, map: this, mappedin: o(this, yu) });
  }
  createCoordinate(t48, e6) {
    return new aa({ lat: t48, lon: e6, map: this, mappedin: o(this, yu) });
  }
  getNorth() {
    let t48;
    try {
      let e6 = this.georeference[0], i = this.georeference[2], n = new mi(e6.target.x, e6.target.y), r = new mi(i.target.x, i.target.y);
      t48 = -((n.finalBearingTo(r) + 0) * Math.PI / 180 - Math.atan2(i.control.y - e6.control.y, i.control.x - e6.control.x) - Math.PI / 2);
    } catch (e6) {
      t48 = 0, Le.warn(e6), Le.warn("Couldn't georeference ".concat(this.name || this.shortName || this.id, ". Probably not enough geocoordinates."));
    }
    return t48;
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t16(i, e10));
  }
  static async fetch(e6) {
    var i;
    let n = e6.options.things.maps.slice();
    e6.options.perspective && Or(n, "perspectives"), e6.options.things.mapGroups && Or(n, "group"), Or(n, "elevation"), Or(n, "x_scale"), Or(n, "scale"), Or(n, "georeference");
    let r = { fields: n, perspective: e6.options.perspective, venue: e6.options.venue };
    try {
      let s6 = await Ir(e6.options, "map", r), a = q((t48) => {
        let e10 = o3.layers.find((e11) => e11.id === t48);
        e10 ? e10.visible = true : o3.layers.push({ id: t48, visible: true });
      }, "setVisibleLayer");
      for (let r6 = 0, l = s6.length; r6 < l; ++r6) {
        var o3 = s6[r6];
        if (o3) {
          let t48 = o3.perspective;
          null != t48 && (o3.perspectiveId = t48.id, n.indexOf("scene") > -1 && (o3.scene = t48.scene), t48.layers ? (o3.layers.forEach((t49) => {
            t49.visible = false;
          }), t48.layers.forEach(a)) : o3.layers.forEach((t49) => {
            t49.visible = true;
          })), delete o3.perspective;
        }
        if (e6.options.preloadMapGeometry && null != (i = o3.scene) && i.polygons && "string" == typeof o3.scene.polygons) {
          let t48 = await _o()(o3.scene.polygons);
          o3.scene.polygons = await t48.json();
        }
        s6[r6] = new t16(e6, o3);
      }
      return s6;
    } catch (t48) {
      return Le.error("Fetch Maps:", t48), [];
    }
  }
  toJSON() {
    return o(this, Ry);
  }
};
yu = /* @__PURE__ */ new WeakMap(), Ny = /* @__PURE__ */ new WeakMap(), Ry = /* @__PURE__ */ new WeakMap(), q(Dy, "MappedinMap");
var Fh = Dy;
c();
var By;
var k5;
var ky;
var q5;
var qy;
var Fy;
var nE;
var EH;
var iE;
var TH;
var xu;
var bu;
var _u;
var wu;
var F5 = class {
  constructor(t48) {
    w(this, By), w(this, ky), w(this, nE), w(this, iE), v(this, "map"), w(this, qy, {}), w(this, Fy, void 0), w(this, xu, void 0), w(this, bu, void 0), w(this, _u, void 0), w(this, wu, void 0);
    let { map: e6, mappedin: i } = t48;
    null != t48.lat && null != t48.lon && (p(this, xu, t48.lat), p(this, bu, t48.lon)), null != t48.x && null != t48.y && (p(this, _u, t48.x), p(this, wu, t48.y)), this.map = e6, p(this, Fy, i);
  }
  get x() {
    return y(this, ky, q5).call(this, "x");
  }
  get y() {
    return y(this, ky, q5).call(this, "y");
  }
  get lat() {
    return y(this, By, k5).call(this, "lat");
  }
  get lon() {
    return y(this, By, k5).call(this, "lon");
  }
  absoluteDistanceTo(t48) {
    return SH([t48.lat, t48.lon], [this.lat, this.lon]);
  }
  get nearestNode() {
    let t48 = o(this, qy).nearestNode;
    if (typeof t48 < "u")
      return t48;
    let e6 = bo.instances.get(o(this, Fy)).findNearestNodeOnMap(this.map.id, this);
    return o(this, qy).nearestNode = e6, e6;
  }
  toJSON() {
    return { x: this.x, y: this.y, map: this.map, lat: this.lat, lon: this.lon };
  }
};
By = /* @__PURE__ */ new WeakSet(), k5 = q(function(t48) {
  if (typeof o(this, xu) < "u" && typeof o(this, bu) < "u")
    return o(this, "lat" === t48 ? xu : bu);
  if (typeof o(this, _u) < "u" && typeof o(this, wu) < "u") {
    let [e6, i] = y(this, iE, TH).call(this, o(this, _u), o(this, wu));
    return p(this, xu, e6), p(this, bu, i), o(this, "lat" === t48 ? xu : bu);
  }
  throw Error("MappedinCoordinate is missing x and y");
}, "#getLatLon"), ky = /* @__PURE__ */ new WeakSet(), q5 = q(function(t48) {
  if (o(this, _u) && o(this, wu))
    return o(this, "x" === t48 ? _u : wu);
  if (null != o(this, xu) && null != o(this, bu)) {
    let [e6, i] = y(this, nE, EH).call(this, o(this, xu), o(this, bu));
    return p(this, _u, e6), p(this, wu, i), o(this, "x" === t48 ? _u : wu);
  }
  throw Error("MappedinCoordinate is missing lat and lon");
}, "#getXY"), qy = /* @__PURE__ */ new WeakMap(), Fy = /* @__PURE__ */ new WeakMap(), nE = /* @__PURE__ */ new WeakSet(), EH = q(function(t48, e6) {
  let i = this.map.georeference[0], n = new mi(i.target.x, i.target.y), r = new mi(t48, e6), o3 = n.distanceTo(r), s6 = (n.finalBearingTo(r) + 360) % 360 * Math.PI / 180 || 0, a = o3 * (1 / this.map.scale), l = s6 + this.map.getNorth(), u2 = Math.sin(l) * a, h = Math.cos(l) * a;
  return [i.control.x + u2, i.control.y - h];
}, "#latLonToXY"), iE = /* @__PURE__ */ new WeakSet(), TH = q(function(t48, e6) {
  let i, n = this.map.georeference[0], r = new mi(n.target.x, n.target.y), o3 = t48 - n.control.x, s6 = n.control.y - e6, a = Math.atan2(o3, s6);
  i = 0 === o3 && 0 === s6 ? 0 : 0 === o3 ? s6 : o3 / Math.sin(a);
  let l = a - this.map.getNorth(), u2 = i / this.map._scale, h = r.destinationPoint(u2, 180 * l / Math.PI);
  return [h.lat, h.lon];
}, "#xyToLatLon"), xu = /* @__PURE__ */ new WeakMap(), bu = /* @__PURE__ */ new WeakMap(), _u = /* @__PURE__ */ new WeakMap(), wu = /* @__PURE__ */ new WeakMap(), q(F5, "MappedinCoordinate");
var aa = F5;
c();
var zy;
var Om;
var Gy;
var Uy = class t17 {
  constructor(t48, e6) {
    w(this, zy, void 0), w(this, Om, void 0), w(this, Gy, {}), v(this, "id", ""), v(this, "name", ""), p(this, Om, e6), p(this, zy, t48), Object.assign(this, e6);
  }
  get maps() {
    let t48 = o(this, Gy).maps;
    if (typeof t48 < "u")
      return t48;
    let e6 = [], { maps: i } = o(this, zy), { id: n } = o(this, Om);
    for (let t49 = 0, r = i.length; t49 < r; ++t49) {
      let r6 = i[t49];
      r6.group === n && e6.push(r6);
    }
    return o(this, Gy).maps = e6, e6;
  }
  static hydrate(e6, i) {
    return e6.map((e10) => new t17(i, e10));
  }
  static async fetch(e6) {
    let i = { fields: e6.options.things.mapGroups.slice(), venue: e6.options.venue };
    try {
      return (await Ir(e6.options, "map-group", i)).map((i10) => new t17(e6, i10));
    } catch (t48) {
      return Le.error("Fetch Map Groups:", t48), [];
    }
  }
  toJSON() {
    return o(this, Om);
  }
};
zy = /* @__PURE__ */ new WeakMap(), Om = /* @__PURE__ */ new WeakMap(), Gy = /* @__PURE__ */ new WeakMap(), q(Uy, "MappedinMapGroup");
var _p = Uy;
c(), c();
var Ep;
var Dl;
var Nl;
var AH = "mi-session-data";
var CH = "mi-local-data";
var Vy = class t18 {
  constructor() {
    w(this, Dl, void 0), w(this, Nl, void 0);
    try {
      let t48 = sessionStorage.getItem(AH);
      p(this, Dl, t48 ? JSON.parse(t48) : { id: Cr() });
    } catch {
      p(this, Dl, { id: Cr() });
    }
    try {
      let t48 = localStorage.getItem(CH);
      p(this, Nl, t48 ? JSON.parse(t48) : { deviceId: Cr() });
    } catch {
      p(this, Nl, { deviceId: Cr() });
    }
    o(this, Dl).id || (o(this, Dl).id = Cr()), o(this, Nl).deviceId || (o(this, Nl).deviceId = Cr());
  }
  static getInstance() {
    return o(this, Ep) || p(this, Ep, new t18()), o(this, Ep);
  }
  static ___clearInstance() {
    p(this, Ep, void 0);
  }
  saveSessionData(t48, e6) {
    o(this, Dl)[t48] = e6;
    try {
      return sessionStorage.setItem(AH, JSON.stringify(o(this, Dl))), true;
    } catch {
      return false;
    }
  }
  loadSessionData(t48) {
    let e6 = o(this, Dl)[t48];
    if (null != e6)
      return e6;
  }
  saveLocalData(t48, e6) {
    o(this, Nl)[t48] = e6;
    try {
      return localStorage.setItem(CH, JSON.stringify(o(this, Nl))), true;
    } catch {
      return false;
    }
  }
  loadLocalData(t48) {
    let e6 = o(this, Nl)[t48];
    if (null != e6)
      return e6;
  }
};
Ep = /* @__PURE__ */ new WeakMap(), Dl = /* @__PURE__ */ new WeakMap(), Nl = /* @__PURE__ */ new WeakMap(), q(Vy, "SafeStorage"), w(Vy, Ep, void 0);
var Hy = Vy;
function zM(t48) {
  return /^[\da-f]{24}$/i.test(t48);
}
function PH(t48, e6 = false) {
  let i = "";
  if (null != t48) {
    let n = "?", r = e6 ? Object.keys(t48).filter((t49) => !["slug", "venue"].includes(t49)) : Object.keys(t48);
    for (let e10 = 0, o3 = r.length; e10 < o3; ++e10) {
      let o6 = r[e10], s6 = t48[o6];
      null != s6 && (i += "".concat(n + encodeURIComponent(o6), "=").concat(encodeURIComponent(s6)), n = "&");
    }
  }
  return i;
}
function _he(t48, e6, i, n = false) {
  var r, o3;
  return n ? "".concat(t48.supplementaryUrl).concat(e6, "?venue=").concat(i.venue || i.slug) : null != (r = t48.baseUrl) && r.includes("gateway") ? "".concat(t48.baseUrl).concat(e6, "/").concat(i.venue || i.slug).concat(PH(i, null == (o3 = t48.baseUrl) ? void 0 : o3.includes("gateway"))) : t48.baseUrl + e6 + PH(i);
}
async function Ir(t48, e6, i, n = false) {
  return gm(t48, e6, i, n, true);
}
async function gm(t48, e6, i, n = false, r = false) {
  let o3 = _he(t48, e6, i, n), s6 = await ZM(t48, o3, n);
  if (!r && Array.isArray(s6)) {
    if (1 === s6.length)
      return s6[0];
    throw new Error("Invalid response object");
  }
  return s6;
}
function whe(t48, e6, i = false) {
  let n = { language: t48.language, clientId: t48.clientId, clientSecret: t48.clientSecret };
  i && delete n.language, n.language && (e6 += "&lang=".concat(encodeURIComponent(n.language)));
  let { headers: r } = t48;
  r["Content-Type"] = r["Content-Type"] || "text/json", t48.accessToken ? r.Authorization = "Bearer ".concat(t48.accessToken) : t48.noAuth || t48.clientId && t48.clientSecret && (r["x-mappedin-key"] = btoa(t48.clientId), r["x-mappedin-secret"] = btoa(t48.clientSecret)), n.language && (r["Accept-Language"] = n.language);
  let o3 = { method: "GET", headers: r };
  return t48.secure && (e6 += "&withcdntoken"), { req: o3, url: e6 };
}
async function ZM(t48, e6, i = false) {
  let n = whe(t48, e6, i), r = await _o()(n.url, n.req);
  if (!r.ok)
    throw new Error("".concat(r.status, " ").concat(r.statusText));
  return r.json();
}
function Or(t48, e6) {
  t48.indexOf(e6) < 0 && t48.push(e6);
}
function SH([t48, e6], [i, n]) {
  let r = new mi(t48, e6), o3 = new mi(i, n);
  return r.distanceTo(o3);
}
function MH(t48) {
  if (t48.scale || t48.x_scale)
    return 1 / (t48.scale || t48.x_scale);
  let e6;
  try {
    let i = t48.georeference[0], n = t48.georeference[2], r = new mi(i.target.x, i.target.y), o3 = new mi(n.target.x, n.target.y), s6 = r.distanceTo(o3), a = i.control.x - n.control.x, l = i.control.y - n.control.y;
    e6 = Math.sqrt(a * a + l * l) / s6;
  } catch (i) {
    e6 = 1, Le.warn(i), Le.warn("Couldn't georeference ".concat(t48.name || t48.shortName || t48.id, ". Probably not enough geocoordinates."));
  }
  return e6;
}
function A0(t48) {
  var e6;
  return t48 instanceof $a ? t48.entrances.map((t49) => t49.id) : t48 instanceof Ja ? (null == (e6 = t48.nodes) ? void 0 : e6.map((t49) => t49.id)) || [] : [t48.id];
}
async function jV(t48) {
  let e6 = {}, { maps: i, images: n, scenes: r, polygons: o3 } = t48;
  if (null != n)
    try {
      let t49 = Object.keys(n).map((t50) => fetch("data:image/png;base64,".concat(n[t50])).then((t51) => t51.blob()).then((i10) => {
        e6[t50] = i10;
      }).catch((t51) => {
        Le.error(t51);
      }));
      await Promise.all(t49);
    } catch (t49) {
      Le.error(t49);
    }
  return i.forEach((t49) => {
    var i10;
    (null != (i10 = t49.scene) && i10.polygons || r[t49.id]) && (null != r && r[t49.id] && (t49.scene || (t49.scene = {}), Object.defineProperty(t49.scene, "polygons", { get: () => r[t49.id] })), null != n && (t49.scene.images = t49.scene.images.map(({ filename: t50 }) => ({ filename: t50, url: e6[t50] })), t49.scene.polygons.forEach((t50) => {
      var i11, n10;
      if (null != (i11 = null == t50 ? void 0 : t50.image) && i11.url && null != (n10 = null == t50 ? void 0 : t50.image) && n10.url) {
        let i12 = t50.image.url.split("/"), n11 = e6[i12[i12.length - 1]];
        n11 && (t50.image.url = n11);
      }
    })));
  }), null != n && o3.forEach((t49) => {
    var i10;
    if (null != (i10 = null == t49 ? void 0 : t49.image) && i10.url) {
      let i11 = t49.image.url.split("/"), n10 = e6[i11[i11.length - 1]];
      n10 && (t49.image.url = n10);
    }
  }), null != t48.images && delete t48.images, null != t48.scenes && delete t48.scenes, t48;
}
function wm(t48, e6, i) {
  let n;
  return function(...r) {
    let o3 = this, s6 = q(function() {
      n = null, i || t48.apply(o3, r);
    }, "later"), a = i && !n;
    clearTimeout(n), n = setTimeout(s6, e6), a && t48.apply(o3, r);
  };
}
function WV(t48, e6, i, n = 0) {
  if (!t48 || t48 <= 0)
    return 0;
  let r = 0;
  n >= 0 && n <= 1 && (r = n / 10);
  let o3 = 1e-5, s6 = 1 + (i - t48) / (i - e6) + r;
  return Math.max(1 + o3, Math.min(2 - o3, s6));
}
function $M() {
  return Hy.getInstance().loadLocalData("deviceId");
}
function eE() {
  return Hy.getInstance().loadSessionData("id");
}
q(zM, "isGatewayKey"), q(PH, "stringifyQuery"), q(_he, "buildUrl"), q(Ir, "getArray"), q(gm, "getObject"), q(whe, "constructParamsForRequest"), q(ZM, "generateAPIRequest"), q(Or, "addToSet"), q(SH, "getDistanceBetweenLatLon"), q(MH, "getMapScale"), q(A0, "getNodesForNavigatable"), q(jV, "populateBundledImagesAsBlobs"), q(wm, "debounce"), q(WV, "normalizeCategoryRank"), q($M, "getDeviceID"), q(eE, "getSessionID");
var Bh = q((t48, e6) => {
  if ("string" == typeof t48) {
    if (void 0 === e6 || !Array.isArray(e6.polygons))
      return null;
    t48 = e6.polygons.find(function(e10) {
      return e10.id === t48;
    });
  }
  let i = null;
  if (null != t48 && void 0 !== t48.locations && t48.locations.length > 0) {
    i = t48.locations[0];
    for (let e10 = 0, n = t48.locations.length; e10 < n; e10++) {
      let n10 = t48.locations[e10];
      for (; void 0 !== n10.parent; )
        n10 = n10.parent, n10.polygons.includes(t48) && (i = n10);
      if (void 0 === n10.parent && n10.polygons.includes(t48))
        return n10;
    }
  }
  return i;
}, "getPrimaryLocationForPolygon");
function U5(t48) {
  let e6 = +this._x.call(null, t48), i = +this._y.call(null, t48);
  return IH(this.cover(e6, i), e6, i, t48);
}
function IH(t48, e6, i, n) {
  if (isNaN(e6) || isNaN(i))
    return t48;
  var r, o3, s6, a, l, u2, h, c2, p4, d = t48._root, f = { data: n }, g = t48._x0, m = t48._y0, v4 = t48._x1, y4 = t48._y1;
  if (!d)
    return t48._root = f, t48;
  for (; d.length; )
    if ((u2 = e6 >= (o3 = (g + v4) / 2)) ? g = o3 : v4 = o3, (h = i >= (s6 = (m + y4) / 2)) ? m = s6 : y4 = s6, r = d, !(d = d[c2 = h << 1 | u2]))
      return r[c2] = f, t48;
  if (a = +t48._x.call(null, d.data), l = +t48._y.call(null, d.data), e6 === a && i === l)
    return f.next = d, r ? r[c2] = f : t48._root = f, t48;
  do {
    r = r ? r[c2] = new Array(4) : t48._root = new Array(4), (u2 = e6 >= (o3 = (g + v4) / 2)) ? g = o3 : v4 = o3, (h = i >= (s6 = (m + y4) / 2)) ? m = s6 : y4 = s6;
  } while ((c2 = h << 1 | u2) == (p4 = (l >= s6) << 1 | a >= o3));
  return r[p4] = d, r[c2] = f, t48;
}
function OH(t48) {
  var e6, i, n, r, o3 = t48.length, s6 = new Array(o3), a = new Array(o3), l = 1 / 0, u2 = 1 / 0, h = -1 / 0, c2 = -1 / 0;
  for (i = 0; i < o3; ++i)
    isNaN(n = +this._x.call(null, e6 = t48[i])) || isNaN(r = +this._y.call(null, e6)) || (s6[i] = n, a[i] = r, n < l && (l = n), n > h && (h = n), r < u2 && (u2 = r), r > c2 && (c2 = r));
  if (l > h || u2 > c2)
    return this;
  for (this.cover(l, u2).cover(h, c2), i = 0; i < o3; ++i)
    IH(this, s6[i], a[i], t48[i]);
  return this;
}
function z5(t48, e6) {
  if (isNaN(t48 = +t48) || isNaN(e6 = +e6))
    return this;
  var i = this._x0, n = this._y0, r = this._x1, o3 = this._y1;
  if (isNaN(i))
    r = (i = Math.floor(t48)) + 1, o3 = (n = Math.floor(e6)) + 1;
  else {
    for (var s6, a, l = r - i || 1, u2 = this._root; i > t48 || t48 >= r || n > e6 || e6 >= o3; )
      switch (a = (e6 < n) << 1 | t48 < i, s6 = new Array(4), s6[a] = u2, u2 = s6, l *= 2, a) {
        case 0:
          r = i + l, o3 = n + l;
          break;
        case 1:
          i = r - l, o3 = n + l;
          break;
        case 2:
          r = i + l, n = o3 - l;
          break;
        case 3:
          i = r - l, n = o3 - l;
      }
    this._root && this._root.length && (this._root = u2);
  }
  return this._x0 = i, this._y0 = n, this._x1 = r, this._y1 = o3, this;
}
function G5() {
  var t48 = [];
  return this.visit(function(e6) {
    if (!e6.length)
      do {
        t48.push(e6.data);
      } while (e6 = e6.next);
  }), t48;
}
function V5(t48) {
  return arguments.length ? this.cover(+t48[0][0], +t48[0][1]).cover(+t48[1][0], +t48[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]];
}
function bs(t48, e6, i, n, r) {
  this.node = t48, this.x0 = e6, this.y0 = i, this.x1 = n, this.y1 = r;
}
function H5(t48, e6, i) {
  var n, r, o3, s6, a, l, u2, h = this._x0, c2 = this._y0, p4 = this._x1, d = this._y1, f = [], g = this._root;
  for (g && f.push(new bs(g, h, c2, p4, d)), null == i ? i = 1 / 0 : (h = t48 - i, c2 = e6 - i, p4 = t48 + i, d = e6 + i, i *= i); l = f.pop(); )
    if (!(!(g = l.node) || (r = l.x0) > p4 || (o3 = l.y0) > d || (s6 = l.x1) < h || (a = l.y1) < c2))
      if (g.length) {
        var m = (r + s6) / 2, v4 = (o3 + a) / 2;
        f.push(new bs(g[3], m, v4, s6, a), new bs(g[2], r, v4, m, a), new bs(g[1], m, o3, s6, v4), new bs(g[0], r, o3, m, v4)), (u2 = (e6 >= v4) << 1 | t48 >= m) && (l = f[f.length - 1], f[f.length - 1] = f[f.length - 1 - u2], f[f.length - 1 - u2] = l);
      } else {
        var y4 = t48 - +this._x.call(null, g.data), x4 = e6 - +this._y.call(null, g.data), _ = y4 * y4 + x4 * x4;
        if (_ < i) {
          var b = Math.sqrt(i = _);
          h = t48 - b, c2 = e6 - b, p4 = t48 + b, d = e6 + b, n = g.data;
        }
      }
  return n;
}
function j5(t48) {
  if (isNaN(o3 = +this._x.call(null, t48)) || isNaN(s6 = +this._y.call(null, t48)))
    return this;
  var e6, i, n, r, o3, s6, a, l, u2, h, c2, p4, d = this._root, f = this._x0, g = this._y0, m = this._x1, v4 = this._y1;
  if (!d)
    return this;
  if (d.length)
    for (; ; ) {
      if ((u2 = o3 >= (a = (f + m) / 2)) ? f = a : m = a, (h = s6 >= (l = (g + v4) / 2)) ? g = l : v4 = l, e6 = d, !(d = d[c2 = h << 1 | u2]))
        return this;
      if (!d.length)
        break;
      (e6[c2 + 1 & 3] || e6[c2 + 2 & 3] || e6[c2 + 3 & 3]) && (i = e6, p4 = c2);
    }
  for (; d.data !== t48; )
    if (n = d, !(d = d.next))
      return this;
  return (r = d.next) && delete d.next, n ? (r ? n.next = r : delete n.next, this) : e6 ? (r ? e6[c2] = r : delete e6[c2], (d = e6[0] || e6[1] || e6[2] || e6[3]) && d === (e6[3] || e6[2] || e6[1] || e6[0]) && !d.length && (i ? i[p4] = d : this._root = d), this) : (this._root = r, this);
}
function LH(t48) {
  for (var e6 = 0, i = t48.length; e6 < i; ++e6)
    this.remove(t48[e6]);
  return this;
}
function W5() {
  return this._root;
}
function Y5() {
  var t48 = 0;
  return this.visit(function(e6) {
    if (!e6.length)
      do {
        ++t48;
      } while (e6 = e6.next);
  }), t48;
}
function X5(t48) {
  var e6, i, n, r, o3, s6, a = [], l = this._root;
  for (l && a.push(new bs(l, this._x0, this._y0, this._x1, this._y1)); e6 = a.pop(); )
    if (!t48(l = e6.node, n = e6.x0, r = e6.y0, o3 = e6.x1, s6 = e6.y1) && l.length) {
      var u2 = (n + o3) / 2, h = (r + s6) / 2;
      (i = l[3]) && a.push(new bs(i, u2, h, o3, s6)), (i = l[2]) && a.push(new bs(i, n, h, u2, s6)), (i = l[1]) && a.push(new bs(i, u2, r, o3, h)), (i = l[0]) && a.push(new bs(i, n, r, u2, h));
    }
  return this;
}
function Z5(t48) {
  var e6, i = [], n = [];
  for (this._root && i.push(new bs(this._root, this._x0, this._y0, this._x1, this._y1)); e6 = i.pop(); ) {
    var r = e6.node;
    if (r.length) {
      var o3, s6 = e6.x0, a = e6.y0, l = e6.x1, u2 = e6.y1, h = (s6 + l) / 2, c2 = (a + u2) / 2;
      (o3 = r[0]) && i.push(new bs(o3, s6, a, h, c2)), (o3 = r[1]) && i.push(new bs(o3, h, a, l, c2)), (o3 = r[2]) && i.push(new bs(o3, s6, c2, h, u2)), (o3 = r[3]) && i.push(new bs(o3, h, c2, l, u2));
    }
    n.push(e6);
  }
  for (; e6 = n.pop(); )
    t48(e6.node, e6.x0, e6.y0, e6.x1, e6.y1);
  return this;
}
function DH(t48) {
  return t48[0];
}
function Q5(t48) {
  return arguments.length ? (this._x = t48, this) : this._x;
}
function NH(t48) {
  return t48[1];
}
function K5(t48) {
  return arguments.length ? (this._y = t48, this) : this._y;
}
function jy(t48, e6, i) {
  var n = new J5(null == e6 ? DH : e6, null == i ? NH : i, NaN, NaN, NaN, NaN);
  return null == t48 ? n : n.addAll(t48);
}
function J5(t48, e6, i, n, r, o3) {
  this._x = t48, this._y = e6, this._x0 = i, this._y0 = n, this._x1 = r, this._y1 = o3, this._root = void 0;
}
function RH(t48) {
  for (var e6 = { data: t48.data }, i = e6; t48 = t48.next; )
    i = i.next = { data: t48.data };
  return e6;
}
c(), c(), c(), c(), q(U5, "default"), q(IH, "add"), q(OH, "addAll"), c(), q(z5, "default"), c(), q(G5, "default"), c(), q(V5, "default"), c(), c(), q(bs, "default"), q(H5, "default"), c(), q(j5, "default"), q(LH, "removeAll"), c(), q(W5, "default"), c(), q(Y5, "default"), c(), q(X5, "default"), c(), q(Z5, "default"), c(), q(DH, "defaultX"), q(Q5, "default"), c(), q(NH, "defaultY"), q(K5, "default"), q(jy, "quadtree"), q(J5, "Quadtree"), q(RH, "leaf_copy");
var jo = jy.prototype = J5.prototype;
jo.copy = function() {
  var t48, e6, i = new J5(this._x, this._y, this._x0, this._y0, this._x1, this._y1), n = this._root;
  if (!n)
    return i;
  if (!n.length)
    return i._root = RH(n), i;
  for (t48 = [{ source: n, target: i._root = new Array(4) }]; n = t48.pop(); )
    for (var r = 0; r < 4; ++r)
      (e6 = n.source[r]) && (e6.length ? t48.push({ source: e6, target: n.target[r] = new Array(4) }) : n.target[r] = RH(e6));
  return i;
}, jo.add = U5, jo.addAll = OH, jo.cover = z5, jo.data = G5, jo.extent = V5, jo.find = H5, jo.remove = j5, jo.removeAll = LH, jo.root = W5, jo.size = Y5, jo.visit = X5, jo.visitAfter = Z5, jo.x = Q5, jo.y = K5;
var Mu;
var ss;
var Rl = class t19 {
  constructor(t48) {
    w(this, Mu, void 0), v(this, "categories"), v(this, "locations"), v(this, "vortexes"), v(this, "maps"), v(this, "nodes"), v(this, "polygons"), v(this, "events"), v(this, "mapGroups"), v(this, "locationStates"), v(this, "rankings"), v(this, "languages", {}), w(this, ss, {}), p(this, Mu, t48);
  }
  get polygonsByMapId() {
    if (o(this, ss).polygonsByMapId)
      return o(this, ss).polygonsByMapId;
    let t48, e6 = {};
    for (let i10 = 0, n = o(this, Mu).polygons.length; i10 < n; ++i10)
      t48 = o(this, Mu).polygons[i10], e6[t48.map.id] || (e6[t48.map.id] = []), e6[t48.map.id].push(t48);
    let i = Object.entries(e6).reduce((t49, [e10, i10]) => (t49.set(e10, i10), t49), /* @__PURE__ */ new Map());
    return o(this, ss).polygonsByMapId = i, o(this, ss).polygonsByMapId;
  }
  get nodesByMapId() {
    if (o(this, ss).nodesByMapId)
      return o(this, ss).nodesByMapId;
    let t48, e6 = {};
    for (let i10 = 0, n = o(this, Mu).nodes.length; i10 < n; ++i10)
      t48 = o(this, Mu).nodes[i10], e6[t48.map.id] || (e6[t48.map.id] = []), e6[t48.map.id].push(t48);
    let i = Object.entries(e6).reduce((t49, [e10, i10]) => (t49.set(e10, i10), t49), /* @__PURE__ */ new Map());
    return o(this, ss).nodesByMapId = i, o(this, ss).nodesByMapId;
  }
  findNearestNodeOnMap(t48, e6) {
    var i;
    if (o(this, ss).nodeTreesByMap || (o(this, ss).nodeTreesByMap = /* @__PURE__ */ new Map()), !o(this, ss).nodeTreesByMap.has(t48)) {
      let e10 = null != (i = this.nodesByMapId.get(t48)) ? i : [], n = jy();
      n.x((t49) => t49.x), n.y((t49) => t49.y), n.addAll(e10), o(this, ss).nodeTreesByMap.set(t48, n);
    }
    return o(this, ss).nodeTreesByMap.get(t48).find(e6.x, e6.y);
  }
  get locationsByMapId() {
    if (o(this, ss).locationsByMapId)
      return o(this, ss).locationsByMapId;
    let t48, e6 = {};
    for (let i10 = 0, n = o(this, Mu).locations.length; i10 < n; ++i10) {
      t48 = o(this, Mu).locations[i10];
      for (let i11 = 0, n10 = t48.polygons.length; i11 < n10; ++i11)
        e6[t48.polygons[i11].map.id] || (e6[t48.polygons[i11].map.id] = []), e6[t48.polygons[i11].map.id].push(t48);
      for (let i11 = 0, n10 = t48.nodes.length; i11 < n10; ++i11) {
        let n11 = t48.nodes[i11];
        e6[n11.map.id] || (e6[n11.map.id] = []), e6[n11.map.id].push(t48);
      }
    }
    let i = Object.entries(e6).reduce((t49, [e10, i10]) => (t49.set(e10, i10), t49), /* @__PURE__ */ new Map());
    return o(this, ss).locationsByMapId = i, o(this, ss).locationsByMapId;
  }
  static create(e6) {
    return t19.instances.has(e6) || t19.instances.set(e6, new t19(e6)), t19.instances.get(e6);
  }
  static clear() {
    t19.instances.clear();
  }
  static clearInstance(e6) {
    t19.instances.has(e6) && t19.instances.delete(e6);
  }
};
Mu = /* @__PURE__ */ new WeakMap(), ss = /* @__PURE__ */ new WeakMap(), q(Rl, "MappedinCache"), v(Rl, "instances", /* @__PURE__ */ new Map());
var tj;
var Wy;
var Lm;
var Dm;
var Yy;
var Nm;
var Rm;
var Bm;
var zh;
var km;
var qm;
var Fm;
var Xy;
var Um;
var Tp;
var $5 = Rl;
var bo = $5;
var Vo = ((t48) => (t48.CATEGORY = "categories", t48.EVENT = "events", t48.LOCATION = "locations", t48.MAPGROUP = "mapGroups", t48.MAP = "maps", t48.NODE = "nodes", t48.POLYGON = "polygons", t48.VORTEX = "vortexes", t48))(Vo || {});
var pp = { categories: yc, locations: Ja, vortexes: yp, maps: Fh, nodes: Fs, polygons: $a, venue: bc, events: bp, mapGroups: _p, themes: tE, locationStates: Em, rankings: xp };
var nj = u(ej());
var Lhe = null == (tj = null == e ? void 0 : e.env) ? void 0 : tj.npm_package_version;
var rE = ["websdk", "web", "webv2", "kiosk-v2", "mobile", "iossdk", "androidsdk", "reactnativesdk"];
var n6 = rE[0];
var Dhe = false;
var Bl = class t20 {
  constructor(t48) {
    var e6;
    w(this, Wy, void 0), w(this, Lm, void 0), w(this, Dm, void 0), w(this, Yy, void 0), w(this, Nm, void 0), w(this, Rm, void 0), w(this, Bm, void 0), w(this, zh, void 0), w(this, km, void 0), w(this, qm, void 0), w(this, Fm, void 0), w(this, Xy, void 0), w(this, Um, void 0), w(this, Tp, void 0), p(this, zh, t48.clientId), p(this, km, t48.clientSecret), p(this, qm, t48.accessToken), p(this, Bm, t48.noAuth || false);
    let i = "https://api-gateway.mappedin.com/track-analytics/a/";
    !o(this, Bm) && o(this, zh) && !zM(o(this, zh)) && (i = "https://web-proxy.mappedin.com/a/"), p(this, Dm, i), p(this, Dm, o(this, Dm) + (t48.venue + "/")), p(this, Um, t48.venue), p(this, Lm, false), p(this, Wy, "boolean" == typeof t48.testMode ? t48.testMode : "true" === (null == (e6 = t48.testMode) ? void 0 : e6.toLowerCase())), p(this, Yy, rE.find((e10) => e10 === t48.context) || rE[0]), p(this, Nm, $M()), p(this, Rm, eE()), p(this, Fm, /* @__PURE__ */ new Set()), p(this, Xy, t48.platformString || ""), this.locationSelected = this.locationSelected.bind(this), this.categorySelected = this.categorySelected.bind(this), this.getDirections = wm(this.getDirections.bind(this), 2500);
  }
  static create(e6) {
    return t20.instance || (t20.instance = new t20(e6)), t20.instance;
  }
  track(t48, e6) {
    let i = { ...e6, g: o(this, Lm) };
    o(this, Tp) && (i = { ...i, ...o(this, Tp) });
    let n = o(this, Dm) + t48 + "?" + nj.default.stringify(i, { skipEmptyString: true, skipNull: true });
    if (Dhe && Le.log("Analytics.track", n), o(this, Wy))
      return;
    let r = { "mi-context": n6 || o(this, Yy), "mi-session": o(this, Rm), "mi-device": o(this, Nm), "mappedin-sdk-version": Lhe, "mappedin-platform-version": o(this, Xy) };
    o(this, qm) ? r.Authorization = "Bearer ".concat(o(this, qm)) : o(this, Bm) || o(this, km) && o(this, zh) && (r["x-mappedin-key"] = btoa(o(this, zh)), r["x-mappedin-secret"] = btoa(o(this, km))), _o()(n, { method: "GET", mode: "cors", headers: r });
  }
  updateAnalyticsUserPosition(t48) {
    p(this, Tp, t48 ? { ...t48, bluedotTimestamp: Date.now() } : void 0);
  }
  locationSelected(t48) {
    let e6 = t48.id || t48;
    ht.addPendingEvent(new k0({ venue: o(this, Um) })), this.track("select-location", { id: e6 });
  }
  categorySelected(t48) {
    let e6 = t48.id || t48;
    ht.addPendingEvent(new B0({ venue: o(this, Um) })), this.track("select-category", { id: e6 });
  }
  mapViewLoaded(t48, e6, i, n) {
    this.track("load-mapview", { type: t48, force: e6, benchmark: i || -1, reason: n || "success" });
  }
  getDirections(t48, e6) {
    let i = { start: t48.id, end: e6.id, type: "location_to_location" };
    this.track("query-directions", i);
  }
  getSessionID() {
    return o(this, Rm);
  }
  getDeviceID() {
    return o(this, Nm);
  }
  setGeolocationMode(t48) {
    p(this, Lm, t48);
  }
  trackBlueDotEvent(e6) {
    e6 && Object.values(t20.BLUEDOT_EVENT).includes(e6) && !o(this, Fm).has(e6) && (this.track(e6), o(this, Fm).add(e6));
  }
  trackSearch(t48) {
    null != t48 && this.track("query-search", t48);
  }
  trackSearchSuggest(t48) {
    null != t48 && this.track("query-suggest", t48);
  }
  static setContext(t48) {
    let e6 = rE.find((e10) => e10 === t48);
    e6 && (n6 = e6);
  }
  static clearContext() {
    n6 = void 0;
  }
  static destroy() {
    t20.instance = null;
  }
};
Wy = /* @__PURE__ */ new WeakMap(), Lm = /* @__PURE__ */ new WeakMap(), Dm = /* @__PURE__ */ new WeakMap(), Yy = /* @__PURE__ */ new WeakMap(), Nm = /* @__PURE__ */ new WeakMap(), Rm = /* @__PURE__ */ new WeakMap(), Bm = /* @__PURE__ */ new WeakMap(), zh = /* @__PURE__ */ new WeakMap(), km = /* @__PURE__ */ new WeakMap(), qm = /* @__PURE__ */ new WeakMap(), Fm = /* @__PURE__ */ new WeakMap(), Xy = /* @__PURE__ */ new WeakMap(), Um = /* @__PURE__ */ new WeakMap(), Tp = /* @__PURE__ */ new WeakMap(), q(Bl, "Analytics"), v(Bl, "instance", null), v(Bl, "BLUEDOT_EVENT", { ATTEMPT_BLUEDOT: "attempt-bluedot", FOUND_POSITION: "found-position", FOUND_FLOOR: "found-floor" });
var i6 = Bl;
var Qa = i6;
c(), c();
var Zy = u(Eu());
var a6 = ((t48) => (t48[t48.SUCCESS = 0] = "SUCCESS", t48))(a6 || {});
var Ec = ((t48) => (t48[t48.OPTIONAL_MINIMUM = 0] = "OPTIONAL_MINIMUM", t48[t48.OPTIONAL_MAXIMUM = 1] = "OPTIONAL_MAXIMUM", t48[t48.MEDIUM = 2] = "MEDIUM", t48[t48.HIGH = 3] = "HIGH", t48[t48.ALWAYS_VISIBLE = 4] = "ALWAYS_VISIBLE", t48))(Ec || {});
var sE = ((t48) => (t48[t48.OUTSIDE_MAP = 0] = "OUTSIDE_MAP", t48[t48.NO_POSITIONS_PROVIDED = 1] = "NO_POSITIONS_PROVIDED", t48[t48.GEOLOCATION_PROVIDER_ERROR = 2] = "GEOLOCATION_PROVIDER_ERROR", t48[t48.CUSTOM_GEOLOCATION_PROVIDER_ERROR = 3] = "CUSTOM_GEOLOCATION_PROVIDER_ERROR", t48))(sE || {});
var zm = ((t48) => (t48[t48.NOT_LISTENING = 0] = "NOT_LISTENING", t48[t48.LISTENING = 1] = "LISTENING", t48[t48.HAS_POSITION = 2] = "HAS_POSITION", t48[t48.HAS_INDOOR_POSITION = 3] = "HAS_INDOOR_POSITION", t48[t48.LOCATION_UNCERTAIN = 4] = "LOCATION_UNCERTAIN", t48))(zm || {});
var oE = ((t48) => (t48[t48.HIDDEN = 0] = "HIDDEN", t48[t48.GHOST = 1] = "GHOST", t48[t48.NORMAL = 2] = "NORMAL", t48[t48.UNCERTAIN = 3] = "UNCERTAIN", t48))(oE || {});
var Gm = ((t48) => (t48.EXPLORE = "explore", t48.FOLLOW = "follow", t48.STACKED = "STACKED", t48))(Gm || {});
var Qy = ((t48) => (t48[t48.CENTER = 0] = "CENTER", t48[t48.TOP = 1] = "TOP", t48[t48.LEFT = 2] = "LEFT", t48[t48.BOTTOM = 3] = "BOTTOM", t48[t48.RIGHT = 4] = "RIGHT", t48))(Qy || {});
var aE = ((t48) => (t48.CLICK = "CLICK", t48.STATE_CHANGE = "STATE_CHANGE", t48.POLYGON_CLICKED = "POLYGON_CLICKED", t48.NOTHING_CLICKED = "NOTHING_CLICKED", t48.MAP_CHANGED = "MAP_CHANGED", t48.MAP_CHANGED_WITH_REASON = "MAP_CHANGED_WITH_REASON", t48.OUTDOOR_VIEW_LOADED = "OUTDOOR_VIEW_LOADED", t48))(aE || {});
var lE = ((t48) => (t48.POSITION_UPDATE = "POSITION_UPDATE", t48.STATE_CHANGE = "STATE_CHANGE", t48))(lE || {});
var Ky = ((t48) => (t48.USER_INTERACTION_START = "USER_INTERACTION_START", t48.USER_INTERACTION_END = "USER_INTERACTION_END", t48.ZOOM_CHANGED = "ZOOM_CHANGED", t48.ROTATION_CHANGED = "ROTATION_CHANGED", t48.TILT_CHANGED = "TILT_CHANGED", t48.POSITION_CHANGED = "POSITION_CHANGED", t48.CHANGED = "CHANGED", t48))(Ky || {});
var uE = ((t48) => (t48.UP = "up", t48.DOWN = "down", t48.LEFT = "left", t48.RIGHT = "right", t48))(uE || {});
var l6 = ((t48) => (t48.PIXELS = "pixels", t48.PORTIONS = "portions", t48))(l6 || {});
var ua = { linear: Zy.default.Easing.Linear.None, "ease-in": Zy.default.Easing.Quadratic.In, "ease-out": Zy.default.Easing.Quadratic.Out, "ease-in-out": Zy.default.Easing.Quadratic.InOut };
var Jy = ((t48) => (t48.LINEAR = "linear", t48.EASE_IN = "ease-in", t48.EASE_OUT = "ease-out", t48.EASE_IN_OUT = "ease-in-out", t48))(Jy || {});
var Sp = ((t48) => (t48.ACTIVE = "ACTIVE", t48.INACTIVE = "INACTIVE", t48.OVERVIEW = "OVERVIEW", t48.ZOOMED_IN = "ZOOMED_IN", t48))(Sp || {});
var $y = ((t48) => (t48.DYNAMIC_FOCUS_USER_INTERACTION = "dynamic-focus-user-interaction", t48.BLUE_DOT_LEVEL_TRANSITION = "blue-dot-level-transition", t48.JOURNEY_CONNECTION_CLICK = "journey-connection-click", t48))($y || {});
c(), c();
var Vm = { margin: 6, text: { numLines: 2, lineHeight: 1.2, size: 11.5, maxWidth: 150, foregroundColor: "white", backgroundColor: "#333" }, marker: { size: 5, foregroundColor: { active: "white", inactive: void 0 }, backgroundColor: { active: "#333", inactive: void 0 } } };
var cE = { lightOnDark: { ...Vm, text: { ...Vm.text, foregroundColor: "white", backgroundColor: "#333" }, marker: { ...Vm.marker, foregroundColor: { active: "white", inactive: void 0 }, backgroundColor: { active: "#333", inactive: void 0 } } }, darkOnLight: { ...Vm, text: { ...Vm.text, foregroundColor: "#333", backgroundColor: "white" }, marker: { ...Vm.marker, foregroundColor: { active: "#333", inactive: void 0 }, backgroundColor: { active: "white", inactive: void 0 } } } };
c(), c();
var zc = "151";
var IT = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };
var Nhe = 0;
var ij = 1;
var Rhe = 2;
var NW = 1;
var Bhe = 2;
var lx = 3;
var Pa = 0;
var _s = 1;
var Dr = 2;
var Nr = 0;
var mg = 1;
var rj = 2;
var sj = 3;
var UE = 4;
var EO = 5;
var cg = 100;
var khe = 101;
var qhe = 102;
var oj = 103;
var aj = 104;
var Fhe = 200;
var Uhe = 201;
var zhe = 202;
var Ghe = 203;
var RW = 204;
var BW = 205;
var Vhe = 206;
var Hhe = 207;
var jhe = 208;
var Whe = 209;
var Yhe = 210;
var Xhe = 0;
var Zhe = 1;
var Qhe = 2;
var G6 = 3;
var Khe = 4;
var Jhe = 5;
var $he = 6;
var efe = 7;
var TO = 0;
var tfe = 1;
var nfe = 2;
var Nc = 0;
var ife = 1;
var rfe = 2;
var sfe = 3;
var ofe = 4;
var afe = 5;
var Fx = 300;
var xg = 301;
var bg = 302;
var V6 = 303;
var H6 = 304;
var OT = 306;
var wr = 1e3;
var ca = 1001;
var vx = 1002;
var ui = 1003;
var zE = 1004;
var cx = 1005;
var wi = 1006;
var SO = 1007;
var Dp = 1008;
var Mr = 1009;
var lfe = 1010;
var ufe = 1011;
var kW = 1012;
var cfe = 1013;
var il = 1014;
var Au = 1015;
var Np = 1016;
var hfe = 1017;
var ffe = 1018;
var Xh = 1020;
var pfe = 1021;
var Gs = 1023;
var dfe = 1024;
var mfe = 1025;
var Zh = 1026;
var Qh = 1027;
var AO = 1028;
var gfe = 1029;
var vfe = 1030;
var yfe = 1031;
var xfe = 1033;
var u6 = 33776;
var c6 = 33777;
var h6 = 33778;
var f6 = 33779;
var lj = 35840;
var uj = 35841;
var cj = 35842;
var hj = 35843;
var bfe = 36196;
var fj = 37492;
var pj = 37496;
var dj = 37808;
var mj = 37809;
var gj = 37810;
var vj = 37811;
var yj = 37812;
var xj = 37813;
var bj = 37814;
var _j = 37815;
var wj = 37816;
var Mj = 37817;
var Ej = 37818;
var Tj = 37819;
var Sj = 37820;
var Aj = 37821;
var p6 = 36492;
var _fe = 36283;
var Cj = 36284;
var Pj = 36285;
var Ij = 36286;
var _g = 2300;
var wg = 2301;
var d6 = 2302;
var Oj = 2400;
var Lj = 2401;
var Dj = 2402;
var rl = 3e3;
var ai = 3001;
var da = 3200;
var Ig = 3201;
var CO = 0;
var wfe = 1;
var qW = "";
var Lr = "srgb";
var yx = "srgb-linear";
var FW = "display-p3";
var Rc = 7680;
var Og = 7681;
var LT = 514;
var Ux = 519;
var j6 = 35044;
var Nj = "300 es";
var W6 = 1035;
var RO = class {
  addEventListener(t48, e6) {
    void 0 === this._listeners && (this._listeners = {});
    let i = this._listeners;
    void 0 === i[t48] && (i[t48] = []), -1 === i[t48].indexOf(e6) && i[t48].push(e6);
  }
  hasEventListener(t48, e6) {
    if (void 0 === this._listeners)
      return false;
    let i = this._listeners;
    return void 0 !== i[t48] && -1 !== i[t48].indexOf(e6);
  }
  removeEventListener(t48, e6) {
    if (void 0 === this._listeners)
      return;
    let i = this._listeners[t48];
    if (void 0 !== i) {
      let t49 = i.indexOf(e6);
      -1 !== t49 && i.splice(t49, 1);
    }
  }
  dispatchEvent(t48) {
    if (void 0 === this._listeners)
      return;
    let e6 = this._listeners[t48.type];
    if (void 0 !== e6) {
      t48.target = this;
      let i = e6.slice(0);
      for (let e10 = 0, n = i.length; e10 < n; e10++)
        i[e10].call(this, t48);
      t48.target = null;
    }
  }
};
q(RO, "EventDispatcher");
var Eo = RO;
var wo = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "0a", "0b", "0c", "0d", "0e", "0f", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "1a", "1b", "1c", "1d", "1e", "1f", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "2a", "2b", "2c", "2d", "2e", "2f", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "3a", "3b", "3c", "3d", "3e", "3f", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "4a", "4b", "4c", "4d", "4e", "4f", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "5a", "5b", "5c", "5d", "5e", "5f", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "6a", "6b", "6c", "6d", "6e", "6f", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "7a", "7b", "7c", "7d", "7e", "7f", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "8a", "8b", "8c", "8d", "8e", "8f", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "9a", "9b", "9c", "9d", "9e", "9f", "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "a9", "aa", "ab", "ac", "ad", "ae", "af", "b0", "b1", "b2", "b3", "b4", "b5", "b6", "b7", "b8", "b9", "ba", "bb", "bc", "bd", "be", "bf", "c0", "c1", "c2", "c3", "c4", "c5", "c6", "c7", "c8", "c9", "ca", "cb", "cc", "cd", "ce", "cf", "d0", "d1", "d2", "d3", "d4", "d5", "d6", "d7", "d8", "d9", "da", "db", "dc", "dd", "de", "df", "e0", "e1", "e2", "e3", "e4", "e5", "e6", "e7", "e8", "e9", "ea", "eb", "ec", "ed", "ee", "ef", "f0", "f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8", "f9", "fa", "fb", "fc", "fd", "fe", "ff"];
var Rj = 1234567;
var hx = Math.PI / 180;
var xx = 180 / Math.PI;
function Cu() {
  let t48 = 4294967295 * Math.random() | 0, e6 = 4294967295 * Math.random() | 0, i = 4294967295 * Math.random() | 0, n = 4294967295 * Math.random() | 0;
  return (wo[255 & t48] + wo[t48 >> 8 & 255] + wo[t48 >> 16 & 255] + wo[t48 >> 24 & 255] + "-" + wo[255 & e6] + wo[e6 >> 8 & 255] + "-" + wo[e6 >> 16 & 15 | 64] + wo[e6 >> 24 & 255] + "-" + wo[63 & i | 128] + wo[i >> 8 & 255] + "-" + wo[i >> 16 & 255] + wo[i >> 24 & 255] + wo[255 & n] + wo[n >> 8 & 255] + wo[n >> 16 & 255] + wo[n >> 24 & 255]).toLowerCase();
}
function ao(t48, e6, i) {
  return Math.max(e6, Math.min(i, t48));
}
function PO(t48, e6) {
  return (t48 % e6 + e6) % e6;
}
function Mfe(t48, e6, i, n, r) {
  return n + (t48 - e6) * (r - n) / (i - e6);
}
function Efe(t48, e6, i) {
  return t48 !== e6 ? (i - t48) / (e6 - t48) : 0;
}
function fx(t48, e6, i) {
  return (1 - i) * t48 + i * e6;
}
function Tfe(t48, e6, i, n) {
  return fx(t48, e6, 1 - Math.exp(-i * n));
}
function Sfe(t48, e6 = 1) {
  return e6 - Math.abs(PO(t48, 2 * e6) - e6);
}
function Afe(t48, e6, i) {
  return t48 <= e6 ? 0 : t48 >= i ? 1 : (t48 = (t48 - e6) / (i - e6)) * t48 * (3 - 2 * t48);
}
function Cfe(t48, e6, i) {
  return t48 <= e6 ? 0 : t48 >= i ? 1 : (t48 = (t48 - e6) / (i - e6)) * t48 * t48 * (t48 * (6 * t48 - 15) + 10);
}
function Pfe(t48, e6) {
  return t48 + Math.floor(Math.random() * (e6 - t48 + 1));
}
function Ife(t48, e6) {
  return t48 + Math.random() * (e6 - t48);
}
function Ofe(t48) {
  return t48 * (0.5 - Math.random());
}
function Lfe(t48) {
  void 0 !== t48 && (Rj = t48);
  let e6 = Rj += 1831565813;
  return e6 = Math.imul(e6 ^ e6 >>> 15, 1 | e6), e6 ^= e6 + Math.imul(e6 ^ e6 >>> 7, 61 | e6), ((e6 ^ e6 >>> 14) >>> 0) / 4294967296;
}
function Dfe(t48) {
  return t48 * hx;
}
function Nfe(t48) {
  return t48 * xx;
}
function Y6(t48) {
  return 0 == (t48 & t48 - 1) && 0 !== t48;
}
function Rfe(t48) {
  return Math.pow(2, Math.ceil(Math.log(t48) / Math.LN2));
}
function UW(t48) {
  return Math.pow(2, Math.floor(Math.log(t48) / Math.LN2));
}
function Bfe(t48, e6, i, n, r) {
  let o3 = Math.cos, s6 = Math.sin, a = o3(i / 2), l = s6(i / 2), u2 = o3((e6 + n) / 2), h = s6((e6 + n) / 2), c2 = o3((e6 - n) / 2), p4 = s6((e6 - n) / 2), d = o3((n - e6) / 2), f = s6((n - e6) / 2);
  switch (r) {
    case "XYX":
      t48.set(a * h, l * c2, l * p4, a * u2);
      break;
    case "YZY":
      t48.set(l * p4, a * h, l * c2, a * u2);
      break;
    case "ZXZ":
      t48.set(l * c2, l * p4, a * h, a * u2);
      break;
    case "XZX":
      t48.set(a * h, l * f, l * d, a * u2);
      break;
    case "YXY":
      t48.set(l * d, a * h, l * f, a * u2);
      break;
    case "ZYZ":
      t48.set(l * f, l * d, a * h, a * u2);
      break;
    default:
      console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: " + r);
  }
}
function Dc(t48, e6) {
  switch (e6.constructor) {
    case Float32Array:
      return t48;
    case Uint16Array:
      return t48 / 65535;
    case Uint8Array:
      return t48 / 255;
    case Int16Array:
      return Math.max(t48 / 32767, -1);
    case Int8Array:
      return Math.max(t48 / 127, -1);
    default:
      throw new Error("Invalid component type.");
  }
}
function qi(t48, e6) {
  switch (e6.constructor) {
    case Float32Array:
      return t48;
    case Uint16Array:
      return Math.round(65535 * t48);
    case Uint8Array:
      return Math.round(255 * t48);
    case Int16Array:
      return Math.round(32767 * t48);
    case Int8Array:
      return Math.round(127 * t48);
    default:
      throw new Error("Invalid component type.");
  }
}
q(Cu, "generateUUID"), q(ao, "clamp"), q(PO, "euclideanModulo"), q(Mfe, "mapLinear"), q(Efe, "inverseLerp"), q(fx, "lerp"), q(Tfe, "damp"), q(Sfe, "pingpong"), q(Afe, "smoothstep"), q(Cfe, "smootherstep"), q(Pfe, "randInt"), q(Ife, "randFloat"), q(Ofe, "randFloatSpread"), q(Lfe, "seededRandom"), q(Dfe, "degToRad"), q(Nfe, "radToDeg"), q(Y6, "isPowerOfTwo"), q(Rfe, "ceilPowerOfTwo"), q(UW, "floorPowerOfTwo"), q(Bfe, "setQuaternionFromProperEuler"), q(Dc, "denormalize"), q(qi, "normalize");
var Br = { DEG2RAD: hx, RAD2DEG: xx, generateUUID: Cu, clamp: ao, euclideanModulo: PO, mapLinear: Mfe, inverseLerp: Efe, lerp: fx, damp: Tfe, pingpong: Sfe, smoothstep: Afe, smootherstep: Cfe, randInt: Pfe, randFloat: Ife, randFloatSpread: Ofe, seededRandom: Lfe, degToRad: Dfe, radToDeg: Nfe, isPowerOfTwo: Y6, ceilPowerOfTwo: Rfe, floorPowerOfTwo: UW, setQuaternionFromProperEuler: Bfe, normalize: qi, denormalize: Dc };
var gT = class t21 {
  constructor(e6 = 0, i = 0) {
    t21.prototype.isVector2 = true, this.x = e6, this.y = i;
  }
  get width() {
    return this.x;
  }
  set width(t48) {
    this.x = t48;
  }
  get height() {
    return this.y;
  }
  set height(t48) {
    this.y = t48;
  }
  set(t48, e6) {
    return this.x = t48, this.y = e6, this;
  }
  setScalar(t48) {
    return this.x = t48, this.y = t48, this;
  }
  setX(t48) {
    return this.x = t48, this;
  }
  setY(t48) {
    return this.y = t48, this;
  }
  setComponent(t48, e6) {
    switch (t48) {
      case 0:
        this.x = e6;
        break;
      case 1:
        this.y = e6;
        break;
      default:
        throw new Error("index is out of range: " + t48);
    }
    return this;
  }
  getComponent(t48) {
    switch (t48) {
      case 0:
        return this.x;
      case 1:
        return this.y;
      default:
        throw new Error("index is out of range: " + t48);
    }
  }
  clone() {
    return new this.constructor(this.x, this.y);
  }
  copy(t48) {
    return this.x = t48.x, this.y = t48.y, this;
  }
  add(t48) {
    return this.x += t48.x, this.y += t48.y, this;
  }
  addScalar(t48) {
    return this.x += t48, this.y += t48, this;
  }
  addVectors(t48, e6) {
    return this.x = t48.x + e6.x, this.y = t48.y + e6.y, this;
  }
  addScaledVector(t48, e6) {
    return this.x += t48.x * e6, this.y += t48.y * e6, this;
  }
  sub(t48) {
    return this.x -= t48.x, this.y -= t48.y, this;
  }
  subScalar(t48) {
    return this.x -= t48, this.y -= t48, this;
  }
  subVectors(t48, e6) {
    return this.x = t48.x - e6.x, this.y = t48.y - e6.y, this;
  }
  multiply(t48) {
    return this.x *= t48.x, this.y *= t48.y, this;
  }
  multiplyScalar(t48) {
    return this.x *= t48, this.y *= t48, this;
  }
  divide(t48) {
    return this.x /= t48.x, this.y /= t48.y, this;
  }
  divideScalar(t48) {
    return this.multiplyScalar(1 / t48);
  }
  applyMatrix3(t48) {
    let e6 = this.x, i = this.y, n = t48.elements;
    return this.x = n[0] * e6 + n[3] * i + n[6], this.y = n[1] * e6 + n[4] * i + n[7], this;
  }
  min(t48) {
    return this.x = Math.min(this.x, t48.x), this.y = Math.min(this.y, t48.y), this;
  }
  max(t48) {
    return this.x = Math.max(this.x, t48.x), this.y = Math.max(this.y, t48.y), this;
  }
  clamp(t48, e6) {
    return this.x = Math.max(t48.x, Math.min(e6.x, this.x)), this.y = Math.max(t48.y, Math.min(e6.y, this.y)), this;
  }
  clampScalar(t48, e6) {
    return this.x = Math.max(t48, Math.min(e6, this.x)), this.y = Math.max(t48, Math.min(e6, this.y)), this;
  }
  clampLength(t48, e6) {
    let i = this.length();
    return this.divideScalar(i || 1).multiplyScalar(Math.max(t48, Math.min(e6, i)));
  }
  floor() {
    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
  }
  ceil() {
    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this;
  }
  round() {
    return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
  }
  roundToZero() {
    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this;
  }
  negate() {
    return this.x = -this.x, this.y = -this.y, this;
  }
  dot(t48) {
    return this.x * t48.x + this.y * t48.y;
  }
  cross(t48) {
    return this.x * t48.y - this.y * t48.x;
  }
  lengthSq() {
    return this.x * this.x + this.y * this.y;
  }
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }
  manhattanLength() {
    return Math.abs(this.x) + Math.abs(this.y);
  }
  normalize() {
    return this.divideScalar(this.length() || 1);
  }
  angle() {
    return Math.atan2(-this.y, -this.x) + Math.PI;
  }
  angleTo(t48) {
    let e6 = Math.sqrt(this.lengthSq() * t48.lengthSq());
    if (0 === e6)
      return Math.PI / 2;
    let i = this.dot(t48) / e6;
    return Math.acos(ao(i, -1, 1));
  }
  distanceTo(t48) {
    return Math.sqrt(this.distanceToSquared(t48));
  }
  distanceToSquared(t48) {
    let e6 = this.x - t48.x, i = this.y - t48.y;
    return e6 * e6 + i * i;
  }
  manhattanDistanceTo(t48) {
    return Math.abs(this.x - t48.x) + Math.abs(this.y - t48.y);
  }
  setLength(t48) {
    return this.normalize().multiplyScalar(t48);
  }
  lerp(t48, e6) {
    return this.x += (t48.x - this.x) * e6, this.y += (t48.y - this.y) * e6, this;
  }
  lerpVectors(t48, e6, i) {
    return this.x = t48.x + (e6.x - t48.x) * i, this.y = t48.y + (e6.y - t48.y) * i, this;
  }
  equals(t48) {
    return t48.x === this.x && t48.y === this.y;
  }
  fromArray(t48, e6 = 0) {
    return this.x = t48[e6], this.y = t48[e6 + 1], this;
  }
  toArray(t48 = [], e6 = 0) {
    return t48[e6] = this.x, t48[e6 + 1] = this.y, t48;
  }
  fromBufferAttribute(t48, e6) {
    return this.x = t48.getX(e6), this.y = t48.getY(e6), this;
  }
  rotateAround(t48, e6) {
    let i = Math.cos(e6), n = Math.sin(e6), r = this.x - t48.x, o3 = this.y - t48.y;
    return this.x = r * i - o3 * n + t48.x, this.y = r * n + o3 * i + t48.y, this;
  }
  random() {
    return this.x = Math.random(), this.y = Math.random(), this;
  }
  *[Symbol.iterator]() {
    yield this.x, yield this.y;
  }
};
q(gT, "Vector2");
var qe = gT;
var vT = class t22 {
  constructor() {
    t22.prototype.isMatrix3 = true, this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];
  }
  set(t48, e6, i, n, r, o3, s6, a, l) {
    let u2 = this.elements;
    return u2[0] = t48, u2[1] = n, u2[2] = s6, u2[3] = e6, u2[4] = r, u2[5] = a, u2[6] = i, u2[7] = o3, u2[8] = l, this;
  }
  identity() {
    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this;
  }
  copy(t48) {
    let e6 = this.elements, i = t48.elements;
    return e6[0] = i[0], e6[1] = i[1], e6[2] = i[2], e6[3] = i[3], e6[4] = i[4], e6[5] = i[5], e6[6] = i[6], e6[7] = i[7], e6[8] = i[8], this;
  }
  extractBasis(t48, e6, i) {
    return t48.setFromMatrix3Column(this, 0), e6.setFromMatrix3Column(this, 1), i.setFromMatrix3Column(this, 2), this;
  }
  setFromMatrix4(t48) {
    let e6 = t48.elements;
    return this.set(e6[0], e6[4], e6[8], e6[1], e6[5], e6[9], e6[2], e6[6], e6[10]), this;
  }
  multiply(t48) {
    return this.multiplyMatrices(this, t48);
  }
  premultiply(t48) {
    return this.multiplyMatrices(t48, this);
  }
  multiplyMatrices(t48, e6) {
    let i = t48.elements, n = e6.elements, r = this.elements, o3 = i[0], s6 = i[3], a = i[6], l = i[1], u2 = i[4], h = i[7], c2 = i[2], p4 = i[5], d = i[8], f = n[0], g = n[3], m = n[6], v4 = n[1], y4 = n[4], x4 = n[7], _ = n[2], b = n[5], M = n[8];
    return r[0] = o3 * f + s6 * v4 + a * _, r[3] = o3 * g + s6 * y4 + a * b, r[6] = o3 * m + s6 * x4 + a * M, r[1] = l * f + u2 * v4 + h * _, r[4] = l * g + u2 * y4 + h * b, r[7] = l * m + u2 * x4 + h * M, r[2] = c2 * f + p4 * v4 + d * _, r[5] = c2 * g + p4 * y4 + d * b, r[8] = c2 * m + p4 * x4 + d * M, this;
  }
  multiplyScalar(t48) {
    let e6 = this.elements;
    return e6[0] *= t48, e6[3] *= t48, e6[6] *= t48, e6[1] *= t48, e6[4] *= t48, e6[7] *= t48, e6[2] *= t48, e6[5] *= t48, e6[8] *= t48, this;
  }
  determinant() {
    let t48 = this.elements, e6 = t48[0], i = t48[1], n = t48[2], r = t48[3], o3 = t48[4], s6 = t48[5], a = t48[6], l = t48[7], u2 = t48[8];
    return e6 * o3 * u2 - e6 * s6 * l - i * r * u2 + i * s6 * a + n * r * l - n * o3 * a;
  }
  invert() {
    let t48 = this.elements, e6 = t48[0], i = t48[1], n = t48[2], r = t48[3], o3 = t48[4], s6 = t48[5], a = t48[6], l = t48[7], u2 = t48[8], h = u2 * o3 - s6 * l, c2 = s6 * a - u2 * r, p4 = l * r - o3 * a, d = e6 * h + i * c2 + n * p4;
    if (0 === d)
      return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);
    let f = 1 / d;
    return t48[0] = h * f, t48[1] = (n * l - u2 * i) * f, t48[2] = (s6 * i - n * o3) * f, t48[3] = c2 * f, t48[4] = (u2 * e6 - n * a) * f, t48[5] = (n * r - s6 * e6) * f, t48[6] = p4 * f, t48[7] = (i * a - l * e6) * f, t48[8] = (o3 * e6 - i * r) * f, this;
  }
  transpose() {
    let t48, e6 = this.elements;
    return t48 = e6[1], e6[1] = e6[3], e6[3] = t48, t48 = e6[2], e6[2] = e6[6], e6[6] = t48, t48 = e6[5], e6[5] = e6[7], e6[7] = t48, this;
  }
  getNormalMatrix(t48) {
    return this.setFromMatrix4(t48).invert().transpose();
  }
  transposeIntoArray(t48) {
    let e6 = this.elements;
    return t48[0] = e6[0], t48[1] = e6[3], t48[2] = e6[6], t48[3] = e6[1], t48[4] = e6[4], t48[5] = e6[7], t48[6] = e6[2], t48[7] = e6[5], t48[8] = e6[8], this;
  }
  setUvTransform(t48, e6, i, n, r, o3, s6) {
    let a = Math.cos(r), l = Math.sin(r);
    return this.set(i * a, i * l, -i * (a * o3 + l * s6) + o3 + t48, -n * l, n * a, -n * (-l * o3 + a * s6) + s6 + e6, 0, 0, 1), this;
  }
  scale(t48, e6) {
    return this.premultiply(m6.makeScale(t48, e6)), this;
  }
  rotate(t48) {
    return this.premultiply(m6.makeRotation(-t48)), this;
  }
  translate(t48, e6) {
    return this.premultiply(m6.makeTranslation(t48, e6)), this;
  }
  makeTranslation(t48, e6) {
    return this.set(1, 0, t48, 0, 1, e6, 0, 0, 1), this;
  }
  makeRotation(t48) {
    let e6 = Math.cos(t48), i = Math.sin(t48);
    return this.set(e6, -i, 0, i, e6, 0, 0, 0, 1), this;
  }
  makeScale(t48, e6) {
    return this.set(t48, 0, 0, 0, e6, 0, 0, 0, 1), this;
  }
  equals(t48) {
    let e6 = this.elements, i = t48.elements;
    for (let t49 = 0; t49 < 9; t49++)
      if (e6[t49] !== i[t49])
        return false;
    return true;
  }
  fromArray(t48, e6 = 0) {
    for (let i = 0; i < 9; i++)
      this.elements[i] = t48[i + e6];
    return this;
  }
  toArray(t48 = [], e6 = 0) {
    let i = this.elements;
    return t48[e6] = i[0], t48[e6 + 1] = i[1], t48[e6 + 2] = i[2], t48[e6 + 3] = i[3], t48[e6 + 4] = i[4], t48[e6 + 5] = i[5], t48[e6 + 6] = i[6], t48[e6 + 7] = i[7], t48[e6 + 8] = i[8], t48;
  }
  clone() {
    return new this.constructor().fromArray(this.elements);
  }
};
q(vT, "Matrix3");
var li = vT;
var m6 = new li();
function zW(t48) {
  for (let e6 = t48.length - 1; e6 >= 0; --e6)
    if (t48[e6] >= 65535)
      return true;
  return false;
}
function bx(t48) {
  return document.createElementNS("http://www.w3.org/1999/xhtml", t48);
}
function gg(t48) {
  return t48 < 0.04045 ? 0.0773993808 * t48 : Math.pow(0.9478672986 * t48 + 0.0521327014, 2.4);
}
function g6(t48) {
  return t48 < 31308e-7 ? 12.92 * t48 : 1.055 * Math.pow(t48, 0.41666) - 0.055;
}
q(zW, "arrayNeedsUint32"), q(bx, "createElementNS"), q(gg, "SRGBToLinear"), q(g6, "LinearToSRGB");
var kfe = new li().fromArray([0.8224621, 0.0331941, 0.0170827, 0.177538, 0.9668058, 0.0723974, -1e-7, 1e-7, 0.9105199]);
var qfe = new li().fromArray([1.2249401, -0.0420569, -0.0196376, -0.2249404, 1.0420571, -0.0786361, 1e-7, 0, 1.0982735]);
function Ffe(t48) {
  return t48.convertSRGBToLinear().applyMatrix3(qfe);
}
function Ufe(t48) {
  return t48.applyMatrix3(kfe).convertLinearToSRGB();
}
q(Ffe, "DisplayP3ToLinearSRGB"), q(Ufe, "LinearSRGBToDisplayP3");
var Hm;
var zfe = { [yx]: (t48) => t48, [Lr]: (t48) => t48.convertSRGBToLinear(), [FW]: Ffe };
var Gfe = { [yx]: (t48) => t48, [Lr]: (t48) => t48.convertLinearToSRGB(), [FW]: Ufe };
var Sa = { enabled: false, get legacyMode() {
  return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."), !this.enabled;
}, set legacyMode(t48) {
  console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."), this.enabled = !t48;
}, get workingColorSpace() {
  return yx;
}, set workingColorSpace(t48) {
  console.warn("THREE.ColorManagement: .workingColorSpace is readonly.");
}, convert: function(t48, e6, i) {
  if (false === this.enabled || e6 === i || !e6 || !i)
    return t48;
  let n = zfe[e6], r = Gfe[i];
  if (void 0 === n || void 0 === r)
    throw new Error('Unsupported color space conversion, "'.concat(e6, '" to "').concat(i, '".'));
  return r(n(t48));
}, fromWorkingColorSpace: function(t48, e6) {
  return this.convert(t48, this.workingColorSpace, e6);
}, toWorkingColorSpace: function(t48, e6) {
  return this.convert(t48, e6, this.workingColorSpace);
} };
var BO = class {
  static getDataURL(t48) {
    if (/^data:/i.test(t48.src) || typeof HTMLCanvasElement > "u")
      return t48.src;
    let e6;
    if (t48 instanceof HTMLCanvasElement)
      e6 = t48;
    else {
      void 0 === Hm && (Hm = bx("canvas")), Hm.width = t48.width, Hm.height = t48.height;
      let i = Hm.getContext("2d");
      t48 instanceof ImageData ? i.putImageData(t48, 0, 0) : i.drawImage(t48, 0, 0, t48.width, t48.height), e6 = Hm;
    }
    return e6.width > 2048 || e6.height > 2048 ? (console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons", t48), e6.toDataURL("image/jpeg", 0.6)) : e6.toDataURL("image/png");
  }
  static sRGBToLinear(t48) {
    if (typeof HTMLImageElement < "u" && t48 instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && t48 instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && t48 instanceof ImageBitmap) {
      let e6 = bx("canvas");
      e6.width = t48.width, e6.height = t48.height;
      let i = e6.getContext("2d");
      i.drawImage(t48, 0, 0, t48.width, t48.height);
      let n = i.getImageData(0, 0, t48.width, t48.height), r = n.data;
      for (let t49 = 0; t49 < r.length; t49++)
        r[t49] = 255 * gg(r[t49] / 255);
      return i.putImageData(n, 0, 0), e6;
    }
    if (t48.data) {
      let e6 = t48.data.slice(0);
      for (let t49 = 0; t49 < e6.length; t49++)
        e6 instanceof Uint8Array || e6 instanceof Uint8ClampedArray ? e6[t49] = Math.floor(255 * gg(e6[t49] / 255)) : e6[t49] = gg(e6[t49]);
      return { data: e6, width: t48.width, height: t48.height };
    }
    return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."), t48;
  }
};
q(BO, "ImageUtils");
var GE = BO;
var kO = class {
  constructor(t48 = null) {
    this.isSource = true, this.uuid = Cu(), this.data = t48, this.version = 0;
  }
  set needsUpdate(t48) {
    true === t48 && this.version++;
  }
  toJSON(t48) {
    let e6 = void 0 === t48 || "string" == typeof t48;
    if (!e6 && void 0 !== t48.images[this.uuid])
      return t48.images[this.uuid];
    let i = { uuid: this.uuid, url: "" }, n = this.data;
    if (null !== n) {
      let t49;
      if (Array.isArray(n)) {
        t49 = [];
        for (let e10 = 0, i10 = n.length; e10 < i10; e10++)
          n[e10].isDataTexture ? t49.push(v6(n[e10].image)) : t49.push(v6(n[e10]));
      } else
        t49 = v6(n);
      i.url = t49;
    }
    return e6 || (t48.images[this.uuid] = i), i;
  }
};
q(kO, "Source");
var Mg = kO;
function v6(t48) {
  return typeof HTMLImageElement < "u" && t48 instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && t48 instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && t48 instanceof ImageBitmap ? GE.getDataURL(t48) : t48.data ? { data: Array.from(t48.data), width: t48.width, height: t48.height, type: t48.data.constructor.name } : (console.warn("THREE.Texture: Unable to serialize Texture."), {});
}
q(v6, "serializeImage");
var Vfe = 0;
var pg = class t23 extends Eo {
  constructor(e6 = t23.DEFAULT_IMAGE, i = t23.DEFAULT_MAPPING, n = ca, r = ca, o3 = wi, s6 = Dp, a = Gs, l = Mr, u2 = t23.DEFAULT_ANISOTROPY, h = rl) {
    super(), this.isTexture = true, Object.defineProperty(this, "id", { value: Vfe++ }), this.uuid = Cu(), this.name = "", this.source = new Mg(e6), this.mipmaps = [], this.mapping = i, this.channel = 0, this.wrapS = n, this.wrapT = r, this.magFilter = o3, this.minFilter = s6, this.anisotropy = u2, this.format = a, this.internalFormat = null, this.type = l, this.offset = new qe(0, 0), this.repeat = new qe(1, 1), this.center = new qe(0, 0), this.rotation = 0, this.matrixAutoUpdate = true, this.matrix = new li(), this.generateMipmaps = true, this.premultiplyAlpha = false, this.flipY = true, this.unpackAlignment = 4, this.encoding = h, this.userData = {}, this.version = 0, this.onUpdate = null, this.isRenderTargetTexture = false, this.needsPMREMUpdate = false;
  }
  get image() {
    return this.source.data;
  }
  set image(t48 = null) {
    this.source.data = t48;
  }
  updateMatrix() {
    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    return this.name = t48.name, this.source = t48.source, this.mipmaps = t48.mipmaps.slice(0), this.mapping = t48.mapping, this.channel = t48.channel, this.wrapS = t48.wrapS, this.wrapT = t48.wrapT, this.magFilter = t48.magFilter, this.minFilter = t48.minFilter, this.anisotropy = t48.anisotropy, this.format = t48.format, this.internalFormat = t48.internalFormat, this.type = t48.type, this.offset.copy(t48.offset), this.repeat.copy(t48.repeat), this.center.copy(t48.center), this.rotation = t48.rotation, this.matrixAutoUpdate = t48.matrixAutoUpdate, this.matrix.copy(t48.matrix), this.generateMipmaps = t48.generateMipmaps, this.premultiplyAlpha = t48.premultiplyAlpha, this.flipY = t48.flipY, this.unpackAlignment = t48.unpackAlignment, this.encoding = t48.encoding, this.userData = JSON.parse(JSON.stringify(t48.userData)), this.needsUpdate = true, this;
  }
  toJSON(t48) {
    let e6 = void 0 === t48 || "string" == typeof t48;
    if (!e6 && void 0 !== t48.textures[this.uuid])
      return t48.textures[this.uuid];
    let i = { metadata: { version: 4.5, type: "Texture", generator: "Texture.toJSON" }, uuid: this.uuid, name: this.name, image: this.source.toJSON(t48).uuid, mapping: this.mapping, channel: this.channel, repeat: [this.repeat.x, this.repeat.y], offset: [this.offset.x, this.offset.y], center: [this.center.x, this.center.y], rotation: this.rotation, wrap: [this.wrapS, this.wrapT], format: this.format, internalFormat: this.internalFormat, type: this.type, encoding: this.encoding, minFilter: this.minFilter, magFilter: this.magFilter, anisotropy: this.anisotropy, flipY: this.flipY, generateMipmaps: this.generateMipmaps, premultiplyAlpha: this.premultiplyAlpha, unpackAlignment: this.unpackAlignment };
    return Object.keys(this.userData).length > 0 && (i.userData = this.userData), e6 || (t48.textures[this.uuid] = i), i;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
  transformUv(t48) {
    if (this.mapping !== Fx)
      return t48;
    if (t48.applyMatrix3(this.matrix), t48.x < 0 || t48.x > 1)
      switch (this.wrapS) {
        case wr:
          t48.x = t48.x - Math.floor(t48.x);
          break;
        case ca:
          t48.x = t48.x < 0 ? 0 : 1;
          break;
        case vx:
          1 === Math.abs(Math.floor(t48.x) % 2) ? t48.x = Math.ceil(t48.x) - t48.x : t48.x = t48.x - Math.floor(t48.x);
      }
    if (t48.y < 0 || t48.y > 1)
      switch (this.wrapT) {
        case wr:
          t48.y = t48.y - Math.floor(t48.y);
          break;
        case ca:
          t48.y = t48.y < 0 ? 0 : 1;
          break;
        case vx:
          1 === Math.abs(Math.floor(t48.y) % 2) ? t48.y = Math.ceil(t48.y) - t48.y : t48.y = t48.y - Math.floor(t48.y);
      }
    return this.flipY && (t48.y = 1 - t48.y), t48;
  }
  set needsUpdate(t48) {
    true === t48 && (this.version++, this.source.needsUpdate = true);
  }
};
q(pg, "Texture");
var Er = pg;
Er.DEFAULT_IMAGE = null, Er.DEFAULT_MAPPING = Fx, Er.DEFAULT_ANISOTROPY = 1;
var yT = class t24 {
  constructor(e6 = 0, i = 0, n = 0, r = 1) {
    t24.prototype.isVector4 = true, this.x = e6, this.y = i, this.z = n, this.w = r;
  }
  get width() {
    return this.z;
  }
  set width(t48) {
    this.z = t48;
  }
  get height() {
    return this.w;
  }
  set height(t48) {
    this.w = t48;
  }
  set(t48, e6, i, n) {
    return this.x = t48, this.y = e6, this.z = i, this.w = n, this;
  }
  setScalar(t48) {
    return this.x = t48, this.y = t48, this.z = t48, this.w = t48, this;
  }
  setX(t48) {
    return this.x = t48, this;
  }
  setY(t48) {
    return this.y = t48, this;
  }
  setZ(t48) {
    return this.z = t48, this;
  }
  setW(t48) {
    return this.w = t48, this;
  }
  setComponent(t48, e6) {
    switch (t48) {
      case 0:
        this.x = e6;
        break;
      case 1:
        this.y = e6;
        break;
      case 2:
        this.z = e6;
        break;
      case 3:
        this.w = e6;
        break;
      default:
        throw new Error("index is out of range: " + t48);
    }
    return this;
  }
  getComponent(t48) {
    switch (t48) {
      case 0:
        return this.x;
      case 1:
        return this.y;
      case 2:
        return this.z;
      case 3:
        return this.w;
      default:
        throw new Error("index is out of range: " + t48);
    }
  }
  clone() {
    return new this.constructor(this.x, this.y, this.z, this.w);
  }
  copy(t48) {
    return this.x = t48.x, this.y = t48.y, this.z = t48.z, this.w = void 0 !== t48.w ? t48.w : 1, this;
  }
  add(t48) {
    return this.x += t48.x, this.y += t48.y, this.z += t48.z, this.w += t48.w, this;
  }
  addScalar(t48) {
    return this.x += t48, this.y += t48, this.z += t48, this.w += t48, this;
  }
  addVectors(t48, e6) {
    return this.x = t48.x + e6.x, this.y = t48.y + e6.y, this.z = t48.z + e6.z, this.w = t48.w + e6.w, this;
  }
  addScaledVector(t48, e6) {
    return this.x += t48.x * e6, this.y += t48.y * e6, this.z += t48.z * e6, this.w += t48.w * e6, this;
  }
  sub(t48) {
    return this.x -= t48.x, this.y -= t48.y, this.z -= t48.z, this.w -= t48.w, this;
  }
  subScalar(t48) {
    return this.x -= t48, this.y -= t48, this.z -= t48, this.w -= t48, this;
  }
  subVectors(t48, e6) {
    return this.x = t48.x - e6.x, this.y = t48.y - e6.y, this.z = t48.z - e6.z, this.w = t48.w - e6.w, this;
  }
  multiply(t48) {
    return this.x *= t48.x, this.y *= t48.y, this.z *= t48.z, this.w *= t48.w, this;
  }
  multiplyScalar(t48) {
    return this.x *= t48, this.y *= t48, this.z *= t48, this.w *= t48, this;
  }
  applyMatrix4(t48) {
    let e6 = this.x, i = this.y, n = this.z, r = this.w, o3 = t48.elements;
    return this.x = o3[0] * e6 + o3[4] * i + o3[8] * n + o3[12] * r, this.y = o3[1] * e6 + o3[5] * i + o3[9] * n + o3[13] * r, this.z = o3[2] * e6 + o3[6] * i + o3[10] * n + o3[14] * r, this.w = o3[3] * e6 + o3[7] * i + o3[11] * n + o3[15] * r, this;
  }
  divideScalar(t48) {
    return this.multiplyScalar(1 / t48);
  }
  setAxisAngleFromQuaternion(t48) {
    this.w = 2 * Math.acos(t48.w);
    let e6 = Math.sqrt(1 - t48.w * t48.w);
    return e6 < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t48.x / e6, this.y = t48.y / e6, this.z = t48.z / e6), this;
  }
  setAxisAngleFromRotationMatrix(t48) {
    let e6, i, n, r, o3 = t48.elements, s6 = o3[0], a = o3[4], l = o3[8], u2 = o3[1], h = o3[5], c2 = o3[9], p4 = o3[2], d = o3[6], f = o3[10];
    if (Math.abs(a - u2) < 0.01 && Math.abs(l - p4) < 0.01 && Math.abs(c2 - d) < 0.01) {
      if (Math.abs(a + u2) < 0.1 && Math.abs(l + p4) < 0.1 && Math.abs(c2 + d) < 0.1 && Math.abs(s6 + h + f - 3) < 0.1)
        return this.set(1, 0, 0, 0), this;
      e6 = Math.PI;
      let t49 = (s6 + 1) / 2, o6 = (h + 1) / 2, g4 = (f + 1) / 2, m = (a + u2) / 4, v4 = (l + p4) / 4, y4 = (c2 + d) / 4;
      return t49 > o6 && t49 > g4 ? t49 < 0.01 ? (i = 0, n = 0.707106781, r = 0.707106781) : (i = Math.sqrt(t49), n = m / i, r = v4 / i) : o6 > g4 ? o6 < 0.01 ? (i = 0.707106781, n = 0, r = 0.707106781) : (n = Math.sqrt(o6), i = m / n, r = y4 / n) : g4 < 0.01 ? (i = 0.707106781, n = 0.707106781, r = 0) : (r = Math.sqrt(g4), i = v4 / r, n = y4 / r), this.set(i, n, r, e6), this;
    }
    let g = Math.sqrt((d - c2) * (d - c2) + (l - p4) * (l - p4) + (u2 - a) * (u2 - a));
    return Math.abs(g) < 1e-3 && (g = 1), this.x = (d - c2) / g, this.y = (l - p4) / g, this.z = (u2 - a) / g, this.w = Math.acos((s6 + h + f - 1) / 2), this;
  }
  min(t48) {
    return this.x = Math.min(this.x, t48.x), this.y = Math.min(this.y, t48.y), this.z = Math.min(this.z, t48.z), this.w = Math.min(this.w, t48.w), this;
  }
  max(t48) {
    return this.x = Math.max(this.x, t48.x), this.y = Math.max(this.y, t48.y), this.z = Math.max(this.z, t48.z), this.w = Math.max(this.w, t48.w), this;
  }
  clamp(t48, e6) {
    return this.x = Math.max(t48.x, Math.min(e6.x, this.x)), this.y = Math.max(t48.y, Math.min(e6.y, this.y)), this.z = Math.max(t48.z, Math.min(e6.z, this.z)), this.w = Math.max(t48.w, Math.min(e6.w, this.w)), this;
  }
  clampScalar(t48, e6) {
    return this.x = Math.max(t48, Math.min(e6, this.x)), this.y = Math.max(t48, Math.min(e6, this.y)), this.z = Math.max(t48, Math.min(e6, this.z)), this.w = Math.max(t48, Math.min(e6, this.w)), this;
  }
  clampLength(t48, e6) {
    let i = this.length();
    return this.divideScalar(i || 1).multiplyScalar(Math.max(t48, Math.min(e6, i)));
  }
  floor() {
    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this;
  }
  ceil() {
    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this;
  }
  round() {
    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this;
  }
  roundToZero() {
    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this;
  }
  negate() {
    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this;
  }
  dot(t48) {
    return this.x * t48.x + this.y * t48.y + this.z * t48.z + this.w * t48.w;
  }
  lengthSq() {
    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
  }
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
  }
  manhattanLength() {
    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
  }
  normalize() {
    return this.divideScalar(this.length() || 1);
  }
  setLength(t48) {
    return this.normalize().multiplyScalar(t48);
  }
  lerp(t48, e6) {
    return this.x += (t48.x - this.x) * e6, this.y += (t48.y - this.y) * e6, this.z += (t48.z - this.z) * e6, this.w += (t48.w - this.w) * e6, this;
  }
  lerpVectors(t48, e6, i) {
    return this.x = t48.x + (e6.x - t48.x) * i, this.y = t48.y + (e6.y - t48.y) * i, this.z = t48.z + (e6.z - t48.z) * i, this.w = t48.w + (e6.w - t48.w) * i, this;
  }
  equals(t48) {
    return t48.x === this.x && t48.y === this.y && t48.z === this.z && t48.w === this.w;
  }
  fromArray(t48, e6 = 0) {
    return this.x = t48[e6], this.y = t48[e6 + 1], this.z = t48[e6 + 2], this.w = t48[e6 + 3], this;
  }
  toArray(t48 = [], e6 = 0) {
    return t48[e6] = this.x, t48[e6 + 1] = this.y, t48[e6 + 2] = this.z, t48[e6 + 3] = this.w, t48;
  }
  fromBufferAttribute(t48, e6) {
    return this.x = t48.getX(e6), this.y = t48.getY(e6), this.z = t48.getZ(e6), this.w = t48.getW(e6), this;
  }
  random() {
    return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this.w = Math.random(), this;
  }
  *[Symbol.iterator]() {
    yield this.x, yield this.y, yield this.z, yield this.w;
  }
};
q(yT, "Vector4");
var Fi = yT;
var qO = class extends Eo {
  constructor(t48 = 1, e6 = 1, i = {}) {
    super(), this.isWebGLRenderTarget = true, this.width = t48, this.height = e6, this.depth = 1, this.scissor = new Fi(0, 0, t48, e6), this.scissorTest = false, this.viewport = new Fi(0, 0, t48, e6);
    let n = { width: t48, height: e6, depth: 1 };
    this.texture = new Er(n, i.mapping, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.texture.isRenderTargetTexture = true, this.texture.flipY = false, this.texture.generateMipmaps = void 0 !== i.generateMipmaps && i.generateMipmaps, this.texture.internalFormat = void 0 !== i.internalFormat ? i.internalFormat : null, this.texture.minFilter = void 0 !== i.minFilter ? i.minFilter : wi, this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 !== i.stencilBuffer && i.stencilBuffer, this.depthTexture = void 0 !== i.depthTexture ? i.depthTexture : null, this.samples = void 0 !== i.samples ? i.samples : 0;
  }
  setSize(t48, e6, i = 1) {
    (this.width !== t48 || this.height !== e6 || this.depth !== i) && (this.width = t48, this.height = e6, this.depth = i, this.texture.image.width = t48, this.texture.image.height = e6, this.texture.image.depth = i, this.dispose()), this.viewport.set(0, 0, t48, e6), this.scissor.set(0, 0, t48, e6);
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    this.width = t48.width, this.height = t48.height, this.depth = t48.depth, this.viewport.copy(t48.viewport), this.texture = t48.texture.clone(), this.texture.isRenderTargetTexture = true;
    let e6 = Object.assign({}, t48.texture.image);
    return this.texture.source = new Mg(e6), this.depthBuffer = t48.depthBuffer, this.stencilBuffer = t48.stencilBuffer, null !== t48.depthTexture && (this.depthTexture = t48.depthTexture.clone()), this.samples = t48.samples, this;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
};
q(qO, "WebGLRenderTarget");
var ti = qO;
var FO = class extends Er {
  constructor(t48 = null, e6 = 1, i = 1, n = 1) {
    super(null), this.isDataArrayTexture = true, this.image = { data: t48, width: e6, height: i, depth: n }, this.magFilter = ui, this.minFilter = ui, this.wrapR = ca, this.generateMipmaps = false, this.flipY = false, this.unpackAlignment = 1;
  }
};
q(FO, "DataArrayTexture");
var VE = FO;
var UO = class extends Er {
  constructor(t48 = null, e6 = 1, i = 1, n = 1) {
    super(null), this.isData3DTexture = true, this.image = { data: t48, width: e6, height: i, depth: n }, this.magFilter = ui, this.minFilter = ui, this.wrapR = ca, this.generateMipmaps = false, this.flipY = false, this.unpackAlignment = 1;
  }
};
q(UO, "Data3DTexture");
var HE = UO;
var zO = class extends ti {
  constructor(t48 = 1, e6 = 1, i = 1, n = {}) {
    super(t48, e6, n), this.isWebGLMultipleRenderTargets = true;
    let r = this.texture;
    this.texture = [];
    for (let t49 = 0; t49 < i; t49++)
      this.texture[t49] = r.clone(), this.texture[t49].isRenderTargetTexture = true;
  }
  setSize(t48, e6, i = 1) {
    if (this.width !== t48 || this.height !== e6 || this.depth !== i) {
      this.width = t48, this.height = e6, this.depth = i;
      for (let n = 0, r = this.texture.length; n < r; n++)
        this.texture[n].image.width = t48, this.texture[n].image.height = e6, this.texture[n].image.depth = i;
      this.dispose();
    }
    return this.viewport.set(0, 0, t48, e6), this.scissor.set(0, 0, t48, e6), this;
  }
  copy(t48) {
    this.dispose(), this.width = t48.width, this.height = t48.height, this.depth = t48.depth, this.viewport.set(0, 0, this.width, this.height), this.scissor.set(0, 0, this.width, this.height), this.depthBuffer = t48.depthBuffer, this.stencilBuffer = t48.stencilBuffer, null !== t48.depthTexture && (this.depthTexture = t48.depthTexture.clone()), this.texture.length = 0;
    for (let e6 = 0, i = t48.texture.length; e6 < i; e6++)
      this.texture[e6] = t48.texture[e6].clone(), this.texture[e6].isRenderTargetTexture = true;
    return this;
  }
};
q(zO, "WebGLMultipleRenderTargets");
var jE = zO;
var GO = class {
  constructor(t48 = 0, e6 = 0, i = 0, n = 1) {
    this.isQuaternion = true, this._x = t48, this._y = e6, this._z = i, this._w = n;
  }
  static slerpFlat(t48, e6, i, n, r, o3, s6) {
    let a = i[n + 0], l = i[n + 1], u2 = i[n + 2], h = i[n + 3], c2 = r[o3 + 0], p4 = r[o3 + 1], d = r[o3 + 2], f = r[o3 + 3];
    if (0 === s6)
      return t48[e6 + 0] = a, t48[e6 + 1] = l, t48[e6 + 2] = u2, void (t48[e6 + 3] = h);
    if (1 === s6)
      return t48[e6 + 0] = c2, t48[e6 + 1] = p4, t48[e6 + 2] = d, void (t48[e6 + 3] = f);
    if (h !== f || a !== c2 || l !== p4 || u2 !== d) {
      let t49 = 1 - s6, e10 = a * c2 + l * p4 + u2 * d + h * f, i10 = e10 >= 0 ? 1 : -1, n10 = 1 - e10 * e10;
      if (n10 > Number.EPSILON) {
        let r10 = Math.sqrt(n10), o6 = Math.atan2(r10, e10 * i10);
        t49 = Math.sin(t49 * o6) / r10, s6 = Math.sin(s6 * o6) / r10;
      }
      let r6 = s6 * i10;
      if (a = a * t49 + c2 * r6, l = l * t49 + p4 * r6, u2 = u2 * t49 + d * r6, h = h * t49 + f * r6, t49 === 1 - s6) {
        let t50 = 1 / Math.sqrt(a * a + l * l + u2 * u2 + h * h);
        a *= t50, l *= t50, u2 *= t50, h *= t50;
      }
    }
    t48[e6] = a, t48[e6 + 1] = l, t48[e6 + 2] = u2, t48[e6 + 3] = h;
  }
  static multiplyQuaternionsFlat(t48, e6, i, n, r, o3) {
    let s6 = i[n], a = i[n + 1], l = i[n + 2], u2 = i[n + 3], h = r[o3], c2 = r[o3 + 1], p4 = r[o3 + 2], d = r[o3 + 3];
    return t48[e6] = s6 * d + u2 * h + a * p4 - l * c2, t48[e6 + 1] = a * d + u2 * c2 + l * h - s6 * p4, t48[e6 + 2] = l * d + u2 * p4 + s6 * c2 - a * h, t48[e6 + 3] = u2 * d - s6 * h - a * c2 - l * p4, t48;
  }
  get x() {
    return this._x;
  }
  set x(t48) {
    this._x = t48, this._onChangeCallback();
  }
  get y() {
    return this._y;
  }
  set y(t48) {
    this._y = t48, this._onChangeCallback();
  }
  get z() {
    return this._z;
  }
  set z(t48) {
    this._z = t48, this._onChangeCallback();
  }
  get w() {
    return this._w;
  }
  set w(t48) {
    this._w = t48, this._onChangeCallback();
  }
  set(t48, e6, i, n) {
    return this._x = t48, this._y = e6, this._z = i, this._w = n, this._onChangeCallback(), this;
  }
  clone() {
    return new this.constructor(this._x, this._y, this._z, this._w);
  }
  copy(t48) {
    return this._x = t48.x, this._y = t48.y, this._z = t48.z, this._w = t48.w, this._onChangeCallback(), this;
  }
  setFromEuler(t48, e6) {
    let i = t48._x, n = t48._y, r = t48._z, o3 = t48._order, s6 = Math.cos, a = Math.sin, l = s6(i / 2), u2 = s6(n / 2), h = s6(r / 2), c2 = a(i / 2), p4 = a(n / 2), d = a(r / 2);
    switch (o3) {
      case "XYZ":
        this._x = c2 * u2 * h + l * p4 * d, this._y = l * p4 * h - c2 * u2 * d, this._z = l * u2 * d + c2 * p4 * h, this._w = l * u2 * h - c2 * p4 * d;
        break;
      case "YXZ":
        this._x = c2 * u2 * h + l * p4 * d, this._y = l * p4 * h - c2 * u2 * d, this._z = l * u2 * d - c2 * p4 * h, this._w = l * u2 * h + c2 * p4 * d;
        break;
      case "ZXY":
        this._x = c2 * u2 * h - l * p4 * d, this._y = l * p4 * h + c2 * u2 * d, this._z = l * u2 * d + c2 * p4 * h, this._w = l * u2 * h - c2 * p4 * d;
        break;
      case "ZYX":
        this._x = c2 * u2 * h - l * p4 * d, this._y = l * p4 * h + c2 * u2 * d, this._z = l * u2 * d - c2 * p4 * h, this._w = l * u2 * h + c2 * p4 * d;
        break;
      case "YZX":
        this._x = c2 * u2 * h + l * p4 * d, this._y = l * p4 * h + c2 * u2 * d, this._z = l * u2 * d - c2 * p4 * h, this._w = l * u2 * h - c2 * p4 * d;
        break;
      case "XZY":
        this._x = c2 * u2 * h - l * p4 * d, this._y = l * p4 * h - c2 * u2 * d, this._z = l * u2 * d + c2 * p4 * h, this._w = l * u2 * h + c2 * p4 * d;
        break;
      default:
        console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: " + o3);
    }
    return false !== e6 && this._onChangeCallback(), this;
  }
  setFromAxisAngle(t48, e6) {
    let i = e6 / 2, n = Math.sin(i);
    return this._x = t48.x * n, this._y = t48.y * n, this._z = t48.z * n, this._w = Math.cos(i), this._onChangeCallback(), this;
  }
  setFromRotationMatrix(t48) {
    let e6 = t48.elements, i = e6[0], n = e6[4], r = e6[8], o3 = e6[1], s6 = e6[5], a = e6[9], l = e6[2], u2 = e6[6], h = e6[10], c2 = i + s6 + h;
    if (c2 > 0) {
      let t49 = 0.5 / Math.sqrt(c2 + 1);
      this._w = 0.25 / t49, this._x = (u2 - a) * t49, this._y = (r - l) * t49, this._z = (o3 - n) * t49;
    } else if (i > s6 && i > h) {
      let t49 = 2 * Math.sqrt(1 + i - s6 - h);
      this._w = (u2 - a) / t49, this._x = 0.25 * t49, this._y = (n + o3) / t49, this._z = (r + l) / t49;
    } else if (s6 > h) {
      let t49 = 2 * Math.sqrt(1 + s6 - i - h);
      this._w = (r - l) / t49, this._x = (n + o3) / t49, this._y = 0.25 * t49, this._z = (a + u2) / t49;
    } else {
      let t49 = 2 * Math.sqrt(1 + h - i - s6);
      this._w = (o3 - n) / t49, this._x = (r + l) / t49, this._y = (a + u2) / t49, this._z = 0.25 * t49;
    }
    return this._onChangeCallback(), this;
  }
  setFromUnitVectors(t48, e6) {
    let i = t48.dot(e6) + 1;
    return i < Number.EPSILON ? (i = 0, Math.abs(t48.x) > Math.abs(t48.z) ? (this._x = -t48.y, this._y = t48.x, this._z = 0, this._w = i) : (this._x = 0, this._y = -t48.z, this._z = t48.y, this._w = i)) : (this._x = t48.y * e6.z - t48.z * e6.y, this._y = t48.z * e6.x - t48.x * e6.z, this._z = t48.x * e6.y - t48.y * e6.x, this._w = i), this.normalize();
  }
  angleTo(t48) {
    return 2 * Math.acos(Math.abs(ao(this.dot(t48), -1, 1)));
  }
  rotateTowards(t48, e6) {
    let i = this.angleTo(t48);
    if (0 === i)
      return this;
    let n = Math.min(1, e6 / i);
    return this.slerp(t48, n), this;
  }
  identity() {
    return this.set(0, 0, 0, 1);
  }
  invert() {
    return this.conjugate();
  }
  conjugate() {
    return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this;
  }
  dot(t48) {
    return this._x * t48._x + this._y * t48._y + this._z * t48._z + this._w * t48._w;
  }
  lengthSq() {
    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;
  }
  length() {
    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);
  }
  normalize() {
    let t48 = this.length();
    return 0 === t48 ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t48 = 1 / t48, this._x = this._x * t48, this._y = this._y * t48, this._z = this._z * t48, this._w = this._w * t48), this._onChangeCallback(), this;
  }
  multiply(t48) {
    return this.multiplyQuaternions(this, t48);
  }
  premultiply(t48) {
    return this.multiplyQuaternions(t48, this);
  }
  multiplyQuaternions(t48, e6) {
    let i = t48._x, n = t48._y, r = t48._z, o3 = t48._w, s6 = e6._x, a = e6._y, l = e6._z, u2 = e6._w;
    return this._x = i * u2 + o3 * s6 + n * l - r * a, this._y = n * u2 + o3 * a + r * s6 - i * l, this._z = r * u2 + o3 * l + i * a - n * s6, this._w = o3 * u2 - i * s6 - n * a - r * l, this._onChangeCallback(), this;
  }
  slerp(t48, e6) {
    if (0 === e6)
      return this;
    if (1 === e6)
      return this.copy(t48);
    let i = this._x, n = this._y, r = this._z, o3 = this._w, s6 = o3 * t48._w + i * t48._x + n * t48._y + r * t48._z;
    if (s6 < 0 ? (this._w = -t48._w, this._x = -t48._x, this._y = -t48._y, this._z = -t48._z, s6 = -s6) : this.copy(t48), s6 >= 1)
      return this._w = o3, this._x = i, this._y = n, this._z = r, this;
    let a = 1 - s6 * s6;
    if (a <= Number.EPSILON) {
      let t49 = 1 - e6;
      return this._w = t49 * o3 + e6 * this._w, this._x = t49 * i + e6 * this._x, this._y = t49 * n + e6 * this._y, this._z = t49 * r + e6 * this._z, this.normalize(), this._onChangeCallback(), this;
    }
    let l = Math.sqrt(a), u2 = Math.atan2(l, s6), h = Math.sin((1 - e6) * u2) / l, c2 = Math.sin(e6 * u2) / l;
    return this._w = o3 * h + this._w * c2, this._x = i * h + this._x * c2, this._y = n * h + this._y * c2, this._z = r * h + this._z * c2, this._onChangeCallback(), this;
  }
  slerpQuaternions(t48, e6, i) {
    return this.copy(t48).slerp(e6, i);
  }
  random() {
    let t48 = Math.random(), e6 = Math.sqrt(1 - t48), i = Math.sqrt(t48), n = 2 * Math.PI * Math.random(), r = 2 * Math.PI * Math.random();
    return this.set(e6 * Math.cos(n), i * Math.sin(r), i * Math.cos(r), e6 * Math.sin(n));
  }
  equals(t48) {
    return t48._x === this._x && t48._y === this._y && t48._z === this._z && t48._w === this._w;
  }
  fromArray(t48, e6 = 0) {
    return this._x = t48[e6], this._y = t48[e6 + 1], this._z = t48[e6 + 2], this._w = t48[e6 + 3], this._onChangeCallback(), this;
  }
  toArray(t48 = [], e6 = 0) {
    return t48[e6] = this._x, t48[e6 + 1] = this._y, t48[e6 + 2] = this._z, t48[e6 + 3] = this._w, t48;
  }
  fromBufferAttribute(t48, e6) {
    return this._x = t48.getX(e6), this._y = t48.getY(e6), this._z = t48.getZ(e6), this._w = t48.getW(e6), this;
  }
  toJSON() {
    return this.toArray();
  }
  _onChange(t48) {
    return this._onChangeCallback = t48, this;
  }
  _onChangeCallback() {
  }
  *[Symbol.iterator]() {
    yield this._x, yield this._y, yield this._z, yield this._w;
  }
};
q(GO, "Quaternion");
var Ia = GO;
var xT = class t25 {
  constructor(e6 = 0, i = 0, n = 0) {
    t25.prototype.isVector3 = true, this.x = e6, this.y = i, this.z = n;
  }
  set(t48, e6, i) {
    return void 0 === i && (i = this.z), this.x = t48, this.y = e6, this.z = i, this;
  }
  setScalar(t48) {
    return this.x = t48, this.y = t48, this.z = t48, this;
  }
  setX(t48) {
    return this.x = t48, this;
  }
  setY(t48) {
    return this.y = t48, this;
  }
  setZ(t48) {
    return this.z = t48, this;
  }
  setComponent(t48, e6) {
    switch (t48) {
      case 0:
        this.x = e6;
        break;
      case 1:
        this.y = e6;
        break;
      case 2:
        this.z = e6;
        break;
      default:
        throw new Error("index is out of range: " + t48);
    }
    return this;
  }
  getComponent(t48) {
    switch (t48) {
      case 0:
        return this.x;
      case 1:
        return this.y;
      case 2:
        return this.z;
      default:
        throw new Error("index is out of range: " + t48);
    }
  }
  clone() {
    return new this.constructor(this.x, this.y, this.z);
  }
  copy(t48) {
    return this.x = t48.x, this.y = t48.y, this.z = t48.z, this;
  }
  add(t48) {
    return this.x += t48.x, this.y += t48.y, this.z += t48.z, this;
  }
  addScalar(t48) {
    return this.x += t48, this.y += t48, this.z += t48, this;
  }
  addVectors(t48, e6) {
    return this.x = t48.x + e6.x, this.y = t48.y + e6.y, this.z = t48.z + e6.z, this;
  }
  addScaledVector(t48, e6) {
    return this.x += t48.x * e6, this.y += t48.y * e6, this.z += t48.z * e6, this;
  }
  sub(t48) {
    return this.x -= t48.x, this.y -= t48.y, this.z -= t48.z, this;
  }
  subScalar(t48) {
    return this.x -= t48, this.y -= t48, this.z -= t48, this;
  }
  subVectors(t48, e6) {
    return this.x = t48.x - e6.x, this.y = t48.y - e6.y, this.z = t48.z - e6.z, this;
  }
  multiply(t48) {
    return this.x *= t48.x, this.y *= t48.y, this.z *= t48.z, this;
  }
  multiplyScalar(t48) {
    return this.x *= t48, this.y *= t48, this.z *= t48, this;
  }
  multiplyVectors(t48, e6) {
    return this.x = t48.x * e6.x, this.y = t48.y * e6.y, this.z = t48.z * e6.z, this;
  }
  applyEuler(t48) {
    return this.applyQuaternion(Bj.setFromEuler(t48));
  }
  applyAxisAngle(t48, e6) {
    return this.applyQuaternion(Bj.setFromAxisAngle(t48, e6));
  }
  applyMatrix3(t48) {
    let e6 = this.x, i = this.y, n = this.z, r = t48.elements;
    return this.x = r[0] * e6 + r[3] * i + r[6] * n, this.y = r[1] * e6 + r[4] * i + r[7] * n, this.z = r[2] * e6 + r[5] * i + r[8] * n, this;
  }
  applyNormalMatrix(t48) {
    return this.applyMatrix3(t48).normalize();
  }
  applyMatrix4(t48) {
    let e6 = this.x, i = this.y, n = this.z, r = t48.elements, o3 = 1 / (r[3] * e6 + r[7] * i + r[11] * n + r[15]);
    return this.x = (r[0] * e6 + r[4] * i + r[8] * n + r[12]) * o3, this.y = (r[1] * e6 + r[5] * i + r[9] * n + r[13]) * o3, this.z = (r[2] * e6 + r[6] * i + r[10] * n + r[14]) * o3, this;
  }
  applyQuaternion(t48) {
    let e6 = this.x, i = this.y, n = this.z, r = t48.x, o3 = t48.y, s6 = t48.z, a = t48.w, l = a * e6 + o3 * n - s6 * i, u2 = a * i + s6 * e6 - r * n, h = a * n + r * i - o3 * e6, c2 = -r * e6 - o3 * i - s6 * n;
    return this.x = l * a + c2 * -r + u2 * -s6 - h * -o3, this.y = u2 * a + c2 * -o3 + h * -r - l * -s6, this.z = h * a + c2 * -s6 + l * -o3 - u2 * -r, this;
  }
  project(t48) {
    return this.applyMatrix4(t48.matrixWorldInverse).applyMatrix4(t48.projectionMatrix);
  }
  unproject(t48) {
    return this.applyMatrix4(t48.projectionMatrixInverse).applyMatrix4(t48.matrixWorld);
  }
  transformDirection(t48) {
    let e6 = this.x, i = this.y, n = this.z, r = t48.elements;
    return this.x = r[0] * e6 + r[4] * i + r[8] * n, this.y = r[1] * e6 + r[5] * i + r[9] * n, this.z = r[2] * e6 + r[6] * i + r[10] * n, this.normalize();
  }
  divide(t48) {
    return this.x /= t48.x, this.y /= t48.y, this.z /= t48.z, this;
  }
  divideScalar(t48) {
    return this.multiplyScalar(1 / t48);
  }
  min(t48) {
    return this.x = Math.min(this.x, t48.x), this.y = Math.min(this.y, t48.y), this.z = Math.min(this.z, t48.z), this;
  }
  max(t48) {
    return this.x = Math.max(this.x, t48.x), this.y = Math.max(this.y, t48.y), this.z = Math.max(this.z, t48.z), this;
  }
  clamp(t48, e6) {
    return this.x = Math.max(t48.x, Math.min(e6.x, this.x)), this.y = Math.max(t48.y, Math.min(e6.y, this.y)), this.z = Math.max(t48.z, Math.min(e6.z, this.z)), this;
  }
  clampScalar(t48, e6) {
    return this.x = Math.max(t48, Math.min(e6, this.x)), this.y = Math.max(t48, Math.min(e6, this.y)), this.z = Math.max(t48, Math.min(e6, this.z)), this;
  }
  clampLength(t48, e6) {
    let i = this.length();
    return this.divideScalar(i || 1).multiplyScalar(Math.max(t48, Math.min(e6, i)));
  }
  floor() {
    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this;
  }
  ceil() {
    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this;
  }
  round() {
    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this;
  }
  roundToZero() {
    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this;
  }
  negate() {
    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this;
  }
  dot(t48) {
    return this.x * t48.x + this.y * t48.y + this.z * t48.z;
  }
  lengthSq() {
    return this.x * this.x + this.y * this.y + this.z * this.z;
  }
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
  }
  manhattanLength() {
    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
  }
  normalize() {
    return this.divideScalar(this.length() || 1);
  }
  setLength(t48) {
    return this.normalize().multiplyScalar(t48);
  }
  lerp(t48, e6) {
    return this.x += (t48.x - this.x) * e6, this.y += (t48.y - this.y) * e6, this.z += (t48.z - this.z) * e6, this;
  }
  lerpVectors(t48, e6, i) {
    return this.x = t48.x + (e6.x - t48.x) * i, this.y = t48.y + (e6.y - t48.y) * i, this.z = t48.z + (e6.z - t48.z) * i, this;
  }
  cross(t48) {
    return this.crossVectors(this, t48);
  }
  crossVectors(t48, e6) {
    let i = t48.x, n = t48.y, r = t48.z, o3 = e6.x, s6 = e6.y, a = e6.z;
    return this.x = n * a - r * s6, this.y = r * o3 - i * a, this.z = i * s6 - n * o3, this;
  }
  projectOnVector(t48) {
    let e6 = t48.lengthSq();
    if (0 === e6)
      return this.set(0, 0, 0);
    let i = t48.dot(this) / e6;
    return this.copy(t48).multiplyScalar(i);
  }
  projectOnPlane(t48) {
    return y6.copy(this).projectOnVector(t48), this.sub(y6);
  }
  reflect(t48) {
    return this.sub(y6.copy(t48).multiplyScalar(2 * this.dot(t48)));
  }
  angleTo(t48) {
    let e6 = Math.sqrt(this.lengthSq() * t48.lengthSq());
    if (0 === e6)
      return Math.PI / 2;
    let i = this.dot(t48) / e6;
    return Math.acos(ao(i, -1, 1));
  }
  distanceTo(t48) {
    return Math.sqrt(this.distanceToSquared(t48));
  }
  distanceToSquared(t48) {
    let e6 = this.x - t48.x, i = this.y - t48.y, n = this.z - t48.z;
    return e6 * e6 + i * i + n * n;
  }
  manhattanDistanceTo(t48) {
    return Math.abs(this.x - t48.x) + Math.abs(this.y - t48.y) + Math.abs(this.z - t48.z);
  }
  setFromSpherical(t48) {
    return this.setFromSphericalCoords(t48.radius, t48.phi, t48.theta);
  }
  setFromSphericalCoords(t48, e6, i) {
    let n = Math.sin(e6) * t48;
    return this.x = n * Math.sin(i), this.y = Math.cos(e6) * t48, this.z = n * Math.cos(i), this;
  }
  setFromCylindrical(t48) {
    return this.setFromCylindricalCoords(t48.radius, t48.theta, t48.y);
  }
  setFromCylindricalCoords(t48, e6, i) {
    return this.x = t48 * Math.sin(e6), this.y = i, this.z = t48 * Math.cos(e6), this;
  }
  setFromMatrixPosition(t48) {
    let e6 = t48.elements;
    return this.x = e6[12], this.y = e6[13], this.z = e6[14], this;
  }
  setFromMatrixScale(t48) {
    let e6 = this.setFromMatrixColumn(t48, 0).length(), i = this.setFromMatrixColumn(t48, 1).length(), n = this.setFromMatrixColumn(t48, 2).length();
    return this.x = e6, this.y = i, this.z = n, this;
  }
  setFromMatrixColumn(t48, e6) {
    return this.fromArray(t48.elements, 4 * e6);
  }
  setFromMatrix3Column(t48, e6) {
    return this.fromArray(t48.elements, 3 * e6);
  }
  setFromEuler(t48) {
    return this.x = t48._x, this.y = t48._y, this.z = t48._z, this;
  }
  setFromColor(t48) {
    return this.x = t48.r, this.y = t48.g, this.z = t48.b, this;
  }
  equals(t48) {
    return t48.x === this.x && t48.y === this.y && t48.z === this.z;
  }
  fromArray(t48, e6 = 0) {
    return this.x = t48[e6], this.y = t48[e6 + 1], this.z = t48[e6 + 2], this;
  }
  toArray(t48 = [], e6 = 0) {
    return t48[e6] = this.x, t48[e6 + 1] = this.y, t48[e6 + 2] = this.z, t48;
  }
  fromBufferAttribute(t48, e6) {
    return this.x = t48.getX(e6), this.y = t48.getY(e6), this.z = t48.getZ(e6), this;
  }
  random() {
    return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this;
  }
  randomDirection() {
    let t48 = 2 * (Math.random() - 0.5), e6 = Math.random() * Math.PI * 2, i = Math.sqrt(1 - t48 ** 2);
    return this.x = i * Math.cos(e6), this.y = i * Math.sin(e6), this.z = t48, this;
  }
  *[Symbol.iterator]() {
    yield this.x, yield this.y, yield this.z;
  }
};
q(xT, "Vector3");
var K = xT;
var y6 = new K();
var Bj = new Ia();
var VO = class {
  constructor(t48 = new K(1 / 0, 1 / 0, 1 / 0), e6 = new K(-1 / 0, -1 / 0, -1 / 0)) {
    this.isBox3 = true, this.min = t48, this.max = e6;
  }
  set(t48, e6) {
    return this.min.copy(t48), this.max.copy(e6), this;
  }
  setFromArray(t48) {
    this.makeEmpty();
    for (let e6 = 0, i = t48.length; e6 < i; e6 += 3)
      this.expandByPoint(Sc.fromArray(t48, e6));
    return this;
  }
  setFromBufferAttribute(t48) {
    this.makeEmpty();
    for (let e6 = 0, i = t48.count; e6 < i; e6++)
      this.expandByPoint(Sc.fromBufferAttribute(t48, e6));
    return this;
  }
  setFromPoints(t48) {
    this.makeEmpty();
    for (let e6 = 0, i = t48.length; e6 < i; e6++)
      this.expandByPoint(t48[e6]);
    return this;
  }
  setFromCenterAndSize(t48, e6) {
    let i = Sc.copy(e6).multiplyScalar(0.5);
    return this.min.copy(t48).sub(i), this.max.copy(t48).add(i), this;
  }
  setFromObject(t48, e6 = false) {
    return this.makeEmpty(), this.expandByObject(t48, e6);
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    return this.min.copy(t48.min), this.max.copy(t48.max), this;
  }
  makeEmpty() {
    return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this;
  }
  isEmpty() {
    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;
  }
  getCenter(t48) {
    return this.isEmpty() ? t48.set(0, 0, 0) : t48.addVectors(this.min, this.max).multiplyScalar(0.5);
  }
  getSize(t48) {
    return this.isEmpty() ? t48.set(0, 0, 0) : t48.subVectors(this.max, this.min);
  }
  expandByPoint(t48) {
    return this.min.min(t48), this.max.max(t48), this;
  }
  expandByVector(t48) {
    return this.min.sub(t48), this.max.add(t48), this;
  }
  expandByScalar(t48) {
    return this.min.addScalar(-t48), this.max.addScalar(t48), this;
  }
  expandByObject(t48, e6 = false) {
    if (t48.updateWorldMatrix(false, false), void 0 !== t48.boundingBox)
      null === t48.boundingBox && t48.computeBoundingBox(), jm.copy(t48.boundingBox), jm.applyMatrix4(t48.matrixWorld), this.union(jm);
    else {
      let i10 = t48.geometry;
      if (void 0 !== i10)
        if (e6 && void 0 !== i10.attributes && void 0 !== i10.attributes.position) {
          let e10 = i10.attributes.position;
          for (let i11 = 0, n = e10.count; i11 < n; i11++)
            Sc.fromBufferAttribute(e10, i11).applyMatrix4(t48.matrixWorld), this.expandByPoint(Sc);
        } else
          null === i10.boundingBox && i10.computeBoundingBox(), jm.copy(i10.boundingBox), jm.applyMatrix4(t48.matrixWorld), this.union(jm);
    }
    let i = t48.children;
    for (let t49 = 0, n = i.length; t49 < n; t49++)
      this.expandByObject(i[t49], e6);
    return this;
  }
  containsPoint(t48) {
    return !(t48.x < this.min.x || t48.x > this.max.x || t48.y < this.min.y || t48.y > this.max.y || t48.z < this.min.z || t48.z > this.max.z);
  }
  containsBox(t48) {
    return this.min.x <= t48.min.x && t48.max.x <= this.max.x && this.min.y <= t48.min.y && t48.max.y <= this.max.y && this.min.z <= t48.min.z && t48.max.z <= this.max.z;
  }
  getParameter(t48, e6) {
    return e6.set((t48.x - this.min.x) / (this.max.x - this.min.x), (t48.y - this.min.y) / (this.max.y - this.min.y), (t48.z - this.min.z) / (this.max.z - this.min.z));
  }
  intersectsBox(t48) {
    return !(t48.max.x < this.min.x || t48.min.x > this.max.x || t48.max.y < this.min.y || t48.min.y > this.max.y || t48.max.z < this.min.z || t48.min.z > this.max.z);
  }
  intersectsSphere(t48) {
    return this.clampPoint(t48.center, Sc), Sc.distanceToSquared(t48.center) <= t48.radius * t48.radius;
  }
  intersectsPlane(t48) {
    let e6, i;
    return t48.normal.x > 0 ? (e6 = t48.normal.x * this.min.x, i = t48.normal.x * this.max.x) : (e6 = t48.normal.x * this.max.x, i = t48.normal.x * this.min.x), t48.normal.y > 0 ? (e6 += t48.normal.y * this.min.y, i += t48.normal.y * this.max.y) : (e6 += t48.normal.y * this.max.y, i += t48.normal.y * this.min.y), t48.normal.z > 0 ? (e6 += t48.normal.z * this.min.z, i += t48.normal.z * this.max.z) : (e6 += t48.normal.z * this.max.z, i += t48.normal.z * this.min.z), e6 <= -t48.constant && i >= -t48.constant;
  }
  intersectsTriangle(t48) {
    if (this.isEmpty())
      return false;
    this.getCenter(ex), hE.subVectors(this.max, ex), Wm.subVectors(t48.a, ex), Ym.subVectors(t48.b, ex), Xm.subVectors(t48.c, ex), Gh.subVectors(Ym, Wm), Vh.subVectors(Xm, Ym), Ap.subVectors(Wm, Xm);
    let e6 = [0, -Gh.z, Gh.y, 0, -Vh.z, Vh.y, 0, -Ap.z, Ap.y, Gh.z, 0, -Gh.x, Vh.z, 0, -Vh.x, Ap.z, 0, -Ap.x, -Gh.y, Gh.x, 0, -Vh.y, Vh.x, 0, -Ap.y, Ap.x, 0];
    return !(!x6(e6, Wm, Ym, Xm, hE) || (e6 = [1, 0, 0, 0, 1, 0, 0, 0, 1], !x6(e6, Wm, Ym, Xm, hE))) && (fE.crossVectors(Gh, Vh), e6 = [fE.x, fE.y, fE.z], x6(e6, Wm, Ym, Xm, hE));
  }
  clampPoint(t48, e6) {
    return e6.copy(t48).clamp(this.min, this.max);
  }
  distanceToPoint(t48) {
    return this.clampPoint(t48, Sc).distanceTo(t48);
  }
  getBoundingSphere(t48) {
    return this.isEmpty() ? t48.makeEmpty() : (this.getCenter(t48.center), t48.radius = 0.5 * this.getSize(Sc).length()), t48;
  }
  intersect(t48) {
    return this.min.max(t48.min), this.max.min(t48.max), this.isEmpty() && this.makeEmpty(), this;
  }
  union(t48) {
    return this.min.min(t48.min), this.max.max(t48.max), this;
  }
  applyMatrix4(t48) {
    return this.isEmpty() || (Tc[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t48), Tc[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t48), Tc[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t48), Tc[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t48), Tc[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t48), Tc[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t48), Tc[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t48), Tc[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t48), this.setFromPoints(Tc)), this;
  }
  translate(t48) {
    return this.min.add(t48), this.max.add(t48), this;
  }
  equals(t48) {
    return t48.min.equals(this.min) && t48.max.equals(this.max);
  }
};
q(VO, "Box3");
var Yt = VO;
var Tc = [new K(), new K(), new K(), new K(), new K(), new K(), new K(), new K()];
var Sc = new K();
var jm = new Yt();
var Wm = new K();
var Ym = new K();
var Xm = new K();
var Gh = new K();
var Vh = new K();
var Ap = new K();
var ex = new K();
var hE = new K();
var fE = new K();
var Cp = new K();
function x6(t48, e6, i, n, r) {
  for (let o3 = 0, s6 = t48.length - 3; o3 <= s6; o3 += 3) {
    Cp.fromArray(t48, o3);
    let s10 = r.x * Math.abs(Cp.x) + r.y * Math.abs(Cp.y) + r.z * Math.abs(Cp.z), a = e6.dot(Cp), l = i.dot(Cp), u2 = n.dot(Cp);
    if (Math.max(-Math.max(a, l, u2), Math.min(a, l, u2)) > s10)
      return false;
  }
  return true;
}
q(x6, "satForAxes");
var Hfe = new Yt();
var tx = new K();
var b6 = new K();
var HO = class {
  constructor(t48 = new K(), e6 = -1) {
    this.center = t48, this.radius = e6;
  }
  set(t48, e6) {
    return this.center.copy(t48), this.radius = e6, this;
  }
  setFromPoints(t48, e6) {
    let i = this.center;
    void 0 !== e6 ? i.copy(e6) : Hfe.setFromPoints(t48).getCenter(i);
    let n = 0;
    for (let e10 = 0, r = t48.length; e10 < r; e10++)
      n = Math.max(n, i.distanceToSquared(t48[e10]));
    return this.radius = Math.sqrt(n), this;
  }
  copy(t48) {
    return this.center.copy(t48.center), this.radius = t48.radius, this;
  }
  isEmpty() {
    return this.radius < 0;
  }
  makeEmpty() {
    return this.center.set(0, 0, 0), this.radius = -1, this;
  }
  containsPoint(t48) {
    return t48.distanceToSquared(this.center) <= this.radius * this.radius;
  }
  distanceToPoint(t48) {
    return t48.distanceTo(this.center) - this.radius;
  }
  intersectsSphere(t48) {
    let e6 = this.radius + t48.radius;
    return t48.center.distanceToSquared(this.center) <= e6 * e6;
  }
  intersectsBox(t48) {
    return t48.intersectsSphere(this);
  }
  intersectsPlane(t48) {
    return Math.abs(t48.distanceToPoint(this.center)) <= this.radius;
  }
  clampPoint(t48, e6) {
    let i = this.center.distanceToSquared(t48);
    return e6.copy(t48), i > this.radius * this.radius && (e6.sub(this.center).normalize(), e6.multiplyScalar(this.radius).add(this.center)), e6;
  }
  getBoundingBox(t48) {
    return this.isEmpty() ? (t48.makeEmpty(), t48) : (t48.set(this.center, this.center), t48.expandByScalar(this.radius), t48);
  }
  applyMatrix4(t48) {
    return this.center.applyMatrix4(t48), this.radius = this.radius * t48.getMaxScaleOnAxis(), this;
  }
  translate(t48) {
    return this.center.add(t48), this;
  }
  expandByPoint(t48) {
    if (this.isEmpty())
      return this.center.copy(t48), this.radius = 0, this;
    tx.subVectors(t48, this.center);
    let e6 = tx.lengthSq();
    if (e6 > this.radius * this.radius) {
      let t49 = Math.sqrt(e6), i = 0.5 * (t49 - this.radius);
      this.center.addScaledVector(tx, i / t49), this.radius += i;
    }
    return this;
  }
  union(t48) {
    return t48.isEmpty() ? this : this.isEmpty() ? (this.copy(t48), this) : (true === this.center.equals(t48.center) ? this.radius = Math.max(this.radius, t48.radius) : (b6.subVectors(t48.center, this.center).setLength(t48.radius), this.expandByPoint(tx.copy(t48.center).add(b6)), this.expandByPoint(tx.copy(t48.center).sub(b6))), this);
  }
  equals(t48) {
    return t48.center.equals(this.center) && t48.radius === this.radius;
  }
  clone() {
    return new this.constructor().copy(this);
  }
};
q(HO, "Sphere");
var Kh = HO;
var Ac = new K();
var _6 = new K();
var pE = new K();
var Hh = new K();
var w6 = new K();
var dE = new K();
var M6 = new K();
var jO = class {
  constructor(t48 = new K(), e6 = new K(0, 0, -1)) {
    this.origin = t48, this.direction = e6;
  }
  set(t48, e6) {
    return this.origin.copy(t48), this.direction.copy(e6), this;
  }
  copy(t48) {
    return this.origin.copy(t48.origin), this.direction.copy(t48.direction), this;
  }
  at(t48, e6) {
    return e6.copy(this.origin).addScaledVector(this.direction, t48);
  }
  lookAt(t48) {
    return this.direction.copy(t48).sub(this.origin).normalize(), this;
  }
  recast(t48) {
    return this.origin.copy(this.at(t48, Ac)), this;
  }
  closestPointToPoint(t48, e6) {
    e6.subVectors(t48, this.origin);
    let i = e6.dot(this.direction);
    return i < 0 ? e6.copy(this.origin) : e6.copy(this.origin).addScaledVector(this.direction, i);
  }
  distanceToPoint(t48) {
    return Math.sqrt(this.distanceSqToPoint(t48));
  }
  distanceSqToPoint(t48) {
    let e6 = Ac.subVectors(t48, this.origin).dot(this.direction);
    return e6 < 0 ? this.origin.distanceToSquared(t48) : (Ac.copy(this.origin).addScaledVector(this.direction, e6), Ac.distanceToSquared(t48));
  }
  distanceSqToSegment(t48, e6, i, n) {
    _6.copy(t48).add(e6).multiplyScalar(0.5), pE.copy(e6).sub(t48).normalize(), Hh.copy(this.origin).sub(_6);
    let r, o3, s6, a, l = 0.5 * t48.distanceTo(e6), u2 = -this.direction.dot(pE), h = Hh.dot(this.direction), c2 = -Hh.dot(pE), p4 = Hh.lengthSq(), d = Math.abs(1 - u2 * u2);
    if (d > 0)
      if (r = u2 * c2 - h, o3 = u2 * h - c2, a = l * d, r >= 0)
        if (o3 >= -a)
          if (o3 <= a) {
            let t49 = 1 / d;
            r *= t49, o3 *= t49, s6 = r * (r + u2 * o3 + 2 * h) + o3 * (u2 * r + o3 + 2 * c2) + p4;
          } else
            o3 = l, r = Math.max(0, -(u2 * o3 + h)), s6 = -r * r + o3 * (o3 + 2 * c2) + p4;
        else
          o3 = -l, r = Math.max(0, -(u2 * o3 + h)), s6 = -r * r + o3 * (o3 + 2 * c2) + p4;
      else
        o3 <= -a ? (r = Math.max(0, -(-u2 * l + h)), o3 = r > 0 ? -l : Math.min(Math.max(-l, -c2), l), s6 = -r * r + o3 * (o3 + 2 * c2) + p4) : o3 <= a ? (r = 0, o3 = Math.min(Math.max(-l, -c2), l), s6 = o3 * (o3 + 2 * c2) + p4) : (r = Math.max(0, -(u2 * l + h)), o3 = r > 0 ? l : Math.min(Math.max(-l, -c2), l), s6 = -r * r + o3 * (o3 + 2 * c2) + p4);
    else
      o3 = u2 > 0 ? -l : l, r = Math.max(0, -(u2 * o3 + h)), s6 = -r * r + o3 * (o3 + 2 * c2) + p4;
    return i && i.copy(this.origin).addScaledVector(this.direction, r), n && n.copy(_6).addScaledVector(pE, o3), s6;
  }
  intersectSphere(t48, e6) {
    Ac.subVectors(t48.center, this.origin);
    let i = Ac.dot(this.direction), n = Ac.dot(Ac) - i * i, r = t48.radius * t48.radius;
    if (n > r)
      return null;
    let o3 = Math.sqrt(r - n), s6 = i - o3, a = i + o3;
    return a < 0 ? null : s6 < 0 ? this.at(a, e6) : this.at(s6, e6);
  }
  intersectsSphere(t48) {
    return this.distanceSqToPoint(t48.center) <= t48.radius * t48.radius;
  }
  distanceToPlane(t48) {
    let e6 = t48.normal.dot(this.direction);
    if (0 === e6)
      return 0 === t48.distanceToPoint(this.origin) ? 0 : null;
    let i = -(this.origin.dot(t48.normal) + t48.constant) / e6;
    return i >= 0 ? i : null;
  }
  intersectPlane(t48, e6) {
    let i = this.distanceToPlane(t48);
    return null === i ? null : this.at(i, e6);
  }
  intersectsPlane(t48) {
    let e6 = t48.distanceToPoint(this.origin);
    return 0 === e6 || t48.normal.dot(this.direction) * e6 < 0;
  }
  intersectBox(t48, e6) {
    let i, n, r, o3, s6, a, l = 1 / this.direction.x, u2 = 1 / this.direction.y, h = 1 / this.direction.z, c2 = this.origin;
    return l >= 0 ? (i = (t48.min.x - c2.x) * l, n = (t48.max.x - c2.x) * l) : (i = (t48.max.x - c2.x) * l, n = (t48.min.x - c2.x) * l), u2 >= 0 ? (r = (t48.min.y - c2.y) * u2, o3 = (t48.max.y - c2.y) * u2) : (r = (t48.max.y - c2.y) * u2, o3 = (t48.min.y - c2.y) * u2), i > o3 || r > n || ((r > i || isNaN(i)) && (i = r), (o3 < n || isNaN(n)) && (n = o3), h >= 0 ? (s6 = (t48.min.z - c2.z) * h, a = (t48.max.z - c2.z) * h) : (s6 = (t48.max.z - c2.z) * h, a = (t48.min.z - c2.z) * h), i > a || s6 > n) || ((s6 > i || i != i) && (i = s6), (a < n || n != n) && (n = a), n < 0) ? null : this.at(i >= 0 ? i : n, e6);
  }
  intersectsBox(t48) {
    return null !== this.intersectBox(t48, Ac);
  }
  intersectTriangle(t48, e6, i, n, r) {
    w6.subVectors(e6, t48), dE.subVectors(i, t48), M6.crossVectors(w6, dE);
    let o3, s6 = this.direction.dot(M6);
    if (s6 > 0) {
      if (n)
        return null;
      o3 = 1;
    } else {
      if (!(s6 < 0))
        return null;
      o3 = -1, s6 = -s6;
    }
    Hh.subVectors(this.origin, t48);
    let a = o3 * this.direction.dot(dE.crossVectors(Hh, dE));
    if (a < 0)
      return null;
    let l = o3 * this.direction.dot(w6.cross(Hh));
    if (l < 0 || a + l > s6)
      return null;
    let u2 = -o3 * Hh.dot(M6);
    return u2 < 0 ? null : this.at(u2 / s6, r);
  }
  applyMatrix4(t48) {
    return this.origin.applyMatrix4(t48), this.direction.transformDirection(t48), this;
  }
  equals(t48) {
    return t48.origin.equals(this.origin) && t48.direction.equals(this.direction);
  }
  clone() {
    return new this.constructor().copy(this);
  }
};
q(jO, "Ray");
var _x = jO;
var gx = class t26 {
  constructor() {
    t26.prototype.isMatrix4 = true, this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
  }
  set(t48, e6, i, n, r, o3, s6, a, l, u2, h, c2, p4, d, f, g) {
    let m = this.elements;
    return m[0] = t48, m[4] = e6, m[8] = i, m[12] = n, m[1] = r, m[5] = o3, m[9] = s6, m[13] = a, m[2] = l, m[6] = u2, m[10] = h, m[14] = c2, m[3] = p4, m[7] = d, m[11] = f, m[15] = g, this;
  }
  identity() {
    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this;
  }
  clone() {
    return new t26().fromArray(this.elements);
  }
  copy(t48) {
    let e6 = this.elements, i = t48.elements;
    return e6[0] = i[0], e6[1] = i[1], e6[2] = i[2], e6[3] = i[3], e6[4] = i[4], e6[5] = i[5], e6[6] = i[6], e6[7] = i[7], e6[8] = i[8], e6[9] = i[9], e6[10] = i[10], e6[11] = i[11], e6[12] = i[12], e6[13] = i[13], e6[14] = i[14], e6[15] = i[15], this;
  }
  copyPosition(t48) {
    let e6 = this.elements, i = t48.elements;
    return e6[12] = i[12], e6[13] = i[13], e6[14] = i[14], this;
  }
  setFromMatrix3(t48) {
    let e6 = t48.elements;
    return this.set(e6[0], e6[3], e6[6], 0, e6[1], e6[4], e6[7], 0, e6[2], e6[5], e6[8], 0, 0, 0, 0, 1), this;
  }
  extractBasis(t48, e6, i) {
    return t48.setFromMatrixColumn(this, 0), e6.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this;
  }
  makeBasis(t48, e6, i) {
    return this.set(t48.x, e6.x, i.x, 0, t48.y, e6.y, i.y, 0, t48.z, e6.z, i.z, 0, 0, 0, 0, 1), this;
  }
  extractRotation(t48) {
    let e6 = this.elements, i = t48.elements, n = 1 / Zm.setFromMatrixColumn(t48, 0).length(), r = 1 / Zm.setFromMatrixColumn(t48, 1).length(), o3 = 1 / Zm.setFromMatrixColumn(t48, 2).length();
    return e6[0] = i[0] * n, e6[1] = i[1] * n, e6[2] = i[2] * n, e6[3] = 0, e6[4] = i[4] * r, e6[5] = i[5] * r, e6[6] = i[6] * r, e6[7] = 0, e6[8] = i[8] * o3, e6[9] = i[9] * o3, e6[10] = i[10] * o3, e6[11] = 0, e6[12] = 0, e6[13] = 0, e6[14] = 0, e6[15] = 1, this;
  }
  makeRotationFromEuler(t48) {
    let e6 = this.elements, i = t48.x, n = t48.y, r = t48.z, o3 = Math.cos(i), s6 = Math.sin(i), a = Math.cos(n), l = Math.sin(n), u2 = Math.cos(r), h = Math.sin(r);
    if ("XYZ" === t48.order) {
      let t49 = o3 * u2, i10 = o3 * h, n10 = s6 * u2, r6 = s6 * h;
      e6[0] = a * u2, e6[4] = -a * h, e6[8] = l, e6[1] = i10 + n10 * l, e6[5] = t49 - r6 * l, e6[9] = -s6 * a, e6[2] = r6 - t49 * l, e6[6] = n10 + i10 * l, e6[10] = o3 * a;
    } else if ("YXZ" === t48.order) {
      let t49 = a * u2, i10 = a * h, n10 = l * u2, r6 = l * h;
      e6[0] = t49 + r6 * s6, e6[4] = n10 * s6 - i10, e6[8] = o3 * l, e6[1] = o3 * h, e6[5] = o3 * u2, e6[9] = -s6, e6[2] = i10 * s6 - n10, e6[6] = r6 + t49 * s6, e6[10] = o3 * a;
    } else if ("ZXY" === t48.order) {
      let t49 = a * u2, i10 = a * h, n10 = l * u2, r6 = l * h;
      e6[0] = t49 - r6 * s6, e6[4] = -o3 * h, e6[8] = n10 + i10 * s6, e6[1] = i10 + n10 * s6, e6[5] = o3 * u2, e6[9] = r6 - t49 * s6, e6[2] = -o3 * l, e6[6] = s6, e6[10] = o3 * a;
    } else if ("ZYX" === t48.order) {
      let t49 = o3 * u2, i10 = o3 * h, n10 = s6 * u2, r6 = s6 * h;
      e6[0] = a * u2, e6[4] = n10 * l - i10, e6[8] = t49 * l + r6, e6[1] = a * h, e6[5] = r6 * l + t49, e6[9] = i10 * l - n10, e6[2] = -l, e6[6] = s6 * a, e6[10] = o3 * a;
    } else if ("YZX" === t48.order) {
      let t49 = o3 * a, i10 = o3 * l, n10 = s6 * a, r6 = s6 * l;
      e6[0] = a * u2, e6[4] = r6 - t49 * h, e6[8] = n10 * h + i10, e6[1] = h, e6[5] = o3 * u2, e6[9] = -s6 * u2, e6[2] = -l * u2, e6[6] = i10 * h + n10, e6[10] = t49 - r6 * h;
    } else if ("XZY" === t48.order) {
      let t49 = o3 * a, i10 = o3 * l, n10 = s6 * a, r6 = s6 * l;
      e6[0] = a * u2, e6[4] = -h, e6[8] = l * u2, e6[1] = t49 * h + r6, e6[5] = o3 * u2, e6[9] = i10 * h - n10, e6[2] = n10 * h - i10, e6[6] = s6 * u2, e6[10] = r6 * h + t49;
    }
    return e6[3] = 0, e6[7] = 0, e6[11] = 0, e6[12] = 0, e6[13] = 0, e6[14] = 0, e6[15] = 1, this;
  }
  makeRotationFromQuaternion(t48) {
    return this.compose(jfe, t48, Wfe);
  }
  lookAt(t48, e6, i) {
    let n = this.elements;
    return Aa.subVectors(t48, e6), 0 === Aa.lengthSq() && (Aa.z = 1), Aa.normalize(), jh.crossVectors(i, Aa), 0 === jh.lengthSq() && (1 === Math.abs(i.z) ? Aa.x += 1e-4 : Aa.z += 1e-4, Aa.normalize(), jh.crossVectors(i, Aa)), jh.normalize(), mE.crossVectors(Aa, jh), n[0] = jh.x, n[4] = mE.x, n[8] = Aa.x, n[1] = jh.y, n[5] = mE.y, n[9] = Aa.y, n[2] = jh.z, n[6] = mE.z, n[10] = Aa.z, this;
  }
  multiply(t48) {
    return this.multiplyMatrices(this, t48);
  }
  premultiply(t48) {
    return this.multiplyMatrices(t48, this);
  }
  multiplyMatrices(t48, e6) {
    let i = t48.elements, n = e6.elements, r = this.elements, o3 = i[0], s6 = i[4], a = i[8], l = i[12], u2 = i[1], h = i[5], c2 = i[9], p4 = i[13], d = i[2], f = i[6], g = i[10], m = i[14], v4 = i[3], y4 = i[7], x4 = i[11], _ = i[15], b = n[0], M = n[4], E = n[8], w4 = n[12], A = n[1], S = n[5], T = n[9], C = n[13], P = n[2], I = n[6], L = n[10], O = n[14], N = n[3], D = n[7], R = n[11], q4 = n[15];
    return r[0] = o3 * b + s6 * A + a * P + l * N, r[4] = o3 * M + s6 * S + a * I + l * D, r[8] = o3 * E + s6 * T + a * L + l * R, r[12] = o3 * w4 + s6 * C + a * O + l * q4, r[1] = u2 * b + h * A + c2 * P + p4 * N, r[5] = u2 * M + h * S + c2 * I + p4 * D, r[9] = u2 * E + h * T + c2 * L + p4 * R, r[13] = u2 * w4 + h * C + c2 * O + p4 * q4, r[2] = d * b + f * A + g * P + m * N, r[6] = d * M + f * S + g * I + m * D, r[10] = d * E + f * T + g * L + m * R, r[14] = d * w4 + f * C + g * O + m * q4, r[3] = v4 * b + y4 * A + x4 * P + _ * N, r[7] = v4 * M + y4 * S + x4 * I + _ * D, r[11] = v4 * E + y4 * T + x4 * L + _ * R, r[15] = v4 * w4 + y4 * C + x4 * O + _ * q4, this;
  }
  multiplyScalar(t48) {
    let e6 = this.elements;
    return e6[0] *= t48, e6[4] *= t48, e6[8] *= t48, e6[12] *= t48, e6[1] *= t48, e6[5] *= t48, e6[9] *= t48, e6[13] *= t48, e6[2] *= t48, e6[6] *= t48, e6[10] *= t48, e6[14] *= t48, e6[3] *= t48, e6[7] *= t48, e6[11] *= t48, e6[15] *= t48, this;
  }
  determinant() {
    let t48 = this.elements, e6 = t48[0], i = t48[4], n = t48[8], r = t48[12], o3 = t48[1], s6 = t48[5], a = t48[9], l = t48[13], u2 = t48[2], h = t48[6], c2 = t48[10], p4 = t48[14];
    return t48[3] * (+r * a * h - n * l * h - r * s6 * c2 + i * l * c2 + n * s6 * p4 - i * a * p4) + t48[7] * (+e6 * a * p4 - e6 * l * c2 + r * o3 * c2 - n * o3 * p4 + n * l * u2 - r * a * u2) + t48[11] * (+e6 * l * h - e6 * s6 * p4 - r * o3 * h + i * o3 * p4 + r * s6 * u2 - i * l * u2) + t48[15] * (-n * s6 * u2 - e6 * a * h + e6 * s6 * c2 + n * o3 * h - i * o3 * c2 + i * a * u2);
  }
  transpose() {
    let t48, e6 = this.elements;
    return t48 = e6[1], e6[1] = e6[4], e6[4] = t48, t48 = e6[2], e6[2] = e6[8], e6[8] = t48, t48 = e6[6], e6[6] = e6[9], e6[9] = t48, t48 = e6[3], e6[3] = e6[12], e6[12] = t48, t48 = e6[7], e6[7] = e6[13], e6[13] = t48, t48 = e6[11], e6[11] = e6[14], e6[14] = t48, this;
  }
  setPosition(t48, e6, i) {
    let n = this.elements;
    return t48.isVector3 ? (n[12] = t48.x, n[13] = t48.y, n[14] = t48.z) : (n[12] = t48, n[13] = e6, n[14] = i), this;
  }
  invert() {
    let t48 = this.elements, e6 = t48[0], i = t48[1], n = t48[2], r = t48[3], o3 = t48[4], s6 = t48[5], a = t48[6], l = t48[7], u2 = t48[8], h = t48[9], c2 = t48[10], p4 = t48[11], d = t48[12], f = t48[13], g = t48[14], m = t48[15], v4 = h * g * l - f * c2 * l + f * a * p4 - s6 * g * p4 - h * a * m + s6 * c2 * m, y4 = d * c2 * l - u2 * g * l - d * a * p4 + o3 * g * p4 + u2 * a * m - o3 * c2 * m, x4 = u2 * f * l - d * h * l + d * s6 * p4 - o3 * f * p4 - u2 * s6 * m + o3 * h * m, _ = d * h * a - u2 * f * a - d * s6 * c2 + o3 * f * c2 + u2 * s6 * g - o3 * h * g, b = e6 * v4 + i * y4 + n * x4 + r * _;
    if (0 === b)
      return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    let M = 1 / b;
    return t48[0] = v4 * M, t48[1] = (f * c2 * r - h * g * r - f * n * p4 + i * g * p4 + h * n * m - i * c2 * m) * M, t48[2] = (s6 * g * r - f * a * r + f * n * l - i * g * l - s6 * n * m + i * a * m) * M, t48[3] = (h * a * r - s6 * c2 * r - h * n * l + i * c2 * l + s6 * n * p4 - i * a * p4) * M, t48[4] = y4 * M, t48[5] = (u2 * g * r - d * c2 * r + d * n * p4 - e6 * g * p4 - u2 * n * m + e6 * c2 * m) * M, t48[6] = (d * a * r - o3 * g * r - d * n * l + e6 * g * l + o3 * n * m - e6 * a * m) * M, t48[7] = (o3 * c2 * r - u2 * a * r + u2 * n * l - e6 * c2 * l - o3 * n * p4 + e6 * a * p4) * M, t48[8] = x4 * M, t48[9] = (d * h * r - u2 * f * r - d * i * p4 + e6 * f * p4 + u2 * i * m - e6 * h * m) * M, t48[10] = (o3 * f * r - d * s6 * r + d * i * l - e6 * f * l - o3 * i * m + e6 * s6 * m) * M, t48[11] = (u2 * s6 * r - o3 * h * r - u2 * i * l + e6 * h * l + o3 * i * p4 - e6 * s6 * p4) * M, t48[12] = _ * M, t48[13] = (u2 * f * n - d * h * n + d * i * c2 - e6 * f * c2 - u2 * i * g + e6 * h * g) * M, t48[14] = (d * s6 * n - o3 * f * n - d * i * a + e6 * f * a + o3 * i * g - e6 * s6 * g) * M, t48[15] = (o3 * h * n - u2 * s6 * n + u2 * i * a - e6 * h * a - o3 * i * c2 + e6 * s6 * c2) * M, this;
  }
  scale(t48) {
    let e6 = this.elements, i = t48.x, n = t48.y, r = t48.z;
    return e6[0] *= i, e6[4] *= n, e6[8] *= r, e6[1] *= i, e6[5] *= n, e6[9] *= r, e6[2] *= i, e6[6] *= n, e6[10] *= r, e6[3] *= i, e6[7] *= n, e6[11] *= r, this;
  }
  getMaxScaleOnAxis() {
    let t48 = this.elements, e6 = t48[0] * t48[0] + t48[1] * t48[1] + t48[2] * t48[2], i = t48[4] * t48[4] + t48[5] * t48[5] + t48[6] * t48[6], n = t48[8] * t48[8] + t48[9] * t48[9] + t48[10] * t48[10];
    return Math.sqrt(Math.max(e6, i, n));
  }
  makeTranslation(t48, e6, i) {
    return this.set(1, 0, 0, t48, 0, 1, 0, e6, 0, 0, 1, i, 0, 0, 0, 1), this;
  }
  makeRotationX(t48) {
    let e6 = Math.cos(t48), i = Math.sin(t48);
    return this.set(1, 0, 0, 0, 0, e6, -i, 0, 0, i, e6, 0, 0, 0, 0, 1), this;
  }
  makeRotationY(t48) {
    let e6 = Math.cos(t48), i = Math.sin(t48);
    return this.set(e6, 0, i, 0, 0, 1, 0, 0, -i, 0, e6, 0, 0, 0, 0, 1), this;
  }
  makeRotationZ(t48) {
    let e6 = Math.cos(t48), i = Math.sin(t48);
    return this.set(e6, -i, 0, 0, i, e6, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this;
  }
  makeRotationAxis(t48, e6) {
    let i = Math.cos(e6), n = Math.sin(e6), r = 1 - i, o3 = t48.x, s6 = t48.y, a = t48.z, l = r * o3, u2 = r * s6;
    return this.set(l * o3 + i, l * s6 - n * a, l * a + n * s6, 0, l * s6 + n * a, u2 * s6 + i, u2 * a - n * o3, 0, l * a - n * s6, u2 * a + n * o3, r * a * a + i, 0, 0, 0, 0, 1), this;
  }
  makeScale(t48, e6, i) {
    return this.set(t48, 0, 0, 0, 0, e6, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this;
  }
  makeShear(t48, e6, i, n, r, o3) {
    return this.set(1, i, r, 0, t48, 1, o3, 0, e6, n, 1, 0, 0, 0, 0, 1), this;
  }
  compose(t48, e6, i) {
    let n = this.elements, r = e6._x, o3 = e6._y, s6 = e6._z, a = e6._w, l = r + r, u2 = o3 + o3, h = s6 + s6, c2 = r * l, p4 = r * u2, d = r * h, f = o3 * u2, g = o3 * h, m = s6 * h, v4 = a * l, y4 = a * u2, x4 = a * h, _ = i.x, b = i.y, M = i.z;
    return n[0] = (1 - (f + m)) * _, n[1] = (p4 + x4) * _, n[2] = (d - y4) * _, n[3] = 0, n[4] = (p4 - x4) * b, n[5] = (1 - (c2 + m)) * b, n[6] = (g + v4) * b, n[7] = 0, n[8] = (d + y4) * M, n[9] = (g - v4) * M, n[10] = (1 - (c2 + f)) * M, n[11] = 0, n[12] = t48.x, n[13] = t48.y, n[14] = t48.z, n[15] = 1, this;
  }
  decompose(t48, e6, i) {
    let n = this.elements, r = Zm.set(n[0], n[1], n[2]).length(), o3 = Zm.set(n[4], n[5], n[6]).length(), s6 = Zm.set(n[8], n[9], n[10]).length();
    this.determinant() < 0 && (r = -r), t48.x = n[12], t48.y = n[13], t48.z = n[14], kl.copy(this);
    let a = 1 / r, l = 1 / o3, u2 = 1 / s6;
    return kl.elements[0] *= a, kl.elements[1] *= a, kl.elements[2] *= a, kl.elements[4] *= l, kl.elements[5] *= l, kl.elements[6] *= l, kl.elements[8] *= u2, kl.elements[9] *= u2, kl.elements[10] *= u2, e6.setFromRotationMatrix(kl), i.x = r, i.y = o3, i.z = s6, this;
  }
  makePerspective(t48, e6, i, n, r, o3) {
    let s6 = this.elements, a = 2 * r / (e6 - t48), l = 2 * r / (i - n), u2 = (e6 + t48) / (e6 - t48), h = (i + n) / (i - n), c2 = -(o3 + r) / (o3 - r), p4 = -2 * o3 * r / (o3 - r);
    return s6[0] = a, s6[4] = 0, s6[8] = u2, s6[12] = 0, s6[1] = 0, s6[5] = l, s6[9] = h, s6[13] = 0, s6[2] = 0, s6[6] = 0, s6[10] = c2, s6[14] = p4, s6[3] = 0, s6[7] = 0, s6[11] = -1, s6[15] = 0, this;
  }
  makeOrthographic(t48, e6, i, n, r, o3) {
    let s6 = this.elements, a = 1 / (e6 - t48), l = 1 / (i - n), u2 = 1 / (o3 - r), h = (e6 + t48) * a, c2 = (i + n) * l, p4 = (o3 + r) * u2;
    return s6[0] = 2 * a, s6[4] = 0, s6[8] = 0, s6[12] = -h, s6[1] = 0, s6[5] = 2 * l, s6[9] = 0, s6[13] = -c2, s6[2] = 0, s6[6] = 0, s6[10] = -2 * u2, s6[14] = -p4, s6[3] = 0, s6[7] = 0, s6[11] = 0, s6[15] = 1, this;
  }
  equals(t48) {
    let e6 = this.elements, i = t48.elements;
    for (let t49 = 0; t49 < 16; t49++)
      if (e6[t49] !== i[t49])
        return false;
    return true;
  }
  fromArray(t48, e6 = 0) {
    for (let i = 0; i < 16; i++)
      this.elements[i] = t48[i + e6];
    return this;
  }
  toArray(t48 = [], e6 = 0) {
    let i = this.elements;
    return t48[e6] = i[0], t48[e6 + 1] = i[1], t48[e6 + 2] = i[2], t48[e6 + 3] = i[3], t48[e6 + 4] = i[4], t48[e6 + 5] = i[5], t48[e6 + 6] = i[6], t48[e6 + 7] = i[7], t48[e6 + 8] = i[8], t48[e6 + 9] = i[9], t48[e6 + 10] = i[10], t48[e6 + 11] = i[11], t48[e6 + 12] = i[12], t48[e6 + 13] = i[13], t48[e6 + 14] = i[14], t48[e6 + 15] = i[15], t48;
  }
};
q(gx, "Matrix4");
var Ot = gx;
var Zm = new K();
var kl = new Ot();
var jfe = new K(0, 0, 0);
var Wfe = new K(1, 1, 1);
var jh = new K();
var mE = new K();
var Aa = new K();
var kj = new Ot();
var qj = new Ia();
var bT = class t27 {
  constructor(e6 = 0, i = 0, n = 0, r = t27.DEFAULT_ORDER) {
    this.isEuler = true, this._x = e6, this._y = i, this._z = n, this._order = r;
  }
  get x() {
    return this._x;
  }
  set x(t48) {
    this._x = t48, this._onChangeCallback();
  }
  get y() {
    return this._y;
  }
  set y(t48) {
    this._y = t48, this._onChangeCallback();
  }
  get z() {
    return this._z;
  }
  set z(t48) {
    this._z = t48, this._onChangeCallback();
  }
  get order() {
    return this._order;
  }
  set order(t48) {
    this._order = t48, this._onChangeCallback();
  }
  set(t48, e6, i, n = this._order) {
    return this._x = t48, this._y = e6, this._z = i, this._order = n, this._onChangeCallback(), this;
  }
  clone() {
    return new this.constructor(this._x, this._y, this._z, this._order);
  }
  copy(t48) {
    return this._x = t48._x, this._y = t48._y, this._z = t48._z, this._order = t48._order, this._onChangeCallback(), this;
  }
  setFromRotationMatrix(t48, e6 = this._order, i = true) {
    let n = t48.elements, r = n[0], o3 = n[4], s6 = n[8], a = n[1], l = n[5], u2 = n[9], h = n[2], c2 = n[6], p4 = n[10];
    switch (e6) {
      case "XYZ":
        this._y = Math.asin(ao(s6, -1, 1)), Math.abs(s6) < 0.9999999 ? (this._x = Math.atan2(-u2, p4), this._z = Math.atan2(-o3, r)) : (this._x = Math.atan2(c2, l), this._z = 0);
        break;
      case "YXZ":
        this._x = Math.asin(-ao(u2, -1, 1)), Math.abs(u2) < 0.9999999 ? (this._y = Math.atan2(s6, p4), this._z = Math.atan2(a, l)) : (this._y = Math.atan2(-h, r), this._z = 0);
        break;
      case "ZXY":
        this._x = Math.asin(ao(c2, -1, 1)), Math.abs(c2) < 0.9999999 ? (this._y = Math.atan2(-h, p4), this._z = Math.atan2(-o3, l)) : (this._y = 0, this._z = Math.atan2(a, r));
        break;
      case "ZYX":
        this._y = Math.asin(-ao(h, -1, 1)), Math.abs(h) < 0.9999999 ? (this._x = Math.atan2(c2, p4), this._z = Math.atan2(a, r)) : (this._x = 0, this._z = Math.atan2(-o3, l));
        break;
      case "YZX":
        this._z = Math.asin(ao(a, -1, 1)), Math.abs(a) < 0.9999999 ? (this._x = Math.atan2(-u2, l), this._y = Math.atan2(-h, r)) : (this._x = 0, this._y = Math.atan2(s6, p4));
        break;
      case "XZY":
        this._z = Math.asin(-ao(o3, -1, 1)), Math.abs(o3) < 0.9999999 ? (this._x = Math.atan2(c2, l), this._y = Math.atan2(s6, r)) : (this._x = Math.atan2(-u2, p4), this._y = 0);
        break;
      default:
        console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: " + e6);
    }
    return this._order = e6, true === i && this._onChangeCallback(), this;
  }
  setFromQuaternion(t48, e6, i) {
    return kj.makeRotationFromQuaternion(t48), this.setFromRotationMatrix(kj, e6, i);
  }
  setFromVector3(t48, e6 = this._order) {
    return this.set(t48.x, t48.y, t48.z, e6);
  }
  reorder(t48) {
    return qj.setFromEuler(this), this.setFromQuaternion(qj, t48);
  }
  equals(t48) {
    return t48._x === this._x && t48._y === this._y && t48._z === this._z && t48._order === this._order;
  }
  fromArray(t48) {
    return this._x = t48[0], this._y = t48[1], this._z = t48[2], void 0 !== t48[3] && (this._order = t48[3]), this._onChangeCallback(), this;
  }
  toArray(t48 = [], e6 = 0) {
    return t48[e6] = this._x, t48[e6 + 1] = this._y, t48[e6 + 2] = this._z, t48[e6 + 3] = this._order, t48;
  }
  _onChange(t48) {
    return this._onChangeCallback = t48, this;
  }
  _onChangeCallback() {
  }
  *[Symbol.iterator]() {
    yield this._x, yield this._y, yield this._z, yield this._order;
  }
};
q(bT, "Euler");
var Jh = bT;
Jh.DEFAULT_ORDER = "XYZ";
var WO = class {
  constructor() {
    this.mask = 1;
  }
  set(t48) {
    this.mask = (1 << t48 | 0) >>> 0;
  }
  enable(t48) {
    this.mask |= 1 << t48 | 0;
  }
  enableAll() {
    this.mask = -1;
  }
  toggle(t48) {
    this.mask ^= 1 << t48 | 0;
  }
  disable(t48) {
    this.mask &= ~(1 << t48 | 0);
  }
  disableAll() {
    this.mask = 0;
  }
  test(t48) {
    return 0 != (this.mask & t48.mask);
  }
  isEnabled(t48) {
    return 0 != (this.mask & (1 << t48 | 0));
  }
};
q(WO, "Layers");
var wx = WO;
var Yfe = 0;
var Fj = new K();
var Qm = new Ia();
var Cc = new Ot();
var gE = new K();
var nx = new K();
var Xfe = new K();
var Zfe = new Ia();
var Uj = new K(1, 0, 0);
var zj = new K(0, 1, 0);
var Gj = new K(0, 0, 1);
var Qfe = { type: "added" };
var Vj = { type: "removed" };
var dg = class t28 extends Eo {
  constructor() {
    super(), this.isObject3D = true, Object.defineProperty(this, "id", { value: Yfe++ }), this.uuid = Cu(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = t28.DEFAULT_UP.clone();
    let e6 = new K(), i = new Jh(), n = new Ia(), r = new K(1, 1, 1);
    function o3() {
      n.setFromEuler(i, false);
    }
    function s6() {
      i.setFromQuaternion(n, void 0, false);
    }
    q(o3, "onRotationChange"), q(s6, "onQuaternionChange"), i._onChange(o3), n._onChange(s6), Object.defineProperties(this, { position: { configurable: true, enumerable: true, value: e6 }, rotation: { configurable: true, enumerable: true, value: i }, quaternion: { configurable: true, enumerable: true, value: n }, scale: { configurable: true, enumerable: true, value: r }, modelViewMatrix: { value: new Ot() }, normalMatrix: { value: new li() } }), this.matrix = new Ot(), this.matrixWorld = new Ot(), this.matrixAutoUpdate = t28.DEFAULT_MATRIX_AUTO_UPDATE, this.matrixWorldNeedsUpdate = false, this.matrixWorldAutoUpdate = t28.DEFAULT_MATRIX_WORLD_AUTO_UPDATE, this.layers = new wx(), this.visible = true, this.castShadow = false, this.receiveShadow = false, this.frustumCulled = true, this.renderOrder = 0, this.animations = [], this.userData = {};
  }
  onBeforeRender() {
  }
  onAfterRender() {
  }
  applyMatrix4(t48) {
    this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(t48), this.matrix.decompose(this.position, this.quaternion, this.scale);
  }
  applyQuaternion(t48) {
    return this.quaternion.premultiply(t48), this;
  }
  setRotationFromAxisAngle(t48, e6) {
    this.quaternion.setFromAxisAngle(t48, e6);
  }
  setRotationFromEuler(t48) {
    this.quaternion.setFromEuler(t48, true);
  }
  setRotationFromMatrix(t48) {
    this.quaternion.setFromRotationMatrix(t48);
  }
  setRotationFromQuaternion(t48) {
    this.quaternion.copy(t48);
  }
  rotateOnAxis(t48, e6) {
    return Qm.setFromAxisAngle(t48, e6), this.quaternion.multiply(Qm), this;
  }
  rotateOnWorldAxis(t48, e6) {
    return Qm.setFromAxisAngle(t48, e6), this.quaternion.premultiply(Qm), this;
  }
  rotateX(t48) {
    return this.rotateOnAxis(Uj, t48);
  }
  rotateY(t48) {
    return this.rotateOnAxis(zj, t48);
  }
  rotateZ(t48) {
    return this.rotateOnAxis(Gj, t48);
  }
  translateOnAxis(t48, e6) {
    return Fj.copy(t48).applyQuaternion(this.quaternion), this.position.add(Fj.multiplyScalar(e6)), this;
  }
  translateX(t48) {
    return this.translateOnAxis(Uj, t48);
  }
  translateY(t48) {
    return this.translateOnAxis(zj, t48);
  }
  translateZ(t48) {
    return this.translateOnAxis(Gj, t48);
  }
  localToWorld(t48) {
    return this.updateWorldMatrix(true, false), t48.applyMatrix4(this.matrixWorld);
  }
  worldToLocal(t48) {
    return this.updateWorldMatrix(true, false), t48.applyMatrix4(Cc.copy(this.matrixWorld).invert());
  }
  lookAt(t48, e6, i) {
    t48.isVector3 ? gE.copy(t48) : gE.set(t48, e6, i);
    let n = this.parent;
    this.updateWorldMatrix(true, false), nx.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? Cc.lookAt(nx, gE, this.up) : Cc.lookAt(gE, nx, this.up), this.quaternion.setFromRotationMatrix(Cc), n && (Cc.extractRotation(n.matrixWorld), Qm.setFromRotationMatrix(Cc), this.quaternion.premultiply(Qm.invert()));
  }
  add(t48) {
    if (arguments.length > 1) {
      for (let t49 = 0; t49 < arguments.length; t49++)
        this.add(arguments[t49]);
      return this;
    }
    return t48 === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t48), this) : (t48 && t48.isObject3D ? (null !== t48.parent && t48.parent.remove(t48), t48.parent = this, this.children.push(t48), t48.dispatchEvent(Qfe)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t48), this);
  }
  remove(t48) {
    if (arguments.length > 1) {
      for (let t49 = 0; t49 < arguments.length; t49++)
        this.remove(arguments[t49]);
      return this;
    }
    let e6 = this.children.indexOf(t48);
    return -1 !== e6 && (t48.parent = null, this.children.splice(e6, 1), t48.dispatchEvent(Vj)), this;
  }
  removeFromParent() {
    let t48 = this.parent;
    return null !== t48 && t48.remove(this), this;
  }
  clear() {
    for (let t48 = 0; t48 < this.children.length; t48++) {
      let e6 = this.children[t48];
      e6.parent = null, e6.dispatchEvent(Vj);
    }
    return this.children.length = 0, this;
  }
  attach(t48) {
    return this.updateWorldMatrix(true, false), Cc.copy(this.matrixWorld).invert(), null !== t48.parent && (t48.parent.updateWorldMatrix(true, false), Cc.multiply(t48.parent.matrixWorld)), t48.applyMatrix4(Cc), this.add(t48), t48.updateWorldMatrix(false, true), this;
  }
  getObjectById(t48) {
    return this.getObjectByProperty("id", t48);
  }
  getObjectByName(t48) {
    return this.getObjectByProperty("name", t48);
  }
  getObjectByProperty(t48, e6) {
    if (this[t48] === e6)
      return this;
    for (let i = 0, n = this.children.length; i < n; i++) {
      let n10 = this.children[i].getObjectByProperty(t48, e6);
      if (void 0 !== n10)
        return n10;
    }
  }
  getObjectsByProperty(t48, e6) {
    let i = [];
    this[t48] === e6 && i.push(this);
    for (let n = 0, r = this.children.length; n < r; n++) {
      let r6 = this.children[n].getObjectsByProperty(t48, e6);
      r6.length > 0 && (i = i.concat(r6));
    }
    return i;
  }
  getWorldPosition(t48) {
    return this.updateWorldMatrix(true, false), t48.setFromMatrixPosition(this.matrixWorld);
  }
  getWorldQuaternion(t48) {
    return this.updateWorldMatrix(true, false), this.matrixWorld.decompose(nx, t48, Xfe), t48;
  }
  getWorldScale(t48) {
    return this.updateWorldMatrix(true, false), this.matrixWorld.decompose(nx, Zfe, t48), t48;
  }
  getWorldDirection(t48) {
    this.updateWorldMatrix(true, false);
    let e6 = this.matrixWorld.elements;
    return t48.set(e6[8], e6[9], e6[10]).normalize();
  }
  raycast() {
  }
  traverse(t48) {
    t48(this);
    let e6 = this.children;
    for (let i = 0, n = e6.length; i < n; i++)
      e6[i].traverse(t48);
  }
  traverseVisible(t48) {
    if (false === this.visible)
      return;
    t48(this);
    let e6 = this.children;
    for (let i = 0, n = e6.length; i < n; i++)
      e6[i].traverseVisible(t48);
  }
  traverseAncestors(t48) {
    let e6 = this.parent;
    null !== e6 && (t48(e6), e6.traverseAncestors(t48));
  }
  updateMatrix() {
    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = true;
  }
  updateMatrixWorld(t48) {
    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t48) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = false, t48 = true);
    let e6 = this.children;
    for (let i = 0, n = e6.length; i < n; i++) {
      let n10 = e6[i];
      (true === n10.matrixWorldAutoUpdate || true === t48) && n10.updateMatrixWorld(t48);
    }
  }
  updateWorldMatrix(t48, e6) {
    let i = this.parent;
    if (true === t48 && null !== i && true === i.matrixWorldAutoUpdate && i.updateWorldMatrix(true, false), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), true === e6) {
      let t49 = this.children;
      for (let e10 = 0, i10 = t49.length; e10 < i10; e10++) {
        let i11 = t49[e10];
        true === i11.matrixWorldAutoUpdate && i11.updateWorldMatrix(false, true);
      }
    }
  }
  toJSON(t48) {
    let e6 = void 0 === t48 || "string" == typeof t48, i = {};
    e6 && (t48 = { geometries: {}, materials: {}, textures: {}, images: {}, shapes: {}, skeletons: {}, animations: {}, nodes: {} }, i.metadata = { version: 4.5, type: "Object", generator: "Object3D.toJSON" });
    let n = {};
    function r(e10, i10) {
      return void 0 === e10[i10.uuid] && (e10[i10.uuid] = i10.toJSON(t48)), i10.uuid;
    }
    if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), true === this.castShadow && (n.castShadow = true), true === this.receiveShadow && (n.receiveShadow = true), false === this.visible && (n.visible = false), false === this.frustumCulled && (n.frustumCulled = false), 0 !== this.renderOrder && (n.renderOrder = this.renderOrder), Object.keys(this.userData).length > 0 && (n.userData = this.userData), n.layers = this.layers.mask, n.matrix = this.matrix.toArray(), n.up = this.up.toArray(), false === this.matrixAutoUpdate && (n.matrixAutoUpdate = false), this.isInstancedMesh && (n.type = "InstancedMesh", n.count = this.count, n.instanceMatrix = this.instanceMatrix.toJSON(), null !== this.instanceColor && (n.instanceColor = this.instanceColor.toJSON())), q(r, "serialize"), this.isScene)
      this.background && (this.background.isColor ? n.background = this.background.toJSON() : this.background.isTexture && (n.background = this.background.toJSON(t48).uuid)), this.environment && this.environment.isTexture && true !== this.environment.isRenderTargetTexture && (n.environment = this.environment.toJSON(t48).uuid);
    else if (this.isMesh || this.isLine || this.isPoints) {
      n.geometry = r(t48.geometries, this.geometry);
      let e10 = this.geometry.parameters;
      if (void 0 !== e10 && void 0 !== e10.shapes) {
        let i10 = e10.shapes;
        if (Array.isArray(i10))
          for (let e11 = 0, n10 = i10.length; e11 < n10; e11++) {
            let n11 = i10[e11];
            r(t48.shapes, n11);
          }
        else
          r(t48.shapes, i10);
      }
    }
    if (this.isSkinnedMesh && (n.bindMode = this.bindMode, n.bindMatrix = this.bindMatrix.toArray(), void 0 !== this.skeleton && (r(t48.skeletons, this.skeleton), n.skeleton = this.skeleton.uuid)), void 0 !== this.material)
      if (Array.isArray(this.material)) {
        let e10 = [];
        for (let i10 = 0, n10 = this.material.length; i10 < n10; i10++)
          e10.push(r(t48.materials, this.material[i10]));
        n.material = e10;
      } else
        n.material = r(t48.materials, this.material);
    if (this.children.length > 0) {
      n.children = [];
      for (let e10 = 0; e10 < this.children.length; e10++)
        n.children.push(this.children[e10].toJSON(t48).object);
    }
    if (this.animations.length > 0) {
      n.animations = [];
      for (let e10 = 0; e10 < this.animations.length; e10++) {
        let i10 = this.animations[e10];
        n.animations.push(r(t48.animations, i10));
      }
    }
    if (e6) {
      let e10 = o3(t48.geometries), n10 = o3(t48.materials), r6 = o3(t48.textures), s6 = o3(t48.images), a = o3(t48.shapes), l = o3(t48.skeletons), u2 = o3(t48.animations), h = o3(t48.nodes);
      e10.length > 0 && (i.geometries = e10), n10.length > 0 && (i.materials = n10), r6.length > 0 && (i.textures = r6), s6.length > 0 && (i.images = s6), a.length > 0 && (i.shapes = a), l.length > 0 && (i.skeletons = l), u2.length > 0 && (i.animations = u2), h.length > 0 && (i.nodes = h);
    }
    return i.object = n, i;
    function o3(t49) {
      let e10 = [];
      for (let i10 in t49) {
        let n10 = t49[i10];
        delete n10.metadata, e10.push(n10);
      }
      return e10;
    }
  }
  clone(t48) {
    return new this.constructor().copy(this, t48);
  }
  copy(t48, e6 = true) {
    if (this.name = t48.name, this.up.copy(t48.up), this.position.copy(t48.position), this.rotation.order = t48.rotation.order, this.quaternion.copy(t48.quaternion), this.scale.copy(t48.scale), this.matrix.copy(t48.matrix), this.matrixWorld.copy(t48.matrixWorld), this.matrixAutoUpdate = t48.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t48.matrixWorldNeedsUpdate, this.matrixWorldAutoUpdate = t48.matrixWorldAutoUpdate, this.layers.mask = t48.layers.mask, this.visible = t48.visible, this.castShadow = t48.castShadow, this.receiveShadow = t48.receiveShadow, this.frustumCulled = t48.frustumCulled, this.renderOrder = t48.renderOrder, this.userData = JSON.parse(JSON.stringify(t48.userData)), true === e6)
      for (let e10 = 0; e10 < t48.children.length; e10++) {
        let i = t48.children[e10];
        this.add(i.clone());
      }
    return this;
  }
};
q(dg, "Object3D");
var ci = dg;
ci.DEFAULT_UP = new K(0, 1, 0), ci.DEFAULT_MATRIX_AUTO_UPDATE = true, ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = true;
var ql = new K();
var Pc = new K();
var E6 = new K();
var Ic = new K();
var Km = new K();
var Jm = new K();
var Hj = new K();
var T6 = new K();
var S6 = new K();
var A6 = new K();
var vE = false;
var Oc = class t29 {
  constructor(t48 = new K(), e6 = new K(), i = new K()) {
    this.a = t48, this.b = e6, this.c = i;
  }
  static getNormal(t48, e6, i, n) {
    n.subVectors(i, e6), ql.subVectors(t48, e6), n.cross(ql);
    let r = n.lengthSq();
    return r > 0 ? n.multiplyScalar(1 / Math.sqrt(r)) : n.set(0, 0, 0);
  }
  static getBarycoord(t48, e6, i, n, r) {
    ql.subVectors(n, e6), Pc.subVectors(i, e6), E6.subVectors(t48, e6);
    let o3 = ql.dot(ql), s6 = ql.dot(Pc), a = ql.dot(E6), l = Pc.dot(Pc), u2 = Pc.dot(E6), h = o3 * l - s6 * s6;
    if (0 === h)
      return r.set(-2, -1, -1);
    let c2 = 1 / h, p4 = (l * a - s6 * u2) * c2, d = (o3 * u2 - s6 * a) * c2;
    return r.set(1 - p4 - d, d, p4);
  }
  static containsPoint(t48, e6, i, n) {
    return this.getBarycoord(t48, e6, i, n, Ic), Ic.x >= 0 && Ic.y >= 0 && Ic.x + Ic.y <= 1;
  }
  static getUV(t48, e6, i, n, r, o3, s6, a) {
    return false === vE && (console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."), vE = true), this.getInterpolation(t48, e6, i, n, r, o3, s6, a);
  }
  static getInterpolation(t48, e6, i, n, r, o3, s6, a) {
    return this.getBarycoord(t48, e6, i, n, Ic), a.setScalar(0), a.addScaledVector(r, Ic.x), a.addScaledVector(o3, Ic.y), a.addScaledVector(s6, Ic.z), a;
  }
  static isFrontFacing(t48, e6, i, n) {
    return ql.subVectors(i, e6), Pc.subVectors(t48, e6), ql.cross(Pc).dot(n) < 0;
  }
  set(t48, e6, i) {
    return this.a.copy(t48), this.b.copy(e6), this.c.copy(i), this;
  }
  setFromPointsAndIndices(t48, e6, i, n) {
    return this.a.copy(t48[e6]), this.b.copy(t48[i]), this.c.copy(t48[n]), this;
  }
  setFromAttributeAndIndices(t48, e6, i, n) {
    return this.a.fromBufferAttribute(t48, e6), this.b.fromBufferAttribute(t48, i), this.c.fromBufferAttribute(t48, n), this;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    return this.a.copy(t48.a), this.b.copy(t48.b), this.c.copy(t48.c), this;
  }
  getArea() {
    return ql.subVectors(this.c, this.b), Pc.subVectors(this.a, this.b), 0.5 * ql.cross(Pc).length();
  }
  getMidpoint(t48) {
    return t48.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);
  }
  getNormal(e6) {
    return t29.getNormal(this.a, this.b, this.c, e6);
  }
  getPlane(t48) {
    return t48.setFromCoplanarPoints(this.a, this.b, this.c);
  }
  getBarycoord(e6, i) {
    return t29.getBarycoord(e6, this.a, this.b, this.c, i);
  }
  getUV(e6, i, n, r, o3) {
    return false === vE && (console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."), vE = true), t29.getInterpolation(e6, this.a, this.b, this.c, i, n, r, o3);
  }
  getInterpolation(e6, i, n, r, o3) {
    return t29.getInterpolation(e6, this.a, this.b, this.c, i, n, r, o3);
  }
  containsPoint(e6) {
    return t29.containsPoint(e6, this.a, this.b, this.c);
  }
  isFrontFacing(e6) {
    return t29.isFrontFacing(this.a, this.b, this.c, e6);
  }
  intersectsBox(t48) {
    return t48.intersectsTriangle(this);
  }
  closestPointToPoint(t48, e6) {
    let i, n, r = this.a, o3 = this.b, s6 = this.c;
    Km.subVectors(o3, r), Jm.subVectors(s6, r), T6.subVectors(t48, r);
    let a = Km.dot(T6), l = Jm.dot(T6);
    if (a <= 0 && l <= 0)
      return e6.copy(r);
    S6.subVectors(t48, o3);
    let u2 = Km.dot(S6), h = Jm.dot(S6);
    if (u2 >= 0 && h <= u2)
      return e6.copy(o3);
    let c2 = a * h - u2 * l;
    if (c2 <= 0 && a >= 0 && u2 <= 0)
      return i = a / (a - u2), e6.copy(r).addScaledVector(Km, i);
    A6.subVectors(t48, s6);
    let p4 = Km.dot(A6), d = Jm.dot(A6);
    if (d >= 0 && p4 <= d)
      return e6.copy(s6);
    let f = p4 * l - a * d;
    if (f <= 0 && l >= 0 && d <= 0)
      return n = l / (l - d), e6.copy(r).addScaledVector(Jm, n);
    let g = u2 * d - p4 * h;
    if (g <= 0 && h - u2 >= 0 && p4 - d >= 0)
      return Hj.subVectors(s6, o3), n = (h - u2) / (h - u2 + (p4 - d)), e6.copy(o3).addScaledVector(Hj, n);
    let m = 1 / (g + f + c2);
    return i = f * m, n = c2 * m, e6.copy(r).addScaledVector(Km, i).addScaledVector(Jm, n);
  }
  equals(t48) {
    return t48.a.equals(this.a) && t48.b.equals(this.b) && t48.c.equals(this.c);
  }
};
q(Oc, "Triangle");
var Lp = Oc;
var Kfe = 0;
var YO = class extends Eo {
  constructor() {
    super(), this.isMaterial = true, Object.defineProperty(this, "id", { value: Kfe++ }), this.uuid = Cu(), this.name = "", this.type = "Material", this.blending = mg, this.side = Pa, this.vertexColors = false, this.opacity = 1, this.transparent = false, this.blendSrc = RW, this.blendDst = BW, this.blendEquation = cg, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = G6, this.depthTest = true, this.depthWrite = true, this.stencilWriteMask = 255, this.stencilFunc = Ux, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = Rc, this.stencilZFail = Rc, this.stencilZPass = Rc, this.stencilWrite = false, this.clippingPlanes = null, this.clipIntersection = false, this.clipShadows = false, this.shadowSide = null, this.colorWrite = true, this.precision = null, this.polygonOffset = false, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = false, this.alphaToCoverage = false, this.premultipliedAlpha = false, this.forceSinglePass = false, this.visible = true, this.toneMapped = true, this.userData = {}, this.version = 0, this._alphaTest = 0;
  }
  get alphaTest() {
    return this._alphaTest;
  }
  set alphaTest(t48) {
    this._alphaTest > 0 != t48 > 0 && this.version++, this._alphaTest = t48;
  }
  onBuild() {
  }
  onBeforeRender() {
  }
  onBeforeCompile() {
  }
  customProgramCacheKey() {
    return this.onBeforeCompile.toString();
  }
  setValues(t48) {
    if (void 0 !== t48)
      for (let e6 in t48) {
        let i = t48[e6];
        if (void 0 === i) {
          console.warn("THREE.Material: parameter '".concat(e6, "' has value of undefined."));
          continue;
        }
        let n = this[e6];
        void 0 !== n ? n && n.isColor ? n.set(i) : n && n.isVector3 && i && i.isVector3 ? n.copy(i) : this[e6] = i : console.warn("THREE.Material: '".concat(e6, "' is not a property of THREE.").concat(this.type, "."));
      }
  }
  toJSON(t48) {
    let e6 = void 0 === t48 || "string" == typeof t48;
    e6 && (t48 = { textures: {}, images: {} });
    let i = { metadata: { version: 4.5, type: "Material", generator: "Material.toJSON" } };
    function n(t49) {
      let e10 = [];
      for (let i10 in t49) {
        let n10 = t49[i10];
        delete n10.metadata, e10.push(n10);
      }
      return e10;
    }
    if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), this.color && this.color.isColor && (i.color = this.color.getHex()), void 0 !== this.roughness && (i.roughness = this.roughness), void 0 !== this.metalness && (i.metalness = this.metalness), void 0 !== this.sheen && (i.sheen = this.sheen), this.sheenColor && this.sheenColor.isColor && (i.sheenColor = this.sheenColor.getHex()), void 0 !== this.sheenRoughness && (i.sheenRoughness = this.sheenRoughness), this.emissive && this.emissive.isColor && (i.emissive = this.emissive.getHex()), this.emissiveIntensity && 1 !== this.emissiveIntensity && (i.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (i.specular = this.specular.getHex()), void 0 !== this.specularIntensity && (i.specularIntensity = this.specularIntensity), this.specularColor && this.specularColor.isColor && (i.specularColor = this.specularColor.getHex()), void 0 !== this.shininess && (i.shininess = this.shininess), void 0 !== this.clearcoat && (i.clearcoat = this.clearcoat), void 0 !== this.clearcoatRoughness && (i.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatMap && this.clearcoatMap.isTexture && (i.clearcoatMap = this.clearcoatMap.toJSON(t48).uuid), this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture && (i.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(t48).uuid), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (i.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(t48).uuid, i.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), void 0 !== this.iridescence && (i.iridescence = this.iridescence), void 0 !== this.iridescenceIOR && (i.iridescenceIOR = this.iridescenceIOR), void 0 !== this.iridescenceThicknessRange && (i.iridescenceThicknessRange = this.iridescenceThicknessRange), this.iridescenceMap && this.iridescenceMap.isTexture && (i.iridescenceMap = this.iridescenceMap.toJSON(t48).uuid), this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture && (i.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON(t48).uuid), this.map && this.map.isTexture && (i.map = this.map.toJSON(t48).uuid), this.matcap && this.matcap.isTexture && (i.matcap = this.matcap.toJSON(t48).uuid), this.alphaMap && this.alphaMap.isTexture && (i.alphaMap = this.alphaMap.toJSON(t48).uuid), this.lightMap && this.lightMap.isTexture && (i.lightMap = this.lightMap.toJSON(t48).uuid, i.lightMapIntensity = this.lightMapIntensity), this.aoMap && this.aoMap.isTexture && (i.aoMap = this.aoMap.toJSON(t48).uuid, i.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (i.bumpMap = this.bumpMap.toJSON(t48).uuid, i.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (i.normalMap = this.normalMap.toJSON(t48).uuid, i.normalMapType = this.normalMapType, i.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (i.displacementMap = this.displacementMap.toJSON(t48).uuid, i.displacementScale = this.displacementScale, i.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (i.roughnessMap = this.roughnessMap.toJSON(t48).uuid), this.metalnessMap && this.metalnessMap.isTexture && (i.metalnessMap = this.metalnessMap.toJSON(t48).uuid), this.emissiveMap && this.emissiveMap.isTexture && (i.emissiveMap = this.emissiveMap.toJSON(t48).uuid), this.specularMap && this.specularMap.isTexture && (i.specularMap = this.specularMap.toJSON(t48).uuid), this.specularIntensityMap && this.specularIntensityMap.isTexture && (i.specularIntensityMap = this.specularIntensityMap.toJSON(t48).uuid), this.specularColorMap && this.specularColorMap.isTexture && (i.specularColorMap = this.specularColorMap.toJSON(t48).uuid), this.envMap && this.envMap.isTexture && (i.envMap = this.envMap.toJSON(t48).uuid, void 0 !== this.combine && (i.combine = this.combine)), void 0 !== this.envMapIntensity && (i.envMapIntensity = this.envMapIntensity), void 0 !== this.reflectivity && (i.reflectivity = this.reflectivity), void 0 !== this.refractionRatio && (i.refractionRatio = this.refractionRatio), this.gradientMap && this.gradientMap.isTexture && (i.gradientMap = this.gradientMap.toJSON(t48).uuid), void 0 !== this.transmission && (i.transmission = this.transmission), this.transmissionMap && this.transmissionMap.isTexture && (i.transmissionMap = this.transmissionMap.toJSON(t48).uuid), void 0 !== this.thickness && (i.thickness = this.thickness), this.thicknessMap && this.thicknessMap.isTexture && (i.thicknessMap = this.thicknessMap.toJSON(t48).uuid), void 0 !== this.attenuationDistance && this.attenuationDistance !== 1 / 0 && (i.attenuationDistance = this.attenuationDistance), void 0 !== this.attenuationColor && (i.attenuationColor = this.attenuationColor.getHex()), void 0 !== this.size && (i.size = this.size), null !== this.shadowSide && (i.shadowSide = this.shadowSide), void 0 !== this.sizeAttenuation && (i.sizeAttenuation = this.sizeAttenuation), this.blending !== mg && (i.blending = this.blending), this.side !== Pa && (i.side = this.side), this.vertexColors && (i.vertexColors = true), this.opacity < 1 && (i.opacity = this.opacity), true === this.transparent && (i.transparent = this.transparent), i.depthFunc = this.depthFunc, i.depthTest = this.depthTest, i.depthWrite = this.depthWrite, i.colorWrite = this.colorWrite, i.stencilWrite = this.stencilWrite, i.stencilWriteMask = this.stencilWriteMask, i.stencilFunc = this.stencilFunc, i.stencilRef = this.stencilRef, i.stencilFuncMask = this.stencilFuncMask, i.stencilFail = this.stencilFail, i.stencilZFail = this.stencilZFail, i.stencilZPass = this.stencilZPass, void 0 !== this.rotation && 0 !== this.rotation && (i.rotation = this.rotation), true === this.polygonOffset && (i.polygonOffset = true), 0 !== this.polygonOffsetFactor && (i.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (i.polygonOffsetUnits = this.polygonOffsetUnits), void 0 !== this.linewidth && 1 !== this.linewidth && (i.linewidth = this.linewidth), void 0 !== this.dashSize && (i.dashSize = this.dashSize), void 0 !== this.gapSize && (i.gapSize = this.gapSize), void 0 !== this.scale && (i.scale = this.scale), true === this.dithering && (i.dithering = true), this.alphaTest > 0 && (i.alphaTest = this.alphaTest), true === this.alphaToCoverage && (i.alphaToCoverage = this.alphaToCoverage), true === this.premultipliedAlpha && (i.premultipliedAlpha = this.premultipliedAlpha), true === this.forceSinglePass && (i.forceSinglePass = this.forceSinglePass), true === this.wireframe && (i.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (i.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (i.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (i.wireframeLinejoin = this.wireframeLinejoin), true === this.flatShading && (i.flatShading = this.flatShading), false === this.visible && (i.visible = false), false === this.toneMapped && (i.toneMapped = false), false === this.fog && (i.fog = false), Object.keys(this.userData).length > 0 && (i.userData = this.userData), q(n, "extractFromCache"), e6) {
      let e10 = n(t48.textures), r = n(t48.images);
      e10.length > 0 && (i.textures = e10), r.length > 0 && (i.images = r);
    }
    return i;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    this.name = t48.name, this.blending = t48.blending, this.side = t48.side, this.vertexColors = t48.vertexColors, this.opacity = t48.opacity, this.transparent = t48.transparent, this.blendSrc = t48.blendSrc, this.blendDst = t48.blendDst, this.blendEquation = t48.blendEquation, this.blendSrcAlpha = t48.blendSrcAlpha, this.blendDstAlpha = t48.blendDstAlpha, this.blendEquationAlpha = t48.blendEquationAlpha, this.depthFunc = t48.depthFunc, this.depthTest = t48.depthTest, this.depthWrite = t48.depthWrite, this.stencilWriteMask = t48.stencilWriteMask, this.stencilFunc = t48.stencilFunc, this.stencilRef = t48.stencilRef, this.stencilFuncMask = t48.stencilFuncMask, this.stencilFail = t48.stencilFail, this.stencilZFail = t48.stencilZFail, this.stencilZPass = t48.stencilZPass, this.stencilWrite = t48.stencilWrite;
    let e6 = t48.clippingPlanes, i = null;
    if (null !== e6) {
      let t49 = e6.length;
      i = new Array(t49);
      for (let n = 0; n !== t49; ++n)
        i[n] = e6[n].clone();
    }
    return this.clippingPlanes = i, this.clipIntersection = t48.clipIntersection, this.clipShadows = t48.clipShadows, this.shadowSide = t48.shadowSide, this.colorWrite = t48.colorWrite, this.precision = t48.precision, this.polygonOffset = t48.polygonOffset, this.polygonOffsetFactor = t48.polygonOffsetFactor, this.polygonOffsetUnits = t48.polygonOffsetUnits, this.dithering = t48.dithering, this.alphaTest = t48.alphaTest, this.alphaToCoverage = t48.alphaToCoverage, this.premultipliedAlpha = t48.premultipliedAlpha, this.forceSinglePass = t48.forceSinglePass, this.visible = t48.visible, this.toneMapped = t48.toneMapped, this.userData = JSON.parse(JSON.stringify(t48.userData)), this;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
  set needsUpdate(t48) {
    true === t48 && this.version++;
  }
};
q(YO, "Material");
var ha = YO;
var GW = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 };
var Fl = { h: 0, s: 0, l: 0 };
var yE = { h: 0, s: 0, l: 0 };
function C6(t48, e6, i) {
  return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t48 + 6 * (e6 - t48) * i : i < 0.5 ? e6 : i < 2 / 3 ? t48 + 6 * (e6 - t48) * (2 / 3 - i) : t48;
}
q(C6, "hue2rgb");
var XO = class {
  constructor(t48, e6, i) {
    return this.isColor = true, this.r = 1, this.g = 1, this.b = 1, void 0 === e6 && void 0 === i ? this.set(t48) : this.setRGB(t48, e6, i);
  }
  set(t48) {
    return t48 && t48.isColor ? this.copy(t48) : "number" == typeof t48 ? this.setHex(t48) : "string" == typeof t48 && this.setStyle(t48), this;
  }
  setScalar(t48) {
    return this.r = t48, this.g = t48, this.b = t48, this;
  }
  setHex(t48, e6 = Lr) {
    return t48 = Math.floor(t48), this.r = (t48 >> 16 & 255) / 255, this.g = (t48 >> 8 & 255) / 255, this.b = (255 & t48) / 255, Sa.toWorkingColorSpace(this, e6), this;
  }
  setRGB(t48, e6, i, n = Sa.workingColorSpace) {
    return this.r = t48, this.g = e6, this.b = i, Sa.toWorkingColorSpace(this, n), this;
  }
  setHSL(t48, e6, i, n = Sa.workingColorSpace) {
    if (t48 = PO(t48, 1), e6 = ao(e6, 0, 1), i = ao(i, 0, 1), 0 === e6)
      this.r = this.g = this.b = i;
    else {
      let n10 = i <= 0.5 ? i * (1 + e6) : i + e6 - i * e6, r = 2 * i - n10;
      this.r = C6(r, n10, t48 + 1 / 3), this.g = C6(r, n10, t48), this.b = C6(r, n10, t48 - 1 / 3);
    }
    return Sa.toWorkingColorSpace(this, n), this;
  }
  setStyle(t48, e6 = Lr) {
    function i(e10) {
      void 0 !== e10 && parseFloat(e10) < 1 && console.warn("THREE.Color: Alpha component of " + t48 + " will be ignored.");
    }
    let n;
    if (q(i, "handleAlpha"), n = /^(\w+)\(([^\)]*)\)/.exec(t48)) {
      let r, o3 = n[1], s6 = n[2];
      switch (o3) {
        case "rgb":
        case "rgba":
          if (r = /^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s6))
            return this.r = Math.min(255, parseInt(r[1], 10)) / 255, this.g = Math.min(255, parseInt(r[2], 10)) / 255, this.b = Math.min(255, parseInt(r[3], 10)) / 255, Sa.toWorkingColorSpace(this, e6), i(r[4]), this;
          if (r = /^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s6))
            return this.r = Math.min(100, parseInt(r[1], 10)) / 100, this.g = Math.min(100, parseInt(r[2], 10)) / 100, this.b = Math.min(100, parseInt(r[3], 10)) / 100, Sa.toWorkingColorSpace(this, e6), i(r[4]), this;
          break;
        case "hsl":
        case "hsla":
          if (r = /^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s6)) {
            let t49 = parseFloat(r[1]) / 360, n10 = parseFloat(r[2]) / 100, o6 = parseFloat(r[3]) / 100;
            return i(r[4]), this.setHSL(t49, n10, o6, e6);
          }
          break;
        default:
          console.warn("THREE.Color: Unknown color model " + t48);
      }
    } else if (n = /^\#([A-Fa-f\d]+)$/.exec(t48)) {
      let i10 = n[1], r = i10.length;
      if (3 === r)
        return this.setRGB(parseInt(i10.charAt(0), 16) / 15, parseInt(i10.charAt(1), 16) / 15, parseInt(i10.charAt(2), 16) / 15, e6);
      if (6 === r)
        return this.setHex(parseInt(i10, 16), e6);
      console.warn("THREE.Color: Invalid hex color " + t48);
    } else if (t48 && t48.length > 0)
      return this.setColorName(t48, e6);
    return this;
  }
  setColorName(t48, e6 = Lr) {
    let i = GW[t48.toLowerCase()];
    return void 0 !== i ? this.setHex(i, e6) : console.warn("THREE.Color: Unknown color " + t48), this;
  }
  clone() {
    return new this.constructor(this.r, this.g, this.b);
  }
  copy(t48) {
    return this.r = t48.r, this.g = t48.g, this.b = t48.b, this;
  }
  copySRGBToLinear(t48) {
    return this.r = gg(t48.r), this.g = gg(t48.g), this.b = gg(t48.b), this;
  }
  copyLinearToSRGB(t48) {
    return this.r = g6(t48.r), this.g = g6(t48.g), this.b = g6(t48.b), this;
  }
  convertSRGBToLinear() {
    return this.copySRGBToLinear(this), this;
  }
  convertLinearToSRGB() {
    return this.copyLinearToSRGB(this), this;
  }
  getHex(t48 = Lr) {
    return Sa.fromWorkingColorSpace(Mo.copy(this), t48), ao(255 * Mo.r, 0, 255) << 16 ^ ao(255 * Mo.g, 0, 255) << 8 ^ ao(255 * Mo.b, 0, 255) << 0;
  }
  getHexString(t48 = Lr) {
    return ("000000" + this.getHex(t48).toString(16)).slice(-6);
  }
  getHSL(t48, e6 = Sa.workingColorSpace) {
    Sa.fromWorkingColorSpace(Mo.copy(this), e6);
    let i, n, r = Mo.r, o3 = Mo.g, s6 = Mo.b, a = Math.max(r, o3, s6), l = Math.min(r, o3, s6), u2 = (l + a) / 2;
    if (l === a)
      i = 0, n = 0;
    else {
      let t49 = a - l;
      switch (n = u2 <= 0.5 ? t49 / (a + l) : t49 / (2 - a - l), a) {
        case r:
          i = (o3 - s6) / t49 + (o3 < s6 ? 6 : 0);
          break;
        case o3:
          i = (s6 - r) / t49 + 2;
          break;
        case s6:
          i = (r - o3) / t49 + 4;
      }
      i /= 6;
    }
    return t48.h = i, t48.s = n, t48.l = u2, t48;
  }
  getRGB(t48, e6 = Sa.workingColorSpace) {
    return Sa.fromWorkingColorSpace(Mo.copy(this), e6), t48.r = Mo.r, t48.g = Mo.g, t48.b = Mo.b, t48;
  }
  getStyle(t48 = Lr) {
    Sa.fromWorkingColorSpace(Mo.copy(this), t48);
    let e6 = Mo.r, i = Mo.g, n = Mo.b;
    return t48 !== Lr ? "color(".concat(t48, " ").concat(e6.toFixed(3), " ").concat(i.toFixed(3), " ").concat(n.toFixed(3), ")") : "rgb(".concat(255 * e6 | 0, ",").concat(255 * i | 0, ",").concat(255 * n | 0, ")");
  }
  offsetHSL(t48, e6, i) {
    return this.getHSL(Fl), Fl.h += t48, Fl.s += e6, Fl.l += i, this.setHSL(Fl.h, Fl.s, Fl.l), this;
  }
  add(t48) {
    return this.r += t48.r, this.g += t48.g, this.b += t48.b, this;
  }
  addColors(t48, e6) {
    return this.r = t48.r + e6.r, this.g = t48.g + e6.g, this.b = t48.b + e6.b, this;
  }
  addScalar(t48) {
    return this.r += t48, this.g += t48, this.b += t48, this;
  }
  sub(t48) {
    return this.r = Math.max(0, this.r - t48.r), this.g = Math.max(0, this.g - t48.g), this.b = Math.max(0, this.b - t48.b), this;
  }
  multiply(t48) {
    return this.r *= t48.r, this.g *= t48.g, this.b *= t48.b, this;
  }
  multiplyScalar(t48) {
    return this.r *= t48, this.g *= t48, this.b *= t48, this;
  }
  lerp(t48, e6) {
    return this.r += (t48.r - this.r) * e6, this.g += (t48.g - this.g) * e6, this.b += (t48.b - this.b) * e6, this;
  }
  lerpColors(t48, e6, i) {
    return this.r = t48.r + (e6.r - t48.r) * i, this.g = t48.g + (e6.g - t48.g) * i, this.b = t48.b + (e6.b - t48.b) * i, this;
  }
  lerpHSL(t48, e6) {
    this.getHSL(Fl), t48.getHSL(yE);
    let i = fx(Fl.h, yE.h, e6), n = fx(Fl.s, yE.s, e6), r = fx(Fl.l, yE.l, e6);
    return this.setHSL(i, n, r), this;
  }
  setFromVector3(t48) {
    return this.r = t48.x, this.g = t48.y, this.b = t48.z, this;
  }
  applyMatrix3(t48) {
    let e6 = this.r, i = this.g, n = this.b, r = t48.elements;
    return this.r = r[0] * e6 + r[3] * i + r[6] * n, this.g = r[1] * e6 + r[4] * i + r[7] * n, this.b = r[2] * e6 + r[5] * i + r[8] * n, this;
  }
  equals(t48) {
    return t48.r === this.r && t48.g === this.g && t48.b === this.b;
  }
  fromArray(t48, e6 = 0) {
    return this.r = t48[e6], this.g = t48[e6 + 1], this.b = t48[e6 + 2], this;
  }
  toArray(t48 = [], e6 = 0) {
    return t48[e6] = this.r, t48[e6 + 1] = this.g, t48[e6 + 2] = this.b, t48;
  }
  fromBufferAttribute(t48, e6) {
    return this.r = t48.getX(e6), this.g = t48.getY(e6), this.b = t48.getZ(e6), this;
  }
  toJSON() {
    return this.getHex();
  }
  *[Symbol.iterator]() {
    yield this.r, yield this.g, yield this.b;
  }
};
q(XO, "Color");
var at = XO;
var Mo = new at();
at.NAMES = GW;
var ZO = class extends ha {
  constructor(t48) {
    super(), this.isMeshBasicMaterial = true, this.type = "MeshBasicMaterial", this.color = new at(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = TO, this.reflectivity = 1, this.refractionRatio = 0.98, this.wireframe = false, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.fog = true, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.color.copy(t48.color), this.map = t48.map, this.lightMap = t48.lightMap, this.lightMapIntensity = t48.lightMapIntensity, this.aoMap = t48.aoMap, this.aoMapIntensity = t48.aoMapIntensity, this.specularMap = t48.specularMap, this.alphaMap = t48.alphaMap, this.envMap = t48.envMap, this.combine = t48.combine, this.reflectivity = t48.reflectivity, this.refractionRatio = t48.refractionRatio, this.wireframe = t48.wireframe, this.wireframeLinewidth = t48.wireframeLinewidth, this.wireframeLinecap = t48.wireframeLinecap, this.wireframeLinejoin = t48.wireframeLinejoin, this.fog = t48.fog, this;
  }
};
q(ZO, "MeshBasicMaterial");
var ls = ZO;
var os = new K();
var xE = new qe();
var QO = class {
  constructor(t48, e6, i = false) {
    if (Array.isArray(t48))
      throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
    this.isBufferAttribute = true, this.name = "", this.array = t48, this.itemSize = e6, this.count = void 0 !== t48 ? t48.length / e6 : 0, this.normalized = i, this.usage = j6, this.updateRange = { offset: 0, count: -1 }, this.version = 0;
  }
  onUploadCallback() {
  }
  set needsUpdate(t48) {
    true === t48 && this.version++;
  }
  setUsage(t48) {
    return this.usage = t48, this;
  }
  copy(t48) {
    return this.name = t48.name, this.array = new t48.array.constructor(t48.array), this.itemSize = t48.itemSize, this.count = t48.count, this.normalized = t48.normalized, this.usage = t48.usage, this;
  }
  copyAt(t48, e6, i) {
    t48 *= this.itemSize, i *= e6.itemSize;
    for (let n = 0, r = this.itemSize; n < r; n++)
      this.array[t48 + n] = e6.array[i + n];
    return this;
  }
  copyArray(t48) {
    return this.array.set(t48), this;
  }
  applyMatrix3(t48) {
    if (2 === this.itemSize)
      for (let e6 = 0, i = this.count; e6 < i; e6++)
        xE.fromBufferAttribute(this, e6), xE.applyMatrix3(t48), this.setXY(e6, xE.x, xE.y);
    else if (3 === this.itemSize)
      for (let e6 = 0, i = this.count; e6 < i; e6++)
        os.fromBufferAttribute(this, e6), os.applyMatrix3(t48), this.setXYZ(e6, os.x, os.y, os.z);
    return this;
  }
  applyMatrix4(t48) {
    for (let e6 = 0, i = this.count; e6 < i; e6++)
      os.fromBufferAttribute(this, e6), os.applyMatrix4(t48), this.setXYZ(e6, os.x, os.y, os.z);
    return this;
  }
  applyNormalMatrix(t48) {
    for (let e6 = 0, i = this.count; e6 < i; e6++)
      os.fromBufferAttribute(this, e6), os.applyNormalMatrix(t48), this.setXYZ(e6, os.x, os.y, os.z);
    return this;
  }
  transformDirection(t48) {
    for (let e6 = 0, i = this.count; e6 < i; e6++)
      os.fromBufferAttribute(this, e6), os.transformDirection(t48), this.setXYZ(e6, os.x, os.y, os.z);
    return this;
  }
  set(t48, e6 = 0) {
    return this.array.set(t48, e6), this;
  }
  getX(t48) {
    let e6 = this.array[t48 * this.itemSize];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  setX(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.array[t48 * this.itemSize] = e6, this;
  }
  getY(t48) {
    let e6 = this.array[t48 * this.itemSize + 1];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  setY(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.array[t48 * this.itemSize + 1] = e6, this;
  }
  getZ(t48) {
    let e6 = this.array[t48 * this.itemSize + 2];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  setZ(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.array[t48 * this.itemSize + 2] = e6, this;
  }
  getW(t48) {
    let e6 = this.array[t48 * this.itemSize + 3];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  setW(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.array[t48 * this.itemSize + 3] = e6, this;
  }
  setXY(t48, e6, i) {
    return t48 *= this.itemSize, this.normalized && (e6 = qi(e6, this.array), i = qi(i, this.array)), this.array[t48 + 0] = e6, this.array[t48 + 1] = i, this;
  }
  setXYZ(t48, e6, i, n) {
    return t48 *= this.itemSize, this.normalized && (e6 = qi(e6, this.array), i = qi(i, this.array), n = qi(n, this.array)), this.array[t48 + 0] = e6, this.array[t48 + 1] = i, this.array[t48 + 2] = n, this;
  }
  setXYZW(t48, e6, i, n, r) {
    return t48 *= this.itemSize, this.normalized && (e6 = qi(e6, this.array), i = qi(i, this.array), n = qi(n, this.array), r = qi(r, this.array)), this.array[t48 + 0] = e6, this.array[t48 + 1] = i, this.array[t48 + 2] = n, this.array[t48 + 3] = r, this;
  }
  onUpload(t48) {
    return this.onUploadCallback = t48, this;
  }
  clone() {
    return new this.constructor(this.array, this.itemSize).copy(this);
  }
  toJSON() {
    let t48 = { itemSize: this.itemSize, type: this.array.constructor.name, array: Array.from(this.array), normalized: this.normalized };
    return "" !== this.name && (t48.name = this.name), this.usage !== j6 && (t48.usage = this.usage), (0 !== this.updateRange.offset || -1 !== this.updateRange.count) && (t48.updateRange = this.updateRange), t48;
  }
  copyColorsArray() {
    console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.");
  }
  copyVector2sArray() {
    console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.");
  }
  copyVector3sArray() {
    console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.");
  }
  copyVector4sArray() {
    console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.");
  }
};
q(QO, "BufferAttribute");
var rn = QO;
var KO = class extends rn {
  constructor(t48, e6, i) {
    super(new Uint16Array(t48), e6, i);
  }
};
q(KO, "Uint16BufferAttribute");
var WE = KO;
var JO = class extends rn {
  constructor(t48, e6, i) {
    super(new Uint32Array(t48), e6, i);
  }
};
q(JO, "Uint32BufferAttribute");
var YE = JO;
var $O = class extends rn {
  constructor(t48, e6, i) {
    super(new Float32Array(t48), e6, i);
  }
};
q($O, "Float32BufferAttribute");
var Rr = $O;
var Jfe = 0;
var nl = new Ot();
var P6 = new ci();
var $m = new K();
var Ca = new Yt();
var ix = new Yt();
var zs = new K();
var _T = class t30 extends Eo {
  constructor() {
    super(), this.isBufferGeometry = true, Object.defineProperty(this, "id", { value: Jfe++ }), this.uuid = Cu(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.morphTargetsRelative = false, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = { start: 0, count: 1 / 0 }, this.userData = {};
  }
  getIndex() {
    return this.index;
  }
  setIndex(t48) {
    return Array.isArray(t48) ? this.index = new (zW(t48) ? YE : WE)(t48, 1) : this.index = t48, this;
  }
  getAttribute(t48) {
    return this.attributes[t48];
  }
  setAttribute(t48, e6) {
    return this.attributes[t48] = e6, this;
  }
  deleteAttribute(t48) {
    return delete this.attributes[t48], this;
  }
  hasAttribute(t48) {
    return void 0 !== this.attributes[t48];
  }
  addGroup(t48, e6, i = 0) {
    this.groups.push({ start: t48, count: e6, materialIndex: i });
  }
  clearGroups() {
    this.groups = [];
  }
  setDrawRange(t48, e6) {
    this.drawRange.start = t48, this.drawRange.count = e6;
  }
  applyMatrix4(t48) {
    let e6 = this.attributes.position;
    void 0 !== e6 && (e6.applyMatrix4(t48), e6.needsUpdate = true);
    let i = this.attributes.normal;
    if (void 0 !== i) {
      let e10 = new li().getNormalMatrix(t48);
      i.applyNormalMatrix(e10), i.needsUpdate = true;
    }
    let n = this.attributes.tangent;
    return void 0 !== n && (n.transformDirection(t48), n.needsUpdate = true), null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this;
  }
  applyQuaternion(t48) {
    return nl.makeRotationFromQuaternion(t48), this.applyMatrix4(nl), this;
  }
  rotateX(t48) {
    return nl.makeRotationX(t48), this.applyMatrix4(nl), this;
  }
  rotateY(t48) {
    return nl.makeRotationY(t48), this.applyMatrix4(nl), this;
  }
  rotateZ(t48) {
    return nl.makeRotationZ(t48), this.applyMatrix4(nl), this;
  }
  translate(t48, e6, i) {
    return nl.makeTranslation(t48, e6, i), this.applyMatrix4(nl), this;
  }
  scale(t48, e6, i) {
    return nl.makeScale(t48, e6, i), this.applyMatrix4(nl), this;
  }
  lookAt(t48) {
    return P6.lookAt(t48), P6.updateMatrix(), this.applyMatrix4(P6.matrix), this;
  }
  center() {
    return this.computeBoundingBox(), this.boundingBox.getCenter($m).negate(), this.translate($m.x, $m.y, $m.z), this;
  }
  setFromPoints(t48) {
    let e6 = [];
    for (let i = 0, n = t48.length; i < n; i++) {
      let n10 = t48[i];
      e6.push(n10.x, n10.y, n10.z || 0);
    }
    return this.setAttribute("position", new Rr(e6, 3)), this;
  }
  computeBoundingBox() {
    null === this.boundingBox && (this.boundingBox = new Yt());
    let t48 = this.attributes.position, e6 = this.morphAttributes.position;
    if (t48 && t48.isGLBufferAttribute)
      return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".', this), void this.boundingBox.set(new K(-1 / 0, -1 / 0, -1 / 0), new K(1 / 0, 1 / 0, 1 / 0));
    if (void 0 !== t48) {
      if (this.boundingBox.setFromBufferAttribute(t48), e6)
        for (let t49 = 0, i = e6.length; t49 < i; t49++) {
          let i10 = e6[t49];
          Ca.setFromBufferAttribute(i10), this.morphTargetsRelative ? (zs.addVectors(this.boundingBox.min, Ca.min), this.boundingBox.expandByPoint(zs), zs.addVectors(this.boundingBox.max, Ca.max), this.boundingBox.expandByPoint(zs)) : (this.boundingBox.expandByPoint(Ca.min), this.boundingBox.expandByPoint(Ca.max));
        }
    } else
      this.boundingBox.makeEmpty();
    (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this);
  }
  computeBoundingSphere() {
    null === this.boundingSphere && (this.boundingSphere = new Kh());
    let t48 = this.attributes.position, e6 = this.morphAttributes.position;
    if (t48 && t48.isGLBufferAttribute)
      return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".', this), void this.boundingSphere.set(new K(), 1 / 0);
    if (t48) {
      let i = this.boundingSphere.center;
      if (Ca.setFromBufferAttribute(t48), e6)
        for (let t49 = 0, i10 = e6.length; t49 < i10; t49++) {
          let i11 = e6[t49];
          ix.setFromBufferAttribute(i11), this.morphTargetsRelative ? (zs.addVectors(Ca.min, ix.min), Ca.expandByPoint(zs), zs.addVectors(Ca.max, ix.max), Ca.expandByPoint(zs)) : (Ca.expandByPoint(ix.min), Ca.expandByPoint(ix.max));
        }
      Ca.getCenter(i);
      let n = 0;
      for (let e10 = 0, r = t48.count; e10 < r; e10++)
        zs.fromBufferAttribute(t48, e10), n = Math.max(n, i.distanceToSquared(zs));
      if (e6)
        for (let r = 0, o3 = e6.length; r < o3; r++) {
          let o6 = e6[r], s6 = this.morphTargetsRelative;
          for (let e10 = 0, r6 = o6.count; e10 < r6; e10++)
            zs.fromBufferAttribute(o6, e10), s6 && ($m.fromBufferAttribute(t48, e10), zs.add($m)), n = Math.max(n, i.distanceToSquared(zs));
        }
      this.boundingSphere.radius = Math.sqrt(n), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this);
    }
  }
  computeTangents() {
    let t48 = this.index, e6 = this.attributes;
    if (null === t48 || void 0 === e6.position || void 0 === e6.normal || void 0 === e6.uv)
      return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");
    let i = t48.array, n = e6.position.array, r = e6.normal.array, o3 = e6.uv.array, s6 = n.length / 3;
    false === this.hasAttribute("tangent") && this.setAttribute("tangent", new rn(new Float32Array(4 * s6), 4));
    let a = this.getAttribute("tangent").array, l = [], h = [];
    for (let t49 = 0; t49 < s6; t49++)
      l[t49] = new K(), h[t49] = new K();
    let c2 = new K(), p4 = new K(), d = new K(), f = new qe(), g = new qe(), m = new qe(), v4 = new K(), y4 = new K();
    function x4(t49, e10, i10) {
      c2.fromArray(n, 3 * t49), p4.fromArray(n, 3 * e10), d.fromArray(n, 3 * i10), f.fromArray(o3, 2 * t49), g.fromArray(o3, 2 * e10), m.fromArray(o3, 2 * i10), p4.sub(c2), d.sub(c2), g.sub(f), m.sub(f);
      let r6 = 1 / (g.x * m.y - m.x * g.y);
      isFinite(r6) && (v4.copy(p4).multiplyScalar(m.y).addScaledVector(d, -g.y).multiplyScalar(r6), y4.copy(d).multiplyScalar(g.x).addScaledVector(p4, -m.x).multiplyScalar(r6), l[t49].add(v4), l[e10].add(v4), l[i10].add(v4), h[t49].add(y4), h[e10].add(y4), h[i10].add(y4));
    }
    q(x4, "handleTriangle");
    let _ = this.groups;
    0 === _.length && (_ = [{ start: 0, count: i.length }]);
    for (let t49 = 0, e10 = _.length; t49 < e10; ++t49) {
      let e11 = _[t49], n10 = e11.start;
      for (let t50 = n10, r6 = n10 + e11.count; t50 < r6; t50 += 3)
        x4(i[t50 + 0], i[t50 + 1], i[t50 + 2]);
    }
    let b = new K(), M = new K(), E = new K(), w4 = new K();
    function A(t49) {
      E.fromArray(r, 3 * t49), w4.copy(E);
      let e10 = l[t49];
      b.copy(e10), b.sub(E.multiplyScalar(E.dot(e10))).normalize(), M.crossVectors(w4, e10);
      let i10 = M.dot(h[t49]) < 0 ? -1 : 1;
      a[4 * t49] = b.x, a[4 * t49 + 1] = b.y, a[4 * t49 + 2] = b.z, a[4 * t49 + 3] = i10;
    }
    q(A, "handleVertex");
    for (let t49 = 0, e10 = _.length; t49 < e10; ++t49) {
      let e11 = _[t49], n10 = e11.start;
      for (let t50 = n10, r6 = n10 + e11.count; t50 < r6; t50 += 3)
        A(i[t50 + 0]), A(i[t50 + 1]), A(i[t50 + 2]);
    }
  }
  computeVertexNormals() {
    let t48 = this.index, e6 = this.getAttribute("position");
    if (void 0 !== e6) {
      let i = this.getAttribute("normal");
      if (void 0 === i)
        i = new rn(new Float32Array(3 * e6.count), 3), this.setAttribute("normal", i);
      else
        for (let t49 = 0, e10 = i.count; t49 < e10; t49++)
          i.setXYZ(t49, 0, 0, 0);
      let n = new K(), r = new K(), o3 = new K(), s6 = new K(), a = new K(), l = new K(), u2 = new K(), h = new K();
      if (t48)
        for (let c2 = 0, p4 = t48.count; c2 < p4; c2 += 3) {
          let p10 = t48.getX(c2 + 0), d = t48.getX(c2 + 1), f = t48.getX(c2 + 2);
          n.fromBufferAttribute(e6, p10), r.fromBufferAttribute(e6, d), o3.fromBufferAttribute(e6, f), u2.subVectors(o3, r), h.subVectors(n, r), u2.cross(h), s6.fromBufferAttribute(i, p10), a.fromBufferAttribute(i, d), l.fromBufferAttribute(i, f), s6.add(u2), a.add(u2), l.add(u2), i.setXYZ(p10, s6.x, s6.y, s6.z), i.setXYZ(d, a.x, a.y, a.z), i.setXYZ(f, l.x, l.y, l.z);
        }
      else
        for (let t49 = 0, s10 = e6.count; t49 < s10; t49 += 3)
          n.fromBufferAttribute(e6, t49 + 0), r.fromBufferAttribute(e6, t49 + 1), o3.fromBufferAttribute(e6, t49 + 2), u2.subVectors(o3, r), h.subVectors(n, r), u2.cross(h), i.setXYZ(t49 + 0, u2.x, u2.y, u2.z), i.setXYZ(t49 + 1, u2.x, u2.y, u2.z), i.setXYZ(t49 + 2, u2.x, u2.y, u2.z);
      this.normalizeNormals(), i.needsUpdate = true;
    }
  }
  merge() {
    return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."), this;
  }
  normalizeNormals() {
    let t48 = this.attributes.normal;
    for (let e6 = 0, i = t48.count; e6 < i; e6++)
      zs.fromBufferAttribute(t48, e6), zs.normalize(), t48.setXYZ(e6, zs.x, zs.y, zs.z);
  }
  toNonIndexed() {
    function e6(t48, e10) {
      let i10 = t48.array, n10 = t48.itemSize, r6 = t48.normalized, o6 = new i10.constructor(e10.length * n10), s10 = 0, a = 0;
      for (let r10 = 0, l = e10.length; r10 < l; r10++) {
        s10 = t48.isInterleavedBufferAttribute ? e10[r10] * t48.data.stride + t48.offset : e10[r10] * n10;
        for (let t49 = 0; t49 < n10; t49++)
          o6[a++] = i10[s10++];
      }
      return new rn(o6, n10, r6);
    }
    if (q(e6, "convertBufferAttribute"), null === this.index)
      return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."), this;
    let i = new t30(), n = this.index.array, r = this.attributes;
    for (let t48 in r) {
      let o6 = e6(r[t48], n);
      i.setAttribute(t48, o6);
    }
    let o3 = this.morphAttributes;
    for (let t48 in o3) {
      let r6 = [], s10 = o3[t48];
      for (let t49 = 0, i10 = s10.length; t49 < i10; t49++) {
        let i11 = e6(s10[t49], n);
        r6.push(i11);
      }
      i.morphAttributes[t48] = r6;
    }
    i.morphTargetsRelative = this.morphTargetsRelative;
    let s6 = this.groups;
    for (let t48 = 0, e10 = s6.length; t48 < e10; t48++) {
      let e11 = s6[t48];
      i.addGroup(e11.start, e11.count, e11.materialIndex);
    }
    return i;
  }
  toJSON() {
    let t48 = { metadata: { version: 4.5, type: "BufferGeometry", generator: "BufferGeometry.toJSON" } };
    if (t48.uuid = this.uuid, t48.type = this.type, "" !== this.name && (t48.name = this.name), Object.keys(this.userData).length > 0 && (t48.userData = this.userData), void 0 !== this.parameters) {
      let e10 = this.parameters;
      for (let i10 in e10)
        void 0 !== e10[i10] && (t48[i10] = e10[i10]);
      return t48;
    }
    t48.data = { attributes: {} };
    let e6 = this.index;
    null !== e6 && (t48.data.index = { type: e6.array.constructor.name, array: Array.prototype.slice.call(e6.array) });
    let i = this.attributes;
    for (let e10 in i) {
      let n10 = i[e10];
      t48.data.attributes[e10] = n10.toJSON(t48.data);
    }
    let n = {}, r = false;
    for (let e10 in this.morphAttributes) {
      let i10 = this.morphAttributes[e10], o6 = [];
      for (let e11 = 0, n10 = i10.length; e11 < n10; e11++) {
        let n11 = i10[e11];
        o6.push(n11.toJSON(t48.data));
      }
      o6.length > 0 && (n[e10] = o6, r = true);
    }
    r && (t48.data.morphAttributes = n, t48.data.morphTargetsRelative = this.morphTargetsRelative);
    let o3 = this.groups;
    o3.length > 0 && (t48.data.groups = JSON.parse(JSON.stringify(o3)));
    let s6 = this.boundingSphere;
    return null !== s6 && (t48.data.boundingSphere = { center: s6.center.toArray(), radius: s6.radius }), t48;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null;
    let e6 = {};
    this.name = t48.name;
    let i = t48.index;
    null !== i && this.setIndex(i.clone(e6));
    let n = t48.attributes;
    for (let t49 in n) {
      let i10 = n[t49];
      this.setAttribute(t49, i10.clone(e6));
    }
    let r = t48.morphAttributes;
    for (let t49 in r) {
      let i10 = [], n10 = r[t49];
      for (let t50 = 0, r6 = n10.length; t50 < r6; t50++)
        i10.push(n10[t50].clone(e6));
      this.morphAttributes[t49] = i10;
    }
    this.morphTargetsRelative = t48.morphTargetsRelative;
    let o3 = t48.groups;
    for (let t49 = 0, e10 = o3.length; t49 < e10; t49++) {
      let e11 = o3[t49];
      this.addGroup(e11.start, e11.count, e11.materialIndex);
    }
    let s6 = t48.boundingBox;
    null !== s6 && (this.boundingBox = s6.clone());
    let a = t48.boundingSphere;
    return null !== a && (this.boundingSphere = a.clone()), this.drawRange.start = t48.drawRange.start, this.drawRange.count = t48.drawRange.count, this.userData = t48.userData, this;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
};
q(_T, "BufferGeometry");
var Ji = _T;
var jj = new Ot();
var Tu = new _x();
var bE = new Kh();
var Wj = new K();
var eg = new K();
var tg = new K();
var ng = new K();
var I6 = new K();
var _E = new K();
var wE = new qe();
var ME = new qe();
var EE = new qe();
var Yj = new K();
var Xj = new K();
var Zj = new K();
var TE = new K();
var SE = new K();
var eL = class extends ci {
  constructor(t48 = new Ji(), e6 = new ls()) {
    super(), this.isMesh = true, this.type = "Mesh", this.geometry = t48, this.material = e6, this.updateMorphTargets();
  }
  copy(t48, e6) {
    return super.copy(t48, e6), void 0 !== t48.morphTargetInfluences && (this.morphTargetInfluences = t48.morphTargetInfluences.slice()), void 0 !== t48.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, t48.morphTargetDictionary)), this.material = t48.material, this.geometry = t48.geometry, this;
  }
  updateMorphTargets() {
    let t48 = this.geometry.morphAttributes, e6 = Object.keys(t48);
    if (e6.length > 0) {
      let i = t48[e6[0]];
      if (void 0 !== i) {
        this.morphTargetInfluences = [], this.morphTargetDictionary = {};
        for (let t49 = 0, e10 = i.length; t49 < e10; t49++) {
          let e11 = i[t49].name || String(t49);
          this.morphTargetInfluences.push(0), this.morphTargetDictionary[e11] = t49;
        }
      }
    }
  }
  getVertexPosition(t48, e6) {
    let i = this.geometry, n = i.attributes.position, r = i.morphAttributes.position, o3 = i.morphTargetsRelative;
    e6.fromBufferAttribute(n, t48);
    let s6 = this.morphTargetInfluences;
    if (r && s6) {
      _E.set(0, 0, 0);
      for (let i10 = 0, n10 = r.length; i10 < n10; i10++) {
        let n11 = s6[i10], a = r[i10];
        0 !== n11 && (I6.fromBufferAttribute(a, t48), o3 ? _E.addScaledVector(I6, n11) : _E.addScaledVector(I6.sub(e6), n11));
      }
      e6.add(_E);
    }
    return this.isSkinnedMesh && this.applyBoneTransform(t48, e6), e6;
  }
  raycast(t48, e6) {
    let i = this.geometry, n = this.material, r = this.matrixWorld;
    if (void 0 === n || (null === i.boundingSphere && i.computeBoundingSphere(), bE.copy(i.boundingSphere), bE.applyMatrix4(r), Tu.copy(t48.ray).recast(t48.near), false === bE.containsPoint(Tu.origin) && (null === Tu.intersectSphere(bE, Wj) || Tu.origin.distanceToSquared(Wj) > (t48.far - t48.near) ** 2)) || (jj.copy(r).invert(), Tu.copy(t48.ray).applyMatrix4(jj), null !== i.boundingBox && false === Tu.intersectsBox(i.boundingBox)))
      return;
    let o3, s6 = i.index, a = i.attributes.position, l = i.attributes.uv, u2 = i.attributes.uv2, h = i.attributes.normal, c2 = i.groups, p4 = i.drawRange;
    if (null !== s6)
      if (Array.isArray(n))
        for (let i10 = 0, r6 = c2.length; i10 < r6; i10++) {
          let r10 = c2[i10], a3 = n[r10.materialIndex];
          for (let i11 = Math.max(r10.start, p4.start), n10 = Math.min(s6.count, Math.min(r10.start + r10.count, p4.start + p4.count)); i11 < n10; i11 += 3) {
            let n11 = s6.getX(i11), c4 = s6.getX(i11 + 1), p10 = s6.getX(i11 + 2);
            o3 = AE(this, a3, t48, Tu, l, u2, h, n11, c4, p10), o3 && (o3.faceIndex = Math.floor(i11 / 3), o3.face.materialIndex = r10.materialIndex, e6.push(o3));
          }
        }
      else {
        for (let i10 = Math.max(0, p4.start), r6 = Math.min(s6.count, p4.start + p4.count); i10 < r6; i10 += 3) {
          let r10 = s6.getX(i10), a3 = s6.getX(i10 + 1), c4 = s6.getX(i10 + 2);
          o3 = AE(this, n, t48, Tu, l, u2, h, r10, a3, c4), o3 && (o3.faceIndex = Math.floor(i10 / 3), e6.push(o3));
        }
      }
    else if (void 0 !== a)
      if (Array.isArray(n))
        for (let i10 = 0, r6 = c2.length; i10 < r6; i10++) {
          let r10 = c2[i10], s10 = n[r10.materialIndex];
          for (let i11 = Math.max(r10.start, p4.start), n10 = Math.min(a.count, Math.min(r10.start + r10.count, p4.start + p4.count)); i11 < n10; i11 += 3) {
            o3 = AE(this, s10, t48, Tu, l, u2, h, i11, i11 + 1, i11 + 2), o3 && (o3.faceIndex = Math.floor(i11 / 3), o3.face.materialIndex = r10.materialIndex, e6.push(o3));
          }
        }
      else {
        for (let i10 = Math.max(0, p4.start), r6 = Math.min(a.count, p4.start + p4.count); i10 < r6; i10 += 3) {
          o3 = AE(this, n, t48, Tu, l, u2, h, i10, i10 + 1, i10 + 2), o3 && (o3.faceIndex = Math.floor(i10 / 3), e6.push(o3));
        }
      }
  }
};
q(eL, "Mesh");
var Ft = eL;
function $fe(t48, e6, i, n, r, o3, s6, a) {
  let l;
  if (l = e6.side === _s ? n.intersectTriangle(s6, o3, r, true, a) : n.intersectTriangle(r, o3, s6, e6.side === Pa, a), null === l)
    return null;
  SE.copy(a), SE.applyMatrix4(t48.matrixWorld);
  let u2 = i.ray.origin.distanceTo(SE);
  return u2 < i.near || u2 > i.far ? null : { distance: u2, point: SE.clone(), object: t48 };
}
function AE(t48, e6, i, n, r, o3, s6, a, l, u2) {
  t48.getVertexPosition(a, eg), t48.getVertexPosition(l, tg), t48.getVertexPosition(u2, ng);
  let h = $fe(t48, e6, i, n, eg, tg, ng, TE);
  if (h) {
    r && (wE.fromBufferAttribute(r, a), ME.fromBufferAttribute(r, l), EE.fromBufferAttribute(r, u2), h.uv = Lp.getInterpolation(TE, eg, tg, ng, wE, ME, EE, new qe())), o3 && (wE.fromBufferAttribute(o3, a), ME.fromBufferAttribute(o3, l), EE.fromBufferAttribute(o3, u2), h.uv2 = Lp.getInterpolation(TE, eg, tg, ng, wE, ME, EE, new qe())), s6 && (Yj.fromBufferAttribute(s6, a), Xj.fromBufferAttribute(s6, l), Zj.fromBufferAttribute(s6, u2), h.normal = Lp.getInterpolation(TE, eg, tg, ng, Yj, Xj, Zj, new K()), h.normal.dot(n.direction) > 0 && h.normal.multiplyScalar(-1));
    let t49 = { a, b: l, c: u2, normal: new K(), materialIndex: 0 };
    Lp.getNormal(eg, tg, ng, t49.normal), h.face = t49;
  }
  return h;
}
q($fe, "checkIntersection"), q(AE, "checkGeometryIntersection");
var wT = class t31 extends Ji {
  constructor(t48 = 1, e6 = 1, i = 1, n = 1, r = 1, o3 = 1) {
    super(), this.type = "BoxGeometry", this.parameters = { width: t48, height: e6, depth: i, widthSegments: n, heightSegments: r, depthSegments: o3 };
    let s6 = this;
    n = Math.floor(n), r = Math.floor(r), o3 = Math.floor(o3);
    let a = [], l = [], h = [], c2 = [], p4 = 0, d = 0;
    function f(t49, e10, i10, n10, r6, o6, u2, f2, g, m, v4) {
      let y4 = o6 / g, x4 = u2 / m, _ = o6 / 2, b = u2 / 2, M = f2 / 2, E = g + 1, w4 = m + 1, A = 0, S = 0, T = new K();
      for (let o7 = 0; o7 < w4; o7++) {
        let s10 = o7 * x4 - b;
        for (let a3 = 0; a3 < E; a3++) {
          let u3 = a3 * y4 - _;
          T[t49] = u3 * n10, T[e10] = s10 * r6, T[i10] = M, l.push(T.x, T.y, T.z), T[t49] = 0, T[e10] = 0, T[i10] = f2 > 0 ? 1 : -1, h.push(T.x, T.y, T.z), c2.push(a3 / g), c2.push(1 - o7 / m), A += 1;
        }
      }
      for (let t50 = 0; t50 < m; t50++)
        for (let e11 = 0; e11 < g; e11++) {
          let i11 = p4 + e11 + E * t50, n11 = p4 + e11 + E * (t50 + 1), r10 = p4 + (e11 + 1) + E * (t50 + 1), o7 = p4 + (e11 + 1) + E * t50;
          a.push(i11, n11, o7), a.push(n11, r10, o7), S += 6;
        }
      s6.addGroup(d, S, v4), d += S, p4 += A;
    }
    f("z", "y", "x", -1, -1, i, e6, t48, o3, r, 0), f("z", "y", "x", 1, -1, i, e6, -t48, o3, r, 1), f("x", "z", "y", 1, 1, t48, i, e6, n, o3, 2), f("x", "z", "y", 1, -1, t48, i, -e6, n, o3, 3), f("x", "y", "z", 1, -1, t48, e6, i, n, r, 4), f("x", "y", "z", -1, -1, t48, e6, -i, n, r, 5), this.setIndex(a), this.setAttribute("position", new Rr(l, 3)), this.setAttribute("normal", new Rr(h, 3)), this.setAttribute("uv", new Rr(c2, 2)), q(f, "buildPlane");
  }
  copy(t48) {
    return super.copy(t48), this.parameters = Object.assign({}, t48.parameters), this;
  }
  static fromJSON(e6) {
    return new t31(e6.width, e6.height, e6.depth, e6.widthSegments, e6.heightSegments, e6.depthSegments);
  }
};
q(wT, "BoxGeometry");
var Bc = wT;
function Eg(t48) {
  let e6 = {};
  for (let i in t48) {
    e6[i] = {};
    for (let n in t48[i]) {
      let r = t48[i][n];
      r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture || r.isQuaternion) ? r.isRenderTargetTexture ? (console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."), e6[i][n] = null) : e6[i][n] = r.clone() : Array.isArray(r) ? e6[i][n] = r.slice() : e6[i][n] = r;
    }
  }
  return e6;
}
function Yo(t48) {
  let e6 = {};
  for (let i = 0; i < t48.length; i++) {
    let n = Eg(t48[i]);
    for (let t49 in n)
      e6[t49] = n[t49];
  }
  return e6;
}
function epe(t48) {
  let e6 = [];
  for (let i = 0; i < t48.length; i++)
    e6.push(t48[i].clone());
  return e6;
}
function VW(t48) {
  return null === t48.getRenderTarget() && t48.outputEncoding === ai ? Lr : yx;
}
q(Eg, "cloneUniforms"), q(Yo, "mergeUniforms"), q(epe, "cloneUniformsGroups"), q(VW, "getUnlitUniformColorSpace");
var tpe = { clone: Eg, merge: Yo };
var npe = "void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";
var ipe = "void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
var tL = class extends ha {
  constructor(t48) {
    super(), this.isShaderMaterial = true, this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.uniformsGroups = [], this.vertexShader = npe, this.fragmentShader = ipe, this.linewidth = 1, this.wireframe = false, this.wireframeLinewidth = 1, this.fog = false, this.lights = false, this.clipping = false, this.forceSinglePass = true, this.extensions = { derivatives: false, fragDepth: false, drawBuffers: false, shaderTextureLOD: false }, this.defaultAttributeValues = { color: [1, 1, 1], uv: [0, 0], uv2: [0, 0] }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = false, this.glslVersion = null, void 0 !== t48 && this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.fragmentShader = t48.fragmentShader, this.vertexShader = t48.vertexShader, this.uniforms = Eg(t48.uniforms), this.uniformsGroups = epe(t48.uniformsGroups), this.defines = Object.assign({}, t48.defines), this.wireframe = t48.wireframe, this.wireframeLinewidth = t48.wireframeLinewidth, this.fog = t48.fog, this.lights = t48.lights, this.clipping = t48.clipping, this.extensions = Object.assign({}, t48.extensions), this.glslVersion = t48.glslVersion, this;
  }
  toJSON(t48) {
    let e6 = super.toJSON(t48);
    e6.glslVersion = this.glslVersion, e6.uniforms = {};
    for (let i10 in this.uniforms) {
      let n = this.uniforms[i10].value;
      n && n.isTexture ? e6.uniforms[i10] = { type: "t", value: n.toJSON(t48).uuid } : n && n.isColor ? e6.uniforms[i10] = { type: "c", value: n.getHex() } : n && n.isVector2 ? e6.uniforms[i10] = { type: "v2", value: n.toArray() } : n && n.isVector3 ? e6.uniforms[i10] = { type: "v3", value: n.toArray() } : n && n.isVector4 ? e6.uniforms[i10] = { type: "v4", value: n.toArray() } : n && n.isMatrix3 ? e6.uniforms[i10] = { type: "m3", value: n.toArray() } : n && n.isMatrix4 ? e6.uniforms[i10] = { type: "m4", value: n.toArray() } : e6.uniforms[i10] = { value: n };
    }
    Object.keys(this.defines).length > 0 && (e6.defines = this.defines), e6.vertexShader = this.vertexShader, e6.fragmentShader = this.fragmentShader;
    let i = {};
    for (let t49 in this.extensions)
      true === this.extensions[t49] && (i[t49] = true);
    return Object.keys(i).length > 0 && (e6.extensions = i), e6;
  }
};
q(tL, "ShaderMaterial");
var Xt = tL;
var nL = class extends ci {
  constructor() {
    super(), this.isCamera = true, this.type = "Camera", this.matrixWorldInverse = new Ot(), this.projectionMatrix = new Ot(), this.projectionMatrixInverse = new Ot();
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.matrixWorldInverse.copy(t48.matrixWorldInverse), this.projectionMatrix.copy(t48.projectionMatrix), this.projectionMatrixInverse.copy(t48.projectionMatrixInverse), this;
  }
  getWorldDirection(t48) {
    this.updateWorldMatrix(true, false);
    let e6 = this.matrixWorld.elements;
    return t48.set(-e6[8], -e6[9], -e6[10]).normalize();
  }
  updateMatrixWorld(t48) {
    super.updateMatrixWorld(t48), this.matrixWorldInverse.copy(this.matrixWorld).invert();
  }
  updateWorldMatrix(t48, e6) {
    super.updateWorldMatrix(t48, e6), this.matrixWorldInverse.copy(this.matrixWorld).invert();
  }
  clone() {
    return new this.constructor().copy(this);
  }
};
q(nL, "Camera");
var Tg = nL;
var iL = class extends Tg {
  constructor(t48 = 50, e6 = 1, i = 0.1, n = 2e3) {
    super(), this.isPerspectiveCamera = true, this.type = "PerspectiveCamera", this.fov = t48, this.zoom = 1, this.near = i, this.far = n, this.focus = 10, this.aspect = e6, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix();
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.fov = t48.fov, this.zoom = t48.zoom, this.near = t48.near, this.far = t48.far, this.focus = t48.focus, this.aspect = t48.aspect, this.view = null === t48.view ? null : Object.assign({}, t48.view), this.filmGauge = t48.filmGauge, this.filmOffset = t48.filmOffset, this;
  }
  setFocalLength(t48) {
    let e6 = 0.5 * this.getFilmHeight() / t48;
    this.fov = 2 * xx * Math.atan(e6), this.updateProjectionMatrix();
  }
  getFocalLength() {
    let t48 = Math.tan(0.5 * hx * this.fov);
    return 0.5 * this.getFilmHeight() / t48;
  }
  getEffectiveFOV() {
    return 2 * xx * Math.atan(Math.tan(0.5 * hx * this.fov) / this.zoom);
  }
  getFilmWidth() {
    return this.filmGauge * Math.min(this.aspect, 1);
  }
  getFilmHeight() {
    return this.filmGauge / Math.max(this.aspect, 1);
  }
  setViewOffset(t48, e6, i, n, r, o3) {
    this.aspect = t48 / e6, null === this.view && (this.view = { enabled: true, fullWidth: 1, fullHeight: 1, offsetX: 0, offsetY: 0, width: 1, height: 1 }), this.view.enabled = true, this.view.fullWidth = t48, this.view.fullHeight = e6, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o3, this.updateProjectionMatrix();
  }
  clearViewOffset() {
    null !== this.view && (this.view.enabled = false), this.updateProjectionMatrix();
  }
  updateProjectionMatrix() {
    let t48 = this.near, e6 = t48 * Math.tan(0.5 * hx * this.fov) / this.zoom, i = 2 * e6, n = this.aspect * i, r = -0.5 * n, o3 = this.view;
    if (null !== this.view && this.view.enabled) {
      let t49 = o3.fullWidth, s10 = o3.fullHeight;
      r += o3.offsetX * n / t49, e6 -= o3.offsetY * i / s10, n *= o3.width / t49, i *= o3.height / s10;
    }
    let s6 = this.filmOffset;
    0 !== s6 && (r += t48 * s6 / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + n, e6, e6 - i, t48, this.far), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
  }
  toJSON(t48) {
    let e6 = super.toJSON(t48);
    return e6.object.fov = this.fov, e6.object.zoom = this.zoom, e6.object.near = this.near, e6.object.far = this.far, e6.object.focus = this.focus, e6.object.aspect = this.aspect, null !== this.view && (e6.object.view = Object.assign({}, this.view)), e6.object.filmGauge = this.filmGauge, e6.object.filmOffset = this.filmOffset, e6;
  }
};
q(iL, "PerspectiveCamera");
var as = iL;
var ig = -90;
var rg = 1;
var rL = class extends ci {
  constructor(t48, e6, i) {
    super(), this.type = "CubeCamera", this.renderTarget = i;
    let n = new as(ig, rg, t48, e6);
    n.layers = this.layers, n.up.set(0, 1, 0), n.lookAt(1, 0, 0), this.add(n);
    let r = new as(ig, rg, t48, e6);
    r.layers = this.layers, r.up.set(0, 1, 0), r.lookAt(-1, 0, 0), this.add(r);
    let o3 = new as(ig, rg, t48, e6);
    o3.layers = this.layers, o3.up.set(0, 0, -1), o3.lookAt(0, 1, 0), this.add(o3);
    let s6 = new as(ig, rg, t48, e6);
    s6.layers = this.layers, s6.up.set(0, 0, 1), s6.lookAt(0, -1, 0), this.add(s6);
    let a = new as(ig, rg, t48, e6);
    a.layers = this.layers, a.up.set(0, 1, 0), a.lookAt(0, 0, 1), this.add(a);
    let l = new as(ig, rg, t48, e6);
    l.layers = this.layers, l.up.set(0, 1, 0), l.lookAt(0, 0, -1), this.add(l);
  }
  update(t48, e6) {
    null === this.parent && this.updateMatrixWorld();
    let i = this.renderTarget, [n, r, o3, s6, a, l] = this.children, u2 = t48.getRenderTarget(), h = t48.toneMapping, c2 = t48.xr.enabled;
    t48.toneMapping = Nc, t48.xr.enabled = false;
    let p4 = i.texture.generateMipmaps;
    i.texture.generateMipmaps = false, t48.setRenderTarget(i, 0), t48.render(e6, n), t48.setRenderTarget(i, 1), t48.render(e6, r), t48.setRenderTarget(i, 2), t48.render(e6, o3), t48.setRenderTarget(i, 3), t48.render(e6, s6), t48.setRenderTarget(i, 4), t48.render(e6, a), i.texture.generateMipmaps = p4, t48.setRenderTarget(i, 5), t48.render(e6, l), t48.setRenderTarget(u2), t48.toneMapping = h, t48.xr.enabled = c2, i.texture.needsPMREMUpdate = true;
  }
};
q(rL, "CubeCamera");
var X6 = rL;
var sL = class extends Er {
  constructor(t48, e6, i, n, r, o3, s6, a, l, u2) {
    super(t48 = void 0 !== t48 ? t48 : [], e6 = void 0 !== e6 ? e6 : xg, i, n, r, o3, s6, a, l, u2), this.isCubeTexture = true, this.flipY = false;
  }
  get images() {
    return this.image;
  }
  set images(t48) {
    this.image = t48;
  }
};
q(sL, "CubeTexture");
var XE = sL;
var oL = class extends ti {
  constructor(t48 = 1, e6 = {}) {
    super(t48, t48, e6), this.isWebGLCubeRenderTarget = true;
    let i = { width: t48, height: t48, depth: 1 }, n = [i, i, i, i, i, i];
    this.texture = new XE(n, e6.mapping, e6.wrapS, e6.wrapT, e6.magFilter, e6.minFilter, e6.format, e6.type, e6.anisotropy, e6.encoding), this.texture.isRenderTargetTexture = true, this.texture.generateMipmaps = void 0 !== e6.generateMipmaps && e6.generateMipmaps, this.texture.minFilter = void 0 !== e6.minFilter ? e6.minFilter : wi;
  }
  fromEquirectangularTexture(t48, e6) {
    this.texture.type = e6.type, this.texture.encoding = e6.encoding, this.texture.generateMipmaps = e6.generateMipmaps, this.texture.minFilter = e6.minFilter, this.texture.magFilter = e6.magFilter;
    let i = { tEquirect: { value: null } }, n = "\n\n				varying vec3 vWorldDirection;\n\n				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n				}\n\n				void main() {\n\n					vWorldDirection = transformDirection( position, modelMatrix );\n\n					#include <begin_vertex>\n					#include <project_vertex>\n\n				}\n			", r = "\n\n				uniform sampler2D tEquirect;\n\n				varying vec3 vWorldDirection;\n\n				#include <common>\n\n				void main() {\n\n					vec3 direction = normalize( vWorldDirection );\n\n					vec2 sampleUV = equirectUv( direction );\n\n					gl_FragColor = texture2D( tEquirect, sampleUV );\n\n				}\n			", o3 = new Bc(5, 5, 5), s6 = new Xt({ name: "CubemapFromEquirect", uniforms: Eg(i), vertexShader: n, fragmentShader: r, side: _s, blending: Nr });
    s6.uniforms.tEquirect.value = e6;
    let a = new Ft(o3, s6), l = e6.minFilter;
    return e6.minFilter === Dp && (e6.minFilter = wi), new X6(1, 10, this).update(t48, a), e6.minFilter = l, a.geometry.dispose(), a.material.dispose(), this;
  }
  clear(t48, e6, i, n) {
    let r = t48.getRenderTarget();
    for (let r6 = 0; r6 < 6; r6++)
      t48.setRenderTarget(this, r6), t48.clear(e6, i, n);
    t48.setRenderTarget(r);
  }
};
q(oL, "WebGLCubeRenderTarget");
var Z6 = oL;
var O6 = new K();
var rpe = new K();
var spe = new li();
var aL = class {
  constructor(t48 = new K(1, 0, 0), e6 = 0) {
    this.isPlane = true, this.normal = t48, this.constant = e6;
  }
  set(t48, e6) {
    return this.normal.copy(t48), this.constant = e6, this;
  }
  setComponents(t48, e6, i, n) {
    return this.normal.set(t48, e6, i), this.constant = n, this;
  }
  setFromNormalAndCoplanarPoint(t48, e6) {
    return this.normal.copy(t48), this.constant = -e6.dot(this.normal), this;
  }
  setFromCoplanarPoints(t48, e6, i) {
    let n = O6.subVectors(i, e6).cross(rpe.subVectors(t48, e6)).normalize();
    return this.setFromNormalAndCoplanarPoint(n, t48), this;
  }
  copy(t48) {
    return this.normal.copy(t48.normal), this.constant = t48.constant, this;
  }
  normalize() {
    let t48 = 1 / this.normal.length();
    return this.normal.multiplyScalar(t48), this.constant *= t48, this;
  }
  negate() {
    return this.constant *= -1, this.normal.negate(), this;
  }
  distanceToPoint(t48) {
    return this.normal.dot(t48) + this.constant;
  }
  distanceToSphere(t48) {
    return this.distanceToPoint(t48.center) - t48.radius;
  }
  projectPoint(t48, e6) {
    return e6.copy(t48).addScaledVector(this.normal, -this.distanceToPoint(t48));
  }
  intersectLine(t48, e6) {
    let i = t48.delta(O6), n = this.normal.dot(i);
    if (0 === n)
      return 0 === this.distanceToPoint(t48.start) ? e6.copy(t48.start) : null;
    let r = -(t48.start.dot(this.normal) + this.constant) / n;
    return r < 0 || r > 1 ? null : e6.copy(t48.start).addScaledVector(i, r);
  }
  intersectsLine(t48) {
    let e6 = this.distanceToPoint(t48.start), i = this.distanceToPoint(t48.end);
    return e6 < 0 && i > 0 || i < 0 && e6 > 0;
  }
  intersectsBox(t48) {
    return t48.intersectsPlane(this);
  }
  intersectsSphere(t48) {
    return t48.intersectsPlane(this);
  }
  coplanarPoint(t48) {
    return t48.copy(this.normal).multiplyScalar(-this.constant);
  }
  applyMatrix4(t48, e6) {
    let i = e6 || spe.getNormalMatrix(t48), n = this.coplanarPoint(O6).applyMatrix4(t48), r = this.normal.applyMatrix3(i).normalize();
    return this.constant = -n.dot(r), this;
  }
  translate(t48) {
    return this.constant -= t48.dot(this.normal), this;
  }
  equals(t48) {
    return t48.normal.equals(this.normal) && t48.constant === this.constant;
  }
  clone() {
    return new this.constructor().copy(this);
  }
};
q(aL, "Plane");
var Lc = aL;
var Pp = new Kh();
var CE = new K();
var lL = class {
  constructor(t48 = new Lc(), e6 = new Lc(), i = new Lc(), n = new Lc(), r = new Lc(), o3 = new Lc()) {
    this.planes = [t48, e6, i, n, r, o3];
  }
  set(t48, e6, i, n, r, o3) {
    let s6 = this.planes;
    return s6[0].copy(t48), s6[1].copy(e6), s6[2].copy(i), s6[3].copy(n), s6[4].copy(r), s6[5].copy(o3), this;
  }
  copy(t48) {
    let e6 = this.planes;
    for (let i = 0; i < 6; i++)
      e6[i].copy(t48.planes[i]);
    return this;
  }
  setFromProjectionMatrix(t48) {
    let e6 = this.planes, i = t48.elements, n = i[0], r = i[1], o3 = i[2], s6 = i[3], a = i[4], l = i[5], u2 = i[6], h = i[7], c2 = i[8], p4 = i[9], d = i[10], f = i[11], g = i[12], m = i[13], v4 = i[14], y4 = i[15];
    return e6[0].setComponents(s6 - n, h - a, f - c2, y4 - g).normalize(), e6[1].setComponents(s6 + n, h + a, f + c2, y4 + g).normalize(), e6[2].setComponents(s6 + r, h + l, f + p4, y4 + m).normalize(), e6[3].setComponents(s6 - r, h - l, f - p4, y4 - m).normalize(), e6[4].setComponents(s6 - o3, h - u2, f - d, y4 - v4).normalize(), e6[5].setComponents(s6 + o3, h + u2, f + d, y4 + v4).normalize(), this;
  }
  intersectsObject(t48) {
    if (void 0 !== t48.boundingSphere)
      null === t48.boundingSphere && t48.computeBoundingSphere(), Pp.copy(t48.boundingSphere).applyMatrix4(t48.matrixWorld);
    else {
      let e6 = t48.geometry;
      null === e6.boundingSphere && e6.computeBoundingSphere(), Pp.copy(e6.boundingSphere).applyMatrix4(t48.matrixWorld);
    }
    return this.intersectsSphere(Pp);
  }
  intersectsSprite(t48) {
    return Pp.center.set(0, 0, 0), Pp.radius = 0.7071067811865476, Pp.applyMatrix4(t48.matrixWorld), this.intersectsSphere(Pp);
  }
  intersectsSphere(t48) {
    let e6 = this.planes, i = t48.center, n = -t48.radius;
    for (let t49 = 0; t49 < 6; t49++)
      if (e6[t49].distanceToPoint(i) < n)
        return false;
    return true;
  }
  intersectsBox(t48) {
    let e6 = this.planes;
    for (let i = 0; i < 6; i++) {
      let n = e6[i];
      if (CE.x = n.normal.x > 0 ? t48.max.x : t48.min.x, CE.y = n.normal.y > 0 ? t48.max.y : t48.min.y, CE.z = n.normal.z > 0 ? t48.max.z : t48.min.z, n.distanceToPoint(CE) < 0)
        return false;
    }
    return true;
  }
  containsPoint(t48) {
    let e6 = this.planes;
    for (let i = 0; i < 6; i++)
      if (e6[i].distanceToPoint(t48) < 0)
        return false;
    return true;
  }
  clone() {
    return new this.constructor().copy(this);
  }
};
q(lL, "Frustum");
var kc = lL;
function HW() {
  let t48 = null, e6 = false, i = null, n = null;
  function r(e10, o3) {
    i(e10, o3), n = t48.requestAnimationFrame(r);
  }
  return q(r, "onAnimationFrame"), { start: function() {
    true !== e6 && null !== i && (n = t48.requestAnimationFrame(r), e6 = true);
  }, stop: function() {
    t48.cancelAnimationFrame(n), e6 = false;
  }, setAnimationLoop: function(t49) {
    i = t49;
  }, setContext: function(e10) {
    t48 = e10;
  } };
}
function ope(t48, e6) {
  let i = e6.isWebGL2, n = /* @__PURE__ */ new WeakMap();
  function r(e10, n10) {
    let r6, o6 = e10.array, s10 = e10.usage, a3 = t48.createBuffer();
    if (t48.bindBuffer(n10, a3), t48.bufferData(n10, o6, s10), e10.onUploadCallback(), o6 instanceof Float32Array)
      r6 = 5126;
    else if (o6 instanceof Uint16Array)
      if (e10.isFloat16BufferAttribute) {
        if (!i)
          throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");
        r6 = 5131;
      } else
        r6 = 5123;
    else if (o6 instanceof Int16Array)
      r6 = 5122;
    else if (o6 instanceof Uint32Array)
      r6 = 5125;
    else if (o6 instanceof Int32Array)
      r6 = 5124;
    else if (o6 instanceof Int8Array)
      r6 = 5120;
    else if (o6 instanceof Uint8Array)
      r6 = 5121;
    else {
      if (!(o6 instanceof Uint8ClampedArray))
        throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: " + o6);
      r6 = 5121;
    }
    return { buffer: a3, type: r6, bytesPerElement: o6.BYTES_PER_ELEMENT, version: e10.version };
  }
  function o3(e10, n10, r6) {
    let o6 = n10.array, s10 = n10.updateRange;
    t48.bindBuffer(r6, e10), -1 === s10.count ? t48.bufferSubData(r6, 0, o6) : (i ? t48.bufferSubData(r6, s10.offset * o6.BYTES_PER_ELEMENT, o6, s10.offset, s10.count) : t48.bufferSubData(r6, s10.offset * o6.BYTES_PER_ELEMENT, o6.subarray(s10.offset, s10.offset + s10.count)), s10.count = -1), n10.onUploadCallback();
  }
  function s6(t49) {
    return t49.isInterleavedBufferAttribute && (t49 = t49.data), n.get(t49);
  }
  function a(e10) {
    e10.isInterleavedBufferAttribute && (e10 = e10.data);
    let i10 = n.get(e10);
    i10 && (t48.deleteBuffer(i10.buffer), n.delete(e10));
  }
  function l(t49, e10) {
    if (t49.isGLBufferAttribute) {
      let e11 = n.get(t49);
      return void ((!e11 || e11.version < t49.version) && n.set(t49, { buffer: t49.buffer, type: t49.type, bytesPerElement: t49.elementSize, version: t49.version }));
    }
    t49.isInterleavedBufferAttribute && (t49 = t49.data);
    let i10 = n.get(t49);
    void 0 === i10 ? n.set(t49, r(t49, e10)) : i10.version < t49.version && (o3(i10.buffer, t49, e10), i10.version = t49.version);
  }
  return q(r, "createBuffer"), q(o3, "updateBuffer"), q(s6, "get"), q(a, "remove"), q(l, "update"), { get: s6, remove: a, update: l };
}
q(HW, "WebGLAnimation"), q(ope, "WebGLAttributes");
var MT = class t32 extends Ji {
  constructor(t48 = 1, e6 = 1, i = 1, n = 1) {
    super(), this.type = "PlaneGeometry", this.parameters = { width: t48, height: e6, widthSegments: i, heightSegments: n };
    let r = t48 / 2, o3 = e6 / 2, s6 = Math.floor(i), a = Math.floor(n), l = s6 + 1, u2 = a + 1, h = t48 / s6, c2 = e6 / a, p4 = [], d = [], f = [], g = [];
    for (let t49 = 0; t49 < u2; t49++) {
      let e10 = t49 * c2 - o3;
      for (let i10 = 0; i10 < l; i10++) {
        let n10 = i10 * h - r;
        d.push(n10, -e10, 0), f.push(0, 0, 1), g.push(i10 / s6), g.push(1 - t49 / a);
      }
    }
    for (let t49 = 0; t49 < a; t49++)
      for (let e10 = 0; e10 < s6; e10++) {
        let i10 = e10 + l * t49, n10 = e10 + l * (t49 + 1), r6 = e10 + 1 + l * (t49 + 1), o6 = e10 + 1 + l * t49;
        p4.push(i10, n10, o6), p4.push(n10, r6, o6);
      }
    this.setIndex(p4), this.setAttribute("position", new Rr(d, 3)), this.setAttribute("normal", new Rr(f, 3)), this.setAttribute("uv", new Rr(g, 2));
  }
  copy(t48) {
    return super.copy(t48), this.parameters = Object.assign({}, t48.parameters), this;
  }
  static fromJSON(e6) {
    return new t32(e6.width, e6.height, e6.widthSegments, e6.heightSegments);
  }
};
q(MT, "PlaneGeometry");
var To = MT;
var ape = "#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif";
var lpe = "#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif";
var upe = "#ifdef USE_ALPHATEST\n	if ( diffuseColor.a < alphaTest ) discard;\n#endif";
var cpe = "#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif";
var hpe = "#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif";
var fpe = "#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif";
var ppe = "vec3 transformed = vec3( position );";
var dpe = "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif";
var mpe = "float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated";
var gpe = "#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			 return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float R21 = R12;\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif";
var vpe = "#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = dFdx( surf_pos.xyz );\n		vec3 vSigmaY = dFdy( surf_pos.xyz );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif";
var ype = "#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#pragma unroll_loop_end\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop_start\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		#pragma unroll_loop_end\n		if ( clipped ) discard;\n	#endif\n#endif";
var xpe = "#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif";
var bpe = "#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif";
var _pe = "#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif";
var wpe = "#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif";
var Mpe = "#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif";
var Epe = "#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif";
var Tpe = "#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif";
var Spe = "#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated";
var Ape = "#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_v0 0.339\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_v1 0.276\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_v4 0.046\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_v5 0.016\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_v6 0.0038\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif";
var Cpe = "vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n	mat3 m = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n	transformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif";
var Ppe = "#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif";
var Ipe = "#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif";
var Ope = "#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif";
var Lpe = "#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif";
var Dpe = "gl_FragColor = linearToOutputTexel( gl_FragColor );";
var Npe = "vec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}";
var Rpe = "#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif";
var Bpe = "#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif";
var kpe = "#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif";
var qpe = "#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif";
var Fpe = "#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif";
var Upe = "#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif";
var zpe = "#ifdef USE_FOG\n	varying float vFogDepth;\n#endif";
var Gpe = "#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif";
var Vpe = "#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif";
var Hpe = "#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}";
var jpe = "#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif";
var Wpe = "#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif";
var Ype = "LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;";
var Xpe = "varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert";
var Zpe = "uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( LEGACY_LIGHTS )\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#else\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif";
var Qpe = "#if defined( USE_ENVMAP )\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n#endif";
var Kpe = "ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;";
var Jpe = "varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon";
var $pe = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;";
var ede = "varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong";
var tde = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif";
var nde = "struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}";
var ide = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n	geometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometry.viewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometry, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif";
var rde = "#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometry.normal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif";
var sde = "#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif";
var ode = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif";
var ade = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif";
var lde = "#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif";
var ude = "#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif";
var cde = "#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif";
var hde = "#ifdef USE_MAP\n	uniform sampler2D map;\n#endif";
var fde = "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif";
var pde = "#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif";
var dde = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif";
var mde = "#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif";
var gde = "#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif";
var vde = "#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif";
var yde = "#ifdef USE_MORPHTARGETS\n	uniform float morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif";
var xde = "#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif";
var bde = "float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 geometryNormal = normal;";
var _de = "#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif";
var wde = "#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif";
var Mde = "#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif";
var Ede = "#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif";
var Tde = "#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif";
var Sde = "#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = geometryNormal;\n#endif";
var Ade = "#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif";
var Cde = "#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif";
var Pde = "#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif";
var Ide = "#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );";
var Ode = "vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}";
var Lde = "#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif";
var Dde = "vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;";
var Nde = "#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif";
var Rde = "#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif";
var Bde = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif";
var kde = "#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif";
var qde = "#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif";
var Fde = "#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif";
var Ude = "#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif";
var zde = "float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}";
var Gde = "#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";
var Vde = "#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	uniform int boneTextureSize;\n	mat4 getBoneMatrix( const in float i ) {\n		float j = i * 4.0;\n		float x = mod( j, float( boneTextureSize ) );\n		float y = floor( j / float( boneTextureSize ) );\n		float dx = 1.0 / float( boneTextureSize );\n		float dy = 1.0 / float( boneTextureSize );\n		y = dy * ( y + 0.5 );\n		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n		mat4 bone = mat4( v1, v2, v3, v4 );\n		return bone;\n	}\n#endif";
var Hde = "#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif";
var jde = "#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif";
var Wde = "float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif";
var Yde = "#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif";
var Xde = "#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif";
var Zde = "#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }";
var Qde = "#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmission = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif";
var Kde = "#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		\n		vec2 lodFudge = pow( 1.95, lod ) / fullSize;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec2 fullSize = vec2( textureSize( sampler, 0 ) );\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return radiance;\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n	}\n#endif";
var Jde = "#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif";
var $de = "#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_UV2\n	attribute vec2 uv2;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif";
var eme = "#ifdef USE_UV\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif";
var tme = "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif";
var nme = "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}";
var ime = "uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}";
var rme = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}";
var sme = "#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}";
var ome = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}";
var ame = "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}";
var lme = "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}";
var ume = "#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}";
var cme = "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}";
var hme = "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}";
var fme = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}";
var pme = "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}";
var dme = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}";
var mme = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}";
var gme = "#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}";
var vme = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}";
var yme = "#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}";
var xme = "#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}";
var bme = "#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}";
var _me = "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}";
var wme = "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}";
var Mme = "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}";
var Eme = "#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}";
var Tme = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}";
var Sme = "#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}";
var Ame = "#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n	#endif\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}";
var Cme = "#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}";
var Pme = "#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}";
var Ime = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}";
var Ome = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}";
var Lme = "#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}";
var Dme = "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}";
var Nme = "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}";
var Rme = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}";
var fn = { alphamap_fragment: ape, alphamap_pars_fragment: lpe, alphatest_fragment: upe, alphatest_pars_fragment: cpe, aomap_fragment: hpe, aomap_pars_fragment: fpe, begin_vertex: ppe, beginnormal_vertex: dpe, bsdfs: mpe, iridescence_fragment: gpe, bumpmap_pars_fragment: vpe, clipping_planes_fragment: ype, clipping_planes_pars_fragment: xpe, clipping_planes_pars_vertex: bpe, clipping_planes_vertex: _pe, color_fragment: wpe, color_pars_fragment: Mpe, color_pars_vertex: Epe, color_vertex: Tpe, common: Spe, cube_uv_reflection_fragment: Ape, defaultnormal_vertex: Cpe, displacementmap_pars_vertex: Ppe, displacementmap_vertex: Ipe, emissivemap_fragment: Ope, emissivemap_pars_fragment: Lpe, encodings_fragment: Dpe, encodings_pars_fragment: Npe, envmap_fragment: Rpe, envmap_common_pars_fragment: Bpe, envmap_pars_fragment: kpe, envmap_pars_vertex: qpe, envmap_physical_pars_fragment: Qpe, envmap_vertex: Fpe, fog_vertex: Upe, fog_pars_vertex: zpe, fog_fragment: Gpe, fog_pars_fragment: Vpe, gradientmap_pars_fragment: Hpe, lightmap_fragment: jpe, lightmap_pars_fragment: Wpe, lights_lambert_fragment: Ype, lights_lambert_pars_fragment: Xpe, lights_pars_begin: Zpe, lights_toon_fragment: Kpe, lights_toon_pars_fragment: Jpe, lights_phong_fragment: $pe, lights_phong_pars_fragment: ede, lights_physical_fragment: tde, lights_physical_pars_fragment: nde, lights_fragment_begin: ide, lights_fragment_maps: rde, lights_fragment_end: sde, logdepthbuf_fragment: ode, logdepthbuf_pars_fragment: ade, logdepthbuf_pars_vertex: lde, logdepthbuf_vertex: ude, map_fragment: cde, map_pars_fragment: hde, map_particle_fragment: fde, map_particle_pars_fragment: pde, metalnessmap_fragment: dde, metalnessmap_pars_fragment: mde, morphcolor_vertex: gde, morphnormal_vertex: vde, morphtarget_pars_vertex: yde, morphtarget_vertex: xde, normal_fragment_begin: bde, normal_fragment_maps: _de, normal_pars_fragment: wde, normal_pars_vertex: Mde, normal_vertex: Ede, normalmap_pars_fragment: Tde, clearcoat_normal_fragment_begin: Sde, clearcoat_normal_fragment_maps: Ade, clearcoat_pars_fragment: Cde, iridescence_pars_fragment: Pde, output_fragment: Ide, packing: Ode, premultiplied_alpha_fragment: Lde, project_vertex: Dde, dithering_fragment: Nde, dithering_pars_fragment: Rde, roughnessmap_fragment: Bde, roughnessmap_pars_fragment: kde, shadowmap_pars_fragment: qde, shadowmap_pars_vertex: Fde, shadowmap_vertex: Ude, shadowmask_pars_fragment: zde, skinbase_vertex: Gde, skinning_pars_vertex: Vde, skinning_vertex: Hde, skinnormal_vertex: jde, specularmap_fragment: Wde, specularmap_pars_fragment: Yde, tonemapping_fragment: Xde, tonemapping_pars_fragment: Zde, transmission_fragment: Qde, transmission_pars_fragment: Kde, uv_pars_fragment: Jde, uv_pars_vertex: $de, uv_vertex: eme, worldpos_vertex: tme, background_vert: nme, background_frag: ime, backgroundCube_vert: rme, backgroundCube_frag: sme, cube_vert: ome, cube_frag: ame, depth_vert: lme, depth_frag: ume, distanceRGBA_vert: cme, distanceRGBA_frag: hme, equirect_vert: fme, equirect_frag: pme, linedashed_vert: dme, linedashed_frag: mme, meshbasic_vert: gme, meshbasic_frag: vme, meshlambert_vert: yme, meshlambert_frag: xme, meshmatcap_vert: bme, meshmatcap_frag: _me, meshnormal_vert: wme, meshnormal_frag: Mme, meshphong_vert: Eme, meshphong_frag: Tme, meshphysical_vert: Sme, meshphysical_frag: Ame, meshtoon_vert: Cme, meshtoon_frag: Pme, points_vert: Ime, points_frag: Ome, shadow_vert: Lme, shadow_frag: Dme, sprite_vert: Nme, sprite_frag: Rme };
var mt = { common: { diffuse: { value: new at(16777215) }, opacity: { value: 1 }, map: { value: null }, mapTransform: { value: new li() }, alphaMap: { value: null }, alphaMapTransform: { value: new li() }, alphaTest: { value: 0 } }, specularmap: { specularMap: { value: null }, specularMapTransform: { value: new li() } }, envmap: { envMap: { value: null }, flipEnvMap: { value: -1 }, reflectivity: { value: 1 }, ior: { value: 1.5 }, refractionRatio: { value: 0.98 } }, aomap: { aoMap: { value: null }, aoMapIntensity: { value: 1 }, aoMapTransform: { value: new li() } }, lightmap: { lightMap: { value: null }, lightMapIntensity: { value: 1 }, lightMapTransform: { value: new li() } }, bumpmap: { bumpMap: { value: null }, bumpMapTransform: { value: new li() }, bumpScale: { value: 1 } }, normalmap: { normalMap: { value: null }, normalMapTransform: { value: new li() }, normalScale: { value: new qe(1, 1) } }, displacementmap: { displacementMap: { value: null }, displacementMapTransform: { value: new li() }, displacementScale: { value: 1 }, displacementBias: { value: 0 } }, emissivemap: { emissiveMap: { value: null }, emissiveMapTransform: { value: new li() } }, metalnessmap: { metalnessMap: { value: null }, metalnessMapTransform: { value: new li() } }, roughnessmap: { roughnessMap: { value: null }, roughnessMapTransform: { value: new li() } }, gradientmap: { gradientMap: { value: null } }, fog: { fogDensity: { value: 25e-5 }, fogNear: { value: 1 }, fogFar: { value: 2e3 }, fogColor: { value: new at(16777215) } }, lights: { ambientLightColor: { value: [] }, lightProbe: { value: [] }, directionalLights: { value: [], properties: { direction: {}, color: {} } }, directionalLightShadows: { value: [], properties: { shadowBias: {}, shadowNormalBias: {}, shadowRadius: {}, shadowMapSize: {} } }, directionalShadowMap: { value: [] }, directionalShadowMatrix: { value: [] }, spotLights: { value: [], properties: { color: {}, position: {}, direction: {}, distance: {}, coneCos: {}, penumbraCos: {}, decay: {} } }, spotLightShadows: { value: [], properties: { shadowBias: {}, shadowNormalBias: {}, shadowRadius: {}, shadowMapSize: {} } }, spotLightMap: { value: [] }, spotShadowMap: { value: [] }, spotLightMatrix: { value: [] }, pointLights: { value: [], properties: { color: {}, position: {}, decay: {}, distance: {} } }, pointLightShadows: { value: [], properties: { shadowBias: {}, shadowNormalBias: {}, shadowRadius: {}, shadowMapSize: {}, shadowCameraNear: {}, shadowCameraFar: {} } }, pointShadowMap: { value: [] }, pointShadowMatrix: { value: [] }, hemisphereLights: { value: [], properties: { direction: {}, skyColor: {}, groundColor: {} } }, rectAreaLights: { value: [], properties: { color: {}, position: {}, width: {}, height: {} } }, ltc_1: { value: null }, ltc_2: { value: null } }, points: { diffuse: { value: new at(16777215) }, opacity: { value: 1 }, size: { value: 1 }, scale: { value: 1 }, map: { value: null }, alphaMap: { value: null }, alphaTest: { value: 0 }, uvTransform: { value: new li() } }, sprite: { diffuse: { value: new at(16777215) }, opacity: { value: 1 }, center: { value: new qe(0.5, 0.5) }, rotation: { value: 0 }, map: { value: null }, mapTransform: { value: new li() }, alphaMap: { value: null }, alphaTest: { value: 0 } } };
var Su = { basic: { uniforms: Yo([mt.common, mt.specularmap, mt.envmap, mt.aomap, mt.lightmap, mt.fog]), vertexShader: fn.meshbasic_vert, fragmentShader: fn.meshbasic_frag }, lambert: { uniforms: Yo([mt.common, mt.specularmap, mt.envmap, mt.aomap, mt.lightmap, mt.emissivemap, mt.bumpmap, mt.normalmap, mt.displacementmap, mt.fog, mt.lights, { emissive: { value: new at(0) } }]), vertexShader: fn.meshlambert_vert, fragmentShader: fn.meshlambert_frag }, phong: { uniforms: Yo([mt.common, mt.specularmap, mt.envmap, mt.aomap, mt.lightmap, mt.emissivemap, mt.bumpmap, mt.normalmap, mt.displacementmap, mt.fog, mt.lights, { emissive: { value: new at(0) }, specular: { value: new at(1118481) }, shininess: { value: 30 } }]), vertexShader: fn.meshphong_vert, fragmentShader: fn.meshphong_frag }, standard: { uniforms: Yo([mt.common, mt.envmap, mt.aomap, mt.lightmap, mt.emissivemap, mt.bumpmap, mt.normalmap, mt.displacementmap, mt.roughnessmap, mt.metalnessmap, mt.fog, mt.lights, { emissive: { value: new at(0) }, roughness: { value: 1 }, metalness: { value: 0 }, envMapIntensity: { value: 1 } }]), vertexShader: fn.meshphysical_vert, fragmentShader: fn.meshphysical_frag }, toon: { uniforms: Yo([mt.common, mt.aomap, mt.lightmap, mt.emissivemap, mt.bumpmap, mt.normalmap, mt.displacementmap, mt.gradientmap, mt.fog, mt.lights, { emissive: { value: new at(0) } }]), vertexShader: fn.meshtoon_vert, fragmentShader: fn.meshtoon_frag }, matcap: { uniforms: Yo([mt.common, mt.bumpmap, mt.normalmap, mt.displacementmap, mt.fog, { matcap: { value: null } }]), vertexShader: fn.meshmatcap_vert, fragmentShader: fn.meshmatcap_frag }, points: { uniforms: Yo([mt.points, mt.fog]), vertexShader: fn.points_vert, fragmentShader: fn.points_frag }, dashed: { uniforms: Yo([mt.common, mt.fog, { scale: { value: 1 }, dashSize: { value: 1 }, totalSize: { value: 2 } }]), vertexShader: fn.linedashed_vert, fragmentShader: fn.linedashed_frag }, depth: { uniforms: Yo([mt.common, mt.displacementmap]), vertexShader: fn.depth_vert, fragmentShader: fn.depth_frag }, normal: { uniforms: Yo([mt.common, mt.bumpmap, mt.normalmap, mt.displacementmap, { opacity: { value: 1 } }]), vertexShader: fn.meshnormal_vert, fragmentShader: fn.meshnormal_frag }, sprite: { uniforms: Yo([mt.sprite, mt.fog]), vertexShader: fn.sprite_vert, fragmentShader: fn.sprite_frag }, background: { uniforms: { uvTransform: { value: new li() }, t2D: { value: null }, backgroundIntensity: { value: 1 } }, vertexShader: fn.background_vert, fragmentShader: fn.background_frag }, backgroundCube: { uniforms: { envMap: { value: null }, flipEnvMap: { value: -1 }, backgroundBlurriness: { value: 0 }, backgroundIntensity: { value: 1 } }, vertexShader: fn.backgroundCube_vert, fragmentShader: fn.backgroundCube_frag }, cube: { uniforms: { tCube: { value: null }, tFlip: { value: -1 }, opacity: { value: 1 } }, vertexShader: fn.cube_vert, fragmentShader: fn.cube_frag }, equirect: { uniforms: { tEquirect: { value: null } }, vertexShader: fn.equirect_vert, fragmentShader: fn.equirect_frag }, distanceRGBA: { uniforms: Yo([mt.common, mt.displacementmap, { referencePosition: { value: new K() }, nearDistance: { value: 1 }, farDistance: { value: 1e3 } }]), vertexShader: fn.distanceRGBA_vert, fragmentShader: fn.distanceRGBA_frag }, shadow: { uniforms: Yo([mt.lights, mt.fog, { color: { value: new at(0) }, opacity: { value: 1 } }]), vertexShader: fn.shadow_vert, fragmentShader: fn.shadow_frag } };
Su.physical = { uniforms: Yo([Su.standard.uniforms, { clearcoat: { value: 0 }, clearcoatMap: { value: null }, clearcoatMapTransform: { value: new li() }, clearcoatNormalMap: { value: null }, clearcoatNormalMapTransform: { value: new li() }, clearcoatNormalScale: { value: new qe(1, 1) }, clearcoatRoughness: { value: 0 }, clearcoatRoughnessMap: { value: null }, clearcoatRoughnessMapTransform: { value: new li() }, iridescence: { value: 0 }, iridescenceMap: { value: null }, iridescenceMapTransform: { value: new li() }, iridescenceIOR: { value: 1.3 }, iridescenceThicknessMinimum: { value: 100 }, iridescenceThicknessMaximum: { value: 400 }, iridescenceThicknessMap: { value: null }, iridescenceThicknessMapTransform: { value: new li() }, sheen: { value: 0 }, sheenColor: { value: new at(0) }, sheenColorMap: { value: null }, sheenColorMapTransform: { value: new li() }, sheenRoughness: { value: 1 }, sheenRoughnessMap: { value: null }, sheenRoughnessMapTransform: { value: new li() }, transmission: { value: 0 }, transmissionMap: { value: null }, transmissionMapTransform: { value: new li() }, transmissionSamplerSize: { value: new qe() }, transmissionSamplerMap: { value: null }, thickness: { value: 0 }, thicknessMap: { value: null }, thicknessMapTransform: { value: new li() }, attenuationDistance: { value: 0 }, attenuationColor: { value: new at(0) }, specularColor: { value: new at(1, 1, 1) }, specularColorMap: { value: null }, specularColorMapTransform: { value: new li() }, specularIntensity: { value: 1 }, specularIntensityMap: { value: null }, specularIntensityMapTransform: { value: new li() } }]), vertexShader: fn.meshphysical_vert, fragmentShader: fn.meshphysical_frag };
var PE = { r: 0, b: 0, g: 0 };
function Bme(t48, e6, i, n, r, o3, s6) {
  let a, l, h = new at(0), c2 = true === o3 ? 0 : 1, p4 = null, d = 0, f = null;
  function g(n10, o6) {
    let s10 = false, u2 = true === o6.isScene ? o6.background : null;
    u2 && u2.isTexture && (u2 = (o6.backgroundBlurriness > 0 ? i : e6).get(u2));
    let g4 = t48.xr, v4 = g4.getSession && g4.getSession();
    v4 && "additive" === v4.environmentBlendMode && (u2 = null), null === u2 ? m(h, c2) : u2 && u2.isColor && (m(u2, 1), s10 = true), (t48.autoClear || s10) && t48.clear(t48.autoClearColor, t48.autoClearDepth, t48.autoClearStencil), u2 && (u2.isCubeTexture || u2.mapping === OT) ? (void 0 === l && (l = new Ft(new Bc(1, 1, 1), new Xt({ name: "BackgroundCubeMaterial", uniforms: Eg(Su.backgroundCube.uniforms), vertexShader: Su.backgroundCube.vertexShader, fragmentShader: Su.backgroundCube.fragmentShader, side: _s, depthTest: false, depthWrite: false, fog: false })), l.geometry.deleteAttribute("normal"), l.geometry.deleteAttribute("uv"), l.onBeforeRender = function(t49, e10, i10) {
      this.matrixWorld.copyPosition(i10.matrixWorld);
    }, Object.defineProperty(l.material, "envMap", { get: function() {
      return this.uniforms.envMap.value;
    } }), r.update(l)), l.material.uniforms.envMap.value = u2, l.material.uniforms.flipEnvMap.value = u2.isCubeTexture && false === u2.isRenderTargetTexture ? -1 : 1, l.material.uniforms.backgroundBlurriness.value = o6.backgroundBlurriness, l.material.uniforms.backgroundIntensity.value = o6.backgroundIntensity, l.material.toneMapped = u2.encoding !== ai, (p4 !== u2 || d !== u2.version || f !== t48.toneMapping) && (l.material.needsUpdate = true, p4 = u2, d = u2.version, f = t48.toneMapping), l.layers.enableAll(), n10.unshift(l, l.geometry, l.material, 0, 0, null)) : u2 && u2.isTexture && (void 0 === a && (a = new Ft(new To(2, 2), new Xt({ name: "BackgroundMaterial", uniforms: Eg(Su.background.uniforms), vertexShader: Su.background.vertexShader, fragmentShader: Su.background.fragmentShader, side: Pa, depthTest: false, depthWrite: false, fog: false })), a.geometry.deleteAttribute("normal"), Object.defineProperty(a.material, "map", { get: function() {
      return this.uniforms.t2D.value;
    } }), r.update(a)), a.material.uniforms.t2D.value = u2, a.material.uniforms.backgroundIntensity.value = o6.backgroundIntensity, a.material.toneMapped = u2.encoding !== ai, true === u2.matrixAutoUpdate && u2.updateMatrix(), a.material.uniforms.uvTransform.value.copy(u2.matrix), (p4 !== u2 || d !== u2.version || f !== t48.toneMapping) && (a.material.needsUpdate = true, p4 = u2, d = u2.version, f = t48.toneMapping), a.layers.enableAll(), n10.unshift(a, a.geometry, a.material, 0, 0, null));
  }
  function m(e10, i10) {
    e10.getRGB(PE, VW(t48)), n.buffers.color.setClear(PE.r, PE.g, PE.b, i10, s6);
  }
  return q(g, "render"), q(m, "setClear"), { getClearColor: function() {
    return h;
  }, setClearColor: function(t49, e10 = 1) {
    h.set(t49), c2 = e10, m(h, c2);
  }, getClearAlpha: function() {
    return c2;
  }, setClearAlpha: function(t49) {
    c2 = t49, m(h, c2);
  }, render: g };
}
function kme(t48, e6, i, n) {
  let r = t48.getParameter(34921), o3 = n.isWebGL2 ? null : e6.get("OES_vertex_array_object"), s6 = n.isWebGL2 || null !== o3, a = {}, l = v4(null), h = l, c2 = false;
  function p4(e10, n10, r6, o6, a3) {
    let l3 = false;
    if (s6) {
      let t49 = m(o6, r6, n10);
      h !== t49 && (h = t49, f(h.object)), l3 = y4(e10, o6, r6, a3), l3 && x4(e10, o6, r6, a3);
    } else {
      let t49 = true === n10.wireframe;
      (h.geometry !== o6.id || h.program !== r6.id || h.wireframe !== t49) && (h.geometry = o6.id, h.program = r6.id, h.wireframe = t49, l3 = true);
    }
    null !== a3 && i.update(a3, 34963), (l3 || c2) && (c2 = false, A(e10, n10, r6, o6), null !== a3 && t48.bindBuffer(34963, i.get(a3).buffer));
  }
  function d() {
    return n.isWebGL2 ? t48.createVertexArray() : o3.createVertexArrayOES();
  }
  function f(e10) {
    return n.isWebGL2 ? t48.bindVertexArray(e10) : o3.bindVertexArrayOES(e10);
  }
  function g(e10) {
    return n.isWebGL2 ? t48.deleteVertexArray(e10) : o3.deleteVertexArrayOES(e10);
  }
  function m(t49, e10, i10) {
    let n10 = true === i10.wireframe, r6 = a[t49.id];
    void 0 === r6 && (r6 = {}, a[t49.id] = r6);
    let o6 = r6[e10.id];
    void 0 === o6 && (o6 = {}, r6[e10.id] = o6);
    let s10 = o6[n10];
    return void 0 === s10 && (s10 = v4(d()), o6[n10] = s10), s10;
  }
  function v4(t49) {
    let e10 = [], i10 = [], n10 = [];
    for (let t50 = 0; t50 < r; t50++)
      e10[t50] = 0, i10[t50] = 0, n10[t50] = 0;
    return { geometry: null, program: null, wireframe: false, newAttributes: e10, enabledAttributes: i10, attributeDivisors: n10, object: t49, attributes: {}, index: null };
  }
  function y4(t49, e10, i10, n10) {
    let r6 = h.attributes, o6 = e10.attributes, s10 = 0, a3 = i10.getAttributes();
    for (let e11 in a3)
      if (a3[e11].location >= 0) {
        let i11 = r6[e11], n11 = o6[e11];
        if (void 0 === n11 && ("instanceMatrix" === e11 && t49.instanceMatrix && (n11 = t49.instanceMatrix), "instanceColor" === e11 && t49.instanceColor && (n11 = t49.instanceColor)), void 0 === i11 || i11.attribute !== n11 || n11 && i11.data !== n11.data)
          return true;
        s10++;
      }
    return h.attributesNum !== s10 || h.index !== n10;
  }
  function x4(t49, e10, i10, n10) {
    let r6 = {}, o6 = e10.attributes, s10 = 0, a3 = i10.getAttributes();
    for (let e11 in a3)
      if (a3[e11].location >= 0) {
        let i11 = o6[e11];
        void 0 === i11 && ("instanceMatrix" === e11 && t49.instanceMatrix && (i11 = t49.instanceMatrix), "instanceColor" === e11 && t49.instanceColor && (i11 = t49.instanceColor));
        let n11 = {};
        n11.attribute = i11, i11 && i11.data && (n11.data = i11.data), r6[e11] = n11, s10++;
      }
    h.attributes = r6, h.attributesNum = s10, h.index = n10;
  }
  function _() {
    let t49 = h.newAttributes;
    for (let e10 = 0, i10 = t49.length; e10 < i10; e10++)
      t49[e10] = 0;
  }
  function b(t49) {
    M(t49, 0);
  }
  function M(i10, r6) {
    let o6 = h.newAttributes, s10 = h.enabledAttributes, a3 = h.attributeDivisors;
    o6[i10] = 1, 0 === s10[i10] && (t48.enableVertexAttribArray(i10), s10[i10] = 1), a3[i10] !== r6 && ((n.isWebGL2 ? t48 : e6.get("ANGLE_instanced_arrays"))[n.isWebGL2 ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](i10, r6), a3[i10] = r6);
  }
  function E() {
    let e10 = h.newAttributes, i10 = h.enabledAttributes;
    for (let n10 = 0, r6 = i10.length; n10 < r6; n10++)
      i10[n10] !== e10[n10] && (t48.disableVertexAttribArray(n10), i10[n10] = 0);
  }
  function w4(e10, i10, r6, o6, s10, a3) {
    true !== n.isWebGL2 || 5124 !== r6 && 5125 !== r6 ? t48.vertexAttribPointer(e10, i10, r6, o6, s10, a3) : t48.vertexAttribIPointer(e10, i10, r6, s10, a3);
  }
  function A(r6, o6, s10, a3) {
    if (false === n.isWebGL2 && (r6.isInstancedMesh || a3.isInstancedBufferGeometry) && null === e6.get("ANGLE_instanced_arrays"))
      return;
    _();
    let l3 = a3.attributes, u2 = s10.getAttributes(), h2 = o6.defaultAttributeValues;
    for (let e10 in u2) {
      let n10 = u2[e10];
      if (n10.location >= 0) {
        let o7 = l3[e10];
        if (void 0 === o7 && ("instanceMatrix" === e10 && r6.instanceMatrix && (o7 = r6.instanceMatrix), "instanceColor" === e10 && r6.instanceColor && (o7 = r6.instanceColor)), void 0 !== o7) {
          let e11 = o7.normalized, s11 = o7.itemSize, l10 = i.get(o7);
          if (void 0 === l10)
            continue;
          let u3 = l10.buffer, h4 = l10.type, c4 = l10.bytesPerElement;
          if (o7.isInterleavedBufferAttribute) {
            let i10 = o7.data, l11 = i10.stride, p10 = o7.offset;
            if (i10.isInstancedInterleavedBuffer) {
              for (let t49 = 0; t49 < n10.locationSize; t49++)
                M(n10.location + t49, i10.meshPerAttribute);
              true !== r6.isInstancedMesh && void 0 === a3._maxInstanceCount && (a3._maxInstanceCount = i10.meshPerAttribute * i10.count);
            } else
              for (let t49 = 0; t49 < n10.locationSize; t49++)
                b(n10.location + t49);
            t48.bindBuffer(34962, u3);
            for (let t49 = 0; t49 < n10.locationSize; t49++)
              w4(n10.location + t49, s11 / n10.locationSize, h4, e11, l11 * c4, (p10 + s11 / n10.locationSize * t49) * c4);
          } else {
            if (o7.isInstancedBufferAttribute) {
              for (let t49 = 0; t49 < n10.locationSize; t49++)
                M(n10.location + t49, o7.meshPerAttribute);
              true !== r6.isInstancedMesh && void 0 === a3._maxInstanceCount && (a3._maxInstanceCount = o7.meshPerAttribute * o7.count);
            } else
              for (let t49 = 0; t49 < n10.locationSize; t49++)
                b(n10.location + t49);
            t48.bindBuffer(34962, u3);
            for (let t49 = 0; t49 < n10.locationSize; t49++)
              w4(n10.location + t49, s11 / n10.locationSize, h4, e11, s11 * c4, s11 / n10.locationSize * t49 * c4);
          }
        } else if (void 0 !== h2) {
          let i10 = h2[e10];
          if (void 0 !== i10)
            switch (i10.length) {
              case 2:
                t48.vertexAttrib2fv(n10.location, i10);
                break;
              case 3:
                t48.vertexAttrib3fv(n10.location, i10);
                break;
              case 4:
                t48.vertexAttrib4fv(n10.location, i10);
                break;
              default:
                t48.vertexAttrib1fv(n10.location, i10);
            }
        }
      }
    }
    E();
  }
  function S() {
    P();
    for (let t49 in a) {
      let e10 = a[t49];
      for (let t50 in e10) {
        let i10 = e10[t50];
        for (let t51 in i10)
          g(i10[t51].object), delete i10[t51];
        delete e10[t50];
      }
      delete a[t49];
    }
  }
  function T(t49) {
    if (void 0 === a[t49.id])
      return;
    let e10 = a[t49.id];
    for (let t50 in e10) {
      let i10 = e10[t50];
      for (let t51 in i10)
        g(i10[t51].object), delete i10[t51];
      delete e10[t50];
    }
    delete a[t49.id];
  }
  function C(t49) {
    for (let e10 in a) {
      let i10 = a[e10];
      if (void 0 === i10[t49.id])
        continue;
      let n10 = i10[t49.id];
      for (let t50 in n10)
        g(n10[t50].object), delete n10[t50];
      delete i10[t49.id];
    }
  }
  function P() {
    I(), c2 = true, h !== l && (h = l, f(h.object));
  }
  function I() {
    l.geometry = null, l.program = null, l.wireframe = false;
  }
  return q(p4, "setup"), q(d, "createVertexArrayObject"), q(f, "bindVertexArrayObject"), q(g, "deleteVertexArrayObject"), q(m, "getBindingState"), q(v4, "createBindingState"), q(y4, "needsUpdate"), q(x4, "saveCache"), q(_, "initAttributes"), q(b, "enableAttribute"), q(M, "enableAttributeAndDivisor"), q(E, "disableUnusedAttributes"), q(w4, "vertexAttribPointer"), q(A, "setupVertexAttributes"), q(S, "dispose"), q(T, "releaseStatesOfGeometry"), q(C, "releaseStatesOfProgram"), q(P, "reset"), q(I, "resetDefaultState"), { setup: p4, reset: P, resetDefaultState: I, dispose: S, releaseStatesOfGeometry: T, releaseStatesOfProgram: C, initAttributes: _, enableAttribute: b, disableUnusedAttributes: E };
}
function qme(t48, e6, i, n) {
  let r, o3 = n.isWebGL2;
  function s6(t49) {
    r = t49;
  }
  function a(e10, n10) {
    t48.drawArrays(r, e10, n10), i.update(n10, r, 1);
  }
  function l(n10, s10, a3) {
    if (0 === a3)
      return;
    let l3, u2;
    if (o3)
      l3 = t48, u2 = "drawArraysInstanced";
    else if (l3 = e6.get("ANGLE_instanced_arrays"), u2 = "drawArraysInstancedANGLE", null === l3)
      return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
    l3[u2](r, n10, s10, a3), i.update(s10, r, a3);
  }
  q(s6, "setMode"), q(a, "render"), q(l, "renderInstances"), this.setMode = s6, this.render = a, this.renderInstances = l;
}
function Fme(t48, e6, i) {
  let n;
  function r() {
    if (void 0 !== n)
      return n;
    if (true === e6.has("EXT_texture_filter_anisotropic")) {
      let i10 = e6.get("EXT_texture_filter_anisotropic");
      n = t48.getParameter(i10.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
    } else
      n = 0;
    return n;
  }
  function o3(e10) {
    if ("highp" === e10) {
      if (t48.getShaderPrecisionFormat(35633, 36338).precision > 0 && t48.getShaderPrecisionFormat(35632, 36338).precision > 0)
        return "highp";
      e10 = "mediump";
    }
    return "mediump" === e10 && t48.getShaderPrecisionFormat(35633, 36337).precision > 0 && t48.getShaderPrecisionFormat(35632, 36337).precision > 0 ? "mediump" : "lowp";
  }
  q(r, "getMaxAnisotropy"), q(o3, "getMaxPrecision");
  let s6 = typeof WebGL2RenderingContext < "u" && "WebGL2RenderingContext" === t48.constructor.name, a = void 0 !== i.precision ? i.precision : "highp", l = o3(a);
  l !== a && (console.warn("THREE.WebGLRenderer:", a, "not supported, using", l, "instead."), a = l);
  let h = s6 || e6.has("WEBGL_draw_buffers"), c2 = true === i.logarithmicDepthBuffer, p4 = t48.getParameter(34930), d = t48.getParameter(35660), f = t48.getParameter(3379), g = t48.getParameter(34076), m = t48.getParameter(34921), v4 = t48.getParameter(36347), y4 = t48.getParameter(36348), x4 = t48.getParameter(36349), _ = d > 0, b = s6 || e6.has("OES_texture_float");
  return { isWebGL2: s6, drawBuffers: h, getMaxAnisotropy: r, getMaxPrecision: o3, precision: a, logarithmicDepthBuffer: c2, maxTextures: p4, maxVertexTextures: d, maxTextureSize: f, maxCubemapSize: g, maxAttributes: m, maxVertexUniforms: v4, maxVaryings: y4, maxFragmentUniforms: x4, vertexTextures: _, floatFragmentTextures: b, floatVertexTextures: _ && b, maxSamples: s6 ? t48.getParameter(36183) : 0 };
}
function Ume(t48) {
  let e6 = this, i = null, n = 0, r = false, o3 = false, s6 = new Lc(), a = new li(), l = { value: null, needsUpdate: false };
  function h() {
    l.value !== i && (l.value = i, l.needsUpdate = n > 0), e6.numPlanes = n, e6.numIntersection = 0;
  }
  function c2(t49, i10, n10, r6) {
    let o6 = null !== t49 ? t49.length : 0, u2 = null;
    if (0 !== o6) {
      if (u2 = l.value, true !== r6 || null === u2) {
        let e10 = n10 + 4 * o6, r10 = i10.matrixWorldInverse;
        a.getNormalMatrix(r10), (null === u2 || u2.length < e10) && (u2 = new Float32Array(e10));
        for (let e11 = 0, i11 = n10; e11 !== o6; ++e11, i11 += 4)
          s6.copy(t49[e11]).applyMatrix4(r10, a), s6.normal.toArray(u2, i11), u2[i11 + 3] = s6.constant;
      }
      l.value = u2, l.needsUpdate = true;
    }
    return e6.numPlanes = o6, e6.numIntersection = 0, u2;
  }
  this.uniform = l, this.numPlanes = 0, this.numIntersection = 0, this.init = function(t49, e10) {
    let i10 = 0 !== t49.length || e10 || 0 !== n || r;
    return r = e10, n = t49.length, i10;
  }, this.beginShadows = function() {
    o3 = true, c2(null);
  }, this.endShadows = function() {
    o3 = false;
  }, this.setGlobalState = function(t49, e10) {
    i = c2(t49, e10, 0);
  }, this.setState = function(e10, s10, a3) {
    let u2 = e10.clippingPlanes, p4 = e10.clipIntersection, d = e10.clipShadows, f = t48.get(e10);
    if (!r || null === u2 || 0 === u2.length || o3 && !d)
      o3 ? c2(null) : h();
    else {
      let t49 = o3 ? 0 : n, e11 = 4 * t49, r6 = f.clippingState || null;
      l.value = r6, r6 = c2(u2, s10, e11, a3);
      for (let t50 = 0; t50 !== e11; ++t50)
        r6[t50] = i[t50];
      f.clippingState = r6, this.numIntersection = p4 ? this.numPlanes : 0, this.numPlanes += t49;
    }
  }, q(h, "resetGlobalState"), q(c2, "projectPlanes");
}
function zme(t48) {
  let e6 = /* @__PURE__ */ new WeakMap();
  function i(t49, e10) {
    return e10 === V6 ? t49.mapping = xg : e10 === H6 && (t49.mapping = bg), t49;
  }
  function n(n10) {
    if (n10 && n10.isTexture && false === n10.isRenderTargetTexture) {
      let o6 = n10.mapping;
      if (o6 === V6 || o6 === H6) {
        if (e6.has(n10)) {
          return i(e6.get(n10).texture, n10.mapping);
        }
        {
          let o7 = n10.image;
          if (o7 && o7.height > 0) {
            let s6 = new Z6(o7.height / 2);
            return s6.fromEquirectangularTexture(t48, n10), e6.set(n10, s6), n10.addEventListener("dispose", r), i(s6.texture, n10.mapping);
          }
          return null;
        }
      }
    }
    return n10;
  }
  function r(t49) {
    let i10 = t49.target;
    i10.removeEventListener("dispose", r);
    let n10 = e6.get(i10);
    void 0 !== n10 && (e6.delete(i10), n10.dispose());
  }
  function o3() {
    e6 = /* @__PURE__ */ new WeakMap();
  }
  return q(i, "mapTextureMapping"), q(n, "get"), q(r, "onTextureDispose"), q(o3, "dispose"), { get: n, dispose: o3 };
}
q(Bme, "WebGLBackground"), q(kme, "WebGLBindingStates"), q(qme, "WebGLBufferRenderer"), q(Fme, "WebGLCapabilities"), q(Ume, "WebGLClipping"), q(zme, "WebGLCubeMaps");
var uL = class extends Tg {
  constructor(t48 = -1, e6 = 1, i = 1, n = -1, r = 0.1, o3 = 2e3) {
    super(), this.isOrthographicCamera = true, this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = t48, this.right = e6, this.top = i, this.bottom = n, this.near = r, this.far = o3, this.updateProjectionMatrix();
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.left = t48.left, this.right = t48.right, this.top = t48.top, this.bottom = t48.bottom, this.near = t48.near, this.far = t48.far, this.zoom = t48.zoom, this.view = null === t48.view ? null : Object.assign({}, t48.view), this;
  }
  setViewOffset(t48, e6, i, n, r, o3) {
    null === this.view && (this.view = { enabled: true, fullWidth: 1, fullHeight: 1, offsetX: 0, offsetY: 0, width: 1, height: 1 }), this.view.enabled = true, this.view.fullWidth = t48, this.view.fullHeight = e6, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o3, this.updateProjectionMatrix();
  }
  clearViewOffset() {
    null !== this.view && (this.view.enabled = false), this.updateProjectionMatrix();
  }
  updateProjectionMatrix() {
    let t48 = (this.right - this.left) / (2 * this.zoom), e6 = (this.top - this.bottom) / (2 * this.zoom), i = (this.right + this.left) / 2, n = (this.top + this.bottom) / 2, r = i - t48, o3 = i + t48, s6 = n + e6, a = n - e6;
    if (null !== this.view && this.view.enabled) {
      let t49 = (this.right - this.left) / this.view.fullWidth / this.zoom, e10 = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
      r += t49 * this.view.offsetX, o3 = r + t49 * this.view.width, s6 -= e10 * this.view.offsetY, a = s6 - e10 * this.view.height;
    }
    this.projectionMatrix.makeOrthographic(r, o3, s6, a, this.near, this.far), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
  }
  toJSON(t48) {
    let e6 = super.toJSON(t48);
    return e6.object.zoom = this.zoom, e6.object.left = this.left, e6.object.right = this.right, e6.object.top = this.top, e6.object.bottom = this.bottom, e6.object.near = this.near, e6.object.far = this.far, null !== this.view && (e6.object.view = Object.assign({}, this.view)), e6;
  }
};
q(uL, "OrthographicCamera");
var Sg = uL;
var hg = 4;
var Qj = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];
var Op = 20;
var L6 = new Sg();
var Kj = new at();
var D6 = null;
var Ip = (1 + Math.sqrt(5)) / 2;
var sg = 1 / Ip;
var Jj = [new K(1, 1, 1), new K(-1, 1, 1), new K(1, 1, -1), new K(-1, 1, -1), new K(0, Ip, sg), new K(0, Ip, -sg), new K(sg, 0, Ip), new K(-sg, 0, Ip), new K(Ip, sg, 0), new K(-Ip, sg, 0)];
var cL = class {
  constructor(t48) {
    this._renderer = t48, this._pingPongRenderTarget = null, this._lodMax = 0, this._cubeSize = 0, this._lodPlanes = [], this._sizeLods = [], this._sigmas = [], this._blurMaterial = null, this._cubemapMaterial = null, this._equirectMaterial = null, this._compileMaterial(this._blurMaterial);
  }
  fromScene(t48, e6 = 0, i = 0.1, n = 100) {
    D6 = this._renderer.getRenderTarget(), this._setSize(256);
    let r = this._allocateTargets();
    return r.depthBuffer = true, this._sceneToCubeUV(t48, i, n, r), e6 > 0 && this._blur(r, 0, 0, e6), this._applyPMREM(r), this._cleanup(r), r;
  }
  fromEquirectangular(t48, e6 = null) {
    return this._fromTexture(t48, e6);
  }
  fromCubemap(t48, e6 = null) {
    return this._fromTexture(t48, e6);
  }
  compileCubemapShader() {
    null === this._cubemapMaterial && (this._cubemapMaterial = tW(), this._compileMaterial(this._cubemapMaterial));
  }
  compileEquirectangularShader() {
    null === this._equirectMaterial && (this._equirectMaterial = eW(), this._compileMaterial(this._equirectMaterial));
  }
  dispose() {
    this._dispose(), null !== this._cubemapMaterial && this._cubemapMaterial.dispose(), null !== this._equirectMaterial && this._equirectMaterial.dispose();
  }
  _setSize(t48) {
    this._lodMax = Math.floor(Math.log2(t48)), this._cubeSize = Math.pow(2, this._lodMax);
  }
  _dispose() {
    null !== this._blurMaterial && this._blurMaterial.dispose(), null !== this._pingPongRenderTarget && this._pingPongRenderTarget.dispose();
    for (let t48 = 0; t48 < this._lodPlanes.length; t48++)
      this._lodPlanes[t48].dispose();
  }
  _cleanup(t48) {
    this._renderer.setRenderTarget(D6), t48.scissorTest = false, IE(t48, 0, 0, t48.width, t48.height);
  }
  _fromTexture(t48, e6) {
    t48.mapping === xg || t48.mapping === bg ? this._setSize(0 === t48.image.length ? 16 : t48.image[0].width || t48.image[0].image.width) : this._setSize(t48.image.width / 4), D6 = this._renderer.getRenderTarget();
    let i = e6 || this._allocateTargets();
    return this._textureToCubeUV(t48, i), this._applyPMREM(i), this._cleanup(i), i;
  }
  _allocateTargets() {
    let t48 = 3 * Math.max(this._cubeSize, 112), e6 = 4 * this._cubeSize, i = { magFilter: wi, minFilter: wi, generateMipmaps: false, type: Np, format: Gs, encoding: rl, depthBuffer: false }, n = $j(t48, e6, i);
    if (null === this._pingPongRenderTarget || this._pingPongRenderTarget.width !== t48 || this._pingPongRenderTarget.height !== e6) {
      null !== this._pingPongRenderTarget && this._dispose(), this._pingPongRenderTarget = $j(t48, e6, i);
      let { _lodMax: n10 } = this;
      ({ sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = Gme(n10)), this._blurMaterial = Vme(n10, t48, e6);
    }
    return n;
  }
  _compileMaterial(t48) {
    let e6 = new Ft(this._lodPlanes[0], t48);
    this._renderer.compile(e6, L6);
  }
  _sceneToCubeUV(t48, e6, i, n) {
    let r = new as(90, 1, e6, i), o3 = [1, -1, 1, 1, 1, 1], s6 = [1, 1, 1, -1, -1, -1], a = this._renderer, l = a.autoClear, u2 = a.toneMapping;
    a.getClearColor(Kj), a.toneMapping = Nc, a.autoClear = false;
    let h = new ls({ name: "PMREM.Background", side: _s, depthWrite: false, depthTest: false }), c2 = new Ft(new Bc(), h), p4 = false, d = t48.background;
    d ? d.isColor && (h.color.copy(d), t48.background = null, p4 = true) : (h.color.copy(Kj), p4 = true);
    for (let e10 = 0; e10 < 6; e10++) {
      let i10 = e10 % 3;
      0 === i10 ? (r.up.set(0, o3[e10], 0), r.lookAt(s6[e10], 0, 0)) : 1 === i10 ? (r.up.set(0, 0, o3[e10]), r.lookAt(0, s6[e10], 0)) : (r.up.set(0, o3[e10], 0), r.lookAt(0, 0, s6[e10]));
      let l3 = this._cubeSize;
      IE(n, i10 * l3, e10 > 2 ? l3 : 0, l3, l3), a.setRenderTarget(n), p4 && a.render(c2, r), a.render(t48, r);
    }
    c2.geometry.dispose(), c2.material.dispose(), a.toneMapping = u2, a.autoClear = l, t48.background = d;
  }
  _textureToCubeUV(t48, e6) {
    let i = this._renderer, n = t48.mapping === xg || t48.mapping === bg;
    n ? (null === this._cubemapMaterial && (this._cubemapMaterial = tW()), this._cubemapMaterial.uniforms.flipEnvMap.value = false === t48.isRenderTargetTexture ? -1 : 1) : null === this._equirectMaterial && (this._equirectMaterial = eW());
    let r = n ? this._cubemapMaterial : this._equirectMaterial, o3 = new Ft(this._lodPlanes[0], r);
    r.uniforms.envMap.value = t48;
    let s6 = this._cubeSize;
    IE(e6, 0, 0, 3 * s6, 2 * s6), i.setRenderTarget(e6), i.render(o3, L6);
  }
  _applyPMREM(t48) {
    let e6 = this._renderer, i = e6.autoClear;
    e6.autoClear = false;
    for (let e10 = 1; e10 < this._lodPlanes.length; e10++) {
      let i10 = Math.sqrt(this._sigmas[e10] * this._sigmas[e10] - this._sigmas[e10 - 1] * this._sigmas[e10 - 1]), n = Jj[(e10 - 1) % Jj.length];
      this._blur(t48, e10 - 1, e10, i10, n);
    }
    e6.autoClear = i;
  }
  _blur(t48, e6, i, n, r) {
    let o3 = this._pingPongRenderTarget;
    this._halfBlur(t48, o3, e6, i, n, "latitudinal", r), this._halfBlur(o3, t48, i, i, n, "longitudinal", r);
  }
  _halfBlur(t48, e6, i, n, r, o3, s6) {
    let a = this._renderer, l = this._blurMaterial;
    "latitudinal" !== o3 && "longitudinal" !== o3 && console.error("blur direction must be either latitudinal or longitudinal!");
    let u2 = new Ft(this._lodPlanes[n], l), h = l.uniforms, c2 = this._sizeLods[i] - 1, p4 = isFinite(r) ? Math.PI / (2 * c2) : 2 * Math.PI / (2 * Op - 1), d = r / p4, f = isFinite(r) ? 1 + Math.floor(3 * d) : Op;
    f > Op && console.warn("sigmaRadians, ".concat(r, ", is too large and will clip, as it requested ").concat(f, " samples when the maximum is set to ").concat(Op));
    let g = [], m = 0;
    for (let t49 = 0; t49 < Op; ++t49) {
      let e10 = t49 / d, i10 = Math.exp(-e10 * e10 / 2);
      g.push(i10), 0 === t49 ? m += i10 : t49 < f && (m += 2 * i10);
    }
    for (let t49 = 0; t49 < g.length; t49++)
      g[t49] = g[t49] / m;
    h.envMap.value = t48.texture, h.samples.value = f, h.weights.value = g, h.latitudinal.value = "latitudinal" === o3, s6 && (h.poleAxis.value = s6);
    let { _lodMax: v4 } = this;
    h.dTheta.value = p4, h.mipInt.value = v4 - i;
    let y4 = this._sizeLods[n];
    IE(e6, 3 * y4 * (n > v4 - hg ? n - v4 + hg : 0), 4 * (this._cubeSize - y4), 3 * y4, 2 * y4), a.setRenderTarget(e6), a.render(u2, L6);
  }
};
q(cL, "PMREMGenerator");
var ZE = cL;
function Gme(t48) {
  let e6 = [], i = [], n = [], r = t48, o3 = t48 - hg + 1 + Qj.length;
  for (let s6 = 0; s6 < o3; s6++) {
    let o6 = Math.pow(2, r);
    i.push(o6);
    let a = 1 / o6;
    s6 > t48 - hg ? a = Qj[s6 - t48 + hg - 1] : 0 === s6 && (a = 0), n.push(a);
    let l = 1 / (o6 - 2), u2 = -l, h = 1 + l, c2 = [u2, u2, h, u2, h, h, u2, u2, h, h, u2, h], p4 = 6, d = 6, f = 3, g = 2, m = 1, v4 = new Float32Array(f * d * p4), y4 = new Float32Array(g * d * p4), x4 = new Float32Array(m * d * p4);
    for (let t49 = 0; t49 < p4; t49++) {
      let e10 = t49 % 3 * 2 / 3 - 1, i10 = t49 > 2 ? 0 : -1, n10 = [e10, i10, 0, e10 + 2 / 3, i10, 0, e10 + 2 / 3, i10 + 1, 0, e10, i10, 0, e10 + 2 / 3, i10 + 1, 0, e10, i10 + 1, 0];
      v4.set(n10, f * d * t49), y4.set(c2, g * d * t49);
      let r6 = [t49, t49, t49, t49, t49, t49];
      x4.set(r6, m * d * t49);
    }
    let _ = new Ji();
    _.setAttribute("position", new rn(v4, f)), _.setAttribute("uv", new rn(y4, g)), _.setAttribute("faceIndex", new rn(x4, m)), e6.push(_), r > hg && r--;
  }
  return { lodPlanes: e6, sizeLods: i, sigmas: n };
}
function $j(t48, e6, i) {
  let n = new ti(t48, e6, i);
  return n.texture.mapping = OT, n.texture.name = "PMREM.cubeUv", n.scissorTest = true, n;
}
function IE(t48, e6, i, n, r) {
  t48.viewport.set(e6, i, n, r), t48.scissor.set(e6, i, n, r);
}
function Vme(t48, e6, i) {
  let n = new Float32Array(Op), r = new K(0, 1, 0);
  return new Xt({ name: "SphericalGaussianBlur", defines: { n: Op, CUBEUV_TEXEL_WIDTH: 1 / e6, CUBEUV_TEXEL_HEIGHT: 1 / i, CUBEUV_MAX_MIP: "".concat(t48, ".0") }, uniforms: { envMap: { value: null }, samples: { value: 1 }, weights: { value: n }, latitudinal: { value: false }, dTheta: { value: 0 }, mipInt: { value: 0 }, poleAxis: { value: r } }, vertexShader: IO(), fragmentShader: "\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n			uniform int samples;\n			uniform float weights[ n ];\n			uniform bool latitudinal;\n			uniform float dTheta;\n			uniform float mipInt;\n			uniform vec3 poleAxis;\n\n			#define ENVMAP_TYPE_CUBE_UV\n			#include <cube_uv_reflection_fragment>\n\n			vec3 getSample( float theta, vec3 axis ) {\n\n				float cosTheta = cos( theta );\n				// Rodrigues' axis-angle rotation\n				vec3 sampleDirection = vOutputDirection * cosTheta\n					+ cross( axis, vOutputDirection ) * sin( theta )\n					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n				return bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n			}\n\n			void main() {\n\n				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n				}\n\n				axis = normalize( axis );\n\n				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n				for ( int i = 1; i < n; i++ ) {\n\n					if ( i >= samples ) {\n\n						break;\n\n					}\n\n					float theta = dTheta * float( i );\n					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n				}\n\n			}\n		", blending: Nr, depthTest: false, depthWrite: false });
}
function eW() {
  return new Xt({ name: "EquirectangularToCubeUV", uniforms: { envMap: { value: null } }, vertexShader: IO(), fragmentShader: "\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n\n			#include <common>\n\n			void main() {\n\n				vec3 outputDirection = normalize( vOutputDirection );\n				vec2 uv = equirectUv( outputDirection );\n\n				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n			}\n		", blending: Nr, depthTest: false, depthWrite: false });
}
function tW() {
  return new Xt({ name: "CubemapToCubeUV", uniforms: { envMap: { value: null }, flipEnvMap: { value: -1 } }, vertexShader: IO(), fragmentShader: "\n\n			precision mediump float;\n			precision mediump int;\n\n			uniform float flipEnvMap;\n\n			varying vec3 vOutputDirection;\n\n			uniform samplerCube envMap;\n\n			void main() {\n\n				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n			}\n		", blending: Nr, depthTest: false, depthWrite: false });
}
function IO() {
  return "\n\n		precision mediump float;\n		precision mediump int;\n\n		attribute float faceIndex;\n\n		varying vec3 vOutputDirection;\n\n		// RH coordinate system; PMREM face-indexing convention\n		vec3 getDirection( vec2 uv, float face ) {\n\n			uv = 2.0 * uv - 1.0;\n\n			vec3 direction = vec3( uv, 1.0 );\n\n			if ( face == 0.0 ) {\n\n				direction = direction.zyx; // ( 1, v, u ) pos x\n\n			} else if ( face == 1.0 ) {\n\n				direction = direction.xzy;\n				direction.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n			} else if ( face == 2.0 ) {\n\n				direction.x *= -1.0; // ( -u, v, 1 ) pos z\n\n			} else if ( face == 3.0 ) {\n\n				direction = direction.zyx;\n				direction.xz *= -1.0; // ( -1, v, -u ) neg x\n\n			} else if ( face == 4.0 ) {\n\n				direction = direction.xzy;\n				direction.xy *= -1.0; // ( -u, -1, v ) neg y\n\n			} else if ( face == 5.0 ) {\n\n				direction.z *= -1.0; // ( u, v, -1 ) neg z\n\n			}\n\n			return direction;\n\n		}\n\n		void main() {\n\n			vOutputDirection = getDirection( uv, faceIndex );\n			gl_Position = vec4( position, 1.0 );\n\n		}\n	";
}
function Hme(t48) {
  let e6 = /* @__PURE__ */ new WeakMap(), i = null;
  function n(n10) {
    if (n10 && n10.isTexture) {
      let s10 = n10.mapping, a = s10 === V6 || s10 === H6, l = s10 === xg || s10 === bg;
      if (a || l) {
        if (n10.isRenderTargetTexture && true === n10.needsPMREMUpdate) {
          n10.needsPMREMUpdate = false;
          let r6 = e6.get(n10);
          return null === i && (i = new ZE(t48)), r6 = a ? i.fromEquirectangular(n10, r6) : i.fromCubemap(n10, r6), e6.set(n10, r6), r6.texture;
        }
        if (e6.has(n10))
          return e6.get(n10).texture;
        {
          let s11 = n10.image;
          if (a && s11 && s11.height > 0 || l && s11 && r(s11)) {
            null === i && (i = new ZE(t48));
            let r6 = a ? i.fromEquirectangular(n10) : i.fromCubemap(n10);
            return e6.set(n10, r6), n10.addEventListener("dispose", o3), r6.texture;
          }
          return null;
        }
      }
    }
    return n10;
  }
  function r(t49) {
    let e10 = 0;
    for (let i10 = 0; i10 < 6; i10++)
      void 0 !== t49[i10] && e10++;
    return 6 === e10;
  }
  function o3(t49) {
    let i10 = t49.target;
    i10.removeEventListener("dispose", o3);
    let n10 = e6.get(i10);
    void 0 !== n10 && (e6.delete(i10), n10.dispose());
  }
  function s6() {
    e6 = /* @__PURE__ */ new WeakMap(), null !== i && (i.dispose(), i = null);
  }
  return q(n, "get"), q(r, "isCubeTextureComplete"), q(o3, "onTextureDispose"), q(s6, "dispose"), { get: n, dispose: s6 };
}
function jme(t48) {
  let e6 = {};
  function i(i10) {
    if (void 0 !== e6[i10])
      return e6[i10];
    let n;
    switch (i10) {
      case "WEBGL_depth_texture":
        n = t48.getExtension("WEBGL_depth_texture") || t48.getExtension("MOZ_WEBGL_depth_texture") || t48.getExtension("WEBKIT_WEBGL_depth_texture");
        break;
      case "EXT_texture_filter_anisotropic":
        n = t48.getExtension("EXT_texture_filter_anisotropic") || t48.getExtension("MOZ_EXT_texture_filter_anisotropic") || t48.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
        break;
      case "WEBGL_compressed_texture_s3tc":
        n = t48.getExtension("WEBGL_compressed_texture_s3tc") || t48.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t48.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
        break;
      case "WEBGL_compressed_texture_pvrtc":
        n = t48.getExtension("WEBGL_compressed_texture_pvrtc") || t48.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
        break;
      default:
        n = t48.getExtension(i10);
    }
    return e6[i10] = n, n;
  }
  return q(i, "getExtension"), { has: function(t49) {
    return null !== i(t49);
  }, init: function(t49) {
    t49.isWebGL2 ? i("EXT_color_buffer_float") : (i("WEBGL_depth_texture"), i("OES_texture_float"), i("OES_texture_half_float"), i("OES_texture_half_float_linear"), i("OES_standard_derivatives"), i("OES_element_index_uint"), i("OES_vertex_array_object"), i("ANGLE_instanced_arrays")), i("OES_texture_float_linear"), i("EXT_color_buffer_half_float"), i("WEBGL_multisampled_render_to_texture");
  }, get: function(t49) {
    let e10 = i(t49);
    return null === e10 && console.warn("THREE.WebGLRenderer: " + t49 + " extension not supported."), e10;
  } };
}
function Wme(t48, e6, i, n) {
  let r = {}, o3 = /* @__PURE__ */ new WeakMap();
  function s6(t49) {
    let a3 = t49.target;
    null !== a3.index && e6.remove(a3.index);
    for (let t50 in a3.attributes)
      e6.remove(a3.attributes[t50]);
    a3.removeEventListener("dispose", s6), delete r[a3.id];
    let l3 = o3.get(a3);
    l3 && (e6.remove(l3), o3.delete(a3)), n.releaseStatesOfGeometry(a3), true === a3.isInstancedBufferGeometry && delete a3._maxInstanceCount, i.memory.geometries--;
  }
  function a(t49, e10) {
    return true === r[e10.id] || (e10.addEventListener("dispose", s6), r[e10.id] = true, i.memory.geometries++), e10;
  }
  function l(t49) {
    let i10 = t49.attributes;
    for (let t50 in i10)
      e6.update(i10[t50], 34962);
    let n10 = t49.morphAttributes;
    for (let t50 in n10) {
      let i11 = n10[t50];
      for (let t51 = 0, n11 = i11.length; t51 < n11; t51++)
        e6.update(i11[t51], 34962);
    }
  }
  function h(t49) {
    let i10 = [], n10 = t49.index, r6 = t49.attributes.position, s10 = 0;
    if (null !== n10) {
      let t50 = n10.array;
      s10 = n10.version;
      for (let e10 = 0, n11 = t50.length; e10 < n11; e10 += 3) {
        let n12 = t50[e10 + 0], r10 = t50[e10 + 1], o6 = t50[e10 + 2];
        i10.push(n12, r10, r10, o6, o6, n12);
      }
    } else {
      let t50 = r6.array;
      s10 = r6.version;
      for (let e10 = 0, n11 = t50.length / 3 - 1; e10 < n11; e10 += 3) {
        let t51 = e10 + 0, n12 = e10 + 1, r10 = e10 + 2;
        i10.push(t51, n12, n12, r10, r10, t51);
      }
    }
    let a3 = new (zW(i10) ? YE : WE)(i10, 1);
    a3.version = s10;
    let l3 = o3.get(t49);
    l3 && e6.remove(l3), o3.set(t49, a3);
  }
  function c2(t49) {
    let e10 = o3.get(t49);
    if (e10) {
      let i10 = t49.index;
      null !== i10 && e10.version < i10.version && h(t49);
    } else
      h(t49);
    return o3.get(t49);
  }
  return q(s6, "onGeometryDispose"), q(a, "get"), q(l, "update"), q(h, "updateWireframeAttribute"), q(c2, "getWireframeAttribute"), { get: a, update: l, getWireframeAttribute: c2 };
}
function Yme(t48, e6, i, n) {
  let r, o3, s6, a = n.isWebGL2;
  function l(t49) {
    r = t49;
  }
  function h(t49) {
    o3 = t49.type, s6 = t49.bytesPerElement;
  }
  function c2(e10, n10) {
    t48.drawElements(r, n10, o3, e10 * s6), i.update(n10, r, 1);
  }
  function p4(n10, l3, u2) {
    if (0 === u2)
      return;
    let h2, c4;
    if (a)
      h2 = t48, c4 = "drawElementsInstanced";
    else if (h2 = e6.get("ANGLE_instanced_arrays"), c4 = "drawElementsInstancedANGLE", null === h2)
      return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
    h2[c4](r, l3, o3, n10 * s6, u2), i.update(l3, r, u2);
  }
  q(l, "setMode"), q(h, "setIndex"), q(c2, "render"), q(p4, "renderInstances"), this.setMode = l, this.setIndex = h, this.render = c2, this.renderInstances = p4;
}
function Xme(t48) {
  let e6 = { frame: 0, calls: 0, triangles: 0, points: 0, lines: 0 };
  function i(t49, i10, n10) {
    switch (e6.calls++, i10) {
      case 4:
        e6.triangles += n10 * (t49 / 3);
        break;
      case 1:
        e6.lines += n10 * (t49 / 2);
        break;
      case 3:
        e6.lines += n10 * (t49 - 1);
        break;
      case 2:
        e6.lines += n10 * t49;
        break;
      case 0:
        e6.points += n10 * t49;
        break;
      default:
        console.error("THREE.WebGLInfo: Unknown draw mode:", i10);
    }
  }
  function n() {
    e6.frame++, e6.calls = 0, e6.triangles = 0, e6.points = 0, e6.lines = 0;
  }
  return q(i, "update"), q(n, "reset"), { memory: { geometries: 0, textures: 0 }, render: e6, programs: null, autoReset: true, reset: n, update: i };
}
function Zme(t48, e6) {
  return t48[0] - e6[0];
}
function Qme(t48, e6) {
  return Math.abs(e6[1]) - Math.abs(t48[1]);
}
function Kme(t48, e6, i) {
  let n = {}, r = new Float32Array(8), o3 = /* @__PURE__ */ new WeakMap(), s6 = new Fi(), a = [];
  for (let t49 = 0; t49 < 8; t49++)
    a[t49] = [t49, 0];
  function l(l3, h, c2) {
    let p4 = l3.morphTargetInfluences;
    if (true === e6.isWebGL2) {
      let n10 = h.morphAttributes.position || h.morphAttributes.normal || h.morphAttributes.color, r6 = void 0 !== n10 ? n10.length : 0, a3 = o3.get(h);
      if (void 0 === a3 || a3.count !== r6) {
        let t49 = function() {
          y4.dispose(), o3.delete(h), h.removeEventListener("dispose", t49);
        };
        q(t49, "disposeTexture"), void 0 !== a3 && a3.texture.dispose();
        let i10 = void 0 !== h.morphAttributes.position, n11 = void 0 !== h.morphAttributes.normal, l11 = void 0 !== h.morphAttributes.color, c4 = h.morphAttributes.position || [], p10 = h.morphAttributes.normal || [], d4 = h.morphAttributes.color || [], f = 0;
        true === i10 && (f = 1), true === n11 && (f = 2), true === l11 && (f = 3);
        let g = h.attributes.position.count * f, m = 1;
        g > e6.maxTextureSize && (m = Math.ceil(g / e6.maxTextureSize), g = e6.maxTextureSize);
        let v4 = new Float32Array(g * m * 4 * r6), y4 = new VE(v4, g, m, r6);
        y4.type = Au, y4.needsUpdate = true;
        let x4 = 4 * f;
        for (let t50 = 0; t50 < r6; t50++) {
          let e10 = c4[t50], r10 = p10[t50], o6 = d4[t50], a7 = g * m * 4 * t50;
          for (let t51 = 0; t51 < e10.count; t51++) {
            let u2 = t51 * x4;
            true === i10 && (s6.fromBufferAttribute(e10, t51), v4[a7 + u2 + 0] = s6.x, v4[a7 + u2 + 1] = s6.y, v4[a7 + u2 + 2] = s6.z, v4[a7 + u2 + 3] = 0), true === n11 && (s6.fromBufferAttribute(r10, t51), v4[a7 + u2 + 4] = s6.x, v4[a7 + u2 + 5] = s6.y, v4[a7 + u2 + 6] = s6.z, v4[a7 + u2 + 7] = 0), true === l11 && (s6.fromBufferAttribute(o6, t51), v4[a7 + u2 + 8] = s6.x, v4[a7 + u2 + 9] = s6.y, v4[a7 + u2 + 10] = s6.z, v4[a7 + u2 + 11] = 4 === o6.itemSize ? s6.w : 1);
          }
        }
        a3 = { count: r6, texture: y4, size: new qe(g, m) }, o3.set(h, a3), h.addEventListener("dispose", t49);
      }
      let l10 = 0;
      for (let t49 = 0; t49 < p4.length; t49++)
        l10 += p4[t49];
      let d = h.morphTargetsRelative ? 1 : 1 - l10;
      c2.getUniforms().setValue(t48, "morphTargetBaseInfluence", d), c2.getUniforms().setValue(t48, "morphTargetInfluences", p4), c2.getUniforms().setValue(t48, "morphTargetsTexture", a3.texture, i), c2.getUniforms().setValue(t48, "morphTargetsTextureSize", a3.size);
    } else {
      let e10 = void 0 === p4 ? 0 : p4.length, i10 = n[h.id];
      if (void 0 === i10 || i10.length !== e10) {
        i10 = [];
        for (let t49 = 0; t49 < e10; t49++)
          i10[t49] = [t49, 0];
        n[h.id] = i10;
      }
      for (let t49 = 0; t49 < e10; t49++) {
        let e11 = i10[t49];
        e11[0] = t49, e11[1] = p4[t49];
      }
      i10.sort(Qme);
      for (let t49 = 0; t49 < 8; t49++)
        t49 < e10 && i10[t49][1] ? (a[t49][0] = i10[t49][0], a[t49][1] = i10[t49][1]) : (a[t49][0] = Number.MAX_SAFE_INTEGER, a[t49][1] = 0);
      a.sort(Zme);
      let o6 = h.morphAttributes.position, s10 = h.morphAttributes.normal, l10 = 0;
      for (let t49 = 0; t49 < 8; t49++) {
        let e11 = a[t49], i11 = e11[0], n10 = e11[1];
        i11 !== Number.MAX_SAFE_INTEGER && n10 ? (o6 && h.getAttribute("morphTarget" + t49) !== o6[i11] && h.setAttribute("morphTarget" + t49, o6[i11]), s10 && h.getAttribute("morphNormal" + t49) !== s10[i11] && h.setAttribute("morphNormal" + t49, s10[i11]), r[t49] = n10, l10 += n10) : (o6 && true === h.hasAttribute("morphTarget" + t49) && h.deleteAttribute("morphTarget" + t49), s10 && true === h.hasAttribute("morphNormal" + t49) && h.deleteAttribute("morphNormal" + t49), r[t49] = 0);
      }
      let u2 = h.morphTargetsRelative ? 1 : 1 - l10;
      c2.getUniforms().setValue(t48, "morphTargetBaseInfluence", u2), c2.getUniforms().setValue(t48, "morphTargetInfluences", r);
    }
  }
  return q(l, "update"), { update: l };
}
function Jme(t48, e6, i, n) {
  let r = /* @__PURE__ */ new WeakMap();
  function o3(t49) {
    let o6 = n.render.frame, s10 = t49.geometry, l = e6.get(t49, s10);
    return r.get(l) !== o6 && (e6.update(l), r.set(l, o6)), t49.isInstancedMesh && (false === t49.hasEventListener("dispose", a) && t49.addEventListener("dispose", a), i.update(t49.instanceMatrix, 34962), null !== t49.instanceColor && i.update(t49.instanceColor, 34962)), l;
  }
  function s6() {
    r = /* @__PURE__ */ new WeakMap();
  }
  function a(t49) {
    let e10 = t49.target;
    e10.removeEventListener("dispose", a), i.remove(e10.instanceMatrix), null !== e10.instanceColor && i.remove(e10.instanceColor);
  }
  return q(o3, "update"), q(s6, "dispose"), q(a, "onInstancedMeshDispose"), { update: o3, dispose: s6 };
}
q(Gme, "_createPlanes"), q($j, "_createRenderTarget"), q(IE, "_setViewport"), q(Vme, "_getBlurShader"), q(eW, "_getEquirectMaterial"), q(tW, "_getCubemapMaterial"), q(IO, "_getCommonVertexShader"), q(Hme, "WebGLCubeUVMaps"), q(jme, "WebGLExtensions"), q(Wme, "WebGLGeometries"), q(Yme, "WebGLIndexedBufferRenderer"), q(Xme, "WebGLInfo"), q(Zme, "numericalSort"), q(Qme, "absNumericalSort"), q(Kme, "WebGLMorphtargets"), q(Jme, "WebGLObjects");
var jW = new Er();
var WW = new VE();
var YW = new HE();
var XW = new XE();
var nW = [];
var iW = [];
var rW = new Float32Array(16);
var sW = new Float32Array(9);
var oW = new Float32Array(4);
function Lg(t48, e6, i) {
  let n = t48[0];
  if (n <= 0 || n > 0)
    return t48;
  let r = e6 * i, o3 = nW[r];
  if (void 0 === o3 && (o3 = new Float32Array(r), nW[r] = o3), 0 !== e6) {
    n.toArray(o3, 0);
    for (let n10 = 1, r6 = 0; n10 !== e6; ++n10)
      r6 += i, t48[n10].toArray(o3, r6);
  }
  return o3;
}
function ws(t48, e6) {
  if (t48.length !== e6.length)
    return false;
  for (let i = 0, n = t48.length; i < n; i++)
    if (t48[i] !== e6[i])
      return false;
  return true;
}
function Ms(t48, e6) {
  for (let i = 0, n = e6.length; i < n; i++)
    t48[i] = e6[i];
}
function DT(t48, e6) {
  let i = iW[e6];
  void 0 === i && (i = new Int32Array(e6), iW[e6] = i);
  for (let n = 0; n !== e6; ++n)
    i[n] = t48.allocateTextureUnit();
  return i;
}
function $me(t48, e6) {
  let i = this.cache;
  i[0] !== e6 && (t48.uniform1f(this.addr, e6), i[0] = e6);
}
function ege(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y) && (t48.uniform2f(this.addr, e6.x, e6.y), i[0] = e6.x, i[1] = e6.y);
  else {
    if (ws(i, e6))
      return;
    t48.uniform2fv(this.addr, e6), Ms(i, e6);
  }
}
function tge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y || i[2] !== e6.z) && (t48.uniform3f(this.addr, e6.x, e6.y, e6.z), i[0] = e6.x, i[1] = e6.y, i[2] = e6.z);
  else if (void 0 !== e6.r)
    (i[0] !== e6.r || i[1] !== e6.g || i[2] !== e6.b) && (t48.uniform3f(this.addr, e6.r, e6.g, e6.b), i[0] = e6.r, i[1] = e6.g, i[2] = e6.b);
  else {
    if (ws(i, e6))
      return;
    t48.uniform3fv(this.addr, e6), Ms(i, e6);
  }
}
function nge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y || i[2] !== e6.z || i[3] !== e6.w) && (t48.uniform4f(this.addr, e6.x, e6.y, e6.z, e6.w), i[0] = e6.x, i[1] = e6.y, i[2] = e6.z, i[3] = e6.w);
  else {
    if (ws(i, e6))
      return;
    t48.uniform4fv(this.addr, e6), Ms(i, e6);
  }
}
function ige(t48, e6) {
  let i = this.cache, n = e6.elements;
  if (void 0 === n) {
    if (ws(i, e6))
      return;
    t48.uniformMatrix2fv(this.addr, false, e6), Ms(i, e6);
  } else {
    if (ws(i, n))
      return;
    oW.set(n), t48.uniformMatrix2fv(this.addr, false, oW), Ms(i, n);
  }
}
function rge(t48, e6) {
  let i = this.cache, n = e6.elements;
  if (void 0 === n) {
    if (ws(i, e6))
      return;
    t48.uniformMatrix3fv(this.addr, false, e6), Ms(i, e6);
  } else {
    if (ws(i, n))
      return;
    sW.set(n), t48.uniformMatrix3fv(this.addr, false, sW), Ms(i, n);
  }
}
function sge(t48, e6) {
  let i = this.cache, n = e6.elements;
  if (void 0 === n) {
    if (ws(i, e6))
      return;
    t48.uniformMatrix4fv(this.addr, false, e6), Ms(i, e6);
  } else {
    if (ws(i, n))
      return;
    rW.set(n), t48.uniformMatrix4fv(this.addr, false, rW), Ms(i, n);
  }
}
function oge(t48, e6) {
  let i = this.cache;
  i[0] !== e6 && (t48.uniform1i(this.addr, e6), i[0] = e6);
}
function age(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y) && (t48.uniform2i(this.addr, e6.x, e6.y), i[0] = e6.x, i[1] = e6.y);
  else {
    if (ws(i, e6))
      return;
    t48.uniform2iv(this.addr, e6), Ms(i, e6);
  }
}
function lge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y || i[2] !== e6.z) && (t48.uniform3i(this.addr, e6.x, e6.y, e6.z), i[0] = e6.x, i[1] = e6.y, i[2] = e6.z);
  else {
    if (ws(i, e6))
      return;
    t48.uniform3iv(this.addr, e6), Ms(i, e6);
  }
}
function uge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y || i[2] !== e6.z || i[3] !== e6.w) && (t48.uniform4i(this.addr, e6.x, e6.y, e6.z, e6.w), i[0] = e6.x, i[1] = e6.y, i[2] = e6.z, i[3] = e6.w);
  else {
    if (ws(i, e6))
      return;
    t48.uniform4iv(this.addr, e6), Ms(i, e6);
  }
}
function cge(t48, e6) {
  let i = this.cache;
  i[0] !== e6 && (t48.uniform1ui(this.addr, e6), i[0] = e6);
}
function hge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y) && (t48.uniform2ui(this.addr, e6.x, e6.y), i[0] = e6.x, i[1] = e6.y);
  else {
    if (ws(i, e6))
      return;
    t48.uniform2uiv(this.addr, e6), Ms(i, e6);
  }
}
function fge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y || i[2] !== e6.z) && (t48.uniform3ui(this.addr, e6.x, e6.y, e6.z), i[0] = e6.x, i[1] = e6.y, i[2] = e6.z);
  else {
    if (ws(i, e6))
      return;
    t48.uniform3uiv(this.addr, e6), Ms(i, e6);
  }
}
function pge(t48, e6) {
  let i = this.cache;
  if (void 0 !== e6.x)
    (i[0] !== e6.x || i[1] !== e6.y || i[2] !== e6.z || i[3] !== e6.w) && (t48.uniform4ui(this.addr, e6.x, e6.y, e6.z, e6.w), i[0] = e6.x, i[1] = e6.y, i[2] = e6.z, i[3] = e6.w);
  else {
    if (ws(i, e6))
      return;
    t48.uniform4uiv(this.addr, e6), Ms(i, e6);
  }
}
function dge(t48, e6, i) {
  let n = this.cache, r = i.allocateTextureUnit();
  n[0] !== r && (t48.uniform1i(this.addr, r), n[0] = r), i.setTexture2D(e6 || jW, r);
}
function mge(t48, e6, i) {
  let n = this.cache, r = i.allocateTextureUnit();
  n[0] !== r && (t48.uniform1i(this.addr, r), n[0] = r), i.setTexture3D(e6 || YW, r);
}
function gge(t48, e6, i) {
  let n = this.cache, r = i.allocateTextureUnit();
  n[0] !== r && (t48.uniform1i(this.addr, r), n[0] = r), i.setTextureCube(e6 || XW, r);
}
function vge(t48, e6, i) {
  let n = this.cache, r = i.allocateTextureUnit();
  n[0] !== r && (t48.uniform1i(this.addr, r), n[0] = r), i.setTexture2DArray(e6 || WW, r);
}
function yge(t48) {
  switch (t48) {
    case 5126:
      return $me;
    case 35664:
      return ege;
    case 35665:
      return tge;
    case 35666:
      return nge;
    case 35674:
      return ige;
    case 35675:
      return rge;
    case 35676:
      return sge;
    case 5124:
    case 35670:
      return oge;
    case 35667:
    case 35671:
      return age;
    case 35668:
    case 35672:
      return lge;
    case 35669:
    case 35673:
      return uge;
    case 5125:
      return cge;
    case 36294:
      return hge;
    case 36295:
      return fge;
    case 36296:
      return pge;
    case 35678:
    case 36198:
    case 36298:
    case 36306:
    case 35682:
      return dge;
    case 35679:
    case 36299:
    case 36307:
      return mge;
    case 35680:
    case 36300:
    case 36308:
    case 36293:
      return gge;
    case 36289:
    case 36303:
    case 36311:
    case 36292:
      return vge;
  }
}
function xge(t48, e6) {
  t48.uniform1fv(this.addr, e6);
}
function bge(t48, e6) {
  let i = Lg(e6, this.size, 2);
  t48.uniform2fv(this.addr, i);
}
function _ge(t48, e6) {
  let i = Lg(e6, this.size, 3);
  t48.uniform3fv(this.addr, i);
}
function wge(t48, e6) {
  let i = Lg(e6, this.size, 4);
  t48.uniform4fv(this.addr, i);
}
function Mge(t48, e6) {
  let i = Lg(e6, this.size, 4);
  t48.uniformMatrix2fv(this.addr, false, i);
}
function Ege(t48, e6) {
  let i = Lg(e6, this.size, 9);
  t48.uniformMatrix3fv(this.addr, false, i);
}
function Tge(t48, e6) {
  let i = Lg(e6, this.size, 16);
  t48.uniformMatrix4fv(this.addr, false, i);
}
function Sge(t48, e6) {
  t48.uniform1iv(this.addr, e6);
}
function Age(t48, e6) {
  t48.uniform2iv(this.addr, e6);
}
function Cge(t48, e6) {
  t48.uniform3iv(this.addr, e6);
}
function Pge(t48, e6) {
  t48.uniform4iv(this.addr, e6);
}
function Ige(t48, e6) {
  t48.uniform1uiv(this.addr, e6);
}
function Oge(t48, e6) {
  t48.uniform2uiv(this.addr, e6);
}
function Lge(t48, e6) {
  t48.uniform3uiv(this.addr, e6);
}
function Dge(t48, e6) {
  t48.uniform4uiv(this.addr, e6);
}
function Nge(t48, e6, i) {
  let n = this.cache, r = e6.length, o3 = DT(i, r);
  ws(n, o3) || (t48.uniform1iv(this.addr, o3), Ms(n, o3));
  for (let t49 = 0; t49 !== r; ++t49)
    i.setTexture2D(e6[t49] || jW, o3[t49]);
}
function Rge(t48, e6, i) {
  let n = this.cache, r = e6.length, o3 = DT(i, r);
  ws(n, o3) || (t48.uniform1iv(this.addr, o3), Ms(n, o3));
  for (let t49 = 0; t49 !== r; ++t49)
    i.setTexture3D(e6[t49] || YW, o3[t49]);
}
function Bge(t48, e6, i) {
  let n = this.cache, r = e6.length, o3 = DT(i, r);
  ws(n, o3) || (t48.uniform1iv(this.addr, o3), Ms(n, o3));
  for (let t49 = 0; t49 !== r; ++t49)
    i.setTextureCube(e6[t49] || XW, o3[t49]);
}
function kge(t48, e6, i) {
  let n = this.cache, r = e6.length, o3 = DT(i, r);
  ws(n, o3) || (t48.uniform1iv(this.addr, o3), Ms(n, o3));
  for (let t49 = 0; t49 !== r; ++t49)
    i.setTexture2DArray(e6[t49] || WW, o3[t49]);
}
function qge(t48) {
  switch (t48) {
    case 5126:
      return xge;
    case 35664:
      return bge;
    case 35665:
      return _ge;
    case 35666:
      return wge;
    case 35674:
      return Mge;
    case 35675:
      return Ege;
    case 35676:
      return Tge;
    case 5124:
    case 35670:
      return Sge;
    case 35667:
    case 35671:
      return Age;
    case 35668:
    case 35672:
      return Cge;
    case 35669:
    case 35673:
      return Pge;
    case 5125:
      return Ige;
    case 36294:
      return Oge;
    case 36295:
      return Lge;
    case 36296:
      return Dge;
    case 35678:
    case 36198:
    case 36298:
    case 36306:
    case 35682:
      return Nge;
    case 35679:
    case 36299:
    case 36307:
      return Rge;
    case 35680:
    case 36300:
    case 36308:
    case 36293:
      return Bge;
    case 36289:
    case 36303:
    case 36311:
    case 36292:
      return kge;
  }
}
q(Lg, "flatten"), q(ws, "arraysEqual"), q(Ms, "copyArray"), q(DT, "allocTexUnits"), q($me, "setValueV1f"), q(ege, "setValueV2f"), q(tge, "setValueV3f"), q(nge, "setValueV4f"), q(ige, "setValueM2"), q(rge, "setValueM3"), q(sge, "setValueM4"), q(oge, "setValueV1i"), q(age, "setValueV2i"), q(lge, "setValueV3i"), q(uge, "setValueV4i"), q(cge, "setValueV1ui"), q(hge, "setValueV2ui"), q(fge, "setValueV3ui"), q(pge, "setValueV4ui"), q(dge, "setValueT1"), q(mge, "setValueT3D1"), q(gge, "setValueT6"), q(vge, "setValueT2DArray1"), q(yge, "getSingularSetter"), q(xge, "setValueV1fArray"), q(bge, "setValueV2fArray"), q(_ge, "setValueV3fArray"), q(wge, "setValueV4fArray"), q(Mge, "setValueM2Array"), q(Ege, "setValueM3Array"), q(Tge, "setValueM4Array"), q(Sge, "setValueV1iArray"), q(Age, "setValueV2iArray"), q(Cge, "setValueV3iArray"), q(Pge, "setValueV4iArray"), q(Ige, "setValueV1uiArray"), q(Oge, "setValueV2uiArray"), q(Lge, "setValueV3uiArray"), q(Dge, "setValueV4uiArray"), q(Nge, "setValueT1Array"), q(Rge, "setValueT3DArray"), q(Bge, "setValueT6Array"), q(kge, "setValueT2DArrayArray"), q(qge, "getPureArraySetter");
var hL = class {
  constructor(t48, e6, i) {
    this.id = t48, this.addr = i, this.cache = [], this.setValue = yge(e6.type);
  }
};
q(hL, "SingleUniform");
var Q6 = hL;
var fL = class {
  constructor(t48, e6, i) {
    this.id = t48, this.addr = i, this.cache = [], this.size = e6.size, this.setValue = qge(e6.type);
  }
};
q(fL, "PureArrayUniform");
var K6 = fL;
var pL = class {
  constructor(t48) {
    this.id = t48, this.seq = [], this.map = {};
  }
  setValue(t48, e6, i) {
    let n = this.seq;
    for (let r = 0, o3 = n.length; r !== o3; ++r) {
      let o6 = n[r];
      o6.setValue(t48, e6[o6.id], i);
    }
  }
};
q(pL, "StructuredUniform");
var J6 = pL;
var N6 = /(\w+)(\])?(\[|\.)?/g;
function aW(t48, e6) {
  t48.seq.push(e6), t48.map[e6.id] = e6;
}
function Fge(t48, e6, i) {
  let n = t48.name, r = n.length;
  for (N6.lastIndex = 0; ; ) {
    let o3 = N6.exec(n), s6 = N6.lastIndex, a = o3[1], l = "]" === o3[2], u2 = o3[3];
    if (l && (a |= 0), void 0 === u2 || "[" === u2 && s6 + 2 === r) {
      aW(i, void 0 === u2 ? new Q6(a, t48, e6) : new K6(a, t48, e6));
      break;
    }
    {
      let t49 = i.map[a];
      void 0 === t49 && (t49 = new J6(a), aW(i, t49)), i = t49;
    }
  }
}
q(aW, "addUniform"), q(Fge, "parseUniform");
var dL = class {
  constructor(t48, e6) {
    this.seq = [], this.map = {};
    let i = t48.getProgramParameter(e6, 35718);
    for (let n = 0; n < i; ++n) {
      let i10 = t48.getActiveUniform(e6, n);
      Fge(i10, t48.getUniformLocation(e6, i10.name), this);
    }
  }
  setValue(t48, e6, i, n) {
    let r = this.map[e6];
    void 0 !== r && r.setValue(t48, i, n);
  }
  setOptional(t48, e6, i) {
    let n = e6[i];
    void 0 !== n && this.setValue(t48, i, n);
  }
  static upload(t48, e6, i, n) {
    for (let r = 0, o3 = e6.length; r !== o3; ++r) {
      let o6 = e6[r], s6 = i[o6.id];
      false !== s6.needsUpdate && o6.setValue(t48, s6.value, n);
    }
  }
  static seqWithValue(t48, e6) {
    let i = [];
    for (let n = 0, r = t48.length; n !== r; ++n) {
      let r6 = t48[n];
      r6.id in e6 && i.push(r6);
    }
    return i;
  }
};
q(dL, "WebGLUniforms");
var vg = dL;
function lW(t48, e6, i) {
  let n = t48.createShader(e6);
  return t48.shaderSource(n, i), t48.compileShader(n), n;
}
q(lW, "WebGLShader");
var Uge = 0;
function zge(t48, e6) {
  let i = t48.split("\n"), n = [], r = Math.max(e6 - 6, 0), o3 = Math.min(e6 + 6, i.length);
  for (let t49 = r; t49 < o3; t49++) {
    let r6 = t49 + 1;
    n.push("".concat(r6 === e6 ? ">" : " ", " ").concat(r6, ": ").concat(i[t49]));
  }
  return n.join("\n");
}
function Gge(t48) {
  switch (t48) {
    case rl:
      return ["Linear", "( value )"];
    case ai:
      return ["sRGB", "( value )"];
    default:
      return console.warn("THREE.WebGLProgram: Unsupported encoding:", t48), ["Linear", "( value )"];
  }
}
function uW(t48, e6, i) {
  let n = t48.getShaderParameter(e6, 35713), r = t48.getShaderInfoLog(e6).trim();
  if (n && "" === r)
    return "";
  let o3 = /ERROR: 0:(\d+)/.exec(r);
  if (o3) {
    let n10 = parseInt(o3[1]);
    return i.toUpperCase() + "\n\n" + r + "\n\n" + zge(t48.getShaderSource(e6), n10);
  }
  return r;
}
function Vge(t48, e6) {
  let i = Gge(e6);
  return "vec4 " + t48 + "( vec4 value ) { return LinearTo" + i[0] + i[1] + "; }";
}
function Hge(t48, e6) {
  let i;
  switch (e6) {
    case ife:
      i = "Linear";
      break;
    case rfe:
      i = "Reinhard";
      break;
    case sfe:
      i = "OptimizedCineon";
      break;
    case ofe:
      i = "ACESFilmic";
      break;
    case afe:
      i = "Custom";
      break;
    default:
      console.warn("THREE.WebGLProgram: Unsupported toneMapping:", e6), i = "Linear";
  }
  return "vec3 " + t48 + "( vec3 color ) { return " + i + "ToneMapping( color ); }";
}
function jge(t48) {
  return [t48.extensionDerivatives || t48.envMapCubeUVHeight || t48.bumpMap || t48.normalMapTangentSpace || t48.clearcoatNormalMap || t48.flatShading || "physical" === t48.shaderID ? "#extension GL_OES_standard_derivatives : enable" : "", (t48.extensionFragDepth || t48.logarithmicDepthBuffer) && t48.rendererExtensionFragDepth ? "#extension GL_EXT_frag_depth : enable" : "", t48.extensionDrawBuffers && t48.rendererExtensionDrawBuffers ? "#extension GL_EXT_draw_buffers : require" : "", (t48.extensionShaderTextureLOD || t48.envMap || t48.transmission) && t48.rendererExtensionShaderTextureLod ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(ux).join("\n");
}
function Wge(t48) {
  let e6 = [];
  for (let i in t48) {
    let n = t48[i];
    false !== n && e6.push("#define " + i + " " + n);
  }
  return e6.join("\n");
}
function Yge(t48, e6) {
  let i = {}, n = t48.getProgramParameter(e6, 35721);
  for (let r = 0; r < n; r++) {
    let n10 = t48.getActiveAttrib(e6, r), o3 = n10.name, s6 = 1;
    35674 === n10.type && (s6 = 2), 35675 === n10.type && (s6 = 3), 35676 === n10.type && (s6 = 4), i[o3] = { type: n10.type, location: t48.getAttribLocation(e6, o3), locationSize: s6 };
  }
  return i;
}
function ux(t48) {
  return "" !== t48;
}
function cW(t48, e6) {
  let i = e6.numSpotLightShadows + e6.numSpotLightMaps - e6.numSpotLightShadowsWithMaps;
  return t48.replace(/NUM_DIR_LIGHTS/g, e6.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e6.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g, e6.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g, i).replace(/NUM_RECT_AREA_LIGHTS/g, e6.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e6.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e6.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, e6.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, e6.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g, e6.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, e6.numPointLightShadows);
}
function hW(t48, e6) {
  return t48.replace(/NUM_CLIPPING_PLANES/g, e6.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, e6.numClippingPlanes - e6.numClipIntersection);
}
q(zge, "handleSource"), q(Gge, "getEncodingComponents"), q(uW, "getShaderErrors"), q(Vge, "getTexelEncodingFunction"), q(Hge, "getToneMappingFunction"), q(jge, "generateExtensions"), q(Wge, "generateDefines"), q(Yge, "fetchAttributeLocations"), q(ux, "filterEmptyLine"), q(cW, "replaceLightNums"), q(hW, "replaceClippingPlaneNums");
var Xge = /^[ \t]*#include +<([\w\d./]+)>/gm;
function $6(t48) {
  return t48.replace(Xge, Zge);
}
function Zge(t48, e6) {
  let i = fn[e6];
  if (void 0 === i)
    throw new Error("Can not resolve #include <" + e6 + ">");
  return $6(i);
}
q($6, "resolveIncludes"), q(Zge, "includeReplacer");
var Qge = /#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;
function fW(t48) {
  return t48.replace(Qge, Kge);
}
function Kge(t48, e6, i, n) {
  let r = "";
  for (let t49 = parseInt(e6); t49 < parseInt(i); t49++)
    r += n.replace(/\[\s*i\s*\]/g, "[ " + t49 + " ]").replace(/UNROLLED_LOOP_INDEX/g, t49);
  return r;
}
function pW(t48) {
  let e6 = "precision " + t48.precision + " float;\nprecision " + t48.precision + " int;";
  return "highp" === t48.precision ? e6 += "\n#define HIGH_PRECISION" : "mediump" === t48.precision ? e6 += "\n#define MEDIUM_PRECISION" : "lowp" === t48.precision && (e6 += "\n#define LOW_PRECISION"), e6;
}
function Jge(t48) {
  let e6 = "SHADOWMAP_TYPE_BASIC";
  return t48.shadowMapType === NW ? e6 = "SHADOWMAP_TYPE_PCF" : t48.shadowMapType === Bhe ? e6 = "SHADOWMAP_TYPE_PCF_SOFT" : t48.shadowMapType === lx && (e6 = "SHADOWMAP_TYPE_VSM"), e6;
}
function $ge(t48) {
  let e6 = "ENVMAP_TYPE_CUBE";
  if (t48.envMap)
    switch (t48.envMapMode) {
      case xg:
      case bg:
        e6 = "ENVMAP_TYPE_CUBE";
        break;
      case OT:
        e6 = "ENVMAP_TYPE_CUBE_UV";
    }
  return e6;
}
function e0e(t48) {
  let e6 = "ENVMAP_MODE_REFLECTION";
  if (t48.envMap && t48.envMapMode === bg)
    e6 = "ENVMAP_MODE_REFRACTION";
  return e6;
}
function t0e(t48) {
  let e6 = "ENVMAP_BLENDING_NONE";
  if (t48.envMap)
    switch (t48.combine) {
      case TO:
        e6 = "ENVMAP_BLENDING_MULTIPLY";
        break;
      case tfe:
        e6 = "ENVMAP_BLENDING_MIX";
        break;
      case nfe:
        e6 = "ENVMAP_BLENDING_ADD";
    }
  return e6;
}
function n0e(t48) {
  let e6 = t48.envMapCubeUVHeight;
  if (null === e6)
    return null;
  let i = Math.log2(e6) - 2, n = 1 / e6;
  return { texelWidth: 1 / (3 * Math.max(Math.pow(2, i), 112)), texelHeight: n, maxMip: i };
}
function i0e(t48, e6, i, n) {
  let r, o3, s6 = t48.getContext(), a = i.defines, l = i.vertexShader, u2 = i.fragmentShader, h = Jge(i), c2 = $ge(i), p4 = e0e(i), d = t0e(i), f = n0e(i), g = i.isWebGL2 ? "" : jge(i), m = Wge(a), v4 = s6.createProgram(), y4 = i.glslVersion ? "#version " + i.glslVersion + "\n" : "";
  i.isRawShaderMaterial ? (r = [m].filter(ux).join("\n"), r.length > 0 && (r += "\n"), o3 = [g, m].filter(ux).join("\n"), o3.length > 0 && (o3 += "\n")) : (r = [pW(i), "#define SHADER_NAME " + i.shaderName, m, i.instancing ? "#define USE_INSTANCING" : "", i.instancingColor ? "#define USE_INSTANCING_COLOR" : "", i.useFog && i.fog ? "#define USE_FOG" : "", i.useFog && i.fogExp2 ? "#define FOG_EXP2" : "", i.map ? "#define USE_MAP" : "", i.envMap ? "#define USE_ENVMAP" : "", i.envMap ? "#define " + p4 : "", i.lightMap ? "#define USE_LIGHTMAP" : "", i.aoMap ? "#define USE_AOMAP" : "", i.bumpMap ? "#define USE_BUMPMAP" : "", i.normalMap ? "#define USE_NORMALMAP" : "", i.normalMapObjectSpace ? "#define USE_NORMALMAP_OBJECTSPACE" : "", i.normalMapTangentSpace ? "#define USE_NORMALMAP_TANGENTSPACE" : "", i.displacementMap ? "#define USE_DISPLACEMENTMAP" : "", i.emissiveMap ? "#define USE_EMISSIVEMAP" : "", i.clearcoatMap ? "#define USE_CLEARCOATMAP" : "", i.clearcoatRoughnessMap ? "#define USE_CLEARCOAT_ROUGHNESSMAP" : "", i.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", i.iridescenceMap ? "#define USE_IRIDESCENCEMAP" : "", i.iridescenceThicknessMap ? "#define USE_IRIDESCENCE_THICKNESSMAP" : "", i.specularMap ? "#define USE_SPECULARMAP" : "", i.specularColorMap ? "#define USE_SPECULAR_COLORMAP" : "", i.specularIntensityMap ? "#define USE_SPECULAR_INTENSITYMAP" : "", i.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", i.metalnessMap ? "#define USE_METALNESSMAP" : "", i.alphaMap ? "#define USE_ALPHAMAP" : "", i.transmission ? "#define USE_TRANSMISSION" : "", i.transmissionMap ? "#define USE_TRANSMISSIONMAP" : "", i.thicknessMap ? "#define USE_THICKNESSMAP" : "", i.sheenColorMap ? "#define USE_SHEEN_COLORMAP" : "", i.sheenRoughnessMap ? "#define USE_SHEEN_ROUGHNESSMAP" : "", i.mapUv ? "#define MAP_UV " + i.mapUv : "", i.alphaMapUv ? "#define ALPHAMAP_UV " + i.alphaMapUv : "", i.lightMapUv ? "#define LIGHTMAP_UV " + i.lightMapUv : "", i.aoMapUv ? "#define AOMAP_UV " + i.aoMapUv : "", i.emissiveMapUv ? "#define EMISSIVEMAP_UV " + i.emissiveMapUv : "", i.bumpMapUv ? "#define BUMPMAP_UV " + i.bumpMapUv : "", i.normalMapUv ? "#define NORMALMAP_UV " + i.normalMapUv : "", i.displacementMapUv ? "#define DISPLACEMENTMAP_UV " + i.displacementMapUv : "", i.metalnessMapUv ? "#define METALNESSMAP_UV " + i.metalnessMapUv : "", i.roughnessMapUv ? "#define ROUGHNESSMAP_UV " + i.roughnessMapUv : "", i.clearcoatMapUv ? "#define CLEARCOATMAP_UV " + i.clearcoatMapUv : "", i.clearcoatNormalMapUv ? "#define CLEARCOAT_NORMALMAP_UV " + i.clearcoatNormalMapUv : "", i.clearcoatRoughnessMapUv ? "#define CLEARCOAT_ROUGHNESSMAP_UV " + i.clearcoatRoughnessMapUv : "", i.iridescenceMapUv ? "#define IRIDESCENCEMAP_UV " + i.iridescenceMapUv : "", i.iridescenceThicknessMapUv ? "#define IRIDESCENCE_THICKNESSMAP_UV " + i.iridescenceThicknessMapUv : "", i.sheenColorMapUv ? "#define SHEEN_COLORMAP_UV " + i.sheenColorMapUv : "", i.sheenRoughnessMapUv ? "#define SHEEN_ROUGHNESSMAP_UV " + i.sheenRoughnessMapUv : "", i.specularMapUv ? "#define SPECULARMAP_UV " + i.specularMapUv : "", i.specularColorMapUv ? "#define SPECULAR_COLORMAP_UV " + i.specularColorMapUv : "", i.specularIntensityMapUv ? "#define SPECULAR_INTENSITYMAP_UV " + i.specularIntensityMapUv : "", i.transmissionMapUv ? "#define TRANSMISSIONMAP_UV " + i.transmissionMapUv : "", i.thicknessMapUv ? "#define THICKNESSMAP_UV " + i.thicknessMapUv : "", i.vertexTangents ? "#define USE_TANGENT" : "", i.vertexColors ? "#define USE_COLOR" : "", i.vertexAlphas ? "#define USE_COLOR_ALPHA" : "", i.vertexUvs2 ? "#define USE_UV2" : "", i.pointsUvs ? "#define USE_POINTS_UV" : "", i.flatShading ? "#define FLAT_SHADED" : "", i.skinning ? "#define USE_SKINNING" : "", i.morphTargets ? "#define USE_MORPHTARGETS" : "", i.morphNormals && false === i.flatShading ? "#define USE_MORPHNORMALS" : "", i.morphColors && i.isWebGL2 ? "#define USE_MORPHCOLORS" : "", i.morphTargetsCount > 0 && i.isWebGL2 ? "#define MORPHTARGETS_TEXTURE" : "", i.morphTargetsCount > 0 && i.isWebGL2 ? "#define MORPHTARGETS_TEXTURE_STRIDE " + i.morphTextureStride : "", i.morphTargetsCount > 0 && i.isWebGL2 ? "#define MORPHTARGETS_COUNT " + i.morphTargetsCount : "", i.doubleSided ? "#define DOUBLE_SIDED" : "", i.flipSided ? "#define FLIP_SIDED" : "", i.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", i.shadowMapEnabled ? "#define " + h : "", i.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", i.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", i.logarithmicDepthBuffer && i.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", "#ifdef USE_INSTANCING", "	attribute mat4 instanceMatrix;", "#endif", "#ifdef USE_INSTANCING_COLOR", "	attribute vec3 instanceColor;", "#endif", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_TANGENT", "	attribute vec4 tangent;", "#endif", "#if defined( USE_COLOR_ALPHA )", "	attribute vec4 color;", "#elif defined( USE_COLOR )", "	attribute vec3 color;", "#endif", "#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )", "	attribute vec3 morphTarget0;", "	attribute vec3 morphTarget1;", "	attribute vec3 morphTarget2;", "	attribute vec3 morphTarget3;", "	#ifdef USE_MORPHNORMALS", "		attribute vec3 morphNormal0;", "		attribute vec3 morphNormal1;", "		attribute vec3 morphNormal2;", "		attribute vec3 morphNormal3;", "	#else", "		attribute vec3 morphTarget4;", "		attribute vec3 morphTarget5;", "		attribute vec3 morphTarget6;", "		attribute vec3 morphTarget7;", "	#endif", "#endif", "#ifdef USE_SKINNING", "	attribute vec4 skinIndex;", "	attribute vec4 skinWeight;", "#endif", "\n"].filter(ux).join("\n"), o3 = [g, pW(i), "#define SHADER_NAME " + i.shaderName, m, i.useFog && i.fog ? "#define USE_FOG" : "", i.useFog && i.fogExp2 ? "#define FOG_EXP2" : "", i.map ? "#define USE_MAP" : "", i.matcap ? "#define USE_MATCAP" : "", i.envMap ? "#define USE_ENVMAP" : "", i.envMap ? "#define " + c2 : "", i.envMap ? "#define " + p4 : "", i.envMap ? "#define " + d : "", f ? "#define CUBEUV_TEXEL_WIDTH " + f.texelWidth : "", f ? "#define CUBEUV_TEXEL_HEIGHT " + f.texelHeight : "", f ? "#define CUBEUV_MAX_MIP " + f.maxMip + ".0" : "", i.lightMap ? "#define USE_LIGHTMAP" : "", i.aoMap ? "#define USE_AOMAP" : "", i.bumpMap ? "#define USE_BUMPMAP" : "", i.normalMap ? "#define USE_NORMALMAP" : "", i.normalMapObjectSpace ? "#define USE_NORMALMAP_OBJECTSPACE" : "", i.normalMapTangentSpace ? "#define USE_NORMALMAP_TANGENTSPACE" : "", i.emissiveMap ? "#define USE_EMISSIVEMAP" : "", i.clearcoat ? "#define USE_CLEARCOAT" : "", i.clearcoatMap ? "#define USE_CLEARCOATMAP" : "", i.clearcoatRoughnessMap ? "#define USE_CLEARCOAT_ROUGHNESSMAP" : "", i.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "", i.iridescence ? "#define USE_IRIDESCENCE" : "", i.iridescenceMap ? "#define USE_IRIDESCENCEMAP" : "", i.iridescenceThicknessMap ? "#define USE_IRIDESCENCE_THICKNESSMAP" : "", i.specularMap ? "#define USE_SPECULARMAP" : "", i.specularColorMap ? "#define USE_SPECULAR_COLORMAP" : "", i.specularIntensityMap ? "#define USE_SPECULAR_INTENSITYMAP" : "", i.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", i.metalnessMap ? "#define USE_METALNESSMAP" : "", i.alphaMap ? "#define USE_ALPHAMAP" : "", i.alphaTest ? "#define USE_ALPHATEST" : "", i.sheen ? "#define USE_SHEEN" : "", i.sheenColorMap ? "#define USE_SHEEN_COLORMAP" : "", i.sheenRoughnessMap ? "#define USE_SHEEN_ROUGHNESSMAP" : "", i.transmission ? "#define USE_TRANSMISSION" : "", i.transmissionMap ? "#define USE_TRANSMISSIONMAP" : "", i.thicknessMap ? "#define USE_THICKNESSMAP" : "", i.decodeVideoTexture ? "#define DECODE_VIDEO_TEXTURE" : "", i.vertexTangents ? "#define USE_TANGENT" : "", i.vertexColors || i.instancingColor ? "#define USE_COLOR" : "", i.vertexAlphas ? "#define USE_COLOR_ALPHA" : "", i.vertexUvs2 ? "#define USE_UV2" : "", i.pointsUvs ? "#define USE_POINTS_UV" : "", i.gradientMap ? "#define USE_GRADIENTMAP" : "", i.flatShading ? "#define FLAT_SHADED" : "", i.doubleSided ? "#define DOUBLE_SIDED" : "", i.flipSided ? "#define FLIP_SIDED" : "", i.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", i.shadowMapEnabled ? "#define " + h : "", i.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", i.useLegacyLights ? "#define LEGACY_LIGHTS" : "", i.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", i.logarithmicDepthBuffer && i.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", "uniform bool isOrthographic;", i.toneMapping !== Nc ? "#define TONE_MAPPING" : "", i.toneMapping !== Nc ? fn.tonemapping_pars_fragment : "", i.toneMapping !== Nc ? Hge("toneMapping", i.toneMapping) : "", i.dithering ? "#define DITHERING" : "", i.opaque ? "#define OPAQUE" : "", fn.encodings_pars_fragment, Vge("linearToOutputTexel", i.outputEncoding), i.useDepthPacking ? "#define DEPTH_PACKING " + i.depthPacking : "", "\n"].filter(ux).join("\n")), l = $6(l), l = cW(l, i), l = hW(l, i), u2 = $6(u2), u2 = cW(u2, i), u2 = hW(u2, i), l = fW(l), u2 = fW(u2), i.isWebGL2 && true !== i.isRawShaderMaterial && (y4 = "#version 300 es\n", r = ["precision mediump sampler2DArray;", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + r, o3 = ["#define varying in", i.glslVersion === Nj ? "" : "layout(location = 0) out highp vec4 pc_fragColor;", i.glslVersion === Nj ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + o3);
  let x4, _, b = y4 + o3 + u2, M = lW(s6, 35633, y4 + r + l), E = lW(s6, 35632, b);
  if (s6.attachShader(v4, M), s6.attachShader(v4, E), void 0 !== i.index0AttributeName ? s6.bindAttribLocation(v4, 0, i.index0AttributeName) : true === i.morphTargets && s6.bindAttribLocation(v4, 0, "position"), s6.linkProgram(v4), t48.debug.checkShaderErrors) {
    let e10 = s6.getProgramInfoLog(v4).trim(), i10 = s6.getShaderInfoLog(M).trim(), n10 = s6.getShaderInfoLog(E).trim(), a3 = true, l3 = true;
    if (false === s6.getProgramParameter(v4, 35714))
      if (a3 = false, "function" == typeof t48.debug.onShaderError)
        t48.debug.onShaderError(s6, v4, M, E);
      else {
        let t49 = uW(s6, M, "vertex"), i11 = uW(s6, E, "fragment");
        console.error("THREE.WebGLProgram: Shader Error " + s6.getError() + " - VALIDATE_STATUS " + s6.getProgramParameter(v4, 35715) + "\n\nProgram Info Log: " + e10 + "\n" + t49 + "\n" + i11);
      }
    else
      "" !== e10 ? console.warn("THREE.WebGLProgram: Program Info Log:", e10) : ("" === i10 || "" === n10) && (l3 = false);
    l3 && (this.diagnostics = { runnable: a3, programLog: e10, vertexShader: { log: i10, prefix: r }, fragmentShader: { log: n10, prefix: o3 } });
  }
  return s6.deleteShader(M), s6.deleteShader(E), this.getUniforms = function() {
    return void 0 === x4 && (x4 = new vg(s6, v4)), x4;
  }, this.getAttributes = function() {
    return void 0 === _ && (_ = Yge(s6, v4)), _;
  }, this.destroy = function() {
    n.releaseStatesOfProgram(this), s6.deleteProgram(v4), this.program = void 0;
  }, this.name = i.shaderName, this.id = Uge++, this.cacheKey = e6, this.usedTimes = 1, this.program = v4, this.vertexShader = M, this.fragmentShader = E, this;
}
q(fW, "unrollLoops"), q(Kge, "loopReplacer"), q(pW, "generatePrecision"), q(Jge, "generateShadowMapTypeDefine"), q($ge, "generateEnvMapTypeDefine"), q(e0e, "generateEnvMapModeDefine"), q(t0e, "generateEnvMapBlendingDefine"), q(n0e, "generateCubeUVSize"), q(i0e, "WebGLProgram");
var r0e = 0;
var mL = class {
  constructor() {
    this.shaderCache = /* @__PURE__ */ new Map(), this.materialCache = /* @__PURE__ */ new Map();
  }
  update(t48) {
    let e6 = t48.vertexShader, i = t48.fragmentShader, n = this._getShaderStage(e6), r = this._getShaderStage(i), o3 = this._getShaderCacheForMaterial(t48);
    return false === o3.has(n) && (o3.add(n), n.usedTimes++), false === o3.has(r) && (o3.add(r), r.usedTimes++), this;
  }
  remove(t48) {
    let e6 = this.materialCache.get(t48);
    for (let t49 of e6)
      t49.usedTimes--, 0 === t49.usedTimes && this.shaderCache.delete(t49.code);
    return this.materialCache.delete(t48), this;
  }
  getVertexShaderID(t48) {
    return this._getShaderStage(t48.vertexShader).id;
  }
  getFragmentShaderID(t48) {
    return this._getShaderStage(t48.fragmentShader).id;
  }
  dispose() {
    this.shaderCache.clear(), this.materialCache.clear();
  }
  _getShaderCacheForMaterial(t48) {
    let e6 = this.materialCache, i = e6.get(t48);
    return void 0 === i && (i = /* @__PURE__ */ new Set(), e6.set(t48, i)), i;
  }
  _getShaderStage(t48) {
    let e6 = this.shaderCache, i = e6.get(t48);
    return void 0 === i && (i = new tO(t48), e6.set(t48, i)), i;
  }
};
q(mL, "WebGLShaderCache");
var eO = mL;
var gL = class {
  constructor(t48) {
    this.id = r0e++, this.code = t48, this.usedTimes = 0;
  }
};
q(gL, "WebGLShaderStage");
var tO = gL;
function s0e(t48, e6, i, n, r, o3, s6) {
  let a = new wx(), l = new eO(), h = [], c2 = r.isWebGL2, p4 = r.logarithmicDepthBuffer, d = r.vertexTextures, f = r.precision, g = { MeshDepthMaterial: "depth", MeshDistanceMaterial: "distanceRGBA", MeshNormalMaterial: "normal", MeshBasicMaterial: "basic", MeshLambertMaterial: "lambert", MeshPhongMaterial: "phong", MeshToonMaterial: "toon", MeshStandardMaterial: "physical", MeshPhysicalMaterial: "physical", MeshMatcapMaterial: "matcap", LineBasicMaterial: "basic", LineDashedMaterial: "dashed", PointsMaterial: "points", ShadowMaterial: "shadow", SpriteMaterial: "sprite" };
  function m(t49) {
    return 1 === t49 ? "uv2" : "uv";
  }
  function v4(o6, a3, u2, h2, v10) {
    let y10 = h2.fog, x10 = v10.geometry, _4 = o6.isMeshStandardMaterial ? h2.environment : null, b4 = (o6.isMeshStandardMaterial ? i : e6).get(o6.envMap || _4), M4 = b4 && b4.mapping === OT ? b4.image.height : null, E4 = g[o6.type];
    null !== o6.precision && (f = r.getMaxPrecision(o6.precision), f !== o6.precision && console.warn("THREE.WebGLProgram.getParameters:", o6.precision, "not supported, using", f, "instead."));
    let w10, A4, S, T, C = x10.morphAttributes.position || x10.morphAttributes.normal || x10.morphAttributes.color, P = void 0 !== C ? C.length : 0, I = 0;
    if (void 0 !== x10.morphAttributes.position && (I = 1), void 0 !== x10.morphAttributes.normal && (I = 2), void 0 !== x10.morphAttributes.color && (I = 3), E4) {
      let t49 = Su[E4];
      w10 = t49.vertexShader, A4 = t49.fragmentShader;
    } else
      w10 = o6.vertexShader, A4 = o6.fragmentShader, l.update(o6), S = l.getVertexShaderID(o6), T = l.getFragmentShaderID(o6);
    let L = t48.getRenderTarget(), O = true === v10.isInstancedMesh, N = !!o6.map, D = !!o6.matcap, R = !!b4, q4 = !!o6.aoMap, B = !!o6.lightMap, k = !!o6.bumpMap, F = !!o6.normalMap, U = !!o6.displacementMap, z = !!o6.emissiveMap, V = !!o6.metalnessMap, j = !!o6.roughnessMap, G = o6.clearcoat > 0, W = o6.iridescence > 0, H = o6.sheen > 0, Y = o6.transmission > 0, X = G && !!o6.clearcoatMap, K10 = G && !!o6.clearcoatNormalMap, Z = G && !!o6.clearcoatRoughnessMap, Q = W && !!o6.iridescenceMap, J = W && !!o6.iridescenceThicknessMap, $ = H && !!o6.sheenColorMap, tt = H && !!o6.sheenRoughnessMap, et = !!o6.specularMap, it = !!o6.specularColorMap, nt2 = !!o6.specularIntensityMap, rt = Y && !!o6.transmissionMap, ot = Y && !!o6.thicknessMap, st = !!o6.gradientMap, at2 = !!o6.alphaMap, lt = o6.alphaTest > 0, ut = !!o6.extensions, ht2 = !!x10.attributes.uv2;
    return { isWebGL2: c2, shaderID: E4, shaderName: o6.type, vertexShader: w10, fragmentShader: A4, defines: o6.defines, customVertexShaderID: S, customFragmentShaderID: T, isRawShaderMaterial: true === o6.isRawShaderMaterial, glslVersion: o6.glslVersion, precision: f, instancing: O, instancingColor: O && null !== v10.instanceColor, supportsVertexTextures: d, outputEncoding: null === L ? t48.outputEncoding : true === L.isXRRenderTarget ? L.texture.encoding : rl, map: N, matcap: D, envMap: R, envMapMode: R && b4.mapping, envMapCubeUVHeight: M4, aoMap: q4, lightMap: B, bumpMap: k, normalMap: F, displacementMap: d && U, emissiveMap: z, normalMapObjectSpace: F && o6.normalMapType === wfe, normalMapTangentSpace: F && o6.normalMapType === CO, decodeVideoTexture: N && true === o6.map.isVideoTexture && o6.map.encoding === ai, metalnessMap: V, roughnessMap: j, clearcoat: G, clearcoatMap: X, clearcoatNormalMap: K10, clearcoatRoughnessMap: Z, iridescence: W, iridescenceMap: Q, iridescenceThicknessMap: J, sheen: H, sheenColorMap: $, sheenRoughnessMap: tt, specularMap: et, specularColorMap: it, specularIntensityMap: nt2, transmission: Y, transmissionMap: rt, thicknessMap: ot, gradientMap: st, opaque: false === o6.transparent && o6.blending === mg, alphaMap: at2, alphaTest: lt, combine: o6.combine, mapUv: N && m(o6.map.channel), aoMapUv: q4 && m(o6.aoMap.channel), lightMapUv: B && m(o6.lightMap.channel), bumpMapUv: k && m(o6.bumpMap.channel), normalMapUv: F && m(o6.normalMap.channel), displacementMapUv: U && m(o6.displacementMap.channel), emissiveMapUv: z && m(o6.emissiveMap.channel), metalnessMapUv: V && m(o6.metalnessMap.channel), roughnessMapUv: j && m(o6.roughnessMap.channel), clearcoatMapUv: X && m(o6.clearcoatMap.channel), clearcoatNormalMapUv: K10 && m(o6.clearcoatNormalMap.channel), clearcoatRoughnessMapUv: Z && m(o6.clearcoatRoughnessMap.channel), iridescenceMapUv: Q && m(o6.iridescenceMap.channel), iridescenceThicknessMapUv: J && m(o6.iridescenceThicknessMap.channel), sheenColorMapUv: $ && m(o6.sheenColorMap.channel), sheenRoughnessMapUv: tt && m(o6.sheenRoughnessMap.channel), specularMapUv: et && m(o6.specularMap.channel), specularColorMapUv: it && m(o6.specularColorMap.channel), specularIntensityMapUv: nt2 && m(o6.specularIntensityMap.channel), transmissionMapUv: rt && m(o6.transmissionMap.channel), thicknessMapUv: ot && m(o6.thicknessMap.channel), alphaMapUv: at2 && m(o6.alphaMap.channel), vertexTangents: F && !!x10.attributes.tangent, vertexColors: o6.vertexColors, vertexAlphas: true === o6.vertexColors && !!x10.attributes.color && 4 === x10.attributes.color.itemSize, vertexUvs2: ht2, pointsUvs: true === v10.isPoints && !!x10.attributes.uv && (N || at2), fog: !!y10, useFog: true === o6.fog, fogExp2: y10 && y10.isFogExp2, flatShading: true === o6.flatShading, sizeAttenuation: true === o6.sizeAttenuation, logarithmicDepthBuffer: p4, skinning: true === v10.isSkinnedMesh, morphTargets: void 0 !== x10.morphAttributes.position, morphNormals: void 0 !== x10.morphAttributes.normal, morphColors: void 0 !== x10.morphAttributes.color, morphTargetsCount: P, morphTextureStride: I, numDirLights: a3.directional.length, numPointLights: a3.point.length, numSpotLights: a3.spot.length, numSpotLightMaps: a3.spotLightMap.length, numRectAreaLights: a3.rectArea.length, numHemiLights: a3.hemi.length, numDirLightShadows: a3.directionalShadowMap.length, numPointLightShadows: a3.pointShadowMap.length, numSpotLightShadows: a3.spotShadowMap.length, numSpotLightShadowsWithMaps: a3.numSpotLightShadowsWithMaps, numClippingPlanes: s6.numPlanes, numClipIntersection: s6.numIntersection, dithering: o6.dithering, shadowMapEnabled: t48.shadowMap.enabled && u2.length > 0, shadowMapType: t48.shadowMap.type, toneMapping: o6.toneMapped ? t48.toneMapping : Nc, useLegacyLights: t48.useLegacyLights, premultipliedAlpha: o6.premultipliedAlpha, doubleSided: o6.side === Dr, flipSided: o6.side === _s, useDepthPacking: o6.depthPacking >= 0, depthPacking: o6.depthPacking || 0, index0AttributeName: o6.index0AttributeName, extensionDerivatives: ut && true === o6.extensions.derivatives, extensionFragDepth: ut && true === o6.extensions.fragDepth, extensionDrawBuffers: ut && true === o6.extensions.drawBuffers, extensionShaderTextureLOD: ut && true === o6.extensions.shaderTextureLOD, rendererExtensionFragDepth: c2 || n.has("EXT_frag_depth"), rendererExtensionDrawBuffers: c2 || n.has("WEBGL_draw_buffers"), rendererExtensionShaderTextureLod: c2 || n.has("EXT_shader_texture_lod"), customProgramCacheKey: o6.customProgramCacheKey() };
  }
  function y4(e10) {
    let i10 = [];
    if (e10.shaderID ? i10.push(e10.shaderID) : (i10.push(e10.customVertexShaderID), i10.push(e10.customFragmentShaderID)), void 0 !== e10.defines)
      for (let t49 in e10.defines)
        i10.push(t49), i10.push(e10.defines[t49]);
    return false === e10.isRawShaderMaterial && (x4(i10, e10), _(i10, e10), i10.push(t48.outputEncoding)), i10.push(e10.customProgramCacheKey), i10.join();
  }
  function x4(t49, e10) {
    t49.push(e10.precision), t49.push(e10.outputEncoding), t49.push(e10.envMapMode), t49.push(e10.envMapCubeUVHeight), t49.push(e10.mapUv), t49.push(e10.alphaMapUv), t49.push(e10.lightMapUv), t49.push(e10.aoMapUv), t49.push(e10.bumpMapUv), t49.push(e10.normalMapUv), t49.push(e10.displacementMapUv), t49.push(e10.emissiveMapUv), t49.push(e10.metalnessMapUv), t49.push(e10.roughnessMapUv), t49.push(e10.clearcoatMapUv), t49.push(e10.clearcoatNormalMapUv), t49.push(e10.clearcoatRoughnessMapUv), t49.push(e10.iridescenceMapUv), t49.push(e10.iridescenceThicknessMapUv), t49.push(e10.sheenColorMapUv), t49.push(e10.sheenRoughnessMapUv), t49.push(e10.specularMapUv), t49.push(e10.specularColorMapUv), t49.push(e10.specularIntensityMapUv), t49.push(e10.transmissionMapUv), t49.push(e10.thicknessMapUv), t49.push(e10.combine), t49.push(e10.fogExp2), t49.push(e10.sizeAttenuation), t49.push(e10.morphTargetsCount), t49.push(e10.morphAttributeCount), t49.push(e10.numDirLights), t49.push(e10.numPointLights), t49.push(e10.numSpotLights), t49.push(e10.numSpotLightMaps), t49.push(e10.numHemiLights), t49.push(e10.numRectAreaLights), t49.push(e10.numDirLightShadows), t49.push(e10.numPointLightShadows), t49.push(e10.numSpotLightShadows), t49.push(e10.numSpotLightShadowsWithMaps), t49.push(e10.shadowMapType), t49.push(e10.toneMapping), t49.push(e10.numClippingPlanes), t49.push(e10.numClipIntersection), t49.push(e10.depthPacking);
  }
  function _(t49, e10) {
    a.disableAll(), e10.isWebGL2 && a.enable(0), e10.supportsVertexTextures && a.enable(1), e10.instancing && a.enable(2), e10.instancingColor && a.enable(3), e10.matcap && a.enable(4), e10.envMap && a.enable(5), e10.normalMapObjectSpace && a.enable(6), e10.normalMapTangentSpace && a.enable(7), e10.clearcoat && a.enable(8), e10.iridescence && a.enable(9), e10.alphaTest && a.enable(10), e10.vertexColors && a.enable(11), e10.vertexAlphas && a.enable(12), e10.vertexUvs2 && a.enable(13), e10.vertexTangents && a.enable(14), t49.push(a.mask), a.disableAll(), e10.fog && a.enable(0), e10.useFog && a.enable(1), e10.flatShading && a.enable(2), e10.logarithmicDepthBuffer && a.enable(3), e10.skinning && a.enable(4), e10.morphTargets && a.enable(5), e10.morphNormals && a.enable(6), e10.morphColors && a.enable(7), e10.premultipliedAlpha && a.enable(8), e10.shadowMapEnabled && a.enable(9), e10.useLegacyLights && a.enable(10), e10.doubleSided && a.enable(11), e10.flipSided && a.enable(12), e10.useDepthPacking && a.enable(13), e10.dithering && a.enable(14), e10.transmission && a.enable(15), e10.sheen && a.enable(16), e10.decodeVideoTexture && a.enable(17), e10.opaque && a.enable(18), e10.pointsUvs && a.enable(19), t49.push(a.mask);
  }
  function b(t49) {
    let e10, i10 = g[t49.type];
    if (i10) {
      let t50 = Su[i10];
      e10 = tpe.clone(t50.uniforms);
    } else
      e10 = t49.uniforms;
    return e10;
  }
  function M(e10, i10) {
    let n10;
    for (let t49 = 0, e11 = h.length; t49 < e11; t49++) {
      let e12 = h[t49];
      if (e12.cacheKey === i10) {
        n10 = e12, ++n10.usedTimes;
        break;
      }
    }
    return void 0 === n10 && (n10 = new i0e(t48, i10, e10, o3), h.push(n10)), n10;
  }
  function E(t49) {
    if (0 == --t49.usedTimes) {
      let e10 = h.indexOf(t49);
      h[e10] = h[h.length - 1], h.pop(), t49.destroy();
    }
  }
  function w4(t49) {
    l.remove(t49);
  }
  function A() {
    l.dispose();
  }
  return q(m, "getChannel"), q(v4, "getParameters"), q(y4, "getProgramCacheKey"), q(x4, "getProgramCacheKeyParameters"), q(_, "getProgramCacheKeyBooleans"), q(b, "getUniforms"), q(M, "acquireProgram"), q(E, "releaseProgram"), q(w4, "releaseShaderCache"), q(A, "dispose"), { getParameters: v4, getProgramCacheKey: y4, getUniforms: b, acquireProgram: M, releaseProgram: E, releaseShaderCache: w4, programs: h, dispose: A };
}
function o0e() {
  let t48 = /* @__PURE__ */ new WeakMap();
  function e6(e10) {
    let i10 = t48.get(e10);
    return void 0 === i10 && (i10 = {}, t48.set(e10, i10)), i10;
  }
  function i(e10) {
    t48.delete(e10);
  }
  function n(e10, i10, n10) {
    t48.get(e10)[i10] = n10;
  }
  function r() {
    t48 = /* @__PURE__ */ new WeakMap();
  }
  return q(e6, "get"), q(i, "remove"), q(n, "update"), q(r, "dispose"), { get: e6, remove: i, update: n, dispose: r };
}
function a0e(t48, e6) {
  return t48.groupOrder !== e6.groupOrder ? t48.groupOrder - e6.groupOrder : t48.renderOrder !== e6.renderOrder ? t48.renderOrder - e6.renderOrder : t48.material.id !== e6.material.id ? t48.material.id - e6.material.id : t48.z !== e6.z ? t48.z - e6.z : t48.id - e6.id;
}
function dW(t48, e6) {
  return t48.groupOrder !== e6.groupOrder ? t48.groupOrder - e6.groupOrder : t48.renderOrder !== e6.renderOrder ? t48.renderOrder - e6.renderOrder : t48.z !== e6.z ? e6.z - t48.z : t48.id - e6.id;
}
function mW() {
  let t48 = [], e6 = 0, i = [], n = [], r = [];
  function o3() {
    e6 = 0, i.length = 0, n.length = 0, r.length = 0;
  }
  function s6(i10, n10, r6, o6, s10, a3) {
    let l3 = t48[e6];
    return void 0 === l3 ? (l3 = { id: i10.id, object: i10, geometry: n10, material: r6, groupOrder: o6, renderOrder: i10.renderOrder, z: s10, group: a3 }, t48[e6] = l3) : (l3.id = i10.id, l3.object = i10, l3.geometry = n10, l3.material = r6, l3.groupOrder = o6, l3.renderOrder = i10.renderOrder, l3.z = s10, l3.group = a3), e6++, l3;
  }
  function a(t49, e10, o6, a3, l3, u2) {
    let h2 = s6(t49, e10, o6, a3, l3, u2);
    o6.transmission > 0 ? n.push(h2) : true === o6.transparent ? r.push(h2) : i.push(h2);
  }
  function l(t49, e10, o6, a3, l3, u2) {
    let h2 = s6(t49, e10, o6, a3, l3, u2);
    o6.transmission > 0 ? n.unshift(h2) : true === o6.transparent ? r.unshift(h2) : i.unshift(h2);
  }
  function h(t49, e10) {
    i.length > 1 && i.sort(t49 || a0e), n.length > 1 && n.sort(e10 || dW), r.length > 1 && r.sort(e10 || dW);
  }
  function c2() {
    for (let i10 = e6, n10 = t48.length; i10 < n10; i10++) {
      let e10 = t48[i10];
      if (null === e10.id)
        break;
      e10.id = null, e10.object = null, e10.geometry = null, e10.material = null, e10.group = null;
    }
  }
  return q(o3, "init"), q(s6, "getNextRenderItem"), q(a, "push"), q(l, "unshift"), q(h, "sort"), q(c2, "finish"), { opaque: i, transmissive: n, transparent: r, init: o3, push: a, unshift: l, finish: c2, sort: h };
}
function l0e() {
  let t48 = /* @__PURE__ */ new WeakMap();
  function e6(e10, i10) {
    let n, r = t48.get(e10);
    return void 0 === r ? (n = new mW(), t48.set(e10, [n])) : i10 >= r.length ? (n = new mW(), r.push(n)) : n = r[i10], n;
  }
  function i() {
    t48 = /* @__PURE__ */ new WeakMap();
  }
  return q(e6, "get"), q(i, "dispose"), { get: e6, dispose: i };
}
function u0e() {
  let t48 = {};
  return { get: function(e6) {
    if (void 0 !== t48[e6.id])
      return t48[e6.id];
    let i;
    switch (e6.type) {
      case "DirectionalLight":
        i = { direction: new K(), color: new at() };
        break;
      case "SpotLight":
        i = { position: new K(), direction: new K(), color: new at(), distance: 0, coneCos: 0, penumbraCos: 0, decay: 0 };
        break;
      case "PointLight":
        i = { position: new K(), color: new at(), distance: 0, decay: 0 };
        break;
      case "HemisphereLight":
        i = { direction: new K(), skyColor: new at(), groundColor: new at() };
        break;
      case "RectAreaLight":
        i = { color: new at(), position: new K(), halfWidth: new K(), halfHeight: new K() };
    }
    return t48[e6.id] = i, i;
  } };
}
function c0e() {
  let t48 = {};
  return { get: function(e6) {
    if (void 0 !== t48[e6.id])
      return t48[e6.id];
    let i;
    switch (e6.type) {
      case "DirectionalLight":
      case "SpotLight":
        i = { shadowBias: 0, shadowNormalBias: 0, shadowRadius: 1, shadowMapSize: new qe() };
        break;
      case "PointLight":
        i = { shadowBias: 0, shadowNormalBias: 0, shadowRadius: 1, shadowMapSize: new qe(), shadowCameraNear: 1, shadowCameraFar: 1e3 };
    }
    return t48[e6.id] = i, i;
  } };
}
q(s0e, "WebGLPrograms"), q(o0e, "WebGLProperties"), q(a0e, "painterSortStable"), q(dW, "reversePainterSortStable"), q(mW, "WebGLRenderList"), q(l0e, "WebGLRenderLists"), q(u0e, "UniformsCache"), q(c0e, "ShadowUniformsCache");
var h0e = 0;
function f0e(t48, e6) {
  return (e6.castShadow ? 2 : 0) - (t48.castShadow ? 2 : 0) + (e6.map ? 1 : 0) - (t48.map ? 1 : 0);
}
function p0e(t48, e6) {
  let i = new u0e(), n = c0e(), r = { version: 0, hash: { directionalLength: -1, pointLength: -1, spotLength: -1, rectAreaLength: -1, hemiLength: -1, numDirectionalShadows: -1, numPointShadows: -1, numSpotShadows: -1, numSpotMaps: -1 }, ambient: [0, 0, 0], probe: [], directional: [], directionalShadow: [], directionalShadowMap: [], directionalShadowMatrix: [], spot: [], spotLightMap: [], spotShadow: [], spotShadowMap: [], spotLightMatrix: [], rectArea: [], rectAreaLTC1: null, rectAreaLTC2: null, point: [], pointShadow: [], pointShadowMap: [], pointShadowMatrix: [], hemi: [], numSpotLightShadowsWithMaps: 0 };
  for (let t49 = 0; t49 < 9; t49++)
    r.probe.push(new K());
  let o3 = new K(), s6 = new Ot(), a = new Ot();
  function l(o6, s10) {
    let a3 = 0, l3 = 0, u2 = 0;
    for (let t49 = 0; t49 < 9; t49++)
      r.probe[t49].set(0, 0, 0);
    let h2 = 0, c2 = 0, p4 = 0, d = 0, f = 0, g = 0, m = 0, v4 = 0, y4 = 0, x4 = 0;
    o6.sort(f0e);
    let _ = true === s10 ? Math.PI : 1;
    for (let t49 = 0, e10 = o6.length; t49 < e10; t49++) {
      let e11 = o6[t49], s11 = e11.color, b4 = e11.intensity, M = e11.distance, E = e11.shadow && e11.shadow.map ? e11.shadow.map.texture : null;
      if (e11.isAmbientLight)
        a3 += s11.r * b4 * _, l3 += s11.g * b4 * _, u2 += s11.b * b4 * _;
      else if (e11.isLightProbe)
        for (let t50 = 0; t50 < 9; t50++)
          r.probe[t50].addScaledVector(e11.sh.coefficients[t50], b4);
      else if (e11.isDirectionalLight) {
        let t50 = i.get(e11);
        if (t50.color.copy(e11.color).multiplyScalar(e11.intensity * _), e11.castShadow) {
          let t51 = e11.shadow, i10 = n.get(e11);
          i10.shadowBias = t51.bias, i10.shadowNormalBias = t51.normalBias, i10.shadowRadius = t51.radius, i10.shadowMapSize = t51.mapSize, r.directionalShadow[h2] = i10, r.directionalShadowMap[h2] = E, r.directionalShadowMatrix[h2] = e11.shadow.matrix, g++;
        }
        r.directional[h2] = t50, h2++;
      } else if (e11.isSpotLight) {
        let t50 = i.get(e11);
        t50.position.setFromMatrixPosition(e11.matrixWorld), t50.color.copy(s11).multiplyScalar(b4 * _), t50.distance = M, t50.coneCos = Math.cos(e11.angle), t50.penumbraCos = Math.cos(e11.angle * (1 - e11.penumbra)), t50.decay = e11.decay, r.spot[p4] = t50;
        let o7 = e11.shadow;
        if (e11.map && (r.spotLightMap[y4] = e11.map, y4++, o7.updateMatrices(e11), e11.castShadow && x4++), r.spotLightMatrix[p4] = o7.matrix, e11.castShadow) {
          let t51 = n.get(e11);
          t51.shadowBias = o7.bias, t51.shadowNormalBias = o7.normalBias, t51.shadowRadius = o7.radius, t51.shadowMapSize = o7.mapSize, r.spotShadow[p4] = t51, r.spotShadowMap[p4] = E, v4++;
        }
        p4++;
      } else if (e11.isRectAreaLight) {
        let t50 = i.get(e11);
        t50.color.copy(s11).multiplyScalar(b4), t50.halfWidth.set(0.5 * e11.width, 0, 0), t50.halfHeight.set(0, 0.5 * e11.height, 0), r.rectArea[d] = t50, d++;
      } else if (e11.isPointLight) {
        let t50 = i.get(e11);
        if (t50.color.copy(e11.color).multiplyScalar(e11.intensity * _), t50.distance = e11.distance, t50.decay = e11.decay, e11.castShadow) {
          let t51 = e11.shadow, i10 = n.get(e11);
          i10.shadowBias = t51.bias, i10.shadowNormalBias = t51.normalBias, i10.shadowRadius = t51.radius, i10.shadowMapSize = t51.mapSize, i10.shadowCameraNear = t51.camera.near, i10.shadowCameraFar = t51.camera.far, r.pointShadow[c2] = i10, r.pointShadowMap[c2] = E, r.pointShadowMatrix[c2] = e11.shadow.matrix, m++;
        }
        r.point[c2] = t50, c2++;
      } else if (e11.isHemisphereLight) {
        let t50 = i.get(e11);
        t50.skyColor.copy(e11.color).multiplyScalar(b4 * _), t50.groundColor.copy(e11.groundColor).multiplyScalar(b4 * _), r.hemi[f] = t50, f++;
      }
    }
    d > 0 && (e6.isWebGL2 || true === t48.has("OES_texture_float_linear") ? (r.rectAreaLTC1 = mt.LTC_FLOAT_1, r.rectAreaLTC2 = mt.LTC_FLOAT_2) : true === t48.has("OES_texture_half_float_linear") ? (r.rectAreaLTC1 = mt.LTC_HALF_1, r.rectAreaLTC2 = mt.LTC_HALF_2) : console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")), r.ambient[0] = a3, r.ambient[1] = l3, r.ambient[2] = u2;
    let b = r.hash;
    (b.directionalLength !== h2 || b.pointLength !== c2 || b.spotLength !== p4 || b.rectAreaLength !== d || b.hemiLength !== f || b.numDirectionalShadows !== g || b.numPointShadows !== m || b.numSpotShadows !== v4 || b.numSpotMaps !== y4) && (r.directional.length = h2, r.spot.length = p4, r.rectArea.length = d, r.point.length = c2, r.hemi.length = f, r.directionalShadow.length = g, r.directionalShadowMap.length = g, r.pointShadow.length = m, r.pointShadowMap.length = m, r.spotShadow.length = v4, r.spotShadowMap.length = v4, r.directionalShadowMatrix.length = g, r.pointShadowMatrix.length = m, r.spotLightMatrix.length = v4 + y4 - x4, r.spotLightMap.length = y4, r.numSpotLightShadowsWithMaps = x4, b.directionalLength = h2, b.pointLength = c2, b.spotLength = p4, b.rectAreaLength = d, b.hemiLength = f, b.numDirectionalShadows = g, b.numPointShadows = m, b.numSpotShadows = v4, b.numSpotMaps = y4, r.version = h0e++);
  }
  function h(t49, e10) {
    let i10 = 0, n10 = 0, l3 = 0, u2 = 0, h2 = 0, c2 = e10.matrixWorldInverse;
    for (let e11 = 0, p4 = t49.length; e11 < p4; e11++) {
      let p10 = t49[e11];
      if (p10.isDirectionalLight) {
        let t50 = r.directional[i10];
        t50.direction.setFromMatrixPosition(p10.matrixWorld), o3.setFromMatrixPosition(p10.target.matrixWorld), t50.direction.sub(o3), t50.direction.transformDirection(c2), i10++;
      } else if (p10.isSpotLight) {
        let t50 = r.spot[l3];
        t50.position.setFromMatrixPosition(p10.matrixWorld), t50.position.applyMatrix4(c2), t50.direction.setFromMatrixPosition(p10.matrixWorld), o3.setFromMatrixPosition(p10.target.matrixWorld), t50.direction.sub(o3), t50.direction.transformDirection(c2), l3++;
      } else if (p10.isRectAreaLight) {
        let t50 = r.rectArea[u2];
        t50.position.setFromMatrixPosition(p10.matrixWorld), t50.position.applyMatrix4(c2), a.identity(), s6.copy(p10.matrixWorld), s6.premultiply(c2), a.extractRotation(s6), t50.halfWidth.set(0.5 * p10.width, 0, 0), t50.halfHeight.set(0, 0.5 * p10.height, 0), t50.halfWidth.applyMatrix4(a), t50.halfHeight.applyMatrix4(a), u2++;
      } else if (p10.isPointLight) {
        let t50 = r.point[n10];
        t50.position.setFromMatrixPosition(p10.matrixWorld), t50.position.applyMatrix4(c2), n10++;
      } else if (p10.isHemisphereLight) {
        let t50 = r.hemi[h2];
        t50.direction.setFromMatrixPosition(p10.matrixWorld), t50.direction.transformDirection(c2), h2++;
      }
    }
  }
  return q(l, "setup"), q(h, "setupView"), { setup: l, setupView: h, state: r };
}
function gW(t48, e6) {
  let i = new p0e(t48, e6), n = [], r = [];
  function o3() {
    n.length = 0, r.length = 0;
  }
  function s6(t49) {
    n.push(t49);
  }
  function a(t49) {
    r.push(t49);
  }
  function l(t49) {
    i.setup(n, t49);
  }
  function h(t49) {
    i.setupView(n, t49);
  }
  return q(o3, "init"), q(s6, "pushLight"), q(a, "pushShadow"), q(l, "setupLights"), q(h, "setupLightsView"), { init: o3, state: { lightsArray: n, shadowsArray: r, lights: i }, setupLights: l, setupLightsView: h, pushLight: s6, pushShadow: a };
}
function d0e(t48, e6) {
  let i = /* @__PURE__ */ new WeakMap();
  function n(n10, r6 = 0) {
    let o3, s6 = i.get(n10);
    return void 0 === s6 ? (o3 = new gW(t48, e6), i.set(n10, [o3])) : r6 >= s6.length ? (o3 = new gW(t48, e6), s6.push(o3)) : o3 = s6[r6], o3;
  }
  function r() {
    i = /* @__PURE__ */ new WeakMap();
  }
  return q(n, "get"), q(r, "dispose"), { get: n, dispose: r };
}
q(f0e, "shadowCastingAndTexturingLightsFirst"), q(p0e, "WebGLLights"), q(gW, "WebGLRenderState"), q(d0e, "WebGLRenderStates");
var vL = class extends ha {
  constructor(t48) {
    super(), this.isMeshDepthMaterial = true, this.type = "MeshDepthMaterial", this.depthPacking = da, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = false, this.wireframeLinewidth = 1, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.depthPacking = t48.depthPacking, this.map = t48.map, this.alphaMap = t48.alphaMap, this.displacementMap = t48.displacementMap, this.displacementScale = t48.displacementScale, this.displacementBias = t48.displacementBias, this.wireframe = t48.wireframe, this.wireframeLinewidth = t48.wireframeLinewidth, this;
  }
};
q(vL, "MeshDepthMaterial");
var Mx = vL;
var yL = class extends ha {
  constructor(t48) {
    super(), this.isMeshDistanceMaterial = true, this.type = "MeshDistanceMaterial", this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.map = t48.map, this.alphaMap = t48.alphaMap, this.displacementMap = t48.displacementMap, this.displacementScale = t48.displacementScale, this.displacementBias = t48.displacementBias, this;
  }
};
q(yL, "MeshDistanceMaterial");
var nO = yL;
var m0e = "void main() {\n	gl_Position = vec4( position, 1.0 );\n}";
var g0e = "uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";
function v0e(t48, e6, i) {
  let n = new kc(), r = new qe(), o3 = new qe(), s6 = new Fi(), a = new Mx({ depthPacking: Ig }), l = new nO(), h = {}, c2 = i.maxTextureSize, p4 = { [Pa]: _s, [_s]: Pa, [Dr]: Dr }, d = new Xt({ defines: { VSM_SAMPLES: 8 }, uniforms: { shadow_pass: { value: null }, resolution: { value: new qe() }, radius: { value: 4 } }, vertexShader: m0e, fragmentShader: g0e }), f = d.clone();
  f.defines.HORIZONTAL_PASS = 1;
  let g = new Ji();
  g.setAttribute("position", new rn(new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]), 3));
  let m = new Ft(g, d), v4 = this;
  function y4(i10, n10) {
    let o6 = e6.update(m);
    d.defines.VSM_SAMPLES !== i10.blurSamples && (d.defines.VSM_SAMPLES = i10.blurSamples, f.defines.VSM_SAMPLES = i10.blurSamples, d.needsUpdate = true, f.needsUpdate = true), null === i10.mapPass && (i10.mapPass = new ti(r.x, r.y)), d.uniforms.shadow_pass.value = i10.map.texture, d.uniforms.resolution.value = i10.mapSize, d.uniforms.radius.value = i10.radius, t48.setRenderTarget(i10.mapPass), t48.clear(), t48.renderBufferDirect(n10, null, o6, d, m, null), f.uniforms.shadow_pass.value = i10.mapPass.texture, f.uniforms.resolution.value = i10.mapSize, f.uniforms.radius.value = i10.radius, t48.setRenderTarget(i10.map), t48.clear(), t48.renderBufferDirect(n10, null, o6, f, m, null);
  }
  function x4(e10, i10, n10, r6) {
    let o6 = null, s10 = true === n10.isPointLight ? e10.customDistanceMaterial : e10.customDepthMaterial;
    if (void 0 !== s10)
      o6 = s10;
    else if (o6 = true === n10.isPointLight ? l : a, t48.localClippingEnabled && true === i10.clipShadows && Array.isArray(i10.clippingPlanes) && 0 !== i10.clippingPlanes.length || i10.displacementMap && 0 !== i10.displacementScale || i10.alphaMap && i10.alphaTest > 0 || i10.map && i10.alphaTest > 0) {
      let t49 = o6.uuid, e11 = i10.uuid, n11 = h[t49];
      void 0 === n11 && (n11 = {}, h[t49] = n11);
      let r10 = n11[e11];
      void 0 === r10 && (r10 = o6.clone(), n11[e11] = r10), o6 = r10;
    }
    if (o6.visible = i10.visible, o6.wireframe = i10.wireframe, o6.side = r6 === lx ? null !== i10.shadowSide ? i10.shadowSide : i10.side : null !== i10.shadowSide ? i10.shadowSide : p4[i10.side], o6.alphaMap = i10.alphaMap, o6.alphaTest = i10.alphaTest, o6.map = i10.map, o6.clipShadows = i10.clipShadows, o6.clippingPlanes = i10.clippingPlanes, o6.clipIntersection = i10.clipIntersection, o6.displacementMap = i10.displacementMap, o6.displacementScale = i10.displacementScale, o6.displacementBias = i10.displacementBias, o6.wireframeLinewidth = i10.wireframeLinewidth, o6.linewidth = i10.linewidth, true === n10.isPointLight && true === o6.isMeshDistanceMaterial) {
      t48.properties.get(o6).light = n10;
    }
    return o6;
  }
  function _(i10, r6, o6, s10, a3) {
    if (false === i10.visible)
      return;
    if (i10.layers.test(r6.layers) && (i10.isMesh || i10.isLine || i10.isPoints) && (i10.castShadow || i10.receiveShadow && a3 === lx) && (!i10.frustumCulled || n.intersectsObject(i10))) {
      i10.modelViewMatrix.multiplyMatrices(o6.matrixWorldInverse, i10.matrixWorld);
      let n10 = e6.update(i10), r10 = i10.material;
      if (Array.isArray(r10)) {
        let e10 = n10.groups;
        for (let l10 = 0, u2 = e10.length; l10 < u2; l10++) {
          let u3 = e10[l10], h2 = r10[u3.materialIndex];
          if (h2 && h2.visible) {
            let e11 = x4(i10, h2, s10, a3);
            t48.renderBufferDirect(o6, null, n10, e11, i10, u3);
          }
        }
      } else if (r10.visible) {
        let e10 = x4(i10, r10, s10, a3);
        t48.renderBufferDirect(o6, null, n10, e10, i10, null);
      }
    }
    let l3 = i10.children;
    for (let t49 = 0, e10 = l3.length; t49 < e10; t49++)
      _(l3[t49], r6, o6, s10, a3);
  }
  this.enabled = false, this.autoUpdate = true, this.needsUpdate = false, this.type = NW, this.render = function(e10, i10, a3) {
    if (false === v4.enabled || false === v4.autoUpdate && false === v4.needsUpdate || 0 === e10.length)
      return;
    let l3 = t48.getRenderTarget(), u2 = t48.getActiveCubeFace(), h2 = t48.getActiveMipmapLevel(), p10 = t48.state;
    p10.setBlending(Nr), p10.buffers.color.setClear(1, 1, 1, 1), p10.buffers.depth.setTest(true), p10.setScissorTest(false);
    for (let l10 = 0, u3 = e10.length; l10 < u3; l10++) {
      let u10 = e10[l10], h4 = u10.shadow;
      if (void 0 === h4) {
        console.warn("THREE.WebGLShadowMap:", u10, "has no shadow.");
        continue;
      }
      if (false === h4.autoUpdate && false === h4.needsUpdate)
        continue;
      r.copy(h4.mapSize);
      let d4 = h4.getFrameExtents();
      if (r.multiply(d4), o3.copy(h4.mapSize), (r.x > c2 || r.y > c2) && (r.x > c2 && (o3.x = Math.floor(c2 / d4.x), r.x = o3.x * d4.x, h4.mapSize.x = o3.x), r.y > c2 && (o3.y = Math.floor(c2 / d4.y), r.y = o3.y * d4.y, h4.mapSize.y = o3.y)), null === h4.map) {
        let t49 = this.type !== lx ? { minFilter: ui, magFilter: ui } : {};
        h4.map = new ti(r.x, r.y, t49), h4.map.texture.name = u10.name + ".shadowMap", h4.camera.updateProjectionMatrix();
      }
      t48.setRenderTarget(h4.map), t48.clear();
      let f2 = h4.getViewportCount();
      for (let t49 = 0; t49 < f2; t49++) {
        let e11 = h4.getViewport(t49);
        s6.set(o3.x * e11.x, o3.y * e11.y, o3.x * e11.z, o3.y * e11.w), p10.viewport(s6), h4.updateMatrices(u10, t49), n = h4.getFrustum(), _(i10, a3, h4.camera, u10, this.type);
      }
      true !== h4.isPointLightShadow && this.type === lx && y4(h4, a3), h4.needsUpdate = false;
    }
    v4.needsUpdate = false, t48.setRenderTarget(l3, u2, h2);
  }, q(y4, "VSMPass"), q(x4, "getDepthMaterial"), q(_, "renderObject");
}
function y0e(t48, e6, i) {
  let n = i.isWebGL2;
  function r() {
    let e10 = false, i10 = new Fi(), n10 = null, r6 = new Fi(0, 0, 0, 0);
    return { setMask: function(i11) {
      n10 !== i11 && !e10 && (t48.colorMask(i11, i11, i11, i11), n10 = i11);
    }, setLocked: function(t49) {
      e10 = t49;
    }, setClear: function(e11, n11, o6, s10, a3) {
      true === a3 && (e11 *= s10, n11 *= s10, o6 *= s10), i10.set(e11, n11, o6, s10), false === r6.equals(i10) && (t48.clearColor(e11, n11, o6, s10), r6.copy(i10));
    }, reset: function() {
      e10 = false, n10 = null, r6.set(-1, 0, 0, 0);
    } };
  }
  function o3() {
    let e10 = false, i10 = null, n10 = null, r6 = null;
    return { setTest: function(t49) {
      t49 ? G(2929) : W(2929);
    }, setMask: function(n11) {
      i10 !== n11 && !e10 && (t48.depthMask(n11), i10 = n11);
    }, setFunc: function(e11) {
      if (n10 !== e11) {
        switch (e11) {
          case Xhe:
            t48.depthFunc(512);
            break;
          case Zhe:
            t48.depthFunc(519);
            break;
          case Qhe:
            t48.depthFunc(513);
            break;
          case G6:
            t48.depthFunc(515);
            break;
          case Khe:
            t48.depthFunc(514);
            break;
          case Jhe:
            t48.depthFunc(518);
            break;
          case $he:
            t48.depthFunc(516);
            break;
          case efe:
            t48.depthFunc(517);
            break;
          default:
            t48.depthFunc(515);
        }
        n10 = e11;
      }
    }, setLocked: function(t49) {
      e10 = t49;
    }, setClear: function(e11) {
      r6 !== e11 && (t48.clearDepth(e11), r6 = e11);
    }, reset: function() {
      e10 = false, i10 = null, n10 = null, r6 = null;
    } };
  }
  function s6() {
    let e10 = false, i10 = null, n10 = null, r6 = null, o6 = null, s10 = null, a3 = null, l3 = null, u2 = null;
    return { setTest: function(t49) {
      e10 || (t49 ? G(2960) : W(2960));
    }, setMask: function(n11) {
      i10 !== n11 && !e10 && (t48.stencilMask(n11), i10 = n11);
    }, setFunc: function(e11, i11, s11) {
      (n10 !== e11 || r6 !== i11 || o6 !== s11) && (t48.stencilFunc(e11, i11, s11), n10 = e11, r6 = i11, o6 = s11);
    }, setOp: function(e11, i11, n11) {
      (s10 !== e11 || a3 !== i11 || l3 !== n11) && (t48.stencilOp(e11, i11, n11), s10 = e11, a3 = i11, l3 = n11);
    }, setLocked: function(t49) {
      e10 = t49;
    }, setClear: function(e11) {
      u2 !== e11 && (t48.clearStencil(e11), u2 = e11);
    }, reset: function() {
      e10 = false, i10 = null, n10 = null, r6 = null, o6 = null, s10 = null, a3 = null, l3 = null, u2 = null;
    } };
  }
  q(r, "ColorBuffer"), q(o3, "DepthBuffer"), q(s6, "StencilBuffer");
  let a = new r(), l = new o3(), h = new s6(), c2 = /* @__PURE__ */ new WeakMap(), p4 = /* @__PURE__ */ new WeakMap(), d = {}, f = {}, g = /* @__PURE__ */ new WeakMap(), m = [], v4 = null, y4 = false, x4 = null, _ = null, b = null, M = null, E = null, w4 = null, A = null, S = false, T = null, C = null, P = null, I = null, L = null, O = t48.getParameter(35661), N = false, D = 0, R = t48.getParameter(7938);
  -1 !== R.indexOf("WebGL") ? (D = parseFloat(/^WebGL (\d)/.exec(R)[1]), N = D >= 1) : -1 !== R.indexOf("OpenGL ES") && (D = parseFloat(/^OpenGL ES (\d)/.exec(R)[1]), N = D >= 2);
  let q4 = null, B = {}, k = t48.getParameter(3088), F = t48.getParameter(2978), U = new Fi().fromArray(k), z = new Fi().fromArray(F);
  function V(e10, i10, n10) {
    let r6 = new Uint8Array(4), o6 = t48.createTexture();
    t48.bindTexture(e10, o6), t48.texParameteri(e10, 10241, 9728), t48.texParameteri(e10, 10240, 9728);
    for (let e11 = 0; e11 < n10; e11++)
      t48.texImage2D(i10 + e11, 0, 6408, 1, 1, 0, 6408, 5121, r6);
    return o6;
  }
  q(V, "createTexture");
  let j = {};
  function G(e10) {
    true !== d[e10] && (t48.enable(e10), d[e10] = true);
  }
  function W(e10) {
    false !== d[e10] && (t48.disable(e10), d[e10] = false);
  }
  function H(e10, i10) {
    return f[e10] !== i10 && (t48.bindFramebuffer(e10, i10), f[e10] = i10, n && (36009 === e10 && (f[36160] = i10), 36160 === e10 && (f[36009] = i10)), true);
  }
  function Y(n10, r6) {
    let o6 = m, s10 = false;
    if (n10)
      if (o6 = g.get(r6), void 0 === o6 && (o6 = [], g.set(r6, o6)), n10.isWebGLMultipleRenderTargets) {
        let t49 = n10.texture;
        if (o6.length !== t49.length || 36064 !== o6[0]) {
          for (let e10 = 0, i10 = t49.length; e10 < i10; e10++)
            o6[e10] = 36064 + e10;
          o6.length = t49.length, s10 = true;
        }
      } else
        36064 !== o6[0] && (o6[0] = 36064, s10 = true);
    else
      1029 !== o6[0] && (o6[0] = 1029, s10 = true);
    s10 && (i.isWebGL2 ? t48.drawBuffers(o6) : e6.get("WEBGL_draw_buffers").drawBuffersWEBGL(o6));
  }
  function X(e10) {
    return v4 !== e10 && (t48.useProgram(e10), v4 = e10, true);
  }
  j[3553] = V(3553, 3553, 1), j[34067] = V(34067, 34069, 6), a.setClear(0, 0, 0, 1), l.setClear(1), h.setClear(0), G(2929), l.setFunc(G6), $(false), tt(ij), G(2884), Q(Nr), q(G, "enable"), q(W, "disable"), q(H, "bindFramebuffer"), q(Y, "drawBuffers"), q(X, "useProgram");
  let K10 = { [cg]: 32774, [khe]: 32778, [qhe]: 32779 };
  if (n)
    K10[oj] = 32775, K10[aj] = 32776;
  else {
    let t49 = e6.get("EXT_blend_minmax");
    null !== t49 && (K10[oj] = t49.MIN_EXT, K10[aj] = t49.MAX_EXT);
  }
  let Z = { [Fhe]: 0, [Uhe]: 1, [zhe]: 768, [RW]: 770, [Yhe]: 776, [jhe]: 774, [Vhe]: 772, [Ghe]: 769, [BW]: 771, [Whe]: 775, [Hhe]: 773 };
  function Q(e10, i10, n10, r6, o6, s10, a3, l3) {
    if (e10 !== Nr) {
      if (false === y4 && (G(3042), y4 = true), e10 === EO)
        o6 = o6 || i10, s10 = s10 || n10, a3 = a3 || r6, (i10 !== _ || o6 !== E) && (t48.blendEquationSeparate(K10[i10], K10[o6]), _ = i10, E = o6), (n10 !== b || r6 !== M || s10 !== w4 || a3 !== A) && (t48.blendFuncSeparate(Z[n10], Z[r6], Z[s10], Z[a3]), b = n10, M = r6, w4 = s10, A = a3), x4 = e10, S = false;
      else if (e10 !== x4 || l3 !== S) {
        if ((_ !== cg || E !== cg) && (t48.blendEquation(32774), _ = cg, E = cg), l3)
          switch (e10) {
            case mg:
              t48.blendFuncSeparate(1, 771, 1, 771);
              break;
            case rj:
              t48.blendFunc(1, 1);
              break;
            case sj:
              t48.blendFuncSeparate(0, 769, 0, 1);
              break;
            case UE:
              t48.blendFuncSeparate(0, 768, 0, 770);
              break;
            default:
              console.error("THREE.WebGLState: Invalid blending: ", e10);
          }
        else
          switch (e10) {
            case mg:
              t48.blendFuncSeparate(770, 771, 1, 771);
              break;
            case rj:
              t48.blendFunc(770, 1);
              break;
            case sj:
              t48.blendFuncSeparate(0, 769, 0, 1);
              break;
            case UE:
              t48.blendFunc(0, 768);
              break;
            default:
              console.error("THREE.WebGLState: Invalid blending: ", e10);
          }
        b = null, M = null, w4 = null, A = null, x4 = e10, S = l3;
      }
    } else
      true === y4 && (W(3042), y4 = false);
  }
  function J(t49, e10) {
    t49.side === Dr ? W(2884) : G(2884);
    let i10 = t49.side === _s;
    e10 && (i10 = !i10), $(i10), t49.blending === mg && false === t49.transparent ? Q(Nr) : Q(t49.blending, t49.blendEquation, t49.blendSrc, t49.blendDst, t49.blendEquationAlpha, t49.blendSrcAlpha, t49.blendDstAlpha, t49.premultipliedAlpha), l.setFunc(t49.depthFunc), l.setTest(t49.depthTest), l.setMask(t49.depthWrite), a.setMask(t49.colorWrite);
    let n10 = t49.stencilWrite;
    h.setTest(n10), n10 && (h.setMask(t49.stencilWriteMask), h.setFunc(t49.stencilFunc, t49.stencilRef, t49.stencilFuncMask), h.setOp(t49.stencilFail, t49.stencilZFail, t49.stencilZPass)), it(t49.polygonOffset, t49.polygonOffsetFactor, t49.polygonOffsetUnits), true === t49.alphaToCoverage ? G(32926) : W(32926);
  }
  function $(e10) {
    T !== e10 && (e10 ? t48.frontFace(2304) : t48.frontFace(2305), T = e10);
  }
  function tt(e10) {
    e10 !== Nhe ? (G(2884), e10 !== C && (e10 === ij ? t48.cullFace(1029) : e10 === Rhe ? t48.cullFace(1028) : t48.cullFace(1032))) : W(2884), C = e10;
  }
  function et(e10) {
    e10 !== P && (N && t48.lineWidth(e10), P = e10);
  }
  function it(e10, i10, n10) {
    e10 ? (G(32823), (I !== i10 || L !== n10) && (t48.polygonOffset(i10, n10), I = i10, L = n10)) : W(32823);
  }
  function nt2(t49) {
    t49 ? G(3089) : W(3089);
  }
  function rt(e10) {
    void 0 === e10 && (e10 = 33984 + O - 1), q4 !== e10 && (t48.activeTexture(e10), q4 = e10);
  }
  function ot(e10, i10, n10) {
    void 0 === n10 && (n10 = null === q4 ? 33984 + O - 1 : q4);
    let r6 = B[n10];
    void 0 === r6 && (r6 = { type: void 0, texture: void 0 }, B[n10] = r6), (r6.type !== e10 || r6.texture !== i10) && (q4 !== n10 && (t48.activeTexture(n10), q4 = n10), t48.bindTexture(e10, i10 || j[e10]), r6.type = e10, r6.texture = i10);
  }
  function st() {
    let e10 = B[q4];
    void 0 !== e10 && void 0 !== e10.type && (t48.bindTexture(e10.type, null), e10.type = void 0, e10.texture = void 0);
  }
  function at2() {
    try {
      t48.compressedTexImage2D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function lt() {
    try {
      t48.compressedTexImage3D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function ut() {
    try {
      t48.texSubImage2D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function ht2() {
    try {
      t48.texSubImage3D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function ct() {
    try {
      t48.compressedTexSubImage2D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function pt() {
    try {
      t48.compressedTexSubImage3D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function dt2() {
    try {
      t48.texStorage2D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function ft() {
    try {
      t48.texStorage3D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function gt() {
    try {
      t48.texImage2D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function mt2() {
    try {
      t48.texImage3D.apply(t48, arguments);
    } catch (t49) {
      console.error("THREE.WebGLState:", t49);
    }
  }
  function vt(e10) {
    false === U.equals(e10) && (t48.scissor(e10.x, e10.y, e10.z, e10.w), U.copy(e10));
  }
  function yt(e10) {
    false === z.equals(e10) && (t48.viewport(e10.x, e10.y, e10.z, e10.w), z.copy(e10));
  }
  function xt(e10, i10) {
    let n10 = p4.get(i10);
    void 0 === n10 && (n10 = /* @__PURE__ */ new WeakMap(), p4.set(i10, n10));
    let r6 = n10.get(e10);
    void 0 === r6 && (r6 = t48.getUniformBlockIndex(i10, e10.name), n10.set(e10, r6));
  }
  function _t(e10, i10) {
    let n10 = p4.get(i10).get(e10);
    c2.get(i10) !== n10 && (t48.uniformBlockBinding(i10, n10, e10.__bindingPointIndex), c2.set(i10, n10));
  }
  function bt() {
    t48.disable(3042), t48.disable(2884), t48.disable(2929), t48.disable(32823), t48.disable(3089), t48.disable(2960), t48.disable(32926), t48.blendEquation(32774), t48.blendFunc(1, 0), t48.blendFuncSeparate(1, 0, 1, 0), t48.colorMask(true, true, true, true), t48.clearColor(0, 0, 0, 0), t48.depthMask(true), t48.depthFunc(513), t48.clearDepth(1), t48.stencilMask(4294967295), t48.stencilFunc(519, 0, 4294967295), t48.stencilOp(7680, 7680, 7680), t48.clearStencil(0), t48.cullFace(1029), t48.frontFace(2305), t48.polygonOffset(0, 0), t48.activeTexture(33984), t48.bindFramebuffer(36160, null), true === n && (t48.bindFramebuffer(36009, null), t48.bindFramebuffer(36008, null)), t48.useProgram(null), t48.lineWidth(1), t48.scissor(0, 0, t48.canvas.width, t48.canvas.height), t48.viewport(0, 0, t48.canvas.width, t48.canvas.height), d = {}, q4 = null, B = {}, f = {}, g = /* @__PURE__ */ new WeakMap(), m = [], v4 = null, y4 = false, x4 = null, _ = null, b = null, M = null, E = null, w4 = null, A = null, S = false, T = null, C = null, P = null, I = null, L = null, U.set(0, 0, t48.canvas.width, t48.canvas.height), z.set(0, 0, t48.canvas.width, t48.canvas.height), a.reset(), l.reset(), h.reset();
  }
  return q(Q, "setBlending"), q(J, "setMaterial"), q($, "setFlipSided"), q(tt, "setCullFace"), q(et, "setLineWidth"), q(it, "setPolygonOffset"), q(nt2, "setScissorTest"), q(rt, "activeTexture"), q(ot, "bindTexture"), q(st, "unbindTexture"), q(at2, "compressedTexImage2D"), q(lt, "compressedTexImage3D"), q(ut, "texSubImage2D"), q(ht2, "texSubImage3D"), q(ct, "compressedTexSubImage2D"), q(pt, "compressedTexSubImage3D"), q(dt2, "texStorage2D"), q(ft, "texStorage3D"), q(gt, "texImage2D"), q(mt2, "texImage3D"), q(vt, "scissor"), q(yt, "viewport"), q(xt, "updateUBOMapping"), q(_t, "uniformBlockBinding"), q(bt, "reset"), { buffers: { color: a, depth: l, stencil: h }, enable: G, disable: W, bindFramebuffer: H, drawBuffers: Y, useProgram: X, setBlending: Q, setMaterial: J, setFlipSided: $, setCullFace: tt, setLineWidth: et, setPolygonOffset: it, setScissorTest: nt2, activeTexture: rt, bindTexture: ot, unbindTexture: st, compressedTexImage2D: at2, compressedTexImage3D: lt, texImage2D: gt, texImage3D: mt2, updateUBOMapping: xt, uniformBlockBinding: _t, texStorage2D: dt2, texStorage3D: ft, texSubImage2D: ut, texSubImage3D: ht2, compressedTexSubImage2D: ct, compressedTexSubImage3D: pt, scissor: vt, viewport: yt, reset: bt };
}
function x0e(t48, e6, i, n, r, o3, s6) {
  let a, l = r.isWebGL2, h = r.maxTextures, c2 = r.maxCubemapSize, p4 = r.maxTextureSize, d = r.maxSamples, f = e6.has("WEBGL_multisampled_render_to_texture") ? e6.get("WEBGL_multisampled_render_to_texture") : null, g = !(typeof navigator > "u") && /OculusBrowser/g.test(navigator.userAgent), m = /* @__PURE__ */ new WeakMap(), v4 = /* @__PURE__ */ new WeakMap(), y4 = false;
  try {
    y4 = typeof OffscreenCanvas < "u" && null !== new OffscreenCanvas(1, 1).getContext("2d");
  } catch {
  }
  function x4(t49, e10) {
    return y4 ? new OffscreenCanvas(t49, e10) : bx("canvas");
  }
  function _(t49, e10, i10, n10) {
    let r6 = 1;
    if ((t49.width > n10 || t49.height > n10) && (r6 = n10 / Math.max(t49.width, t49.height)), r6 < 1 || true === e10) {
      if (typeof HTMLImageElement < "u" && t49 instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && t49 instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && t49 instanceof ImageBitmap) {
        let n11 = e10 ? UW : Math.floor, o6 = n11(r6 * t49.width), s10 = n11(r6 * t49.height);
        void 0 === a && (a = x4(o6, s10));
        let l3 = i10 ? x4(o6, s10) : a;
        return l3.width = o6, l3.height = s10, l3.getContext("2d").drawImage(t49, 0, 0, o6, s10), console.warn("THREE.WebGLRenderer: Texture has been resized from (" + t49.width + "x" + t49.height + ") to (" + o6 + "x" + s10 + ")."), l3;
      }
      return "data" in t49 && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + t49.width + "x" + t49.height + ")."), t49;
    }
    return t49;
  }
  function b(t49) {
    return Y6(t49.width) && Y6(t49.height);
  }
  function M(t49) {
    return !l && (t49.wrapS !== ca || t49.wrapT !== ca || t49.minFilter !== ui && t49.minFilter !== wi);
  }
  function E(t49, e10) {
    return t49.generateMipmaps && e10 && t49.minFilter !== ui && t49.minFilter !== wi;
  }
  function w4(e10) {
    t48.generateMipmap(e10);
  }
  function A(i10, n10, r6, o6, s10 = false) {
    if (false === l)
      return n10;
    if (null !== i10) {
      if (void 0 !== t48[i10])
        return t48[i10];
      console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" + i10 + "'");
    }
    let a3 = n10;
    return 6403 === n10 && (5126 === r6 && (a3 = 33326), 5131 === r6 && (a3 = 33325), 5121 === r6 && (a3 = 33321)), 33319 === n10 && (5126 === r6 && (a3 = 33328), 5131 === r6 && (a3 = 33327), 5121 === r6 && (a3 = 33323)), 6408 === n10 && (5126 === r6 && (a3 = 34836), 5131 === r6 && (a3 = 34842), 5121 === r6 && (a3 = o6 === ai && false === s10 ? 35907 : 32856), 32819 === r6 && (a3 = 32854), 32820 === r6 && (a3 = 32855)), (33325 === a3 || 33326 === a3 || 33327 === a3 || 33328 === a3 || 34842 === a3 || 34836 === a3) && e6.get("EXT_color_buffer_float"), a3;
  }
  function S(t49, e10, i10) {
    return true === E(t49, i10) || t49.isFramebufferTexture && t49.minFilter !== ui && t49.minFilter !== wi ? Math.log2(Math.max(e10.width, e10.height)) + 1 : void 0 !== t49.mipmaps && t49.mipmaps.length > 0 ? t49.mipmaps.length : t49.isCompressedTexture && Array.isArray(t49.image) ? e10.mipmaps.length : 1;
  }
  function T(t49) {
    return t49 === ui || t49 === zE || t49 === cx ? 9728 : 9729;
  }
  function C(t49) {
    let e10 = t49.target;
    e10.removeEventListener("dispose", C), I(e10), e10.isVideoTexture && m.delete(e10);
  }
  function P(t49) {
    let e10 = t49.target;
    e10.removeEventListener("dispose", P), O(e10);
  }
  function I(t49) {
    let e10 = n.get(t49);
    if (void 0 === e10.__webglInit)
      return;
    let i10 = t49.source, r6 = v4.get(i10);
    if (r6) {
      let n10 = r6[e10.__cacheKey];
      n10.usedTimes--, 0 === n10.usedTimes && L(t49), 0 === Object.keys(r6).length && v4.delete(i10);
    }
    n.remove(t49);
  }
  function L(e10) {
    let i10 = n.get(e10);
    t48.deleteTexture(i10.__webglTexture);
    let r6 = e10.source;
    delete v4.get(r6)[i10.__cacheKey], s6.memory.textures--;
  }
  function O(e10) {
    let i10 = e10.texture, r6 = n.get(e10), o6 = n.get(i10);
    if (void 0 !== o6.__webglTexture && (t48.deleteTexture(o6.__webglTexture), s6.memory.textures--), e10.depthTexture && e10.depthTexture.dispose(), e10.isWebGLCubeRenderTarget)
      for (let e11 = 0; e11 < 6; e11++)
        t48.deleteFramebuffer(r6.__webglFramebuffer[e11]), r6.__webglDepthbuffer && t48.deleteRenderbuffer(r6.__webglDepthbuffer[e11]);
    else {
      if (t48.deleteFramebuffer(r6.__webglFramebuffer), r6.__webglDepthbuffer && t48.deleteRenderbuffer(r6.__webglDepthbuffer), r6.__webglMultisampledFramebuffer && t48.deleteFramebuffer(r6.__webglMultisampledFramebuffer), r6.__webglColorRenderbuffer)
        for (let e11 = 0; e11 < r6.__webglColorRenderbuffer.length; e11++)
          r6.__webglColorRenderbuffer[e11] && t48.deleteRenderbuffer(r6.__webglColorRenderbuffer[e11]);
      r6.__webglDepthRenderbuffer && t48.deleteRenderbuffer(r6.__webglDepthRenderbuffer);
    }
    if (e10.isWebGLMultipleRenderTargets)
      for (let e11 = 0, r10 = i10.length; e11 < r10; e11++) {
        let r11 = n.get(i10[e11]);
        r11.__webglTexture && (t48.deleteTexture(r11.__webglTexture), s6.memory.textures--), n.remove(i10[e11]);
      }
    n.remove(i10), n.remove(e10);
  }
  q(x4, "createCanvas"), q(_, "resizeImage"), q(b, "isPowerOfTwo$1"), q(M, "textureNeedsPowerOfTwo"), q(E, "textureNeedsGenerateMipmaps"), q(w4, "generateMipmap"), q(A, "getInternalFormat"), q(S, "getMipLevels"), q(T, "filterFallback"), q(C, "onTextureDispose"), q(P, "onRenderTargetDispose"), q(I, "deallocateTexture"), q(L, "deleteTexture"), q(O, "deallocateRenderTarget");
  let N = 0;
  function D() {
    N = 0;
  }
  function R() {
    let t49 = N;
    return t49 >= h && console.warn("THREE.WebGLTextures: Trying to use " + t49 + " texture units while this GPU supports only " + h), N += 1, t49;
  }
  function q4(t49) {
    let e10 = [];
    return e10.push(t49.wrapS), e10.push(t49.wrapT), e10.push(t49.wrapR || 0), e10.push(t49.magFilter), e10.push(t49.minFilter), e10.push(t49.anisotropy), e10.push(t49.internalFormat), e10.push(t49.format), e10.push(t49.type), e10.push(t49.generateMipmaps), e10.push(t49.premultiplyAlpha), e10.push(t49.flipY), e10.push(t49.unpackAlignment), e10.push(t49.encoding), e10.join();
  }
  function B(t49, e10) {
    let r6 = n.get(t49);
    if (t49.isVideoTexture && nt2(t49), false === t49.isRenderTargetTexture && t49.version > 0 && r6.__version !== t49.version) {
      let i10 = t49.image;
      if (null === i10)
        console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");
      else {
        if (false !== i10.complete)
          return void W(r6, t49, e10);
        console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");
      }
    }
    i.bindTexture(3553, r6.__webglTexture, 33984 + e10);
  }
  function k(t49, e10) {
    let r6 = n.get(t49);
    t49.version > 0 && r6.__version !== t49.version ? W(r6, t49, e10) : i.bindTexture(35866, r6.__webglTexture, 33984 + e10);
  }
  function F(t49, e10) {
    let r6 = n.get(t49);
    t49.version > 0 && r6.__version !== t49.version ? W(r6, t49, e10) : i.bindTexture(32879, r6.__webglTexture, 33984 + e10);
  }
  function U(t49, e10) {
    let r6 = n.get(t49);
    t49.version > 0 && r6.__version !== t49.version ? H(r6, t49, e10) : i.bindTexture(34067, r6.__webglTexture, 33984 + e10);
  }
  q(D, "resetTextureUnits"), q(R, "allocateTextureUnit"), q(q4, "getTextureCacheKey"), q(B, "setTexture2D"), q(k, "setTexture2DArray"), q(F, "setTexture3D"), q(U, "setTextureCube");
  let z = { [wr]: 10497, [ca]: 33071, [vx]: 33648 }, V = { [ui]: 9728, [zE]: 9984, [cx]: 9986, [wi]: 9729, [SO]: 9985, [Dp]: 9987 };
  function j(i10, o6, s10) {
    if (s10 ? (t48.texParameteri(i10, 10242, z[o6.wrapS]), t48.texParameteri(i10, 10243, z[o6.wrapT]), (32879 === i10 || 35866 === i10) && t48.texParameteri(i10, 32882, z[o6.wrapR]), t48.texParameteri(i10, 10240, V[o6.magFilter]), t48.texParameteri(i10, 10241, V[o6.minFilter])) : (t48.texParameteri(i10, 10242, 33071), t48.texParameteri(i10, 10243, 33071), (32879 === i10 || 35866 === i10) && t48.texParameteri(i10, 32882, 33071), (o6.wrapS !== ca || o6.wrapT !== ca) && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."), t48.texParameteri(i10, 10240, T(o6.magFilter)), t48.texParameteri(i10, 10241, T(o6.minFilter)), o6.minFilter !== ui && o6.minFilter !== wi && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")), true === e6.has("EXT_texture_filter_anisotropic")) {
      let s11 = e6.get("EXT_texture_filter_anisotropic");
      if (o6.magFilter === ui || o6.minFilter !== cx && o6.minFilter !== Dp || o6.type === Au && false === e6.has("OES_texture_float_linear") || false === l && o6.type === Np && false === e6.has("OES_texture_half_float_linear"))
        return;
      (o6.anisotropy > 1 || n.get(o6).__currentAnisotropy) && (t48.texParameterf(i10, s11.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(o6.anisotropy, r.getMaxAnisotropy())), n.get(o6).__currentAnisotropy = o6.anisotropy);
    }
  }
  function G(e10, i10) {
    let n10 = false;
    void 0 === e10.__webglInit && (e10.__webglInit = true, i10.addEventListener("dispose", C));
    let r6 = i10.source, o6 = v4.get(r6);
    void 0 === o6 && (o6 = {}, v4.set(r6, o6));
    let a3 = q4(i10);
    if (a3 !== e10.__cacheKey) {
      void 0 === o6[a3] && (o6[a3] = { texture: t48.createTexture(), usedTimes: 0 }, s6.memory.textures++, n10 = true), o6[a3].usedTimes++;
      let r10 = o6[e10.__cacheKey];
      void 0 !== r10 && (o6[e10.__cacheKey].usedTimes--, 0 === r10.usedTimes && L(i10)), e10.__cacheKey = a3, e10.__webglTexture = o6[a3].texture;
    }
    return n10;
  }
  function W(e10, r6, s10) {
    let a3 = 3553;
    (r6.isDataArrayTexture || r6.isCompressedArrayTexture) && (a3 = 35866), r6.isData3DTexture && (a3 = 32879);
    let u2 = G(e10, r6), h2 = r6.source;
    i.bindTexture(a3, e10.__webglTexture, 33984 + s10);
    let c4 = n.get(h2);
    if (h2.version !== c4.__version || true === u2) {
      i.activeTexture(33984 + s10), t48.pixelStorei(37440, r6.flipY), t48.pixelStorei(37441, r6.premultiplyAlpha), t48.pixelStorei(3317, r6.unpackAlignment), t48.pixelStorei(37443, 0);
      let e11 = M(r6) && false === b(r6.image), n10 = _(r6.image, e11, false, p4);
      n10 = rt(r6, n10);
      let d4 = b(n10) || l, f2 = o3.convert(r6.format, r6.encoding), g4 = o3.convert(r6.type), m4 = A(r6.internalFormat, f2, g4, r6.encoding, r6.isVideoTexture);
      j(a3, r6, d4);
      let v10, y10 = r6.mipmaps, x10 = l && true !== r6.isVideoTexture, T4 = void 0 === c4.__version || true === u2, C4 = S(r6, n10, d4);
      if (r6.isDepthTexture)
        m4 = 6402, l ? m4 = r6.type === Au ? 36012 : r6.type === il ? 33190 : r6.type === Xh ? 35056 : 33189 : r6.type === Au && console.error("WebGLRenderer: Floating point depth texture requires WebGL2."), r6.format === Zh && 6402 === m4 && r6.type !== kW && r6.type !== il && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), r6.type = il, g4 = o3.convert(r6.type)), r6.format === Qh && 6402 === m4 && (m4 = 34041, r6.type !== Xh && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), r6.type = Xh, g4 = o3.convert(r6.type))), T4 && (x10 ? i.texStorage2D(3553, 1, m4, n10.width, n10.height) : i.texImage2D(3553, 0, m4, n10.width, n10.height, 0, f2, g4, null));
      else if (r6.isDataTexture)
        if (y10.length > 0 && d4) {
          x10 && T4 && i.texStorage2D(3553, C4, m4, y10[0].width, y10[0].height);
          for (let t49 = 0, e12 = y10.length; t49 < e12; t49++)
            v10 = y10[t49], x10 ? i.texSubImage2D(3553, t49, 0, 0, v10.width, v10.height, f2, g4, v10.data) : i.texImage2D(3553, t49, m4, v10.width, v10.height, 0, f2, g4, v10.data);
          r6.generateMipmaps = false;
        } else
          x10 ? (T4 && i.texStorage2D(3553, C4, m4, n10.width, n10.height), i.texSubImage2D(3553, 0, 0, 0, n10.width, n10.height, f2, g4, n10.data)) : i.texImage2D(3553, 0, m4, n10.width, n10.height, 0, f2, g4, n10.data);
      else if (r6.isCompressedTexture)
        if (r6.isCompressedArrayTexture) {
          x10 && T4 && i.texStorage3D(35866, C4, m4, y10[0].width, y10[0].height, n10.depth);
          for (let t49 = 0, e12 = y10.length; t49 < e12; t49++)
            v10 = y10[t49], r6.format !== Gs ? null !== f2 ? x10 ? i.compressedTexSubImage3D(35866, t49, 0, 0, 0, v10.width, v10.height, n10.depth, f2, v10.data, 0, 0) : i.compressedTexImage3D(35866, t49, m4, v10.width, v10.height, n10.depth, 0, v10.data, 0, 0) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : x10 ? i.texSubImage3D(35866, t49, 0, 0, 0, v10.width, v10.height, n10.depth, f2, g4, v10.data) : i.texImage3D(35866, t49, m4, v10.width, v10.height, n10.depth, 0, f2, g4, v10.data);
        } else {
          x10 && T4 && i.texStorage2D(3553, C4, m4, y10[0].width, y10[0].height);
          for (let t49 = 0, e12 = y10.length; t49 < e12; t49++)
            v10 = y10[t49], r6.format !== Gs ? null !== f2 ? x10 ? i.compressedTexSubImage2D(3553, t49, 0, 0, v10.width, v10.height, f2, v10.data) : i.compressedTexImage2D(3553, t49, m4, v10.width, v10.height, 0, v10.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : x10 ? i.texSubImage2D(3553, t49, 0, 0, v10.width, v10.height, f2, g4, v10.data) : i.texImage2D(3553, t49, m4, v10.width, v10.height, 0, f2, g4, v10.data);
        }
      else if (r6.isDataArrayTexture)
        x10 ? (T4 && i.texStorage3D(35866, C4, m4, n10.width, n10.height, n10.depth), i.texSubImage3D(35866, 0, 0, 0, 0, n10.width, n10.height, n10.depth, f2, g4, n10.data)) : i.texImage3D(35866, 0, m4, n10.width, n10.height, n10.depth, 0, f2, g4, n10.data);
      else if (r6.isData3DTexture)
        x10 ? (T4 && i.texStorage3D(32879, C4, m4, n10.width, n10.height, n10.depth), i.texSubImage3D(32879, 0, 0, 0, 0, n10.width, n10.height, n10.depth, f2, g4, n10.data)) : i.texImage3D(32879, 0, m4, n10.width, n10.height, n10.depth, 0, f2, g4, n10.data);
      else if (r6.isFramebufferTexture) {
        if (T4)
          if (x10)
            i.texStorage2D(3553, C4, m4, n10.width, n10.height);
          else {
            let t49 = n10.width, e12 = n10.height;
            for (let n11 = 0; n11 < C4; n11++)
              i.texImage2D(3553, n11, m4, t49, e12, 0, f2, g4, null), t49 >>= 1, e12 >>= 1;
          }
      } else if (y10.length > 0 && d4) {
        x10 && T4 && i.texStorage2D(3553, C4, m4, y10[0].width, y10[0].height);
        for (let t49 = 0, e12 = y10.length; t49 < e12; t49++)
          v10 = y10[t49], x10 ? i.texSubImage2D(3553, t49, 0, 0, f2, g4, v10) : i.texImage2D(3553, t49, m4, f2, g4, v10);
        r6.generateMipmaps = false;
      } else
        x10 ? (T4 && i.texStorage2D(3553, C4, m4, n10.width, n10.height), i.texSubImage2D(3553, 0, 0, 0, f2, g4, n10)) : i.texImage2D(3553, 0, m4, f2, g4, n10);
      E(r6, d4) && w4(a3), c4.__version = h2.version, r6.onUpdate && r6.onUpdate(r6);
    }
    e10.__version = r6.version;
  }
  function H(e10, r6, s10) {
    if (6 !== r6.image.length)
      return;
    let a3 = G(e10, r6), u2 = r6.source;
    i.bindTexture(34067, e10.__webglTexture, 33984 + s10);
    let h2 = n.get(u2);
    if (u2.version !== h2.__version || true === a3) {
      i.activeTexture(33984 + s10), t48.pixelStorei(37440, r6.flipY), t48.pixelStorei(37441, r6.premultiplyAlpha), t48.pixelStorei(3317, r6.unpackAlignment), t48.pixelStorei(37443, 0);
      let e11 = r6.isCompressedTexture || r6.image[0].isCompressedTexture, n10 = r6.image[0] && r6.image[0].isDataTexture, p10 = [];
      for (let t49 = 0; t49 < 6; t49++)
        p10[t49] = e11 || n10 ? n10 ? r6.image[t49].image : r6.image[t49] : _(r6.image[t49], false, true, c2), p10[t49] = rt(r6, p10[t49]);
      let d4, f2 = p10[0], g4 = b(f2) || l, m4 = o3.convert(r6.format, r6.encoding), v10 = o3.convert(r6.type), y10 = A(r6.internalFormat, m4, v10, r6.encoding), x10 = l && true !== r6.isVideoTexture, M4 = void 0 === h2.__version || true === a3, T4 = S(r6, f2, g4);
      if (j(34067, r6, g4), e11) {
        x10 && M4 && i.texStorage2D(34067, T4, y10, f2.width, f2.height);
        for (let t49 = 0; t49 < 6; t49++) {
          d4 = p10[t49].mipmaps;
          for (let e12 = 0; e12 < d4.length; e12++) {
            let n11 = d4[e12];
            r6.format !== Gs ? null !== m4 ? x10 ? i.compressedTexSubImage2D(34069 + t49, e12, 0, 0, n11.width, n11.height, m4, n11.data) : i.compressedTexImage2D(34069 + t49, e12, y10, n11.width, n11.height, 0, n11.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : x10 ? i.texSubImage2D(34069 + t49, e12, 0, 0, n11.width, n11.height, m4, v10, n11.data) : i.texImage2D(34069 + t49, e12, y10, n11.width, n11.height, 0, m4, v10, n11.data);
          }
        }
      } else {
        d4 = r6.mipmaps, x10 && M4 && (d4.length > 0 && T4++, i.texStorage2D(34067, T4, y10, p10[0].width, p10[0].height));
        for (let t49 = 0; t49 < 6; t49++)
          if (n10) {
            x10 ? i.texSubImage2D(34069 + t49, 0, 0, 0, p10[t49].width, p10[t49].height, m4, v10, p10[t49].data) : i.texImage2D(34069 + t49, 0, y10, p10[t49].width, p10[t49].height, 0, m4, v10, p10[t49].data);
            for (let e12 = 0; e12 < d4.length; e12++) {
              let n11 = d4[e12].image[t49].image;
              x10 ? i.texSubImage2D(34069 + t49, e12 + 1, 0, 0, n11.width, n11.height, m4, v10, n11.data) : i.texImage2D(34069 + t49, e12 + 1, y10, n11.width, n11.height, 0, m4, v10, n11.data);
            }
          } else {
            x10 ? i.texSubImage2D(34069 + t49, 0, 0, 0, m4, v10, p10[t49]) : i.texImage2D(34069 + t49, 0, y10, m4, v10, p10[t49]);
            for (let e12 = 0; e12 < d4.length; e12++) {
              let n11 = d4[e12];
              x10 ? i.texSubImage2D(34069 + t49, e12 + 1, 0, 0, m4, v10, n11.image[t49]) : i.texImage2D(34069 + t49, e12 + 1, y10, m4, v10, n11.image[t49]);
            }
          }
      }
      E(r6, g4) && w4(34067), h2.__version = u2.version, r6.onUpdate && r6.onUpdate(r6);
    }
    e10.__version = r6.version;
  }
  function Y(e10, r6, s10, a3, l3) {
    let u2 = o3.convert(s10.format, s10.encoding), h2 = o3.convert(s10.type), c4 = A(s10.internalFormat, u2, h2, s10.encoding);
    n.get(r6).__hasExternalTextures || (32879 === l3 || 35866 === l3 ? i.texImage3D(l3, 0, c4, r6.width, r6.height, r6.depth, 0, u2, h2, null) : i.texImage2D(l3, 0, c4, r6.width, r6.height, 0, u2, h2, null)), i.bindFramebuffer(36160, e10), it(r6) ? f.framebufferTexture2DMultisampleEXT(36160, a3, l3, n.get(s10).__webglTexture, 0, et(r6)) : (3553 === l3 || l3 >= 34069 && l3 <= 34074) && t48.framebufferTexture2D(36160, a3, l3, n.get(s10).__webglTexture, 0), i.bindFramebuffer(36160, null);
  }
  function X(e10, i10, n10) {
    if (t48.bindRenderbuffer(36161, e10), i10.depthBuffer && !i10.stencilBuffer) {
      let r6 = 33189;
      if (n10 || it(i10)) {
        let e11 = i10.depthTexture;
        e11 && e11.isDepthTexture && (e11.type === Au ? r6 = 36012 : e11.type === il && (r6 = 33190));
        let n11 = et(i10);
        it(i10) ? f.renderbufferStorageMultisampleEXT(36161, n11, r6, i10.width, i10.height) : t48.renderbufferStorageMultisample(36161, n11, r6, i10.width, i10.height);
      } else
        t48.renderbufferStorage(36161, r6, i10.width, i10.height);
      t48.framebufferRenderbuffer(36160, 36096, 36161, e10);
    } else if (i10.depthBuffer && i10.stencilBuffer) {
      let r6 = et(i10);
      n10 && false === it(i10) ? t48.renderbufferStorageMultisample(36161, r6, 35056, i10.width, i10.height) : it(i10) ? f.renderbufferStorageMultisampleEXT(36161, r6, 35056, i10.width, i10.height) : t48.renderbufferStorage(36161, 34041, i10.width, i10.height), t48.framebufferRenderbuffer(36160, 33306, 36161, e10);
    } else {
      let e11 = true === i10.isWebGLMultipleRenderTargets ? i10.texture : [i10.texture];
      for (let r6 = 0; r6 < e11.length; r6++) {
        let s10 = e11[r6], a3 = o3.convert(s10.format, s10.encoding), l3 = o3.convert(s10.type), u2 = A(s10.internalFormat, a3, l3, s10.encoding), h2 = et(i10);
        n10 && false === it(i10) ? t48.renderbufferStorageMultisample(36161, h2, u2, i10.width, i10.height) : it(i10) ? f.renderbufferStorageMultisampleEXT(36161, h2, u2, i10.width, i10.height) : t48.renderbufferStorage(36161, u2, i10.width, i10.height);
      }
    }
    t48.bindRenderbuffer(36161, null);
  }
  function K10(e10, r6) {
    if (r6 && r6.isWebGLCubeRenderTarget)
      throw new Error("Depth Texture with cube render targets is not supported");
    if (i.bindFramebuffer(36160, e10), !r6.depthTexture || !r6.depthTexture.isDepthTexture)
      throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
    (!n.get(r6.depthTexture).__webglTexture || r6.depthTexture.image.width !== r6.width || r6.depthTexture.image.height !== r6.height) && (r6.depthTexture.image.width = r6.width, r6.depthTexture.image.height = r6.height, r6.depthTexture.needsUpdate = true), B(r6.depthTexture, 0);
    let o6 = n.get(r6.depthTexture).__webglTexture, s10 = et(r6);
    if (r6.depthTexture.format === Zh)
      it(r6) ? f.framebufferTexture2DMultisampleEXT(36160, 36096, 3553, o6, 0, s10) : t48.framebufferTexture2D(36160, 36096, 3553, o6, 0);
    else {
      if (r6.depthTexture.format !== Qh)
        throw new Error("Unknown depthTexture format");
      it(r6) ? f.framebufferTexture2DMultisampleEXT(36160, 33306, 3553, o6, 0, s10) : t48.framebufferTexture2D(36160, 33306, 3553, o6, 0);
    }
  }
  function Z(e10) {
    let r6 = n.get(e10), o6 = true === e10.isWebGLCubeRenderTarget;
    if (e10.depthTexture && !r6.__autoAllocateDepthBuffer) {
      if (o6)
        throw new Error("target.depthTexture not supported in Cube render targets");
      K10(r6.__webglFramebuffer, e10);
    } else if (o6) {
      r6.__webglDepthbuffer = [];
      for (let n10 = 0; n10 < 6; n10++)
        i.bindFramebuffer(36160, r6.__webglFramebuffer[n10]), r6.__webglDepthbuffer[n10] = t48.createRenderbuffer(), X(r6.__webglDepthbuffer[n10], e10, false);
    } else
      i.bindFramebuffer(36160, r6.__webglFramebuffer), r6.__webglDepthbuffer = t48.createRenderbuffer(), X(r6.__webglDepthbuffer, e10, false);
    i.bindFramebuffer(36160, null);
  }
  function Q(t49, e10, i10) {
    let r6 = n.get(t49);
    void 0 !== e10 && Y(r6.__webglFramebuffer, t49, t49.texture, 36064, 3553), void 0 !== i10 && Z(t49);
  }
  function J(e10) {
    let a3 = e10.texture, u2 = n.get(e10), h2 = n.get(a3);
    e10.addEventListener("dispose", P), true !== e10.isWebGLMultipleRenderTargets && (void 0 === h2.__webglTexture && (h2.__webglTexture = t48.createTexture()), h2.__version = a3.version, s6.memory.textures++);
    let c4 = true === e10.isWebGLCubeRenderTarget, p10 = true === e10.isWebGLMultipleRenderTargets, d4 = b(e10) || l;
    if (c4) {
      u2.__webglFramebuffer = [];
      for (let e11 = 0; e11 < 6; e11++)
        u2.__webglFramebuffer[e11] = t48.createFramebuffer();
    } else {
      if (u2.__webglFramebuffer = t48.createFramebuffer(), p10)
        if (r.drawBuffers) {
          let i10 = e10.texture;
          for (let e11 = 0, r6 = i10.length; e11 < r6; e11++) {
            let r10 = n.get(i10[e11]);
            void 0 === r10.__webglTexture && (r10.__webglTexture = t48.createTexture(), s6.memory.textures++);
          }
        } else
          console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");
      if (l && e10.samples > 0 && false === it(e10)) {
        let n10 = p10 ? a3 : [a3];
        u2.__webglMultisampledFramebuffer = t48.createFramebuffer(), u2.__webglColorRenderbuffer = [], i.bindFramebuffer(36160, u2.__webglMultisampledFramebuffer);
        for (let i10 = 0; i10 < n10.length; i10++) {
          let r6 = n10[i10];
          u2.__webglColorRenderbuffer[i10] = t48.createRenderbuffer(), t48.bindRenderbuffer(36161, u2.__webglColorRenderbuffer[i10]);
          let s10 = o3.convert(r6.format, r6.encoding), a7 = o3.convert(r6.type), l3 = A(r6.internalFormat, s10, a7, r6.encoding, true === e10.isXRRenderTarget), h4 = et(e10);
          t48.renderbufferStorageMultisample(36161, h4, l3, e10.width, e10.height), t48.framebufferRenderbuffer(36160, 36064 + i10, 36161, u2.__webglColorRenderbuffer[i10]);
        }
        t48.bindRenderbuffer(36161, null), e10.depthBuffer && (u2.__webglDepthRenderbuffer = t48.createRenderbuffer(), X(u2.__webglDepthRenderbuffer, e10, true)), i.bindFramebuffer(36160, null);
      }
    }
    if (c4) {
      i.bindTexture(34067, h2.__webglTexture), j(34067, a3, d4);
      for (let t49 = 0; t49 < 6; t49++)
        Y(u2.__webglFramebuffer[t49], e10, a3, 36064, 34069 + t49);
      E(a3, d4) && w4(34067), i.unbindTexture();
    } else if (p10) {
      let t49 = e10.texture;
      for (let r6 = 0, o6 = t49.length; r6 < o6; r6++) {
        let o7 = t49[r6], s10 = n.get(o7);
        i.bindTexture(3553, s10.__webglTexture), j(3553, o7, d4), Y(u2.__webglFramebuffer, e10, o7, 36064 + r6, 3553), E(o7, d4) && w4(3553);
      }
      i.unbindTexture();
    } else {
      let t49 = 3553;
      (e10.isWebGL3DRenderTarget || e10.isWebGLArrayRenderTarget) && (l ? t49 = e10.isWebGL3DRenderTarget ? 32879 : 35866 : console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")), i.bindTexture(t49, h2.__webglTexture), j(t49, a3, d4), Y(u2.__webglFramebuffer, e10, a3, 36064, t49), E(a3, d4) && w4(t49), i.unbindTexture();
    }
    e10.depthBuffer && Z(e10);
  }
  function $(t49) {
    let e10 = b(t49) || l, r6 = true === t49.isWebGLMultipleRenderTargets ? t49.texture : [t49.texture];
    for (let o6 = 0, s10 = r6.length; o6 < s10; o6++) {
      let s11 = r6[o6];
      if (E(s11, e10)) {
        let e11 = t49.isWebGLCubeRenderTarget ? 34067 : 3553, r10 = n.get(s11).__webglTexture;
        i.bindTexture(e11, r10), w4(e11), i.unbindTexture();
      }
    }
  }
  function tt(e10) {
    if (l && e10.samples > 0 && false === it(e10)) {
      let r6 = e10.isWebGLMultipleRenderTargets ? e10.texture : [e10.texture], o6 = e10.width, s10 = e10.height, a3 = 16384, l3 = [], u2 = e10.stencilBuffer ? 33306 : 36096, h2 = n.get(e10), c4 = true === e10.isWebGLMultipleRenderTargets;
      if (c4)
        for (let e11 = 0; e11 < r6.length; e11++)
          i.bindFramebuffer(36160, h2.__webglMultisampledFramebuffer), t48.framebufferRenderbuffer(36160, 36064 + e11, 36161, null), i.bindFramebuffer(36160, h2.__webglFramebuffer), t48.framebufferTexture2D(36009, 36064 + e11, 3553, null, 0);
      i.bindFramebuffer(36008, h2.__webglMultisampledFramebuffer), i.bindFramebuffer(36009, h2.__webglFramebuffer);
      for (let i10 = 0; i10 < r6.length; i10++) {
        l3.push(36064 + i10), e10.depthBuffer && l3.push(u2);
        let p10 = void 0 !== h2.__ignoreDepthValues && h2.__ignoreDepthValues;
        if (false === p10 && (e10.depthBuffer && (a3 |= 256), e10.stencilBuffer && (a3 |= 1024)), c4 && t48.framebufferRenderbuffer(36008, 36064, 36161, h2.__webglColorRenderbuffer[i10]), true === p10 && (t48.invalidateFramebuffer(36008, [u2]), t48.invalidateFramebuffer(36009, [u2])), c4) {
          let e11 = n.get(r6[i10]).__webglTexture;
          t48.framebufferTexture2D(36009, 36064, 3553, e11, 0);
        }
        t48.blitFramebuffer(0, 0, o6, s10, 0, 0, o6, s10, a3, 9728), g && t48.invalidateFramebuffer(36008, l3);
      }
      if (i.bindFramebuffer(36008, null), i.bindFramebuffer(36009, null), c4)
        for (let e11 = 0; e11 < r6.length; e11++) {
          i.bindFramebuffer(36160, h2.__webglMultisampledFramebuffer), t48.framebufferRenderbuffer(36160, 36064 + e11, 36161, h2.__webglColorRenderbuffer[e11]);
          let o7 = n.get(r6[e11]).__webglTexture;
          i.bindFramebuffer(36160, h2.__webglFramebuffer), t48.framebufferTexture2D(36009, 36064 + e11, 3553, o7, 0);
        }
      i.bindFramebuffer(36009, h2.__webglMultisampledFramebuffer);
    }
  }
  function et(t49) {
    return Math.min(d, t49.samples);
  }
  function it(t49) {
    let i10 = n.get(t49);
    return l && t49.samples > 0 && true === e6.has("WEBGL_multisampled_render_to_texture") && false !== i10.__useRenderToTexture;
  }
  function nt2(t49) {
    let e10 = s6.render.frame;
    m.get(t49) !== e10 && (m.set(t49, e10), t49.update());
  }
  function rt(t49, i10) {
    let n10 = t49.encoding, r6 = t49.format, o6 = t49.type;
    return true === t49.isCompressedTexture || true === t49.isVideoTexture || t49.format === W6 || n10 !== rl && (n10 === ai ? false === l ? true === e6.has("EXT_sRGB") && r6 === Gs ? (t49.format = W6, t49.minFilter = wi, t49.generateMipmaps = false) : i10 = GE.sRGBToLinear(i10) : (r6 !== Gs || o6 !== Mr) && console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.") : console.error("THREE.WebGLTextures: Unsupported texture encoding:", n10)), i10;
  }
  q(j, "setTextureParameters"), q(G, "initTexture"), q(W, "uploadTexture"), q(H, "uploadCubeTexture"), q(Y, "setupFrameBufferTexture"), q(X, "setupRenderBufferStorage"), q(K10, "setupDepthTexture"), q(Z, "setupDepthRenderbuffer"), q(Q, "rebindTextures"), q(J, "setupRenderTarget"), q($, "updateRenderTargetMipmap"), q(tt, "updateMultisampleRenderTarget"), q(et, "getRenderTargetSamples"), q(it, "useMultisampledRTT"), q(nt2, "updateVideoTexture"), q(rt, "verifyColorSpace"), this.allocateTextureUnit = R, this.resetTextureUnits = D, this.setTexture2D = B, this.setTexture2DArray = k, this.setTexture3D = F, this.setTextureCube = U, this.rebindTextures = Q, this.setupRenderTarget = J, this.updateRenderTargetMipmap = $, this.updateMultisampleRenderTarget = tt, this.setupDepthRenderbuffer = Z, this.setupFrameBufferTexture = Y, this.useMultisampledRTT = it;
}
function b0e(t48, e6, i) {
  let n = i.isWebGL2;
  function r(i10, r6 = null) {
    let o3;
    if (i10 === Mr)
      return 5121;
    if (i10 === hfe)
      return 32819;
    if (i10 === ffe)
      return 32820;
    if (i10 === lfe)
      return 5120;
    if (i10 === ufe)
      return 5122;
    if (i10 === kW)
      return 5123;
    if (i10 === cfe)
      return 5124;
    if (i10 === il)
      return 5125;
    if (i10 === Au)
      return 5126;
    if (i10 === Np)
      return n ? 5131 : (o3 = e6.get("OES_texture_half_float"), null !== o3 ? o3.HALF_FLOAT_OES : null);
    if (i10 === pfe)
      return 6406;
    if (i10 === Gs)
      return 6408;
    if (i10 === dfe)
      return 6409;
    if (i10 === mfe)
      return 6410;
    if (i10 === Zh)
      return 6402;
    if (i10 === Qh)
      return 34041;
    if (i10 === W6)
      return o3 = e6.get("EXT_sRGB"), null !== o3 ? o3.SRGB_ALPHA_EXT : null;
    if (i10 === AO)
      return 6403;
    if (i10 === gfe)
      return 36244;
    if (i10 === vfe)
      return 33319;
    if (i10 === yfe)
      return 33320;
    if (i10 === xfe)
      return 36249;
    if (i10 === u6 || i10 === c6 || i10 === h6 || i10 === f6)
      if (r6 === ai) {
        if (o3 = e6.get("WEBGL_compressed_texture_s3tc_srgb"), null === o3)
          return null;
        if (i10 === u6)
          return o3.COMPRESSED_SRGB_S3TC_DXT1_EXT;
        if (i10 === c6)
          return o3.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;
        if (i10 === h6)
          return o3.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;
        if (i10 === f6)
          return o3.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;
      } else {
        if (o3 = e6.get("WEBGL_compressed_texture_s3tc"), null === o3)
          return null;
        if (i10 === u6)
          return o3.COMPRESSED_RGB_S3TC_DXT1_EXT;
        if (i10 === c6)
          return o3.COMPRESSED_RGBA_S3TC_DXT1_EXT;
        if (i10 === h6)
          return o3.COMPRESSED_RGBA_S3TC_DXT3_EXT;
        if (i10 === f6)
          return o3.COMPRESSED_RGBA_S3TC_DXT5_EXT;
      }
    if (i10 === lj || i10 === uj || i10 === cj || i10 === hj) {
      if (o3 = e6.get("WEBGL_compressed_texture_pvrtc"), null === o3)
        return null;
      if (i10 === lj)
        return o3.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
      if (i10 === uj)
        return o3.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
      if (i10 === cj)
        return o3.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
      if (i10 === hj)
        return o3.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
    }
    if (i10 === bfe)
      return o3 = e6.get("WEBGL_compressed_texture_etc1"), null !== o3 ? o3.COMPRESSED_RGB_ETC1_WEBGL : null;
    if (i10 === fj || i10 === pj) {
      if (o3 = e6.get("WEBGL_compressed_texture_etc"), null === o3)
        return null;
      if (i10 === fj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ETC2 : o3.COMPRESSED_RGB8_ETC2;
      if (i10 === pj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : o3.COMPRESSED_RGBA8_ETC2_EAC;
    }
    if (i10 === dj || i10 === mj || i10 === gj || i10 === vj || i10 === yj || i10 === xj || i10 === bj || i10 === _j || i10 === wj || i10 === Mj || i10 === Ej || i10 === Tj || i10 === Sj || i10 === Aj) {
      if (o3 = e6.get("WEBGL_compressed_texture_astc"), null === o3)
        return null;
      if (i10 === dj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : o3.COMPRESSED_RGBA_ASTC_4x4_KHR;
      if (i10 === mj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : o3.COMPRESSED_RGBA_ASTC_5x4_KHR;
      if (i10 === gj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : o3.COMPRESSED_RGBA_ASTC_5x5_KHR;
      if (i10 === vj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : o3.COMPRESSED_RGBA_ASTC_6x5_KHR;
      if (i10 === yj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : o3.COMPRESSED_RGBA_ASTC_6x6_KHR;
      if (i10 === xj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : o3.COMPRESSED_RGBA_ASTC_8x5_KHR;
      if (i10 === bj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : o3.COMPRESSED_RGBA_ASTC_8x6_KHR;
      if (i10 === _j)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : o3.COMPRESSED_RGBA_ASTC_8x8_KHR;
      if (i10 === wj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : o3.COMPRESSED_RGBA_ASTC_10x5_KHR;
      if (i10 === Mj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : o3.COMPRESSED_RGBA_ASTC_10x6_KHR;
      if (i10 === Ej)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : o3.COMPRESSED_RGBA_ASTC_10x8_KHR;
      if (i10 === Tj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : o3.COMPRESSED_RGBA_ASTC_10x10_KHR;
      if (i10 === Sj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : o3.COMPRESSED_RGBA_ASTC_12x10_KHR;
      if (i10 === Aj)
        return r6 === ai ? o3.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : o3.COMPRESSED_RGBA_ASTC_12x12_KHR;
    }
    if (i10 === p6) {
      if (o3 = e6.get("EXT_texture_compression_bptc"), null === o3)
        return null;
      if (i10 === p6)
        return r6 === ai ? o3.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : o3.COMPRESSED_RGBA_BPTC_UNORM_EXT;
    }
    if (i10 === _fe || i10 === Cj || i10 === Pj || i10 === Ij) {
      if (o3 = e6.get("EXT_texture_compression_rgtc"), null === o3)
        return null;
      if (i10 === p6)
        return o3.COMPRESSED_RED_RGTC1_EXT;
      if (i10 === Cj)
        return o3.COMPRESSED_SIGNED_RED_RGTC1_EXT;
      if (i10 === Pj)
        return o3.COMPRESSED_RED_GREEN_RGTC2_EXT;
      if (i10 === Ij)
        return o3.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;
    }
    return i10 === Xh ? n ? 34042 : (o3 = e6.get("WEBGL_depth_texture"), null !== o3 ? o3.UNSIGNED_INT_24_8_WEBGL : null) : void 0 !== t48[i10] ? t48[i10] : null;
  }
  return q(r, "convert"), { convert: r };
}
q(v0e, "WebGLShadowMap"), q(y0e, "WebGLState"), q(x0e, "WebGLTextures"), q(b0e, "WebGLUtils");
var xL = class extends as {
  constructor(t48 = []) {
    super(), this.isArrayCamera = true, this.cameras = t48;
  }
};
q(xL, "ArrayCamera");
var iO = xL;
var bL = class extends ci {
  constructor() {
    super(), this.isGroup = true, this.type = "Group";
  }
};
q(bL, "Group");
var lo = bL;
var _0e = { type: "move" };
var _L = class {
  constructor() {
    this._targetRay = null, this._grip = null, this._hand = null;
  }
  getHandSpace() {
    return null === this._hand && (this._hand = new lo(), this._hand.matrixAutoUpdate = false, this._hand.visible = false, this._hand.joints = {}, this._hand.inputState = { pinching: false }), this._hand;
  }
  getTargetRaySpace() {
    return null === this._targetRay && (this._targetRay = new lo(), this._targetRay.matrixAutoUpdate = false, this._targetRay.visible = false, this._targetRay.hasLinearVelocity = false, this._targetRay.linearVelocity = new K(), this._targetRay.hasAngularVelocity = false, this._targetRay.angularVelocity = new K()), this._targetRay;
  }
  getGripSpace() {
    return null === this._grip && (this._grip = new lo(), this._grip.matrixAutoUpdate = false, this._grip.visible = false, this._grip.hasLinearVelocity = false, this._grip.linearVelocity = new K(), this._grip.hasAngularVelocity = false, this._grip.angularVelocity = new K()), this._grip;
  }
  dispatchEvent(t48) {
    return null !== this._targetRay && this._targetRay.dispatchEvent(t48), null !== this._grip && this._grip.dispatchEvent(t48), null !== this._hand && this._hand.dispatchEvent(t48), this;
  }
  connect(t48) {
    if (t48 && t48.hand) {
      let e6 = this._hand;
      if (e6)
        for (let i of t48.hand.values())
          this._getHandJoint(e6, i);
    }
    return this.dispatchEvent({ type: "connected", data: t48 }), this;
  }
  disconnect(t48) {
    return this.dispatchEvent({ type: "disconnected", data: t48 }), null !== this._targetRay && (this._targetRay.visible = false), null !== this._grip && (this._grip.visible = false), null !== this._hand && (this._hand.visible = false), this;
  }
  update(t48, e6, i) {
    let n = null, r = null, o3 = null, s6 = this._targetRay, a = this._grip, l = this._hand;
    if (t48 && "visible-blurred" !== e6.session.visibilityState) {
      if (l && t48.hand) {
        o3 = true;
        for (let n11 of t48.hand.values()) {
          let t49 = e6.getJointPose(n11, i), r10 = this._getHandJoint(l, n11);
          null !== t49 && (r10.matrix.fromArray(t49.transform.matrix), r10.matrix.decompose(r10.position, r10.rotation, r10.scale), r10.jointRadius = t49.radius), r10.visible = null !== t49;
        }
        let n10 = l.joints["index-finger-tip"], r6 = l.joints["thumb-tip"], s10 = n10.position.distanceTo(r6.position), a3 = 0.02, u2 = 5e-3;
        l.inputState.pinching && s10 > a3 + u2 ? (l.inputState.pinching = false, this.dispatchEvent({ type: "pinchend", handedness: t48.handedness, target: this })) : !l.inputState.pinching && s10 <= a3 - u2 && (l.inputState.pinching = true, this.dispatchEvent({ type: "pinchstart", handedness: t48.handedness, target: this }));
      } else
        null !== a && t48.gripSpace && (r = e6.getPose(t48.gripSpace, i), null !== r && (a.matrix.fromArray(r.transform.matrix), a.matrix.decompose(a.position, a.rotation, a.scale), r.linearVelocity ? (a.hasLinearVelocity = true, a.linearVelocity.copy(r.linearVelocity)) : a.hasLinearVelocity = false, r.angularVelocity ? (a.hasAngularVelocity = true, a.angularVelocity.copy(r.angularVelocity)) : a.hasAngularVelocity = false));
      null !== s6 && (n = e6.getPose(t48.targetRaySpace, i), null === n && null !== r && (n = r), null !== n && (s6.matrix.fromArray(n.transform.matrix), s6.matrix.decompose(s6.position, s6.rotation, s6.scale), n.linearVelocity ? (s6.hasLinearVelocity = true, s6.linearVelocity.copy(n.linearVelocity)) : s6.hasLinearVelocity = false, n.angularVelocity ? (s6.hasAngularVelocity = true, s6.angularVelocity.copy(n.angularVelocity)) : s6.hasAngularVelocity = false, this.dispatchEvent(_0e)));
    }
    return null !== s6 && (s6.visible = null !== n), null !== a && (a.visible = null !== r), null !== l && (l.visible = null !== o3), this;
  }
  _getHandJoint(t48, e6) {
    if (void 0 === t48.joints[e6.jointName]) {
      let i = new lo();
      i.matrixAutoUpdate = false, i.visible = false, t48.joints[e6.jointName] = i, t48.add(i);
    }
    return t48.joints[e6.jointName];
  }
};
q(_L, "WebXRController");
var px = _L;
var wL = class extends Er {
  constructor(t48, e6, i, n, r, o3, s6, a, l, u2) {
    if ((u2 = void 0 !== u2 ? u2 : Zh) !== Zh && u2 !== Qh)
      throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
    void 0 === i && u2 === Zh && (i = il), void 0 === i && u2 === Qh && (i = Xh), super(null, n, r, o3, s6, a, u2, i, l), this.isDepthTexture = true, this.image = { width: t48, height: e6 }, this.magFilter = void 0 !== s6 ? s6 : ui, this.minFilter = void 0 !== a ? a : ui, this.flipY = false, this.generateMipmaps = false;
  }
};
q(wL, "DepthTexture");
var qc = wL;
var ML = class extends Eo {
  constructor(t48, e6) {
    super();
    let i = this, n = null, r = 1, o3 = null, s6 = "local-floor", a = 1, l = null, h = null, c2 = null, p4 = null, d = null, f = null, g = e6.getContextAttributes(), m = null, v4 = null, y4 = [], x4 = [], _ = /* @__PURE__ */ new Set(), b = /* @__PURE__ */ new Map(), M = new as();
    M.layers.enable(1), M.viewport = new Fi();
    let E = new as();
    E.layers.enable(2), E.viewport = new Fi();
    let w4 = [M, E], A = new iO();
    A.layers.enable(1), A.layers.enable(2);
    let S = null, T = null;
    function C(t49) {
      let e10 = x4.indexOf(t49.inputSource);
      if (-1 === e10)
        return;
      let i10 = y4[e10];
      void 0 !== i10 && i10.dispatchEvent({ type: t49.type, data: t49.inputSource });
    }
    function P() {
      n.removeEventListener("select", C), n.removeEventListener("selectstart", C), n.removeEventListener("selectend", C), n.removeEventListener("squeeze", C), n.removeEventListener("squeezestart", C), n.removeEventListener("squeezeend", C), n.removeEventListener("end", P), n.removeEventListener("inputsourceschange", I);
      for (let t49 = 0; t49 < y4.length; t49++) {
        let e10 = x4[t49];
        null !== e10 && (x4[t49] = null, y4[t49].disconnect(e10));
      }
      S = null, T = null, t48.setRenderTarget(m), d = null, p4 = null, c2 = null, n = null, v4 = null, k.stop(), i.isPresenting = false, i.dispatchEvent({ type: "sessionend" });
    }
    function I(t49) {
      for (let e10 = 0; e10 < t49.removed.length; e10++) {
        let i10 = t49.removed[e10], n10 = x4.indexOf(i10);
        n10 >= 0 && (x4[n10] = null, y4[n10].disconnect(i10));
      }
      for (let e10 = 0; e10 < t49.added.length; e10++) {
        let i10 = t49.added[e10], n10 = x4.indexOf(i10);
        if (-1 === n10) {
          for (let t50 = 0; t50 < y4.length; t50++) {
            if (t50 >= x4.length) {
              x4.push(i10), n10 = t50;
              break;
            }
            if (null === x4[t50]) {
              x4[t50] = i10, n10 = t50;
              break;
            }
          }
          if (-1 === n10)
            break;
        }
        let r6 = y4[n10];
        r6 && r6.connect(i10);
      }
    }
    this.cameraAutoUpdate = true, this.enabled = false, this.isPresenting = false, this.getController = function(t49) {
      let e10 = y4[t49];
      return void 0 === e10 && (e10 = new px(), y4[t49] = e10), e10.getTargetRaySpace();
    }, this.getControllerGrip = function(t49) {
      let e10 = y4[t49];
      return void 0 === e10 && (e10 = new px(), y4[t49] = e10), e10.getGripSpace();
    }, this.getHand = function(t49) {
      let e10 = y4[t49];
      return void 0 === e10 && (e10 = new px(), y4[t49] = e10), e10.getHandSpace();
    }, q(C, "onSessionEvent"), q(P, "onSessionEnd"), this.setFramebufferScaleFactor = function(t49) {
      r = t49, true === i.isPresenting && console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.");
    }, this.setReferenceSpaceType = function(t49) {
      s6 = t49, true === i.isPresenting && console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.");
    }, this.getReferenceSpace = function() {
      return l || o3;
    }, this.setReferenceSpace = function(t49) {
      l = t49;
    }, this.getBaseLayer = function() {
      return null !== p4 ? p4 : d;
    }, this.getBinding = function() {
      return c2;
    }, this.getFrame = function() {
      return f;
    }, this.getSession = function() {
      return n;
    }, this.setSession = async function(u2) {
      if (n = u2, null !== n) {
        if (m = t48.getRenderTarget(), n.addEventListener("select", C), n.addEventListener("selectstart", C), n.addEventListener("selectend", C), n.addEventListener("squeeze", C), n.addEventListener("squeezestart", C), n.addEventListener("squeezeend", C), n.addEventListener("end", P), n.addEventListener("inputsourceschange", I), true !== g.xrCompatible && await e6.makeXRCompatible(), void 0 === n.renderState.layers || false === t48.capabilities.isWebGL2) {
          let i10 = { antialias: void 0 !== n.renderState.layers || g.antialias, alpha: g.alpha, depth: g.depth, stencil: g.stencil, framebufferScaleFactor: r };
          d = new XRWebGLLayer(n, e6, i10), n.updateRenderState({ baseLayer: d }), v4 = new ti(d.framebufferWidth, d.framebufferHeight, { format: Gs, type: Mr, encoding: t48.outputEncoding, stencilBuffer: g.stencil });
        } else {
          let i10 = null, o6 = null, s10 = null;
          g.depth && (s10 = g.stencil ? 35056 : 33190, i10 = g.stencil ? Qh : Zh, o6 = g.stencil ? Xh : il);
          let a3 = { colorFormat: 32856, depthFormat: s10, scaleFactor: r };
          c2 = new XRWebGLBinding(n, e6), p4 = c2.createProjectionLayer(a3), n.updateRenderState({ layers: [p4] }), v4 = new ti(p4.textureWidth, p4.textureHeight, { format: Gs, type: Mr, depthTexture: new qc(p4.textureWidth, p4.textureHeight, o6, void 0, void 0, void 0, void 0, void 0, void 0, i10), stencilBuffer: g.stencil, encoding: t48.outputEncoding, samples: g.antialias ? 4 : 0 }), t48.properties.get(v4).__ignoreDepthValues = p4.ignoreDepthValues;
        }
        v4.isXRRenderTarget = true, this.setFoveation(a), l = null, o3 = await n.requestReferenceSpace(s6), k.setContext(n), k.start(), i.isPresenting = true, i.dispatchEvent({ type: "sessionstart" });
      }
    }, q(I, "onInputSourcesChange");
    let L = new K(), O = new K();
    function N(t49, e10, i10) {
      L.setFromMatrixPosition(e10.matrixWorld), O.setFromMatrixPosition(i10.matrixWorld);
      let n10 = L.distanceTo(O), r6 = e10.projectionMatrix.elements, o6 = i10.projectionMatrix.elements, s10 = r6[14] / (r6[10] - 1), a3 = r6[14] / (r6[10] + 1), l3 = (r6[9] + 1) / r6[5], u2 = (r6[9] - 1) / r6[5], h2 = (r6[8] - 1) / r6[0], c4 = (o6[8] + 1) / o6[0], p10 = s10 * h2, d4 = s10 * c4, f2 = n10 / (-h2 + c4), g4 = f2 * -h2;
      e10.matrixWorld.decompose(t49.position, t49.quaternion, t49.scale), t49.translateX(g4), t49.translateZ(f2), t49.matrixWorld.compose(t49.position, t49.quaternion, t49.scale), t49.matrixWorldInverse.copy(t49.matrixWorld).invert();
      let m4 = s10 + f2, v10 = a3 + f2, y10 = p10 - g4, x10 = d4 + (n10 - g4), _4 = l3 * a3 / v10 * m4, b4 = u2 * a3 / v10 * m4;
      t49.projectionMatrix.makePerspective(y10, x10, _4, b4, m4, v10), t49.projectionMatrixInverse.copy(t49.projectionMatrix).invert();
    }
    function D(t49, e10) {
      null === e10 ? t49.matrixWorld.copy(t49.matrix) : t49.matrixWorld.multiplyMatrices(e10.matrixWorld, t49.matrix), t49.matrixWorldInverse.copy(t49.matrixWorld).invert();
    }
    function R(t49, e10, i10) {
      null === i10 ? t49.matrix.copy(e10.matrixWorld) : (t49.matrix.copy(i10.matrixWorld), t49.matrix.invert(), t49.matrix.multiply(e10.matrixWorld)), t49.matrix.decompose(t49.position, t49.quaternion, t49.scale), t49.updateMatrixWorld(true);
      let n10 = t49.children;
      for (let t50 = 0, e11 = n10.length; t50 < e11; t50++)
        n10[t50].updateMatrixWorld(true);
      t49.projectionMatrix.copy(e10.projectionMatrix), t49.projectionMatrixInverse.copy(e10.projectionMatrixInverse), t49.isPerspectiveCamera && (t49.fov = 2 * xx * Math.atan(1 / t49.projectionMatrix.elements[5]), t49.zoom = 1);
    }
    q(N, "setProjectionFromUnion"), q(D, "updateCamera"), this.updateCamera = function(t49) {
      if (null === n)
        return;
      A.near = E.near = M.near = t49.near, A.far = E.far = M.far = t49.far, (S !== A.near || T !== A.far) && (n.updateRenderState({ depthNear: A.near, depthFar: A.far }), S = A.near, T = A.far);
      let e10 = t49.parent, i10 = A.cameras;
      D(A, e10);
      for (let t50 = 0; t50 < i10.length; t50++)
        D(i10[t50], e10);
      2 === i10.length ? N(A, M, E) : A.projectionMatrix.copy(M.projectionMatrix), R(t49, A, e10);
    }, q(R, "updateUserCamera"), this.getCamera = function() {
      return A;
    }, this.getFoveation = function() {
      if (null !== p4 || null !== d)
        return a;
    }, this.setFoveation = function(t49) {
      a = t49, null !== p4 && (p4.fixedFoveation = t49), null !== d && void 0 !== d.fixedFoveation && (d.fixedFoveation = t49);
    }, this.getPlanes = function() {
      return _;
    };
    let q4 = null;
    function B(e10, n10) {
      if (h = n10.getViewerPose(l || o3), f = n10, null !== h) {
        let e11 = h.views;
        null !== d && (t48.setRenderTargetFramebuffer(v4, d.framebuffer), t48.setRenderTarget(v4));
        let i10 = false;
        e11.length !== A.cameras.length && (A.cameras.length = 0, i10 = true);
        for (let n11 = 0; n11 < e11.length; n11++) {
          let r6 = e11[n11], o6 = null;
          if (null !== d)
            o6 = d.getViewport(r6);
          else {
            let e12 = c2.getViewSubImage(p4, r6);
            o6 = e12.viewport, 0 === n11 && (t48.setRenderTargetTextures(v4, e12.colorTexture, p4.ignoreDepthValues ? void 0 : e12.depthStencilTexture), t48.setRenderTarget(v4));
          }
          let s10 = w4[n11];
          void 0 === s10 && (s10 = new as(), s10.layers.enable(n11), s10.viewport = new Fi(), w4[n11] = s10), s10.matrix.fromArray(r6.transform.matrix), s10.matrix.decompose(s10.position, s10.quaternion, s10.scale), s10.projectionMatrix.fromArray(r6.projectionMatrix), s10.projectionMatrixInverse.copy(s10.projectionMatrix).invert(), s10.viewport.set(o6.x, o6.y, o6.width, o6.height), 0 === n11 && (A.matrix.copy(s10.matrix), A.matrix.decompose(A.position, A.quaternion, A.scale)), true === i10 && A.cameras.push(s10);
        }
      }
      for (let t49 = 0; t49 < y4.length; t49++) {
        let e11 = x4[t49], i10 = y4[t49];
        null !== e11 && void 0 !== i10 && i10.update(e11, n10, l || o3);
      }
      if (q4 && q4(e10, n10), n10.detectedPlanes) {
        i.dispatchEvent({ type: "planesdetected", data: n10.detectedPlanes });
        let t49 = null;
        for (let e11 of _)
          n10.detectedPlanes.has(e11) || (null === t49 && (t49 = []), t49.push(e11));
        if (null !== t49)
          for (let e11 of t49)
            _.delete(e11), b.delete(e11), i.dispatchEvent({ type: "planeremoved", data: e11 });
        for (let t50 of n10.detectedPlanes)
          if (_.has(t50)) {
            let e11 = b.get(t50);
            t50.lastChangedTime > e11 && (b.set(t50, t50.lastChangedTime), i.dispatchEvent({ type: "planechanged", data: t50 }));
          } else
            _.add(t50), b.set(t50, n10.lastChangedTime), i.dispatchEvent({ type: "planeadded", data: t50 });
      }
      f = null;
    }
    q(B, "onAnimationFrame");
    let k = new HW();
    k.setAnimationLoop(B), this.setAnimationLoop = function(t49) {
      q4 = t49;
    }, this.dispose = function() {
    };
  }
};
q(ML, "WebXRManager");
var rO = ML;
function w0e(t48, e6) {
  function i(t49, e10) {
    true === t49.matrixAutoUpdate && t49.updateMatrix(), e10.value.copy(t49.matrix);
  }
  function n(e10, i10) {
    i10.color.getRGB(e10.fogColor.value, VW(t48)), i10.isFog ? (e10.fogNear.value = i10.near, e10.fogFar.value = i10.far) : i10.isFogExp2 && (e10.fogDensity.value = i10.density);
  }
  function r(t49, e10, i10, n10, r6) {
    e10.isMeshBasicMaterial || e10.isMeshLambertMaterial ? o3(t49, e10) : e10.isMeshToonMaterial ? (o3(t49, e10), p4(t49, e10)) : e10.isMeshPhongMaterial ? (o3(t49, e10), c2(t49, e10)) : e10.isMeshStandardMaterial ? (o3(t49, e10), d(t49, e10), e10.isMeshPhysicalMaterial && f(t49, e10, r6)) : e10.isMeshMatcapMaterial ? (o3(t49, e10), g(t49, e10)) : e10.isMeshDepthMaterial ? o3(t49, e10) : e10.isMeshDistanceMaterial ? (o3(t49, e10), m(t49, e10)) : e10.isMeshNormalMaterial ? o3(t49, e10) : e10.isLineBasicMaterial ? (s6(t49, e10), e10.isLineDashedMaterial && a(t49, e10)) : e10.isPointsMaterial ? l(t49, e10, i10, n10) : e10.isSpriteMaterial ? h(t49, e10) : e10.isShadowMaterial ? (t49.color.value.copy(e10.color), t49.opacity.value = e10.opacity) : e10.isShaderMaterial && (e10.uniformsNeedUpdate = false);
  }
  function o3(n10, r6) {
    n10.opacity.value = r6.opacity, r6.color && n10.diffuse.value.copy(r6.color), r6.emissive && n10.emissive.value.copy(r6.emissive).multiplyScalar(r6.emissiveIntensity), r6.map && (n10.map.value = r6.map, i(r6.map, n10.mapTransform)), r6.alphaMap && (n10.alphaMap.value = r6.alphaMap, i(r6.alphaMap, n10.alphaMapTransform)), r6.bumpMap && (n10.bumpMap.value = r6.bumpMap, i(r6.bumpMap, n10.bumpMapTransform), n10.bumpScale.value = r6.bumpScale, r6.side === _s && (n10.bumpScale.value *= -1)), r6.normalMap && (n10.normalMap.value = r6.normalMap, i(r6.normalMap, n10.normalMapTransform), n10.normalScale.value.copy(r6.normalScale), r6.side === _s && n10.normalScale.value.negate()), r6.displacementMap && (n10.displacementMap.value = r6.displacementMap, i(r6.displacementMap, n10.displacementMapTransform), n10.displacementScale.value = r6.displacementScale, n10.displacementBias.value = r6.displacementBias), r6.emissiveMap && (n10.emissiveMap.value = r6.emissiveMap, i(r6.emissiveMap, n10.emissiveMapTransform)), r6.specularMap && (n10.specularMap.value = r6.specularMap, i(r6.specularMap, n10.specularMapTransform)), r6.alphaTest > 0 && (n10.alphaTest.value = r6.alphaTest);
    let o6 = e6.get(r6).envMap;
    if (o6 && (n10.envMap.value = o6, n10.flipEnvMap.value = o6.isCubeTexture && false === o6.isRenderTargetTexture ? -1 : 1, n10.reflectivity.value = r6.reflectivity, n10.ior.value = r6.ior, n10.refractionRatio.value = r6.refractionRatio), r6.lightMap) {
      n10.lightMap.value = r6.lightMap;
      let e10 = true === t48.useLegacyLights ? Math.PI : 1;
      n10.lightMapIntensity.value = r6.lightMapIntensity * e10, i(r6.lightMap, n10.lightMapTransform);
    }
    r6.aoMap && (n10.aoMap.value = r6.aoMap, n10.aoMapIntensity.value = r6.aoMapIntensity, i(r6.aoMap, n10.aoMapTransform));
  }
  function s6(t49, e10) {
    t49.diffuse.value.copy(e10.color), t49.opacity.value = e10.opacity, e10.map && (t49.map.value = e10.map, i(e10.map, t49.mapTransform));
  }
  function a(t49, e10) {
    t49.dashSize.value = e10.dashSize, t49.totalSize.value = e10.dashSize + e10.gapSize, t49.scale.value = e10.scale;
  }
  function l(t49, e10, n10, r6) {
    t49.diffuse.value.copy(e10.color), t49.opacity.value = e10.opacity, t49.size.value = e10.size * n10, t49.scale.value = 0.5 * r6, e10.map && (t49.map.value = e10.map, i(e10.map, t49.uvTransform)), e10.alphaMap && (t49.alphaMap.value = e10.alphaMap), e10.alphaTest > 0 && (t49.alphaTest.value = e10.alphaTest);
  }
  function h(t49, e10) {
    t49.diffuse.value.copy(e10.color), t49.opacity.value = e10.opacity, t49.rotation.value = e10.rotation, e10.map && (t49.map.value = e10.map, i(e10.map, t49.mapTransform)), e10.alphaMap && (t49.alphaMap.value = e10.alphaMap), e10.alphaTest > 0 && (t49.alphaTest.value = e10.alphaTest);
  }
  function c2(t49, e10) {
    t49.specular.value.copy(e10.specular), t49.shininess.value = Math.max(e10.shininess, 1e-4);
  }
  function p4(t49, e10) {
    e10.gradientMap && (t49.gradientMap.value = e10.gradientMap);
  }
  function d(t49, n10) {
    t49.metalness.value = n10.metalness, n10.metalnessMap && (t49.metalnessMap.value = n10.metalnessMap, i(n10.metalnessMap, t49.metalnessMapTransform)), t49.roughness.value = n10.roughness, n10.roughnessMap && (t49.roughnessMap.value = n10.roughnessMap, i(n10.roughnessMap, t49.roughnessMapTransform)), e6.get(n10).envMap && (t49.envMapIntensity.value = n10.envMapIntensity);
  }
  function f(t49, e10, n10) {
    t49.ior.value = e10.ior, e10.sheen > 0 && (t49.sheenColor.value.copy(e10.sheenColor).multiplyScalar(e10.sheen), t49.sheenRoughness.value = e10.sheenRoughness, e10.sheenColorMap && (t49.sheenColorMap.value = e10.sheenColorMap, i(e10.sheenColorMap, t49.sheenColorMapTransform)), e10.sheenRoughnessMap && (t49.sheenRoughnessMap.value = e10.sheenRoughnessMap, i(e10.sheenRoughnessMap, t49.sheenRoughnessMapTransform))), e10.clearcoat > 0 && (t49.clearcoat.value = e10.clearcoat, t49.clearcoatRoughness.value = e10.clearcoatRoughness, e10.clearcoatMap && (t49.clearcoatMap.value = e10.clearcoatMap, i(e10.clearcoatMap, t49.clearcoatMapTransform)), e10.clearcoatRoughnessMap && (t49.clearcoatRoughnessMap.value = e10.clearcoatRoughnessMap, i(e10.clearcoatRoughnessMap, t49.clearcoatRoughnessMapTransform)), e10.clearcoatNormalMap && (t49.clearcoatNormalMap.value = e10.clearcoatNormalMap, i(e10.clearcoatNormalMap, t49.clearcoatNormalMapTransform), t49.clearcoatNormalScale.value.copy(e10.clearcoatNormalScale), e10.side === _s && t49.clearcoatNormalScale.value.negate())), e10.iridescence > 0 && (t49.iridescence.value = e10.iridescence, t49.iridescenceIOR.value = e10.iridescenceIOR, t49.iridescenceThicknessMinimum.value = e10.iridescenceThicknessRange[0], t49.iridescenceThicknessMaximum.value = e10.iridescenceThicknessRange[1], e10.iridescenceMap && (t49.iridescenceMap.value = e10.iridescenceMap, i(e10.iridescenceMap, t49.iridescenceMapTransform)), e10.iridescenceThicknessMap && (t49.iridescenceThicknessMap.value = e10.iridescenceThicknessMap, i(e10.iridescenceThicknessMap, t49.iridescenceThicknessMapTransform))), e10.transmission > 0 && (t49.transmission.value = e10.transmission, t49.transmissionSamplerMap.value = n10.texture, t49.transmissionSamplerSize.value.set(n10.width, n10.height), e10.transmissionMap && (t49.transmissionMap.value = e10.transmissionMap, i(e10.transmissionMap, t49.transmissionMapTransform)), t49.thickness.value = e10.thickness, e10.thicknessMap && (t49.thicknessMap.value = e10.thicknessMap, i(e10.thicknessMap, t49.thicknessMapTransform)), t49.attenuationDistance.value = e10.attenuationDistance, t49.attenuationColor.value.copy(e10.attenuationColor)), t49.specularIntensity.value = e10.specularIntensity, t49.specularColor.value.copy(e10.specularColor), e10.specularColorMap && (t49.specularColorMap.value = e10.specularColorMap, i(e10.specularColorMap, t49.specularColorMapTransform)), e10.specularIntensityMap && (t49.specularIntensityMap.value = e10.specularIntensityMap, i(e10.specularIntensityMap, t49.specularIntensityMapTransform));
  }
  function g(t49, e10) {
    e10.matcap && (t49.matcap.value = e10.matcap);
  }
  function m(t49, i10) {
    let n10 = e6.get(i10).light;
    t49.referencePosition.value.setFromMatrixPosition(n10.matrixWorld), t49.nearDistance.value = n10.shadow.camera.near, t49.farDistance.value = n10.shadow.camera.far;
  }
  return q(i, "refreshTransformUniform"), q(n, "refreshFogUniforms"), q(r, "refreshMaterialUniforms"), q(o3, "refreshUniformsCommon"), q(s6, "refreshUniformsLine"), q(a, "refreshUniformsDash"), q(l, "refreshUniformsPoints"), q(h, "refreshUniformsSprites"), q(c2, "refreshUniformsPhong"), q(p4, "refreshUniformsToon"), q(d, "refreshUniformsStandard"), q(f, "refreshUniformsPhysical"), q(g, "refreshUniformsMatcap"), q(m, "refreshUniformsDistance"), { refreshFogUniforms: n, refreshMaterialUniforms: r };
}
function M0e(t48, e6, i, n) {
  let r = {}, o3 = {}, s6 = [], a = i.isWebGL2 ? t48.getParameter(35375) : 0;
  function l(t49, e10) {
    let i10 = e10.program;
    n.uniformBlockBinding(t49, i10);
  }
  function h(t49, i10) {
    let s10 = r[t49.id];
    void 0 === s10 && (g(t49), s10 = c2(t49), r[t49.id] = s10, t49.addEventListener("dispose", v4));
    let a3 = i10.program;
    n.updateUBOMapping(t49, a3);
    let l3 = e6.render.frame;
    o3[t49.id] !== l3 && (d(t49), o3[t49.id] = l3);
  }
  function c2(e10) {
    let i10 = p4();
    e10.__bindingPointIndex = i10;
    let n10 = t48.createBuffer(), r6 = e10.__size, o6 = e10.usage;
    return t48.bindBuffer(35345, n10), t48.bufferData(35345, r6, o6), t48.bindBuffer(35345, null), t48.bindBufferBase(35345, i10, n10), n10;
  }
  function p4() {
    for (let t49 = 0; t49 < a; t49++)
      if (-1 === s6.indexOf(t49))
        return s6.push(t49), t49;
    return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."), 0;
  }
  function d(e10) {
    let i10 = r[e10.id], n10 = e10.uniforms, o6 = e10.__cache;
    t48.bindBuffer(35345, i10);
    for (let e11 = 0, i11 = n10.length; e11 < i11; e11++) {
      let i12 = n10[e11];
      if (true === f(i12, e11, o6)) {
        let e12 = i12.__offset, n11 = Array.isArray(i12.value) ? i12.value : [i12.value], r6 = 0;
        for (let o7 = 0; o7 < n11.length; o7++) {
          let s10 = n11[o7], a3 = m(s10);
          "number" == typeof s10 ? (i12.__data[0] = s10, t48.bufferSubData(35345, e12 + r6, i12.__data)) : s10.isMatrix3 ? (i12.__data[0] = s10.elements[0], i12.__data[1] = s10.elements[1], i12.__data[2] = s10.elements[2], i12.__data[3] = s10.elements[0], i12.__data[4] = s10.elements[3], i12.__data[5] = s10.elements[4], i12.__data[6] = s10.elements[5], i12.__data[7] = s10.elements[0], i12.__data[8] = s10.elements[6], i12.__data[9] = s10.elements[7], i12.__data[10] = s10.elements[8], i12.__data[11] = s10.elements[0]) : (s10.toArray(i12.__data, r6), r6 += a3.storage / Float32Array.BYTES_PER_ELEMENT);
        }
        t48.bufferSubData(35345, e12, i12.__data);
      }
    }
    t48.bindBuffer(35345, null);
  }
  function f(t49, e10, i10) {
    let n10 = t49.value;
    if (void 0 === i10[e10]) {
      if ("number" == typeof n10)
        i10[e10] = n10;
      else {
        let t50 = Array.isArray(n10) ? n10 : [n10], r6 = [];
        for (let e11 = 0; e11 < t50.length; e11++)
          r6.push(t50[e11].clone());
        i10[e10] = r6;
      }
      return true;
    }
    if ("number" == typeof n10) {
      if (i10[e10] !== n10)
        return i10[e10] = n10, true;
    } else {
      let t50 = Array.isArray(i10[e10]) ? i10[e10] : [i10[e10]], r6 = Array.isArray(n10) ? n10 : [n10];
      for (let e11 = 0; e11 < t50.length; e11++) {
        let i11 = t50[e11];
        if (false === i11.equals(r6[e11]))
          return i11.copy(r6[e11]), true;
      }
    }
    return false;
  }
  function g(t49) {
    let e10 = t49.uniforms, i10 = 0, n10 = 0;
    for (let t50 = 0, r6 = e10.length; t50 < r6; t50++) {
      let r10 = e10[t50], o6 = { boundary: 0, storage: 0 }, s10 = Array.isArray(r10.value) ? r10.value : [r10.value];
      for (let t51 = 0, e11 = s10.length; t51 < e11; t51++) {
        let e12 = m(s10[t51]);
        o6.boundary += e12.boundary, o6.storage += e12.storage;
      }
      if (r10.__data = new Float32Array(o6.storage / Float32Array.BYTES_PER_ELEMENT), r10.__offset = i10, t50 > 0) {
        n10 = i10 % 16;
        let t51 = 16 - n10;
        0 !== n10 && t51 - o6.boundary < 0 && (i10 += 16 - n10, r10.__offset = i10);
      }
      i10 += o6.storage;
    }
    return n10 = i10 % 16, n10 > 0 && (i10 += 16 - n10), t49.__size = i10, t49.__cache = {}, this;
  }
  function m(t49) {
    let e10 = { boundary: 0, storage: 0 };
    return "number" == typeof t49 ? (e10.boundary = 4, e10.storage = 4) : t49.isVector2 ? (e10.boundary = 8, e10.storage = 8) : t49.isVector3 || t49.isColor ? (e10.boundary = 16, e10.storage = 12) : t49.isVector4 ? (e10.boundary = 16, e10.storage = 16) : t49.isMatrix3 ? (e10.boundary = 48, e10.storage = 48) : t49.isMatrix4 ? (e10.boundary = 64, e10.storage = 64) : t49.isTexture ? console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.") : console.warn("THREE.WebGLRenderer: Unsupported uniform value type.", t49), e10;
  }
  function v4(e10) {
    let i10 = e10.target;
    i10.removeEventListener("dispose", v4);
    let n10 = s6.indexOf(i10.__bindingPointIndex);
    s6.splice(n10, 1), t48.deleteBuffer(r[i10.id]), delete r[i10.id], delete o3[i10.id];
  }
  function y4() {
    for (let e10 in r)
      t48.deleteBuffer(r[e10]);
    s6 = [], r = {}, o3 = {};
  }
  return q(l, "bind"), q(h, "update"), q(c2, "createBuffer"), q(p4, "allocateBindingPointIndex"), q(d, "updateBufferData"), q(f, "hasUniformChanged"), q(g, "prepareUniformsGroup"), q(m, "getUniformSize"), q(v4, "onUniformsGroupsDispose"), q(y4, "dispose"), { bind: l, update: h, dispose: y4 };
}
function E0e() {
  let t48 = bx("canvas");
  return t48.style.display = "block", t48;
}
q(w0e, "WebGLMaterials"), q(M0e, "WebGLUniformsGroups"), q(E0e, "createCanvasElement");
var EL = class {
  constructor(t48 = {}) {
    let e6, { canvas: i = E0e(), context: n = null, depth: r = true, stencil: o3 = true, alpha: s6 = false, antialias: a = false, premultipliedAlpha: l = true, preserveDrawingBuffer: h = false, powerPreference: c2 = "default", failIfMajorPerformanceCaveat: p4 = false } = t48;
    this.isWebGLRenderer = true, e6 = null !== n ? n.getContextAttributes().alpha : s6;
    let d = null, f = null, g = [], m = [];
    this.domElement = i, this.debug = { checkShaderErrors: true, onShaderError: null }, this.autoClear = true, this.autoClearColor = true, this.autoClearDepth = true, this.autoClearStencil = true, this.sortObjects = true, this.clippingPlanes = [], this.localClippingEnabled = false, this.outputEncoding = rl, this.useLegacyLights = true, this.toneMapping = Nc, this.toneMappingExposure = 1;
    let v4 = this, y4 = false, x4 = 0, _ = 0, b = null, M = -1, E = null, w4 = new Fi(), A = new Fi(), S = null, T = i.width, C = i.height, P = 1, I = null, L = null, O = new Fi(0, 0, T, C), N = new Fi(0, 0, T, C), D = false, R = new kc(), q4 = false, B = false, k = null, F = new Ot(), U = new K(), z = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };
    function V() {
      return null === b ? P : 1;
    }
    q(V, "getTargetPixelRatio");
    let j, G, W, H, Y, X, Z, Q, J, $, tt, et, it, nt2, rt, ot, st, at2, lt, ut, ht2, ct, pt, dt2, ft = n;
    function gt(t49, e10) {
      for (let n10 = 0; n10 < t49.length; n10++) {
        let r6 = t49[n10], o6 = i.getContext(r6, e10);
        if (null !== o6)
          return o6;
      }
      return null;
    }
    q(gt, "getContext");
    try {
      let t49 = { alpha: true, depth: r, stencil: o3, antialias: a, premultipliedAlpha: l, preserveDrawingBuffer: h, powerPreference: c2, failIfMajorPerformanceCaveat: p4 };
      if ("setAttribute" in i && i.setAttribute("data-engine", "three.js r".concat(zc)), i.addEventListener("webglcontextlost", yt, false), i.addEventListener("webglcontextrestored", xt, false), i.addEventListener("webglcontextcreationerror", _t, false), null === ft) {
        let e10 = ["webgl2", "webgl", "experimental-webgl"];
        if (true === v4.isWebGL1Renderer && e10.shift(), ft = gt(e10, t49), null === ft)
          throw gt(e10) ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
      }
      void 0 === ft.getShaderPrecisionFormat && (ft.getShaderPrecisionFormat = function() {
        return { rangeMin: 1, rangeMax: 1, precision: 1 };
      });
    } catch (t49) {
      throw console.error("THREE.WebGLRenderer: " + t49.message), t49;
    }
    function mt2() {
      j = new jme(ft), G = new Fme(ft, j, t48), j.init(G), ct = new b0e(ft, j, G), W = new y0e(ft, j, G), H = new Xme(), Y = new o0e(), X = new x0e(ft, j, W, Y, G, ct, H), Z = new zme(v4), Q = new Hme(v4), J = new ope(ft, G), pt = new kme(ft, j, J, G), $ = new Wme(ft, J, H, pt), tt = new Jme(ft, $, J, H), lt = new Kme(ft, G, X), ot = new Ume(Y), et = new s0e(v4, Z, Q, j, G, pt, ot), it = new w0e(v4, Y), nt2 = new l0e(), rt = new d0e(j, G), at2 = new Bme(v4, Z, Q, W, tt, e6, l), st = new v0e(v4, tt, G), dt2 = new M0e(ft, H, G, W), ut = new qme(ft, j, H, G), ht2 = new Yme(ft, j, H, G), H.programs = et.programs, v4.capabilities = G, v4.extensions = j, v4.properties = Y, v4.renderLists = nt2, v4.shadowMap = st, v4.state = W, v4.info = H;
    }
    q(mt2, "initGLContext"), mt2();
    let vt = new rO(v4, ft);
    function yt(t49) {
      t49.preventDefault(), console.log("THREE.WebGLRenderer: Context Lost."), y4 = true;
    }
    function xt() {
      console.log("THREE.WebGLRenderer: Context Restored."), y4 = false;
      let t49 = H.autoReset, e10 = st.enabled, i10 = st.autoUpdate, n10 = st.needsUpdate, r6 = st.type;
      mt2(), H.autoReset = t49, st.enabled = e10, st.autoUpdate = i10, st.needsUpdate = n10, st.type = r6;
    }
    function _t(t49) {
      console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ", t49.statusMessage);
    }
    function bt(t49) {
      let e10 = t49.target;
      e10.removeEventListener("dispose", bt), Mt(e10);
    }
    function Mt(t49) {
      Et(t49), Y.remove(t49);
    }
    function Et(t49) {
      let e10 = Y.get(t49).programs;
      void 0 !== e10 && (e10.forEach(function(t50) {
        et.releaseProgram(t50);
      }), t49.isShaderMaterial && et.releaseShaderCache(t49));
    }
    this.xr = vt, this.getContext = function() {
      return ft;
    }, this.getContextAttributes = function() {
      return ft.getContextAttributes();
    }, this.forceContextLoss = function() {
      let t49 = j.get("WEBGL_lose_context");
      t49 && t49.loseContext();
    }, this.forceContextRestore = function() {
      let t49 = j.get("WEBGL_lose_context");
      t49 && t49.restoreContext();
    }, this.getPixelRatio = function() {
      return P;
    }, this.setPixelRatio = function(t49) {
      void 0 !== t49 && (P = t49, this.setSize(T, C, false));
    }, this.getSize = function(t49) {
      return t49.set(T, C);
    }, this.setSize = function(t49, e10, n10 = true) {
      vt.isPresenting ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (T = t49, C = e10, i.width = Math.floor(t49 * P), i.height = Math.floor(e10 * P), true === n10 && (i.style.width = t49 + "px", i.style.height = e10 + "px"), this.setViewport(0, 0, t49, e10));
    }, this.getDrawingBufferSize = function(t49) {
      return t49.set(T * P, C * P).floor();
    }, this.setDrawingBufferSize = function(t49, e10, n10) {
      T = t49, C = e10, P = n10, i.width = Math.floor(t49 * n10), i.height = Math.floor(e10 * n10), this.setViewport(0, 0, t49, e10);
    }, this.getCurrentViewport = function(t49) {
      return t49.copy(w4);
    }, this.getViewport = function(t49) {
      return t49.copy(O);
    }, this.setViewport = function(t49, e10, i10, n10) {
      t49.isVector4 ? O.set(t49.x, t49.y, t49.z, t49.w) : O.set(t49, e10, i10, n10), W.viewport(w4.copy(O).multiplyScalar(P).floor());
    }, this.getScissor = function(t49) {
      return t49.copy(N);
    }, this.setScissor = function(t49, e10, i10, n10) {
      t49.isVector4 ? N.set(t49.x, t49.y, t49.z, t49.w) : N.set(t49, e10, i10, n10), W.scissor(A.copy(N).multiplyScalar(P).floor());
    }, this.getScissorTest = function() {
      return D;
    }, this.setScissorTest = function(t49) {
      W.setScissorTest(D = t49);
    }, this.setOpaqueSort = function(t49) {
      I = t49;
    }, this.setTransparentSort = function(t49) {
      L = t49;
    }, this.getClearColor = function(t49) {
      return t49.copy(at2.getClearColor());
    }, this.setClearColor = function() {
      at2.setClearColor.apply(at2, arguments);
    }, this.getClearAlpha = function() {
      return at2.getClearAlpha();
    }, this.setClearAlpha = function() {
      at2.setClearAlpha.apply(at2, arguments);
    }, this.clear = function(t49 = true, e10 = true, i10 = true) {
      let n10 = 0;
      t49 && (n10 |= 16384), e10 && (n10 |= 256), i10 && (n10 |= 1024), ft.clear(n10);
    }, this.clearColor = function() {
      this.clear(true, false, false);
    }, this.clearDepth = function() {
      this.clear(false, true, false);
    }, this.clearStencil = function() {
      this.clear(false, false, true);
    }, this.dispose = function() {
      i.removeEventListener("webglcontextlost", yt, false), i.removeEventListener("webglcontextrestored", xt, false), i.removeEventListener("webglcontextcreationerror", _t, false), nt2.dispose(), rt.dispose(), Y.dispose(), Z.dispose(), Q.dispose(), tt.dispose(), pt.dispose(), dt2.dispose(), et.dispose(), vt.dispose(), vt.removeEventListener("sessionstart", St2), vt.removeEventListener("sessionend", Tt), k && (k.dispose(), k = null), Ct.stop();
    }, q(yt, "onContextLost"), q(xt, "onContextRestore"), q(_t, "onContextCreationError"), q(bt, "onMaterialDispose"), q(Mt, "deallocateMaterial"), q(Et, "releaseMaterialProgramReferences"), this.renderBufferDirect = function(t49, e10, i10, n10, r6, o6) {
      null === e10 && (e10 = z);
      let s10 = r6.isMesh && r6.matrixWorld.determinant() < 0, a3 = Bt(t49, e10, i10, n10, r6);
      W.setMaterial(n10, s10);
      let l3 = i10.index, u2 = 1;
      true === n10.wireframe && (l3 = $.getWireframeAttribute(i10), u2 = 2);
      let h2 = i10.drawRange, c4 = i10.attributes.position, p10 = h2.start * u2, d4 = (h2.start + h2.count) * u2;
      null !== o6 && (p10 = Math.max(p10, o6.start * u2), d4 = Math.min(d4, (o6.start + o6.count) * u2)), null !== l3 ? (p10 = Math.max(p10, 0), d4 = Math.min(d4, l3.count)) : null != c4 && (p10 = Math.max(p10, 0), d4 = Math.min(d4, c4.count));
      let f2 = d4 - p10;
      if (f2 < 0 || f2 === 1 / 0)
        return;
      pt.setup(r6, n10, a3, i10, l3);
      let g4, m4 = ut;
      if (null !== l3 && (g4 = J.get(l3), m4 = ht2, m4.setIndex(g4)), r6.isMesh)
        true === n10.wireframe ? (W.setLineWidth(n10.wireframeLinewidth * V()), m4.setMode(1)) : m4.setMode(4);
      else if (r6.isLine) {
        let t50 = n10.linewidth;
        void 0 === t50 && (t50 = 1), W.setLineWidth(t50 * V()), r6.isLineSegments ? m4.setMode(1) : r6.isLineLoop ? m4.setMode(2) : m4.setMode(3);
      } else
        r6.isPoints ? m4.setMode(0) : r6.isSprite && m4.setMode(4);
      if (r6.isInstancedMesh)
        m4.renderInstances(p10, f2, r6.count);
      else if (i10.isInstancedBufferGeometry) {
        let t50 = void 0 !== i10._maxInstanceCount ? i10._maxInstanceCount : 1 / 0, e11 = Math.min(i10.instanceCount, t50);
        m4.renderInstances(p10, f2, e11);
      } else
        m4.render(p10, f2);
    }, this.compile = function(t49, e10) {
      function i10(t50, e11, i11) {
        true === t50.transparent && t50.side === Dr && false === t50.forceSinglePass ? (t50.side = _s, t50.needsUpdate = true, Rt(t50, e11, i11), t50.side = Pa, t50.needsUpdate = true, Rt(t50, e11, i11), t50.side = Dr) : Rt(t50, e11, i11);
      }
      q(i10, "prepare"), f = rt.get(t49), f.init(), m.push(f), t49.traverseVisible(function(t50) {
        t50.isLight && t50.layers.test(e10.layers) && (f.pushLight(t50), t50.castShadow && f.pushShadow(t50));
      }), f.setupLights(v4.useLegacyLights), t49.traverse(function(e11) {
        let n10 = e11.material;
        if (n10)
          if (Array.isArray(n10))
            for (let r6 = 0; r6 < n10.length; r6++) {
              i10(n10[r6], t49, e11);
            }
          else
            i10(n10, t49, e11);
      }), m.pop(), f = null;
    };
    let wt2 = null;
    function At(t49) {
      wt2 && wt2(t49);
    }
    function St2() {
      Ct.stop();
    }
    function Tt() {
      Ct.start();
    }
    q(At, "onAnimationFrame"), q(St2, "onXRSessionStart"), q(Tt, "onXRSessionEnd");
    let Ct = new HW();
    function Pt(t49, e10, i10, n10) {
      if (false === t49.visible)
        return;
      if (t49.layers.test(e10.layers)) {
        if (t49.isGroup)
          i10 = t49.renderOrder;
        else if (t49.isLOD)
          true === t49.autoUpdate && t49.update(e10);
        else if (t49.isLight)
          f.pushLight(t49), t49.castShadow && f.pushShadow(t49);
        else if (t49.isSprite) {
          if (!t49.frustumCulled || R.intersectsSprite(t49)) {
            n10 && U.setFromMatrixPosition(t49.matrixWorld).applyMatrix4(F);
            let e11 = tt.update(t49), r10 = t49.material;
            r10.visible && d.push(t49, e11, r10, i10, U.z, null);
          }
        } else if ((t49.isMesh || t49.isLine || t49.isPoints) && (t49.isSkinnedMesh && t49.skeleton.frame !== H.render.frame && (t49.skeleton.update(), t49.skeleton.frame = H.render.frame), !t49.frustumCulled || R.intersectsObject(t49))) {
          n10 && U.setFromMatrixPosition(t49.matrixWorld).applyMatrix4(F);
          let e11 = tt.update(t49), r10 = t49.material;
          if (Array.isArray(r10)) {
            let n11 = e11.groups;
            for (let o6 = 0, s10 = n11.length; o6 < s10; o6++) {
              let s11 = n11[o6], a3 = r10[s11.materialIndex];
              a3 && a3.visible && d.push(t49, e11, a3, i10, U.z, s11);
            }
          } else
            r10.visible && d.push(t49, e11, r10, i10, U.z, null);
        }
      }
      let r6 = t49.children;
      for (let t50 = 0, o6 = r6.length; t50 < o6; t50++)
        Pt(r6[t50], e10, i10, n10);
    }
    function It(t49, e10, i10, n10) {
      let r6 = t49.opaque, o6 = t49.transmissive, s10 = t49.transparent;
      f.setupLightsView(i10), true === q4 && ot.setGlobalState(v4.clippingPlanes, i10), o6.length > 0 && Lt(r6, o6, e10, i10), n10 && W.viewport(w4.copy(n10)), r6.length > 0 && Nt(r6, e10, i10), o6.length > 0 && Nt(o6, e10, i10), s10.length > 0 && Nt(s10, e10, i10), W.buffers.depth.setTest(true), W.buffers.depth.setMask(true), W.buffers.color.setMask(true), W.setPolygonOffset(false);
    }
    function Lt(t49, e10, i10, n10) {
      if (null === k) {
        let t50 = G.isWebGL2;
        k = new ti(1024, 1024, { generateMipmaps: true, type: j.has("EXT_color_buffer_half_float") ? Np : Mr, minFilter: Dp, samples: t50 && true === a ? 4 : 0 });
      }
      let r6 = v4.getRenderTarget();
      v4.setRenderTarget(k), v4.clear();
      let o6 = v4.toneMapping;
      v4.toneMapping = Nc, Nt(t49, i10, n10), X.updateMultisampleRenderTarget(k), X.updateRenderTargetMipmap(k);
      let s10 = false;
      for (let t50 = 0, r10 = e10.length; t50 < r10; t50++) {
        let r11 = e10[t50], o7 = r11.object, a3 = r11.geometry, l3 = r11.material, u2 = r11.group;
        if (l3.side === Dr && o7.layers.test(n10.layers)) {
          let t51 = l3.side;
          l3.side = _s, l3.needsUpdate = true, Dt(o7, i10, n10, a3, l3, u2), l3.side = t51, l3.needsUpdate = true, s10 = true;
        }
      }
      true === s10 && (X.updateMultisampleRenderTarget(k), X.updateRenderTargetMipmap(k)), v4.setRenderTarget(r6), v4.toneMapping = o6;
    }
    function Nt(t49, e10, i10) {
      let n10 = true === e10.isScene ? e10.overrideMaterial : null;
      for (let r6 = 0, o6 = t49.length; r6 < o6; r6++) {
        let o7 = t49[r6], s10 = o7.object, a3 = o7.geometry, l3 = null === n10 ? o7.material : n10, u2 = o7.group;
        s10.layers.test(i10.layers) && Dt(s10, e10, i10, a3, l3, u2);
      }
    }
    function Dt(t49, e10, i10, n10, r6, o6) {
      t49.onBeforeRender(v4, e10, i10, n10, r6, o6), t49.modelViewMatrix.multiplyMatrices(i10.matrixWorldInverse, t49.matrixWorld), t49.normalMatrix.getNormalMatrix(t49.modelViewMatrix), r6.onBeforeRender(v4, e10, i10, n10, t49, o6), true === r6.transparent && r6.side === Dr && false === r6.forceSinglePass ? (r6.side = _s, r6.needsUpdate = true, v4.renderBufferDirect(i10, e10, n10, r6, t49, o6), r6.side = Pa, r6.needsUpdate = true, v4.renderBufferDirect(i10, e10, n10, r6, t49, o6), r6.side = Dr) : v4.renderBufferDirect(i10, e10, n10, r6, t49, o6), t49.onAfterRender(v4, e10, i10, n10, r6, o6);
    }
    function Rt(t49, e10, i10) {
      true !== e10.isScene && (e10 = z);
      let n10 = Y.get(t49), r6 = f.state.lights, o6 = f.state.shadowsArray, s10 = r6.state.version, a3 = et.getParameters(t49, r6.state, o6, e10, i10), l3 = et.getProgramCacheKey(a3), u2 = n10.programs;
      n10.environment = t49.isMeshStandardMaterial ? e10.environment : null, n10.fog = e10.fog, n10.envMap = (t49.isMeshStandardMaterial ? Q : Z).get(t49.envMap || n10.environment), void 0 === u2 && (t49.addEventListener("dispose", bt), u2 = /* @__PURE__ */ new Map(), n10.programs = u2);
      let h2 = u2.get(l3);
      if (void 0 !== h2) {
        if (n10.currentProgram === h2 && n10.lightsStateVersion === s10)
          return qt(t49, a3), h2;
      } else
        a3.uniforms = et.getUniforms(t49), t49.onBuild(i10, a3, v4), t49.onBeforeCompile(a3, v4), h2 = et.acquireProgram(a3, l3), u2.set(l3, h2), n10.uniforms = a3.uniforms;
      let c4 = n10.uniforms;
      (!t49.isShaderMaterial && !t49.isRawShaderMaterial || true === t49.clipping) && (c4.clippingPlanes = ot.uniform), qt(t49, a3), n10.needsLights = Ft2(t49), n10.lightsStateVersion = s10, n10.needsLights && (c4.ambientLightColor.value = r6.state.ambient, c4.lightProbe.value = r6.state.probe, c4.directionalLights.value = r6.state.directional, c4.directionalLightShadows.value = r6.state.directionalShadow, c4.spotLights.value = r6.state.spot, c4.spotLightShadows.value = r6.state.spotShadow, c4.rectAreaLights.value = r6.state.rectArea, c4.ltc_1.value = r6.state.rectAreaLTC1, c4.ltc_2.value = r6.state.rectAreaLTC2, c4.pointLights.value = r6.state.point, c4.pointLightShadows.value = r6.state.pointShadow, c4.hemisphereLights.value = r6.state.hemi, c4.directionalShadowMap.value = r6.state.directionalShadowMap, c4.directionalShadowMatrix.value = r6.state.directionalShadowMatrix, c4.spotShadowMap.value = r6.state.spotShadowMap, c4.spotLightMatrix.value = r6.state.spotLightMatrix, c4.spotLightMap.value = r6.state.spotLightMap, c4.pointShadowMap.value = r6.state.pointShadowMap, c4.pointShadowMatrix.value = r6.state.pointShadowMatrix);
      let p10 = h2.getUniforms(), d4 = vg.seqWithValue(p10.seq, c4);
      return n10.currentProgram = h2, n10.uniformsList = d4, h2;
    }
    function qt(t49, e10) {
      let i10 = Y.get(t49);
      i10.outputEncoding = e10.outputEncoding, i10.instancing = e10.instancing, i10.skinning = e10.skinning, i10.morphTargets = e10.morphTargets, i10.morphNormals = e10.morphNormals, i10.morphColors = e10.morphColors, i10.morphTargetsCount = e10.morphTargetsCount, i10.numClippingPlanes = e10.numClippingPlanes, i10.numIntersection = e10.numClipIntersection, i10.vertexAlphas = e10.vertexAlphas, i10.vertexTangents = e10.vertexTangents, i10.toneMapping = e10.toneMapping;
    }
    function Bt(t49, e10, i10, n10, r6) {
      true !== e10.isScene && (e10 = z), X.resetTextureUnits();
      let o6 = e10.fog, s10 = n10.isMeshStandardMaterial ? e10.environment : null, a3 = null === b ? v4.outputEncoding : true === b.isXRRenderTarget ? b.texture.encoding : rl, l3 = (n10.isMeshStandardMaterial ? Q : Z).get(n10.envMap || s10), u2 = true === n10.vertexColors && !!i10.attributes.color && 4 === i10.attributes.color.itemSize, h2 = !!n10.normalMap && !!i10.attributes.tangent, c4 = !!i10.morphAttributes.position, p10 = !!i10.morphAttributes.normal, d4 = !!i10.morphAttributes.color, g4 = n10.toneMapped ? v4.toneMapping : Nc, m4 = i10.morphAttributes.position || i10.morphAttributes.normal || i10.morphAttributes.color, y10 = void 0 !== m4 ? m4.length : 0, x10 = Y.get(n10), _4 = f.state.lights;
      if (true === q4 && (true === B || t49 !== E)) {
        let e11 = t49 === E && n10.id === M;
        ot.setState(n10, t49, e11);
      }
      let w10 = false;
      n10.version === x10.__version ? (x10.needsLights && x10.lightsStateVersion !== _4.state.version || x10.outputEncoding !== a3 || r6.isInstancedMesh && false === x10.instancing || !r6.isInstancedMesh && true === x10.instancing || r6.isSkinnedMesh && false === x10.skinning || !r6.isSkinnedMesh && true === x10.skinning || x10.envMap !== l3 || true === n10.fog && x10.fog !== o6 || void 0 !== x10.numClippingPlanes && (x10.numClippingPlanes !== ot.numPlanes || x10.numIntersection !== ot.numIntersection) || x10.vertexAlphas !== u2 || x10.vertexTangents !== h2 || x10.morphTargets !== c4 || x10.morphNormals !== p10 || x10.morphColors !== d4 || x10.toneMapping !== g4 || true === G.isWebGL2 && x10.morphTargetsCount !== y10) && (w10 = true) : (w10 = true, x10.__version = n10.version);
      let A4 = x10.currentProgram;
      true === w10 && (A4 = Rt(n10, e10, r6));
      let S4 = false, T4 = false, I4 = false, L4 = A4.getUniforms(), O10 = x10.uniforms;
      if (W.useProgram(A4.program) && (S4 = true, T4 = true, I4 = true), n10.id !== M && (M = n10.id, T4 = true), S4 || E !== t49) {
        if (L4.setValue(ft, "projectionMatrix", t49.projectionMatrix), G.logarithmicDepthBuffer && L4.setValue(ft, "logDepthBufFC", 2 / (Math.log(t49.far + 1) / Math.LN2)), E !== t49 && (E = t49, T4 = true, I4 = true), n10.isShaderMaterial || n10.isMeshPhongMaterial || n10.isMeshToonMaterial || n10.isMeshStandardMaterial || n10.envMap) {
          let e11 = L4.map.cameraPosition;
          void 0 !== e11 && e11.setValue(ft, U.setFromMatrixPosition(t49.matrixWorld));
        }
        (n10.isMeshPhongMaterial || n10.isMeshToonMaterial || n10.isMeshLambertMaterial || n10.isMeshBasicMaterial || n10.isMeshStandardMaterial || n10.isShaderMaterial) && L4.setValue(ft, "isOrthographic", true === t49.isOrthographicCamera), (n10.isMeshPhongMaterial || n10.isMeshToonMaterial || n10.isMeshLambertMaterial || n10.isMeshBasicMaterial || n10.isMeshStandardMaterial || n10.isShaderMaterial || n10.isShadowMaterial || r6.isSkinnedMesh) && L4.setValue(ft, "viewMatrix", t49.matrixWorldInverse);
      }
      if (r6.isSkinnedMesh) {
        L4.setOptional(ft, r6, "bindMatrix"), L4.setOptional(ft, r6, "bindMatrixInverse");
        let t50 = r6.skeleton;
        t50 && (G.floatVertexTextures ? (null === t50.boneTexture && t50.computeBoneTexture(), L4.setValue(ft, "boneTexture", t50.boneTexture, X), L4.setValue(ft, "boneTextureSize", t50.boneTextureSize)) : console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."));
      }
      let N4 = i10.morphAttributes;
      if ((void 0 !== N4.position || void 0 !== N4.normal || void 0 !== N4.color && true === G.isWebGL2) && lt.update(r6, i10, A4), (T4 || x10.receiveShadow !== r6.receiveShadow) && (x10.receiveShadow = r6.receiveShadow, L4.setValue(ft, "receiveShadow", r6.receiveShadow)), n10.isMeshGouraudMaterial && null !== n10.envMap && (O10.envMap.value = l3, O10.flipEnvMap.value = l3.isCubeTexture && false === l3.isRenderTargetTexture ? -1 : 1), T4 && (L4.setValue(ft, "toneMappingExposure", v4.toneMappingExposure), x10.needsLights && kt(O10, I4), o6 && true === n10.fog && it.refreshFogUniforms(O10, o6), it.refreshMaterialUniforms(O10, n10, P, C, k), vg.upload(ft, x10.uniformsList, O10, X)), n10.isShaderMaterial && true === n10.uniformsNeedUpdate && (vg.upload(ft, x10.uniformsList, O10, X), n10.uniformsNeedUpdate = false), n10.isSpriteMaterial && L4.setValue(ft, "center", r6.center), L4.setValue(ft, "modelViewMatrix", r6.modelViewMatrix), L4.setValue(ft, "normalMatrix", r6.normalMatrix), L4.setValue(ft, "modelMatrix", r6.matrixWorld), n10.isShaderMaterial || n10.isRawShaderMaterial) {
        let t50 = n10.uniformsGroups;
        for (let e11 = 0, i11 = t50.length; e11 < i11; e11++)
          if (G.isWebGL2) {
            let i12 = t50[e11];
            dt2.update(i12, A4), dt2.bind(i12, A4);
          } else
            console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");
      }
      return A4;
    }
    function kt(t49, e10) {
      t49.ambientLightColor.needsUpdate = e10, t49.lightProbe.needsUpdate = e10, t49.directionalLights.needsUpdate = e10, t49.directionalLightShadows.needsUpdate = e10, t49.pointLights.needsUpdate = e10, t49.pointLightShadows.needsUpdate = e10, t49.spotLights.needsUpdate = e10, t49.spotLightShadows.needsUpdate = e10, t49.rectAreaLights.needsUpdate = e10, t49.hemisphereLights.needsUpdate = e10;
    }
    function Ft2(t49) {
      return t49.isMeshLambertMaterial || t49.isMeshToonMaterial || t49.isMeshPhongMaterial || t49.isMeshStandardMaterial || t49.isShadowMaterial || t49.isShaderMaterial && true === t49.lights;
    }
    Ct.setAnimationLoop(At), typeof self < "u" && Ct.setContext(self), this.setAnimationLoop = function(t49) {
      wt2 = t49, vt.setAnimationLoop(t49), null === t49 ? Ct.stop() : Ct.start();
    }, vt.addEventListener("sessionstart", St2), vt.addEventListener("sessionend", Tt), this.render = function(t49, e10) {
      if (void 0 !== e10 && true !== e10.isCamera)
        return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
      if (true === y4)
        return;
      true === t49.matrixWorldAutoUpdate && t49.updateMatrixWorld(), null === e10.parent && true === e10.matrixWorldAutoUpdate && e10.updateMatrixWorld(), true === vt.enabled && true === vt.isPresenting && (true === vt.cameraAutoUpdate && vt.updateCamera(e10), e10 = vt.getCamera()), true === t49.isScene && t49.onBeforeRender(v4, t49, e10, b), f = rt.get(t49, m.length), f.init(), m.push(f), F.multiplyMatrices(e10.projectionMatrix, e10.matrixWorldInverse), R.setFromProjectionMatrix(F), B = this.localClippingEnabled, q4 = ot.init(this.clippingPlanes, B), d = nt2.get(t49, g.length), d.init(), g.push(d), Pt(t49, e10, 0, v4.sortObjects), d.finish(), true === v4.sortObjects && d.sort(I, L), true === q4 && ot.beginShadows();
      let i10 = f.state.shadowsArray;
      if (st.render(i10, t49, e10), true === q4 && ot.endShadows(), true === this.info.autoReset && this.info.reset(), at2.render(d, t49), f.setupLights(v4.useLegacyLights), e10.isArrayCamera) {
        let i11 = e10.cameras;
        for (let e11 = 0, n10 = i11.length; e11 < n10; e11++) {
          let n11 = i11[e11];
          It(d, t49, n11, n11.viewport);
        }
      } else
        It(d, t49, e10);
      null !== b && (X.updateMultisampleRenderTarget(b), X.updateRenderTargetMipmap(b)), true === t49.isScene && t49.onAfterRender(v4, t49, e10), pt.resetDefaultState(), M = -1, E = null, m.pop(), f = m.length > 0 ? m[m.length - 1] : null, g.pop(), d = g.length > 0 ? g[g.length - 1] : null;
    }, q(Pt, "projectObject"), q(It, "renderScene"), q(Lt, "renderTransmissionPass"), q(Nt, "renderObjects"), q(Dt, "renderObject"), q(Rt, "getProgram"), q(qt, "updateCommonMaterialProperties"), q(Bt, "setProgram"), q(kt, "markUniformsLightsNeedsUpdate"), q(Ft2, "materialNeedsLights"), this.getActiveCubeFace = function() {
      return x4;
    }, this.getActiveMipmapLevel = function() {
      return _;
    }, this.getRenderTarget = function() {
      return b;
    }, this.setRenderTargetTextures = function(t49, e10, i10) {
      Y.get(t49.texture).__webglTexture = e10, Y.get(t49.depthTexture).__webglTexture = i10;
      let n10 = Y.get(t49);
      n10.__hasExternalTextures = true, n10.__hasExternalTextures && (n10.__autoAllocateDepthBuffer = void 0 === i10, n10.__autoAllocateDepthBuffer || true === j.has("WEBGL_multisampled_render_to_texture") && (console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"), n10.__useRenderToTexture = false));
    }, this.setRenderTargetFramebuffer = function(t49, e10) {
      let i10 = Y.get(t49);
      i10.__webglFramebuffer = e10, i10.__useDefaultFramebuffer = void 0 === e10;
    }, this.setRenderTarget = function(t49, e10 = 0, i10 = 0) {
      b = t49, x4 = e10, _ = i10;
      let n10 = true, r6 = null, o6 = false, s10 = false;
      if (t49) {
        let i11 = Y.get(t49);
        void 0 !== i11.__useDefaultFramebuffer ? (W.bindFramebuffer(36160, null), n10 = false) : void 0 === i11.__webglFramebuffer ? X.setupRenderTarget(t49) : i11.__hasExternalTextures && X.rebindTextures(t49, Y.get(t49.texture).__webglTexture, Y.get(t49.depthTexture).__webglTexture);
        let a3 = t49.texture;
        (a3.isData3DTexture || a3.isDataArrayTexture || a3.isCompressedArrayTexture) && (s10 = true);
        let l3 = Y.get(t49).__webglFramebuffer;
        t49.isWebGLCubeRenderTarget ? (r6 = l3[e10], o6 = true) : r6 = G.isWebGL2 && t49.samples > 0 && false === X.useMultisampledRTT(t49) ? Y.get(t49).__webglMultisampledFramebuffer : l3, w4.copy(t49.viewport), A.copy(t49.scissor), S = t49.scissorTest;
      } else
        w4.copy(O).multiplyScalar(P).floor(), A.copy(N).multiplyScalar(P).floor(), S = D;
      if (W.bindFramebuffer(36160, r6) && G.drawBuffers && n10 && W.drawBuffers(t49, r6), W.viewport(w4), W.scissor(A), W.setScissorTest(S), o6) {
        let n11 = Y.get(t49.texture);
        ft.framebufferTexture2D(36160, 36064, 34069 + e10, n11.__webglTexture, i10);
      } else if (s10) {
        let n11 = Y.get(t49.texture), r10 = e10 || 0;
        ft.framebufferTextureLayer(36160, 36064, n11.__webglTexture, i10 || 0, r10);
      }
      M = -1;
    }, this.readRenderTargetPixels = function(t49, e10, i10, n10, r6, o6, s10) {
      if (!t49 || !t49.isWebGLRenderTarget)
        return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
      let a3 = Y.get(t49).__webglFramebuffer;
      if (t49.isWebGLCubeRenderTarget && void 0 !== s10 && (a3 = a3[s10]), a3) {
        W.bindFramebuffer(36160, a3);
        try {
          let s11 = t49.texture, a7 = s11.format, l3 = s11.type;
          if (a7 !== Gs && ct.convert(a7) !== ft.getParameter(35739))
            return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
          let u2 = l3 === Np && (j.has("EXT_color_buffer_half_float") || G.isWebGL2 && j.has("EXT_color_buffer_float"));
          if (!(l3 === Mr || ct.convert(l3) === ft.getParameter(35738) || l3 === Au && (G.isWebGL2 || j.has("OES_texture_float") || j.has("WEBGL_color_buffer_float")) || u2))
            return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
          e10 >= 0 && e10 <= t49.width - n10 && i10 >= 0 && i10 <= t49.height - r6 && ft.readPixels(e10, i10, n10, r6, ct.convert(a7), ct.convert(l3), o6);
        } finally {
          let t50 = null !== b ? Y.get(b).__webglFramebuffer : null;
          W.bindFramebuffer(36160, t50);
        }
      }
    }, this.copyFramebufferToTexture = function(t49, e10, i10 = 0) {
      let n10 = Math.pow(2, -i10), r6 = Math.floor(e10.image.width * n10), o6 = Math.floor(e10.image.height * n10);
      X.setTexture2D(e10, 0), ft.copyTexSubImage2D(3553, i10, 0, 0, t49.x, t49.y, r6, o6), W.unbindTexture();
    }, this.copyTextureToTexture = function(t49, e10, i10, n10 = 0) {
      let r6 = e10.image.width, o6 = e10.image.height, s10 = ct.convert(i10.format), a3 = ct.convert(i10.type);
      X.setTexture2D(i10, 0), ft.pixelStorei(37440, i10.flipY), ft.pixelStorei(37441, i10.premultiplyAlpha), ft.pixelStorei(3317, i10.unpackAlignment), e10.isDataTexture ? ft.texSubImage2D(3553, n10, t49.x, t49.y, r6, o6, s10, a3, e10.image.data) : e10.isCompressedTexture ? ft.compressedTexSubImage2D(3553, n10, t49.x, t49.y, e10.mipmaps[0].width, e10.mipmaps[0].height, s10, e10.mipmaps[0].data) : ft.texSubImage2D(3553, n10, t49.x, t49.y, s10, a3, e10.image), 0 === n10 && i10.generateMipmaps && ft.generateMipmap(3553), W.unbindTexture();
    }, this.copyTextureToTexture3D = function(t49, e10, i10, n10, r6 = 0) {
      if (v4.isWebGL1Renderer)
        return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");
      let o6, s10 = t49.max.x - t49.min.x + 1, a3 = t49.max.y - t49.min.y + 1, l3 = t49.max.z - t49.min.z + 1, u2 = ct.convert(n10.format), h2 = ct.convert(n10.type);
      if (n10.isData3DTexture)
        X.setTexture3D(n10, 0), o6 = 32879;
      else {
        if (!n10.isDataArrayTexture)
          return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");
        X.setTexture2DArray(n10, 0), o6 = 35866;
      }
      ft.pixelStorei(37440, n10.flipY), ft.pixelStorei(37441, n10.premultiplyAlpha), ft.pixelStorei(3317, n10.unpackAlignment);
      let c4 = ft.getParameter(3314), p10 = ft.getParameter(32878), d4 = ft.getParameter(3316), f2 = ft.getParameter(3315), g4 = ft.getParameter(32877), m4 = i10.isCompressedTexture ? i10.mipmaps[0] : i10.image;
      ft.pixelStorei(3314, m4.width), ft.pixelStorei(32878, m4.height), ft.pixelStorei(3316, t49.min.x), ft.pixelStorei(3315, t49.min.y), ft.pixelStorei(32877, t49.min.z), i10.isDataTexture || i10.isData3DTexture ? ft.texSubImage3D(o6, r6, e10.x, e10.y, e10.z, s10, a3, l3, u2, h2, m4.data) : i10.isCompressedArrayTexture ? (console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."), ft.compressedTexSubImage3D(o6, r6, e10.x, e10.y, e10.z, s10, a3, l3, u2, m4.data)) : ft.texSubImage3D(o6, r6, e10.x, e10.y, e10.z, s10, a3, l3, u2, h2, m4), ft.pixelStorei(3314, c4), ft.pixelStorei(32878, p10), ft.pixelStorei(3316, d4), ft.pixelStorei(3315, f2), ft.pixelStorei(32877, g4), 0 === r6 && n10.generateMipmaps && ft.generateMipmap(o6), W.unbindTexture();
    }, this.initTexture = function(t49) {
      t49.isCubeTexture ? X.setTextureCube(t49, 0) : t49.isData3DTexture ? X.setTexture3D(t49, 0) : t49.isDataArrayTexture || t49.isCompressedArrayTexture ? X.setTexture2DArray(t49, 0) : X.setTexture2D(t49, 0), W.unbindTexture();
    }, this.resetState = function() {
      x4 = 0, _ = 0, b = null, W.reset(), pt.reset();
    }, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", { detail: this }));
  }
  get physicallyCorrectLights() {
    return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."), !this.useLegacyLights;
  }
  set physicallyCorrectLights(t48) {
    console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."), this.useLegacyLights = !t48;
  }
};
q(EL, "WebGLRenderer");
var Ag = EL;
var TL = class extends Ag {
};
q(TL, "WebGL1Renderer");
var Cg = TL;
Cg.prototype.isWebGL1Renderer = true;
var SL = class extends ci {
  constructor() {
    super(), this.isScene = true, this.type = "Scene", this.background = null, this.environment = null, this.fog = null, this.backgroundBlurriness = 0, this.backgroundIntensity = 1, this.overrideMaterial = null, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", { detail: this }));
  }
  copy(t48, e6) {
    return super.copy(t48, e6), null !== t48.background && (this.background = t48.background.clone()), null !== t48.environment && (this.environment = t48.environment.clone()), null !== t48.fog && (this.fog = t48.fog.clone()), this.backgroundBlurriness = t48.backgroundBlurriness, this.backgroundIntensity = t48.backgroundIntensity, null !== t48.overrideMaterial && (this.overrideMaterial = t48.overrideMaterial.clone()), this.matrixAutoUpdate = t48.matrixAutoUpdate, this;
  }
  toJSON(t48) {
    let e6 = super.toJSON(t48);
    return null !== this.fog && (e6.object.fog = this.fog.toJSON()), this.backgroundBlurriness > 0 && (e6.object.backgroundBlurriness = this.backgroundBlurriness), 1 !== this.backgroundIntensity && (e6.object.backgroundIntensity = this.backgroundIntensity), e6;
  }
  get autoUpdate() {
    return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."), this.matrixWorldAutoUpdate;
  }
  set autoUpdate(t48) {
    console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."), this.matrixWorldAutoUpdate = t48;
  }
};
q(SL, "Scene");
var Oa = SL;
var AL = class {
  constructor(t48, e6) {
    this.isInterleavedBuffer = true, this.array = t48, this.stride = e6, this.count = void 0 !== t48 ? t48.length / e6 : 0, this.usage = j6, this.updateRange = { offset: 0, count: -1 }, this.version = 0, this.uuid = Cu();
  }
  onUploadCallback() {
  }
  set needsUpdate(t48) {
    true === t48 && this.version++;
  }
  setUsage(t48) {
    return this.usage = t48, this;
  }
  copy(t48) {
    return this.array = new t48.array.constructor(t48.array), this.count = t48.count, this.stride = t48.stride, this.usage = t48.usage, this;
  }
  copyAt(t48, e6, i) {
    t48 *= this.stride, i *= e6.stride;
    for (let n = 0, r = this.stride; n < r; n++)
      this.array[t48 + n] = e6.array[i + n];
    return this;
  }
  set(t48, e6 = 0) {
    return this.array.set(t48, e6), this;
  }
  clone(t48) {
    void 0 === t48.arrayBuffers && (t48.arrayBuffers = {}), void 0 === this.array.buffer._uuid && (this.array.buffer._uuid = Cu()), void 0 === t48.arrayBuffers[this.array.buffer._uuid] && (t48.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer);
    let e6 = new this.array.constructor(t48.arrayBuffers[this.array.buffer._uuid]), i = new this.constructor(e6, this.stride);
    return i.setUsage(this.usage), i;
  }
  onUpload(t48) {
    return this.onUploadCallback = t48, this;
  }
  toJSON(t48) {
    return void 0 === t48.arrayBuffers && (t48.arrayBuffers = {}), void 0 === this.array.buffer._uuid && (this.array.buffer._uuid = Cu()), void 0 === t48.arrayBuffers[this.array.buffer._uuid] && (t48.arrayBuffers[this.array.buffer._uuid] = Array.from(new Uint32Array(this.array.buffer))), { uuid: this.uuid, buffer: this.array.buffer._uuid, type: this.array.constructor.name, stride: this.stride };
  }
};
q(AL, "InterleavedBuffer");
var QE = AL;
var Wo = new K();
var ET = class t33 {
  constructor(t48, e6, i, n = false) {
    this.isInterleavedBufferAttribute = true, this.name = "", this.data = t48, this.itemSize = e6, this.offset = i, this.normalized = n;
  }
  get count() {
    return this.data.count;
  }
  get array() {
    return this.data.array;
  }
  set needsUpdate(t48) {
    this.data.needsUpdate = t48;
  }
  applyMatrix4(t48) {
    for (let e6 = 0, i = this.data.count; e6 < i; e6++)
      Wo.fromBufferAttribute(this, e6), Wo.applyMatrix4(t48), this.setXYZ(e6, Wo.x, Wo.y, Wo.z);
    return this;
  }
  applyNormalMatrix(t48) {
    for (let e6 = 0, i = this.count; e6 < i; e6++)
      Wo.fromBufferAttribute(this, e6), Wo.applyNormalMatrix(t48), this.setXYZ(e6, Wo.x, Wo.y, Wo.z);
    return this;
  }
  transformDirection(t48) {
    for (let e6 = 0, i = this.count; e6 < i; e6++)
      Wo.fromBufferAttribute(this, e6), Wo.transformDirection(t48), this.setXYZ(e6, Wo.x, Wo.y, Wo.z);
    return this;
  }
  setX(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.data.array[t48 * this.data.stride + this.offset] = e6, this;
  }
  setY(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.data.array[t48 * this.data.stride + this.offset + 1] = e6, this;
  }
  setZ(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.data.array[t48 * this.data.stride + this.offset + 2] = e6, this;
  }
  setW(t48, e6) {
    return this.normalized && (e6 = qi(e6, this.array)), this.data.array[t48 * this.data.stride + this.offset + 3] = e6, this;
  }
  getX(t48) {
    let e6 = this.data.array[t48 * this.data.stride + this.offset];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  getY(t48) {
    let e6 = this.data.array[t48 * this.data.stride + this.offset + 1];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  getZ(t48) {
    let e6 = this.data.array[t48 * this.data.stride + this.offset + 2];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  getW(t48) {
    let e6 = this.data.array[t48 * this.data.stride + this.offset + 3];
    return this.normalized && (e6 = Dc(e6, this.array)), e6;
  }
  setXY(t48, e6, i) {
    return t48 = t48 * this.data.stride + this.offset, this.normalized && (e6 = qi(e6, this.array), i = qi(i, this.array)), this.data.array[t48 + 0] = e6, this.data.array[t48 + 1] = i, this;
  }
  setXYZ(t48, e6, i, n) {
    return t48 = t48 * this.data.stride + this.offset, this.normalized && (e6 = qi(e6, this.array), i = qi(i, this.array), n = qi(n, this.array)), this.data.array[t48 + 0] = e6, this.data.array[t48 + 1] = i, this.data.array[t48 + 2] = n, this;
  }
  setXYZW(t48, e6, i, n, r) {
    return t48 = t48 * this.data.stride + this.offset, this.normalized && (e6 = qi(e6, this.array), i = qi(i, this.array), n = qi(n, this.array), r = qi(r, this.array)), this.data.array[t48 + 0] = e6, this.data.array[t48 + 1] = i, this.data.array[t48 + 2] = n, this.data.array[t48 + 3] = r, this;
  }
  clone(e6) {
    if (void 0 === e6) {
      console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");
      let t48 = [];
      for (let e10 = 0; e10 < this.count; e10++) {
        let i = e10 * this.data.stride + this.offset;
        for (let e11 = 0; e11 < this.itemSize; e11++)
          t48.push(this.data.array[i + e11]);
      }
      return new rn(new this.array.constructor(t48), this.itemSize, this.normalized);
    }
    return void 0 === e6.interleavedBuffers && (e6.interleavedBuffers = {}), void 0 === e6.interleavedBuffers[this.data.uuid] && (e6.interleavedBuffers[this.data.uuid] = this.data.clone(e6)), new t33(e6.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);
  }
  toJSON(t48) {
    if (void 0 === t48) {
      console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
      let t49 = [];
      for (let e6 = 0; e6 < this.count; e6++) {
        let i = e6 * this.data.stride + this.offset;
        for (let e10 = 0; e10 < this.itemSize; e10++)
          t49.push(this.data.array[i + e10]);
      }
      return { itemSize: this.itemSize, type: this.array.constructor.name, array: t49, normalized: this.normalized };
    }
    return void 0 === t48.interleavedBuffers && (t48.interleavedBuffers = {}), void 0 === t48.interleavedBuffers[this.data.uuid] && (t48.interleavedBuffers[this.data.uuid] = this.data.toJSON(t48)), { isInterleavedBufferAttribute: true, itemSize: this.itemSize, data: this.data.uuid, offset: this.offset, normalized: this.normalized };
  }
};
q(ET, "InterleavedBufferAttribute");
var Ex = ET;
var CL = class extends ha {
  constructor(t48) {
    super(), this.isSpriteMaterial = true, this.type = "SpriteMaterial", this.color = new at(16777215), this.map = null, this.alphaMap = null, this.rotation = 0, this.sizeAttenuation = true, this.transparent = true, this.fog = true, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.color.copy(t48.color), this.map = t48.map, this.alphaMap = t48.alphaMap, this.rotation = t48.rotation, this.sizeAttenuation = t48.sizeAttenuation, this.fog = t48.fog, this;
  }
};
q(CL, "SpriteMaterial");
var og;
var Tx = CL;
var rx = new K();
var ag = new K();
var lg = new K();
var ug = new qe();
var sx = new qe();
var ZW = new Ot();
var OE = new K();
var ox = new K();
var LE = new K();
var vW = new qe();
var R6 = new qe();
var yW = new qe();
var PL = class extends ci {
  constructor(t48) {
    if (super(), this.isSprite = true, this.type = "Sprite", void 0 === og) {
      og = new Ji();
      let t49 = new Float32Array([-0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1]), e6 = new QE(t49, 5);
      og.setIndex([0, 1, 2, 0, 2, 3]), og.setAttribute("position", new Ex(e6, 3, 0, false)), og.setAttribute("uv", new Ex(e6, 2, 3, false));
    }
    this.geometry = og, this.material = void 0 !== t48 ? t48 : new Tx(), this.center = new qe(0.5, 0.5);
  }
  raycast(t48, e6) {
    null === t48.camera && console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'), ag.setFromMatrixScale(this.matrixWorld), ZW.copy(t48.camera.matrixWorld), this.modelViewMatrix.multiplyMatrices(t48.camera.matrixWorldInverse, this.matrixWorld), lg.setFromMatrixPosition(this.modelViewMatrix), t48.camera.isPerspectiveCamera && false === this.material.sizeAttenuation && ag.multiplyScalar(-lg.z);
    let i, n, r = this.material.rotation;
    0 !== r && (n = Math.cos(r), i = Math.sin(r));
    let o3 = this.center;
    DE(OE.set(-0.5, -0.5, 0), lg, o3, ag, i, n), DE(ox.set(0.5, -0.5, 0), lg, o3, ag, i, n), DE(LE.set(0.5, 0.5, 0), lg, o3, ag, i, n), vW.set(0, 0), R6.set(1, 0), yW.set(1, 1);
    let s6 = t48.ray.intersectTriangle(OE, ox, LE, false, rx);
    if (null === s6 && (DE(ox.set(-0.5, 0.5, 0), lg, o3, ag, i, n), R6.set(0, 1), s6 = t48.ray.intersectTriangle(OE, LE, ox, false, rx), null === s6))
      return;
    let a = t48.ray.origin.distanceTo(rx);
    a < t48.near || a > t48.far || e6.push({ distance: a, point: rx.clone(), uv: Lp.getInterpolation(rx, OE, ox, LE, vW, R6, yW, new qe()), face: null, object: this });
  }
  copy(t48, e6) {
    return super.copy(t48, e6), void 0 !== t48.center && this.center.copy(t48.center), this.material = t48.material, this;
  }
};
q(PL, "Sprite");
var KE = PL;
function DE(t48, e6, i, n, r, o3) {
  ug.subVectors(t48, i).addScalar(0.5).multiply(n), void 0 !== r ? (sx.x = o3 * ug.x - r * ug.y, sx.y = r * ug.x + o3 * ug.y) : sx.copy(ug), t48.copy(e6), t48.x += sx.x, t48.y += sx.y, t48.applyMatrix4(ZW);
}
q(DE, "transformVertex");
var IL = class extends Er {
  constructor(t48 = null, e6 = 1, i = 1, n, r, o3, s6, a, l = ui, u2 = ui, h, c2) {
    super(null, o3, s6, a, l, u2, n, r, h, c2), this.isDataTexture = true, this.image = { data: t48, width: e6, height: i }, this.generateMipmaps = false, this.flipY = false, this.unpackAlignment = 1;
  }
};
q(IL, "DataTexture");
var Sx = IL;
var OL = class extends rn {
  constructor(t48, e6, i, n = 1) {
    super(t48, e6, i), this.isInstancedBufferAttribute = true, this.meshPerAttribute = n;
  }
  copy(t48) {
    return super.copy(t48), this.meshPerAttribute = t48.meshPerAttribute, this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.meshPerAttribute = this.meshPerAttribute, t48.isInstancedBufferAttribute = true, t48;
  }
};
q(OL, "InstancedBufferAttribute");
var Fc = OL;
var LL = class extends ha {
  constructor(t48) {
    super(), this.isLineBasicMaterial = true, this.type = "LineBasicMaterial", this.color = new at(16777215), this.map = null, this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.fog = true, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.color.copy(t48.color), this.map = t48.map, this.linewidth = t48.linewidth, this.linecap = t48.linecap, this.linejoin = t48.linejoin, this.fog = t48.fog, this;
  }
};
q(LL, "LineBasicMaterial");
var Ax = LL;
var xW = new K();
var bW = new K();
var _W = new Ot();
var B6 = new _x();
var NE = new Kh();
var DL = class extends ci {
  constructor(t48 = new Ji(), e6 = new Ax()) {
    super(), this.isLine = true, this.type = "Line", this.geometry = t48, this.material = e6, this.updateMorphTargets();
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.material = t48.material, this.geometry = t48.geometry, this;
  }
  computeLineDistances() {
    let t48 = this.geometry;
    if (null === t48.index) {
      let e6 = t48.attributes.position, i = [0];
      for (let t49 = 1, n = e6.count; t49 < n; t49++)
        xW.fromBufferAttribute(e6, t49 - 1), bW.fromBufferAttribute(e6, t49), i[t49] = i[t49 - 1], i[t49] += xW.distanceTo(bW);
      t48.setAttribute("lineDistance", new Rr(i, 1));
    } else
      console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
    return this;
  }
  raycast(t48, e6) {
    let i = this.geometry, n = this.matrixWorld, r = t48.params.Line.threshold, o3 = i.drawRange;
    if (null === i.boundingSphere && i.computeBoundingSphere(), NE.copy(i.boundingSphere), NE.applyMatrix4(n), NE.radius += r, false === t48.ray.intersectsSphere(NE))
      return;
    _W.copy(n).invert(), B6.copy(t48.ray).applyMatrix4(_W);
    let s6 = r / ((this.scale.x + this.scale.y + this.scale.z) / 3), a = s6 * s6, l = new K(), u2 = new K(), h = new K(), c2 = new K(), p4 = this.isLineSegments ? 2 : 1, d = i.index, f = i.attributes.position;
    if (null !== d) {
      for (let i10 = Math.max(0, o3.start), n10 = Math.min(d.count, o3.start + o3.count) - 1; i10 < n10; i10 += p4) {
        let n11 = d.getX(i10), r6 = d.getX(i10 + 1);
        if (l.fromBufferAttribute(f, n11), u2.fromBufferAttribute(f, r6), B6.distanceSqToSegment(l, u2, c2, h) > a)
          continue;
        c2.applyMatrix4(this.matrixWorld);
        let o6 = t48.ray.origin.distanceTo(c2);
        o6 < t48.near || o6 > t48.far || e6.push({ distance: o6, point: h.clone().applyMatrix4(this.matrixWorld), index: i10, face: null, faceIndex: null, object: this });
      }
    } else {
      for (let i10 = Math.max(0, o3.start), n10 = Math.min(f.count, o3.start + o3.count) - 1; i10 < n10; i10 += p4) {
        if (l.fromBufferAttribute(f, i10), u2.fromBufferAttribute(f, i10 + 1), B6.distanceSqToSegment(l, u2, c2, h) > a)
          continue;
        c2.applyMatrix4(this.matrixWorld);
        let n11 = t48.ray.origin.distanceTo(c2);
        n11 < t48.near || n11 > t48.far || e6.push({ distance: n11, point: h.clone().applyMatrix4(this.matrixWorld), index: i10, face: null, faceIndex: null, object: this });
      }
    }
  }
  updateMorphTargets() {
    let t48 = this.geometry.morphAttributes, e6 = Object.keys(t48);
    if (e6.length > 0) {
      let i = t48[e6[0]];
      if (void 0 !== i) {
        this.morphTargetInfluences = [], this.morphTargetDictionary = {};
        for (let t49 = 0, e10 = i.length; t49 < e10; t49++) {
          let e11 = i[t49].name || String(t49);
          this.morphTargetInfluences.push(0), this.morphTargetDictionary[e11] = t49;
        }
      }
    }
  }
};
q(DL, "Line");
var sO = DL;
var wW = new K();
var MW = new K();
var NL = class extends sO {
  constructor(t48, e6) {
    super(t48, e6), this.isLineSegments = true, this.type = "LineSegments";
  }
  computeLineDistances() {
    let t48 = this.geometry;
    if (null === t48.index) {
      let e6 = t48.attributes.position, i = [];
      for (let t49 = 0, n = e6.count; t49 < n; t49 += 2)
        wW.fromBufferAttribute(e6, t49), MW.fromBufferAttribute(e6, t49 + 1), i[t49] = 0 === t49 ? 0 : i[t49 - 1], i[t49 + 1] = i[t49] + wW.distanceTo(MW);
      t48.setAttribute("lineDistance", new Rr(i, 1));
    } else
      console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
    return this;
  }
};
q(NL, "LineSegments");
var JE = NL;
var RL = class extends Er {
  constructor(t48, e6, i, n, r, o3, s6, a, l) {
    super(t48, e6, i, n, r, o3, s6, a, l), this.isCanvasTexture = true, this.needsUpdate = true;
  }
};
q(RL, "CanvasTexture");
var Rp = RL;
var BL = class {
  constructor() {
    this.type = "Curve", this.arcLengthDivisions = 200;
  }
  getPoint() {
    return console.warn("THREE.Curve: .getPoint() not implemented."), null;
  }
  getPointAt(t48, e6) {
    let i = this.getUtoTmapping(t48);
    return this.getPoint(i, e6);
  }
  getPoints(t48 = 5) {
    let e6 = [];
    for (let i = 0; i <= t48; i++)
      e6.push(this.getPoint(i / t48));
    return e6;
  }
  getSpacedPoints(t48 = 5) {
    let e6 = [];
    for (let i = 0; i <= t48; i++)
      e6.push(this.getPointAt(i / t48));
    return e6;
  }
  getLength() {
    let t48 = this.getLengths();
    return t48[t48.length - 1];
  }
  getLengths(t48 = this.arcLengthDivisions) {
    if (this.cacheArcLengths && this.cacheArcLengths.length === t48 + 1 && !this.needsUpdate)
      return this.cacheArcLengths;
    this.needsUpdate = false;
    let e6, i = [], n = this.getPoint(0), r = 0;
    i.push(0);
    for (let o3 = 1; o3 <= t48; o3++)
      e6 = this.getPoint(o3 / t48), r += e6.distanceTo(n), i.push(r), n = e6;
    return this.cacheArcLengths = i, i;
  }
  updateArcLengths() {
    this.needsUpdate = true, this.getLengths();
  }
  getUtoTmapping(t48, e6) {
    let i, n = this.getLengths(), r = 0, o3 = n.length;
    i = e6 || t48 * n[o3 - 1];
    let s6, a = 0, l = o3 - 1;
    for (; a <= l; )
      if (r = Math.floor(a + (l - a) / 2), s6 = n[r] - i, s6 < 0)
        a = r + 1;
      else {
        if (!(s6 > 0)) {
          l = r;
          break;
        }
        l = r - 1;
      }
    if (r = l, n[r] === i)
      return r / (o3 - 1);
    let u2 = n[r];
    return (r + (i - u2) / (n[r + 1] - u2)) / (o3 - 1);
  }
  getTangent(t48, e6) {
    let i = t48 - 1e-4, n = t48 + 1e-4;
    i < 0 && (i = 0), n > 1 && (n = 1);
    let r = this.getPoint(i), o3 = this.getPoint(n), s6 = e6 || (r.isVector2 ? new qe() : new K());
    return s6.copy(o3).sub(r).normalize(), s6;
  }
  getTangentAt(t48, e6) {
    let i = this.getUtoTmapping(t48);
    return this.getTangent(i, e6);
  }
  computeFrenetFrames(t48, e6) {
    let i = new K(), n = [], r = [], o3 = [], s6 = new K(), a = new Ot();
    for (let e10 = 0; e10 <= t48; e10++) {
      let i10 = e10 / t48;
      n[e10] = this.getTangentAt(i10, new K());
    }
    r[0] = new K(), o3[0] = new K();
    let l = Number.MAX_VALUE, u2 = Math.abs(n[0].x), h = Math.abs(n[0].y), c2 = Math.abs(n[0].z);
    u2 <= l && (l = u2, i.set(1, 0, 0)), h <= l && (l = h, i.set(0, 1, 0)), c2 <= l && i.set(0, 0, 1), s6.crossVectors(n[0], i).normalize(), r[0].crossVectors(n[0], s6), o3[0].crossVectors(n[0], r[0]);
    for (let e10 = 1; e10 <= t48; e10++) {
      if (r[e10] = r[e10 - 1].clone(), o3[e10] = o3[e10 - 1].clone(), s6.crossVectors(n[e10 - 1], n[e10]), s6.length() > Number.EPSILON) {
        s6.normalize();
        let t49 = Math.acos(ao(n[e10 - 1].dot(n[e10]), -1, 1));
        r[e10].applyMatrix4(a.makeRotationAxis(s6, t49));
      }
      o3[e10].crossVectors(n[e10], r[e10]);
    }
    if (true === e6) {
      let e10 = Math.acos(ao(r[0].dot(r[t48]), -1, 1));
      e10 /= t48, n[0].dot(s6.crossVectors(r[0], r[t48])) > 0 && (e10 = -e10);
      for (let i10 = 1; i10 <= t48; i10++)
        r[i10].applyMatrix4(a.makeRotationAxis(n[i10], e10 * i10)), o3[i10].crossVectors(n[i10], r[i10]);
    }
    return { tangents: n, normals: r, binormals: o3 };
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(t48) {
    return this.arcLengthDivisions = t48.arcLengthDivisions, this;
  }
  toJSON() {
    let t48 = { metadata: { version: 4.5, type: "Curve", generator: "Curve.toJSON" } };
    return t48.arcLengthDivisions = this.arcLengthDivisions, t48.type = this.type, t48;
  }
  fromJSON(t48) {
    return this.arcLengthDivisions = t48.arcLengthDivisions, this;
  }
};
q(BL, "Curve");
var sl = BL;
var kL = class extends sl {
  constructor(t48 = 0, e6 = 0, i = 1, n = 1, r = 0, o3 = 2 * Math.PI, s6 = false, a = 0) {
    super(), this.isEllipseCurve = true, this.type = "EllipseCurve", this.aX = t48, this.aY = e6, this.xRadius = i, this.yRadius = n, this.aStartAngle = r, this.aEndAngle = o3, this.aClockwise = s6, this.aRotation = a;
  }
  getPoint(t48, e6) {
    let i = e6 || new qe(), n = 2 * Math.PI, r = this.aEndAngle - this.aStartAngle, o3 = Math.abs(r) < Number.EPSILON;
    for (; r < 0; )
      r += n;
    for (; r > n; )
      r -= n;
    r < Number.EPSILON && (r = o3 ? 0 : n), true === this.aClockwise && !o3 && (r === n ? r = -n : r -= n);
    let s6 = this.aStartAngle + t48 * r, a = this.aX + this.xRadius * Math.cos(s6), l = this.aY + this.yRadius * Math.sin(s6);
    if (0 !== this.aRotation) {
      let t49 = Math.cos(this.aRotation), e10 = Math.sin(this.aRotation), i10 = a - this.aX, n10 = l - this.aY;
      a = i10 * t49 - n10 * e10 + this.aX, l = i10 * e10 + n10 * t49 + this.aY;
    }
    return i.set(a, l);
  }
  copy(t48) {
    return super.copy(t48), this.aX = t48.aX, this.aY = t48.aY, this.xRadius = t48.xRadius, this.yRadius = t48.yRadius, this.aStartAngle = t48.aStartAngle, this.aEndAngle = t48.aEndAngle, this.aClockwise = t48.aClockwise, this.aRotation = t48.aRotation, this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.aX = this.aX, t48.aY = this.aY, t48.xRadius = this.xRadius, t48.yRadius = this.yRadius, t48.aStartAngle = this.aStartAngle, t48.aEndAngle = this.aEndAngle, t48.aClockwise = this.aClockwise, t48.aRotation = this.aRotation, t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.aX = t48.aX, this.aY = t48.aY, this.xRadius = t48.xRadius, this.yRadius = t48.yRadius, this.aStartAngle = t48.aStartAngle, this.aEndAngle = t48.aEndAngle, this.aClockwise = t48.aClockwise, this.aRotation = t48.aRotation, this;
  }
};
q(kL, "EllipseCurve");
var Cx = kL;
var qL = class extends Cx {
  constructor(t48, e6, i, n, r, o3) {
    super(t48, e6, i, i, n, r, o3), this.isArcCurve = true, this.type = "ArcCurve";
  }
};
q(qL, "ArcCurve");
var oO = qL;
function OO() {
  let t48 = 0, e6 = 0, i = 0, n = 0;
  function r(r6, o3, s6, a) {
    t48 = r6, e6 = s6, i = -3 * r6 + 3 * o3 - 2 * s6 - a, n = 2 * r6 - 2 * o3 + s6 + a;
  }
  return q(r, "init"), { initCatmullRom: function(t49, e10, i10, n10, o3) {
    r(e10, i10, o3 * (i10 - t49), o3 * (n10 - e10));
  }, initNonuniformCatmullRom: function(t49, e10, i10, n10, o3, s6, a) {
    let l = (e10 - t49) / o3 - (i10 - t49) / (o3 + s6) + (i10 - e10) / s6, u2 = (i10 - e10) / s6 - (n10 - e10) / (s6 + a) + (n10 - i10) / a;
    l *= s6, u2 *= s6, r(e10, i10, l, u2);
  }, calc: function(r6) {
    let o3 = r6 * r6;
    return t48 + e6 * r6 + i * o3 + n * (o3 * r6);
  } };
}
q(OO, "CubicPoly");
var RE = new K();
var k6 = new OO();
var q6 = new OO();
var F6 = new OO();
var FL = class extends sl {
  constructor(t48 = [], e6 = false, i = "centripetal", n = 0.5) {
    super(), this.isCatmullRomCurve3 = true, this.type = "CatmullRomCurve3", this.points = t48, this.closed = e6, this.curveType = i, this.tension = n;
  }
  getPoint(t48, e6 = new K()) {
    let i, n, r = e6, o3 = this.points, s6 = o3.length, a = (s6 - (this.closed ? 0 : 1)) * t48, l = Math.floor(a), u2 = a - l;
    this.closed ? l += l > 0 ? 0 : (Math.floor(Math.abs(l) / s6) + 1) * s6 : 0 === u2 && l === s6 - 1 && (l = s6 - 2, u2 = 1), this.closed || l > 0 ? i = o3[(l - 1) % s6] : (RE.subVectors(o3[0], o3[1]).add(o3[0]), i = RE);
    let h = o3[l % s6], c2 = o3[(l + 1) % s6];
    if (this.closed || l + 2 < s6 ? n = o3[(l + 2) % s6] : (RE.subVectors(o3[s6 - 1], o3[s6 - 2]).add(o3[s6 - 1]), n = RE), "centripetal" === this.curveType || "chordal" === this.curveType) {
      let t49 = "chordal" === this.curveType ? 0.5 : 0.25, e10 = Math.pow(i.distanceToSquared(h), t49), r6 = Math.pow(h.distanceToSquared(c2), t49), o6 = Math.pow(c2.distanceToSquared(n), t49);
      r6 < 1e-4 && (r6 = 1), e10 < 1e-4 && (e10 = r6), o6 < 1e-4 && (o6 = r6), k6.initNonuniformCatmullRom(i.x, h.x, c2.x, n.x, e10, r6, o6), q6.initNonuniformCatmullRom(i.y, h.y, c2.y, n.y, e10, r6, o6), F6.initNonuniformCatmullRom(i.z, h.z, c2.z, n.z, e10, r6, o6);
    } else
      "catmullrom" === this.curveType && (k6.initCatmullRom(i.x, h.x, c2.x, n.x, this.tension), q6.initCatmullRom(i.y, h.y, c2.y, n.y, this.tension), F6.initCatmullRom(i.z, h.z, c2.z, n.z, this.tension));
    return r.set(k6.calc(u2), q6.calc(u2), F6.calc(u2)), r;
  }
  copy(t48) {
    super.copy(t48), this.points = [];
    for (let e6 = 0, i = t48.points.length; e6 < i; e6++) {
      let i10 = t48.points[e6];
      this.points.push(i10.clone());
    }
    return this.closed = t48.closed, this.curveType = t48.curveType, this.tension = t48.tension, this;
  }
  toJSON() {
    let t48 = super.toJSON();
    t48.points = [];
    for (let e6 = 0, i = this.points.length; e6 < i; e6++) {
      let i10 = this.points[e6];
      t48.points.push(i10.toArray());
    }
    return t48.closed = this.closed, t48.curveType = this.curveType, t48.tension = this.tension, t48;
  }
  fromJSON(t48) {
    super.fromJSON(t48), this.points = [];
    for (let e6 = 0, i = t48.points.length; e6 < i; e6++) {
      let i10 = t48.points[e6];
      this.points.push(new K().fromArray(i10));
    }
    return this.closed = t48.closed, this.curveType = t48.curveType, this.tension = t48.tension, this;
  }
};
q(FL, "CatmullRomCurve3");
var Px = FL;
function EW(t48, e6, i, n, r) {
  let o3 = 0.5 * (n - e6), s6 = 0.5 * (r - i), a = t48 * t48;
  return (2 * i - 2 * n + o3 + s6) * (t48 * a) + (-3 * i + 3 * n - 2 * o3 - s6) * a + o3 * t48 + i;
}
function T0e(t48, e6) {
  let i = 1 - t48;
  return i * i * e6;
}
function S0e(t48, e6) {
  return 2 * (1 - t48) * t48 * e6;
}
function A0e(t48, e6) {
  return t48 * t48 * e6;
}
function dx(t48, e6, i, n) {
  return T0e(t48, e6) + S0e(t48, i) + A0e(t48, n);
}
function C0e(t48, e6) {
  let i = 1 - t48;
  return i * i * i * e6;
}
function P0e(t48, e6) {
  let i = 1 - t48;
  return 3 * i * i * t48 * e6;
}
function I0e(t48, e6) {
  return 3 * (1 - t48) * t48 * t48 * e6;
}
function O0e(t48, e6) {
  return t48 * t48 * t48 * e6;
}
function mx(t48, e6, i, n, r) {
  return C0e(t48, e6) + P0e(t48, i) + I0e(t48, n) + O0e(t48, r);
}
q(EW, "CatmullRom"), q(T0e, "QuadraticBezierP0"), q(S0e, "QuadraticBezierP1"), q(A0e, "QuadraticBezierP2"), q(dx, "QuadraticBezier"), q(C0e, "CubicBezierP0"), q(P0e, "CubicBezierP1"), q(I0e, "CubicBezierP2"), q(O0e, "CubicBezierP3"), q(mx, "CubicBezier");
var UL = class extends sl {
  constructor(t48 = new qe(), e6 = new qe(), i = new qe(), n = new qe()) {
    super(), this.isCubicBezierCurve = true, this.type = "CubicBezierCurve", this.v0 = t48, this.v1 = e6, this.v2 = i, this.v3 = n;
  }
  getPoint(t48, e6 = new qe()) {
    let i = e6, n = this.v0, r = this.v1, o3 = this.v2, s6 = this.v3;
    return i.set(mx(t48, n.x, r.x, o3.x, s6.x), mx(t48, n.y, r.y, o3.y, s6.y)), i;
  }
  copy(t48) {
    return super.copy(t48), this.v0.copy(t48.v0), this.v1.copy(t48.v1), this.v2.copy(t48.v2), this.v3.copy(t48.v3), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.v0 = this.v0.toArray(), t48.v1 = this.v1.toArray(), t48.v2 = this.v2.toArray(), t48.v3 = this.v3.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.v0.fromArray(t48.v0), this.v1.fromArray(t48.v1), this.v2.fromArray(t48.v2), this.v3.fromArray(t48.v3), this;
  }
};
q(UL, "CubicBezierCurve");
var $E = UL;
var zL = class extends sl {
  constructor(t48 = new K(), e6 = new K(), i = new K(), n = new K()) {
    super(), this.isCubicBezierCurve3 = true, this.type = "CubicBezierCurve3", this.v0 = t48, this.v1 = e6, this.v2 = i, this.v3 = n;
  }
  getPoint(t48, e6 = new K()) {
    let i = e6, n = this.v0, r = this.v1, o3 = this.v2, s6 = this.v3;
    return i.set(mx(t48, n.x, r.x, o3.x, s6.x), mx(t48, n.y, r.y, o3.y, s6.y), mx(t48, n.z, r.z, o3.z, s6.z)), i;
  }
  copy(t48) {
    return super.copy(t48), this.v0.copy(t48.v0), this.v1.copy(t48.v1), this.v2.copy(t48.v2), this.v3.copy(t48.v3), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.v0 = this.v0.toArray(), t48.v1 = this.v1.toArray(), t48.v2 = this.v2.toArray(), t48.v3 = this.v3.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.v0.fromArray(t48.v0), this.v1.fromArray(t48.v1), this.v2.fromArray(t48.v2), this.v3.fromArray(t48.v3), this;
  }
};
q(zL, "CubicBezierCurve3");
var aO = zL;
var GL = class extends sl {
  constructor(t48 = new qe(), e6 = new qe()) {
    super(), this.isLineCurve = true, this.type = "LineCurve", this.v1 = t48, this.v2 = e6;
  }
  getPoint(t48, e6 = new qe()) {
    let i = e6;
    return 1 === t48 ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t48).add(this.v1)), i;
  }
  getPointAt(t48, e6) {
    return this.getPoint(t48, e6);
  }
  getTangent(t48, e6 = new qe()) {
    return e6.subVectors(this.v2, this.v1).normalize();
  }
  getTangentAt(t48, e6) {
    return this.getTangent(t48, e6);
  }
  copy(t48) {
    return super.copy(t48), this.v1.copy(t48.v1), this.v2.copy(t48.v2), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.v1 = this.v1.toArray(), t48.v2 = this.v2.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.v1.fromArray(t48.v1), this.v2.fromArray(t48.v2), this;
  }
};
q(GL, "LineCurve");
var Ix = GL;
var VL = class extends sl {
  constructor(t48 = new K(), e6 = new K()) {
    super(), this.isLineCurve3 = true, this.type = "LineCurve3", this.v1 = t48, this.v2 = e6;
  }
  getPoint(t48, e6 = new K()) {
    let i = e6;
    return 1 === t48 ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t48).add(this.v1)), i;
  }
  getPointAt(t48, e6) {
    return this.getPoint(t48, e6);
  }
  getTangent(t48, e6 = new K()) {
    return e6.subVectors(this.v2, this.v1).normalize();
  }
  getTangentAt(t48, e6) {
    return this.getTangent(t48, e6);
  }
  copy(t48) {
    return super.copy(t48), this.v1.copy(t48.v1), this.v2.copy(t48.v2), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.v1 = this.v1.toArray(), t48.v2 = this.v2.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.v1.fromArray(t48.v1), this.v2.fromArray(t48.v2), this;
  }
};
q(VL, "LineCurve3");
var lO = VL;
var HL = class extends sl {
  constructor(t48 = new qe(), e6 = new qe(), i = new qe()) {
    super(), this.isQuadraticBezierCurve = true, this.type = "QuadraticBezierCurve", this.v0 = t48, this.v1 = e6, this.v2 = i;
  }
  getPoint(t48, e6 = new qe()) {
    let i = e6, n = this.v0, r = this.v1, o3 = this.v2;
    return i.set(dx(t48, n.x, r.x, o3.x), dx(t48, n.y, r.y, o3.y)), i;
  }
  copy(t48) {
    return super.copy(t48), this.v0.copy(t48.v0), this.v1.copy(t48.v1), this.v2.copy(t48.v2), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.v0 = this.v0.toArray(), t48.v1 = this.v1.toArray(), t48.v2 = this.v2.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.v0.fromArray(t48.v0), this.v1.fromArray(t48.v1), this.v2.fromArray(t48.v2), this;
  }
};
q(HL, "QuadraticBezierCurve");
var eT = HL;
var jL = class extends sl {
  constructor(t48 = new K(), e6 = new K(), i = new K()) {
    super(), this.isQuadraticBezierCurve3 = true, this.type = "QuadraticBezierCurve3", this.v0 = t48, this.v1 = e6, this.v2 = i;
  }
  getPoint(t48, e6 = new K()) {
    let i = e6, n = this.v0, r = this.v1, o3 = this.v2;
    return i.set(dx(t48, n.x, r.x, o3.x), dx(t48, n.y, r.y, o3.y), dx(t48, n.z, r.z, o3.z)), i;
  }
  copy(t48) {
    return super.copy(t48), this.v0.copy(t48.v0), this.v1.copy(t48.v1), this.v2.copy(t48.v2), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.v0 = this.v0.toArray(), t48.v1 = this.v1.toArray(), t48.v2 = this.v2.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.v0.fromArray(t48.v0), this.v1.fromArray(t48.v1), this.v2.fromArray(t48.v2), this;
  }
};
q(jL, "QuadraticBezierCurve3");
var tT = jL;
var WL = class extends sl {
  constructor(t48 = []) {
    super(), this.isSplineCurve = true, this.type = "SplineCurve", this.points = t48;
  }
  getPoint(t48, e6 = new qe()) {
    let i = e6, n = this.points, r = (n.length - 1) * t48, o3 = Math.floor(r), s6 = r - o3, a = n[0 === o3 ? o3 : o3 - 1], l = n[o3], u2 = n[o3 > n.length - 2 ? n.length - 1 : o3 + 1], h = n[o3 > n.length - 3 ? n.length - 1 : o3 + 2];
    return i.set(EW(s6, a.x, l.x, u2.x, h.x), EW(s6, a.y, l.y, u2.y, h.y)), i;
  }
  copy(t48) {
    super.copy(t48), this.points = [];
    for (let e6 = 0, i = t48.points.length; e6 < i; e6++) {
      let i10 = t48.points[e6];
      this.points.push(i10.clone());
    }
    return this;
  }
  toJSON() {
    let t48 = super.toJSON();
    t48.points = [];
    for (let e6 = 0, i = this.points.length; e6 < i; e6++) {
      let i10 = this.points[e6];
      t48.points.push(i10.toArray());
    }
    return t48;
  }
  fromJSON(t48) {
    super.fromJSON(t48), this.points = [];
    for (let e6 = 0, i = t48.points.length; e6 < i; e6++) {
      let i10 = t48.points[e6];
      this.points.push(new qe().fromArray(i10));
    }
    return this;
  }
};
q(WL, "SplineCurve");
var nT = WL;
var LO = Object.freeze({ __proto__: null, ArcCurve: oO, CatmullRomCurve3: Px, CubicBezierCurve: $E, CubicBezierCurve3: aO, EllipseCurve: Cx, LineCurve: Ix, LineCurve3: lO, QuadraticBezierCurve: eT, QuadraticBezierCurve3: tT, SplineCurve: nT });
var YL = class extends sl {
  constructor() {
    super(), this.type = "CurvePath", this.curves = [], this.autoClose = false;
  }
  add(t48) {
    this.curves.push(t48);
  }
  closePath() {
    let t48 = this.curves[0].getPoint(0), e6 = this.curves[this.curves.length - 1].getPoint(1);
    t48.equals(e6) || this.curves.push(new Ix(e6, t48));
  }
  getPoint(t48, e6) {
    let i = t48 * this.getLength(), n = this.getCurveLengths(), r = 0;
    for (; r < n.length; ) {
      if (n[r] >= i) {
        let t49 = n[r] - i, o3 = this.curves[r], s6 = o3.getLength(), a = 0 === s6 ? 0 : 1 - t49 / s6;
        return o3.getPointAt(a, e6);
      }
      r++;
    }
    return null;
  }
  getLength() {
    let t48 = this.getCurveLengths();
    return t48[t48.length - 1];
  }
  updateArcLengths() {
    this.needsUpdate = true, this.cacheLengths = null, this.getCurveLengths();
  }
  getCurveLengths() {
    if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
      return this.cacheLengths;
    let t48 = [], e6 = 0;
    for (let i = 0, n = this.curves.length; i < n; i++)
      e6 += this.curves[i].getLength(), t48.push(e6);
    return this.cacheLengths = t48, t48;
  }
  getSpacedPoints(t48 = 40) {
    let e6 = [];
    for (let i = 0; i <= t48; i++)
      e6.push(this.getPoint(i / t48));
    return this.autoClose && e6.push(e6[0]), e6;
  }
  getPoints(t48 = 12) {
    let e6, i = [];
    for (let n = 0, r = this.curves; n < r.length; n++) {
      let o3 = r[n], s6 = o3.isEllipseCurve ? 2 * t48 : o3.isLineCurve || o3.isLineCurve3 ? 1 : o3.isSplineCurve ? t48 * o3.points.length : t48, a = o3.getPoints(s6);
      for (let t49 = 0; t49 < a.length; t49++) {
        let n10 = a[t49];
        e6 && e6.equals(n10) || (i.push(n10), e6 = n10);
      }
    }
    return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i;
  }
  copy(t48) {
    super.copy(t48), this.curves = [];
    for (let e6 = 0, i = t48.curves.length; e6 < i; e6++) {
      let i10 = t48.curves[e6];
      this.curves.push(i10.clone());
    }
    return this.autoClose = t48.autoClose, this;
  }
  toJSON() {
    let t48 = super.toJSON();
    t48.autoClose = this.autoClose, t48.curves = [];
    for (let e6 = 0, i = this.curves.length; e6 < i; e6++) {
      let i10 = this.curves[e6];
      t48.curves.push(i10.toJSON());
    }
    return t48;
  }
  fromJSON(t48) {
    super.fromJSON(t48), this.autoClose = t48.autoClose, this.curves = [];
    for (let e6 = 0, i = t48.curves.length; e6 < i; e6++) {
      let i10 = t48.curves[e6];
      this.curves.push(new LO[i10.type]().fromJSON(i10));
    }
    return this;
  }
};
q(YL, "CurvePath");
var uO = YL;
var XL = class extends uO {
  constructor(t48) {
    super(), this.type = "Path", this.currentPoint = new qe(), t48 && this.setFromPoints(t48);
  }
  setFromPoints(t48) {
    this.moveTo(t48[0].x, t48[0].y);
    for (let e6 = 1, i = t48.length; e6 < i; e6++)
      this.lineTo(t48[e6].x, t48[e6].y);
    return this;
  }
  moveTo(t48, e6) {
    return this.currentPoint.set(t48, e6), this;
  }
  lineTo(t48, e6) {
    let i = new Ix(this.currentPoint.clone(), new qe(t48, e6));
    return this.curves.push(i), this.currentPoint.set(t48, e6), this;
  }
  quadraticCurveTo(t48, e6, i, n) {
    let r = new eT(this.currentPoint.clone(), new qe(t48, e6), new qe(i, n));
    return this.curves.push(r), this.currentPoint.set(i, n), this;
  }
  bezierCurveTo(t48, e6, i, n, r, o3) {
    let s6 = new $E(this.currentPoint.clone(), new qe(t48, e6), new qe(i, n), new qe(r, o3));
    return this.curves.push(s6), this.currentPoint.set(r, o3), this;
  }
  splineThru(t48) {
    let e6 = [this.currentPoint.clone()].concat(t48), i = new nT(e6);
    return this.curves.push(i), this.currentPoint.copy(t48[t48.length - 1]), this;
  }
  arc(t48, e6, i, n, r, o3) {
    let s6 = this.currentPoint.x, a = this.currentPoint.y;
    return this.absarc(t48 + s6, e6 + a, i, n, r, o3), this;
  }
  absarc(t48, e6, i, n, r, o3) {
    return this.absellipse(t48, e6, i, i, n, r, o3), this;
  }
  ellipse(t48, e6, i, n, r, o3, s6, a) {
    let l = this.currentPoint.x, u2 = this.currentPoint.y;
    return this.absellipse(t48 + l, e6 + u2, i, n, r, o3, s6, a), this;
  }
  absellipse(t48, e6, i, n, r, o3, s6, a) {
    let l = new Cx(t48, e6, i, n, r, o3, s6, a);
    if (this.curves.length > 0) {
      let t49 = l.getPoint(0);
      t49.equals(this.currentPoint) || this.lineTo(t49.x, t49.y);
    }
    this.curves.push(l);
    let u2 = l.getPoint(1);
    return this.currentPoint.copy(u2), this;
  }
  copy(t48) {
    return super.copy(t48), this.currentPoint.copy(t48.currentPoint), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.currentPoint = this.currentPoint.toArray(), t48;
  }
  fromJSON(t48) {
    return super.fromJSON(t48), this.currentPoint.fromArray(t48.currentPoint), this;
  }
};
q(XL, "Path");
var Bp = XL;
var TT = class t34 extends Ji {
  constructor(t48 = 1, e6 = 1, i = 1, n = 32, r = 1, o3 = false, s6 = 0, a = 2 * Math.PI) {
    super(), this.type = "CylinderGeometry", this.parameters = { radiusTop: t48, radiusBottom: e6, height: i, radialSegments: n, heightSegments: r, openEnded: o3, thetaStart: s6, thetaLength: a };
    let l = this;
    n = Math.floor(n), r = Math.floor(r);
    let h = [], c2 = [], p4 = [], d = [], f = 0, g = [], m = i / 2, v4 = 0;
    function y4() {
      let o6 = new K(), u2 = new K(), y10 = 0, x10 = (e6 - t48) / i;
      for (let l3 = 0; l3 <= r; l3++) {
        let h2 = [], v10 = l3 / r, y11 = v10 * (e6 - t48) + t48;
        for (let t49 = 0; t49 <= n; t49++) {
          let e10 = t49 / n, r6 = e10 * a + s6, l10 = Math.sin(r6), g4 = Math.cos(r6);
          u2.x = y11 * l10, u2.y = -v10 * i + m, u2.z = y11 * g4, c2.push(u2.x, u2.y, u2.z), o6.set(l10, x10, g4).normalize(), p4.push(o6.x, o6.y, o6.z), d.push(e10, 1 - v10), h2.push(f++);
        }
        g.push(h2);
      }
      for (let t49 = 0; t49 < n; t49++)
        for (let e10 = 0; e10 < r; e10++) {
          let i10 = g[e10][t49], n10 = g[e10 + 1][t49], r6 = g[e10 + 1][t49 + 1], o7 = g[e10][t49 + 1];
          h.push(i10, n10, o7), h.push(n10, r6, o7), y10 += 6;
        }
      l.addGroup(v4, y10, 0), v4 += y10;
    }
    function x4(i10) {
      let r6 = f, o6 = new qe(), u2 = new K(), g4 = 0, y10 = true === i10 ? t48 : e6, x10 = true === i10 ? 1 : -1;
      for (let t49 = 1; t49 <= n; t49++)
        c2.push(0, m * x10, 0), p4.push(0, x10, 0), d.push(0.5, 0.5), f++;
      let _ = f;
      for (let t49 = 0; t49 <= n; t49++) {
        let e10 = t49 / n * a + s6, i11 = Math.cos(e10), r10 = Math.sin(e10);
        u2.x = y10 * r10, u2.y = m * x10, u2.z = y10 * i11, c2.push(u2.x, u2.y, u2.z), p4.push(0, x10, 0), o6.x = 0.5 * i11 + 0.5, o6.y = 0.5 * r10 * x10 + 0.5, d.push(o6.x, o6.y), f++;
      }
      for (let t49 = 0; t49 < n; t49++) {
        let e10 = r6 + t49, n10 = _ + t49;
        true === i10 ? h.push(n10, n10 + 1, e10) : h.push(n10 + 1, n10, e10), g4 += 3;
      }
      l.addGroup(v4, g4, true === i10 ? 1 : 2), v4 += g4;
    }
    y4(), false === o3 && (t48 > 0 && x4(true), e6 > 0 && x4(false)), this.setIndex(h), this.setAttribute("position", new Rr(c2, 3)), this.setAttribute("normal", new Rr(p4, 3)), this.setAttribute("uv", new Rr(d, 2)), q(y4, "generateTorso"), q(x4, "generateCap");
  }
  copy(t48) {
    return super.copy(t48), this.parameters = Object.assign({}, t48.parameters), this;
  }
  static fromJSON(e6) {
    return new t34(e6.radiusTop, e6.radiusBottom, e6.height, e6.radialSegments, e6.heightSegments, e6.openEnded, e6.thetaStart, e6.thetaLength);
  }
};
q(TT, "CylinderGeometry");
var iT = TT;
var ZL = class extends Bp {
  constructor(t48) {
    super(t48), this.uuid = Cu(), this.type = "Shape", this.holes = [];
  }
  getPointsHoles(t48) {
    let e6 = [];
    for (let i = 0, n = this.holes.length; i < n; i++)
      e6[i] = this.holes[i].getPoints(t48);
    return e6;
  }
  extractPoints(t48) {
    return { shape: this.getPoints(t48), holes: this.getPointsHoles(t48) };
  }
  copy(t48) {
    super.copy(t48), this.holes = [];
    for (let e6 = 0, i = t48.holes.length; e6 < i; e6++) {
      let i10 = t48.holes[e6];
      this.holes.push(i10.clone());
    }
    return this;
  }
  toJSON() {
    let t48 = super.toJSON();
    t48.uuid = this.uuid, t48.holes = [];
    for (let e6 = 0, i = this.holes.length; e6 < i; e6++) {
      let i10 = this.holes[e6];
      t48.holes.push(i10.toJSON());
    }
    return t48;
  }
  fromJSON(t48) {
    super.fromJSON(t48), this.uuid = t48.uuid, this.holes = [];
    for (let e6 = 0, i = t48.holes.length; e6 < i; e6++) {
      let i10 = t48.holes[e6];
      this.holes.push(new Bp().fromJSON(i10));
    }
    return this;
  }
};
q(ZL, "Shape");
var Ul = ZL;
var L0e = { triangulate: function(t48, e6, i = 2) {
  let n, r, o3, s6, a, l, u2, h = e6 && e6.length, c2 = h ? e6[0] * i : t48.length, p4 = QW(t48, 0, c2, i, true), d = [];
  if (!p4 || p4.next === p4.prev)
    return d;
  if (h && (p4 = k0e(t48, e6, p4, i)), t48.length > 80 * i) {
    n = o3 = t48[0], r = s6 = t48[1];
    for (let e10 = i; e10 < c2; e10 += i)
      a = t48[e10], l = t48[e10 + 1], a < n && (n = a), l < r && (r = l), a > o3 && (o3 = a), l > s6 && (s6 = l);
    u2 = Math.max(o3 - n, s6 - r), u2 = 0 !== u2 ? 32767 / u2 : 0;
  }
  return Ox(p4, d, i, n, r, u2, 0), d;
} };
function QW(t48, e6, i, n, r) {
  let o3, s6;
  if (r === X0e(t48, e6, i, n) > 0)
    for (o3 = e6; o3 < i; o3 += n)
      s6 = TW(o3, t48[o3], t48[o3 + 1], s6);
  else
    for (o3 = i - n; o3 >= e6; o3 -= n)
      s6 = TW(o3, t48[o3], t48[o3 + 1], s6);
  return s6 && NT(s6, s6.next) && (Dx(s6), s6 = s6.next), s6;
}
function kp(t48, e6) {
  if (!t48)
    return t48;
  e6 || (e6 = t48);
  let i, n = t48;
  do {
    if (i = false, n.steiner || !NT(n, n.next) && 0 !== _r(n.prev, n, n.next))
      n = n.next;
    else {
      if (Dx(n), n = e6 = n.prev, n === n.next)
        break;
      i = true;
    }
  } while (i || n !== e6);
  return e6;
}
function Ox(t48, e6, i, n, r, o3, s6) {
  if (!t48)
    return;
  !s6 && o3 && G0e(t48, n, r, o3);
  let a, l, u2 = t48;
  for (; t48.prev !== t48.next; )
    if (a = t48.prev, l = t48.next, o3 ? N0e(t48, n, r, o3) : D0e(t48))
      e6.push(a.i / i | 0), e6.push(t48.i / i | 0), e6.push(l.i / i | 0), Dx(t48), t48 = l.next, u2 = l.next;
    else if ((t48 = l) === u2) {
      s6 ? 1 === s6 ? Ox(t48 = R0e(kp(t48), e6, i), e6, i, n, r, o3, 2) : 2 === s6 && B0e(t48, e6, i, n, r, o3) : Ox(kp(t48), e6, i, n, r, o3, 1);
      break;
    }
}
function D0e(t48) {
  let e6 = t48.prev, i = t48, n = t48.next;
  if (_r(e6, i, n) >= 0)
    return false;
  let r = e6.x, o3 = i.x, s6 = n.x, a = e6.y, l = i.y, u2 = n.y, h = r < o3 ? r < s6 ? r : s6 : o3 < s6 ? o3 : s6, c2 = a < l ? a < u2 ? a : u2 : l < u2 ? l : u2, p4 = r > o3 ? r > s6 ? r : s6 : o3 > s6 ? o3 : s6, d = a > l ? a > u2 ? a : u2 : l > u2 ? l : u2, f = n.next;
  for (; f !== e6; ) {
    if (f.x >= h && f.x <= p4 && f.y >= c2 && f.y <= d && fg(r, a, o3, l, s6, u2, f.x, f.y) && _r(f.prev, f, f.next) >= 0)
      return false;
    f = f.next;
  }
  return true;
}
function N0e(t48, e6, i, n) {
  let r = t48.prev, o3 = t48, s6 = t48.next;
  if (_r(r, o3, s6) >= 0)
    return false;
  let a = r.x, l = o3.x, u2 = s6.x, h = r.y, c2 = o3.y, p4 = s6.y, d = a < l ? a < u2 ? a : u2 : l < u2 ? l : u2, f = h < c2 ? h < p4 ? h : p4 : c2 < p4 ? c2 : p4, g = a > l ? a > u2 ? a : u2 : l > u2 ? l : u2, m = h > c2 ? h > p4 ? h : p4 : c2 > p4 ? c2 : p4, v4 = cO(d, f, e6, i, n), y4 = cO(g, m, e6, i, n), x4 = t48.prevZ, _ = t48.nextZ;
  for (; x4 && x4.z >= v4 && _ && _.z <= y4; ) {
    if (x4.x >= d && x4.x <= g && x4.y >= f && x4.y <= m && x4 !== r && x4 !== s6 && fg(a, h, l, c2, u2, p4, x4.x, x4.y) && _r(x4.prev, x4, x4.next) >= 0 || (x4 = x4.prevZ, _.x >= d && _.x <= g && _.y >= f && _.y <= m && _ !== r && _ !== s6 && fg(a, h, l, c2, u2, p4, _.x, _.y) && _r(_.prev, _, _.next) >= 0))
      return false;
    _ = _.nextZ;
  }
  for (; x4 && x4.z >= v4; ) {
    if (x4.x >= d && x4.x <= g && x4.y >= f && x4.y <= m && x4 !== r && x4 !== s6 && fg(a, h, l, c2, u2, p4, x4.x, x4.y) && _r(x4.prev, x4, x4.next) >= 0)
      return false;
    x4 = x4.prevZ;
  }
  for (; _ && _.z <= y4; ) {
    if (_.x >= d && _.x <= g && _.y >= f && _.y <= m && _ !== r && _ !== s6 && fg(a, h, l, c2, u2, p4, _.x, _.y) && _r(_.prev, _, _.next) >= 0)
      return false;
    _ = _.nextZ;
  }
  return true;
}
function R0e(t48, e6, i) {
  let n = t48;
  do {
    let r = n.prev, o3 = n.next.next;
    !NT(r, o3) && KW(r, n, n.next, o3) && Lx(r, o3) && Lx(o3, r) && (e6.push(r.i / i | 0), e6.push(n.i / i | 0), e6.push(o3.i / i | 0), Dx(n), Dx(n.next), n = t48 = o3), n = n.next;
  } while (n !== t48);
  return kp(n);
}
function B0e(t48, e6, i, n, r, o3) {
  let s6 = t48;
  do {
    let t49 = s6.next.next;
    for (; t49 !== s6.prev; ) {
      if (s6.i !== t49.i && j0e(s6, t49)) {
        let a = JW(s6, t49);
        return s6 = kp(s6, s6.next), a = kp(a, a.next), Ox(s6, e6, i, n, r, o3, 0), void Ox(a, e6, i, n, r, o3, 0);
      }
      t49 = t49.next;
    }
    s6 = s6.next;
  } while (s6 !== t48);
}
function k0e(t48, e6, i, n) {
  let r, o3, s6, a, l, u2 = [];
  for (r = 0, o3 = e6.length; r < o3; r++)
    s6 = e6[r] * n, a = r < o3 - 1 ? e6[r + 1] * n : t48.length, l = QW(t48, s6, a, n, false), l === l.next && (l.steiner = true), u2.push(H0e(l));
  for (u2.sort(q0e), r = 0; r < u2.length; r++)
    i = F0e(u2[r], i);
  return i;
}
function q0e(t48, e6) {
  return t48.x - e6.x;
}
function F0e(t48, e6) {
  let i = U0e(t48, e6);
  if (!i)
    return e6;
  let n = JW(i, t48);
  return kp(n, n.next), kp(i, i.next);
}
function U0e(t48, e6) {
  let i, n = e6, r = -1 / 0, o3 = t48.x, s6 = t48.y;
  do {
    if (s6 <= n.y && s6 >= n.next.y && n.next.y !== n.y) {
      let t49 = n.x + (s6 - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
      if (t49 <= o3 && t49 > r && (r = t49, i = n.x < n.next.x ? n : n.next, t49 === o3))
        return i;
    }
    n = n.next;
  } while (n !== e6);
  if (!i)
    return null;
  let a, l = i, u2 = i.x, h = i.y, c2 = 1 / 0;
  n = i;
  do {
    o3 >= n.x && n.x >= u2 && o3 !== n.x && fg(s6 < h ? o3 : r, s6, u2, h, s6 < h ? r : o3, s6, n.x, n.y) && (a = Math.abs(s6 - n.y) / (o3 - n.x), Lx(n, t48) && (a < c2 || a === c2 && (n.x > i.x || n.x === i.x && z0e(i, n))) && (i = n, c2 = a)), n = n.next;
  } while (n !== l);
  return i;
}
function z0e(t48, e6) {
  return _r(t48.prev, t48, e6.prev) < 0 && _r(e6.next, t48, t48.next) < 0;
}
function G0e(t48, e6, i, n) {
  let r = t48;
  do {
    0 === r.z && (r.z = cO(r.x, r.y, e6, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next;
  } while (r !== t48);
  r.prevZ.nextZ = null, r.prevZ = null, V0e(r);
}
function V0e(t48) {
  let e6, i, n, r, o3, s6, a, l, u2 = 1;
  do {
    for (i = t48, t48 = null, o3 = null, s6 = 0; i; ) {
      for (s6++, n = i, a = 0, e6 = 0; e6 < u2 && (a++, n = n.nextZ, n); e6++)
        ;
      for (l = u2; a > 0 || l > 0 && n; )
        0 !== a && (0 === l || !n || i.z <= n.z) ? (r = i, i = i.nextZ, a--) : (r = n, n = n.nextZ, l--), o3 ? o3.nextZ = r : t48 = r, r.prevZ = o3, o3 = r;
      i = n;
    }
    o3.nextZ = null, u2 *= 2;
  } while (s6 > 1);
  return t48;
}
function cO(t48, e6, i, n, r) {
  return (t48 = 1431655765 & ((t48 = 858993459 & ((t48 = 252645135 & ((t48 = 16711935 & ((t48 = (t48 - i) * r | 0) | t48 << 8)) | t48 << 4)) | t48 << 2)) | t48 << 1)) | (e6 = 1431655765 & ((e6 = 858993459 & ((e6 = 252645135 & ((e6 = 16711935 & ((e6 = (e6 - n) * r | 0) | e6 << 8)) | e6 << 4)) | e6 << 2)) | e6 << 1)) << 1;
}
function H0e(t48) {
  let e6 = t48, i = t48;
  do {
    (e6.x < i.x || e6.x === i.x && e6.y < i.y) && (i = e6), e6 = e6.next;
  } while (e6 !== t48);
  return i;
}
function fg(t48, e6, i, n, r, o3, s6, a) {
  return (r - s6) * (e6 - a) >= (t48 - s6) * (o3 - a) && (t48 - s6) * (n - a) >= (i - s6) * (e6 - a) && (i - s6) * (o3 - a) >= (r - s6) * (n - a);
}
function j0e(t48, e6) {
  return t48.next.i !== e6.i && t48.prev.i !== e6.i && !W0e(t48, e6) && (Lx(t48, e6) && Lx(e6, t48) && Y0e(t48, e6) && (_r(t48.prev, t48, e6.prev) || _r(t48, e6.prev, e6)) || NT(t48, e6) && _r(t48.prev, t48, t48.next) > 0 && _r(e6.prev, e6, e6.next) > 0);
}
function _r(t48, e6, i) {
  return (e6.y - t48.y) * (i.x - e6.x) - (e6.x - t48.x) * (i.y - e6.y);
}
function NT(t48, e6) {
  return t48.x === e6.x && t48.y === e6.y;
}
function KW(t48, e6, i, n) {
  let r = kE(_r(t48, e6, i)), o3 = kE(_r(t48, e6, n)), s6 = kE(_r(i, n, t48)), a = kE(_r(i, n, e6));
  return !!(r !== o3 && s6 !== a || 0 === r && BE(t48, i, e6) || 0 === o3 && BE(t48, n, e6) || 0 === s6 && BE(i, t48, n) || 0 === a && BE(i, e6, n));
}
function BE(t48, e6, i) {
  return e6.x <= Math.max(t48.x, i.x) && e6.x >= Math.min(t48.x, i.x) && e6.y <= Math.max(t48.y, i.y) && e6.y >= Math.min(t48.y, i.y);
}
function kE(t48) {
  return t48 > 0 ? 1 : t48 < 0 ? -1 : 0;
}
function W0e(t48, e6) {
  let i = t48;
  do {
    if (i.i !== t48.i && i.next.i !== t48.i && i.i !== e6.i && i.next.i !== e6.i && KW(i, i.next, t48, e6))
      return true;
    i = i.next;
  } while (i !== t48);
  return false;
}
function Lx(t48, e6) {
  return _r(t48.prev, t48, t48.next) < 0 ? _r(t48, e6, t48.next) >= 0 && _r(t48, t48.prev, e6) >= 0 : _r(t48, e6, t48.prev) < 0 || _r(t48, t48.next, e6) < 0;
}
function Y0e(t48, e6) {
  let i = t48, n = false, r = (t48.x + e6.x) / 2, o3 = (t48.y + e6.y) / 2;
  do {
    i.y > o3 != i.next.y > o3 && i.next.y !== i.y && r < (i.next.x - i.x) * (o3 - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next;
  } while (i !== t48);
  return n;
}
function JW(t48, e6) {
  let i = new hO(t48.i, t48.x, t48.y), n = new hO(e6.i, e6.x, e6.y), r = t48.next, o3 = e6.prev;
  return t48.next = e6, e6.prev = t48, i.next = r, r.prev = i, n.next = i, i.prev = n, o3.next = n, n.prev = o3, n;
}
function TW(t48, e6, i, n) {
  let r = new hO(t48, e6, i);
  return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r;
}
function Dx(t48) {
  t48.next.prev = t48.prev, t48.prev.next = t48.next, t48.prevZ && (t48.prevZ.nextZ = t48.nextZ), t48.nextZ && (t48.nextZ.prevZ = t48.prevZ);
}
function hO(t48, e6, i) {
  this.i = t48, this.x = e6, this.y = i, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = false;
}
function X0e(t48, e6, i, n) {
  let r = 0;
  for (let o3 = e6, s6 = i - n; o3 < i; o3 += n)
    r += (t48[s6] - t48[o3]) * (t48[o3 + 1] + t48[s6 + 1]), s6 = o3;
  return r;
}
q(QW, "linkedList"), q(kp, "filterPoints"), q(Ox, "earcutLinked"), q(D0e, "isEar"), q(N0e, "isEarHashed"), q(R0e, "cureLocalIntersections"), q(B0e, "splitEarcut"), q(k0e, "eliminateHoles"), q(q0e, "compareX"), q(F0e, "eliminateHole"), q(U0e, "findHoleBridge"), q(z0e, "sectorContainsSector"), q(G0e, "indexCurve"), q(V0e, "sortLinked"), q(cO, "zOrder"), q(H0e, "getLeftmost"), q(fg, "pointInTriangle"), q(j0e, "isValidDiagonal"), q(_r, "area"), q(NT, "equals"), q(KW, "intersects"), q(BE, "onSegment"), q(kE, "sign"), q(W0e, "intersectsPolygon"), q(Lx, "locallyInside"), q(Y0e, "middleInside"), q(JW, "splitPolygon"), q(TW, "insertNode"), q(Dx, "removeNode"), q(hO, "Node"), q(X0e, "signedArea");
var ST = class t35 {
  static area(t48) {
    let e6 = t48.length, i = 0;
    for (let n = e6 - 1, r = 0; r < e6; n = r++)
      i += t48[n].x * t48[r].y - t48[r].x * t48[n].y;
    return 0.5 * i;
  }
  static isClockWise(e6) {
    return t35.area(e6) < 0;
  }
  static triangulateShape(t48, e6) {
    let i = [], n = [], r = [];
    SW(t48), AW(i, t48);
    let o3 = t48.length;
    e6.forEach(SW);
    for (let t49 = 0; t49 < e6.length; t49++)
      n.push(o3), o3 += e6[t49].length, AW(i, e6[t49]);
    let s6 = L0e.triangulate(i, n);
    for (let t49 = 0; t49 < s6.length; t49 += 3)
      r.push(s6.slice(t49, t49 + 3));
    return r;
  }
};
q(ST, "ShapeUtils");
var yg = ST;
function SW(t48) {
  let e6 = t48.length;
  e6 > 2 && t48[e6 - 1].equals(t48[0]) && t48.pop();
}
function AW(t48, e6) {
  for (let i = 0; i < e6.length; i++)
    t48.push(e6[i].x), t48.push(e6[i].y);
}
q(SW, "removeDupEndPts"), q(AW, "addContour");
var AT = class t36 extends Ji {
  constructor(t48 = new Ul([new qe(0.5, 0.5), new qe(-0.5, 0.5), new qe(-0.5, -0.5), new qe(0.5, -0.5)]), e6 = {}) {
    super(), this.type = "ExtrudeGeometry", this.parameters = { shapes: t48, options: e6 }, t48 = Array.isArray(t48) ? t48 : [t48];
    let i = this, n = [], r = [];
    for (let e10 = 0, i10 = t48.length; e10 < i10; e10++) {
      o3(t48[e10]);
    }
    function o3(t49) {
      let o6, s6, a, l, h, c2 = [], p4 = void 0 !== e6.curveSegments ? e6.curveSegments : 12, d = void 0 !== e6.steps ? e6.steps : 1, f = void 0 !== e6.depth ? e6.depth : 1, g = void 0 === e6.bevelEnabled || e6.bevelEnabled, m = void 0 !== e6.bevelThickness ? e6.bevelThickness : 0.2, v4 = void 0 !== e6.bevelSize ? e6.bevelSize : m - 0.1, y4 = void 0 !== e6.bevelOffset ? e6.bevelOffset : 0, x4 = void 0 !== e6.bevelSegments ? e6.bevelSegments : 3, _ = e6.extrudePath, b = void 0 !== e6.UVGenerator ? e6.UVGenerator : Z0e, M = false;
      _ && (o6 = _.getSpacedPoints(d), M = true, g = false, s6 = _.computeFrenetFrames(d, false), a = new K(), l = new K(), h = new K()), g || (x4 = 0, m = 0, v4 = 0, y4 = 0);
      let E = t49.extractPoints(p4), w4 = E.shape, A = E.holes;
      if (!yg.isClockWise(w4)) {
        w4 = w4.reverse();
        for (let t50 = 0, e10 = A.length; t50 < e10; t50++) {
          let e11 = A[t50];
          yg.isClockWise(e11) && (A[t50] = e11.reverse());
        }
      }
      let S = yg.triangulateShape(w4, A), T = w4;
      for (let t50 = 0, e10 = A.length; t50 < e10; t50++) {
        let e11 = A[t50];
        w4 = w4.concat(e11);
      }
      function C(t50, e10, i10) {
        return e10 || console.error("THREE.ExtrudeGeometry: vec does not exist"), t50.clone().addScaledVector(e10, i10);
      }
      q(C, "scalePt2");
      let P = w4.length, I = S.length;
      function L(t50, e10, i10) {
        let n10, r6, o7, s10 = t50.x - e10.x, a3 = t50.y - e10.y, l3 = i10.x - t50.x, u2 = i10.y - t50.y, h2 = s10 * s10 + a3 * a3, c4 = s10 * u2 - a3 * l3;
        if (Math.abs(c4) > Number.EPSILON) {
          let c10 = Math.sqrt(h2), p10 = Math.sqrt(l3 * l3 + u2 * u2), d4 = e10.x - a3 / c10, f2 = e10.y + s10 / c10, g4 = ((i10.x - u2 / p10 - d4) * u2 - (i10.y + l3 / p10 - f2) * l3) / (s10 * u2 - a3 * l3);
          n10 = d4 + s10 * g4 - t50.x, r6 = f2 + a3 * g4 - t50.y;
          let m4 = n10 * n10 + r6 * r6;
          if (m4 <= 2)
            return new qe(n10, r6);
          o7 = Math.sqrt(m4 / 2);
        } else {
          let t51 = false;
          s10 > Number.EPSILON ? l3 > Number.EPSILON && (t51 = true) : s10 < -Number.EPSILON ? l3 < -Number.EPSILON && (t51 = true) : Math.sign(a3) === Math.sign(u2) && (t51 = true), t51 ? (n10 = -a3, r6 = s10, o7 = Math.sqrt(h2)) : (n10 = s10, r6 = a3, o7 = Math.sqrt(h2 / 2));
        }
        return new qe(n10 / o7, r6 / o7);
      }
      q(L, "getBevelVec");
      let O = [];
      for (let t50 = 0, e10 = T.length, i10 = e10 - 1, n10 = t50 + 1; t50 < e10; t50++, i10++, n10++)
        i10 === e10 && (i10 = 0), n10 === e10 && (n10 = 0), O[t50] = L(T[t50], T[i10], T[n10]);
      let N, D = [], R = O.concat();
      for (let t50 = 0, e10 = A.length; t50 < e10; t50++) {
        let e11 = A[t50];
        N = [];
        for (let t51 = 0, i10 = e11.length, n10 = i10 - 1, r6 = t51 + 1; t51 < i10; t51++, n10++, r6++)
          n10 === i10 && (n10 = 0), r6 === i10 && (r6 = 0), N[t51] = L(e11[t51], e11[n10], e11[r6]);
        D.push(N), R = R.concat(N);
      }
      for (let t50 = 0; t50 < x4; t50++) {
        let e10 = t50 / x4, i10 = m * Math.cos(e10 * Math.PI / 2), n10 = v4 * Math.sin(e10 * Math.PI / 2) + y4;
        for (let t51 = 0, e11 = T.length; t51 < e11; t51++) {
          let e12 = C(T[t51], O[t51], n10);
          U(e12.x, e12.y, -i10);
        }
        for (let t51 = 0, e11 = A.length; t51 < e11; t51++) {
          let e12 = A[t51];
          N = D[t51];
          for (let t52 = 0, r6 = e12.length; t52 < r6; t52++) {
            let r10 = C(e12[t52], N[t52], n10);
            U(r10.x, r10.y, -i10);
          }
        }
      }
      let q4 = v4 + y4;
      for (let t50 = 0; t50 < P; t50++) {
        let e10 = g ? C(w4[t50], R[t50], q4) : w4[t50];
        M ? (l.copy(s6.normals[0]).multiplyScalar(e10.x), a.copy(s6.binormals[0]).multiplyScalar(e10.y), h.copy(o6[0]).add(l).add(a), U(h.x, h.y, h.z)) : U(e10.x, e10.y, 0);
      }
      for (let t50 = 1; t50 <= d; t50++)
        for (let e10 = 0; e10 < P; e10++) {
          let i10 = g ? C(w4[e10], R[e10], q4) : w4[e10];
          M ? (l.copy(s6.normals[t50]).multiplyScalar(i10.x), a.copy(s6.binormals[t50]).multiplyScalar(i10.y), h.copy(o6[t50]).add(l).add(a), U(h.x, h.y, h.z)) : U(i10.x, i10.y, f / d * t50);
        }
      for (let t50 = x4 - 1; t50 >= 0; t50--) {
        let e10 = t50 / x4, i10 = m * Math.cos(e10 * Math.PI / 2), n10 = v4 * Math.sin(e10 * Math.PI / 2) + y4;
        for (let t51 = 0, e11 = T.length; t51 < e11; t51++) {
          let e12 = C(T[t51], O[t51], n10);
          U(e12.x, e12.y, f + i10);
        }
        for (let t51 = 0, e11 = A.length; t51 < e11; t51++) {
          let e12 = A[t51];
          N = D[t51];
          for (let t52 = 0, r6 = e12.length; t52 < r6; t52++) {
            let r10 = C(e12[t52], N[t52], n10);
            M ? U(r10.x, r10.y + o6[d - 1].y, o6[d - 1].x + i10) : U(r10.x, r10.y, f + i10);
          }
        }
      }
      function B() {
        let t50 = n.length / 3;
        if (g) {
          let t51 = 0, e10 = P * t51;
          for (let t52 = 0; t52 < I; t52++) {
            let i10 = S[t52];
            z(i10[2] + e10, i10[1] + e10, i10[0] + e10);
          }
          t51 = d + 2 * x4, e10 = P * t51;
          for (let t52 = 0; t52 < I; t52++) {
            let i10 = S[t52];
            z(i10[0] + e10, i10[1] + e10, i10[2] + e10);
          }
        } else {
          for (let t51 = 0; t51 < I; t51++) {
            let e10 = S[t51];
            z(e10[2], e10[1], e10[0]);
          }
          for (let t51 = 0; t51 < I; t51++) {
            let e10 = S[t51];
            z(e10[0] + P * d, e10[1] + P * d, e10[2] + P * d);
          }
        }
        i.addGroup(t50, n.length / 3 - t50, 0);
      }
      function k() {
        let t50 = n.length / 3, e10 = 0;
        F(T, e10), e10 += T.length;
        for (let t51 = 0, i10 = A.length; t51 < i10; t51++) {
          let i11 = A[t51];
          F(i11, e10), e10 += i11.length;
        }
        i.addGroup(t50, n.length / 3 - t50, 1);
      }
      function F(t50, e10) {
        let i10 = t50.length;
        for (; --i10 >= 0; ) {
          let n10 = i10, r6 = i10 - 1;
          r6 < 0 && (r6 = t50.length - 1);
          for (let t51 = 0, i11 = d + 2 * x4; t51 < i11; t51++) {
            let i12 = P * t51, o7 = P * (t51 + 1);
            V(e10 + n10 + i12, e10 + r6 + i12, e10 + r6 + o7, e10 + n10 + o7);
          }
        }
      }
      function U(t50, e10, i10) {
        c2.push(t50), c2.push(e10), c2.push(i10);
      }
      function z(t50, e10, r6) {
        j(t50), j(e10), j(r6);
        let o7 = n.length / 3, s10 = b.generateTopUV(i, n, o7 - 3, o7 - 2, o7 - 1);
        G(s10[0]), G(s10[1]), G(s10[2]);
      }
      function V(t50, e10, r6, o7) {
        j(t50), j(e10), j(o7), j(e10), j(r6), j(o7);
        let s10 = n.length / 3, a3 = b.generateSideWallUV(i, n, s10 - 6, s10 - 3, s10 - 2, s10 - 1);
        G(a3[0]), G(a3[1]), G(a3[3]), G(a3[1]), G(a3[2]), G(a3[3]);
      }
      function j(t50) {
        n.push(c2[3 * t50 + 0]), n.push(c2[3 * t50 + 1]), n.push(c2[3 * t50 + 2]);
      }
      function G(t50) {
        r.push(t50.x), r.push(t50.y);
      }
      B(), k(), q(B, "buildLidFaces"), q(k, "buildSideFaces"), q(F, "sidewalls"), q(U, "v"), q(z, "f3"), q(V, "f4"), q(j, "addVertex"), q(G, "addUV");
    }
    this.setAttribute("position", new Rr(n, 3)), this.setAttribute("uv", new Rr(r, 2)), this.computeVertexNormals(), q(o3, "addShape");
  }
  copy(t48) {
    return super.copy(t48), this.parameters = Object.assign({}, t48.parameters), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return Q0e(this.parameters.shapes, this.parameters.options, t48);
  }
  static fromJSON(e6, i) {
    let n = [];
    for (let t48 = 0, r6 = e6.shapes.length; t48 < r6; t48++) {
      let r10 = i[e6.shapes[t48]];
      n.push(r10);
    }
    let r = e6.options.extrudePath;
    return void 0 !== r && (e6.options.extrudePath = new LO[r.type]().fromJSON(r)), new t36(n, e6.options);
  }
};
q(AT, "ExtrudeGeometry");
var Uc = AT;
var Z0e = { generateTopUV: function(t48, e6, i, n, r) {
  let o3 = e6[3 * i], s6 = e6[3 * i + 1], a = e6[3 * n], l = e6[3 * n + 1], u2 = e6[3 * r], h = e6[3 * r + 1];
  return [new qe(o3, s6), new qe(a, l), new qe(u2, h)];
}, generateSideWallUV: function(t48, e6, i, n, r, o3) {
  let s6 = e6[3 * i], a = e6[3 * i + 1], l = e6[3 * i + 2], u2 = e6[3 * n], h = e6[3 * n + 1], c2 = e6[3 * n + 2], p4 = e6[3 * r], d = e6[3 * r + 1], f = e6[3 * r + 2], g = e6[3 * o3], m = e6[3 * o3 + 1], v4 = e6[3 * o3 + 2];
  return Math.abs(a - h) < Math.abs(s6 - u2) ? [new qe(s6, 1 - l), new qe(u2, 1 - c2), new qe(p4, 1 - f), new qe(g, 1 - v4)] : [new qe(a, 1 - l), new qe(h, 1 - c2), new qe(d, 1 - f), new qe(m, 1 - v4)];
} };
function Q0e(t48, e6, i) {
  if (i.shapes = [], Array.isArray(t48))
    for (let e10 = 0, n = t48.length; e10 < n; e10++) {
      let n10 = t48[e10];
      i.shapes.push(n10.uuid);
    }
  else
    i.shapes.push(t48.uuid);
  return i.options = Object.assign({}, e6), void 0 !== e6.extrudePath && (i.options.extrudePath = e6.extrudePath.toJSON()), i;
}
q(Q0e, "toJSON$1");
var CT = class t37 extends Ji {
  constructor(t48 = new tT(new K(-1, -1, 0), new K(-1, 1, 0), new K(1, 1, 0)), e6 = 64, i = 1, n = 8, r = false) {
    super(), this.type = "TubeGeometry", this.parameters = { path: t48, tubularSegments: e6, radius: i, radialSegments: n, closed: r };
    let o3 = t48.computeFrenetFrames(e6, r);
    this.tangents = o3.tangents, this.normals = o3.normals, this.binormals = o3.binormals;
    let s6 = new K(), a = new K(), l = new qe(), h = new K(), c2 = [], p4 = [], d = [], f = [];
    function g() {
      for (let t49 = 0; t49 < e6; t49++)
        m(t49);
      m(false === r ? e6 : 0), y4(), v4();
    }
    function m(r6) {
      h = t48.getPointAt(r6 / e6, h);
      let l3 = o3.normals[r6], u2 = o3.binormals[r6];
      for (let t49 = 0; t49 <= n; t49++) {
        let e10 = t49 / n * Math.PI * 2, r10 = Math.sin(e10), o6 = -Math.cos(e10);
        a.x = o6 * l3.x + r10 * u2.x, a.y = o6 * l3.y + r10 * u2.y, a.z = o6 * l3.z + r10 * u2.z, a.normalize(), p4.push(a.x, a.y, a.z), s6.x = h.x + i * a.x, s6.y = h.y + i * a.y, s6.z = h.z + i * a.z, c2.push(s6.x, s6.y, s6.z);
      }
    }
    function v4() {
      for (let t49 = 1; t49 <= e6; t49++)
        for (let e10 = 1; e10 <= n; e10++) {
          let i10 = (n + 1) * (t49 - 1) + (e10 - 1), r6 = (n + 1) * t49 + (e10 - 1), o6 = (n + 1) * t49 + e10, s10 = (n + 1) * (t49 - 1) + e10;
          f.push(i10, r6, s10), f.push(r6, o6, s10);
        }
    }
    function y4() {
      for (let t49 = 0; t49 <= e6; t49++)
        for (let i10 = 0; i10 <= n; i10++)
          l.x = t49 / e6, l.y = i10 / n, d.push(l.x, l.y);
    }
    g(), this.setIndex(f), this.setAttribute("position", new Rr(c2, 3)), this.setAttribute("normal", new Rr(p4, 3)), this.setAttribute("uv", new Rr(d, 2)), q(g, "generateBufferData"), q(m, "generateSegment"), q(v4, "generateIndices"), q(y4, "generateUVs");
  }
  copy(t48) {
    return super.copy(t48), this.parameters = Object.assign({}, t48.parameters), this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.path = this.parameters.path.toJSON(), t48;
  }
  static fromJSON(e6) {
    return new t37(new LO[e6.path.type]().fromJSON(e6.path), e6.tubularSegments, e6.radius, e6.radialSegments, e6.closed);
  }
};
q(CT, "TubeGeometry");
var rT = CT;
var QL = class extends Xt {
  constructor(t48) {
    super(t48), this.isRawShaderMaterial = true, this.type = "RawShaderMaterial";
  }
};
q(QL, "RawShaderMaterial");
var sT = QL;
var KL = class extends ha {
  constructor(t48) {
    super(), this.isMeshStandardMaterial = true, this.defines = { STANDARD: "" }, this.type = "MeshStandardMaterial", this.color = new at(16777215), this.roughness = 1, this.metalness = 0, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new at(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = CO, this.normalScale = new qe(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.wireframe = false, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = false, this.fog = true, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.defines = { STANDARD: "" }, this.color.copy(t48.color), this.roughness = t48.roughness, this.metalness = t48.metalness, this.map = t48.map, this.lightMap = t48.lightMap, this.lightMapIntensity = t48.lightMapIntensity, this.aoMap = t48.aoMap, this.aoMapIntensity = t48.aoMapIntensity, this.emissive.copy(t48.emissive), this.emissiveMap = t48.emissiveMap, this.emissiveIntensity = t48.emissiveIntensity, this.bumpMap = t48.bumpMap, this.bumpScale = t48.bumpScale, this.normalMap = t48.normalMap, this.normalMapType = t48.normalMapType, this.normalScale.copy(t48.normalScale), this.displacementMap = t48.displacementMap, this.displacementScale = t48.displacementScale, this.displacementBias = t48.displacementBias, this.roughnessMap = t48.roughnessMap, this.metalnessMap = t48.metalnessMap, this.alphaMap = t48.alphaMap, this.envMap = t48.envMap, this.envMapIntensity = t48.envMapIntensity, this.wireframe = t48.wireframe, this.wireframeLinewidth = t48.wireframeLinewidth, this.wireframeLinecap = t48.wireframeLinecap, this.wireframeLinejoin = t48.wireframeLinejoin, this.flatShading = t48.flatShading, this.fog = t48.fog, this;
  }
};
q(KL, "MeshStandardMaterial");
var Nx = KL;
var JL = class extends ha {
  constructor(t48) {
    super(), this.isMeshLambertMaterial = true, this.type = "MeshLambertMaterial", this.color = new at(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new at(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = CO, this.normalScale = new qe(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = TO, this.reflectivity = 1, this.refractionRatio = 0.98, this.wireframe = false, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = false, this.fog = true, this.setValues(t48);
  }
  copy(t48) {
    return super.copy(t48), this.color.copy(t48.color), this.map = t48.map, this.lightMap = t48.lightMap, this.lightMapIntensity = t48.lightMapIntensity, this.aoMap = t48.aoMap, this.aoMapIntensity = t48.aoMapIntensity, this.emissive.copy(t48.emissive), this.emissiveMap = t48.emissiveMap, this.emissiveIntensity = t48.emissiveIntensity, this.bumpMap = t48.bumpMap, this.bumpScale = t48.bumpScale, this.normalMap = t48.normalMap, this.normalMapType = t48.normalMapType, this.normalScale.copy(t48.normalScale), this.displacementMap = t48.displacementMap, this.displacementScale = t48.displacementScale, this.displacementBias = t48.displacementBias, this.specularMap = t48.specularMap, this.alphaMap = t48.alphaMap, this.envMap = t48.envMap, this.combine = t48.combine, this.reflectivity = t48.reflectivity, this.refractionRatio = t48.refractionRatio, this.wireframe = t48.wireframe, this.wireframeLinewidth = t48.wireframeLinewidth, this.wireframeLinecap = t48.wireframeLinecap, this.wireframeLinejoin = t48.wireframeLinejoin, this.flatShading = t48.flatShading, this.fog = t48.fog, this;
  }
};
q(JL, "MeshLambertMaterial");
var ol = JL;
function Wh(t48, e6, i) {
  return $W(t48) ? new t48.constructor(t48.subarray(e6, void 0 !== i ? i : t48.length)) : t48.slice(e6, i);
}
function qE(t48, e6, i) {
  return !t48 || !i && t48.constructor === e6 ? t48 : "number" == typeof e6.BYTES_PER_ELEMENT ? new e6(t48) : Array.prototype.slice.call(t48);
}
function $W(t48) {
  return ArrayBuffer.isView(t48) && !(t48 instanceof DataView);
}
q(Wh, "arraySlice"), q(qE, "convertArray"), q($W, "isTypedArray");
var $L = class {
  constructor(t48, e6, i, n) {
    this.parameterPositions = t48, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e6.constructor(i), this.sampleValues = e6, this.valueSize = i, this.settings = null, this.DefaultSettings_ = {};
  }
  evaluate(t48) {
    let e6 = this.parameterPositions, i = this._cachedIndex, n = e6[i], r = e6[i - 1];
    t: {
      e: {
        let o3;
        i: {
          n:
            if (!(t48 < n)) {
              for (let o6 = i + 2; ; ) {
                if (void 0 === n) {
                  if (t48 < r)
                    break n;
                  return i = e6.length, this._cachedIndex = i, this.copySampleValue_(i - 1);
                }
                if (i === o6)
                  break;
                if (r = n, n = e6[++i], t48 < n)
                  break e;
              }
              o3 = e6.length;
              break i;
            }
          if (t48 >= r)
            break t;
          {
            let s6 = e6[1];
            t48 < s6 && (i = 2, r = s6);
            for (let o6 = i - 2; ; ) {
              if (void 0 === r)
                return this._cachedIndex = 0, this.copySampleValue_(0);
              if (i === o6)
                break;
              if (n = r, r = e6[--i - 1], t48 >= r)
                break e;
            }
            o3 = i, i = 0;
          }
        }
        for (; i < o3; ) {
          let n10 = i + o3 >>> 1;
          t48 < e6[n10] ? o3 = n10 : i = n10 + 1;
        }
        if (n = e6[i], r = e6[i - 1], void 0 === r)
          return this._cachedIndex = 0, this.copySampleValue_(0);
        if (void 0 === n)
          return i = e6.length, this._cachedIndex = i, this.copySampleValue_(i - 1);
      }
      this._cachedIndex = i, this.intervalChanged_(i, r, n);
    }
    return this.interpolate_(i, r, t48, n);
  }
  getSettings_() {
    return this.settings || this.DefaultSettings_;
  }
  copySampleValue_(t48) {
    let e6 = this.resultBuffer, i = this.sampleValues, n = this.valueSize, r = t48 * n;
    for (let t49 = 0; t49 !== n; ++t49)
      e6[t49] = i[r + t49];
    return e6;
  }
  interpolate_() {
    throw new Error("call to abstract method");
  }
  intervalChanged_() {
  }
};
q($L, "Interpolant");
var Pg = $L;
var eD = class extends Pg {
  constructor(t48, e6, i, n) {
    super(t48, e6, i, n), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0, this.DefaultSettings_ = { endingStart: Oj, endingEnd: Oj };
  }
  intervalChanged_(t48, e6, i) {
    let n = this.parameterPositions, r = t48 - 2, o3 = t48 + 1, s6 = n[r], a = n[o3];
    if (void 0 === s6)
      switch (this.getSettings_().endingStart) {
        case Lj:
          r = t48, s6 = 2 * e6 - i;
          break;
        case Dj:
          r = n.length - 2, s6 = e6 + n[r] - n[r + 1];
          break;
        default:
          r = t48, s6 = i;
      }
    if (void 0 === a)
      switch (this.getSettings_().endingEnd) {
        case Lj:
          o3 = t48, a = 2 * i - e6;
          break;
        case Dj:
          o3 = 1, a = i + n[1] - n[0];
          break;
        default:
          o3 = t48 - 1, a = e6;
      }
    let l = 0.5 * (i - e6), u2 = this.valueSize;
    this._weightPrev = l / (e6 - s6), this._weightNext = l / (a - i), this._offsetPrev = r * u2, this._offsetNext = o3 * u2;
  }
  interpolate_(t48, e6, i, n) {
    let r = this.resultBuffer, o3 = this.sampleValues, s6 = this.valueSize, a = t48 * s6, l = a - s6, u2 = this._offsetPrev, h = this._offsetNext, c2 = this._weightPrev, p4 = this._weightNext, d = (i - e6) / (n - e6), f = d * d, g = f * d, m = -c2 * g + 2 * c2 * f - c2 * d, v4 = (1 + c2) * g + (-1.5 - 2 * c2) * f + (-0.5 + c2) * d + 1, y4 = (-1 - p4) * g + (1.5 + p4) * f + 0.5 * d, x4 = p4 * g - p4 * f;
    for (let t49 = 0; t49 !== s6; ++t49)
      r[t49] = m * o3[u2 + t49] + v4 * o3[l + t49] + y4 * o3[a + t49] + x4 * o3[h + t49];
    return r;
  }
};
q(eD, "CubicInterpolant");
var fO = eD;
var tD = class extends Pg {
  constructor(t48, e6, i, n) {
    super(t48, e6, i, n);
  }
  interpolate_(t48, e6, i, n) {
    let r = this.resultBuffer, o3 = this.sampleValues, s6 = this.valueSize, a = t48 * s6, l = a - s6, u2 = (i - e6) / (n - e6), h = 1 - u2;
    for (let t49 = 0; t49 !== s6; ++t49)
      r[t49] = o3[l + t49] * h + o3[a + t49] * u2;
    return r;
  }
};
q(tD, "LinearInterpolant");
var pO = tD;
var nD = class extends Pg {
  constructor(t48, e6, i, n) {
    super(t48, e6, i, n);
  }
  interpolate_(t48) {
    return this.copySampleValue_(t48 - 1);
  }
};
q(nD, "DiscreteInterpolant");
var dO = nD;
var iD = class {
  constructor(t48, e6, i, n) {
    if (void 0 === t48)
      throw new Error("THREE.KeyframeTrack: track name is undefined");
    if (void 0 === e6 || 0 === e6.length)
      throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t48);
    this.name = t48, this.times = qE(e6, this.TimeBufferType), this.values = qE(i, this.ValueBufferType), this.setInterpolation(n || this.DefaultInterpolation);
  }
  static toJSON(t48) {
    let e6, i = t48.constructor;
    if (i.toJSON !== this.toJSON)
      e6 = i.toJSON(t48);
    else {
      e6 = { name: t48.name, times: qE(t48.times, Array), values: qE(t48.values, Array) };
      let i10 = t48.getInterpolation();
      i10 !== t48.DefaultInterpolation && (e6.interpolation = i10);
    }
    return e6.type = t48.ValueTypeName, e6;
  }
  InterpolantFactoryMethodDiscrete(t48) {
    return new dO(this.times, this.values, this.getValueSize(), t48);
  }
  InterpolantFactoryMethodLinear(t48) {
    return new pO(this.times, this.values, this.getValueSize(), t48);
  }
  InterpolantFactoryMethodSmooth(t48) {
    return new fO(this.times, this.values, this.getValueSize(), t48);
  }
  setInterpolation(t48) {
    let e6;
    switch (t48) {
      case _g:
        e6 = this.InterpolantFactoryMethodDiscrete;
        break;
      case wg:
        e6 = this.InterpolantFactoryMethodLinear;
        break;
      case d6:
        e6 = this.InterpolantFactoryMethodSmooth;
    }
    if (void 0 === e6) {
      let e10 = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
      if (void 0 === this.createInterpolant) {
        if (t48 === this.DefaultInterpolation)
          throw new Error(e10);
        this.setInterpolation(this.DefaultInterpolation);
      }
      return console.warn("THREE.KeyframeTrack:", e10), this;
    }
    return this.createInterpolant = e6, this;
  }
  getInterpolation() {
    switch (this.createInterpolant) {
      case this.InterpolantFactoryMethodDiscrete:
        return _g;
      case this.InterpolantFactoryMethodLinear:
        return wg;
      case this.InterpolantFactoryMethodSmooth:
        return d6;
    }
  }
  getValueSize() {
    return this.values.length / this.times.length;
  }
  shift(t48) {
    if (0 !== t48) {
      let e6 = this.times;
      for (let i = 0, n = e6.length; i !== n; ++i)
        e6[i] += t48;
    }
    return this;
  }
  scale(t48) {
    if (1 !== t48) {
      let e6 = this.times;
      for (let i = 0, n = e6.length; i !== n; ++i)
        e6[i] *= t48;
    }
    return this;
  }
  trim(t48, e6) {
    let i = this.times, n = i.length, r = 0, o3 = n - 1;
    for (; r !== n && i[r] < t48; )
      ++r;
    for (; -1 !== o3 && i[o3] > e6; )
      --o3;
    if (++o3, 0 !== r || o3 !== n) {
      r >= o3 && (o3 = Math.max(o3, 1), r = o3 - 1);
      let t49 = this.getValueSize();
      this.times = Wh(i, r, o3), this.values = Wh(this.values, r * t49, o3 * t49);
    }
    return this;
  }
  validate() {
    let t48 = true, e6 = this.getValueSize();
    e6 - Math.floor(e6) != 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), t48 = false);
    let i = this.times, n = this.values, r = i.length;
    0 === r && (console.error("THREE.KeyframeTrack: Track is empty.", this), t48 = false);
    let o3 = null;
    for (let e10 = 0; e10 !== r; e10++) {
      let n10 = i[e10];
      if ("number" == typeof n10 && isNaN(n10)) {
        console.error("THREE.KeyframeTrack: Time is not a valid number.", this, e10, n10), t48 = false;
        break;
      }
      if (null !== o3 && o3 > n10) {
        console.error("THREE.KeyframeTrack: Out of order keys.", this, e10, n10, o3), t48 = false;
        break;
      }
      o3 = n10;
    }
    if (void 0 !== n && $W(n))
      for (let e10 = 0, i10 = n.length; e10 !== i10; ++e10) {
        let i11 = n[e10];
        if (isNaN(i11)) {
          console.error("THREE.KeyframeTrack: Value is not a valid number.", this, e10, i11), t48 = false;
          break;
        }
      }
    return t48;
  }
  optimize() {
    let t48 = Wh(this.times), e6 = Wh(this.values), i = this.getValueSize(), n = this.getInterpolation() === d6, r = t48.length - 1, o3 = 1;
    for (let s6 = 1; s6 < r; ++s6) {
      let r6 = false, a = t48[s6];
      if (a !== t48[s6 + 1] && (1 !== s6 || a !== t48[0]))
        if (n)
          r6 = true;
        else {
          let t49 = s6 * i, n10 = t49 - i, o6 = t49 + i;
          for (let s10 = 0; s10 !== i; ++s10) {
            let i10 = e6[t49 + s10];
            if (i10 !== e6[n10 + s10] || i10 !== e6[o6 + s10]) {
              r6 = true;
              break;
            }
          }
        }
      if (r6) {
        if (s6 !== o3) {
          t48[o3] = t48[s6];
          let n10 = s6 * i, r10 = o3 * i;
          for (let t49 = 0; t49 !== i; ++t49)
            e6[r10 + t49] = e6[n10 + t49];
        }
        ++o3;
      }
    }
    if (r > 0) {
      t48[o3] = t48[r];
      for (let t49 = r * i, n10 = o3 * i, s6 = 0; s6 !== i; ++s6)
        e6[n10 + s6] = e6[t49 + s6];
      ++o3;
    }
    return o3 !== t48.length ? (this.times = Wh(t48, 0, o3), this.values = Wh(e6, 0, o3 * i)) : (this.times = t48, this.values = e6), this;
  }
  clone() {
    let t48 = Wh(this.times, 0), e6 = Wh(this.values, 0), i = new (0, this.constructor)(this.name, t48, e6);
    return i.createInterpolant = this.createInterpolant, i;
  }
};
q(iD, "KeyframeTrack");
var zl = iD;
zl.prototype.TimeBufferType = Float32Array, zl.prototype.ValueBufferType = Float32Array, zl.prototype.DefaultInterpolation = wg;
var rD = class extends zl {
};
q(rD, "BooleanKeyframeTrack");
var qp = rD;
qp.prototype.ValueTypeName = "bool", qp.prototype.ValueBufferType = Array, qp.prototype.DefaultInterpolation = _g, qp.prototype.InterpolantFactoryMethodLinear = void 0, qp.prototype.InterpolantFactoryMethodSmooth = void 0;
var sD = class extends zl {
};
q(sD, "ColorKeyframeTrack");
var mO = sD;
mO.prototype.ValueTypeName = "color";
var oD = class extends zl {
};
q(oD, "NumberKeyframeTrack");
var gO = oD;
gO.prototype.ValueTypeName = "number";
var aD = class extends Pg {
  constructor(t48, e6, i, n) {
    super(t48, e6, i, n);
  }
  interpolate_(t48, e6, i, n) {
    let r = this.resultBuffer, o3 = this.sampleValues, s6 = this.valueSize, a = (i - e6) / (n - e6), l = t48 * s6;
    for (let t49 = l + s6; l !== t49; l += 4)
      Ia.slerpFlat(r, 0, o3, l - s6, o3, l, a);
    return r;
  }
};
q(aD, "QuaternionLinearInterpolant");
var vO = aD;
var lD = class extends zl {
  InterpolantFactoryMethodLinear(t48) {
    return new vO(this.times, this.values, this.getValueSize(), t48);
  }
};
q(lD, "QuaternionKeyframeTrack");
var Rx = lD;
Rx.prototype.ValueTypeName = "quaternion", Rx.prototype.DefaultInterpolation = wg, Rx.prototype.InterpolantFactoryMethodSmooth = void 0;
var uD = class extends zl {
};
q(uD, "StringKeyframeTrack");
var Fp = uD;
Fp.prototype.ValueTypeName = "string", Fp.prototype.ValueBufferType = Array, Fp.prototype.DefaultInterpolation = _g, Fp.prototype.InterpolantFactoryMethodLinear = void 0, Fp.prototype.InterpolantFactoryMethodSmooth = void 0;
var cD = class extends zl {
};
q(cD, "VectorKeyframeTrack");
var yO = cD;
yO.prototype.ValueTypeName = "vector";
var CW = { enabled: false, files: {}, add: function(t48, e6) {
  false !== this.enabled && (this.files[t48] = e6);
}, get: function(t48) {
  if (false !== this.enabled)
    return this.files[t48];
}, remove: function(t48) {
  delete this.files[t48];
}, clear: function() {
  this.files = {};
} };
var hD = class {
  constructor(t48, e6, i) {
    let n, r = this, o3 = false, s6 = 0, a = 0, l = [];
    this.onStart = void 0, this.onLoad = t48, this.onProgress = e6, this.onError = i, this.itemStart = function(t49) {
      a++, false === o3 && void 0 !== r.onStart && r.onStart(t49, s6, a), o3 = true;
    }, this.itemEnd = function(t49) {
      s6++, void 0 !== r.onProgress && r.onProgress(t49, s6, a), s6 === a && (o3 = false, void 0 !== r.onLoad && r.onLoad());
    }, this.itemError = function(t49) {
      void 0 !== r.onError && r.onError(t49);
    }, this.resolveURL = function(t49) {
      return n ? n(t49) : t49;
    }, this.setURLModifier = function(t49) {
      return n = t49, this;
    }, this.addHandler = function(t49, e10) {
      return l.push(t49, e10), this;
    }, this.removeHandler = function(t49) {
      let e10 = l.indexOf(t49);
      return -1 !== e10 && l.splice(e10, 2), this;
    }, this.getHandler = function(t49) {
      for (let e10 = 0, i10 = l.length; e10 < i10; e10 += 2) {
        let i11 = l[e10], n10 = l[e10 + 1];
        if (i11.global && (i11.lastIndex = 0), i11.test(t49))
          return n10;
      }
      return null;
    };
  }
};
q(hD, "LoadingManager");
var Bx = hD;
var K0e = new Bx();
var fD = class {
  constructor(t48) {
    this.manager = void 0 !== t48 ? t48 : K0e, this.crossOrigin = "anonymous", this.withCredentials = false, this.path = "", this.resourcePath = "", this.requestHeader = {};
  }
  load() {
  }
  loadAsync(t48, e6) {
    let i = this;
    return new Promise(function(n, r) {
      i.load(t48, n, e6, r);
    });
  }
  parse() {
  }
  setCrossOrigin(t48) {
    return this.crossOrigin = t48, this;
  }
  setWithCredentials(t48) {
    return this.withCredentials = t48, this;
  }
  setPath(t48) {
    return this.path = t48, this;
  }
  setResourcePath(t48) {
    return this.resourcePath = t48, this;
  }
  setRequestHeader(t48) {
    return this.requestHeader = t48, this;
  }
};
q(fD, "Loader");
var kx = fD;
var pD = class extends kx {
  constructor(t48) {
    super(t48);
  }
  load(t48, e6, i, n) {
    void 0 !== this.path && (t48 = this.path + t48), t48 = this.manager.resolveURL(t48);
    let r = this, o3 = CW.get(t48);
    if (void 0 !== o3)
      return r.manager.itemStart(t48), setTimeout(function() {
        e6 && e6(o3), r.manager.itemEnd(t48);
      }, 0), o3;
    let s6 = bx("img");
    function a() {
      h(), CW.add(t48, this), e6 && e6(this), r.manager.itemEnd(t48);
    }
    function l(e10) {
      h(), n && n(e10), r.manager.itemError(t48), r.manager.itemEnd(t48);
    }
    function h() {
      s6.removeEventListener("load", a, false), s6.removeEventListener("error", l, false);
    }
    return q(a, "onImageLoad"), q(l, "onImageError"), q(h, "removeEventListeners"), s6.addEventListener("load", a, false), s6.addEventListener("error", l, false), "data:" !== t48.slice(0, 5) && void 0 !== this.crossOrigin && (s6.crossOrigin = this.crossOrigin), r.manager.itemStart(t48), s6.src = t48, s6;
  }
};
q(pD, "ImageLoader");
var xO = pD;
var dD = class extends kx {
  constructor(t48) {
    super(t48);
  }
  load(t48, e6, i, n) {
    let r = new Er(), o3 = new xO(this.manager);
    return o3.setCrossOrigin(this.crossOrigin), o3.setPath(this.path), o3.load(t48, function(t49) {
      r.image = t49, r.needsUpdate = true, void 0 !== e6 && e6(r);
    }, i, n), r;
  }
};
q(dD, "TextureLoader");
var fa = dD;
var mD = class extends ci {
  constructor(t48, e6 = 1) {
    super(), this.isLight = true, this.type = "Light", this.color = new at(t48), this.intensity = e6;
  }
  dispose() {
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.color.copy(t48.color), this.intensity = t48.intensity, this;
  }
  toJSON(t48) {
    let e6 = super.toJSON(t48);
    return e6.object.color = this.color.getHex(), e6.object.intensity = this.intensity, void 0 !== this.groundColor && (e6.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e6.object.distance = this.distance), void 0 !== this.angle && (e6.object.angle = this.angle), void 0 !== this.decay && (e6.object.decay = this.decay), void 0 !== this.penumbra && (e6.object.penumbra = this.penumbra), void 0 !== this.shadow && (e6.object.shadow = this.shadow.toJSON()), e6;
  }
};
q(mD, "Light");
var qx = mD;
var U6 = new Ot();
var PW = new K();
var IW = new K();
var gD = class {
  constructor(t48) {
    this.camera = t48, this.bias = 0, this.normalBias = 0, this.radius = 1, this.blurSamples = 8, this.mapSize = new qe(512, 512), this.map = null, this.mapPass = null, this.matrix = new Ot(), this.autoUpdate = true, this.needsUpdate = false, this._frustum = new kc(), this._frameExtents = new qe(1, 1), this._viewportCount = 1, this._viewports = [new Fi(0, 0, 1, 1)];
  }
  getViewportCount() {
    return this._viewportCount;
  }
  getFrustum() {
    return this._frustum;
  }
  updateMatrices(t48) {
    let e6 = this.camera, i = this.matrix;
    PW.setFromMatrixPosition(t48.matrixWorld), e6.position.copy(PW), IW.setFromMatrixPosition(t48.target.matrixWorld), e6.lookAt(IW), e6.updateMatrixWorld(), U6.multiplyMatrices(e6.projectionMatrix, e6.matrixWorldInverse), this._frustum.setFromProjectionMatrix(U6), i.set(0.5, 0, 0, 0.5, 0, 0.5, 0, 0.5, 0, 0, 0.5, 0.5, 0, 0, 0, 1), i.multiply(U6);
  }
  getViewport(t48) {
    return this._viewports[t48];
  }
  getFrameExtents() {
    return this._frameExtents;
  }
  dispose() {
    this.map && this.map.dispose(), this.mapPass && this.mapPass.dispose();
  }
  copy(t48) {
    return this.camera = t48.camera.clone(), this.bias = t48.bias, this.radius = t48.radius, this.mapSize.copy(t48.mapSize), this;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  toJSON() {
    let t48 = {};
    return 0 !== this.bias && (t48.bias = this.bias), 0 !== this.normalBias && (t48.normalBias = this.normalBias), 1 !== this.radius && (t48.radius = this.radius), (512 !== this.mapSize.x || 512 !== this.mapSize.y) && (t48.mapSize = this.mapSize.toArray()), t48.camera = this.camera.toJSON(false).object, delete t48.camera.matrix, t48;
  }
};
q(gD, "LightShadow");
var oT = gD;
var OW = new Ot();
var ax = new K();
var z6 = new K();
var vD = class extends oT {
  constructor() {
    super(new as(90, 1, 0.5, 500)), this.isPointLightShadow = true, this._frameExtents = new qe(4, 2), this._viewportCount = 6, this._viewports = [new Fi(2, 1, 1, 1), new Fi(0, 1, 1, 1), new Fi(3, 1, 1, 1), new Fi(1, 1, 1, 1), new Fi(3, 0, 1, 1), new Fi(1, 0, 1, 1)], this._cubeDirections = [new K(1, 0, 0), new K(-1, 0, 0), new K(0, 0, 1), new K(0, 0, -1), new K(0, 1, 0), new K(0, -1, 0)], this._cubeUps = [new K(0, 1, 0), new K(0, 1, 0), new K(0, 1, 0), new K(0, 1, 0), new K(0, 0, 1), new K(0, 0, -1)];
  }
  updateMatrices(t48, e6 = 0) {
    let i = this.camera, n = this.matrix, r = t48.distance || i.far;
    r !== i.far && (i.far = r, i.updateProjectionMatrix()), ax.setFromMatrixPosition(t48.matrixWorld), i.position.copy(ax), z6.copy(i.position), z6.add(this._cubeDirections[e6]), i.up.copy(this._cubeUps[e6]), i.lookAt(z6), i.updateMatrixWorld(), n.makeTranslation(-ax.x, -ax.y, -ax.z), OW.multiplyMatrices(i.projectionMatrix, i.matrixWorldInverse), this._frustum.setFromProjectionMatrix(OW);
  }
};
q(vD, "PointLightShadow");
var bO = vD;
var yD = class extends qx {
  constructor(t48, e6, i = 0, n = 2) {
    super(t48, e6), this.isPointLight = true, this.type = "PointLight", this.distance = i, this.decay = n, this.shadow = new bO();
  }
  get power() {
    return 4 * this.intensity * Math.PI;
  }
  set power(t48) {
    this.intensity = t48 / (4 * Math.PI);
  }
  dispose() {
    this.shadow.dispose();
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.distance = t48.distance, this.decay = t48.decay, this.shadow = t48.shadow.clone(), this;
  }
};
q(yD, "PointLight");
var aT = yD;
var xD = class extends oT {
  constructor() {
    super(new Sg(-5, 5, 5, -5, 0.5, 500)), this.isDirectionalLightShadow = true;
  }
};
q(xD, "DirectionalLightShadow");
var _O = xD;
var bD = class extends qx {
  constructor(t48, e6) {
    super(t48, e6), this.isDirectionalLight = true, this.type = "DirectionalLight", this.position.copy(ci.DEFAULT_UP), this.updateMatrix(), this.target = new ci(), this.shadow = new _O();
  }
  dispose() {
    this.shadow.dispose();
  }
  copy(t48) {
    return super.copy(t48), this.target = t48.target.clone(), this.shadow = t48.shadow.clone(), this;
  }
};
q(bD, "DirectionalLight");
var lT = bD;
var _D = class extends qx {
  constructor(t48, e6) {
    super(t48, e6), this.isAmbientLight = true, this.type = "AmbientLight";
  }
};
q(_D, "AmbientLight");
var uT = _D;
var wD = class extends Ji {
  constructor() {
    super(), this.isInstancedBufferGeometry = true, this.type = "InstancedBufferGeometry", this.instanceCount = 1 / 0;
  }
  copy(t48) {
    return super.copy(t48), this.instanceCount = t48.instanceCount, this;
  }
  toJSON() {
    let t48 = super.toJSON();
    return t48.instanceCount = this.instanceCount, t48.isInstancedBufferGeometry = true, t48;
  }
};
q(wD, "InstancedBufferGeometry");
var cT = wD;
var MD = class {
  constructor(t48 = true) {
    this.autoStart = t48, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = false;
  }
  start() {
    this.startTime = LW(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = true;
  }
  stop() {
    this.getElapsedTime(), this.running = false, this.autoStart = false;
  }
  getElapsedTime() {
    return this.getDelta(), this.elapsedTime;
  }
  getDelta() {
    let t48 = 0;
    if (this.autoStart && !this.running)
      return this.start(), 0;
    if (this.running) {
      let e6 = LW();
      t48 = (e6 - this.oldTime) / 1e3, this.oldTime = e6, this.elapsedTime += t48;
    }
    return t48;
  }
};
q(MD, "Clock");
var hT = MD;
function LW() {
  return (typeof performance > "u" ? Date : performance).now();
}
q(LW, "now");
var DO = "\\[\\]\\.:\\/";
var J0e = new RegExp("[" + DO + "]", "g");
var NO = "[^" + DO + "]";
var $0e = "[^" + DO.replace("\\.", "") + "]";
var eve = /((?:WC+[\/:])*)/.source.replace("WC", NO);
var tve = /(WCOD+)?/.source.replace("WCOD", $0e);
var nve = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", NO);
var ive = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", NO);
var rve = new RegExp("^" + eve + tve + nve + ive + "$");
var sve = ["material", "materials", "bones", "map"];
var ED = class {
  constructor(t48, e6, i) {
    let n = i || Ai.parseTrackName(e6);
    this._targetGroup = t48, this._bindings = t48.subscribe_(e6, n);
  }
  getValue(t48, e6) {
    this.bind();
    let i = this._targetGroup.nCachedObjects_, n = this._bindings[i];
    void 0 !== n && n.getValue(t48, e6);
  }
  setValue(t48, e6) {
    let i = this._bindings;
    for (let n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n)
      i[n].setValue(t48, e6);
  }
  bind() {
    let t48 = this._bindings;
    for (let e6 = this._targetGroup.nCachedObjects_, i = t48.length; e6 !== i; ++e6)
      t48[e6].bind();
  }
  unbind() {
    let t48 = this._bindings;
    for (let e6 = this._targetGroup.nCachedObjects_, i = t48.length; e6 !== i; ++e6)
      t48[e6].unbind();
  }
};
q(ED, "Composite");
var wO = ED;
var Yh = class t38 {
  constructor(e6, i, n) {
    this.path = i, this.parsedPath = n || t38.parseTrackName(i), this.node = t38.findNode(e6, this.parsedPath.nodeName), this.rootNode = e6, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
  }
  static create(e6, i, n) {
    return e6 && e6.isAnimationObjectGroup ? new t38.Composite(e6, i, n) : new t38(e6, i, n);
  }
  static sanitizeNodeName(t48) {
    return t48.replace(/\s/g, "_").replace(J0e, "");
  }
  static parseTrackName(t48) {
    let e6 = rve.exec(t48);
    if (null === e6)
      throw new Error("PropertyBinding: Cannot parse trackName: " + t48);
    let i = { nodeName: e6[2], objectName: e6[3], objectIndex: e6[4], propertyName: e6[5], propertyIndex: e6[6] }, n = i.nodeName && i.nodeName.lastIndexOf(".");
    if (void 0 !== n && -1 !== n) {
      let t49 = i.nodeName.substring(n + 1);
      -1 !== sve.indexOf(t49) && (i.nodeName = i.nodeName.substring(0, n), i.objectName = t49);
    }
    if (null === i.propertyName || 0 === i.propertyName.length)
      throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t48);
    return i;
  }
  static findNode(t48, e6) {
    if (void 0 === e6 || "" === e6 || "." === e6 || -1 === e6 || e6 === t48.name || e6 === t48.uuid)
      return t48;
    if (t48.skeleton) {
      let i = t48.skeleton.getBoneByName(e6);
      if (void 0 !== i)
        return i;
    }
    if (t48.children) {
      let i = q(function(t49) {
        for (let n10 = 0; n10 < t49.length; n10++) {
          let r = t49[n10];
          if (r.name === e6 || r.uuid === e6)
            return r;
          let o3 = i(r.children);
          if (o3)
            return o3;
        }
        return null;
      }, "searchNodeSubtree"), n = i(t48.children);
      if (n)
        return n;
    }
    return null;
  }
  _getValue_unavailable() {
  }
  _setValue_unavailable() {
  }
  _getValue_direct(t48, e6) {
    t48[e6] = this.targetObject[this.propertyName];
  }
  _getValue_array(t48, e6) {
    let i = this.resolvedProperty;
    for (let n = 0, r = i.length; n !== r; ++n)
      t48[e6++] = i[n];
  }
  _getValue_arrayElement(t48, e6) {
    t48[e6] = this.resolvedProperty[this.propertyIndex];
  }
  _getValue_toArray(t48, e6) {
    this.resolvedProperty.toArray(t48, e6);
  }
  _setValue_direct(t48, e6) {
    this.targetObject[this.propertyName] = t48[e6];
  }
  _setValue_direct_setNeedsUpdate(t48, e6) {
    this.targetObject[this.propertyName] = t48[e6], this.targetObject.needsUpdate = true;
  }
  _setValue_direct_setMatrixWorldNeedsUpdate(t48, e6) {
    this.targetObject[this.propertyName] = t48[e6], this.targetObject.matrixWorldNeedsUpdate = true;
  }
  _setValue_array(t48, e6) {
    let i = this.resolvedProperty;
    for (let n = 0, r = i.length; n !== r; ++n)
      i[n] = t48[e6++];
  }
  _setValue_array_setNeedsUpdate(t48, e6) {
    let i = this.resolvedProperty;
    for (let n = 0, r = i.length; n !== r; ++n)
      i[n] = t48[e6++];
    this.targetObject.needsUpdate = true;
  }
  _setValue_array_setMatrixWorldNeedsUpdate(t48, e6) {
    let i = this.resolvedProperty;
    for (let n = 0, r = i.length; n !== r; ++n)
      i[n] = t48[e6++];
    this.targetObject.matrixWorldNeedsUpdate = true;
  }
  _setValue_arrayElement(t48, e6) {
    this.resolvedProperty[this.propertyIndex] = t48[e6];
  }
  _setValue_arrayElement_setNeedsUpdate(t48, e6) {
    this.resolvedProperty[this.propertyIndex] = t48[e6], this.targetObject.needsUpdate = true;
  }
  _setValue_arrayElement_setMatrixWorldNeedsUpdate(t48, e6) {
    this.resolvedProperty[this.propertyIndex] = t48[e6], this.targetObject.matrixWorldNeedsUpdate = true;
  }
  _setValue_fromArray(t48, e6) {
    this.resolvedProperty.fromArray(t48, e6);
  }
  _setValue_fromArray_setNeedsUpdate(t48, e6) {
    this.resolvedProperty.fromArray(t48, e6), this.targetObject.needsUpdate = true;
  }
  _setValue_fromArray_setMatrixWorldNeedsUpdate(t48, e6) {
    this.resolvedProperty.fromArray(t48, e6), this.targetObject.matrixWorldNeedsUpdate = true;
  }
  _getValue_unbound(t48, e6) {
    this.bind(), this.getValue(t48, e6);
  }
  _setValue_unbound(t48, e6) {
    this.bind(), this.setValue(t48, e6);
  }
  bind() {
    let e6 = this.node, i = this.parsedPath, n = i.objectName, r = i.propertyName, o3 = i.propertyIndex;
    if (e6 || (e6 = t38.findNode(this.rootNode, i.nodeName), this.node = e6), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !e6)
      return void console.error("THREE.PropertyBinding: Trying to update node for track: " + this.path + " but it wasn't found.");
    if (n) {
      let t48 = i.objectIndex;
      switch (n) {
        case "materials":
          if (!e6.material)
            return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
          if (!e6.material.materials)
            return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
          e6 = e6.material.materials;
          break;
        case "bones":
          if (!e6.skeleton)
            return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
          e6 = e6.skeleton.bones;
          for (let i10 = 0; i10 < e6.length; i10++)
            if (e6[i10].name === t48) {
              t48 = i10;
              break;
            }
          break;
        case "map":
          if ("map" in e6) {
            e6 = e6.map;
            break;
          }
          if (!e6.material)
            return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
          if (!e6.material.map)
            return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.", this);
          e6 = e6.material.map;
          break;
        default:
          if (void 0 === e6[n])
            return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
          e6 = e6[n];
      }
      if (void 0 !== t48) {
        if (void 0 === e6[t48])
          return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, e6);
        e6 = e6[t48];
      }
    }
    let s6 = e6[r];
    if (void 0 === s6) {
      let t48 = i.nodeName;
      return void console.error("THREE.PropertyBinding: Trying to update property for track: " + t48 + "." + r + " but it wasn't found.", e6);
    }
    let a = this.Versioning.None;
    this.targetObject = e6, void 0 !== e6.needsUpdate ? a = this.Versioning.NeedsUpdate : void 0 !== e6.matrixWorldNeedsUpdate && (a = this.Versioning.MatrixWorldNeedsUpdate);
    let l = this.BindingType.Direct;
    if (void 0 !== o3) {
      if ("morphTargetInfluences" === r) {
        if (!e6.geometry)
          return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
        if (!e6.geometry.morphAttributes)
          return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
        void 0 !== e6.morphTargetDictionary[o3] && (o3 = e6.morphTargetDictionary[o3]);
      }
      l = this.BindingType.ArrayElement, this.resolvedProperty = s6, this.propertyIndex = o3;
    } else
      void 0 !== s6.fromArray && void 0 !== s6.toArray ? (l = this.BindingType.HasFromToArray, this.resolvedProperty = s6) : Array.isArray(s6) ? (l = this.BindingType.EntireArray, this.resolvedProperty = s6) : this.propertyName = r;
    this.getValue = this.GetterByBindingType[l], this.setValue = this.SetterByBindingTypeAndVersioning[l][a];
  }
  unbind() {
    this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
  }
};
q(Yh, "PropertyBinding");
var Ai = Yh;
Ai.Composite = wO, Ai.prototype.BindingType = { Direct: 0, EntireArray: 1, ArrayElement: 2, HasFromToArray: 3 }, Ai.prototype.Versioning = { None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2 }, Ai.prototype.GetterByBindingType = [Ai.prototype._getValue_direct, Ai.prototype._getValue_array, Ai.prototype._getValue_arrayElement, Ai.prototype._getValue_toArray], Ai.prototype.SetterByBindingTypeAndVersioning = [[Ai.prototype._setValue_direct, Ai.prototype._setValue_direct_setNeedsUpdate, Ai.prototype._setValue_direct_setMatrixWorldNeedsUpdate], [Ai.prototype._setValue_array, Ai.prototype._setValue_array_setNeedsUpdate, Ai.prototype._setValue_array_setMatrixWorldNeedsUpdate], [Ai.prototype._setValue_arrayElement, Ai.prototype._setValue_arrayElement_setNeedsUpdate, Ai.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate], [Ai.prototype._setValue_fromArray, Ai.prototype._setValue_fromArray_setNeedsUpdate, Ai.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];
var uct = new Float32Array(1);
var PT = class t39 {
  constructor(t48) {
    this.value = t48;
  }
  clone() {
    return new t39(void 0 === this.value.clone ? this.value : this.value.clone());
  }
};
q(PT, "Uniform");
var St = PT;
var TD = class {
  constructor(t48, e6, i = 0, n = 1 / 0) {
    this.ray = new _x(t48, e6), this.near = i, this.far = n, this.camera = null, this.layers = new wx(), this.params = { Mesh: {}, Line: { threshold: 1 }, LOD: {}, Points: { threshold: 1 }, Sprite: {} };
  }
  set(t48, e6) {
    this.ray.set(t48, e6);
  }
  setFromCamera(t48, e6) {
    e6.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e6.matrixWorld), this.ray.direction.set(t48.x, t48.y, 0.5).unproject(e6).sub(this.ray.origin).normalize(), this.camera = e6) : e6.isOrthographicCamera ? (this.ray.origin.set(t48.x, t48.y, (e6.near + e6.far) / (e6.near - e6.far)).unproject(e6), this.ray.direction.set(0, 0, -1).transformDirection(e6.matrixWorld), this.camera = e6) : console.error("THREE.Raycaster: Unsupported camera type: " + e6.type);
  }
  intersectObject(t48, e6 = true, i = []) {
    return MO(t48, this, i, e6), i.sort(DW), i;
  }
  intersectObjects(t48, e6 = true, i = []) {
    for (let n = 0, r = t48.length; n < r; n++)
      MO(t48[n], this, i, e6);
    return i.sort(DW), i;
  }
};
q(TD, "Raycaster");
var pa = TD;
function DW(t48, e6) {
  return t48.distance - e6.distance;
}
function MO(t48, e6, i, n) {
  if (t48.layers.test(e6.layers) && t48.raycast(e6, i), true === n) {
    let n10 = t48.children;
    for (let t49 = 0, r = n10.length; t49 < r; t49++)
      MO(n10[t49], e6, i, true);
  }
}
q(DW, "ascSort"), q(MO, "intersectObject");
var SD = class extends JE {
  constructor(t48 = 10, e6 = 10, i = 4473924, n = 8947848) {
    i = new at(i), n = new at(n);
    let r = e6 / 2, o3 = t48 / e6, s6 = t48 / 2, a = [], l = [];
    for (let t49 = 0, u3 = 0, h = -s6; t49 <= e6; t49++, h += o3) {
      a.push(-s6, 0, h, s6, 0, h), a.push(h, 0, -s6, h, 0, s6);
      let e10 = t49 === r ? i : n;
      e10.toArray(l, u3), u3 += 3, e10.toArray(l, u3), u3 += 3, e10.toArray(l, u3), u3 += 3, e10.toArray(l, u3), u3 += 3;
    }
    let u2 = new Ji();
    u2.setAttribute("position", new Rr(a, 3)), u2.setAttribute("color", new Rr(l, 3)), super(u2, new Ax({ vertexColors: true, toneMapped: false })), this.type = "GridHelper";
  }
  dispose() {
    this.geometry.dispose(), this.material.dispose();
  }
};
q(SD, "GridHelper");
var fT = SD;
var FE = new Yt();
var AD = class extends JE {
  constructor(t48, e6 = 16776960) {
    let i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]), n = new Float32Array(24), r = new Ji();
    r.setIndex(new rn(i, 1)), r.setAttribute("position", new rn(n, 3)), super(r, new Ax({ color: e6, toneMapped: false })), this.object = t48, this.type = "BoxHelper", this.matrixAutoUpdate = false, this.update();
  }
  update(t48) {
    if (void 0 !== t48 && console.warn("THREE.BoxHelper: .update() has no longer arguments."), void 0 !== this.object && FE.setFromObject(this.object), FE.isEmpty())
      return;
    let e6 = FE.min, i = FE.max, n = this.geometry.attributes.position, r = n.array;
    r[0] = i.x, r[1] = i.y, r[2] = i.z, r[3] = e6.x, r[4] = i.y, r[5] = i.z, r[6] = e6.x, r[7] = e6.y, r[8] = i.z, r[9] = i.x, r[10] = e6.y, r[11] = i.z, r[12] = i.x, r[13] = i.y, r[14] = e6.z, r[15] = e6.x, r[16] = i.y, r[17] = e6.z, r[18] = e6.x, r[19] = e6.y, r[20] = e6.z, r[21] = i.x, r[22] = e6.y, r[23] = e6.z, n.needsUpdate = true, this.geometry.computeBoundingSphere();
  }
  setFromObject(t48) {
    return this.object = t48, this.update(), this;
  }
  copy(t48, e6) {
    return super.copy(t48, e6), this.object = t48.object, this;
  }
  dispose() {
    this.geometry.dispose(), this.material.dispose();
  }
};
q(AD, "BoxHelper");
var pT = AD;
var CD = class {
  constructor() {
    this.type = "ShapePath", this.color = new at(), this.subPaths = [], this.currentPath = null;
  }
  moveTo(t48, e6) {
    return this.currentPath = new Bp(), this.subPaths.push(this.currentPath), this.currentPath.moveTo(t48, e6), this;
  }
  lineTo(t48, e6) {
    return this.currentPath.lineTo(t48, e6), this;
  }
  quadraticCurveTo(t48, e6, i, n) {
    return this.currentPath.quadraticCurveTo(t48, e6, i, n), this;
  }
  bezierCurveTo(t48, e6, i, n, r, o3) {
    return this.currentPath.bezierCurveTo(t48, e6, i, n, r, o3), this;
  }
  splineThru(t48) {
    return this.currentPath.splineThru(t48), this;
  }
  toShapes(t48) {
    function e6(t49) {
      let e10 = [];
      for (let i10 = 0, n10 = t49.length; i10 < n10; i10++) {
        let n11 = t49[i10], r6 = new Ul();
        r6.curves = n11.curves, e10.push(r6);
      }
      return e10;
    }
    function i(t49, e10) {
      let i10 = e10.length, n10 = false;
      for (let r6 = i10 - 1, o6 = 0; o6 < i10; r6 = o6++) {
        let i11 = e10[r6], s10 = e10[o6], a3 = s10.x - i11.x, l3 = s10.y - i11.y;
        if (Math.abs(l3) > Number.EPSILON) {
          if (l3 < 0 && (i11 = e10[o6], a3 = -a3, s10 = e10[r6], l3 = -l3), t49.y < i11.y || t49.y > s10.y)
            continue;
          if (t49.y === i11.y) {
            if (t49.x === i11.x)
              return true;
          } else {
            let e11 = l3 * (t49.x - i11.x) - a3 * (t49.y - i11.y);
            if (0 === e11)
              return true;
            if (e11 < 0)
              continue;
            n10 = !n10;
          }
        } else {
          if (t49.y !== i11.y)
            continue;
          if (s10.x <= t49.x && t49.x <= i11.x || i11.x <= t49.x && t49.x <= s10.x)
            return true;
        }
      }
      return n10;
    }
    q(e6, "toShapesNoHoles"), q(i, "isPointInsidePolygon");
    let n = yg.isClockWise, r = this.subPaths;
    if (0 === r.length)
      return [];
    let o3, s6, a, l = [];
    if (1 === r.length)
      return s6 = r[0], a = new Ul(), a.curves = s6.curves, l.push(a), l;
    let h = !n(r[0].getPoints());
    h = t48 ? !h : h;
    let c2, p4, d = [], f = [], g = [], m = 0;
    f[m] = void 0, g[m] = [];
    for (let e10 = 0, i10 = r.length; e10 < i10; e10++)
      s6 = r[e10], c2 = s6.getPoints(), o3 = n(c2), o3 = t48 ? !o3 : o3, o3 ? (!h && f[m] && m++, f[m] = { s: new Ul(), p: c2 }, f[m].s.curves = s6.curves, h && m++, g[m] = []) : g[m].push({ h: s6, p: c2[0] });
    if (!f[0])
      return e6(r);
    if (f.length > 1) {
      let t49 = false, e10 = 0;
      for (let t50 = 0, e11 = f.length; t50 < e11; t50++)
        d[t50] = [];
      for (let n10 = 0, r6 = f.length; n10 < r6; n10++) {
        let r10 = g[n10];
        for (let o6 = 0; o6 < r10.length; o6++) {
          let s10 = r10[o6], a3 = true;
          for (let r11 = 0; r11 < f.length; r11++)
            i(s10.p, f[r11].p) && (n10 !== r11 && e10++, a3 ? (a3 = false, d[r11].push(s10)) : t49 = true);
          a3 && d[n10].push(s10);
        }
      }
      e10 > 0 && false === t49 && (g = d);
    }
    for (let t49 = 0, e10 = f.length; t49 < e10; t49++) {
      a = f[t49].s, l.push(a), p4 = g[t49];
      for (let t50 = 0, e11 = p4.length; t50 < e11; t50++)
        a.holes.push(p4[t50].h);
    }
    return l;
  }
};
q(CD, "ShapePath");
var dT = CD;
var PD = class extends To {
  constructor(t48, e6, i, n) {
    console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."), super(t48, e6, i, n);
  }
};
q(PD, "PlaneBufferGeometry");
var mT = PD;
typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", { detail: { revision: zc } })), typeof window < "u" && (window.__THREE__ ? console.warn("WARNING: Multiple instances of Three.js being imported.") : window.__THREE__ = zc), c();
var eY = false;
var ID = class {
  constructor() {
    v(this, "textureLoader", new fa());
  }
  async loadMapPolygons(t48) {
    return eY && Le.log("loading map: ", t48.scene.polygons), (await _o()(t48.scene.polygons)).json();
  }
  loadImage(t48) {
    return new Promise((e6, i) => {
      eY && Le.log("loading image: ", t48), this.textureLoader.load(t48, (t49) => {
        t49.colorSpace = Lr, e6(t49);
      }, () => {
      }, i);
    });
  }
};
q(ID, "DefaultAssetManager");
var Gc = ID;
var LD = class {
  constructor() {
    v(this, "defaultExtrudeSettings", { amount: 10, bevelEnabled: false }), v(this, "materials", {}), v(this, "scale", 100), v(this, "assetManager", new Gc()), v(this, "overlayHeight", 0.15);
  }
  setAssetManager(t48) {
    this.assetManager = t48;
  }
  load(t48, e6, i) {
    if ("string" == typeof t48)
      return this.assetManager.loadMapPolygons(e6).then((t49) => null == t49 || 0 === t49.length ? Promise.reject("No polygons found for venue") : this._build(t49, e6, i)).catch((t49) => Promise.reject(t49));
    try {
      return this._build(t48, e6, i);
    } catch (t49) {
      return Promise.reject(t49);
    }
  }
  _build(t48, e6, i) {
    let n = /* @__PURE__ */ new Set();
    e6.layers.forEach((t49) => {
      false !== t49.visible && n.add(t49.id);
    });
    let r = new lo(), o3 = t48.map((t49) => {
      let o6 = t49.layer || "Polygon", s6 = /__.*__/.exec(o6);
      return n.has(o6) || s6 ? new Up(t49, e6, r, this.assetManager, i) : null;
    }).filter((t49) => t49);
    return Promise.resolve({ container: r, elements: o3, visibleLayers: n });
  }
};
q(LD, "JSONSceneLoader");
var OD = LD;
var Dg = new OD();
c();
var tY = ((t48) => (t48.ANIMATED = "animated", t48.ALWAYS_ON_TOP = "always_on_top", t48.ALL = "all", t48.TWEEN = "tween", t48.COMPOSITE = "composite", t48))(tY || {});
var un = tY;
c();
var nY = 0;
var ove = false;
var RD = class {
  constructor(t48, e6) {
    v(this, "core"), v(this, "currentScene"), v(this, "processedMapObjects", /* @__PURE__ */ new Set()), this.core = t48, ove && this.renderGrid(), this.transitionTo(e6).then(() => {
      this.core.publish(0);
    }).catch((t49) => {
      Le.error(t49);
    });
  }
  get currentMap() {
    return this.currentScene.currentMap;
  }
  renderGrid() {
    var t48 = new fT(1e4, 10);
    t48.setColors(233696766, 14606046), t48.position.z = -10, t48.rotation.x = Math.PI / 2, this.core.scene.add(t48);
  }
  async transitionTo(t48, e6) {
    this.core.publish(6);
    let i = this.currentScene;
    t48.transitionOptions = e6 || {}, t48.currentMap = (null == e6 ? void 0 : e6.activeMap) || t48.maps[0], this.currentScene = t48;
    let n = await t48.preRender(e6);
    t48.mapObjectsArray = await Promise.all(n);
    let r = [], o3 = [], s6 = false;
    if (i) {
      s6 = i.currentMap.mapGroup !== t48.currentMap.mapGroup;
      for (let t49 of i.mapObjects.values())
        r.push(t49.fadeOut(void 0, { onComplete: () => {
          t49.onInvisible(), i.object.remove(t49.object);
        }, duration: nY }));
    }
    for (let e10 of t48.mapObjects.values())
      t48.object.add(null == e10 ? void 0 : e10.object), e10.object.position.z = 0, o3.push(e10.fadeIn(void 0, { onComplete: () => {
        e10.onVisible();
      }, duration: nY }));
    this.core.tryRendering(), await Promise.all(r.map((t49) => t49.start())), this.core.scene.add(t48.object), await Promise.all([...o3.map((t49) => t49.start()), t48.focusOnCurrentMap(s6 ? { ...e6, autoFocusOnActiveMap: true } : void 0, null == i)]), null != i && this.core.scene.remove(i.object), t48.postRender(), this.core.publish(7), null == i && this.core.publish(0);
  }
};
q(RD, "SceneManager");
var DD = RD;
var ND = DD;
c();
var kD = class {
  constructor(t48, e6) {
    v(this, "dynamicFocusScene"), v(this, "core"), v(this, "panBounds"), v(this, "mapShouldSetOnUserInteraction", true), this.core = t48, this.dynamicFocusScene = new qD(t48, e6), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.CHANGE_EVENT.type, () => {
      this.update();
    }), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.ZOOM_END_EVENT.type, () => {
      this.determineTargetMap();
    }), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, () => {
      this.determineTargetMap();
    }), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.PAN_END_EVENT.type, () => {
      this.determineTargetMap();
    }), this.transitionTo().then(() => {
      this.core.publish(0);
    });
  }
  get currentScene() {
    return { resize: this.dynamicFocusScene.resize, currentMap: this.dynamicFocusScene.currentMap, mapObjects: this.core.mapObjects };
  }
  get currentMap() {
    return this.dynamicFocusScene.currentMap;
  }
  setDefaultMapForMapGroup(t48, e6) {
    let i = this.dynamicFocusScene.buildings.find((e10) => e10.mapGroup.id === t48.id);
    null != i && i.mapGroup.maps.includes(e6) && (i.activeMap = void 0, i.defaultMap = e6);
  }
  resetDefaultMapForMapGroup(t48) {
    let e6 = this.dynamicFocusScene.buildings.find((e10) => e10.mapGroup.id === t48.id);
    null != e6 && (e6.defaultMap = e6.startingMap);
  }
  determineTargetMap() {
    let t48 = this.dynamicFocusScene.determineCurrentMap();
    this.mapShouldSetOnUserInteraction && null != t48 && this.dynamicFocusScene.setMap(t48, true), this.update();
  }
  update() {
    this.core.taskScheduler.scheduleTask(new Hi({ name: "setDynamicFocusOpacities", callback: () => {
      let t48 = this.dynamicFocusScene.determineBuildingsInView();
      this.dynamicFocusScene.setOpacities(t48, this.dynamicFocusScene.currentMap);
    } }));
  }
  async transitionTo(t48) {
    if (this.dynamicFocusScene.loaded || (await this.dynamicFocusScene.load(), this.core.scene.add(this.dynamicFocusScene.object)), null != t48) {
      let e6 = t48.maps[0], i = this.dynamicFocusScene.buildings.find((t49) => t49.mapGroup.id === e6.mapGroup.id);
      null != i && await i.setMap(e6), this.dynamicFocusScene.setMap(e6), this.update();
    }
  }
};
q(kD, "DynamicFocusSceneManager");
var BD = kD;
var zx = BD;
function RT(t48, e6 = false) {
  let i = null !== t48[0].index, n = new Set(Object.keys(t48[0].attributes)), r = new Set(Object.keys(t48[0].morphAttributes)), o3 = {}, s6 = {}, a = t48[0].morphTargetsRelative, l = new Ji(), u2 = 0;
  for (let h = 0; h < t48.length; ++h) {
    let c2 = t48[h], p4 = 0;
    if (i !== (null !== c2.index))
      return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + h + ". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."), null;
    for (let t49 in c2.attributes) {
      if (!n.has(t49))
        return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + h + '. All geometries must have compatible attributes; make sure "' + t49 + '" attribute exists among all geometries, or in none of them.'), null;
      void 0 === o3[t49] && (o3[t49] = []), o3[t49].push(c2.attributes[t49]), p4++;
    }
    if (p4 !== n.size)
      return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + h + ". Make sure all geometries have the same number of attributes."), null;
    if (a !== c2.morphTargetsRelative)
      return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + h + ". .morphTargetsRelative must be consistent throughout all geometries."), null;
    for (let t49 in c2.morphAttributes) {
      if (!r.has(t49))
        return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + h + ".  .morphAttributes must be consistent throughout all geometries."), null;
      void 0 === s6[t49] && (s6[t49] = []), s6[t49].push(c2.morphAttributes[t49]);
    }
    if (e6) {
      let t49;
      if (i)
        t49 = c2.index.count;
      else {
        if (void 0 === c2.attributes.position)
          return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + h + ". The geometry must have either an index or a position attribute"), null;
        t49 = c2.attributes.position.count;
      }
      l.addGroup(u2, t49, h), u2 += t49;
    }
  }
  if (i) {
    let e10 = 0, i10 = [];
    for (let n10 = 0; n10 < t48.length; ++n10) {
      let r6 = t48[n10].index;
      for (let t49 = 0; t49 < r6.count; ++t49)
        i10.push(r6.getX(t49) + e10);
      e10 += t48[n10].attributes.position.count;
    }
    l.setIndex(i10);
  }
  for (let t49 in o3) {
    let e10 = iY(o3[t49]);
    if (!e10)
      return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the " + t49 + " attribute."), null;
    l.setAttribute(t49, e10);
  }
  for (let t49 in s6) {
    let e10 = s6[t49][0].length;
    if (0 === e10)
      break;
    l.morphAttributes = l.morphAttributes || {}, l.morphAttributes[t49] = [];
    for (let i10 = 0; i10 < e10; ++i10) {
      let e11 = [];
      for (let n11 = 0; n11 < s6[t49].length; ++n11)
        e11.push(s6[t49][n11][i10]);
      let n10 = iY(e11);
      if (!n10)
        return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the " + t49 + " morphAttribute."), null;
      l.morphAttributes[t49].push(n10);
    }
  }
  return l;
}
function iY(t48) {
  let e6, i, n, r = 0;
  for (let o6 = 0; o6 < t48.length; ++o6) {
    let s10 = t48[o6];
    if (s10.isInterleavedBufferAttribute)
      return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. InterleavedBufferAttributes are not supported."), null;
    if (void 0 === e6 && (e6 = s10.array.constructor), e6 !== s10.array.constructor)
      return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."), null;
    if (void 0 === i && (i = s10.itemSize), i !== s10.itemSize)
      return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."), null;
    if (void 0 === n && (n = s10.normalized), n !== s10.normalized)
      return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."), null;
    r += s10.array.length;
  }
  let o3 = new e6(r), s6 = 0;
  for (let e10 = 0; e10 < t48.length; ++e10)
    o3.set(t48[e10].array, s6), s6 += t48[e10].array.length;
  return new rn(o3, i, n);
}
c(), c(), q(RT, "mergeGeometries"), q(iY, "mergeAttributes"), c();
var FD = class {
  constructor() {
    v(this, "_subscribers", {});
  }
  publish(t48, e6) {
    !this._subscribers || !this._subscribers[t48] || this._subscribers[t48].forEach(function(t49) {
      "function" == typeof t49 && t49(e6);
    });
  }
  on(t48, e6) {
    this._subscribers || (this._subscribers = {}), this._subscribers[t48] = this._subscribers[t48] || [], this._subscribers[t48].push(e6);
  }
  off(t48, e6) {
    if (!this._subscribers || null == this._subscribers[t48])
      return;
    let i = this._subscribers[t48].indexOf(e6);
    -1 !== i && this._subscribers[t48].splice(i, 1);
  }
  destroy() {
    this._subscribers = {};
  }
};
q(FD, "PubSub");
var al = FD;
function $h(t48) {
  let e6 = new al();
  Object.assign(e6, t48);
  for (let i in t48)
    if (null != i) {
      let n = t48[i];
      if ("function" == typeof n)
        continue;
      e6["_".concat(i)] = n, Object.defineProperty(e6, i, { get: () => e6["_".concat(i)], set(t49) {
        let n10 = e6["_".concat(i)];
        e6["_".concat(i)] = t49, e6.publish("".concat(i, "Changed"), { oldValue: n10, newValue: e6[i] });
      } });
    }
  return e6;
}
q($h, "tinyObservable"), c();
var UD = u(Eu());
function ef(t48) {
  t48 && (t48.map && (t48.map.dispose(), t48.map = void 0), t48.dispose());
}
function Oi(t48) {
  return "string" == typeof t48 ? t48 : t48.id;
}
function La(t48, e6) {
  if (void 0 !== e6)
    return "string" == typeof t48 ? e6.find(function(e10) {
      return e10.id === t48;
    }) : t48;
}
function Vc(t48, e6) {
  for (let i = 0; i < e6.length; i++)
    t48.push(e6[i]);
}
function BT(t48) {
  if (t48.scale || t48.x_scale)
    return 1 / (t48.scale || t48.x_scale);
  let e6;
  try {
    let i = t48.georeference[0], n = t48.georeference[2], r = new mi(i.target.x, i.target.y), o3 = new mi(n.target.x, n.target.y), s6 = r.distanceTo(o3), a = i.control.x - n.control.x, l = i.control.y - n.control.y;
    e6 = Math.sqrt(a * a + l * l) / s6;
  } catch (i) {
    e6 = 1, Le.warn(i), Le.warn("Couldn't georeference " + (t48.name || t48.shortName || t48.id) + ". Probably not enough geocoordinates.");
  }
  return e6;
}
function sY(t48) {
  let e6;
  try {
    let i = t48.georeference[0], n = t48.georeference[2], r = new mi(i.target.x, i.target.y), o3 = new mi(n.target.x, n.target.y);
    e6 = -((r.finalBearingTo(o3) + 0) * Math.PI / 180 - Math.atan2(n.control.y - i.control.y, n.control.x - i.control.x) - Math.PI / 2);
  } catch (i) {
    e6 = 0, Le.warn(i), Le.warn("Couldn't georeference " + (t48.name || t48.shortName || t48.id) + ". Probably not enough geocoordinates.");
  }
  return e6;
}
function oY(t48, e6, i) {
  let n, r, o3, s6 = null, a = 0;
  i || (i = {});
  let l = q(function() {
    a = false === i.leading ? 0 : Date.now(), s6 = null, o3 = t48.apply(n, r), s6 || (n = r = null);
  }, "later");
  return function(...r6) {
    let u2 = Date.now();
    !a && false === i.leading && (a = u2);
    let h = e6 - (u2 - a);
    return h <= 0 || h > e6 ? (s6 && (clearTimeout(s6), s6 = null), a = u2, o3 = t48.apply(this, r6), s6 || (n = r6 = null)) : !s6 && false !== i.trailing && (s6 = setTimeout(l, h)), o3;
  };
}
function Da(t48, e6, i = false) {
  let n = null, r = 0;
  return function(...o3) {
    r++, 1 === r && true === i && t48.apply(this, o3);
    let s6 = q(() => {
      (!i || r > 1) && t48.apply(this, o3), n = null, r = 0;
    }, "later");
    clearTimeout(n), n = setTimeout(s6, e6);
  };
}
function zD(t48) {
  return t48.reduce((t49, e6) => t49.includes(e6) ? t49 : [...t49, e6], []);
}
function GD(t48, e6, i) {
  let n = t48 * (Math.PI / 180) / 2, r = e6 / 2;
  return i * Math.tan(n) / r;
}
function aY(t48, e6, i) {
  let n = [t48], r = (e6.x - t48.x) / i, o3 = (e6.y - t48.y) / i, s6 = (e6.z - t48.z) / i;
  for (let e10 = 1; e10 < i; e10++) {
    let i10 = t48.clone(), a = new K(e10 * r, e10 * o3, e10 * s6);
    i10.add(a), n.push(i10);
  }
  return n.push(e6), n;
}
q(ef, "scrubMaterial"), q(Oi, "getObjectId"), q(La, "getObject"), q(Vc, "appendItems"), q(BT, "getMapScale"), q(sY, "getNorth"), q(oY, "throttle"), q(Da, "debounce"), q(zD, "uniq"), q(GD, "getProjectionScaleFactor"), q(aY, "splitLine");
var Gx = q((t48, e6) => {
  let i, n = t48.venue.defaultMap;
  if (e6 && e6.firstMap) {
    let t49 = Oi(e6.firstMap);
    null == t49 ? Le.warn("Invalid map id provided to 'firstMap' option. Ignoring.") : n = t49;
  }
  if (n) {
    for (let e10 = 0, r = t48.maps.length; e10 < r; ++e10)
      if (t48.maps[e10].id === n) {
        i = t48.maps[e10];
        break;
      }
  }
  if (!i) {
    let e10 = t48.maps[0];
    for (let i10 of t48.maps.slice(1))
      e10 = Math.abs(i10.elevation) === Math.abs(e10.elevation) ? i10.elevation > e10.elevation ? i10 : e10 : Math.abs(i10.elevation) < Math.abs(e10.elevation) ? i10 : e10;
    i = e10;
  }
  return i;
}, "determineStartingMap");
function VD(t48, e6 = 0) {
  let i = 3735928559 ^ e6, n = 1103547991 ^ e6;
  for (let e10, r = 0; r < t48.length; r++)
    e10 = t48.charCodeAt(r), i = Math.imul(i ^ e10, 2654435761), n = Math.imul(n ^ e10, 1597334677);
  return i = Math.imul(i ^ i >>> 16, 2246822507) ^ Math.imul(n ^ n >>> 13, 3266489909), n = Math.imul(n ^ n >>> 16, 2246822507) ^ Math.imul(i ^ i >>> 13, 3266489909), 4294967296 * (2097151 & n) + (i >>> 0);
}
function lY(t48, e6) {
  let i = t48.getCenter(new K()), n = t48.getSize(new K()), { x: r, y: o3, z: s6 } = n, a = r * e6, l = o3 * e6, u2 = s6 * e6, h = i.x - a / 2, c2 = i.x + a / 2, p4 = i.y - l / 2, d = i.y + l / 2, f = i.z - u2 / 2, g = i.z + u2 / 2;
  return new Yt({ x: h, y: p4, z: f }, { x: c2, y: d, z: g });
}
function ll({ from: t48, to: e6, duration: i = 300, easing: n = UD.default.Easing.Quadratic.Out, delay: r = 0, onUpdate: o3 = q((t49) => {
}, "onUpdate"), onStart: s6 = q(() => {
}, "onStart"), onComplete: a = q(() => {
}, "onComplete") }) {
  let l = new UD.default.Tween(t48).to(e6, i).easing(n).delay(r).onStart(s6).onUpdate((t49) => {
    o3(t49);
  });
  return { start: (t49) => new Promise((e10) => {
    l.onComplete(() => {
      a(), e10();
    }).start(), t49.tryRendering();
  }) };
}
q(VD, "cyrb53"), q(lY, "addMarginMultiplierToBoundingBox"), q(ll, "tweenPromise");
var ave = q((t48) => t48, "linearEase");
var Vx = q((t48) => t48 * t48, "quadEaseIn");
function tf(t48, e6, i, n, r, o3 = ave) {
  return n + o3(((t48 = Math.max(e6, Math.min(t48, i))) - Math.min(e6, i)) / Math.abs(i - e6)) * (r - n);
}
function uY(t48, e6, i, n = Vx) {
  if (e6.length !== i.length)
    throw new Error("Input and output ranges must have the same number of values.");
  t48 = Math.max(e6[0], Math.min(t48, e6[e6.length - 1]));
  let r = 0;
  for (; r < e6.length - 1 && t48 > e6[r + 1]; )
    r++;
  let o3 = n((t48 - e6[r]) / (e6[r + 1] - e6[r]));
  return i[r] + o3 * (i[r + 1] - i[r]);
}
q(tf, "interpolate"), q(uY, "interpolateMulti");
var Gl = { VISIBLE_MAP_HIGH: 5, VISIBLE_MAP_LOW: 4, VISIBLE_MAP_MARKER: 3, ASYNC_MAP_HIGH: 2, ASYNC_MAP_LOW: 1, ASYNC_MAP_MARKER: 0, MAP_LOADED: -1 };
var Ng = { MAP_ELEMENT: 0, BUILDING_OUTLINE: 1, MAP_HOVER: 2, POLYGON_IMAGE: 3 };
function lve(t48) {
  let e6 = [], i = [];
  for (let n = 0; n < t48.length; n++) {
    let { zoomLevel: r, opacity: o3 } = t48[n];
    e6.push(r), i.push(o3);
  }
  return { inputZoomLevel: e6, outputOpacity: i };
}
function dY(t48, e6) {
  var i, n, r, o3;
  null != (r = null == (n = null == (i = t48.map) ? void 0 : i.image) ? void 0 : n.src) && r.includes(".png") || null != (o3 = t48.userData) && o3.isPolygonImage || (t48.transparent = 1 !== e6);
}
q(lve, "convertToShortHandInterpolation"), q(dY, "setTransparency");
var pY;
var cY = new ci();
var uve = 1;
var cve = false;
var hY = { Floor: 1, Wall: 2, "Outer Wall": 2.2, Anchors: 4, Anchor: 4, "Anchor Store": 4, Polygon: 5, Kiosks: 6, "Inner Wall": 7, "Non Public": 7.5 };
var fY = q((t48) => {
  if (hY[t48.layer])
    return hY[t48.layer];
  let e6 = t48.geometry.scale, i = t48.geometry.position;
  return 100 + (e6 ? e6.z : 1) + (i ? i.z : 0);
}, "calculateScore");
var jD = class {
  constructor(t48, e6, i, n) {
    v(this, "mergedObjectsGroup", new lo()), v(this, "hoverObjectsGroup", new lo()), v(this, "objectsByMaterials", /* @__PURE__ */ new Map()), v(this, "hoverableMeshChildren", []), v(this, "_isVisible", false), v(this, "needsUpdate", false), v(this, "userData", {}), v(this, "opacity", 1), v(this, "core"), v(this, "mapObject"), v(this, "name"), v(this, "layers"), v(this, "interpolationFn", null), v(this, "opacityInterpolation"), this.mapObject = t48, this.core = t48.core, this.name = e6, this.layers = i, this._isVisible = n;
  }
  set isVisible(t48) {
    t48 !== this._isVisible && (this._isVisible = t48, this.core.publish(32, this.mapObject.mapClass));
  }
  get isVisible() {
    return this._isVisible;
  }
  dispose() {
    this.hoverObjectsGroup.clear(), this.mergedObjectsGroup.children.forEach((t48) => {
      t48.userData.merged && t48.destroy();
    }), this.objectsByMaterials.clear();
  }
  setOpacity(t48) {
    var e6, i;
    this.opacity = t48;
    for (let { material: n } of [...this.mergedObjectsGroup.children, ...this.hoverableMeshChildren]) {
      let r = tf(t48, 0, 1, 0, null != (i = null == (e6 = n.userData) ? void 0 : e6.originalOpacity) ? i : 1);
      dY(n, r), n.opacity = r, n.needsUpdate = true;
    }
    0 === t48 ? (this.hoverObjectsGroup.visible = false, this.mergedObjectsGroup.visible = false) : (this.hoverObjectsGroup.visible = true, this.mergedObjectsGroup.visible = true);
  }
};
q(jD, "LayerGroup");
var Hx = jD;
var WD = class extends al {
  constructor(t48, e6, i, n, r) {
    var o3;
    super(), v(this, "_flippableImagedById", {}), v(this, "_started", false), v(this, "_loaderPromise"), v(this, "_promiseResolve", q(() => {
    }, "_promiseResolve")), v(this, "_showCount"), v(this, "_taskScheduler"), v(this, "_highPriorityTasks"), v(this, "_lowPriorityTasks"), v(this, "_markerTasks"), v(this, "_mapLoadedTasks"), v(this, "_visibilityLatch"), v(this, "_objLoadedComplete"), v(this, "_hoverableMeshChildren", []), v(this, "imageMeshesById", {}), v(this, "visible", false), v(this, "objectsDictionary", {}), v(this, "north", 0), v(this, "mapScale", null), v(this, "object", new ci()), v(this, "labels", /* @__PURE__ */ new Set()), v(this, "tooltips", /* @__PURE__ */ new Set()), v(this, "markers", /* @__PURE__ */ new Set()), v(this, "box", new Yt()), v(this, "textObjects", []), v(this, "labelBatchCreator", null), v(this, "imagesToFlip", []), v(this, "seenByCamera", false), v(this, "threeJSMarkers", /* @__PURE__ */ new Map()), v(this, "core"), v(this, "mapClass"), v(this, "polygonMeshesById"), v(this, "loadMethod"), v(this, "loadAsync"), v(this, "id"), v(this, "mapRenderingStrategy"), v(this, "needsUpdate", false), v(this, "layerGroups", /* @__PURE__ */ new Map()), v(this, "loadedLayerNames", []), v(this, "loadedElements", []), v(this, "boundingBox"), v(this, "elements", []), v(this, "loadMethodUsed", ""), v(this, "mapLoaded", null), this.core = n, this.mapClass = t48, this.polygonMeshesById = e6, this._showCount = i, this.loadMethod = "json", this.loadAsync = null != (o3 = r.async) && o3, this._taskScheduler = r.taskScheduler, this.id = this.mapClass.id, this.mapRenderingStrategy = (null == r ? void 0 : r.mapRenderStrategy) || "SINGLE_GEOMETRY", this._highPriorityTasks = new dc({ name: "_highPriorityTasks", onComplete: this._checkIfLoaded.bind(this), priority: !this.visible && this.loadAsync ? Gl.ASYNC_MAP_HIGH : Gl.VISIBLE_MAP_HIGH, postponeOnAdd: !this.visible && !this.loadAsync, userdata: {} }), this._lowPriorityTasks = new dc({ name: "_lowPriorityTasks", onComplete: this._checkIfLoaded.bind(this), priority: !this.visible && this.loadAsync ? Gl.ASYNC_MAP_LOW : Gl.VISIBLE_MAP_LOW, postponeOnAdd: !this.visible && !this.loadAsync, userdata: {} }), this._markerTasks = new dc({ name: "_markerTasks", priority: !this.visible && this.loadAsync ? Gl.ASYNC_MAP_MARKER : Gl.VISIBLE_MAP_MARKER, postponeOnAdd: !this.visible, userdata: {} }), this._mapLoadedTasks = new dc({ name: "_mapLoadedTasks", priority: Gl.MAP_LOADED, postponeOnAdd: !this.isReady(), userdata: {} }), this._visibilityLatch = null, this._objLoadedComplete = false, this._loaderPromise = new Promise((t49, e10) => {
      this._promiseResolve = t49, pY = e10;
    }), this._objLoaded = this._objLoaded.bind(this), this._objLoadedMerged = this._objLoadedMerged.bind(this), this.enableImageFlipping = this.enableImageFlipping.bind(this), this.destroy = this.destroy.bind(this), this.core.on(32, () => {
      this.needsUpdate = true;
    });
  }
  fade(t48, { direction: e6 = "in", onComplete: i = q(() => {
  }, "onComplete"), duration: n = 300 }) {
    let r = "string" == typeof t48 ? [this.layerGroups.get(t48)] : this.layerGroups, o3 = {};
    return r.forEach((t49) => {
      o3[t49.name] = t49.opacity;
    }), { start: () => new Promise((t49) => {
      ll({ from: { opacity: "in" === e6 ? 0 : 1 }, to: { opacity: "in" === e6 ? 1 : 0 }, duration: n, onStart: () => {
        "out" === e6 && r.forEach((t50) => {
          t50.isVisible = false;
        });
      }, onComplete: () => {
        "in" === e6 && r.forEach((t50) => {
          t50.isVisible = true;
        }), i(), t49();
      }, onUpdate: ({ opacity: t50 }) => {
        r.forEach((i10) => {
          let n10, r6 = o3[i10.name];
          n10 = "in" === e6 ? tf(t50, 0, 1, r6, 1) : tf(t50, 0, 1, 0, r6), i10.setOpacity(n10);
        }), this.core.tryRendering();
      } }).start(this.core), this.core.tryRendering();
    }) };
  }
  fadeIn(t48 = Array.from(this.layerGroups.keys()), e6 = { onComplete: () => {
  }, duration: 300 }) {
    return this.fade(t48, { direction: "in", onComplete: null == e6 ? void 0 : e6.onComplete, duration: null == e6 ? void 0 : e6.duration });
  }
  fadeOut(t48 = Array.from(this.layerGroups.keys()), e6 = { onComplete: () => {
  }, duration: 300 }) {
    return this.fade(t48, { direction: "out", onComplete: null == e6 ? void 0 : e6.onComplete, duration: null == e6 ? void 0 : e6.duration });
  }
  renderLayerGroup(t48 = [], e6 = []) {
    let i = Cr();
    Array.from(this.layerGroups.values()).forEach((t49) => {
      t49.isVisible = false, this.object.remove(t49.mergedObjectsGroup), this.object.remove(t49.hoverObjectsGroup), t49.dispose();
    });
    let n = this.processLayerGroup(i, t48, e6);
    this.layerGroups.clear(), this.layerGroups.set(i, n), n.isVisible = true, this.object.add(n.mergedObjectsGroup), this.object.add(n.hoverObjectsGroup), this.needsUpdate = true;
  }
  processLayers(t48, e6 = [], i = []) {
    let n = [];
    return n = 0 === e6.length && 0 === i.length ? [] : e6.length > 0 ? t48.filter((t49) => e6.includes(t49)) : [...t48], i.length > 0 && (n = n.filter((t49) => !i.includes(t49))), n;
  }
  processLayerGroup(t48 = Cr(), e6 = [], i = [], n = true, r = this.loadedElements, o3 = Ng.MAP_ELEMENT) {
    var s6, a;
    let l = new Hx(this, t48, [], n), u2 = this.processLayers([...this.loadedLayerNames, ...e6], e6, i);
    if (0 === u2.length && 0 === r.length)
      return l;
    for (let e10 of r) {
      if (this.layerGroups.has(t48) ? l = this.layerGroups.get(t48) : (l = new Hx(this, t48, zD(u2), n), l.isVisible = n, l.mergedObjectsGroup.name = this.mapClass.id, this.layerGroups.set(t48, l)), e10 && e10.visible && e10.polygon.layer && u2.includes(e10.polygon.layer)) {
        l.objectsByMaterials.has(e10.material) ? null == (s6 = l.objectsByMaterials.get(e10.material)) || s6.push(e10) : l.objectsByMaterials.set(e10.material, [e10]);
        let i10 = e10.material.clone();
        i10.userData = { layer: t48 }, e10.mesh.material = i10, e10.mesh.visible = false, e10.mesh.material.transparent = true, e10.mesh.renderOrder = Ng.MAP_HOVER, l.hoverObjectsGroup.add(e10.mesh), l.hoverableMeshChildren.push(e10.mesh);
      }
      e10 && e10.imageMesh && e10.polygon.layer && u2.includes(e10.polygon.layer) && (e10.imageMesh.material.userData = { ...e10.imageMesh.material.userData, layer: t48 }, e10.imageMesh.renderOrder = Ng.POLYGON_IMAGE, l.mergedObjectsGroup.add(e10.imageMesh));
    }
    for (let [t49, e10] of l.objectsByMaterials) {
      let i10 = RT(e10.map((t50) => t50.geometry), false), n10 = t49.clone();
      n10.userData = { ...n10.userData, layer: l.name, originalOpacity: null != (a = n10.opacity) ? a : 1 }, n10.alphaTest = 0.01, dY(n10, n10.userData.originalOpacity);
      let r6 = new Ft(i10, n10);
      r6.renderOrder = o3, l.mergedObjectsGroup.add(r6);
    }
    return false === n && l.setOpacity(0), this.loadedLayerNames = zD([...this.loadedLayerNames, ...e6]), l;
  }
  get hoverableMeshChildren() {
    if (this.needsUpdate) {
      this._hoverableMeshChildren = [];
      for (let t48 of this.layerGroups.values())
        t48.isVisible && this._hoverableMeshChildren.push(...t48.hoverableMeshChildren);
      this.needsUpdate = false;
    }
    return this._hoverableMeshChildren;
  }
  async _objLoadedMerged(t48) {
    if (t48.elements) {
      this.elements = t48.elements;
      let e6 = Object.values(this.elements), i = new K(1 / 0, 1 / 0, 0), n = new K(-1 / 0, -1 / 0, 0);
      this.boundingBox = { min: i, max: n }, t48 = t48.container, this.object = t48, this.object.userData.type = "mappedin_map", this.object.userData.mapId = this.mapClass.id, await Promise.all(e6.map((t49) => {
        let e10 = t49.getBoundingBox();
        return i.min(e10.min), n.max(e10.max), t49.polygon.layer && !this.loadedLayerNames.includes(t49.polygon.layer) && this.loadedLayerNames.push(t49.polygon.layer), t49.load();
      })).then((t49) => {
        var e10, i10, n10, r, o3, s6, a, l, u2, h, c2, p4, d, f, g, m, v4;
        let y4;
        if (t49.forEach((t50) => {
          if (t50.imageVisible) {
            let e11 = t50.imageMesh;
            if (this.imageMeshesById[e11.name] = e11, this.polygonMeshesById[e11.name] = e11, t50.on("texture-loaded", (t51) => {
              this.core.publish(1, t51);
            }), t50.polygon.image) {
              let e12 = null != t50.polygon.image.rotation ? t50.polygon.image.rotation.z : 0;
              this.core.imageFlippingEnabled && this.enableImageFlipping(t50.polygon.id, e12 * (Math.PI / 180));
            }
          }
          t50.mesh && (this.objectsDictionary[t50.polygon.id] = t50.mesh, this.polygonMeshesById[t50.polygon.id] = t50.mesh);
        }), this.loadedElements = t49, null != (null == (i10 = null == (e10 = this.core.options) ? void 0 : e10.dynamicFocus) ? void 0 : i10.baseMap))
          if ((null == (r = null == (n10 = this.core.options) ? void 0 : n10.dynamicFocus) ? void 0 : r.baseMap) === this.mapClass) {
            let t50 = [];
            for (let e11 of this.loadedElements) {
              let i11 = this.core.venue.getCollectionItemById("polygons", e11.polygon.id), n11 = null == (o3 = null == i11 ? void 0 : i11.locations) ? void 0 : o3.find((t51) => null != t51.toMap), r6 = n11 ? this.core.venue.mapGroups.find((t51) => t51.maps.map((t52) => t52.id).includes(n11.toMap)) : null;
              if (r6) {
                let t51 = "building-outline-".concat(r6.id), i12 = this.processLayerGroup(t51, this.loadedLayerNames, [], true, [e11], Ng.BUILDING_OUTLINE);
                i12.userData = { location: (null != (a = null == (s6 = this.core.options.dynamicFocus) ? void 0 : s6.keepLayersActiveOnBaseMap) ? a : []).length ? n11 : void 0, toMapId: null == n11 ? void 0 : n11.toMap, mapGroupId: r6.id }, this.layerGroups.set(t51, i12), this.object.add(i12.mergedObjectsGroup), this.object.add(i12.hoverObjectsGroup);
              } else
                t50.push(e11);
            }
            t50.length > 0 ? y4 = this.processLayerGroup("default", this.loadedLayerNames, [], true, t50) : (y4 = new Hx(this, "default", this.loadedLayerNames, true), y4.isVisible = true);
          } else
            y4 = this.processLayerGroup("default", this.loadedLayerNames, [], false, this.loadedElements);
        else if (Array.isArray(null == (l = this.core.options) ? void 0 : l.layerGroups)) {
          let t50 = null == (u2 = this.core.options) ? void 0 : u2.layerGroups.flatMap((t51) => t51.layers);
          y4 = this.processLayerGroup("default", void 0, t50, true);
          for (let t51 of null == (h = this.core.options) ? void 0 : h.layerGroups) {
            let e11 = Cr(), i11 = this.processLayerGroup(e11, t51.layers, void 0, null == (c2 = t51.isVisible) || c2, this.loadedElements);
            if (null != (null == t51 ? void 0 : t51.opacityInterpolation) && i11.isVisible) {
              let e12 = t51.opacityInterpolation;
              Array.isArray(t51.opacityInterpolation) && (e12 = lve(t51.opacityInterpolation)), e12 instanceof Object && "inputZoomLevel" in e12 && "outputOpacity" in e12 && (null == (null == e12 ? void 0 : e12.inputZoomLevel) || null == (null == e12 ? void 0 : e12.outputOpacity) ? Le.error("Invalid opacity interpolation") : i11.interpolationFn = (t52) => {
                if (e12 instanceof Object && "inputZoomLevel" in e12 && "outputOpacity" in e12)
                  return uY(t52, e12.inputZoomLevel, e12.outputOpacity);
              });
            }
            i11.isVisible && (this.layerGroups.set(e11, i11), this.object.add(i11.mergedObjectsGroup), this.object.add(i11.hoverObjectsGroup));
          }
        } else if (null != (d = null == (p4 = this.core.options) ? void 0 : p4.loadOptions) && d.outdoorGeometryLayers && Array.isArray(null == (g = null == (f = this.core.options) ? void 0 : f.loadOptions) ? void 0 : g.outdoorGeometryLayers) && (null == (v4 = null == (m = this.core.options) ? void 0 : m.loadOptions) ? void 0 : v4.outdoorGeometryLayers.length) > 0) {
          y4 = this.processLayerGroup("default", this.loadedLayerNames, this.core.options.loadOptions.outdoorGeometryLayers, true, this.loadedElements);
          let t50 = this.processLayerGroup("outdoor-geometry", this.core.options.loadOptions.outdoorGeometryLayers, [], true, this.loadedElements);
          this.layerGroups.set("outdoor-geometry", t50), this.object.add(t50.mergedObjectsGroup), this.object.add(t50.hoverObjectsGroup);
        } else
          y4 = this.processLayerGroup("default", this.loadedLayerNames, [], true, this.loadedElements);
        this.layerGroups.set("default", y4), this.object.add(y4.mergedObjectsGroup), this.object.add(y4.hoverObjectsGroup), this.needsUpdate = true, this._promiseResolve(this);
      }).catch((t49) => {
        throw Le.error(t49), new Error("Error loading map using SINGLE_GEOMETRY strategy");
      }), this._objLoadedComplete = true, this._onRootObjectCreated(), this._checkIfLoaded();
    }
    return this._promiseResolve(this);
  }
  _objLoaded(t48) {
    if (t48.elements) {
      this.elements = t48.elements;
      let e10 = Object.values(this.elements);
      this.loadAsync && e10.sort((t49, e11) => (null === t49.sortScore && (t49.sortScore = fY(t49.polygon)), null === e11.sortScore && (e11.sortScore = fY(e11.polygon)), e11.sortScore - t49.sortScore));
      let i = new K(1 / 0, 1 / 0, 0), n = new K(-1 / 0, -1 / 0, 0);
      for (let t49 of e10) {
        let e11 = t49.getBoundingBox();
        i.min(e11.min), n.max(e11.max), this.loadAsync ? this._addPendingHighPriorityTask("addPolygon", () => this._addElementToScene(t49)) : this._addElementToScene(t49);
      }
      this.boundingBox = { min: i, max: n }, t48 = t48.container;
    }
    let e6 = t48.children;
    for (let t49 = 0, i = e6.length; t49 < i; ++t49) {
      let i10 = e6[t49];
      this.objectsDictionary[i10.name] = i10, this.polygonMeshesById[i10.name] = i10;
    }
    return this.object = t48, this.object.userData.type = "mappedin_map", this.object.userData.mapId = this.mapClass.id, this._objLoadedComplete = true, this._onRootObjectCreated(), this._checkIfLoaded(), this._promiseResolve(this);
  }
  loadPolygonNow(t48) {
    if (!this.elements)
      return;
    let e6 = this.elements[t48];
    e6 && this._addElementToScene(e6);
  }
  _addElementToScene(t48) {
    if (!this.objectsDictionary[t48.polygon.id]) {
      if (t48.imageVisible && t48.on("texture-loaded", (t49) => {
        this.core.publish(1, t49);
      }), t48.mesh) {
        let e6 = t48.mesh;
        this.objectsDictionary[e6.name] = e6, this.polygonMeshesById[e6.name] = e6;
      }
      if (t48.imageMesh) {
        let e6 = t48.imageMesh;
        this.imageMeshesById[e6.name] = e6, this.objectsDictionary[e6.name] = e6, this.polygonMeshesById[e6.name] = e6;
      }
      if (t48.polygon.image) {
        let e6 = null != t48.polygon.image.rotation ? t48.polygon.image.rotation.z : 0;
        this.core.imageFlippingEnabled && this.enableImageFlipping(t48.polygon.id, e6 * (Math.PI / 180));
      }
    }
  }
  load() {
    if (!this._started) {
      this._started = true;
      try {
        let t48 = cve && this.core.venue.polygons.filter((t49) => t49.map.id === this.mapClass.id), e6 = this.mapClass.scene.polygons;
        if ("json" !== this.loadMethod && void 0 !== this.loadMethod || !e6 && !t48)
          throw new Error("Error parsing JSON scene");
        {
          let i = e6 || t48;
          this.loadMethodUsed = "JSON - " + (e6 ? "published" : "live"), Dg.load(i, this.mapClass, this.mapRenderingStrategy).then("MULTI_GEOMETRY" === this.mapRenderingStrategy ? this._objLoaded : this._objLoadedMerged);
        }
      } catch {
        pY("ERROR: No 3D files for map " + (this.mapClass.name || this.mapClass.shortName || this.mapClass.id || this.mapClass));
      }
    }
    return this._loaderPromise;
  }
  _dispose(t48) {
    let e6 = t48;
    for (let t49 = e6.children.length - 1; t49 >= 0; t49--)
      this._dispose(e6.children[t49]);
    e6.destroy(), delete this.objectsDictionary[e6.name], delete this.polygonMeshesById[e6.name];
  }
  destroy() {
    for (let t48 of this.hoverableMeshChildren)
      t48.destroy();
    this.removeLabels(), this._removeThreeJSMarkers(), this.disableAllImageFlipping(), this.elements = [], this._dispose(this.object), this.objectsDictionary = {}, this.polygonMeshesById = {};
  }
  add(t48) {
    var e6;
    cY.add(t48), null == (e6 = this.load()) || e6.then(() => {
      1 === cY.children.filter((e10) => e10.uuid === t48.uuid).length && this.object.add(t48);
    });
  }
  getPositionLatLon(t48, e6) {
    let i = this.mapClass.createCoordinate(t48, e6);
    return this.core.convertTo3DMapPosition(i);
  }
  addToObject(t48) {
    t48.applyMatrix4(new Ot().copy(this.object.matrix).invert());
    let e6 = 1 / this.object.scale.x;
    t48.scale.set(e6, e6, e6), this.object.add(t48);
  }
  translateChild(t48, e6) {
    t48.position.set(e6.x, e6.y, e6.z), t48.applyMatrix4(new Ot().copy(this.object.matrix).invert());
    let i = 1 / this.object.scale.x;
    t48.scale.set(i, i, i);
  }
  getMapScale() {
    return null == this.mapScale && (this.mapScale = BT(this.mapClass)), this.mapScale;
  }
  getNorth() {
    return null == this.north && (this.north = sY(this.mapClass)), this.north;
  }
  enableImageFlipping(t48, e6) {
    if (e6 = e6 || 0, !this._flippableImagedById[t48] && this.object && Object.keys(this.object).length > 0) {
      let i = this.object.getObjectByName(t48 + "_image");
      if (i) {
        let n = new XD({ image: i, rotation: e6 });
        this.imagesToFlip.push(n), this.core.publish(4), this.core.publish(2), this._flippableImagedById[t48] = true;
      }
    }
  }
  disableAllImageFlipping() {
    for (let t48 = 0, e6 = this.imagesToFlip.length; t48 < e6; t48++)
      this.imagesToFlip[t48].reset();
    this.imagesToFlip = [], this._flippableImagedById = {};
  }
  isReady() {
    return (this.loadAsync ? this._highPriorityTasks.isComplete() : this.isFullyLoaded()) && this._objLoadedComplete;
  }
  isFullyLoaded() {
    return this._highPriorityTasks.isComplete() && this._lowPriorityTasks.isComplete();
  }
  onVisible() {
    true !== this._visibilityLatch && (this.loadAsync ? (this._taskScheduler.setTaskPriority(this._highPriorityTasks, Gl.VISIBLE_MAP_HIGH), this._taskScheduler.setTaskPriority(this._lowPriorityTasks, Gl.VISIBLE_MAP_LOW), this._taskScheduler.resumeTask(this._markerTasks)) : (this._taskScheduler.resumeTask(this._highPriorityTasks), this._taskScheduler.resumeTask(this._lowPriorityTasks), this._taskScheduler.resumeTask(this._markerTasks)), this._visibilityLatch = true);
    for (let t48 in this.imageMeshesById)
      this.imageMeshesById[t48].visible = true;
    for (let t48 of this.object.children)
      "path" === t48.name && (t48.visible = true);
    this.visible = true, this.core.publish(8);
  }
  onInvisible() {
    false !== this._visibilityLatch && (this.loadAsync ? (this._taskScheduler.setTaskPriority(this._highPriorityTasks, Gl.ASYNC_MAP_HIGH), this._taskScheduler.setTaskPriority(this._lowPriorityTasks, Gl.ASYNC_MAP_LOW), this._taskScheduler.postponeTask(this._markerTasks)) : (this._taskScheduler.postponeTask(this._highPriorityTasks), this._taskScheduler.postponeTask(this._lowPriorityTasks), this._taskScheduler.postponeTask(this._markerTasks)), this._visibilityLatch = false);
    for (let t48 in this.imageMeshesById)
      this.imageMeshesById[t48].visible = false;
    for (let t48 of this.object.children)
      "path" === t48.name && (t48.visible = false);
    this.visible = false, this.core.publish(8);
  }
  addPendingMarkerTask(t48, e6) {
    this._taskScheduler.scheduleTask(new Hi({ name: "addMarker", group: this._markerTasks, callback: e6, userdata: { marker: t48 } }));
  }
  addPendingLowPriorityTask(t48, e6) {
    this._taskScheduler.scheduleTask(new Hi({ name: t48, group: this._lowPriorityTasks, callback: e6 }));
  }
  addPendingMapLoadedTask(t48, e6) {
    this._taskScheduler.scheduleTask(new Hi({ name: t48, group: this._mapLoadedTasks, callback: e6 })), this._checkIfLoaded();
  }
  _addPendingHighPriorityTask(t48, e6) {
    this._taskScheduler.scheduleTask(new Hi({ name: t48, group: this._highPriorityTasks, callback: e6 }));
  }
  addThreeJSMarker(t48) {
    if (!(t48.object instanceof ci))
      throw new Error("threeJSMarker `object` must be an instance of `Object3D`");
    let e6 = new kT({ mapId: this.id, object: t48.object }), i = { object: t48.object };
    return t48.object.layers.set($i.ANIMATED), null != t48.position && t48.object.position.copy(t48.position), null != t48.rotation && t48.object.rotation.copy(t48.rotation), null != t48.scale && t48.object.scale.copy(t48.scale), this.threeJSMarkers.set(e6, i), this._objLoadedComplete ? this.addToObject(i.object) : this.load().then(() => {
      e6._deleted || this.addToObject(i.object);
    }), e6;
  }
  removeThreeJSMarker(t48) {
    let e6 = this.threeJSMarkers.get(t48);
    return null != e6 && (t48._deleted = true, this.threeJSMarkers.delete(t48), this._objLoadedComplete && this.object.remove(e6.object), t48._destroy(), true);
  }
  _removeThreeJSMarkers() {
    if (this._objLoadedComplete)
      for (let [t48, e6] of this.threeJSMarkers.entries())
        this.object.remove(e6.object), t48._destroy();
    this.threeJSMarkers.clear();
  }
  removeLabels() {
    if (this.labels.forEach((t48) => {
      t48.disable(), t48.removeSelf();
    }), this.labels = /* @__PURE__ */ new Set(), Array.isArray(this.textObjects)) {
      for (let t48 = 0, e6 = this.textObjects.length; t48 < e6; ++t48) {
        let e10 = this.textObjects[t48];
        e10.removeSelf(true), e10 = void 0;
      }
      this.textObjects = [];
    }
  }
  _checkIfLoaded() {
    this.isReady() && this._taskScheduler.scheduleTask(new Hi({ name: "onMapLoaded", callback: () => {
      this._taskScheduler.resumeTask(this._mapLoadedTasks), this.mapLoaded && typeof this.mapLoaded == typeof Function && (this.mapLoaded(), this.mapLoaded = null);
    } }));
  }
  _onRootObjectCreated() {
    for (let t48 of this.threeJSMarkers.values()) {
      let e6 = t48;
      this.object.add(e6.object);
    }
  }
  _popinChildObjects() {
    this.loadAsync || "SINGLE_GEOMETRY" === this.mapRenderingStrategy || this.object.traverse((t48) => {
      0 === t48.children.length && "Mesh" === t48.type && t48.material.map && (t48.visible = false, this._addPendingHighPriorityTask("addPolygon", () => {
        t48.visible = true, this._showCount >= uve && (this._showCount = 0, this.core.publish(3)), this._showCount++;
      }));
    });
  }
};
q(WD, "MapObject");
var HD = WD;
var YD = class {
  constructor(t48) {
    v(this, "_deleted", false), v(this, "_mapId"), v(this, "_object"), this._mapId = t48.mapId, this._object = t48.object;
  }
  get object() {
    return this._object;
  }
  _destroy() {
    this._mapId = null, this._object = null;
  }
};
q(YD, "ThreeJSMarkerHandle");
var kT = YD;
var qT = HD;
c();
var hve = { STATIC: 0, ANIMATED: 1, ALWAYS_ON_TOP: 2 };
var $i = hve;
c();
var fve = false;
var ZD = class extends Gc {
  constructor(t48) {
    super(), v(this, "venueData"), this.venueData = t48;
  }
  async loadMapPolygons(t48) {
    return fve && Le.log("loading map: ", t48.id), Promise.resolve(this.venueData.scenes[t48.id]);
  }
  async loadImage(t48) {
    return new Promise((e6, i) => {
      let n = t48.split("/"), r = n[n.length - 1], o3 = "data:image/png;base64," + this.venueData.images[r];
      this.textureLoader.load(o3, (t49) => {
        t49.colorSpace = Lr, e6(t49);
      }, () => {
      }, i);
    });
  }
};
q(ZD, "BundleAssetManager");
var FT = ZD;
c();
var mY = "precision mediump float;\n\nuniform sampler2D textureLabel;\n\nvarying vec2 vUV;\nvarying vec3 vColor;\n\nvoid main() {\n	gl_FragColor = texture2D(textureLabel, vUV);\n	gl_FragColor.rgb = vColor;\n}";
var gY = "attribute vec2 position;\nattribute vec3 origin;\nattribute vec2 size;\nattribute float rotation;\nattribute vec4 uv;\nattribute vec3 color;\n\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelMatrix;\n\nvarying vec2 vUV;\nvarying vec3 vColor;\n\nvoid main() {\n	vec4 mapDirectionVector = vec4(0, 1, 0, 0) * viewMatrix * modelMatrix;\n	float mapDirection = atan(mapDirectionVector.y, mapDirectionVector.x);\n\n	float cosRotation = cos(rotation);\n	float sinRotation = sin(rotation);\n\n	mat4 rotationMatrix = mat4(\n		vec4(cosRotation, -sinRotation, 0.0, 0.0),\n		vec4(sinRotation, cosRotation, 0.0, 0.0),\n		vec4(0.0, 0.0, 1.0, 0.0),\n		vec4(0.0, 0.0, 0.0, 1.0)\n	);\n\n	mat4 translate = mat4(\n		vec4(1, 0, 0, 0),\n		vec4(0, 1, 0, 0),\n		vec4(0, 0, 1, 0),\n		vec4(origin, 1)\n	);\n\n	gl_Position = projectionMatrix *\n	              viewMatrix *\n	              modelMatrix *\n	              translate *\n	              rotationMatrix *\n	              (vec4(position * size - vec2(0, size.y / 2.0), 0, 1));\n\n\n	vec2 uvStart = uv.xy;\n	vec2 uvSize = uv.zw;\n\n	if (sin(mapDirection + rotation) > 0.0) {\n		vUV = position * uvSize + vec2(uvStart.x, uvStart.y - uvSize.y);\n	} else {\n		vUV = (vec2(1, 1) - position) * uvSize + vec2(uvStart.x, uvStart.y - uvSize.y);		\n	}\n\n	vColor = color;\n} ";
var QD = { MARGIN: 2, HEIGHT_MARGIN: 0.5, SIZE: 1.2 };
var $D = 56;
var mve = $D / QD.SIZE;
var xY = $D / 2;
var gve = 1 / xY;
var vve = 64;
var vY = 16;
var UT = 4;
var eN = class {
  constructor() {
    this.x = 0, this.y = 0, this.width = 0, this.height = 0, this.layer = null, this.index = null;
  }
  layout(t48, e6, i, n, r, o3) {
    let s6, a = this.canvasBounds.rotation * Math.PI / 180, l = this.width * this.pixelsPerMu, u2 = this.height * this.pixelsPerMu;
    "left" == this.canvasBounds.align ? s6 = this.margin : "right" == this.canvasBounds.align ? s6 = this.canvasBounds.maxWidth - l - this.margin : "center" == this.canvasBounds.align && (s6 = (this.canvasBounds.maxWidth - l - this.margin) / 2);
    let h = s6 * Math.cos(a), c2 = -s6 * Math.sin(a), p4 = this.index;
    e6.setXYZ(p4, this.canvasBounds.x - t48.width / 2 + h, -this.canvasBounds.y + t48.height / 2 + c2, this.z + 0.1), i.setXY(p4, l, u2), n.setX(p4, a);
    let d = this.layer.canvas;
    r.setXYZW(p4, this.x / d.width, 1 - this.y / d.height, this.width / d.width, this.height / d.height), o3.setXYZ(p4, this.color.r, this.color.g, this.color.b), e6.needsUpdate = true, i.needsUpdate = true, n.needsUpdate = true, r.needsUpdate = true, o3.needsUpdate = true;
  }
};
q(eN, "Label");
var KD = eN;
var zp = class t40 {
  constructor(t48, e6, i, n) {
    this.x = t48, this.y = e6, this.width = i, this.height = n;
  }
  leftOverSpace(t48) {
    return this.width < t48.width || this.height < t48.height ? null : this.height * (this.width - t48.width) + this.width * (this.height - t48.height);
  }
  split(e6, i, n) {
    e6.x = this.x, e6.y = this.y, this.width - e6.height < vY && this.height - e6.height < vY ? i.splice(n, 1) : this.width === e6.width ? i.splice(n, 1, new t40(this.x, this.y + e6.height, this.width, this.height - e6.height)) : this.height === e6.height ? i.splice(n, 1, new t40(this.x + e6.width, this.y, this.width - e6.width, this.height)) : i.splice(n, 1, new t40(this.x + e6.width, this.y, this.width - e6.width, e6.height), new t40(this.x, this.y + e6.height, this.width, this.height - e6.height));
  }
};
q(zp, "Slot");
var zT = zp;
var tN = class {
  constructor(t48, e6, i, n) {
    let r = 5;
    for (; Math.pow(2, r) < n; )
      r += 1;
    for (n = Math.pow(2, r), r = 10; Math.pow(2, r) < i; )
      r += 1;
    i = Math.pow(2, r), this.atlas = t48, this.map = e6, this.canvasWidth = i, this.canvasHeight = n, this.canvas = document.createElement("canvas"), this.canvas.width = this.canvasWidth, this.canvas.height = this.canvasHeight, this.context = this.canvas.getContext("2d"), this.context.textBaseline = "bottom", this.spaces = [new zT(0, 0, this.canvas.width, this.canvas.height)], this.free = [], this.labels = [], this.count = vve;
    let o3 = new Float32Array(3 * this.count), s6 = new Float32Array(2 * this.count), a = new Float32Array(this.count), l = new Float32Array(4 * this.count), u2 = new Float32Array(3 * this.count);
    this.uv = new Fc(l, 4, false, 1), this.uv.set(l), this.uv.needsUpdate = true, this.origin = new Fc(o3, 3, false, 1), this.origin.set(o3), this.origin.needsUpdate = true, this.size = new Fc(s6, 2, false, 1), this.size.set(s6), this.size.needsUpdate = true, this.rotation = new Fc(a, 1, false, 1), this.rotation.set(a), this.rotation.needsUpdate = true, this.color = new Fc(u2, 3, true, 1), this.color.set(u2), this.color.needsUpdate = true;
    for (let t49 = 0; t49 < this.count; t49++)
      this.zero(t49);
    let h = new Float32Array([0, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0]);
    this.geometry = new cT(), this.geometry.setIndex([0, 3, 1, 3, 2, 1]), this.geometry.setAttribute("position", new rn(h, 3)), this.geometry.setAttribute("size", this.size), this.geometry.setAttribute("origin", this.origin), this.geometry.setAttribute("rotation", this.rotation), this.geometry.setAttribute("uv", this.uv), this.geometry.setAttribute("color", this.color), this.texture = new Rp(this.canvas), this.texture.anisotropy = 16, this.material = new sT(), this.material.vertexShader = gY, this.material.fragmentShader = mY, this.material.uniforms = { textureLabel: { value: this.texture } }, this.material.transparent = true, this.mesh = new Ft(this.geometry, this.material), this.obj = new ci(), this.obj.add(this.mesh), this.obj.frustumCulled = false, this.mesh.frustumCulled = false, this.map.add(this.obj);
  }
  space() {
    return this.spaces.map((t48) => t48.width * t48.height).reduce((t48, e6) => t48 + e6);
  }
  zero(t48) {
    this.origin.array[3 * t48 + 0] = 0, this.origin.array[3 * t48 + 1] = 0, this.origin.array[3 * t48 + 2] = 0, this.size.array[2 * t48 + 0] = 0, this.size.array[2 * t48 + 1] = 0, this.rotation.array[t48] = 0, this.uv.array[4 * t48 + 0] = 0, this.uv.array[4 * t48 + 1] = 0, this.uv.array[4 * t48 + 2] = 0, this.uv.array[4 * t48 + 3] = 0, this.color.array[3 * t48 + 0] = 0, this.color.array[3 * t48 + 1] = 0, this.color.array[3 * t48 + 2] = 0, this.origin.needsUpdate = true, this.size.needsUpdate = true, this.rotation.needsUpdate = true, this.uv.needsUpdate = true, this.color.needsUpdate = true;
  }
  findSpace(t48) {
    if (0 != this.free.length && this.labels.length == this.count)
      return false;
    let e6 = -1;
    for (let i = 0; i < this.spaces.length; i++) {
      let n = this.spaces[i].leftOverSpace(t48);
      null !== n && (-1 === e6 || this.spaces[i].leftOverSpace(t48) < n) && (e6 = i);
    }
    return -1 !== e6 && (this.spaces[e6].split(t48, this.spaces, e6), t48.layer = this, 0 === this.free.length ? (t48.index = this.labels.length, this.labels.push(t48)) : (t48.index = this.free.pop(), this.labels[t48.index] = t48)), -1 != e6;
  }
  remove(t48) {
    if (void 0 === t48.index)
      return;
    this.zero(t48.index), this.context.clearRect(t48.x, t48.y, t48.width, t48.height), this.spaces.push(new zT(t48.x, t48.y, t48.width, t48.height)), this.free.push(t48.index), this.labels[t48.index] = null;
    let e6 = true;
    for (let t49 of this.labels)
      if (e6 = e6 && null != t49, !e6)
        break;
    e6 && this.atlas.removeLayer(this);
  }
  render(t48) {
    this.context.save(), this.context.rect(t48.x + 1, t48.y + 1, t48.width - 2, t48.height - 2), this.context.clip(), this.context.font = t48.size + "px " + t48.font;
    for (let e6 of t48.lines)
      this.context.fillText(e6.text, e6.x + t48.x + UT, e6.y + t48.y + e6.height + UT);
    this.texture.needsUpdate = true, this.context.restore();
  }
  onWebGLContextRestored() {
    this.canvas = document.createElement("canvas"), this.canvas.width = this.canvasWidth, this.canvas.height = this.canvasHeight, this.context = this.canvas.getContext("2d"), this.context.textBaseline = "bottom", this.texture = new Rp(this.canvas), this.texture.anisotropy = 16, this.material.uniforms.textureLabel.value = this.texture;
    for (let t48 of this.labels)
      null != t48 && this.render(t48);
  }
  dispose() {
    this.geometry.dispose(), this.material.dispose(), this.texture.dispose();
  }
};
q(tN, "AtlasLayer");
var JD = tN;
var nN = class {
  constructor() {
    this.layers = [], this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d");
  }
  addLabel(t48, e6, i, n, r, o3) {
    let s6 = 0, a = 0;
    for (let t49 of e6)
      a = Math.max(Math.ceil(t49.width + t49.x), a), s6 = Math.max(Math.ceil(t49.height + t49.y), s6);
    let l, u2 = new KD();
    u2.map = t48, u2.width = a + 2 * UT, u2.height = s6 + 2 * UT, u2.lines = e6, u2.font = i, u2.size = n, u2.canvasBounds = r.canvasBounds, u2.margin = r.margin, u2.heightMargin = r.heightMargin, u2.pixelsPerMu = o3, u2.z = r.height, u2.view = r, u2.color = r.color;
    for (let e10 of this.layers)
      if (l = e10, l.map === t48) {
        if (l.findSpace(u2))
          break;
        l = null;
      } else
        l = null;
    if (null == l) {
      if (l = new JD(this, t48, u2.width, u2.height), this.layers.push(l), !l.findSpace(u2))
        return;
      this.layers.sort((t49, e10) => e10.space() - t49.space());
    }
    return l.render(u2), u2.layout(t48.mapClass, l.origin, l.size, l.rotation, l.uv, l.color), u2.layer = l, u2;
  }
  removeLayer(t48) {
    let e6 = this.layers.indexOf(t48);
    -1 != e6 && this.layers.splice(e6, 1);
  }
  measure(t48, e6, i) {
    return this.context.font = i + "px " + e6, this.context.measureText(t48);
  }
  onWebGLContextRestored() {
    for (let t48 of this.layers)
      t48.onWebGLContextRestored();
  }
  dispose() {
    for (let t48 of this.layers)
      t48.dispose();
  }
};
q(nN, "Atlas");
var Gp = nN;
var iN = class {
  constructor(t48, e6, i, n, r, o3, s6, a, l) {
    v(this, "setHoverColor", q((t49) => {
      this.hoverColor = new at(t49);
    }, "setHoverColor"));
    let h = La(t48.polygon, e6.polygons);
    this.id = h.id, this.text = (t48.shortText || t48.text).trim(), this.stateText = t48.stateText ? " (" + t48.stateText + ")" : "", this.fullText = this.stateText ? this.text + this.stateText : this.text, this.font = t48.font || n, this.atlas = l, this.canvasBounds = t48.canvasBounds || h.canvasBounds, this.mapScale = i.getMapScale() || 1, this.margin = (t48.margin || QD.MARGIN) * this.mapScale, this.heightMargin = (t48.heightMargin || QD.HEIGHT_MARGIN) * this.mapScale, this.scaleMin = t48.scaleMin || 0.25, this.scaleStep = t48.scaleStep > 0 ? t48.scaleStep : 0.25, this.multiline = null == t48.multiline || t48.multiline, this.height = Number(t48.height) || null, this.polygonMeshesById = r, this.polyId = t48.polygonId || Oi(t48.polygon, e6.polygons), this.map = i, this.color = new at(t48.color || a.colors.text || "#000000"), this.hoverColor = new at(t48.hoverColor || this.color), this.baseColor = this.color, this.hideOnCreate = false, this.hoverLabelText = t48.text.trim(), this.fontSize = t48.fontSize * this.mapScale || t48.size * mve || $D, this.hoverLabelMode = t48.hoverLabelMode3D || Pu.MODES.ALL, this.hoverLabelClass = t48.hoverLabelClass || "mMapviewHoverLabel", this.showHoverLabel = this.hoverLabelMode == Pu.MODES.ALL || this.hoverLabelMode == Pu.MODES.NO_TEXT_LABEL_ONLY, this.hoverIfLabelFails = this.hoverLabelMode == Pu.MODES.ALL || this.hoverLabelMode == Pu.MODES.NO_TEXT_LABEL_ONLY, this.textLabelsByPolygonId = o3, this.map.textObjects.push(this);
  }
  create() {
    let t48 = this;
    if (this.doNotCreate)
      return;
    if (null == t48.canvasBounds)
      return t48.invalid = true, t48.message = "No Canvas Bounds. Can't draw text '" + t48.text + "'", void (t48.showHoverLabel = t48.hoverIfLabelFails);
    t48.showHoverLabel = this.hoverLabelMode == Pu.MODES.ALL;
    let e6 = gve * this.mapScale, i = xY / this.mapScale, n = [this.text];
    this.stateText.length && n.unshift(this.fullText);
    for (let e10 of n) {
      let n10 = e10.split(" ").map(function(e11) {
        return { width: t48.atlas.measure(e11, t48.font, t48.fontSize).width, word: e11 };
      }), a = (this.canvasBounds.maxWidth - 2 * this.margin) * i, l = (this.canvasBounds.maxHeight - 2 * this.heightMargin) * i, u2 = (1 - this.scaleMin) / this.scaleStep, h = 0, c2 = this.atlas.measure(" ", this.font, this.fontSize).width, p4 = yve(this.fontSize + "px " + this.font);
      for (let t49 = 0, e11 = n10.length; t49 < e11; t49++) {
        let e12 = n10[t49].width, i10 = Math.ceil((e12 - a) / (e12 * this.scaleStep));
        h = Math.max(i10, h);
      }
      if (null == this.height)
        if (this.polygonMeshesById[this.polyId]) {
          let t49 = this.polygonMeshesById[this.polyId];
          t49.geometry.boundingBox || t49.geometry.computeBoundingBox(), this.height = t49.geometry.boundingBox.max.z + t49.position.z;
        } else
          this.height = 0;
      var r, o3, s6;
      let d = this.scaleStep;
      t:
        for (o3 = h; o3 <= u2; o3++) {
          s6 = 1 - o3 * d;
          let t49 = n10[0].width * s6;
          r = [{ text: n10[0].word, width: t49, height: p4 * s6, x: 0, y: 0 }];
          for (let e11 = 1; e11 < n10.length; e11++) {
            let i10 = n10[e11], o6 = (i10.width + c2) * s6;
            if (t49 + o6 < a)
              r[r.length - 1].text += " " + i10.word, r[r.length - 1].width += o6, t49 += o6;
            else {
              if (!this.multiline)
                continue t;
              r[r.length - 1].width = t49, t49 = i10.width * s6, r.push({ text: i10.word, width: t49, height: p4 * s6, x: 0, y: r[r.length - 1].height + r[r.length - 1].y });
            }
          }
          if (r.length * p4 * s6 <= l) {
            this.invalid = false;
            break;
          }
        }
      if (0 == this.invalid)
        break;
    }
    if (0 == this.invalid) {
      let t49 = r.map((t50) => Math.ceil(t50.width)).reduce((t50, e10) => Math.max(t50, e10));
      for (let e10 of r)
        e10.x = (t49 - e10.width) / 2;
      this.label = this.atlas.addLabel(this.map, r, this.font, this.fontSize * s6, this, e6);
    }
    this.created = true;
  }
  flipIfNeeded(t48) {
  }
  removeSelf(t48) {
    this.created ? (null != this.label && (this.label.layer.remove(this.label), this.label = null), t48 || (this.map.textObjects = this.map.textObjects.filter((t49) => t49 != this), Object.keys(this.textLabelsByPolygonId).forEach((t49) => {
      this.textLabelsByPolygonId[t49] == this && delete this.textLabelsByPolygonId[t49];
    }))) : this.doNotCreate = true;
  }
  setColor(t48) {
    var e6;
    let i = new at(t48), n = this.color.equals(i), r = !(null == (e6 = this.label) || !e6.layer);
    this.color = i, !n && r && (this.label.color = this.color, this.label.layout(this.map.mapClass, this.label.layer.origin, this.label.layer.size, this.label.layer.rotation, this.label.layer.uv, this.label.layer.color));
  }
  clearColor() {
    this.setColor(this.baseColor);
  }
  hide() {
    this.label ? this.label.layer.zero(this.label.index) : this.hideOnCreate = true;
  }
  show() {
    if (this.label) {
      let t48 = this.label.layer, e6 = this.map;
      this.label.layout(e6.mapClass, t48.origin, t48.size, t48.rotation, t48.uv, t48.color);
    } else
      this.hideOnCreate = false;
  }
  toString() {
    return this.hoverLabelText;
  }
};
q(iN, "FlatLabel");
var jx = iN;
var yY = /* @__PURE__ */ new Map();
var yve = q(function(t48) {
  let e6 = yY[t48];
  if (null != e6)
    return e6;
  let i = document.createElement("span");
  i.textContent = "Hg", i.style.font = t48;
  let n = document.createElement("div");
  n.style.cssText = "display: inline-block; width: 1px; height: 0px;";
  let r = document.createElement("div");
  r.appendChild(i), r.appendChild(n), document.body.appendChild(r);
  try {
    var o3 = i.getBoundingClientRect();
  } finally {
    r.remove();
  }
  return null != o3.height && (yY[t48] = o3.height, e6 = o3.height), e6;
}, "getTextHeight");
c();
var bY = q(function(t48) {
  let e6, i, n = this, r = document.createElement("div");
  r.style.display = "none!important", r.style.position = "absolute", r.style.top = "0px", r.style.left = "0px", r.style.pointerEvents = "none", this.hovering = false, t48.appendChild(r), this.show = function(t49) {
    n.hovering || n.setPosition(e6, i), n.hovering = true, r.style.removeProperty("display"), r.textContent = t49.toString(), r.className = t49.hoverLabelClass;
  }, this.hide = function() {
    n.hovering && (n.hovering = false, r.style.setProperty("display", "none", "important"), r.textContent = "");
  }, this.setZIndex = function(t49) {
    r.style.zIndex = t49;
  }, this.setPosition = function(o3, s6) {
    e6 = o3, i = s6, n.hovering && (s6 - r.clientHeight > 0 ? (s6 -= r.clientHeight, o3 + r.clientWidth > t48.clientWidth && (o3 -= r.clientWidth)) : o3 = o3 - r.clientWidth - 10, r.style.transform = "translate(" + o3 + "px, " + s6 + "px)");
  }, this.destroy = function() {
    t48.removeChild(r);
  };
}, "HoverLabel");
bY.MODES = { NONE: 1, NO_TEXT_LABEL_ONLY: 2, ALL: 3 };
var Pu = bY;
c();
var sN = class {
  constructor(t48) {
    v(this, "__engine"), v(this, "_initialRank", 0), v(this, "screenPosition", [0, 0]), v(this, "enabled", false), v(this, "options", {}), v(this, "mapId", ""), v(this, "id", "0"), v(this, "action", 0), v(this, "getBoundingBoxForCurrentStrategy"), v(this, "rank", 0), v(this, "visible", false), v(this, "offscreen", false), v(this, "position", null), v(this, "dimensions", { width: 0, height: 0 }), v(this, "layer", ""), v(this, "_bboxes");
    let { rank: e6, layer: i } = t48;
    i && (this.layer = i), !i && null != t48.polygon && (this.layer = t48.polygon.layer), this._initialRank = e6, this.rank = e6;
  }
  flipIfNeeded() {
  }
  setPosition(t48, e6 = true) {
    var i;
    let n = { nodeOrCoordinate: t48, height: null == (i = this.position) ? void 0 : i.height };
    this.mapId = t48.map.id, this.position = n, null != this.__engine && e6 && this.__engine.debouncedUpdate();
  }
  setPriority(t48) {
    this.rank = t48, null != this.__engine && this.__engine.debouncedUpdate();
  }
  setAction(t48) {
    this.action = t48;
  }
  resetPriority() {
    this.rank !== this._initialRank && this.setPriority(this._initialRank);
  }
  promote() {
  }
  demote() {
  }
  get strategies() {
    return [];
  }
  removeSelf() {
    this.__engine = void 0;
  }
  enable() {
    this.enabled = true;
  }
  disable() {
    this.enabled = false;
  }
  colliderDidUpdatePosition(t48) {
    this.screenPosition = t48;
  }
  colliderDidNotFindAHome() {
    this.visible = false;
  }
  colliderDidMount() {
    this.dimensions = { width: 0, height: 0 };
  }
  colliderDidUpdateVisiblity() {
  }
};
q(sN, "BaseCollider");
var rN = sN;
var Vp = rN;
c(), c();
var xve = q(function() {
  let t48, e6;
  return () => {
    if ((!e6 || !e6) && (t48 = document.createElement("canvas"), t48.width = 500 * devicePixelRatio, t48.height = 500 * devicePixelRatio, t48.style.width = "500px", t48.style.height = "500px", e6 = t48.getContext("2d")), !e6)
      throw new Error("Could not get 2D context");
    return { measureCanvas: t48, measureCanvasContext: e6 };
  };
}, "createMeasureCanvasContext")();
var _Y = q((t48, e6, i, n = 2, r = 1.2, o3 = { strokeText: true }) => {
  let s6 = "bold ".concat(e6 * devicePixelRatio, "px 'InterUI-Regular', Helvetica Neue, Arial, sans-serif"), { measureCanvasContext: a } = xve();
  a.font = s6;
  let l = [], u2 = t48.split(" "), h = 0, c2 = 0, p4 = 0;
  for (; c2 < u2.length; ) {
    let t49 = u2[c2];
    if (h === n && h > 0) {
      l[h - 1] += "...";
      break;
    }
    if (null == l[h] && (l[h] = t49, c2++), 1 === u2.length) {
      l[h] = t49;
      break;
    }
    if (null == u2[c2])
      break;
    let { width: e10 } = a.measureText(l[h] + " " + u2[c2]);
    e10 <= i ? (l[h] += " " + u2[c2], c2++) : h++;
  }
  l.forEach((t49) => {
    let { width: e10 } = a.measureText(t49);
    p4 = Math.max(e10, p4);
  });
  let d = e6 * devicePixelRatio * r, f = l.length * d;
  return { maxWidth: p4, maxHeight: f, lines: l.length, draw: (t49, e10, i10) => {
    1 === l.length ? (o3.strokeText && t49.strokeText(l[0], e10, i10), t49.fillText(l[0], e10, i10)) : (o3.strokeText && (t49.strokeText(l[0], e10, i10 - d / 2), t49.strokeText(l[1], e10, i10 + d / 2)), t49.fillText(l[0], e10, i10 - d / 2), t49.fillText(l[1], e10, i10 + d / 2));
  } };
}, "shaveText");
var yN = u(wY());
var xN = u(Kx());
c();
var Jx;
var $x;
var _N;
var qg;
var e2;
var t210;
var Yc;
var n2;
var KT;
var nX;
var i2;
var wN;
var r2;
var Xc;
var nf;
var tr = q((t48) => t48 * devicePixelRatio, "dp");
var Vl = 2.5;
var vN = 4;
var hye = 6;
var fye = 10;
var pye = 4;
var $Y = 0.5;
var dye = 6.5;
var mye = 4.5;
var eX = 2.5;
var gye = 2;
var vye = 5;
var tX = { heightAbovePolygon: 0, scale: devicePixelRatio, appearance: cE.darkOnLight };
var yye = "Smart Labels do not support setting and clearing colors. Re-label the polygon with desired colors instead";
var uo = class t41 extends Vp {
  constructor(e6, i) {
    var n;
    if (super(e6), w(this, $x), w(this, KT), w(this, i2), v(this, "lines", 0), v(this, "contextConfigured", false), v(this, "fillText"), v(this, "newStyle", { pinVisibility: 1 }), v(this, "style", { top: 0, left: 0, textLabelVisible: true, pinVisibility: 1, textAlign: "left" }), v(this, "setColor", q(() => {
      Le.warn(yye);
    }, "setColor")), v(this, "clearColor", q(() => {
    }, "clearColor")), v(this, "zoomProportion", 0), v(this, "_cache", {}), v(this, "appearance"), v(this, "mapView"), v(this, "position"), v(this, "options"), w(this, Jx, false), w(this, qg, true), w(this, e2, void 0), w(this, t210, void 0), w(this, n2, void 0), w(this, r2, void 0), w(this, Xc, void 0), w(this, nf, false), null == o(t41, Yc) && p(t41, Yc, {}), this.id = null != (n = e6.id) ? n : Cr(), this.mapView = i, this.options = (0, xN.default)({}, { text: e6.shortText || e6.text || "" }, e6, tX), null != e6.rank && e6.rank > 0)
      this.rank = e6.rank, this._initialRank = e6.rank;
    else {
      let e10 = "test" === e.env.NODE_ENV ? t41.testId : Math.random();
      t41.testId++, this.rank = e10, this._initialRank = e10;
    }
    let { mapId: r, position: o3 } = this.options;
    this.position = o3, e6.stateText && (this.options.text += " (".concat(e6.stateText, ")")), this.mapId = r;
    let s6 = (0, xN.default)({}, this.options.appearance, tX.appearance);
    this.appearance = { margin: s6.margin, text: { lineHeight: s6.text.lineHeight, numLines: s6.text.numLines, size: s6.text.size, maxWidth: s6.text.maxWidth, foregroundColor: s6.text.foregroundColor, backgroundColor: s6.text.backgroundColor }, marker: { size: s6.marker.size, foregroundColor: { active: s6.marker.foregroundColor.active, inactive: s6.marker.foregroundColor.inactive || (0, yN.default)(s6.marker.foregroundColor.active).setAlpha(0.5).toRgbString() }, backgroundColor: { active: s6.marker.backgroundColor.active, inactive: s6.marker.backgroundColor.inactive || (0, yN.default)(s6.marker.backgroundColor.active).setAlpha(0.5).toRgbString() }, icon: s6.marker.icon, iconSize: s6.marker.iconSize || fye, iconVisibilityThreshold: null == s6.marker.iconVisibilityThreshold ? $Y : s6.marker.iconVisibilityThreshold } }, this.appearance.marker.icon && (p(this, Jx, true), y(this, KT, nX).call(this));
  }
  enable(t48 = true) {
    super.enable(), t48 && null != this.__engine && this.__engine.debouncedUpdate();
  }
  get totalTextBoxHeight() {
    let { height: t48 } = this.dimensions;
    return t48 + 2 * Vl;
  }
  get totalTextBoxWidth() {
    let { width: t48 } = this.dimensions;
    return t48 + 2 * Vl;
  }
  get totalMarkerSize() {
    return o(this, qg) && (p(this, e2, o(this, Xc) / devicePixelRatio + eX), p(this, qg, false)), o(this, e2);
  }
  get strategies() {
    let { width: t48, height: e6 } = this.dimensions, { margin: i } = this.appearance;
    y(this, $x, _N).call(this);
    let n = Math.max(hye, i), r = o(this, nf) ? n / 2 : 0, o3 = [{ name: "RIGHT", getBoundingBox: ({ x: i10, y: r6 }) => {
      let o6 = Math.max(this.totalMarkerSize, e6);
      return [r6 - o6 / 2 - n, r6 + o6 / 2 + n, i10 - this.totalMarkerSize / 2 - n, i10 + this.totalMarkerSize + t48 + n];
    }, onStrategySelected: (t49) => {
      this.newStyle = Object.assign({}, t49.style, { textAlign: "right", pinVisibility: 1, top: -this.totalTextBoxHeight / 2, left: this.totalMarkerSize / 2 + vN / 2, textLabelVisible: true, cachedSymbol: this.getCachedSymbol("RIGHT", "left", 0) });
    } }, { name: "LEFT", getBoundingBox: ({ x: i10, y: r6 }) => {
      let o6 = Math.max(this.totalMarkerSize, e6);
      return [r6 - o6 / 2 - n, r6 + o6 / 2 + n, i10 - this.totalMarkerSize - t48 - n, i10 + this.totalMarkerSize / 2 + n];
    }, onStrategySelected: (e10) => {
      this.newStyle = Object.assign({}, e10.style, { textAlign: "right", pinVisibility: 1, top: -this.totalTextBoxHeight / 2, left: -this.totalTextBoxWidth - this.totalMarkerSize / 2 - vN / 2, textLabelVisible: true, cachedSymbol: this.getCachedSymbol("LEFT", "right", tr(t48)) });
    } }, { name: "TOP", getBoundingBox: ({ x: i10, y: r6 }) => [r6 - (e6 + this.totalMarkerSize) - n, r6 + this.totalMarkerSize / 2 + n, i10 - t48 / 2 - n, i10 + t48 / 2 + n], onStrategySelected: (e10) => {
      this.newStyle = Object.assign({}, e10.style, { pinVisibility: 1, textAlign: "center", textLabelVisible: true, top: -this.totalTextBoxHeight - this.totalMarkerSize / 2 - vN / 2, left: -this.totalTextBoxWidth / 2, cachedSymbol: this.getCachedSymbol("TOP", "center", tr(t48 / 2)) });
    } }, { name: MN, getBoundingBox: ({ x: t49, y: e10 }) => [e10 - this.totalMarkerSize / 2 - r, e10 + this.totalMarkerSize / 2 + r, t49 - this.totalMarkerSize / 2 - r, t49 + this.totalMarkerSize / 2 + r], onStrategySelected: (t49) => {
      this.newStyle = Object.assign({}, t49.style, { pinVisibility: 0.5, textLabelVisible: false });
    } }];
    return "" === this.options.text ? [{ name: "ICON_ONLY", getBoundingBox: ({ x: t49, y: e10 }) => [e10 - this.totalMarkerSize / 2 - n / 2, e10 + this.totalMarkerSize / 2 + n / 2, t49 - this.totalMarkerSize / 2 - n / 2, t49 + this.totalMarkerSize / 2 + n / 2], onStrategySelected: (t49) => {
      this.newStyle = Object.assign({}, t49.style, { pinVisibility: 1, textLabelVisible: false });
    } }] : o3;
  }
  getCachedSymbol(t48, e6, i) {
    let { width: n, height: r } = this.dimensions;
    if (null == this._cache[t48]) {
      let o3, s6 = n + 2 * Vl, a = r + 2 * Vl;
      null != window.OffscreenCanvas ? o3 = new OffscreenCanvas(tr(s6 + Vl), tr(a + Vl)) : (o3 = document.createElement("canvas"), o3.width = tr(s6 + Vl), o3.height = tr(a + Vl), o3.style.width = s6 + "px", o3.style.height = a + "px");
      let l = o3.getContext("2d"), { size: u2 } = this.appearance.text;
      l.textAlign = e6, l.font = "bold ".concat(u2 * devicePixelRatio, "px 'InterUI-Regular', Helvetica Neue, Arial, sans-serif"), l.textBaseline = "middle", l.lineJoin = "miter", l.miterLimit = 2, l.strokeStyle = "white", l.lineWidth = tr(Vl), l.fillStyle = this.appearance.text.foregroundColor, l.strokeStyle = this.appearance.text.backgroundColor, this.fillText && "function" == typeof this.fillText && this.fillText(l, i + tr(Vl), tr(a + Vl / 2) / 2), this._cache[t48] = o3;
    }
    return this._cache[t48];
  }
  invalidate() {
    this._cache = {}, this.colliderDidMount();
  }
  colliderDidMount() {
    let { size: t48, maxWidth: e6, numLines: i, lineHeight: n } = this.appearance.text, r = this.options.text || "", { draw: o3, lines: s6, maxWidth: a, maxHeight: l } = _Y(r, t48, tr(e6), i, n);
    this.fillText = o3, this.lines = s6, this.dimensions = { width: a / devicePixelRatio, height: l / devicePixelRatio };
  }
  colliderDidUpdatePosition(t48) {
    this.screenPosition = t48;
  }
  colliderDidUpdateVisiblity() {
    y(this, $x, _N).call(this), 1 === this.action ? this.visible = true : this.visible = false, this.action = 0, this.style = this.newStyle;
  }
  colliderDidGoOutsideGrid() {
  }
  colliderDidNotFindAHome() {
    this.action = 2;
  }
  disable(t48 = true) {
    super.disable(), this.visible = false, t48 && null != this.__engine && this.__engine.debouncedUpdate();
  }
  get pinCanvasSize() {
    return 2 * this.totalMarkerSize;
  }
  draw(e6) {
    var i;
    if (!this.visible)
      return;
    let [n, r] = this.screenPosition, { pinVisibility: o3, textLabelVisible: s6, top: a, left: l, textAlign: u2, cachedSymbol: h } = this.style, c2 = tr(n), p4 = tr(r), { marker: d } = this.appearance, { foregroundColor: f, backgroundColor: g } = d, m = VD("".concat(f.active, "-").concat(f.inactive, "-").concat(g.active, "-").concat(g.inactive, "-").concat(o(this, Xc)));
    if (o(t41, Yc)[m]) {
      let i10 = 1 === o3 ? o(t41, Yc)[m][0] : o(t41, Yc)[m][1];
      e6.drawImage(i10, c2 - tr(this.pinCanvasSize / 2), p4 - tr(this.pinCanvasSize / 2));
    } else {
      e6.lineWidth = tr(4);
      let i10 = y(this, i2, wN).call(this, o(this, Xc), this.appearance.marker.backgroundColor.active, this.appearance.marker.foregroundColor.active), n10 = y(this, i2, wN).call(this, o(this, nf) ? o(this, Xc) : tr(mye), this.appearance.marker.backgroundColor.inactive, this.appearance.marker.foregroundColor.inactive);
      o(t41, Yc)[m] = [i10, n10];
    }
    if (o(this, nf)) {
      let n10 = tr(this.appearance.marker.iconSize);
      null == (i = t41.imagePromiseCache[o(this, n2)]) || i.then((t48) => {
        e6.drawImage(t48, c2 - n10 / 2, p4 - n10 / 2, n10, n10);
      });
    }
    o(this, t210) !== u2 && (e6.textAlign = u2, p(this, t210, u2)), s6 && null != h && (e6.shadowColor = "transparent", e6.drawImage(h, c2 + tr(l), p4 + tr(a)));
  }
};
Jx = /* @__PURE__ */ new WeakMap(), $x = /* @__PURE__ */ new WeakSet(), _N = q(function() {
  if (o(this, r2) !== this.mapView.currentScale) {
    let { iconVisibilityThreshold: t48 = $Y } = this.appearance.marker;
    this.mapView.currentScale <= t48 && typeof this.appearance.marker.iconSize < "u" && o(this, Jx) ? (p(this, Xc, tr(this.appearance.marker.iconSize + pye)), p(this, nf, true)) : (p(this, nf, false), p(this, Xc, tr(dye))), p(this, r2, this.mapView.currentScale);
  }
  p(this, qg, true);
}, "#calculateMarkerSize"), qg = /* @__PURE__ */ new WeakMap(), e2 = /* @__PURE__ */ new WeakMap(), t210 = /* @__PURE__ */ new WeakMap(), Yc = /* @__PURE__ */ new WeakMap(), n2 = /* @__PURE__ */ new WeakMap(), KT = /* @__PURE__ */ new WeakSet(), nX = q(function() {
  if (!this.appearance.marker.icon)
    return;
  let t48 = VD(this.appearance.marker.icon);
  p(this, n2, t48), uo.imagePromiseCache[t48] || (uo.imagePromiseCache[t48] = fetch("data:image/svg+xml;base64, ".concat(btoa(this.appearance.marker.icon))).then((t49) => t49.blob()).then((t49) => new Promise((e6) => {
    let i = new Image();
    i.onload = function() {
      e6(i);
    }, i.src = URL.createObjectURL(t49);
  })));
}, "#cacheImage"), i2 = /* @__PURE__ */ new WeakSet(), wN = q(function(t48, e6, i) {
  let n, r = tr(this.pinCanvasSize);
  null != window.OffscreenCanvas ? n = new OffscreenCanvas(r, r) : (n = document.createElement("canvas"), n.width = r, n.height = r, n.style.width = r / devicePixelRatio + "px", n.style.height = r / devicePixelRatio + "px");
  let o3 = n.getContext("2d");
  return o3.shadowColor = "rgba(0,0,0,0.3)", o3.shadowOffsetY = tr(gye), o3.shadowBlur = tr(vye), o3.beginPath(), o3.arc(r / 2, r / 2, t48 / 2 + tr(eX) / 2, 0, 2 * Math.PI), o3.fillStyle = e6, o3.fill(), o3.beginPath(), o3.arc(r / 2, r / 2, t48 / 2, 0, 2 * Math.PI), o3.shadowColor = "transparent", o3.fillStyle = i, o3.fill(), n;
}, "#createPinCanvas"), r2 = /* @__PURE__ */ new WeakMap(), Xc = /* @__PURE__ */ new WeakMap(), nf = /* @__PURE__ */ new WeakMap(), q(uo, "InternalFloatingLabel"), v(uo, "testId", 0), w(uo, Yc, void 0), v(uo, "imagePromiseCache", {});
var bN = uo;
var Xo = bN;
c();
var Fg;
var rf;
var TN = class extends Vp {
  constructor() {
    super(...arguments), v(this, "contentEl", document.createElement("div")), v(this, "containerEl", document.createElement("div")), v(this, "ready", false), w(this, Fg, [0, 0]), w(this, rf, false);
  }
  removeSelf() {
    var t48, e6;
    if (null != this.__engine && null != (null == (t48 = this.containerEl) ? void 0 : t48.parentElement) && (null == (e6 = this.containerEl) ? void 0 : e6.parentElement) === this.__engine.collisionEngineContainerEl)
      try {
        this.containerEl.parentElement.removeChild(this.containerEl);
      } catch (t49) {
        Le.warn("error removing collider from dom", t49);
      }
    this.__engine = void 0, this.containerEl = null, this.contentEl = null;
  }
  enable() {
    !this.__engine || !this.containerEl || (this.enabled = true, this.containerEl.style.opacity = "0", this.__engine.collisionEngineContainerEl.appendChild(this.containerEl), this.updateDimensionsImmediately());
  }
  disable() {
    if (this.__engine && this.containerEl && (this.enabled = false, this.ready = false, this.containerEl.style.opacity = "0", null != this.containerEl.parentElement && this.containerEl.parentElement === this.__engine.collisionEngineContainerEl))
      try {
        this.containerEl.parentElement.removeChild(this.containerEl);
      } catch (t48) {
        Le.warn("error removing collider from dom", t48);
      }
  }
  colliderDidGoOffscreen() {
    this.visible = false, this.containerEl && (this.containerEl.style.opacity = "0");
  }
  colliderDidNotFindAHome() {
    this.visible = false;
  }
  colliderDidUpdatePosition(t48) {
    this.containerEl && (this.enabled && !this.ready && (this.containerEl.style.opacity = "1", this.ready = true), (o(this, Fg)[0] !== t48[0] || o(this, Fg)[1] !== t48[1]) && this.visible && (this.containerEl.style.transform = "translate3D(".concat(t48[0], "px, ").concat(t48[1], "px, ").concat(t48[1], "px)"), p(this, Fg, t48)));
  }
  updateDimensions() {
    p(this, rf, true), this.visible && (this.updateDimensionsImmediately(), p(this, rf, false));
  }
  updateDimensionsImmediately() {
    if (o(this, rf) && this.containerEl) {
      let { width: t48, height: e6 } = this.containerEl.getBoundingClientRect();
      this.dimensions = { width: t48, height: e6 }, Object.assign(this.containerEl, { width: t48 + "px", height: e6 + "px" }), p(this, rf, false), null != this.__engine && this.__engine.debouncedUpdate();
    }
  }
  colliderDidMount() {
    this.updateDimensions();
  }
  colliderDidUpdateVisiblity() {
    this.containerEl && (this.containerEl.style.opacity = this.visible ? "1" : "0"), this.visible && o(this, rf) && this.updateDimensionsImmediately();
  }
};
Fg = /* @__PURE__ */ new WeakMap(), rf = /* @__PURE__ */ new WeakMap(), q(TN, "HTMLCollider");
var EN = TN;
var s2 = EN;
c();
var SN = u(Eu());
var Ug = {};
function xye(t48, e6) {
  var i;
  return null != (null == (i = Ug[t48.id]) ? void 0 : i[e6]) || (null == Ug[t48.id] && (Ug[t48.id] = {}), t48.polygons.forEach((e10) => {
    e10.entrances.forEach((i10) => {
      Ug[t48.id][i10.id] = e10;
    });
  })), Ug[t48.id][e6];
}
q(xye, "getPolygonByNodeId");
var sf;
var PN = class {
  constructor(t48) {
    w(this, sf, void 0), p(this, sf, t48);
  }
  get id() {
    return o(this, sf).id;
  }
  get containerEl() {
    return o(this, sf).containerEl;
  }
  get contentEl() {
    return o(this, sf).contentEl;
  }
  update() {
    o(this, sf).updateDimensions();
  }
};
sf = /* @__PURE__ */ new WeakMap(), q(PN, "Marker");
var Li;
var o2 = PN;
var IN = class {
  constructor(t48) {
    w(this, Li, void 0), v(this, "markersMap"), v(this, "animations"), p(this, Li, t48), this.markersMap = /* @__PURE__ */ new Map(), this.animations = /* @__PURE__ */ new Map();
  }
  create(t48, e6, i) {
    if (null == o(this, Li).currentMap)
      throw new Error("Unable to retrieve the current map");
    let n = o(this, Li).mapObjects.get(t48.map.id || o(this, Li).currentMap), r = 0;
    if (t48 instanceof Fs) {
      let e10 = xye(n.mapClass, t48.id);
      null != e10 && (r = e10.geometry.scale.z * Math.max(n.mapClass.width, n.mapClass.height) / 1e3);
    }
    return new of({ ...i, collisionRank: null == i ? void 0 : i.rank, contentHtml: e6, mapId: n.id, position: { nodeOrCoordinate: t48, height: r } });
  }
  addInternal(t48, e6, i) {
    if (null == o(this, Li).currentMap)
      throw new Error("Unable to retrieve the current map");
    let n = this.create(t48, e6, i);
    return o(this, Li).smartCollisionEngine.add(n.id, n), n;
  }
  add(t48, e6, i) {
    if (null == o(this, Li).currentMap)
      throw new Error("Unable to retrieve the current map");
    let n = o(this, Li).mapObjects.get(t48.map.id || o(this, Li).currentMap), r = this.create(t48, e6, i);
    o(this, Li).smartCollisionEngine.add(r.id, r), n.markers.add(r), o(this, Li).taskScheduler.scheduleTask(new Hi({ name: "addMarker", callback: () => {
      r.enable(), o(this, Li).smartCollisionEngine.debouncedUpdate();
    } })), o(this, Li).tryRendering();
    let o3 = new o2(r);
    return this.markersMap.set(r.id, { marker: o3, internalMarker: r }), o3;
  }
  updateMap(t48, e6, i) {
    var n, r;
    null == (n = o(this, Li).mapObjects.get(e6)) || n.markers.delete(t48), null == (r = o(this, Li).mapObjects.get(i)) || r.markers.add(t48), o(this, Li).smartCollisionEngine.updateMap(t48.id, e6, i), t48.enable();
  }
  setPosition(t48, e6, i) {
    var n, r;
    let o3;
    if ("string" == typeof t48 ? o3 = null == (n = this.markersMap.get(t48)) ? void 0 : n.internalMarker : t48 instanceof o2 ? o3 = null == (r = this.markersMap.get(t48.id)) ? void 0 : r.internalMarker : t48 instanceof of && (o3 = t48), !o3)
      return;
    let s6 = o3.position.nodeOrCoordinate;
    s6.map.id !== e6.map.id && this.updateMap(o3, s6.map.id, e6.map.id), o3.setPosition(e6, i), o(this, Li).tryRendering(un.ALL);
  }
  animate(t48, e6, i) {
    var n;
    let r = "string" == typeof t48 ? t48 : t48.id, o3 = null == (n = this.markersMap.get(r)) ? void 0 : n.internalMarker;
    if (!o3)
      return Promise.resolve();
    let s6 = this.animations.get(r);
    s6 && (s6.tween.stop(), s6.resolver(), this.animations.delete(r));
    let a, l = o3.position.nodeOrCoordinate, u2 = { lat: l.lat, lon: l.lon }, h = { lat: e6.lat, lon: e6.lon }, c2 = (null == i ? void 0 : i.easing) && ua[i.easing] || SN.default.Easing.Cubic.InOut, p4 = new SN.default.Tween(u2).to(h, (null == i ? void 0 : i.duration) || 1e3).easing(c2).onUpdate((t49) => {
      let i10 = e6.map.createCoordinate(t49.lat, t49.lon);
      this.setPosition(o3, i10);
    }).onComplete(() => {
      this.animations.delete(r), a();
    }).start();
    l.map.id !== e6.map.id && this.updateMap(o3, l.map.id, e6.map.id);
    let d = new Promise((t49) => {
      a = t49, this.animations.set(r, { tween: p4, resolver: a });
    });
    return o(this, Li).tryRendering(), d;
  }
  remove(t48) {
    let e6 = "string" == typeof t48 ? t48 : t48.id;
    o(this, Li).smartCollisionEngine.remove(e6), o(this, Li).smartCollisionEngine.debouncedUpdate(), o(this, Li).tryRendering(), this.markersMap.delete(e6);
  }
  removeAll() {
    Array.from(o(this, Li).mapObjects.values()).forEach((t48) => {
      t48.markers.forEach((t49) => {
        o(this, Li).smartCollisionEngine.remove(t49.id);
      });
    }), o(this, Li).smartCollisionEngine.update(), o(this, Li).tryRendering(), this.markersMap = /* @__PURE__ */ new Map();
  }
};
Li = /* @__PURE__ */ new WeakMap(), q(IN, "MarkersController");
var AN = IN;
var CN = AN;
c();
var a2;
var zg;
var bye = { top: true, left: true, topLeft: true, right: true, topRight: true, bottom: true, bottomLeft: true, bottomRight: true };
var $T = class t42 extends s2 {
  constructor(e6) {
    super(e6), v(this, "className", ""), v(this, "_el", null), v(this, "style", {}), v(this, "position"), v(this, "containerClassesLength"), v(this, "updateClassName", q((t48) => {
      if (!this.containerEl)
        return;
      let e10 = this.containerEl.classList.item(this.containerClassesLength);
      e10 && this.containerEl.classList.remove(e10), this.containerEl.classList.add("tooltip--anchor-".concat(t48)), p(this, zg, t48);
    }, "updateClassName")), w(this, a2, "-1"), w(this, zg, "");
    let { html: i, contentHtml: n, text: r, position: o3, selector: s6, map: a, padding: l = 0, collisionRank: h = 3, defaultAnchorType: c2 = "top", enabledAnchorTypes: p4, interactive: d = false } = e6, f = t42.getContainerElClasses(d);
    if (this.containerClassesLength = f.split(" ").length, this.position = o3, !this.containerEl)
      return;
    this.containerEl.innerHTML = i || '<div class="'.concat(f, '"><div class="mappedin-tooltip__content" style="padding: ').concat(l, 'px">').concat(r || n, "</div></div>"), this.rank = h, this.mapId = a, this.id = Cr();
    let g = i ? s6 : ".mappedin-tooltip";
    this.containerEl = g ? this.containerEl.querySelector(g) : null, this.containerEl && (this.contentEl = this.containerEl.firstElementChild), this._el = this.contentEl, this.options = { collisionRank: h, padding: l / Math.SQRT2, defaultAnchorType: c2, enabledAnchorTypes: { ...bye, ...p4 }, interactive: d };
  }
  get strategies() {
    let { width: t48, height: e6 } = this.dimensions, { padding: i } = this.options, n = i / 2;
    return [{ name: "top", getBoundingBox: ({ x: n10, y: r }) => [r - e6 - i, r - i, n10 - t48 / 2, n10 + t48 / 2 + i / 2], onStrategySelected: () => {
      this.style.top = -e6 - i + "px", this.style.left = -t48 / 2 + "px", this.className = "top";
    } }, { name: "right", getBoundingBox: ({ x: n10, y: r }) => [r - e6 / 2 - i / 2, r + e6 / 2 + i / 2, n10 + i, n10 + i + t48], onStrategySelected: () => {
      this.style.top = -e6 / 2 + "px", this.style.left = i + "px", this.className = "right";
    } }, { name: "left", getBoundingBox: ({ x: n10, y: r }) => [r - e6 / 2, r + e6 / 2, n10 - t48 - i, n10], onStrategySelected: () => {
      this.style.top = -e6 / 2 + "px", this.style.left = -t48 - i + "px", this.className = "left";
    } }, { name: "bottom", getBoundingBox: ({ x: n10, y: r }) => [r + i, r + i + e6, n10 - t48 / 2, n10 + t48 / 2], onStrategySelected: () => {
      this.style.top = i + "px", this.style.left = -t48 / 2 + "px", this.className = "bottom";
    } }, { name: "bottomLeft", getBoundingBox: ({ x: r, y: o3 }) => [o3 + n + i, o3 + n + e6 + i, r - t48 - n, r - n], onStrategySelected: () => {
      this.style.top = i + "px", this.style.left = -t48 - i + "px", this.className = "bottom-left";
    } }, { name: "bottomRight", getBoundingBox: ({ x: r, y: o3 }) => [o3 + n, o3 + n + e6 + i, r + n, r + n + t48 + i], onStrategySelected: () => {
      this.style.top = i + "px", this.style.left = i + "px", this.className = "bottom-right";
    } }, { name: "topLeft", getBoundingBox: ({ x: i10, y: r }) => [r - e6 - n, r - n, i10 - t48 - n, i10 - n], onStrategySelected: () => {
      this.style.top = -e6 - i + "px", this.style.left = -t48 - i + "px", this.className = "top-left";
    } }, { name: "topRight", getBoundingBox: ({ x: r, y: o3 }) => [o3 - e6 - n, o3 - n, r + n + i, r + n + t48 + i], onStrategySelected: () => {
      this.style.top = -e6 - i + "px", this.style.left = i + "px", this.className = "top-right";
    } }].filter((t49) => true === this.options.enabledAnchorTypes[t49.name]);
  }
  colliderDidMount() {
    this.updateDimensions();
  }
  updateDimensionsImmediately() {
    super.updateDimensionsImmediately(), p(this, zg, ""), p(this, a2, "-1");
  }
  setAction(t48) {
    super.setAction(t48), this.visible = 1 === t48;
  }
  colliderDidNotFindAHome() {
    4 === this.options.collisionRank ? this.visible = true : this.setAction(2);
  }
  colliderDidGoOffscreen() {
  }
  colliderDidUpdateVisiblity() {
    let t48 = 1 === this.action ? "1" : "0";
    this.containerEl && (o(this, a2) != t48 && (this.containerEl.style.opacity = t48), "0" === t48 ? this.updateInteractive(false) : this.updateInteractive(!this.options.interactive), o(this, zg) !== this.className && (this.updateClassName(this.className), true === this.visible && (this.updateDimensionsImmediately(), Object.assign(this.containerEl.style, this.style))));
  }
  updateInteractive(t48) {
    if (!this.containerEl)
      return;
    let e6 = this.containerEl.classList.item(1);
    if (!e6)
      return;
    let i = t48 ? "pointer-events-auto" : "pointer-events-none";
    e6 !== i && this.containerEl.classList.replace(e6, i);
  }
  static getContainerElClasses(t48) {
    return "mappedin-tooltip ".concat(t48 ? "pointer-events-none" : "pointer-events-auto");
  }
};
a2 = /* @__PURE__ */ new WeakMap(), zg = /* @__PURE__ */ new WeakMap(), q($T, "SmartTooltip");
var ON = $T;
var Wp = ON;
c();
var _ye = { anchor: 0 };
var DN = class extends s2 {
  constructor(t48) {
    super(t48), v(this, "_el", null), v(this, "style", {}), v(this, "polygon"), v(this, "position");
    let { contentHtml: e6, position: i, mapId: n, id: r, collisionRank: o3 = 3 } = t48;
    this.position = i, this.containerEl && (this.containerEl.innerHTML = '<div class="mappedin-marker__wrapper"><div class="mappedin-marker">'.concat(e6, "</div></div>"), this.rank = o3, this.mapId = n, this.id = "string" == typeof r ? r : Cr(), this.containerEl = this.containerEl.querySelector(".mappedin-marker"), this.contentEl = this.containerEl ? this.containerEl.firstElementChild : null, this._el = this.contentEl, this.options = { ..._ye, ...t48 });
  }
  get strategies() {
    let { width: t48, height: e6 } = this.dimensions;
    return [{ name: "center", getBoundingBox: ({ x: i, y: n }) => {
      let r = n - e6 / 2, o3 = n + e6 / 2, s6 = i - t48 / 2, a = i + t48 / 2;
      switch (this.options.anchor) {
        case 1:
          r = n - e6, o3 = n;
          break;
        case 3:
          r = n, o3 = n + e6;
          break;
        case 2:
          s6 = i - t48, a = i;
          break;
        case 4:
          s6 = i, a = i + t48;
      }
      return [r, o3, s6, a];
    }, onStrategySelected: () => {
      let i = -e6 / 2 + "px", n = -t48 / 2 + "px";
      switch (this.style.top = i, this.style.left = n, this.options.anchor) {
        case 1:
          this.style.top = -e6 + "px";
          break;
        case 3:
          this.style.top = "0px";
          break;
        case 2:
          this.style.left = -t48 + "px";
          break;
        case 4:
          this.style.left = "0px";
          break;
        default:
          this.style.top = i, this.style.left = n;
      }
    } }];
  }
  colliderDidMount() {
    this.updateDimensions();
  }
  setAction(t48) {
    super.setAction(t48), this.visible = 1 === t48;
  }
  colliderDidNotFindAHome() {
    this.setAction(2);
  }
  colliderDidUpdatePosition(t48) {
    super.colliderDidUpdatePosition(t48);
  }
  colliderDidGoOffscreen() {
  }
  colliderDidUpdateVisiblity() {
    this.containerEl && (this.containerEl.style.opacity = 1 === this.action ? "1" : "0"), super.colliderDidUpdateVisiblity(), true === this.visible && this.containerEl && Object.assign(this.containerEl.style, this.style);
  }
};
q(DN, "InternalMarker");
var LN = DN;
var of = LN;
c(), c();
var e3 = 500;
var t310 = "ease-out";
var n3 = 0.6;
var Yp = void 0;
var i3 = 7.9;
var NN = 1;
function wye(t48, e6) {
  let i = t48.getCenter(new K()), n = t48.getSize(new K()), { x: r, y: o3, z: s6 } = n, a = r * e6, l = o3 * e6, u2 = s6 * e6, h = i.x - a / 2, c2 = i.x + a / 2, p4 = i.y - l / 2, d = i.y + l / 2, f = i.z - u2 / 2, g = i.z + u2 / 2;
  return new Yt({ x: h, y: p4, z: f }, { x: c2, y: d, z: g });
}
function r3(t48, e6) {
  let { margin: i, radius: n } = e6, r = t48.boundingBox, o3 = wye(new Yt(r.min, r.max).clone().applyMatrix4(t48.object.matrix), null != i ? i : 1), s6 = { min: o3.min, max: o3.max, margin: i, radius: n, center: o3.getCenter(new K()) };
  s6.min.z = (s6.max.z + s6.min.z) / 2, s6.max.z = s6.min.z;
  let a = (s6.max.x + s6.min.x) / 2, l = (s6.max.y + s6.min.y) / 2, u2 = (s6.max.z, s6.min.z, Math.sqrt((s6.max.x - a) ** 2 + (s6.max.y - l) ** 2));
  return s6.radius = u2, s6.center = o3.getCenter(new K()), s6;
}
q(wye, "addMarginMultiplierToBoundingBox"), q(r3, "getPanBoundsForObject");
var Di;
var BN = class {
  constructor(t48, e6) {
    v(this, "maps"), w(this, Di, void 0), v(this, "mapObjectsArray", []), v(this, "transitionOptions"), v(this, "object", new ci()), v(this, "currentMap"), v(this, "mapObjects", /* @__PURE__ */ new Map()), p(this, Di, e6), this.object.userData.name = "mappedin-scene", this.maps = t48.sort((t49, e10) => t49.elevation - e10.elevation), t48.forEach((t49) => {
      let e10 = o(this, Di).mapObjects.get(t49.id);
      this.mapObjects.set(t49.id, e10);
    }), this.object.position.set(0, 0, 0);
  }
  get mapObjectsByMapGroup() {
    let t48 = Array.from(this.mapObjects.values());
    return 0 === t48.filter((t49) => {
      var e6;
      return null == (e6 = t49.mapClass.mapGroup) ? void 0 : e6.id;
    }).length ? { _: t48 } : Array.from(this.mapObjects.values()).reduce((t49, e6) => (e6.mapClass.mapGroup && (t49[e6.mapClass.mapGroup.id] ? t49[e6.mapClass.mapGroup.id].push(e6) : t49[e6.mapClass.mapGroup.id] = [e6]), t49), {});
  }
  determineMapPositionAndRotation(t48) {
    var e6, i;
    let n = (null == (e6 = o(this, Di).referenceMap) ? void 0 : e6.scale) || 1, r = t48.scale || 1, o3 = (null == (i = o(this, Di).referenceMap) ? void 0 : i.getNorth()) || 0, s6 = t48.getNorth() || 0, { x: a, y: l } = t48.georeference[0].target, { x: u2, y: h } = t48.georeference[2].target, c2 = new mi(a, l), p4 = new mi(u2, h), { lat: d, lon: f } = c2.midpointTo(p4), g = o(this, Di).referenceMap.createCoordinate(d, f), { x: m, y: v4 } = o(this, Di).convertTo3DMapPosition(g), y4 = r / n;
    return { position: [m, v4, 0], scale: [y4, y4, y4], rotation: [0, 0, s6 - o3] };
  }
  async prepare(t48, e6) {
    this.transitionOptions = e6 || {}, this.currentMap = (null == e6 ? void 0 : e6.activeMap) || this.maps[0], t48.currentScene = this;
    let i = await this.preRender(e6);
    this.mapObjectsArray = await Promise.all(i);
  }
  resize() {
  }
  focusOnCurrentMap(t48, e6) {
    return new Promise((i) => {
      var n, r, o3, s6, a, l;
      let u2 = this.mapObjects.get(this.currentMap.id);
      u2.object.updateMatrixWorld();
      let h = o(this, Di).loadOptions && o(this, Di).loadOptions.zoomOverrides && o(this, Di).loadOptions.zoomOverrides.zoomMultiplier || i3, c2 = u2.getMapScale() * u2.object.scale.x;
      o(this, Di).controls.zoomFactor = c2 / h;
      let p4 = r3(u2, o(this, Di).controls.panBounds);
      o(this, Di).controls.panBounds = p4;
      let d = null == (n = null == t48 ? void 0 : t48.focusOn) ? void 0 : n.targets, f = (null == (r = null == t48 ? void 0 : t48.focusOn) ? void 0 : r.options) || {}, g = { boundingBox: p4 }, m = null != (o3 = null == f ? void 0 : f.rotation) ? o3 : Yp, v4 = null == f ? void 0 : f.tilt, y4 = null != (s6 = null == f ? void 0 : f.easing) ? s6 : t310, x4 = null != (a = null == f ? void 0 : f.duration) ? a : e3, { min: _, max: b } = p4, E = [new K(_.x, _.y, _.z), new K(_.x, b.y, _.z), new K(b.x, _.y, _.z), new K(b.x, b.y, _.z), new K(_.x, _.y, b.z), new K(_.x, b.y, b.z), new K(b.x, _.y, b.z), new K(b.x, b.y, b.z)], { zoom: w4 } = o(this, Di).getCameraFrameForPoints(E, 1, 1, o(this, Di).cachedPadding, false);
      o(this, Di).controls.restrictZoomLimits(w4), o(this, Di).controls.expandZoomLimits(w4), e6 ? (o(this, Di).controls.setMulti(p4.center, w4, Yp, n3), i(void 0)) : null != t48 && t48.autoFocusOnActiveMap ? (null != d && (g = { ...d, points: (null == (l = null == d ? void 0 : d.coordinates) ? void 0 : l.map((t49) => o(this, Di).convertTo3DMapPosition({ x: t49.x, y: t49.y }))) || [] }), o(this, Di).focusOn({ ...g, ...f, duration: x4, rotation: m, doNotEmitFocusOnEvent: true, focusZoomFactor: 1, minZoom: null == f ? void 0 : f.minZoom, padding: f.safeAreaInsets, tilt: v4, curve: ua[y4], callback: () => {
        i(void 0);
      }, cancelledCallback: () => {
        i(void 0);
      } })) : (o(this, Di).tryRendering(), i(void 0));
    });
  }
  async preRender(t48) {
    this.currentMap = (null == t48 ? void 0 : t48.activeMap) || this.maps[0], this.transitionOptions = t48;
    let e6 = [];
    for (let t49 in this.mapObjectsByMapGroup)
      this.mapObjectsByMapGroup[t49].forEach((t50) => {
        e6.push(t50.load().then(() => {
          if (!o(this, Di).sceneManager.processedMapObjects.has(t50)) {
            let { position: e10, rotation: i, scale: n } = this.determineMapPositionAndRotation(t50.mapClass);
            t50.object.position.set(...e10), t50.object.rotation.set(...i), t50.object.scale.set(...n), t50.box = new Yt().setFromObject(t50.object), t50.object.name = t50.mapClass.id, o(this, Di).sceneManager.processedMapObjects.add(t50);
          }
          return t50;
        }).catch((t51) => {
          Le.error(t51);
        }));
      });
    return e6;
  }
  unmount() {
  }
  postRender() {
    o(this, Di).imageFlippingEnabled && (this.mapObjectsArray.forEach((t48) => {
      var e6;
      null == (e6 = o(this, Di).imageFlippingCache[t48.id]) || e6.forEach(([e10, i]) => {
        t48.enableImageFlipping(e10, i);
      });
    }), o(this, Di).publish(4, true));
  }
};
Di = /* @__PURE__ */ new WeakMap(), q(BN, "MapViewScene");
var RN = BN;
var Zc = RN;
c();
var wt;
var FN = u(Eu());
var kN = false;
var Mye = 2e3;
var Eye = 2e3;
var Tye = q(([t48, e6], [i, n]) => {
  let r = { x: t48, y: e6 }, o3 = i, s6 = n;
  function a(t49, e10) {
    let i10 = e10.x - t49.x, n10 = e10.y - t49.y;
    return Math.sqrt(i10 * i10 + n10 * n10);
  }
  return q(a, "distanceBetweenPoints"), a({ x: (r.x + o3) / 2, y: (r.y + s6) / 2 }, r);
}, "getRadiusOfSquare");
var qN = q((t48) => {
  let e6 = new K(), i = new K();
  for (let n10 of t48)
    e6.min(n10), i.max(n10);
  let n = new Ji(), r = new rn(new Float32Array(24), 3);
  for (let e10 = 0; e10 < 8; e10++) {
    let i10 = t48[e10].clone();
    r.setXYZ(e10, i10.x, i10.y, i10.z);
  }
  n.setAttribute("position", r);
  let o3 = new rn(new Uint16Array([0, 2, 1, 0, 3, 2, 1, 6, 5, 1, 2, 6, 5, 7, 4, 5, 6, 7, 4, 3, 0, 4, 7, 3, 3, 6, 2, 3, 7, 6, 0, 5, 4, 0, 1, 5]), 1);
  return n.setIndex(o3), n;
}, "createBoxFromPoints");
var iX = 50;
var zN = class extends Zc {
  constructor(t48, e6) {
    var i, n;
    super(t48, e6), w(this, wt, void 0), v(this, "containerBoxHelper"), v(this, "viewportBox"), v(this, "currentMapWrapperMesh"), v(this, "currentMapWrapperBoxHelper"), v(this, "viewportMesh"), v(this, "stackContainerMesh"), v(this, "currentMinTilt"), v(this, "hasOutdoorGeometry", false), v(this, "scrollToMap", q(async (t49, e10 = 500) => new Promise((i10) => {
      let n10 = this.mapObjects.get(t49.id);
      new FN.default.Tween({ z: o(this, wt).controls.getPedestal() }).to({ z: n10.object.position.z }, e10).easing(FN.default.Easing.Quadratic.InOut).onUpdate(({ z: t50 }) => {
        o(this, wt).controls.setPedestal(t50);
      }).onComplete(() => {
        o(this, wt).controls.setPedestal(o(this, wt).controls.getPedestal(), true), o(this, wt).tryRendering(), i10(void 0);
      }).start();
    }), "scrollToMap")), v(this, "updateFrame", q((t49) => {
      let e10 = this.containerBoxHelper.max.z, i10 = this.containerBoxHelper.min.z;
      t49.pedestal < e10 && t49.pedestal > i10 && (this.currentMapWrapperMesh.position.z = t49.pedestal, this.viewportMesh.position.z = t49.pedestal, this.currentMapWrapperBoxHelper.setFromObject(this.currentMapWrapperMesh), this.viewportBox.setFromObject(this.viewportMesh), this.mapObjects.forEach((t50) => {
        t50.box.setFromObject(t50.object), (this.currentMapWrapperBoxHelper.containsBox(t50.box) || this.currentMapWrapperBoxHelper.intersectsBox(t50.box)) && this.currentMap !== t50.mapClass && (this.currentMap = t50.mapClass, o(this, wt).publish(5, t50.mapClass));
      }), o(this, wt).controls.orbit.position.z = t49.pedestal, o(this, wt).tryRendering());
    }, "updateFrame")), v(this, "labels", /* @__PURE__ */ new Map()), v(this, "createMapLabels", q(() => {
      for (let t49 of this.mapObjects.values()) {
        let e10 = t49.object.position.clone(), i10 = Tye([this.containerBoxHelper.min.x, this.containerBoxHelper.min.y], [this.containerBoxHelper.max.x, this.containerBoxHelper.max.y]), n10 = Math.PI / 4, r6 = new K(Math.cos(n10) * i10, Math.sin(n10) * i10, 0), o3 = o(this, wt).cameraObject, s6 = new K();
        o3.getWorldDirection(s6);
        let a = new Ia().setFromUnitVectors(r6.clone().normalize(), s6.clone().cross(new K(0, 0, -1)).normalize()), l = e10.clone().add(r6.clone().applyQuaternion(a));
        l.z = t49.object.position.z;
        let u2 = new Bc(100, 100, 100), h = new ls({ color: "red" });
        new Ft(u2, h).position.copy(l);
        let c2 = o(this, wt).markers.addInternal(o(this, wt).convert3DMapPositionToCoordinate(l, t49.mapClass), `<div style="color: #333333; text-shadow: 0px 0px #efefef;font-family: 'Lato', sans-serif; font-size: 24px; font-weight: 300; line-height: 58px;">`.concat(t49.mapClass.shortName, "</div>"), { rank: 4 });
        c2.enable(), this.labels.set(t49, [r6, e10, c2]);
      }
      o(this, wt).controls.dispatcher.addEventListener(o(this, wt).controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.updateLabels);
    }, "createMapLabels")), v(this, "updateLabels", q(() => {
      let t49 = o(this, wt).cameraObject;
      t49.updateMatrixWorld(true), t49.updateProjectionMatrix();
      for (let [e10, [i10, n10, r6]] of this.labels) {
        let o3 = new K();
        t49.getWorldDirection(o3);
        let s6 = new Ia().setFromUnitVectors(i10.clone().normalize(), o3.clone().cross(new K(0, 0, -1)).normalize()), a = n10.clone().add(i10.clone().applyQuaternion(s6));
        o(this, wt).markers.setPosition(r6, o(this, wt).convert3DMapPositionToCoordinate(a, e10.mapClass), false);
      }
    }, "updateLabels")), v(this, "destroyLabels", q(() => {
      o(this, wt).controls.dispatcher.removeEventListener(o(this, wt).controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.updateLabels);
      for (let [t49, e10, i10] of this.labels.values())
        o(this, wt).smartCollisionEngine.remove(i10.id);
      o(this, wt).smartCollisionEngine.update(), this.labels = /* @__PURE__ */ new Map(), o(this, wt).tryRendering();
    }, "destroyLabels")), p(this, wt, e6), this.object.position.set(0, 0, 0);
    let r = null == (n = null == (i = o(this, wt).options) ? void 0 : i.loadOptions) ? void 0 : n.outdoorGeometryLayers;
    this.hasOutdoorGeometry = Array.isArray(r) && r.length > 0;
  }
  lockControls() {
    o(this, wt).controls.enablePedestal = true, o(this, wt).controls.enableRotate = true, o(this, wt).controls.enablePan = false, o(this, wt).controls.enableZoom = false;
    let { minTilt: t48 } = o(this, wt).controls;
    this.currentMinTilt = t48, o(this, wt).controls.minTilt = NN;
  }
  unlockControls() {
    var t48;
    o(this, wt).controls.enablePedestal = false, o(this, wt).controls.enableRotate = true, o(this, wt).controls.enablePan = true, o(this, wt).controls.enableZoom = true, o(this, wt).controls.minTilt = null != (t48 = this.currentMinTilt) ? t48 : o(this, wt).controls.minTilt;
  }
  createStackBoundingBox() {
    var t48, e6;
    let i = new pT(this.object, "rgba(160, 160, 160)");
    kN && o(this, wt).scene.add(i);
    let n = new Yt().setFromObject(i), r = (null != (e6 = null == (t48 = this.transitionOptions) ? void 0 : t48.verticalDistanceBetweenMaps) ? e6 : iX) / o(this, wt).venue.maps[0].scale, o3 = this.computeMapZ(this.mapObjectsArray[0], 0, this.transitionOptions), s6 = this.computeMapZ(this.mapObjectsArray[this.mapObjectsArray.length - 1], this.mapObjectsArray.length - 1, this.transitionOptions), a = [new K(n.min.x, n.min.y, o3), new K(n.min.x, n.max.y, o3), new K(n.max.x, n.min.y, o3), new K(n.max.x, n.max.y, o3), new K(n.min.x, n.min.y, s6), new K(n.min.x, n.max.y, s6), new K(n.max.x, n.min.y, s6), new K(n.max.x, n.max.y, s6)], l = new Ft(qN(a), new ls({ color: "blue", wireframe: true }));
    kN && o(this, wt).scene.add(l);
    let u2 = [new K(n.min.x, n.min.y, -r / 2), new K(n.min.x, n.max.y, -r / 2), new K(n.max.x, n.min.y, -r / 2), new K(n.max.x, n.max.y, -r / 2), new K(n.min.x, n.min.y, r / 2), new K(n.min.x, n.max.y, r / 2), new K(n.max.x, n.min.y, r / 2), new K(n.max.x, n.max.y, r / 2)], h = new Ft(qN(u2), new ls({ color: "red", wireframe: true }));
    h.visible = false, h.applyMatrix4(this.object.matrixWorld);
    let c2 = [new K(n.min.x, n.min.y, -550), new K(n.min.x, n.max.y, -550), new K(n.max.x, n.min.y, -550), new K(n.max.x, n.max.y, -550), new K(n.min.x, n.min.y, 550), new K(n.min.x, n.max.y, 550), new K(n.max.x, n.min.y, 550), new K(n.max.x, n.max.y, 550)], p4 = new Ft(qN(c2), new ls({ color: "blue", wireframe: true }));
    p4.visible = false, p4.applyMatrix4(this.object.matrixWorld), this.viewportBox = new Yt().setFromObject(p4), o(this, wt).scene.add(p4);
    let d = new Yt().setFromObject(h);
    o(this, wt).scene.add(h), this.stackContainerMesh = l, this.containerBoxHelper = new Yt().setFromObject(l), this.currentMapWrapperMesh = h, kN && (this.currentMapWrapperMesh.visible = true), this.currentMapWrapperBoxHelper = d, this.viewportMesh = p4;
    let f = o(this, wt).controls.getPedestal();
    this.currentMapWrapperMesh.position.z = f, this.viewportMesh.position.z = f, this.currentMapWrapperBoxHelper.setFromObject(this.currentMapWrapperMesh), this.viewportBox.setFromObject(this.viewportMesh);
  }
  focusOnStackBox(t48) {
    return new Promise((e6) => {
      var i, n, r, o3, s6;
      let a = (null == (i = null == t48 ? void 0 : t48.focusOn) ? void 0 : i.options) || {}, l = null != (n = null == a ? void 0 : a.rotation) ? n : Yp, u2 = null != (r = null == a ? void 0 : a.tilt) ? r : NN, h = null != (o3 = null == a ? void 0 : a.easing) ? o3 : t310, c2 = null != (s6 = null == a ? void 0 : a.duration) ? s6 : e3;
      o(this, wt).focusOn({ ...a, boundingBox: this.currentMapWrapperBoxHelper, duration: c2, rotation: l, padding: a.safeAreaInsets, tilt: u2, focusZoomFactor: 1, curve: ua[h], callback: () => {
        e6(void 0);
      } });
    });
  }
  unmount() {
    this.unlockControls(), o(this, wt).controls.dispatcher.removeEventListener(o(this, wt).controls.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT.type, this.updateFrame), o(this, wt).scene.remove(this.currentMapWrapperMesh), o(this, wt).scene.remove(this.viewportMesh), o(this, wt).scene.remove(this.currentMapWrapperBoxHelper), o(this, wt).scene.remove(this.viewportBox), o(this, wt).scene.remove(this.stackContainerMesh), this.destroyLabels();
  }
  computeMapZ(t48, e6, i) {
    var n;
    return (null != e6 ? e6 : t48.mapClass.elevation) * ((null != (n = null == i ? void 0 : i.verticalDistanceBetweenMaps) ? n : iX) / o(this, wt).referenceMap.scale);
  }
  async prepare(t48, e6) {
    await super.prepare(t48, e6);
  }
  postRender() {
    super.postRender(), this.createMapLabels(), o(this, wt).cameraObject.updateProjectionMatrix(), o(this, wt).controls.dispatcher.addEventListener(o(this, wt).controls.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT.type, this.updateFrame);
  }
  expandMaps(t48, e6) {
    var i, n;
    let r = this.mapObjects.get(this.currentMap.id), o3 = (null == (n = null == (i = null == e6 ? void 0 : e6.focusOn) ? void 0 : i.options) ? void 0 : n.duration) || Eye, s6 = t48.flatMap((t49, i10) => {
      if (t49 === r && this.hasOutdoorGeometry)
        return [t49.fadeOut("outdoor-geometry")];
      let n10 = this.computeMapZ(t49, i10, e6);
      this.object.add(t49.object);
      let s10 = [ll({ from: { z: r.object.position.z }, to: { z: n10 }, duration: o3, onUpdate: ({ z: e10 }) => {
        t49.object.position.z = e10, o(this, wt).tryRendering();
      } }), t49.fadeIn("default")];
      return this.hasOutdoorGeometry && s10.push(t49.fadeOut("outdoor-geometry")), s10;
    });
    return { start: () => Promise.all(s6.map((t49) => t49.start(o(this, wt)))) };
  }
  contractMaps(t48 = this.mapObjects.get(this.currentMap.id)) {
    var e6, i;
    let n = this.mapObjectsArray, r = this.transitionOptions, o3 = (null == (i = null == (e6 = null == r ? void 0 : r.focusOn) ? void 0 : e6.options) ? void 0 : i.duration) || Mye, s6 = n.flatMap((e10) => t48 === e10 ? { start: () => Promise.resolve() } : [ll({ from: { z: e10.object.position.z }, to: { z: t48.object.position.z }, duration: o3, onUpdate: ({ z: t49 }) => {
      e10.object.position.z = t49, o(this, wt).tryRendering();
    } }), e10.fadeOut()]);
    return { start: () => Promise.all(s6.map((t49) => t49.start(o(this, wt)))) };
  }
  resize() {
    this.focusOnStackBox({ focusOn: { options: { tilt: o(this, wt).controls.getTilt(), rotation: o(this, wt).controls.getRotation() } } });
  }
};
wt = /* @__PURE__ */ new WeakMap(), q(zN, "MapViewStackScene");
var UN = zN;
var l2 = UN;
c(), c();
var GN = class extends Uc {
  constructor(t48, e6 = {}) {
    let i = e6.font;
    if (void 0 === i)
      super();
    else {
      let n = i.generateShapes(t48, e6.size);
      e6.depth = void 0 !== e6.height ? e6.height : 50, void 0 === e6.bevelThickness && (e6.bevelThickness = 10), void 0 === e6.bevelSize && (e6.bevelSize = 8), void 0 === e6.bevelEnabled && (e6.bevelEnabled = false), super(n, e6);
    }
    this.type = "TextGeometry";
  }
};
q(GN, "TextGeometry");
var s3 = GN;
var Kc = u(hX());
c();
var XN = u(_X());
function wX(t48) {
  this.name = "JSClipperError", this.message = t48, this.stack = new Error().stack;
}
q(wX, "JSClipperError"), wX.prototype = Error.prototype, XN.default.Error = function(t48) {
  throw new wX(t48);
};
var p2 = XN.default;
c(), c();
var ZN = class {
  constructor(t48) {
    this.isFont = true, this.type = "Font", this.data = t48;
  }
  generateShapes(t48, e6 = 100) {
    let i = [], n = G2e(t48, e6, this.data);
    for (let t49 = 0, e10 = n.length; t49 < e10; t49++)
      i.push(...n[t49].toShapes());
    return i;
  }
};
q(ZN, "Font");
var c3 = ZN;
function G2e(t48, e6, i) {
  let n = Array.from(t48), r = e6 / i.resolution, o3 = (i.boundingBox.yMax - i.boundingBox.yMin + i.underlineThickness) * r, s6 = [], a = 0, l = 0;
  for (let t49 = 0; t49 < n.length; t49++) {
    let e10 = n[t49];
    if ("\n" === e10)
      a = 0, l -= o3;
    else {
      let t50 = V2e(e10, r, a, l, i);
      a += t50.offsetX, s6.push(t50.path);
    }
  }
  return s6;
}
function V2e(t48, e6, i, n, r) {
  let o3 = r.glyphs[t48] || r.glyphs["?"];
  if (!o3)
    return void console.error('THREE.Font: character "' + t48 + '" does not exists in font family ' + r.familyName + ".");
  let s6, a, l, u2, h, c2, p4, d, f = new dT();
  if (o3.o) {
    let t49 = o3._cachedOutline || (o3._cachedOutline = o3.o.split(" "));
    for (let r6 = 0, o6 = t49.length; r6 < o6; )
      switch (t49[r6++]) {
        case "m":
          s6 = t49[r6++] * e6 + i, a = t49[r6++] * e6 + n, f.moveTo(s6, a);
          break;
        case "l":
          s6 = t49[r6++] * e6 + i, a = t49[r6++] * e6 + n, f.lineTo(s6, a);
          break;
        case "q":
          l = t49[r6++] * e6 + i, u2 = t49[r6++] * e6 + n, h = t49[r6++] * e6 + i, c2 = t49[r6++] * e6 + n, f.quadraticCurveTo(h, c2, l, u2);
          break;
        case "b":
          l = t49[r6++] * e6 + i, u2 = t49[r6++] * e6 + n, h = t49[r6++] * e6 + i, c2 = t49[r6++] * e6 + n, p4 = t49[r6++] * e6 + i, d = t49[r6++] * e6 + n, f.bezierCurveTo(h, c2, p4, d, l, u2);
      }
  }
  return { offsetX: o3.ha * e6, path: f };
}
q(G2e, "createPaths"), q(V2e, "createPath");
var Hg = { glyphs: { 0: { ha: 765, x_min: 66, x_max: 700, o: "m 700 497 q 683 282 700 377 q 627 121 665 187 q 528 21 589 56 q 382 -14 468 -14 q 242 21 302 -14 q 144 121 183 56 q 86 282 105 187 q 66 497 66 377 q 84 712 66 617 q 139 872 101 807 q 236 972 176 938 q 382 1007 296 1007 q 522 973 463 1007 q 621 873 582 939 q 680 713 661 808 q 700 497 700 618 m 192 497 q 202 319 192 395 q 235 193 212 243 q 293 117 257 142 q 382 92 330 92 q 471 117 434 92 q 531 192 507 142 q 565 318 554 242 q 575 497 575 395 q 565 675 575 599 q 531 801 554 751 q 471 876 507 851 q 382 901 434 901 q 293 876 330 901 q 235 801 257 851 q 202 675 212 751 q 192 497 192 599 z " }, 1: { ha: 765, x_min: 121, x_max: 482, o: "m 482 0 l 363 0 l 363 619 q 363 682 363 648 q 365 748 363 715 q 367 811 366 781 q 368 864 368 841 q 348 843 357 852 q 330 826 339 834 q 311 809 321 818 q 286 787 300 800 l 186 705 l 121 789 l 380 991 l 482 991 l 482 0 z " }, 2: { ha: 765, x_min: 65, x_max: 684, o: "m 684 0 l 65 0 l 65 106 l 302 364 q 393 465 353 419 q 461 553 433 510 q 505 641 490 597 q 519 736 519 684 q 508 806 519 776 q 475 858 496 837 q 425 890 454 880 q 359 901 395 901 q 243 875 295 901 q 144 808 191 849 l 75 889 q 134 935 102 913 q 201 972 165 956 q 277 997 237 987 q 361 1006 317 1006 q 478 987 426 1006 q 568 935 531 969 q 624 851 604 901 q 644 741 644 802 q 626 631 644 683 q 577 528 608 578 q 502 427 545 477 q 407 321 458 376 l 216 118 l 216 113 l 684 113 l 684 0 z " }, 3: { ha: 765, x_min: 56, x_max: 682, o: "m 652 760 q 636 669 652 710 q 592 599 621 629 q 525 550 564 569 q 437 522 486 530 l 437 518 q 620 442 557 503 q 682 282 682 380 q 660 163 682 217 q 593 69 638 109 q 480 8 549 30 q 318 -14 412 -14 q 179 -2 244 -14 q 56 40 113 9 l 56 155 q 183 107 115 124 q 315 90 252 90 q 423 104 378 90 q 498 142 469 117 q 542 204 528 168 q 555 286 555 241 q 537 365 555 332 q 486 419 519 398 q 405 451 453 441 q 297 461 357 461 l 207 461 l 207 564 l 297 564 q 395 577 352 564 q 466 616 437 591 q 510 675 495 641 q 525 751 525 710 q 513 814 525 787 q 478 862 500 842 q 425 891 456 881 q 355 901 393 901 q 228 879 283 901 q 122 819 172 856 l 60 904 q 117 943 85 925 q 186 976 149 962 q 266 998 223 989 q 355 1006 308 1006 q 484 987 429 1006 q 576 936 539 969 q 633 858 614 903 q 652 760 652 813 z " }, 4: { ha: 765, x_min: 16, x_max: 737, o: "m 737 222 l 593 222 l 593 0 l 473 0 l 473 222 l 16 222 l 16 330 l 465 997 l 593 997 l 593 335 l 737 335 l 737 222 m 473 335 l 473 576 q 474 656 473 614 q 477 738 475 698 q 480 812 478 777 q 482 869 481 846 l 476 869 q 464 839 471 856 q 449 806 457 823 q 431 774 440 789 q 415 747 422 758 l 136 335 l 473 335 z " }, 5: { ha: 765, x_min: 89, x_max: 688, o: "m 370 608 q 495 590 437 608 q 596 534 553 571 q 663 444 639 498 q 688 318 688 389 q 665 179 688 241 q 596 75 642 117 q 484 9 551 32 q 330 -14 417 -14 q 262 -10 296 -14 q 198 0 229 -7 q 139 16 167 6 q 89 40 111 26 l 89 157 q 141 129 111 141 q 205 109 172 117 q 272 96 238 100 q 334 92 305 92 q 429 104 387 92 q 500 143 471 117 q 545 210 530 170 q 561 304 561 250 q 501 453 561 401 q 328 504 441 504 q 288 502 309 504 q 245 498 267 500 q 204 492 224 495 q 171 486 185 489 l 110 525 l 147 991 l 615 991 l 615 879 l 254 879 l 228 595 q 285 604 250 599 q 370 608 321 608 z " }, 6: { ha: 765, x_min: 77, x_max: 701, o: "m 77 424 q 84 566 77 495 q 109 701 91 636 q 158 821 127 766 q 237 918 189 877 q 353 982 286 959 q 510 1006 420 1006 q 538 1005 523 1006 q 570 1003 554 1004 q 601 999 586 1001 q 627 993 615 996 l 627 888 q 573 900 603 896 q 514 904 543 904 q 407 889 453 904 q 326 848 360 875 q 270 785 292 822 q 233 704 247 749 q 212 610 218 660 q 203 505 205 559 l 211 505 q 244 551 224 530 q 289 588 263 572 q 347 612 315 603 q 419 621 379 621 q 536 601 484 621 q 625 542 588 581 q 681 447 661 503 q 701 319 701 391 q 680 180 701 242 q 620 76 659 119 q 525 9 581 33 q 400 -14 469 -14 q 273 13 332 -14 q 170 94 214 39 q 102 230 127 148 q 77 424 77 312 m 399 90 q 473 104 439 90 q 531 146 507 118 q 569 217 555 174 q 582 319 582 260 q 571 405 582 367 q 537 469 559 442 q 481 509 515 495 q 403 524 448 524 q 320 508 357 524 q 256 466 282 492 q 215 408 229 441 q 200 343 200 376 q 213 253 200 298 q 250 172 225 208 q 312 113 275 136 q 399 90 349 90 z " }, 7: { ha: 765, x_min: 61, x_max: 699, o: "m 191 0 l 572 879 l 61 879 l 61 991 l 699 991 l 699 893 l 322 0 l 191 0 z " }, 8: { ha: 765, x_min: 72, x_max: 694, o: "m 383 1007 q 491 992 440 1007 q 579 947 541 977 q 640 873 618 918 q 663 768 663 828 q 649 686 663 723 q 612 620 635 650 q 555 567 588 591 q 485 525 523 544 q 562 478 524 504 q 629 420 600 452 q 676 348 659 388 q 694 258 694 308 q 672 145 694 196 q 608 60 649 95 q 510 5 567 24 q 383 -14 452 -14 q 251 5 309 -14 q 153 57 193 23 q 93 141 113 92 q 72 253 72 191 q 87 345 72 304 q 128 418 102 385 q 189 475 154 450 q 264 519 224 500 q 201 565 231 541 q 151 621 172 590 q 117 688 130 651 q 104 770 104 725 q 127 873 104 829 q 189 947 150 918 q 278 992 227 977 q 383 1007 328 1007 m 193 252 q 204 185 193 216 q 238 134 215 155 q 296 101 261 113 q 380 89 332 89 q 464 101 428 89 q 525 135 500 113 q 562 188 549 157 q 574 257 574 219 q 561 321 574 292 q 523 374 547 349 q 463 420 498 398 q 386 463 429 441 l 366 472 q 237 379 280 431 q 193 252 193 326 m 382 904 q 268 868 310 904 q 225 764 225 832 q 237 697 225 725 q 270 648 249 669 q 320 609 291 626 q 385 575 350 591 q 446 608 417 590 q 496 648 475 625 q 530 699 517 670 q 542 764 542 727 q 499 868 542 832 q 382 904 456 904 z " }, 9: { ha: 765, x_min: 72, x_max: 697, o: "m 697 568 q 690 426 697 497 q 665 291 683 355 q 616 171 647 227 q 536 74 585 115 q 421 10 488 33 q 264 -14 354 -14 q 235 -13 251 -14 q 204 -11 220 -12 q 174 -7 189 -9 q 147 -1 159 -5 l 147 104 q 201 92 171 96 q 260 87 231 87 q 410 119 351 87 q 504 206 469 151 q 553 333 538 260 q 571 486 568 406 l 562 486 q 530 441 549 462 q 485 404 511 420 q 427 380 459 389 q 354 371 394 371 q 237 391 290 371 q 149 450 185 411 q 92 544 112 488 q 72 672 72 600 q 93 811 72 749 q 154 917 115 873 q 249 983 193 960 q 374 1006 304 1006 q 501 979 442 1006 q 604 899 560 953 q 672 762 647 844 q 697 568 697 680 m 375 901 q 301 888 334 901 q 243 846 267 874 q 205 774 218 817 q 192 672 192 731 q 203 587 192 625 q 237 523 214 549 q 293 482 259 496 q 371 468 326 468 q 454 484 417 468 q 518 525 492 500 q 559 583 545 551 q 574 648 574 616 q 561 739 574 694 q 524 820 549 784 q 462 879 499 857 q 375 901 425 901 z " }, " ": { ha: 361, x_min: 0, x_max: 0, o: "" }, "!": { ha: 374, x_min: 100, x_max: 272, o: "m 228 281 l 146 281 l 111 991 l 262 991 l 228 281 m 100 75 q 106 119 100 101 q 125 148 113 137 q 152 164 136 159 q 186 170 168 170 q 219 164 203 170 q 247 148 235 159 q 265 119 258 137 q 272 75 272 101 q 265 32 272 50 q 247 3 258 14 q 219 -14 235 -9 q 186 -20 203 -20 q 152 -14 168 -20 q 125 3 136 -9 q 106 32 113 14 q 100 75 100 50 z " }, '"': { ha: 558, x_min: 90, x_max: 468, o: "m 224 991 l 196 633 l 118 633 l 90 991 l 224 991 m 468 991 l 440 633 l 363 633 l 335 991 l 468 991 z " }, "#": { ha: 897, x_min: 35, x_max: 863, o: "m 667 606 l 624 383 l 814 383 l 814 290 l 606 290 l 550 0 l 450 0 l 507 290 l 310 290 l 254 0 l 157 0 l 210 290 l 35 290 l 35 383 l 228 383 l 272 606 l 86 606 l 86 699 l 289 699 l 345 991 l 444 991 l 389 699 l 587 699 l 644 991 l 742 991 l 685 699 l 863 699 l 863 606 l 667 606 m 328 383 l 525 383 l 568 606 l 371 606 l 328 383 z " }, $: { ha: 765, x_min: 83, x_max: 668, o: "m 668 302 q 651 216 668 255 q 603 149 634 178 q 526 102 571 121 q 424 75 481 83 l 424 -81 l 330 -81 l 330 69 q 262 72 296 69 q 195 81 227 75 q 134 96 162 87 q 83 117 105 105 l 83 233 q 135 211 106 222 q 197 191 165 200 q 264 177 230 182 q 330 171 298 171 l 330 465 q 225 508 270 486 q 152 559 181 530 q 109 625 123 588 q 94 713 94 663 q 111 796 94 758 q 158 862 127 833 q 233 908 189 890 q 330 932 277 926 l 330 1054 l 424 1054 l 424 935 q 549 917 492 931 q 652 882 606 903 l 607 783 q 522 814 569 800 q 424 832 474 828 l 424 546 q 529 503 484 525 q 606 452 575 480 q 652 388 637 424 q 668 302 668 351 m 549 302 q 542 343 549 325 q 520 377 535 362 q 482 406 506 393 q 424 431 458 418 l 424 178 q 518 220 487 187 q 549 302 549 254 m 214 711 q 219 668 214 687 q 239 632 225 648 q 275 604 252 616 q 330 579 297 591 l 330 829 q 242 788 270 819 q 214 711 214 758 z " }, "%": { ha: 1146, x_min: 69, x_max: 1076, o: "m 170 696 q 194 528 170 584 q 272 472 218 472 q 378 696 378 472 q 272 918 378 918 q 194 863 218 918 q 170 696 170 808 m 478 696 q 466 564 478 623 q 429 466 454 506 q 365 405 404 426 q 272 383 326 383 q 184 405 222 383 q 121 466 146 426 q 82 564 95 506 q 69 696 69 623 q 81 827 69 769 q 118 924 93 884 q 181 985 142 964 q 272 1006 219 1006 q 361 985 323 1006 q 426 924 399 964 q 465 827 452 884 q 478 696 478 769 m 768 298 q 792 131 768 186 q 871 75 817 75 q 977 298 977 75 q 871 521 977 521 q 792 466 817 521 q 768 298 768 410 m 1076 298 q 1064 167 1076 225 q 1027 69 1053 109 q 963 8 1002 29 q 871 -14 924 -14 q 783 8 821 -14 q 719 69 745 29 q 681 167 694 109 q 668 298 668 225 q 680 429 668 372 q 716 527 692 487 q 780 587 741 566 q 871 608 818 608 q 960 587 922 608 q 1024 527 998 566 q 1063 429 1050 487 q 1076 298 1076 372 m 903 991 l 353 0 l 245 0 l 796 991 l 903 991 z " }, "&": { ha: 975, x_min: 74, x_max: 953, o: "m 286 790 q 292 745 286 767 q 308 701 297 723 q 337 656 319 679 q 379 608 355 633 q 448 653 419 632 q 496 696 477 674 q 525 741 515 718 q 534 793 534 765 q 526 838 534 817 q 502 873 517 859 q 463 897 486 888 q 412 905 441 905 q 320 875 354 905 q 286 790 286 845 m 378 96 q 450 103 417 96 q 512 125 484 111 q 565 157 541 138 q 611 196 589 175 l 349 472 q 286 428 313 450 q 240 382 259 407 q 212 329 222 358 q 203 262 203 300 q 215 195 203 226 q 249 142 227 164 q 304 108 271 120 q 378 96 336 96 m 74 258 q 87 353 74 311 q 127 428 101 394 q 191 491 153 462 q 277 549 229 520 q 235 599 256 573 q 200 655 215 625 q 175 718 184 684 q 165 790 165 751 q 182 881 165 841 q 231 950 199 922 q 310 992 263 978 q 416 1007 357 1007 q 517 992 473 1007 q 592 950 562 978 q 640 881 623 922 q 656 790 656 841 q 639 710 656 747 q 593 641 622 673 q 528 583 565 610 q 450 532 491 556 l 689 279 q 722 319 707 299 q 748 363 736 340 q 769 412 760 386 q 785 471 778 439 l 909 471 q 885 388 899 426 q 853 317 871 351 q 813 255 836 284 q 765 199 791 227 l 953 0 l 800 0 l 686 117 q 621 62 653 86 q 551 21 588 38 q 473 -4 515 5 q 378 -14 431 -14 q 250 4 307 -14 q 154 57 193 22 q 95 143 115 92 q 74 258 74 193 z " }, "'": { ha: 314, x_min: 90, x_max: 224, o: "m 224 991 l 196 633 l 118 633 l 90 991 l 224 991 z " }, "(": { ha: 418, x_min: 56, x_max: 376, o: "m 56 380 q 68 548 56 465 q 105 708 80 630 q 169 857 130 785 q 260 991 207 928 l 376 991 q 232 704 281 861 q 183 382 183 547 q 196 221 183 301 q 232 64 208 141 q 292 -84 256 -12 q 375 -220 328 -156 l 260 -220 q 169 -89 207 -159 q 105 57 130 -19 q 68 215 80 134 q 56 380 56 296 z " }, ")": { ha: 418, x_min: 41, x_max: 363, o: "m 363 380 q 351 215 363 296 q 313 57 338 134 q 249 -89 288 -19 q 158 -220 211 -159 l 43 -220 q 125 -84 90 -156 q 186 64 161 -12 q 222 221 210 141 q 235 382 235 301 q 186 704 235 547 q 41 991 137 861 l 158 991 q 249 857 211 928 q 313 708 288 785 q 351 548 338 630 q 363 380 363 465 z " }, "*": { ha: 765, x_min: 56, x_max: 708, o: "m 450 1055 l 421 789 l 690 864 l 708 733 l 452 714 l 618 493 l 497 428 l 378 671 l 271 428 l 146 493 l 310 714 l 56 733 l 75 864 l 340 789 l 311 1055 l 450 1055 z " }, "+": { ha: 765, x_min: 69, x_max: 696, o: "m 332 439 l 69 439 l 69 541 l 332 541 l 332 804 l 433 804 l 433 541 l 696 541 l 696 439 l 433 439 l 433 178 l 332 178 l 332 439 z " }, ",": { ha: 347, x_min: 43, x_max: 256, o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 z " }, "-": { ha: 447, x_min: 56, x_max: 392, o: "m 56 315 l 56 429 l 392 429 l 392 315 l 56 315 z " }, ".": { ha: 372, x_min: 100, x_max: 272, o: "m 100 75 q 106 119 100 101 q 125 148 113 137 q 152 164 136 159 q 186 170 168 170 q 219 164 203 170 q 247 148 235 159 q 265 119 258 137 q 272 75 272 101 q 265 32 272 50 q 247 3 258 14 q 219 -14 235 -9 q 186 -20 203 -20 q 152 -14 168 -20 q 125 3 136 -9 q 106 32 113 14 q 100 75 100 50 z " }, "/": { ha: 518, x_min: 14, x_max: 504, o: "m 504 991 l 135 0 l 14 0 l 383 991 l 504 991 z " }, ":": { ha: 372, x_min: 100, x_max: 272, o: "m 100 75 q 106 119 100 101 q 125 148 113 137 q 152 164 136 159 q 186 170 168 170 q 219 164 203 170 q 247 148 235 159 q 265 119 258 137 q 272 75 272 101 q 265 32 272 50 q 247 3 258 14 q 219 -14 235 -9 q 186 -20 203 -20 q 152 -14 168 -20 q 125 3 136 -9 q 106 32 113 14 q 100 75 100 50 m 100 669 q 106 714 100 696 q 125 743 113 732 q 152 759 136 754 q 186 764 168 764 q 219 759 203 764 q 247 743 235 754 q 265 714 258 732 q 272 669 272 696 q 265 627 272 644 q 247 597 258 609 q 219 581 235 586 q 186 575 203 575 q 152 581 168 575 q 125 597 136 586 q 106 627 113 609 q 100 669 100 644 z " }, ";": { ha: 372, x_min: 43, x_max: 272, o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 m 100 669 q 106 714 100 696 q 125 743 113 732 q 152 759 136 754 q 186 764 168 764 q 219 759 203 764 q 247 743 235 754 q 265 714 258 732 q 272 669 272 696 q 265 627 272 644 q 247 597 258 609 q 219 581 235 586 q 186 575 203 575 q 152 581 168 575 q 125 597 136 586 q 106 627 113 609 q 100 669 100 644 z " }, "<": { ha: 765, x_min: 69, x_max: 696, o: "m 696 161 l 69 449 l 69 518 l 696 844 l 696 736 l 197 489 l 696 271 l 696 161 z " }, "=": { ha: 765, x_min: 69, x_max: 696, o: "m 69 578 l 69 679 l 696 679 l 696 578 l 69 578 m 69 300 l 69 401 l 696 401 l 696 300 l 69 300 z " }, ">": { ha: 765, x_min: 69, x_max: 696, o: "m 69 271 l 568 489 l 69 736 l 69 844 l 696 518 l 696 449 l 69 161 l 69 271 z " }, "?": { ha: 591, x_min: 25, x_max: 546, o: "m 191 281 l 191 306 q 196 376 191 345 q 214 434 201 407 q 250 487 227 461 q 306 542 272 513 q 361 592 338 570 q 399 638 385 615 q 421 689 414 662 q 428 751 428 715 q 418 811 428 784 q 388 857 408 838 q 340 887 369 876 q 273 897 311 897 q 166 880 217 897 q 68 839 115 862 l 25 937 q 144 986 80 966 q 273 1006 208 1006 q 387 988 336 1006 q 473 939 437 971 q 527 859 508 906 q 546 753 546 812 q 537 672 546 707 q 509 606 528 636 q 464 547 491 575 q 400 486 437 518 q 342 433 365 456 q 307 389 320 410 q 290 345 294 368 q 285 293 285 323 l 285 281 l 191 281 m 158 75 q 165 119 158 101 q 183 148 172 137 q 210 164 195 159 q 244 170 226 170 q 278 164 262 170 q 305 148 294 159 q 323 119 317 137 q 330 75 330 101 q 323 32 330 50 q 305 3 317 14 q 278 -14 294 -9 q 244 -20 262 -20 q 210 -14 226 -20 q 183 3 195 -9 q 165 32 172 14 q 158 75 158 50 z " }, "@": { ha: 1203, x_min: 74, x_max: 1129, o: "m 1129 496 q 1123 411 1129 454 q 1104 331 1116 369 q 1072 259 1091 292 q 1027 202 1053 227 q 968 164 1001 178 q 896 150 935 150 q 841 160 865 150 q 798 187 816 170 q 769 226 781 204 q 754 272 758 248 l 751 272 q 721 224 739 247 q 679 185 703 202 q 624 159 654 169 q 558 150 594 150 q 466 169 506 150 q 397 222 425 188 q 355 304 370 256 q 340 411 340 353 q 360 536 340 479 q 418 635 380 593 q 509 699 456 676 q 629 722 563 722 q 690 720 660 722 q 749 712 721 717 q 800 702 777 707 q 839 690 823 696 l 823 408 q 822 384 823 393 q 822 370 822 375 q 822 361 822 364 q 822 357 822 359 q 829 298 822 321 q 848 261 836 275 q 874 242 859 248 q 904 237 888 237 q 959 258 935 237 q 999 314 983 279 q 1023 397 1015 349 q 1031 497 1031 444 q 1002 668 1031 593 q 921 795 972 743 q 799 873 869 846 q 644 900 728 900 q 442 862 530 900 q 295 757 355 825 q 205 597 236 690 q 175 395 175 505 q 202 213 175 292 q 280 79 229 134 q 409 -3 332 25 q 586 -31 486 -31 q 668 -26 627 -31 q 746 -13 708 -21 q 817 6 783 -5 q 880 28 851 16 l 880 -68 q 749 -109 822 -94 q 587 -123 675 -123 q 371 -89 466 -123 q 209 12 275 -54 q 109 173 143 78 q 74 390 74 269 q 114 628 74 517 q 228 819 154 738 q 408 945 302 899 q 644 991 513 991 q 839 957 750 991 q 992 859 928 923 q 1093 703 1057 795 q 1129 496 1129 611 m 449 408 q 483 278 449 318 q 575 237 517 237 q 639 253 612 237 q 682 296 665 268 q 708 363 699 324 q 720 449 717 402 l 729 621 q 684 630 710 626 q 629 635 658 635 q 545 615 579 635 q 489 564 511 595 q 458 491 468 532 q 449 408 449 450 z " }, A: { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 z " }, B: { ha: 863, x_min: 135, x_max: 786, o: "m 135 991 l 406 991 q 558 978 492 991 q 669 936 625 965 q 736 858 713 906 q 758 741 758 810 q 745 662 758 699 q 707 597 732 625 q 645 551 682 570 q 561 526 608 532 l 561 519 q 649 496 608 511 q 720 454 690 481 q 768 387 751 427 q 786 288 786 346 q 764 166 786 220 q 700 76 742 113 q 599 20 659 39 q 464 0 539 0 l 135 0 l 135 991 m 261 571 l 427 571 q 522 581 484 571 q 585 611 561 591 q 619 662 608 631 q 629 732 629 692 q 577 848 629 813 q 412 884 525 884 l 261 884 l 261 571 m 261 465 l 261 107 l 441 107 q 542 121 501 107 q 607 159 582 134 q 642 217 631 183 q 653 293 653 252 q 642 363 653 331 q 605 417 631 395 q 538 453 580 440 q 433 465 496 465 l 261 465 z " }, C: { ha: 838, x_min: 85, x_max: 798, o: "m 538 895 q 406 867 465 895 q 306 788 347 840 q 241 663 264 736 q 218 496 218 589 q 238 326 218 400 q 298 201 258 252 q 398 123 338 150 q 538 97 458 97 q 652 109 598 97 q 760 136 707 121 l 760 26 q 707 8 733 16 q 651 -4 680 1 q 590 -11 623 -9 q 517 -14 557 -14 q 324 23 406 -14 q 190 127 243 60 q 111 288 136 194 q 85 497 85 382 q 114 703 85 610 q 201 864 144 797 q 343 968 258 931 q 538 1006 428 1006 q 677 991 611 1006 q 798 947 744 976 l 745 842 q 652 879 702 863 q 538 895 602 895 z " }, D: { ha: 950, x_min: 135, x_max: 865, o: "m 865 505 q 833 285 865 380 q 739 127 800 191 q 587 32 677 64 q 383 0 497 0 l 135 0 l 135 991 l 411 991 q 599 960 515 991 q 742 868 683 929 q 833 715 801 806 q 865 505 865 625 m 732 501 q 709 672 732 600 q 644 791 687 745 q 539 861 602 838 q 397 884 477 884 l 261 884 l 261 109 l 371 109 q 641 208 550 109 q 732 501 732 307 z " }, E: { ha: 733, x_min: 135, x_max: 650, o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 z " }, F: { ha: 682, x_min: 135, x_max: 650, o: "m 261 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 530 l 624 530 l 624 419 l 261 419 l 261 0 z " }, G: { ha: 958, x_min: 85, x_max: 859, o: "m 530 524 l 859 524 l 859 37 q 783 16 821 25 q 705 0 745 6 q 621 -10 665 -7 q 526 -14 577 -14 q 338 22 420 -14 q 199 124 256 58 q 114 284 143 190 q 85 497 85 379 q 117 708 85 614 q 211 868 149 802 q 363 970 273 935 q 570 1006 454 1006 q 714 991 645 1006 q 843 947 783 976 l 794 838 q 742 859 770 849 q 684 877 713 869 q 622 890 654 885 q 559 895 591 895 q 413 867 477 895 q 306 788 349 840 q 241 663 263 736 q 218 496 218 589 q 237 334 218 408 q 296 208 256 261 q 401 126 337 155 q 557 97 466 97 q 611 99 587 97 q 657 103 636 100 q 697 110 678 106 q 733 117 715 113 l 733 412 l 530 412 l 530 524 z " }, H: { ha: 974, x_min: 135, x_max: 839, o: "m 839 0 l 713 0 l 713 463 l 261 463 l 261 0 l 135 0 l 135 991 l 261 991 l 261 574 l 713 574 l 713 991 l 839 991 l 839 0 z " }, I: { ha: 471, x_min: 56, x_max: 415, o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 z " }, J: { ha: 376, x_min: -125, x_max: 252, o: "m -20 -264 q -80 -259 -54 -264 q -125 -248 -106 -255 l -125 -139 q -75 -149 -102 -145 q -18 -153 -49 -153 q 32 -146 7 -153 q 78 -123 58 -140 q 112 -76 99 -106 q 125 0 125 -46 l 125 991 l 252 991 l 252 14 q 232 -110 252 -58 q 176 -196 212 -162 q 91 -247 140 -231 q -20 -264 41 -264 z " }, K: { ha: 804, x_min: 135, x_max: 804, o: "m 804 0 l 661 0 l 355 473 l 261 396 l 261 0 l 135 0 l 135 991 l 261 991 l 261 496 l 343 610 l 650 991 l 791 991 l 439 559 l 804 0 z " }, L: { ha: 682, x_min: 135, x_max: 650, o: "m 135 0 l 135 991 l 261 991 l 261 113 l 650 113 l 650 0 l 135 0 z " }, M: { ha: 1208, x_min: 135, x_max: 1074, o: "m 545 0 l 244 868 l 239 868 q 245 768 243 818 q 250 679 248 726 q 252 593 252 631 l 252 0 l 135 0 l 135 991 l 322 991 l 602 183 l 606 183 l 886 991 l 1074 991 l 1074 0 l 947 0 l 947 602 q 949 682 947 637 q 952 769 950 728 q 957 867 955 817 l 951 867 l 648 0 l 545 0 z " }, N: { ha: 1013, x_min: 135, x_max: 878, o: "m 878 0 l 732 0 l 244 821 l 239 821 q 245 717 243 768 q 250 625 248 673 q 252 538 252 576 l 252 0 l 135 0 l 135 991 l 279 991 l 765 175 l 770 175 q 765 277 768 227 q 763 321 764 298 q 761 367 762 344 q 760 410 760 389 q 760 449 760 431 l 760 991 l 878 991 l 878 0 z " }, O: { ha: 1031, x_min: 85, x_max: 945, o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 z " }, P: { ha: 800, x_min: 135, x_max: 729, o: "m 729 701 q 710 583 729 640 q 649 482 692 526 q 536 412 606 438 q 363 386 466 386 l 261 386 l 261 0 l 135 0 l 135 991 l 380 991 q 537 972 471 991 q 646 916 603 953 q 709 825 688 879 q 729 701 729 770 m 261 493 l 349 493 q 459 504 412 493 q 537 539 506 515 q 583 601 568 563 q 599 694 599 640 q 543 837 599 791 q 370 884 488 884 l 261 884 l 261 493 z " }, Q: { ha: 1029, x_min: 85, x_max: 945, o: "m 945 497 q 928 332 945 408 q 879 194 911 255 q 799 87 847 132 q 688 17 751 43 q 763 -95 717 -47 q 871 -184 810 -144 l 789 -281 q 660 -164 719 -231 q 567 -11 602 -97 q 542 -13 555 -12 q 515 -14 528 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 z " }, R: { ha: 819, x_min: 135, x_max: 803, o: "m 261 410 l 261 0 l 135 0 l 135 991 l 376 991 q 643 922 557 991 q 729 710 729 852 q 712 607 729 651 q 668 531 696 563 q 606 479 641 500 q 533 444 570 458 l 803 0 l 654 0 l 416 410 l 261 410 m 261 517 l 372 517 q 476 529 433 517 q 546 564 519 541 q 586 622 574 587 q 599 704 599 657 q 585 787 599 753 q 543 842 571 821 q 472 874 515 864 q 370 884 429 884 l 261 884 l 261 517 z " }, S: { ha: 721, x_min: 71, x_max: 657, o: "m 657 265 q 634 148 657 199 q 567 60 610 96 q 461 5 524 24 q 321 -14 399 -14 q 180 -2 245 -14 q 71 33 115 10 l 71 154 q 123 133 94 143 q 185 114 153 122 q 252 101 218 106 q 321 96 287 96 q 481 136 429 96 q 533 253 533 177 q 523 317 533 290 q 489 367 513 344 q 422 411 464 389 q 318 457 381 432 q 213 509 258 481 q 140 572 169 537 q 97 652 111 608 q 83 754 83 697 q 105 861 83 814 q 166 940 127 907 q 260 989 205 972 q 380 1006 315 1006 q 526 990 461 1006 q 640 951 590 975 l 595 846 q 495 880 551 865 q 379 895 439 895 q 251 856 296 895 q 205 753 205 818 q 216 686 205 714 q 250 635 226 658 q 312 592 273 612 q 408 550 351 572 q 516 500 470 526 q 594 441 563 474 q 641 366 625 409 q 657 265 657 323 z " }, T: { ha: 721, x_min: 14, x_max: 707, o: "m 424 0 l 297 0 l 297 880 l 14 880 l 14 991 l 707 991 l 707 880 l 424 880 l 424 0 z " }, U: { ha: 970, x_min: 125, x_max: 844, o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 z " }, V: { ha: 789, x_min: 0, x_max: 789, o: "m 654 991 l 789 991 l 457 0 l 330 0 l 0 991 l 134 991 l 334 363 q 368 244 353 301 q 393 136 382 186 q 419 244 404 186 q 456 367 435 301 l 654 991 z " }, W: { ha: 1227, x_min: 14, x_max: 1214, o: "m 549 991 l 682 991 l 838 411 q 858 335 848 373 q 876 261 867 297 q 891 194 884 226 q 901 136 897 162 q 908 193 904 162 q 918 257 912 223 q 929 325 923 290 q 943 393 936 360 l 1079 991 l 1214 991 l 965 0 l 838 0 l 665 636 q 647 707 656 671 q 631 776 638 744 q 615 848 623 813 q 600 777 608 814 q 585 707 593 745 q 567 632 576 669 l 403 0 l 275 0 l 14 991 l 147 991 l 298 389 q 313 324 307 357 q 326 257 320 290 q 336 193 332 224 q 345 136 341 162 q 353 195 348 161 q 365 264 358 228 q 379 339 372 301 q 396 410 387 376 l 549 991 z " }, X: { ha: 760, x_min: 0, x_max: 760, o: "m 760 0 l 616 0 l 376 431 l 127 0 l 0 0 l 307 518 l 21 991 l 155 991 l 380 612 l 607 991 l 736 991 l 450 522 l 760 0 z " }, Y: { ha: 732, x_min: 0, x_max: 732, o: "m 366 490 l 596 991 l 732 991 l 429 386 l 429 0 l 302 0 l 302 379 l 0 991 l 138 991 l 366 490 z " }, Z: { ha: 749, x_min: 56, x_max: 693, o: "m 693 0 l 56 0 l 56 98 l 538 879 l 69 879 l 69 991 l 679 991 l 679 893 l 197 113 l 693 113 l 693 0 z " }, "[": { ha: 421, x_min: 111, x_max: 386, o: "m 386 -220 l 111 -220 l 111 991 l 386 991 l 386 890 l 235 890 l 235 -118 l 386 -118 l 386 -220 z " }, "\\": { ha: 518, x_min: 16, x_max: 505, o: "m 136 991 l 505 0 l 385 0 l 16 991 l 136 991 z " }, "]": { ha: 421, x_min: 35, x_max: 310, o: "m 35 -118 l 186 -118 l 186 890 l 35 890 l 35 991 l 310 991 l 310 -220 l 35 -220 l 35 -118 z " }, "^": { ha: 739, x_min: 28, x_max: 711, o: "m 28 372 l 339 999 l 408 999 l 711 372 l 602 372 l 374 871 l 137 372 l 28 372 z " }, _: { ha: 571, x_min: -3, x_max: 574, o: "m 574 -220 l -3 -220 l -3 -125 l 574 -125 l 574 -220 z " }, "`": { ha: 802, x_min: 267, x_max: 533, o: "m 533 842 l 452 842 q 400 889 428 861 q 346 947 372 917 q 299 1004 320 977 q 267 1050 277 1031 l 267 1064 l 415 1064 q 440 1014 426 1041 q 471 959 455 986 q 503 905 486 931 q 533 860 519 880 l 533 842 z " }, a: { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 z " }, b: { ha: 814, x_min: 118, x_max: 737, o: "m 454 758 q 570 734 518 758 q 660 661 623 709 q 717 541 696 612 q 737 374 737 469 q 717 206 737 278 q 660 85 696 134 q 570 11 623 36 q 454 -14 518 -14 q 382 -5 414 -14 q 323 19 349 4 q 277 53 297 33 q 241 94 257 73 l 233 94 l 208 0 l 118 0 l 118 1055 l 241 1055 l 241 800 q 241 750 241 777 q 239 700 240 723 q 236 647 237 673 l 241 647 q 277 691 257 671 q 322 726 296 711 q 381 750 349 741 q 454 758 414 758 m 431 656 q 340 638 376 656 q 282 586 304 621 q 251 498 260 551 q 241 374 241 445 q 251 252 241 305 q 282 162 260 199 q 340 107 304 126 q 432 89 377 89 q 567 163 524 89 q 610 375 610 237 q 567 586 610 516 q 431 656 524 656 z " }, c: { ha: 643, x_min: 77, x_max: 596, o: "m 403 -14 q 275 8 334 -14 q 171 76 215 29 q 102 194 127 122 q 77 368 77 267 q 102 549 77 475 q 173 670 128 623 q 279 737 218 716 q 408 758 339 758 q 512 747 461 758 q 596 718 562 735 l 559 614 q 525 627 544 621 q 486 638 506 633 q 446 647 465 644 q 408 650 426 650 q 253 582 302 650 q 204 370 204 513 q 253 160 204 227 q 403 94 302 94 q 502 107 458 94 q 583 136 547 119 l 583 26 q 505 -3 547 7 q 403 -14 463 -14 z " }, d: { ha: 814, x_min: 77, x_max: 696, o: "m 578 100 l 572 100 q 537 56 557 77 q 491 20 517 35 q 433 -5 465 4 q 359 -14 400 -14 q 244 11 296 -14 q 155 84 192 35 q 97 204 117 132 q 77 371 77 276 q 97 539 77 467 q 155 660 117 611 q 244 733 192 709 q 359 758 296 758 q 432 749 399 758 q 491 726 465 741 q 537 691 517 711 q 572 650 557 671 l 581 650 q 576 694 578 673 q 574 730 575 711 q 572 760 572 749 l 572 1055 l 696 1055 l 696 0 l 596 0 l 578 100 m 383 89 q 470 104 435 89 q 528 152 506 120 q 561 232 550 184 q 572 343 571 279 l 572 371 q 563 493 572 439 q 532 582 554 546 q 473 637 510 618 q 382 656 437 656 q 247 582 290 656 q 204 370 204 508 q 247 158 204 228 q 383 89 290 89 z " }, e: { ha: 743, x_min: 77, x_max: 673, o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 z " }, f: { ha: 457, x_min: 20, x_max: 510, o: "m 441 652 l 275 652 l 275 0 l 151 0 l 151 652 l 20 652 l 20 703 l 151 749 l 151 814 q 166 934 151 886 q 211 1010 182 982 q 281 1051 239 1039 q 376 1063 323 1063 q 450 1055 416 1063 q 510 1038 484 1047 l 478 942 q 432 955 457 949 q 380 961 408 961 q 334 955 353 961 q 301 932 314 948 q 282 887 288 916 q 275 815 275 859 l 275 745 l 441 745 l 441 652 z " }, g: { ha: 720, x_min: 25, x_max: 692, o: "m 692 745 l 692 668 l 558 650 q 590 589 577 626 q 603 505 603 552 q 587 410 603 454 q 539 334 571 366 q 459 284 507 302 q 349 267 412 267 q 319 267 334 267 q 294 269 304 267 q 272 254 283 262 q 251 235 260 245 q 236 210 242 224 q 231 180 231 197 q 239 151 231 162 q 261 134 247 140 q 294 125 275 127 q 334 123 313 123 l 453 123 q 559 107 516 123 q 630 64 603 92 q 670 0 658 37 q 682 -78 682 -37 q 660 -185 682 -138 q 593 -266 638 -233 q 478 -316 547 -298 q 314 -334 408 -334 q 187 -319 241 -334 q 97 -278 133 -305 q 43 -213 61 -251 q 25 -126 25 -174 q 38 -55 25 -85 q 74 -1 52 -24 q 126 35 96 21 q 187 57 155 50 q 140 98 159 70 q 122 161 122 125 q 144 233 122 203 q 212 292 165 263 q 159 325 183 304 q 118 374 135 347 q 93 434 102 401 q 83 501 83 467 q 100 609 83 562 q 151 690 117 656 q 233 741 184 723 q 349 758 283 758 q 400 754 374 758 q 446 745 427 751 l 692 745 m 142 -122 q 151 -169 142 -147 q 179 -206 159 -191 q 232 -231 199 -222 q 314 -240 265 -240 q 503 -201 440 -240 q 566 -89 566 -162 q 557 -38 566 -58 q 531 -7 549 -18 q 481 8 512 4 q 407 12 451 12 l 288 12 q 238 7 264 12 q 191 -14 212 1 q 156 -55 170 -28 q 142 -122 142 -81 m 204 505 q 241 389 204 427 q 345 351 277 351 q 447 389 412 351 q 482 507 482 427 q 447 630 482 591 q 343 669 411 669 q 240 629 276 669 q 204 505 204 588 z " }, h: { ha: 818, x_min: 118, x_max: 707, o: "m 583 0 l 583 479 q 548 612 583 568 q 436 656 512 656 q 344 638 381 656 q 284 586 307 621 q 251 501 261 551 q 241 386 241 451 l 241 0 l 118 0 l 118 1055 l 241 1055 l 241 742 l 236 644 l 243 644 q 283 695 260 673 q 334 730 307 716 q 393 751 362 745 q 457 758 425 758 q 644 693 581 758 q 707 486 707 629 l 707 0 l 583 0 z " }, i: { ha: 359, x_min: 109, x_max: 253, o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 109 946 q 129 1005 109 987 q 180 1023 150 1023 q 209 1019 195 1023 q 232 1005 222 1015 q 247 981 241 996 q 253 946 253 966 q 232 887 253 907 q 180 868 210 868 q 129 887 150 868 q 109 946 109 906 z " }, j: { ha: 359, x_min: -46, x_max: 253, o: "m 45 -334 q -9 -329 12 -334 q -46 -317 -31 -324 l -46 -216 q -10 -227 -28 -223 q 32 -231 8 -231 q 66 -225 50 -231 q 93 -207 81 -220 q 112 -172 105 -194 q 118 -115 118 -150 l 118 745 l 241 745 l 241 -107 q 230 -201 241 -159 q 194 -272 218 -243 q 133 -318 170 -302 q 45 -334 96 -334 m 109 946 q 129 1005 109 987 q 180 1023 150 1023 q 209 1019 195 1023 q 232 1005 222 1015 q 247 981 241 996 q 253 946 253 966 q 232 887 253 907 q 180 868 210 868 q 129 887 150 868 q 109 946 109 906 z " }, k: { ha: 689, x_min: 118, x_max: 684, o: "m 232 385 l 323 500 l 522 745 l 665 745 l 393 422 l 684 0 l 542 0 l 314 342 l 240 286 l 240 0 l 118 0 l 118 1055 l 240 1055 l 240 571 l 229 385 l 232 385 z " }, l: { ha: 359, x_min: 118, x_max: 241, o: "m 241 0 l 118 0 l 118 1055 l 241 1055 l 241 0 z " }, m: { ha: 1244, x_min: 118, x_max: 1133, o: "m 1010 0 l 1010 479 q 976 612 1010 568 q 871 656 942 656 q 787 640 821 656 q 730 593 752 624 q 698 516 708 562 q 688 411 688 471 l 688 0 l 564 0 l 564 479 q 530 612 564 568 q 425 656 496 656 q 338 638 373 656 q 281 586 302 621 q 251 501 260 551 q 241 386 241 451 l 241 0 l 118 0 l 118 745 l 218 745 l 236 644 l 243 644 q 281 695 259 673 q 331 730 304 716 q 388 751 357 745 q 449 758 418 758 q 584 728 530 758 q 664 635 638 699 l 669 635 q 712 690 687 667 q 766 728 736 713 q 828 751 795 743 q 895 758 861 758 q 1073 693 1013 758 q 1133 486 1133 629 l 1133 0 l 1010 0 z " }, n: { ha: 818, x_min: 118, x_max: 707, o: "m 583 0 l 583 479 q 548 612 583 568 q 436 656 512 656 q 344 638 381 656 q 284 586 307 621 q 251 501 261 551 q 241 386 241 451 l 241 0 l 118 0 l 118 745 l 218 745 l 236 644 l 243 644 q 283 695 260 673 q 334 730 307 716 q 393 751 362 745 q 457 758 425 758 q 644 693 581 758 q 707 486 707 629 l 707 0 l 583 0 z " }, o: { ha: 802, x_min: 77, x_max: 725, o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 z " }, p: { ha: 814, x_min: 118, x_max: 737, o: "m 454 -14 q 382 -5 414 -14 q 323 19 349 4 q 277 53 297 33 q 241 94 257 73 l 233 94 q 237 50 235 71 q 240 14 239 33 q 241 -16 241 -5 l 241 -334 l 118 -334 l 118 745 l 218 745 l 236 644 l 241 644 q 277 689 257 668 q 322 725 296 709 q 381 749 349 740 q 454 758 414 758 q 570 734 518 758 q 660 661 623 709 q 717 541 696 612 q 737 374 737 469 q 717 206 737 278 q 660 85 696 134 q 570 11 623 36 q 454 -14 518 -14 m 431 656 q 343 640 379 656 q 286 593 308 625 q 253 513 264 561 q 241 401 243 466 l 241 374 q 251 252 241 305 q 282 162 260 199 q 340 107 304 126 q 432 89 377 89 q 567 163 524 89 q 610 375 610 237 q 567 586 610 516 q 431 656 524 656 z " }, q: { ha: 814, x_min: 77, x_max: 696, o: "m 383 89 q 470 104 435 89 q 528 152 506 120 q 561 232 550 184 q 572 343 571 279 l 572 371 q 563 493 572 439 q 532 582 554 546 q 473 637 510 618 q 382 656 437 656 q 247 582 290 656 q 204 370 204 508 q 247 158 204 228 q 383 89 290 89 m 359 -14 q 244 11 296 -14 q 155 84 192 35 q 97 204 117 132 q 77 371 77 276 q 97 539 77 467 q 155 660 117 611 q 244 733 192 709 q 359 758 296 758 q 432 749 399 758 q 490 725 465 740 q 536 689 516 709 q 572 644 557 668 l 578 644 l 596 745 l 696 745 l 696 -334 l 572 -334 l 572 -16 q 574 17 572 -3 q 576 55 575 37 q 581 100 578 77 l 572 100 q 537 56 557 77 q 491 20 517 35 q 433 -5 465 4 q 359 -14 400 -14 z " }, r: { ha: 554, x_min: 118, x_max: 526, o: "m 440 758 q 484 756 460 758 q 526 751 509 755 l 510 637 q 471 643 491 641 q 433 646 451 646 q 355 628 391 646 q 295 579 320 611 q 255 502 269 547 q 241 401 241 456 l 241 0 l 118 0 l 118 745 l 218 745 l 233 608 l 239 608 q 275 665 256 637 q 318 712 294 692 q 372 746 342 733 q 440 758 402 758 z " }, s: { ha: 627, x_min: 61, x_max: 564, o: "m 564 204 q 544 109 564 150 q 487 41 524 68 q 398 0 450 14 q 281 -14 346 -14 q 154 -2 207 -14 q 61 33 101 10 l 61 146 q 108 124 82 135 q 162 106 134 114 q 221 93 191 98 q 281 87 251 87 q 356 95 325 87 q 406 116 387 102 q 434 150 425 130 q 443 195 443 170 q 436 233 443 216 q 411 266 429 250 q 362 300 393 283 q 282 338 331 317 q 194 379 233 359 q 128 425 155 399 q 86 483 101 450 q 72 561 72 515 q 91 645 72 608 q 143 707 109 682 q 224 745 177 732 q 330 758 272 758 q 451 744 396 758 q 554 707 505 730 l 511 607 q 421 641 467 627 q 326 656 374 656 q 224 633 257 656 q 191 568 191 610 q 198 527 191 545 q 225 494 206 509 q 276 462 244 478 q 355 427 308 446 q 443 386 404 406 q 508 340 481 366 q 549 282 535 315 q 564 204 564 250 z " }, t: { ha: 471, x_min: 22, x_max: 444, o: "m 343 87 q 371 89 355 87 q 400 92 386 90 q 426 97 414 94 q 444 102 438 100 l 444 8 q 422 0 435 4 q 392 -7 408 -4 q 358 -12 376 -10 q 323 -14 340 -14 q 245 -3 281 -14 q 183 35 210 8 q 142 106 157 61 q 127 220 127 151 l 127 652 l 22 652 l 22 707 l 127 760 l 180 916 l 252 916 l 252 745 l 439 745 l 439 652 l 252 652 l 252 220 q 273 121 252 154 q 343 87 294 87 z " }, u: { ha: 818, x_min: 111, x_max: 700, o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 z " }, v: { ha: 665, x_min: 0, x_max: 665, o: "m 254 0 l 0 745 l 127 745 l 262 330 q 280 273 270 308 q 300 201 290 237 q 319 132 311 164 q 330 82 328 99 l 335 82 q 347 132 338 99 q 365 201 355 164 q 385 273 375 237 q 403 330 395 308 l 538 745 l 665 745 l 411 0 l 254 0 z " }, w: { ha: 1036, x_min: 14, x_max: 1022, o: "m 684 0 l 570 418 q 563 445 567 430 q 555 477 559 460 q 546 512 551 494 q 538 547 542 530 q 518 628 528 586 l 514 628 q 496 546 505 585 q 480 476 488 512 q 464 415 471 440 l 347 0 l 204 0 l 14 745 l 143 745 l 232 349 q 245 282 239 318 q 258 212 252 247 q 269 146 264 177 q 277 96 274 115 l 281 96 q 290 143 284 113 q 303 205 296 172 q 317 270 310 238 q 332 325 325 302 l 453 745 l 586 745 l 703 325 q 716 271 709 302 q 732 207 724 239 q 745 145 739 175 q 754 96 751 115 l 758 96 q 765 143 760 113 q 775 208 769 172 q 788 280 781 243 q 803 349 795 317 l 896 745 l 1022 745 l 829 0 l 684 0 z " }, x: { ha: 694, x_min: 24, x_max: 669, o: "m 277 382 l 37 745 l 178 745 l 347 467 l 517 745 l 657 745 l 416 382 l 669 0 l 529 0 l 347 296 l 164 0 l 24 0 l 277 382 z " }, y: { ha: 679, x_min: 7, x_max: 672, o: "m 7 745 l 135 745 l 281 329 q 300 272 290 302 q 318 212 310 242 q 333 155 327 182 q 342 103 339 127 l 346 103 q 357 149 349 120 q 373 211 364 178 q 392 276 382 244 q 410 330 402 308 l 545 745 l 672 745 l 378 -97 q 337 -196 359 -152 q 286 -270 315 -239 q 217 -317 256 -300 q 123 -334 178 -334 q 62 -330 88 -334 q 18 -322 37 -326 l 18 -224 q 54 -230 33 -227 q 100 -232 76 -232 q 156 -224 132 -232 q 197 -201 180 -216 q 228 -165 215 -186 q 250 -115 240 -143 l 289 -7 l 7 745 z " }, z: { ha: 612, x_min: 56, x_max: 557, o: "m 557 0 l 56 0 l 56 85 l 419 652 l 78 652 l 78 745 l 545 745 l 545 646 l 189 93 l 557 93 l 557 0 z " }, "{": { ha: 492, x_min: 41, x_max: 457, o: "m 339 -11 q 347 -64 339 -43 q 371 -97 355 -85 q 408 -113 386 -109 q 457 -118 430 -117 l 457 -220 q 360 -208 405 -219 q 284 -173 316 -197 q 233 -111 252 -149 q 215 -21 215 -74 l 215 205 q 171 304 215 275 q 41 334 126 334 l 41 439 q 171 468 126 439 q 215 567 215 497 l 215 793 q 233 883 215 846 q 284 944 252 920 q 360 980 316 968 q 457 991 405 991 l 457 890 q 408 885 430 890 q 371 869 386 881 q 347 837 355 857 q 339 783 339 816 l 339 558 q 299 445 339 487 q 180 390 258 404 l 180 382 q 299 327 258 368 q 339 214 339 286 l 339 -11 z " }, "|": { ha: 765, x_min: 332, x_max: 433, o: "m 332 1055 l 433 1055 l 433 -334 l 332 -334 l 332 1055 z " }, "}": { ha: 492, x_min: 35, x_max: 450, o: "m 153 214 q 193 327 153 286 q 311 382 233 368 l 311 390 q 193 445 233 404 q 153 558 153 487 l 153 783 q 144 837 153 816 q 121 869 136 857 q 84 885 106 881 q 35 890 62 890 l 35 991 q 131 980 87 991 q 208 944 176 968 q 258 883 240 920 q 277 793 277 846 l 277 567 q 288 507 277 532 q 321 468 299 483 q 376 446 343 452 q 450 439 408 439 l 450 334 q 321 304 366 334 q 277 205 277 275 l 277 -21 q 258 -111 277 -74 q 208 -173 240 -149 q 131 -208 176 -197 q 35 -220 87 -219 l 35 -118 q 84 -113 62 -117 q 121 -97 106 -109 q 144 -64 136 -85 q 153 -11 153 -43 l 153 214 z " }, "~": { ha: 765, x_min: 69, x_max: 696, o: "m 359 441 q 316 460 334 452 q 282 472 297 467 q 253 478 267 476 q 224 479 239 479 q 184 473 205 479 q 144 455 164 467 q 105 429 124 444 q 69 397 86 414 l 69 507 q 237 581 137 581 q 274 579 257 581 q 310 573 291 577 q 351 560 328 568 q 406 538 374 551 q 449 519 431 527 q 484 508 468 512 q 513 502 500 503 q 542 500 527 500 q 581 506 561 500 q 622 524 602 513 q 661 550 642 535 q 696 582 680 565 l 696 472 q 528 399 629 399 q 491 400 508 399 q 455 407 474 402 q 414 419 437 411 q 359 441 391 428 z " }, " ": { ha: 361, x_min: 0, x_max: 0, o: "" }, "": { ha: 374, x_min: 100, x_max: 272, o: "m 144 458 l 227 458 l 261 -253 l 110 -253 l 144 458 m 272 664 q 266 620 272 638 q 247 591 259 602 q 220 575 235 580 q 186 570 204 570 q 153 575 168 570 q 125 591 137 580 q 106 620 113 602 q 100 664 100 638 q 106 707 100 689 q 125 736 113 724 q 153 753 137 747 q 186 758 168 758 q 220 753 204 758 q 247 736 235 747 q 266 707 259 724 q 272 664 272 689 z " }, "": { ha: 765, x_min: 127, x_max: 647, o: "m 635 163 q 564 134 601 144 q 475 122 526 123 l 475 -14 l 382 -14 l 382 126 q 276 160 323 135 q 196 231 229 186 q 145 343 163 276 q 127 504 127 411 q 145 668 127 600 q 196 783 163 737 q 276 855 229 829 q 382 889 323 880 l 382 1006 l 475 1006 l 475 895 q 570 881 524 892 q 647 854 616 870 l 611 750 q 576 763 595 757 q 537 775 557 770 q 497 783 517 780 q 460 786 477 786 q 304 718 353 786 q 256 505 256 649 q 305 297 256 363 q 454 231 354 231 q 554 243 509 231 q 635 272 598 256 l 635 163 z " }, "": { ha: 765, x_min: 46, x_max: 718, o: "m 452 1004 q 583 989 524 1004 q 686 950 642 974 l 642 852 q 556 887 604 872 q 457 901 508 901 q 397 892 425 901 q 349 863 369 883 q 317 811 328 843 q 306 734 306 779 l 306 534 l 561 534 l 561 441 l 306 441 l 306 298 q 298 226 306 256 q 277 174 290 196 q 247 138 264 153 q 211 113 229 123 l 718 113 l 718 0 l 46 0 l 46 104 q 101 126 76 112 q 143 163 125 140 q 172 219 161 186 q 182 297 182 252 l 182 441 l 47 441 l 47 534 l 182 534 l 182 754 q 202 860 182 813 q 257 938 222 906 q 342 987 293 970 q 452 1004 392 1004 z " }, "": { ha: 765, x_min: 83, x_max: 681, o: "m 126 490 q 138 567 126 530 q 171 635 150 603 l 83 722 l 150 789 l 236 701 q 304 735 268 723 q 382 747 341 747 q 459 735 422 747 q 526 701 495 723 l 614 789 l 681 724 l 593 636 q 626 568 614 605 q 639 490 639 531 q 627 412 639 450 q 593 345 615 375 l 679 258 l 614 193 l 526 279 q 459 247 495 258 q 382 235 422 235 q 304 247 341 235 q 236 281 267 259 l 150 195 l 85 260 l 171 346 q 138 413 150 376 q 126 490 126 450 m 220 490 q 232 427 220 456 q 267 375 245 397 q 318 340 289 353 q 382 328 348 328 q 447 340 416 328 q 499 375 477 353 q 534 427 522 397 q 547 490 547 456 q 534 555 547 525 q 499 608 522 585 q 447 643 477 630 q 382 656 416 656 q 318 643 348 656 q 267 608 289 630 q 232 555 245 585 q 220 490 220 525 z " }, "": { ha: 765, x_min: 20, x_max: 746, o: "m 382 490 l 616 991 l 746 991 l 485 471 l 647 471 l 647 378 l 443 378 l 443 271 l 647 271 l 647 178 l 443 178 l 443 0 l 322 0 l 322 178 l 118 178 l 118 271 l 322 271 l 322 378 l 118 378 l 118 471 l 277 471 l 20 991 l 150 991 l 382 490 z " }, "": { ha: 765, x_min: 332, x_max: 433, o: "m 332 1055 l 433 1055 l 433 526 l 332 526 l 332 1055 m 332 196 l 433 196 l 433 -334 l 332 -334 l 332 196 z " }, "": { ha: 675, x_min: 82, x_max: 585, o: "m 93 549 q 102 611 93 583 q 126 661 111 640 q 161 698 141 683 q 201 724 180 713 q 122 788 151 749 q 93 884 93 827 q 112 958 93 925 q 164 1015 130 991 q 245 1050 198 1038 q 351 1063 293 1063 q 470 1049 417 1063 q 572 1014 524 1036 l 534 920 q 443 952 490 939 q 347 965 395 965 q 245 945 280 965 q 211 886 211 925 q 219 852 211 868 q 247 822 227 837 q 298 791 266 807 q 378 755 330 775 q 465 714 427 736 q 530 666 503 692 q 570 607 556 640 q 585 532 585 574 q 576 468 585 496 q 554 416 568 439 q 523 376 541 393 q 486 349 505 359 q 559 286 533 323 q 585 196 585 249 q 565 110 585 148 q 508 46 545 73 q 419 7 471 20 q 301 -7 366 -7 q 175 4 228 -7 q 82 37 122 16 l 82 144 q 129 124 103 134 q 183 106 155 114 q 242 94 212 98 q 301 89 272 89 q 379 97 348 89 q 430 118 411 105 q 456 149 448 132 q 464 184 464 166 q 458 219 464 204 q 435 250 452 235 q 386 282 418 265 q 302 319 354 298 q 214 361 253 340 q 148 409 175 382 q 107 469 121 435 q 93 549 93 503 m 197 564 q 207 517 197 538 q 238 476 216 496 q 293 438 259 456 q 376 399 328 419 l 400 389 q 428 410 414 397 q 453 437 441 422 q 471 472 464 453 q 478 514 478 491 q 469 562 478 540 q 438 603 460 583 q 380 643 416 623 q 288 682 343 662 q 255 666 271 677 q 226 641 239 656 q 205 606 213 625 q 197 564 197 586 z " }, "": { ha: 802, x_min: 208, x_max: 593, o: "m 208 946 q 227 999 208 983 q 273 1015 246 1015 q 319 999 300 1015 q 339 946 339 982 q 319 893 339 910 q 273 876 300 876 q 227 893 246 876 q 208 946 208 910 m 463 946 q 481 999 463 983 q 528 1015 500 1015 q 552 1011 541 1015 q 573 999 564 1007 q 587 977 582 990 q 593 946 593 964 q 573 893 593 910 q 528 876 553 876 q 481 893 500 876 q 463 946 463 910 z " }, "": { ha: 1156, x_min: 68, x_max: 1088, o: "m 604 714 q 531 699 563 714 q 477 656 499 684 q 445 587 456 628 q 433 496 433 547 q 443 402 433 443 q 474 334 453 361 q 527 291 494 306 q 604 277 559 277 q 638 279 620 277 q 676 286 656 281 q 714 295 695 290 q 750 307 733 301 l 750 218 q 717 205 734 211 q 683 194 701 199 q 644 187 665 189 q 600 184 624 184 q 479 207 531 184 q 394 271 428 229 q 342 370 359 312 q 325 497 325 427 q 343 622 325 566 q 397 720 361 679 q 485 783 433 760 q 604 806 536 806 q 692 794 647 806 q 777 764 736 783 l 734 677 q 666 705 699 695 q 604 714 633 714 m 68 496 q 86 631 68 566 q 137 753 104 696 q 217 857 170 810 q 320 936 264 903 q 442 987 377 969 q 578 1006 507 1006 q 713 987 648 1006 q 835 936 779 969 q 939 857 892 903 q 1018 753 985 810 q 1069 631 1051 696 q 1088 496 1088 566 q 1069 360 1088 425 q 1018 238 1051 295 q 939 135 985 182 q 835 56 892 89 q 713 4 779 22 q 578 -14 648 -14 q 442 4 507 -14 q 320 56 377 22 q 217 135 264 89 q 137 238 170 182 q 86 360 104 295 q 68 496 68 425 m 142 496 q 176 326 142 406 q 270 188 210 247 q 408 94 329 128 q 578 60 488 60 q 747 94 668 60 q 886 188 827 128 q 980 326 945 247 q 1014 496 1014 406 q 980 665 1014 586 q 886 804 945 745 q 747 898 827 863 q 578 932 668 932 q 408 898 488 932 q 270 804 329 863 q 176 665 210 745 q 142 496 142 586 z " }, "": { ha: 460, x_min: 46, x_max: 392, o: "m 330 541 l 311 596 q 286 569 299 581 q 257 549 273 557 q 222 536 241 541 q 179 532 203 532 q 125 541 150 532 q 83 567 101 549 q 56 610 66 584 q 46 671 46 636 q 94 777 46 740 q 239 817 142 813 l 306 819 l 306 840 q 285 908 306 889 q 227 928 264 928 q 163 918 194 928 q 104 893 133 908 l 72 961 q 146 991 106 979 q 227 1003 186 1003 q 352 967 311 1003 q 392 848 392 931 l 392 541 l 330 541 m 256 753 q 198 745 221 751 q 161 728 175 739 q 141 704 147 718 q 135 669 135 689 q 152 620 135 635 q 197 604 169 604 q 240 611 220 604 q 274 633 260 618 q 297 670 289 648 q 306 722 306 692 l 306 755 l 256 753 z " }, "": { ha: 676, x_min: 56, x_max: 621, o: "m 56 375 l 265 656 l 345 603 l 183 367 l 345 131 l 265 78 l 56 357 l 56 375 m 332 375 l 542 656 l 621 603 l 460 367 l 621 131 l 542 78 l 332 357 l 332 375 z " }, "": { ha: 765, x_min: 69, x_max: 696, o: "m 696 541 l 696 178 l 595 178 l 595 439 l 69 439 l 69 541 l 696 541 z " }, "": { ha: 447, x_min: 56, x_max: 392, o: "m 56 315 l 56 429 l 392 429 l 392 315 l 56 315 z " }, "": { ha: 1092, x_min: 61, x_max: 1023, o: "m 61 494 q 124 749 61 631 q 300 933 188 866 q 543 1001 412 1001 q 785 933 673 1001 q 960 749 897 866 q 1023 494 1023 631 q 962 244 1023 361 q 789 57 901 127 q 543 -14 677 -14 q 297 56 409 -14 q 123 243 184 126 q 61 494 61 359 m 139 494 q 193 278 139 378 q 341 123 248 179 q 543 66 434 66 q 745 124 652 66 q 892 279 839 181 q 945 494 945 378 q 892 708 945 610 q 745 863 839 806 q 543 920 652 920 q 340 864 434 920 q 193 709 247 808 q 139 494 139 610 m 443 444 l 443 214 l 347 214 l 347 790 l 534 790 q 695 746 638 790 q 753 616 753 701 q 666 489 753 533 q 749 351 749 455 l 749 309 q 761 225 749 251 l 761 214 l 663 214 q 653 301 653 239 q 651 376 653 364 q 562 444 640 441 l 443 444 m 443 530 l 549 530 q 627 554 597 532 q 657 613 657 576 q 631 683 657 663 q 536 704 604 704 l 443 704 l 443 530 z " }, "": { ha: 694, x_min: -4, x_max: 699, o: "m 699 1055 l -4 1055 l -4 1150 l 699 1150 l 699 1055 z " }, "": { ha: 595, x_min: 83, x_max: 511, o: "m 83 791 q 100 874 83 836 q 146 943 117 913 q 214 989 175 972 q 297 1006 253 1006 q 380 989 341 1006 q 448 943 419 972 q 494 874 477 913 q 511 791 511 836 q 494 709 511 747 q 448 641 477 670 q 380 596 419 612 q 297 579 341 579 q 214 596 253 579 q 146 641 175 612 q 100 709 117 670 q 83 791 83 747 m 167 791 q 177 742 167 765 q 205 701 187 718 q 246 673 222 683 q 297 663 270 663 q 348 673 324 663 q 390 701 372 683 q 418 742 408 718 q 428 791 428 765 q 418 843 428 819 q 390 885 408 867 q 348 913 372 903 q 297 924 324 924 q 246 913 270 924 q 205 885 222 903 q 177 843 187 867 q 167 791 167 819 z " }, "": { ha: 765, x_min: 69, x_max: 696, o: "m 332 439 l 69 439 l 69 541 l 332 541 l 332 804 l 433 804 l 433 541 l 696 541 l 696 439 l 433 439 l 433 178 l 332 178 l 332 439 m 69 0 l 69 102 l 696 102 l 696 0 l 69 0 z " }, "": { ha: 460, x_min: 33, x_max: 421, o: "m 421 397 l 33 397 l 33 473 l 175 628 q 238 699 214 670 q 276 750 262 728 q 295 793 290 773 q 300 836 300 813 q 277 902 300 880 q 218 924 255 924 q 152 907 184 924 q 90 864 121 890 l 37 928 q 119 982 74 960 q 220 1004 164 1004 q 293 993 260 1004 q 349 961 326 982 q 385 908 372 939 q 397 839 397 878 q 388 776 397 805 q 359 718 378 747 q 314 658 341 689 q 253 590 288 627 l 153 484 l 421 484 l 421 397 z " }, "": { ha: 460, x_min: 21, x_max: 418, o: "m 400 851 q 373 762 400 798 q 298 710 345 726 q 388 659 358 694 q 418 570 418 623 q 404 495 418 529 q 362 437 391 461 q 292 399 334 413 q 191 386 249 386 q 101 394 143 386 q 21 424 60 403 l 21 514 q 109 478 64 491 q 189 465 153 465 q 286 493 256 465 q 315 571 315 522 q 279 644 315 621 q 178 667 243 667 l 111 667 l 111 743 l 178 743 q 269 770 240 743 q 297 840 297 797 q 290 878 297 862 q 272 904 283 894 q 244 919 260 914 q 210 924 228 924 q 137 910 170 924 q 69 871 104 896 l 22 936 q 63 964 42 951 q 106 985 83 977 q 155 999 130 994 q 211 1004 181 1004 q 293 993 258 1004 q 353 961 329 981 q 388 912 376 941 q 400 851 400 884 z " }, "": { ha: 802, x_min: 267, x_max: 533, o: "m 267 860 q 297 905 281 880 q 329 959 313 931 q 359 1014 345 986 q 385 1064 374 1041 l 533 1064 l 533 1050 q 501 1004 522 1031 q 453 947 479 977 q 400 889 427 917 q 349 842 372 861 l 267 842 l 267 860 z " }, "": { ha: 825, x_min: 118, x_max: 707, o: "m 241 265 q 277 133 241 177 q 389 89 313 89 q 481 106 444 89 q 542 158 519 124 q 574 243 564 193 q 583 358 583 293 l 583 745 l 707 745 l 707 0 l 607 0 l 589 100 l 582 100 q 500 15 549 43 q 382 -14 452 -14 q 297 2 333 -14 q 237 46 261 18 q 239 -7 238 20 q 241 -59 241 -31 q 241 -117 241 -88 l 241 -334 l 118 -334 l 118 745 l 241 745 l 241 265 z " }, "": { ha: 909, x_min: 77, x_max: 764, o: "m 764 -176 l 682 -176 l 682 947 l 542 947 l 542 -176 l 460 -176 l 460 379 q 361 367 418 367 q 244 384 296 367 q 154 441 191 401 q 97 547 117 481 q 77 707 77 612 q 99 873 77 806 q 161 981 121 940 q 258 1038 201 1021 q 382 1055 314 1055 l 764 1055 l 764 -176 z " }, "": { ha: 372, x_min: 100, x_max: 272, o: "m 100 490 q 106 534 100 516 q 125 563 113 552 q 152 579 136 574 q 186 585 168 585 q 219 579 203 585 q 247 563 235 574 q 265 534 258 552 q 272 490 272 516 q 265 448 272 465 q 247 418 258 430 q 219 401 235 407 q 186 396 203 396 q 152 401 168 396 q 125 418 136 407 q 106 448 113 430 q 100 490 100 465 z " }, "": { ha: 285, x_min: 24, x_max: 277, o: "m 277 -195 q 229 -297 277 -260 q 79 -334 181 -334 q 49 -332 64 -334 q 24 -328 34 -330 l 24 -254 q 51 -257 34 -256 q 78 -258 67 -258 q 153 -244 126 -258 q 180 -196 180 -229 q 172 -168 180 -180 q 147 -147 163 -156 q 110 -132 132 -138 q 64 -119 89 -125 l 125 0 l 207 0 l 168 -78 q 211 -92 191 -83 q 245 -115 231 -101 q 268 -149 260 -129 q 277 -195 277 -168 z " }, "": { ha: 460, x_min: 43, x_max: 300, o: "m 208 991 l 300 991 l 300 397 l 201 397 l 201 747 q 202 785 201 764 q 203 825 202 805 q 205 865 204 846 q 207 899 206 884 q 184 873 197 887 q 157 848 172 860 l 93 799 l 43 864 l 208 991 z " }, "": { ha: 486, x_min: 45, x_max: 441, o: "m 441 768 q 428 668 441 712 q 388 594 414 624 q 325 548 361 564 q 241 532 288 532 q 163 548 199 532 q 100 594 127 564 q 59 668 74 624 q 45 768 45 712 q 59 868 45 825 q 98 942 73 912 q 161 987 124 972 q 244 1003 198 1003 q 322 987 286 1003 q 385 942 359 972 q 427 868 412 912 q 441 768 441 825 m 134 768 q 159 647 134 688 q 243 606 184 606 q 326 647 300 606 q 351 768 351 688 q 326 889 351 850 q 243 928 300 928 q 159 889 184 928 q 134 768 134 850 z " }, "": { ha: 676, x_min: 57, x_max: 623, o: "m 623 357 l 412 78 l 334 131 l 494 367 l 334 603 l 412 656 l 623 375 l 623 357 m 346 357 l 136 78 l 57 131 l 218 367 l 57 603 l 136 656 l 346 375 l 346 357 z " }, "": { ha: 1023, x_min: 43, x_max: 962, o: "m 208 991 l 300 991 l 300 397 l 201 397 l 201 747 q 202 785 201 764 q 203 825 202 805 q 205 865 204 846 q 207 899 206 884 q 184 873 197 887 q 157 848 172 860 l 93 799 l 43 864 l 208 991 m 815 991 l 265 0 l 159 0 l 709 991 l 815 991 m 962 131 l 878 131 l 878 1 l 781 1 l 781 131 l 526 131 l 526 206 l 782 599 l 878 599 l 878 217 l 962 217 l 962 131 m 781 217 l 781 349 q 782 411 781 378 q 785 478 783 445 q 774 458 781 471 q 760 431 768 446 q 745 404 753 417 q 730 380 736 390 l 625 217 l 781 217 z " }, "": { ha: 1023, x_min: 30, x_max: 977, o: "m 195 991 l 287 991 l 287 397 l 189 397 l 189 747 q 189 785 189 764 q 190 825 189 805 q 192 865 191 846 q 194 899 193 884 q 172 873 184 887 q 144 848 159 860 l 80 799 l 30 864 l 195 991 m 801 991 l 251 0 l 144 0 l 694 991 l 801 991 m 977 1 l 589 1 l 589 77 l 730 231 q 793 302 769 273 q 831 354 818 331 q 850 396 845 376 q 855 439 855 416 q 833 505 855 484 q 774 527 810 527 q 708 510 739 527 q 646 467 676 493 l 593 531 q 674 586 629 564 q 775 608 720 608 q 849 596 816 608 q 905 564 882 585 q 940 512 928 543 q 953 442 953 481 q 943 379 953 408 q 915 321 933 350 q 870 261 897 292 q 808 193 843 231 l 708 87 l 977 87 l 977 1 z " }, "": { ha: 1023, x_min: 21, x_max: 1008, o: "m 400 851 q 373 762 400 798 q 298 710 345 726 q 388 659 358 694 q 418 570 418 623 q 404 495 418 529 q 362 437 391 461 q 292 399 334 413 q 191 386 249 386 q 101 394 143 386 q 21 424 60 403 l 21 514 q 109 478 64 491 q 189 465 153 465 q 286 493 256 465 q 315 571 315 522 q 279 644 315 621 q 178 667 243 667 l 111 667 l 111 743 l 178 743 q 269 770 240 743 q 297 840 297 797 q 290 878 297 862 q 272 904 283 894 q 244 919 260 914 q 210 924 228 924 q 137 910 170 924 q 69 871 104 896 l 22 936 q 63 964 42 951 q 106 985 83 977 q 155 999 130 994 q 211 1004 181 1004 q 293 993 258 1004 q 353 961 329 981 q 388 912 376 941 q 400 851 400 884 m 879 991 l 329 0 l 222 0 l 772 991 l 879 991 m 1008 131 l 923 131 l 923 1 l 826 1 l 826 131 l 572 131 l 572 206 l 827 599 l 923 599 l 923 217 l 1008 217 l 1008 131 m 826 217 l 826 349 q 827 411 826 378 q 830 478 828 445 q 820 458 827 471 q 806 431 813 446 q 790 404 798 417 q 776 380 782 390 l 671 217 l 826 217 z " }, "": { ha: 591, x_min: 46, x_max: 567, o: "m 401 458 l 401 433 q 396 363 401 394 q 377 305 391 332 q 342 252 364 277 q 286 197 320 226 q 231 147 254 170 q 193 101 208 124 q 171 51 178 77 q 164 -12 164 24 q 174 -72 164 -45 q 204 -118 184 -98 q 252 -148 223 -137 q 318 -158 281 -158 q 426 -141 375 -158 q 524 -100 477 -123 l 567 -199 q 448 -247 511 -227 q 318 -267 384 -267 q 204 -249 255 -267 q 119 -199 154 -232 q 65 -120 84 -167 q 46 -14 46 -73 q 55 68 46 33 q 82 134 64 103 q 128 193 100 164 q 192 253 155 221 q 250 306 227 283 q 285 350 272 329 q 302 394 298 371 q 307 446 307 416 l 307 458 l 401 458 m 433 664 q 427 620 433 638 q 409 591 420 602 q 381 575 397 580 q 347 570 366 570 q 314 575 330 570 q 287 591 298 580 q 268 620 275 602 q 261 664 261 638 q 268 707 261 689 q 287 736 275 724 q 314 753 298 747 q 347 758 330 758 q 381 753 366 758 q 409 736 397 747 q 427 707 420 724 q 433 664 433 689 z " }, "": { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 488 1071 l 406 1071 q 355 1118 382 1090 q 301 1176 327 1146 q 253 1233 275 1206 q 221 1279 232 1261 l 221 1293 l 370 1293 q 395 1243 380 1270 q 425 1188 410 1215 q 457 1135 441 1160 q 488 1089 473 1109 l 488 1071 z " }, "": { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 362 1089 q 393 1135 377 1109 q 425 1188 409 1160 q 455 1243 441 1215 q 480 1293 469 1270 l 629 1293 l 629 1279 q 596 1233 618 1261 q 549 1176 575 1206 q 495 1118 523 1146 q 444 1071 468 1090 l 362 1071 l 362 1089 z " }, "": { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 646 1071 l 564 1071 q 493 1127 530 1094 q 421 1197 456 1160 q 349 1127 385 1160 q 278 1071 313 1094 l 196 1071 l 196 1089 q 237 1135 214 1109 q 282 1188 260 1160 q 325 1243 305 1215 q 356 1293 345 1270 l 486 1293 q 517 1243 497 1270 q 560 1188 537 1215 q 606 1135 583 1160 q 646 1089 629 1109 l 646 1071 z " }, "": { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 524 1072 q 470 1084 496 1072 q 417 1111 443 1096 q 368 1137 391 1125 q 322 1149 344 1149 q 275 1131 292 1149 q 250 1071 259 1113 l 179 1071 q 194 1145 182 1112 q 223 1201 205 1178 q 266 1237 241 1225 q 322 1250 291 1250 q 378 1238 351 1250 q 431 1212 406 1226 q 480 1186 457 1198 q 524 1174 504 1174 q 570 1192 554 1174 q 595 1251 585 1209 l 667 1251 q 652 1178 663 1211 q 623 1121 641 1145 q 580 1085 605 1098 q 524 1072 555 1072 z " }, "": { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 231 1175 q 250 1228 231 1212 q 296 1244 269 1244 q 342 1228 322 1244 q 361 1175 361 1211 q 342 1122 361 1139 q 296 1105 322 1105 q 250 1122 269 1105 q 231 1175 231 1139 m 485 1175 q 504 1228 485 1212 q 550 1244 523 1244 q 575 1240 563 1244 q 595 1228 587 1236 q 610 1206 604 1219 q 615 1175 615 1194 q 595 1122 615 1139 q 550 1105 576 1105 q 504 1122 523 1105 q 485 1175 485 1139 z " }, "": { ha: 844, x_min: 0, x_max: 844, o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 575 1074 q 563 1011 575 1039 q 531 965 551 984 q 481 936 510 946 q 420 926 453 926 q 358 936 386 926 q 310 965 330 946 q 279 1011 290 984 q 269 1072 269 1038 q 279 1134 269 1107 q 310 1179 290 1160 q 358 1208 330 1198 q 420 1218 386 1218 q 481 1208 452 1218 q 530 1180 509 1198 q 563 1134 551 1161 q 575 1074 575 1107 m 496 1072 q 474 1128 496 1108 q 420 1149 453 1149 q 365 1128 386 1149 q 343 1072 343 1108 q 362 1016 343 1036 q 420 996 382 996 q 474 1016 453 996 q 496 1072 496 1036 z " }, "": { ha: 1183, x_min: -1, x_max: 1100, o: "m 1100 0 l 585 0 l 585 307 l 262 307 l 125 0 l -1 0 l 443 991 l 1100 991 l 1100 880 l 711 880 l 711 574 l 1074 574 l 1074 464 l 711 464 l 711 111 l 1100 111 l 1100 0 m 311 419 l 585 419 l 585 880 l 511 880 l 311 419 z " }, "": { ha: 838, x_min: 85, x_max: 798, o: "m 538 895 q 406 867 465 895 q 306 788 347 840 q 241 663 264 736 q 218 496 218 589 q 238 326 218 400 q 298 201 258 252 q 398 123 338 150 q 538 97 458 97 q 652 109 598 97 q 760 136 707 121 l 760 26 q 707 8 733 16 q 651 -4 680 1 q 590 -11 623 -9 q 517 -14 557 -14 q 324 23 406 -14 q 190 127 243 60 q 111 288 136 194 q 85 497 85 382 q 114 703 85 610 q 201 864 144 797 q 343 968 258 931 q 538 1006 428 1006 q 677 991 611 1006 q 798 947 744 976 l 745 842 q 652 879 702 863 q 538 895 602 895 m 621 -195 q 573 -297 621 -260 q 424 -334 526 -334 q 394 -332 409 -334 q 368 -328 378 -330 l 368 -254 q 395 -257 378 -256 q 422 -258 412 -258 q 498 -244 471 -258 q 525 -196 525 -229 q 516 -168 525 -180 q 492 -147 507 -156 q 455 -132 476 -138 q 408 -119 433 -125 l 469 0 l 551 0 l 513 -78 q 555 -92 536 -83 q 590 -115 575 -101 q 613 -149 604 -129 q 621 -195 621 -168 z " }, "": { ha: 733, x_min: 135, x_max: 650, o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 484 1071 l 402 1071 q 351 1118 378 1090 q 297 1176 323 1146 q 249 1233 271 1206 q 217 1279 228 1261 l 217 1293 l 366 1293 q 391 1243 376 1270 q 421 1188 406 1215 q 453 1135 437 1160 q 484 1089 469 1109 l 484 1071 z " }, "": { ha: 733, x_min: 135, x_max: 650, o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 309 1089 q 340 1135 324 1109 q 372 1188 356 1160 q 402 1243 388 1215 q 427 1293 416 1270 l 576 1293 l 576 1279 q 544 1233 565 1261 q 496 1176 522 1206 q 443 1118 470 1146 q 391 1071 415 1090 l 309 1071 l 309 1089 z " }, "": { ha: 733, x_min: 135, x_max: 650, o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 615 1071 l 533 1071 q 462 1127 498 1094 q 390 1197 425 1160 q 317 1127 353 1160 q 247 1071 281 1094 l 165 1071 l 165 1089 q 205 1135 182 1109 q 251 1188 229 1160 q 294 1243 274 1215 q 325 1293 314 1270 l 455 1293 q 486 1243 466 1270 q 529 1188 506 1215 q 575 1135 551 1160 q 615 1089 598 1109 l 615 1071 z " }, "": { ha: 733, x_min: 135, x_max: 650, o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 201 1175 q 220 1228 201 1212 q 266 1244 239 1244 q 312 1228 292 1244 q 332 1175 332 1211 q 312 1122 332 1139 q 266 1105 292 1105 q 220 1122 239 1105 q 201 1175 201 1139 m 455 1175 q 474 1228 455 1212 q 520 1244 493 1244 q 545 1240 533 1244 q 566 1228 557 1236 q 580 1206 574 1219 q 585 1175 585 1194 q 566 1122 585 1139 q 520 1105 546 1105 q 474 1122 493 1105 q 455 1175 455 1139 z " }, "": { ha: 471, x_min: 42, x_max: 415, o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 309 1071 l 227 1071 q 176 1118 203 1090 q 122 1176 148 1146 q 74 1233 96 1206 q 42 1279 53 1261 l 42 1293 l 191 1293 q 216 1243 201 1270 q 246 1188 231 1215 q 278 1135 262 1160 q 309 1089 294 1109 l 309 1071 z " }, "": { ha: 471, x_min: 56, x_max: 441, o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 174 1089 q 205 1135 189 1109 q 237 1188 221 1160 q 267 1243 253 1215 q 292 1293 281 1270 l 441 1293 l 441 1279 q 409 1233 430 1261 q 361 1176 387 1206 q 308 1118 335 1146 q 256 1071 280 1090 l 174 1071 l 174 1089 z " }, "": { ha: 471, x_min: 12, x_max: 462, o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 462 1071 l 380 1071 q 309 1127 345 1094 q 237 1197 272 1160 q 164 1127 200 1160 q 94 1071 128 1094 l 12 1071 l 12 1089 q 52 1135 29 1109 q 98 1188 75 1160 q 141 1243 121 1215 q 172 1293 161 1270 l 302 1293 q 333 1243 313 1270 q 375 1188 353 1215 q 421 1135 398 1160 q 462 1089 445 1109 l 462 1071 z " }, "": { ha: 471, x_min: 43, x_max: 428, o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 43 1175 q 62 1228 43 1212 q 109 1244 81 1244 q 155 1228 135 1244 q 174 1175 174 1211 q 155 1122 174 1139 q 109 1105 135 1105 q 62 1122 81 1105 q 43 1175 43 1139 m 298 1175 q 317 1228 298 1212 q 363 1244 336 1244 q 388 1240 376 1244 q 408 1228 399 1236 q 422 1206 417 1219 q 428 1175 428 1194 q 408 1122 428 1139 q 363 1105 389 1105 q 317 1122 336 1105 q 298 1175 298 1139 z " }, "": { ha: 950, x_min: 32, x_max: 865, o: "m 32 546 l 135 546 l 135 991 l 411 991 q 599 960 515 991 q 742 868 683 929 q 833 715 801 806 q 865 505 865 625 q 833 285 865 380 q 739 127 800 191 q 587 32 677 64 q 383 0 497 0 l 135 0 l 135 436 l 32 436 l 32 546 m 732 501 q 709 672 732 600 q 644 791 687 745 q 539 861 602 838 q 397 884 477 884 l 261 884 l 261 546 l 489 546 l 489 436 l 261 436 l 261 109 l 371 109 q 641 208 550 109 q 732 501 732 307 z " }, "": { ha: 1013, x_min: 135, x_max: 878, o: "m 878 0 l 732 0 l 244 821 l 239 821 q 245 717 243 768 q 250 625 248 673 q 252 538 252 576 l 252 0 l 135 0 l 135 991 l 279 991 l 765 175 l 770 175 q 765 277 768 227 q 763 321 764 298 q 761 367 762 344 q 760 410 760 389 q 760 449 760 431 l 760 991 l 878 991 l 878 0 m 614 1072 q 560 1084 587 1072 q 507 1111 533 1096 q 458 1137 481 1125 q 412 1149 434 1149 q 366 1131 382 1149 q 340 1071 349 1113 l 269 1071 q 284 1145 273 1112 q 313 1201 295 1178 q 356 1237 331 1225 q 412 1250 381 1250 q 468 1238 441 1250 q 522 1212 496 1226 q 571 1186 547 1198 q 614 1174 594 1174 q 660 1192 644 1174 q 686 1251 675 1209 l 757 1251 q 742 1178 753 1211 q 713 1121 731 1145 q 670 1085 695 1098 q 614 1072 645 1072 z " }, "": { ha: 1031, x_min: 85, x_max: 945, o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 590 1071 l 509 1071 q 457 1118 485 1090 q 403 1176 429 1146 q 356 1233 377 1206 q 323 1279 334 1261 l 323 1293 l 472 1293 q 497 1243 483 1270 q 528 1188 512 1215 q 559 1135 543 1160 q 590 1089 576 1109 l 590 1071 z " }, "": { ha: 1031, x_min: 85, x_max: 945, o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 441 1089 q 472 1135 456 1109 q 504 1188 488 1160 q 534 1243 520 1215 q 559 1293 549 1270 l 708 1293 l 708 1279 q 676 1233 697 1261 q 628 1176 654 1206 q 575 1118 602 1146 q 524 1071 547 1090 l 441 1071 l 441 1089 z " }, "": { ha: 1031, x_min: 85, x_max: 945, o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 743 1071 l 661 1071 q 590 1127 627 1094 q 518 1197 553 1160 q 446 1127 481 1160 q 375 1071 410 1094 l 293 1071 l 293 1089 q 334 1135 311 1109 q 379 1188 357 1160 q 422 1243 402 1215 q 453 1293 442 1270 l 583 1293 q 614 1243 594 1270 q 657 1188 634 1215 q 703 1135 680 1160 q 743 1089 726 1109 l 743 1071 z " }, "": { ha: 1031, x_min: 85, x_max: 945, o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 604 1072 q 550 1084 577 1072 q 498 1111 524 1096 q 448 1137 472 1125 q 403 1149 425 1149 q 356 1131 372 1149 q 330 1071 340 1113 l 260 1071 q 274 1145 263 1112 q 303 1201 286 1178 q 347 1237 321 1225 q 403 1250 372 1250 q 459 1238 431 1250 q 512 1212 486 1226 q 561 1186 538 1198 q 604 1174 585 1174 q 650 1192 635 1174 q 676 1251 666 1209 l 747 1251 q 733 1178 744 1211 q 704 1121 722 1145 q 661 1085 686 1098 q 604 1072 635 1072 z " }, "": { ha: 1031, x_min: 85, x_max: 945, o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 323 1175 q 342 1228 323 1212 q 389 1244 361 1244 q 435 1228 415 1244 q 454 1175 454 1211 q 435 1122 454 1139 q 389 1105 415 1105 q 342 1122 361 1105 q 323 1175 323 1139 m 578 1175 q 597 1228 578 1212 q 643 1244 616 1244 q 668 1240 656 1244 q 688 1228 680 1236 q 703 1206 697 1219 q 708 1175 708 1194 q 688 1122 708 1139 q 643 1105 669 1105 q 597 1122 616 1105 q 578 1175 578 1139 z " }, "": { ha: 765, x_min: 96, x_max: 671, o: "m 311 490 l 96 707 l 167 778 l 382 562 l 600 778 l 671 708 l 453 490 l 669 273 l 600 204 l 382 419 l 167 205 l 97 275 l 311 490 z " }, "": { ha: 1031, x_min: 85, x_max: 945, o: "m 882 986 l 819 885 q 913 720 881 818 q 945 497 945 621 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 297 35 387 -14 l 244 -52 l 151 1 l 212 100 q 116 269 146 168 q 85 498 85 370 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 635 993 581 1007 q 734 953 690 979 l 789 1039 l 882 986 m 218 497 q 234 337 218 408 q 282 214 250 267 l 675 854 q 604 885 642 874 q 517 896 565 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 811 497 q 751 774 811 671 l 359 136 q 430 107 391 117 q 515 97 469 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 z " }, "": { ha: 970, x_min: 125, x_max: 844, o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 574 1071 l 493 1071 q 441 1118 469 1090 q 388 1176 414 1146 q 340 1233 361 1206 q 308 1279 319 1261 l 308 1293 l 456 1293 q 482 1243 467 1270 q 512 1188 496 1215 q 544 1135 528 1160 q 574 1089 560 1109 l 574 1071 z " }, "": { ha: 970, x_min: 125, x_max: 844, o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 400 1089 q 431 1135 415 1109 q 463 1188 447 1160 q 493 1243 479 1215 q 518 1293 507 1270 l 667 1293 l 667 1279 q 634 1233 656 1261 q 587 1176 613 1206 q 533 1118 561 1146 q 482 1071 506 1090 l 400 1071 l 400 1089 z " }, "": { ha: 970, x_min: 125, x_max: 844, o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 707 1071 l 625 1071 q 554 1127 591 1094 q 482 1197 517 1160 q 410 1127 446 1160 q 339 1071 374 1094 l 257 1071 l 257 1089 q 298 1135 275 1109 q 343 1188 321 1160 q 386 1243 366 1215 q 417 1293 406 1270 l 547 1293 q 578 1243 558 1270 q 621 1188 598 1215 q 667 1135 644 1160 q 707 1089 690 1109 l 707 1071 z " }, "": { ha: 970, x_min: 125, x_max: 844, o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 293 1175 q 312 1228 293 1212 q 358 1244 331 1244 q 404 1228 385 1244 q 424 1175 424 1211 q 404 1122 424 1139 q 358 1105 385 1105 q 312 1122 331 1105 q 293 1175 293 1139 m 547 1175 q 566 1228 547 1212 q 612 1244 585 1244 q 637 1240 625 1244 q 658 1228 649 1236 q 672 1206 667 1219 q 677 1175 677 1194 q 658 1122 677 1139 q 612 1105 638 1105 q 566 1122 585 1105 q 547 1175 547 1139 z " }, "": { ha: 732, x_min: 0, x_max: 732, o: "m 366 490 l 596 991 l 732 991 l 429 386 l 429 0 l 302 0 l 302 379 l 0 991 l 138 991 l 366 490 m 300 1089 q 331 1135 315 1109 q 362 1188 347 1160 q 393 1243 378 1215 q 418 1293 407 1270 l 566 1293 l 566 1279 q 534 1233 555 1261 q 487 1176 513 1206 q 433 1118 460 1146 q 382 1071 406 1090 l 300 1071 l 300 1089 z " }, "": { ha: 800, x_min: 135, x_max: 729, o: "m 729 530 q 710 412 729 469 q 649 311 692 355 q 536 241 606 267 q 363 215 466 215 l 261 215 l 261 0 l 135 0 l 135 991 l 261 991 l 261 821 l 380 821 q 537 801 471 821 q 646 745 603 782 q 709 654 688 708 q 729 530 729 600 m 261 322 l 349 322 q 459 333 412 322 q 537 368 506 344 q 583 430 568 392 q 599 524 599 469 q 543 667 599 621 q 370 713 488 713 l 261 713 l 261 322 z " }, "": { ha: 836, x_min: 118, x_max: 774, o: "m 685 854 q 670 786 685 816 q 634 731 656 755 q 588 686 613 706 q 541 647 562 665 q 505 610 519 628 q 490 571 490 591 q 495 546 490 557 q 513 521 500 534 q 550 491 526 508 q 612 449 574 475 q 680 399 650 424 q 731 347 710 375 q 763 287 751 319 q 774 212 774 254 q 755 111 774 153 q 702 40 736 68 q 620 0 667 13 q 514 -14 572 -14 q 401 -2 448 -14 q 318 33 354 10 l 318 146 q 358 124 336 135 q 404 106 380 114 q 454 93 429 98 q 505 87 480 87 q 571 96 543 87 q 616 120 598 104 q 642 157 633 135 q 650 205 650 178 q 644 250 650 230 q 624 289 638 270 q 585 328 609 308 q 522 371 560 347 q 451 421 479 398 q 404 467 422 444 q 378 513 386 490 q 371 566 371 537 q 385 629 371 602 q 420 677 399 656 q 465 717 441 699 q 511 755 490 735 q 546 797 532 774 q 559 850 559 820 q 548 899 559 878 q 517 934 537 920 q 468 955 496 948 q 406 961 440 961 q 342 955 372 961 q 290 932 313 948 q 255 887 268 916 q 241 815 241 859 l 241 0 l 118 0 l 118 814 q 139 932 118 884 q 199 1009 161 980 q 290 1050 237 1038 q 406 1063 343 1063 q 519 1050 468 1063 q 608 1011 571 1037 q 665 946 644 985 q 685 854 685 907 z " }, "": { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 460 842 l 378 842 q 327 889 355 861 q 273 947 299 917 q 225 1004 247 977 q 193 1050 204 1031 l 193 1064 l 342 1064 q 367 1014 353 1041 q 397 959 382 986 q 429 905 413 931 q 460 860 446 880 l 460 842 z " }, "": { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 302 860 q 333 905 317 880 q 365 959 349 931 q 395 1014 381 986 q 420 1064 410 1041 l 569 1064 l 569 1050 q 537 1004 558 1031 q 489 947 515 977 q 436 889 463 917 q 385 842 408 861 l 302 842 l 302 860 z " }, "": { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 605 842 l 523 842 q 452 898 488 865 q 380 968 415 930 q 307 898 343 930 q 237 842 271 865 l 155 842 l 155 860 q 195 905 172 880 q 241 959 218 931 q 284 1014 264 986 q 315 1064 304 1041 l 445 1064 q 476 1014 456 1041 q 518 959 496 986 q 565 905 541 931 q 605 860 588 880 l 605 842 z " }, "": { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 474 843 q 420 855 447 843 q 368 881 393 867 q 318 908 342 896 q 273 920 294 920 q 226 902 242 920 q 200 842 210 884 l 130 842 q 144 916 133 882 q 173 972 155 949 q 216 1008 191 996 q 273 1021 241 1021 q 329 1009 301 1021 q 382 983 356 997 q 431 957 408 968 q 474 945 454 945 q 520 962 505 945 q 546 1022 536 980 l 617 1022 q 603 948 614 981 q 573 892 591 916 q 530 856 555 869 q 474 843 505 843 z " }, "": { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 185 946 q 204 999 185 983 q 250 1015 223 1015 q 296 999 277 1015 q 316 946 316 982 q 296 893 316 910 q 250 876 277 876 q 204 893 223 876 q 185 946 185 910 m 439 946 q 458 999 439 983 q 505 1015 477 1015 q 529 1011 517 1015 q 550 999 541 1007 q 564 977 559 990 q 570 946 570 964 q 550 893 570 910 q 505 876 530 876 q 458 893 477 876 q 439 946 439 910 z " }, "": { ha: 737, x_min: 64, x_max: 627, o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 531 989 q 519 927 531 954 q 487 880 507 899 q 437 851 466 861 q 376 842 409 842 q 314 851 342 842 q 266 880 286 861 q 235 926 246 899 q 224 987 224 953 q 235 1049 224 1022 q 266 1095 246 1076 q 314 1123 286 1114 q 376 1133 342 1133 q 437 1123 408 1133 q 486 1095 465 1114 q 519 1049 507 1076 q 531 989 531 1023 m 452 987 q 430 1044 452 1023 q 376 1064 409 1064 q 320 1044 342 1064 q 299 987 299 1023 q 318 931 299 951 q 376 911 338 911 q 430 931 409 911 q 452 987 452 951 z " }, "": { ha: 1157, x_min: 64, x_max: 1088, o: "m 64 208 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 503 729 447 758 q 589 637 559 701 q 680 727 623 695 q 806 758 736 758 q 924 734 871 758 q 1013 666 976 710 q 1068 561 1049 623 q 1088 425 1088 500 l 1088 349 l 632 349 q 685 156 635 218 q 835 94 735 94 q 897 98 868 94 q 952 107 926 101 q 1004 124 979 114 q 1054 146 1029 134 l 1054 36 q 1002 14 1027 23 q 950 -2 977 4 q 894 -11 923 -8 q 832 -14 865 -14 q 670 25 739 -14 q 559 142 602 64 q 511 76 536 105 q 453 27 485 47 q 381 -3 420 7 q 292 -14 342 -14 q 202 0 243 -14 q 130 40 160 13 q 81 110 99 68 q 64 208 64 151 m 192 207 q 225 115 192 144 q 311 86 258 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 m 803 656 q 685 603 728 656 q 635 449 642 550 l 954 449 q 945 533 954 495 q 918 599 937 572 q 871 641 899 626 q 803 656 842 656 z " }, "": { ha: 643, x_min: 77, x_max: 596, o: "m 403 -14 q 275 8 334 -14 q 171 76 215 29 q 102 194 127 122 q 77 368 77 267 q 102 549 77 475 q 173 670 128 623 q 279 737 218 716 q 408 758 339 758 q 512 747 461 758 q 596 718 562 735 l 559 614 q 525 627 544 621 q 486 638 506 633 q 446 647 465 644 q 408 650 426 650 q 253 582 302 650 q 204 370 204 513 q 253 160 204 227 q 403 94 302 94 q 502 107 458 94 q 583 136 547 119 l 583 26 q 505 -3 547 7 q 403 -14 463 -14 m 495 -195 q 447 -297 495 -260 q 298 -334 399 -334 q 268 -332 283 -334 q 242 -328 252 -330 l 242 -254 q 269 -257 252 -256 q 296 -258 286 -258 q 372 -244 345 -258 q 399 -196 399 -229 q 390 -168 399 -180 q 366 -147 381 -156 q 329 -132 350 -138 q 282 -119 307 -125 l 343 0 l 425 0 l 387 -78 q 429 -92 410 -83 q 464 -115 449 -101 q 487 -149 478 -129 q 495 -195 495 -168 z " }, "": { ha: 743, x_min: 77, x_max: 673, o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 460 842 l 378 842 q 327 889 355 861 q 273 947 299 917 q 225 1004 247 977 q 193 1050 204 1031 l 193 1064 l 342 1064 q 367 1014 353 1041 q 397 959 382 986 q 429 905 413 931 q 460 860 446 880 l 460 842 z " }, "": { ha: 743, x_min: 77, x_max: 673, o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 322 860 q 353 905 337 880 q 385 959 369 931 q 415 1014 401 986 q 440 1064 429 1041 l 589 1064 l 589 1050 q 556 1004 578 1031 q 509 947 535 977 q 455 889 483 917 q 404 842 428 861 l 322 842 l 322 860 z " }, "": { ha: 743, x_min: 77, x_max: 673, o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 602 842 l 520 842 q 449 898 486 865 q 377 968 412 930 q 304 898 340 930 q 234 842 269 865 l 152 842 l 152 860 q 193 905 170 880 q 238 959 216 931 q 281 1014 261 986 q 312 1064 301 1041 l 442 1064 q 473 1014 453 1041 q 516 959 493 986 q 562 905 538 931 q 602 860 585 880 l 602 842 z " }, "": { ha: 743, x_min: 77, x_max: 673, o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 182 946 q 201 999 182 983 q 248 1015 220 1015 q 294 999 274 1015 q 313 946 313 982 q 294 893 313 910 q 248 876 274 876 q 201 893 220 876 q 182 946 182 910 m 437 946 q 456 999 437 983 q 502 1015 475 1015 q 527 1011 515 1015 q 547 999 538 1007 q 562 977 556 990 q 567 946 567 964 q 547 893 567 910 q 502 876 528 876 q 456 893 475 876 q 437 946 437 910 z " }, "": { ha: 359, x_min: -23, x_max: 243, o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 243 842 l 162 842 q 111 889 138 861 q 57 947 83 917 q 9 1004 31 977 q -23 1050 -12 1031 l -23 1064 l 125 1064 q 151 1014 136 1041 q 181 959 165 986 q 213 905 197 931 q 243 860 229 880 l 243 842 z " }, "": { ha: 359, x_min: 118, x_max: 392, o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 125 860 q 156 905 140 880 q 188 959 172 931 q 218 1014 204 986 q 243 1064 233 1041 l 392 1064 l 392 1050 q 360 1004 381 1031 q 312 947 338 977 q 259 889 286 917 q 208 842 231 861 l 125 842 l 125 860 z " }, "": { ha: 359, x_min: -45, x_max: 405, o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 405 842 l 323 842 q 252 898 288 865 q 180 968 215 930 q 107 898 143 930 q 37 842 71 865 l -45 842 l -45 860 q -5 905 -28 880 q 41 959 18 931 q 84 1014 64 986 q 115 1064 104 1041 l 245 1064 q 276 1014 256 1041 q 318 959 296 986 q 365 905 341 931 q 405 860 388 880 l 405 842 z " }, "": { ha: 359, x_min: -12, x_max: 372, o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m -12 946 q 7 999 -12 983 q 53 1015 26 1015 q 99 999 79 1015 q 119 946 119 982 q 99 893 119 910 q 53 876 79 876 q 7 893 26 876 q -12 946 -12 910 m 242 946 q 261 999 242 983 q 307 1015 280 1015 q 332 1011 320 1015 q 353 999 344 1007 q 367 977 361 990 q 372 946 372 964 q 353 893 372 910 q 307 876 333 876 q 261 893 280 876 q 242 946 242 910 z " }, "": { ha: 802, x_min: 75, x_max: 725, o: "m 725 389 q 702 218 725 292 q 637 92 680 143 q 534 13 595 40 q 399 -14 474 -14 q 269 9 328 -14 q 166 74 210 31 q 99 180 123 117 q 75 323 75 243 q 97 467 75 404 q 158 572 118 529 q 255 636 198 614 q 383 659 312 659 q 505 638 452 659 q 586 578 557 618 l 591 581 q 530 726 570 661 q 428 846 489 791 l 254 742 l 204 819 l 351 908 q 295 946 324 927 q 235 982 267 964 l 282 1065 q 368 1019 326 1044 q 449 965 409 995 l 603 1059 l 653 982 l 521 903 q 604 806 566 859 q 668 689 642 753 q 710 551 695 626 q 725 389 725 476 m 597 357 q 586 431 597 395 q 551 495 574 467 q 490 540 527 523 q 401 557 452 557 q 312 541 349 557 q 252 496 275 526 q 217 421 228 466 q 205 319 205 377 q 217 225 205 268 q 252 153 228 183 q 313 105 276 122 q 401 89 350 89 q 552 156 506 89 q 597 357 597 224 z " }, "": { ha: 818, x_min: 118, x_max: 707, o: "m 583 0 l 583 479 q 548 612 583 568 q 436 656 512 656 q 344 638 381 656 q 284 586 307 621 q 251 501 261 551 q 241 386 241 451 l 241 0 l 118 0 l 118 745 l 218 745 l 236 644 l 243 644 q 283 695 260 673 q 334 730 307 716 q 393 751 362 745 q 457 758 425 758 q 644 693 581 758 q 707 486 707 629 l 707 0 l 583 0 m 515 843 q 461 855 488 843 q 408 881 434 867 q 359 908 382 896 q 313 920 335 920 q 267 902 283 920 q 241 842 250 884 l 170 842 q 185 916 174 882 q 214 972 196 949 q 257 1008 232 996 q 313 1021 282 1021 q 369 1009 342 1021 q 422 983 397 997 q 472 957 448 968 q 515 945 495 945 q 561 962 545 945 q 587 1022 576 980 l 658 1022 q 643 948 654 981 q 614 892 632 916 q 571 856 596 869 q 515 843 546 843 z " }, "": { ha: 802, x_min: 77, x_max: 725, o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 506 842 l 425 842 q 373 889 401 861 q 319 947 345 917 q 272 1004 293 977 q 239 1050 250 1031 l 239 1064 l 388 1064 q 413 1014 399 1041 q 444 959 428 986 q 475 905 459 931 q 506 860 492 880 l 506 842 z " }, "": { ha: 802, x_min: 77, x_max: 725, o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 321 860 q 352 905 336 880 q 384 959 368 931 q 414 1014 399 986 q 439 1064 428 1041 l 587 1064 l 587 1050 q 555 1004 576 1031 q 508 947 534 977 q 454 889 481 917 q 403 842 427 861 l 321 842 l 321 860 z " }, "": { ha: 802, x_min: 77, x_max: 725, o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 622 842 l 540 842 q 469 898 505 865 q 397 968 432 930 q 324 898 360 930 q 254 842 288 865 l 172 842 l 172 860 q 212 905 189 880 q 258 959 235 931 q 301 1014 281 986 q 332 1064 321 1041 l 462 1064 q 493 1014 473 1041 q 535 959 513 986 q 582 905 558 931 q 622 860 605 880 l 622 842 z " }, "": { ha: 802, x_min: 77, x_max: 725, o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 499 843 q 445 855 472 843 q 393 881 418 867 q 343 908 367 896 q 298 920 319 920 q 251 902 267 920 q 225 842 235 884 l 155 842 q 169 916 158 882 q 198 972 180 949 q 241 1008 216 996 q 298 1021 267 1021 q 354 1009 326 1021 q 407 983 381 997 q 456 957 433 968 q 499 945 479 945 q 545 962 530 945 q 571 1022 561 980 l 642 1022 q 628 948 639 981 q 598 892 616 916 q 555 856 581 869 q 499 843 530 843 z " }, "": { ha: 802, x_min: 77, x_max: 725, o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 203 946 q 222 999 203 983 q 269 1015 241 1015 q 315 999 295 1015 q 334 946 334 982 q 315 893 334 910 q 269 876 295 876 q 222 893 241 876 q 203 946 203 910 m 458 946 q 477 999 458 983 q 523 1015 496 1015 q 548 1011 536 1015 q 568 999 559 1007 q 583 977 577 990 q 588 946 588 964 q 568 893 588 910 q 523 876 549 876 q 477 893 496 876 q 458 946 458 910 z " }, "": { ha: 765, x_min: 69, x_max: 696, o: "m 69 439 l 69 541 l 696 541 l 696 439 l 69 439 m 304 253 q 311 293 304 277 q 327 319 317 309 q 352 333 338 329 q 382 338 366 338 q 412 333 397 338 q 437 319 426 329 q 454 293 448 309 q 460 253 460 277 q 454 215 460 231 q 437 188 448 199 q 412 173 426 178 q 382 168 397 168 q 352 173 366 168 q 327 188 338 178 q 311 215 317 199 q 304 253 304 231 m 304 726 q 311 766 304 750 q 327 792 317 782 q 352 807 338 802 q 382 811 366 811 q 412 807 397 811 q 437 792 426 802 q 454 766 448 782 q 460 726 460 750 q 454 688 460 704 q 437 662 448 672 q 412 646 426 651 q 382 642 397 642 q 352 646 366 642 q 327 662 338 651 q 311 688 317 672 q 304 726 304 704 z " }, "": { ha: 802, x_min: 78, x_max: 726, o: "m 726 374 q 704 209 726 281 q 638 87 681 136 q 536 12 596 38 q 400 -14 475 -14 q 249 22 315 -14 l 203 -52 l 114 -1 l 168 87 q 102 209 125 136 q 78 374 78 281 q 101 537 78 466 q 165 658 123 609 q 268 733 208 707 q 404 758 329 758 q 485 748 447 758 q 557 720 524 739 l 603 793 l 692 743 l 637 656 q 703 535 680 606 q 726 374 726 465 m 205 374 q 212 272 205 317 q 233 193 218 228 l 503 632 q 457 650 483 644 q 401 656 432 656 q 251 586 297 656 q 205 374 205 515 m 599 374 q 572 549 599 481 l 302 111 q 348 94 323 100 q 403 89 372 89 q 553 160 507 89 q 599 374 599 232 z " }, "": { ha: 818, x_min: 111, x_max: 700, o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 470 842 l 389 842 q 337 889 365 861 q 283 947 309 917 q 236 1004 257 977 q 203 1050 214 1031 l 203 1064 l 352 1064 q 377 1014 363 1041 q 408 959 392 986 q 439 905 423 931 q 470 860 456 880 l 470 842 z " }, "": { ha: 818, x_min: 111, x_max: 700, o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 332 860 q 362 905 347 880 q 394 959 378 931 q 425 1014 410 986 q 450 1064 439 1041 l 598 1064 l 598 1050 q 566 1004 587 1031 q 518 947 545 977 q 465 889 492 917 q 414 842 437 861 l 332 842 l 332 860 z " }, "": { ha: 818, x_min: 111, x_max: 700, o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 631 842 l 549 842 q 477 898 514 865 q 406 968 441 930 q 333 898 369 930 q 262 842 297 865 l 180 842 l 180 860 q 221 905 198 880 q 267 959 244 931 q 310 1014 290 986 q 340 1064 330 1041 l 471 1064 q 502 1014 481 1041 q 544 959 522 986 q 590 905 567 931 q 631 860 614 880 l 631 842 z " }, "": { ha: 818, x_min: 111, x_max: 700, o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 210 946 q 229 999 210 983 q 275 1015 248 1015 q 321 999 301 1015 q 340 946 340 982 q 321 893 340 910 q 275 876 301 876 q 229 893 248 876 q 210 946 210 910 m 464 946 q 483 999 464 983 q 529 1015 502 1015 q 554 1011 542 1015 q 574 999 566 1007 q 589 977 583 990 q 594 946 594 964 q 574 893 594 910 q 529 876 555 876 q 483 893 502 876 q 464 946 464 910 z " }, "": { ha: 679, x_min: 7, x_max: 672, o: "m 7 745 l 135 745 l 281 329 q 300 272 290 302 q 318 212 310 242 q 333 155 327 182 q 342 103 339 127 l 346 103 q 357 149 349 120 q 373 211 364 178 q 392 276 382 244 q 410 330 402 308 l 545 745 l 672 745 l 378 -97 q 337 -196 359 -152 q 286 -270 315 -239 q 217 -317 256 -300 q 123 -334 178 -334 q 62 -330 88 -334 q 18 -322 37 -326 l 18 -224 q 54 -230 33 -227 q 100 -232 76 -232 q 156 -224 132 -232 q 197 -201 180 -216 q 228 -165 215 -186 q 250 -115 240 -143 l 289 -7 l 7 745 m 276 860 q 307 905 291 880 q 339 959 323 931 q 369 1014 355 986 q 394 1064 383 1041 l 543 1064 l 543 1050 q 510 1004 532 1031 q 463 947 489 977 q 409 889 437 917 q 358 842 382 861 l 276 842 l 276 860 z " }, "": { ha: 814, x_min: 118, x_max: 737, o: "m 241 644 q 277 689 257 668 q 322 725 296 709 q 381 749 349 740 q 454 758 414 758 q 570 734 518 758 q 660 661 623 709 q 717 541 696 612 q 737 374 737 469 q 717 206 737 278 q 660 85 696 134 q 570 11 623 36 q 454 -14 518 -14 q 382 -5 414 -14 q 323 19 349 4 q 277 53 297 33 q 241 94 257 73 l 233 94 q 237 50 235 71 q 240 14 239 33 q 241 -16 241 -5 l 241 -334 l 118 -334 l 118 1055 l 241 1055 l 241 745 l 236 644 l 241 644 m 431 656 q 343 640 379 656 q 286 593 308 625 q 253 513 264 561 q 241 401 243 466 l 241 374 q 251 252 241 305 q 282 162 260 199 q 340 107 304 126 q 432 89 377 89 q 567 163 524 89 q 610 375 610 237 q 567 586 610 516 q 431 656 524 656 z " }, "": { ha: 679, x_min: 7, x_max: 672, o: "m 7 745 l 135 745 l 281 329 q 300 272 290 302 q 318 212 310 242 q 333 155 327 182 q 342 103 339 127 l 346 103 q 357 149 349 120 q 373 211 364 178 q 392 276 382 244 q 410 330 402 308 l 545 745 l 672 745 l 378 -97 q 337 -196 359 -152 q 286 -270 315 -239 q 217 -317 256 -300 q 123 -334 178 -334 q 62 -330 88 -334 q 18 -322 37 -326 l 18 -224 q 54 -230 33 -227 q 100 -232 76 -232 q 156 -224 132 -232 q 197 -201 180 -216 q 228 -165 215 -186 q 250 -115 240 -143 l 289 -7 l 7 745 m 155 946 q 174 999 155 983 q 220 1015 193 1015 q 266 999 246 1015 q 286 946 286 982 q 266 893 286 910 q 220 876 246 876 q 174 893 193 876 q 155 946 155 910 m 409 946 q 428 999 409 983 q 474 1015 447 1015 q 499 1011 487 1015 q 519 999 511 1007 q 534 977 528 990 q 539 946 539 964 q 519 893 539 910 q 474 876 500 876 q 428 893 447 876 q 409 946 409 910 z " }, "": { ha: 359, x_min: 118, x_max: 241, o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 z " }, "": { ha: 802, x_min: 175, x_max: 625, o: "m 625 842 l 543 842 q 472 898 509 865 q 400 968 435 930 q 328 898 363 930 q 257 842 292 865 l 175 842 l 175 860 q 216 905 193 880 q 261 959 239 931 q 304 1014 284 986 q 335 1064 324 1041 l 465 1064 q 496 1014 476 1041 q 539 959 516 986 q 585 905 562 931 q 625 860 608 880 l 625 842 z " }, "": { ha: 802, x_min: 248, x_max: 554, o: "m 554 989 q 542 927 554 954 q 510 880 530 899 q 460 851 489 861 q 399 842 432 842 q 337 851 365 842 q 289 880 309 861 q 258 926 269 899 q 248 987 248 953 q 258 1049 248 1022 q 289 1095 269 1076 q 337 1123 309 1114 q 399 1133 365 1133 q 460 1123 431 1133 q 509 1095 488 1114 q 542 1049 530 1076 q 554 989 554 1023 m 475 987 q 453 1044 475 1023 q 399 1064 432 1064 q 343 1044 365 1064 q 322 987 322 1023 q 341 931 322 951 q 399 911 361 911 q 453 931 432 911 q 475 987 475 951 z " }, "": { ha: 802, x_min: 175, x_max: 663, o: "m 519 843 q 466 855 492 843 q 413 881 439 867 q 363 908 387 896 q 318 920 340 920 q 271 902 288 920 q 245 842 255 884 l 175 842 q 190 916 178 882 q 219 972 201 949 q 262 1008 237 996 q 318 1021 287 1021 q 374 1009 347 1021 q 427 983 401 997 q 476 957 453 968 q 519 945 500 945 q 566 962 550 945 q 591 1022 581 980 l 663 1022 q 648 948 659 981 q 619 892 637 916 q 576 856 601 869 q 519 843 551 843 z " }, "": { ha: 694, x_min: 56, x_max: 639, o: "m 56 315 l 56 429 l 639 429 l 639 315 l 56 315 z " }, "": { ha: 1389, x_min: 56, x_max: 1333, o: "m 56 315 l 56 429 l 1333 429 l 1333 315 l 56 315 z " }, "": { ha: 243, x_min: 16, x_max: 228, o: "m 25 652 l 16 667 q 38 745 25 703 q 67 828 52 786 q 100 912 83 870 q 135 991 118 954 l 228 991 q 208 905 218 950 q 189 816 198 861 q 173 730 180 772 q 160 652 165 688 l 25 652 z " }, "": { ha: 243, x_min: 16, x_max: 228, o: "m 218 991 l 228 977 q 205 898 218 939 q 176 815 192 857 q 143 731 160 772 q 109 652 125 690 l 16 652 q 35 737 25 692 q 54 827 45 782 q 71 913 63 871 q 83 991 78 956 l 218 991 z " }, "": { ha: 347, x_min: 43, x_max: 256, o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 z " }, "": { ha: 504, x_min: 16, x_max: 489, o: "m 286 652 l 277 667 q 299 745 286 703 q 328 828 313 786 q 361 912 344 870 q 396 991 379 954 l 489 991 q 469 905 479 950 q 450 816 459 861 q 434 730 441 772 q 421 652 427 688 l 286 652 m 25 652 l 16 667 q 38 745 25 703 q 67 828 52 786 q 100 912 83 870 q 135 991 118 954 l 228 991 q 208 905 218 950 q 189 816 198 861 q 173 730 180 772 q 160 652 165 688 l 25 652 z " }, "": { ha: 504, x_min: 16, x_max: 489, o: "m 218 991 l 228 977 q 205 898 218 939 q 176 815 192 857 q 143 731 160 772 q 109 652 125 690 l 16 652 q 35 737 25 692 q 54 827 45 782 q 71 913 63 871 q 83 991 78 956 l 218 991 m 479 991 l 489 977 q 466 898 479 939 q 437 815 453 857 q 404 731 421 772 q 370 652 387 690 l 277 652 q 296 737 286 692 q 315 827 306 782 q 332 913 324 871 q 345 991 339 956 l 479 991 z " }, "": { ha: 608, x_min: 43, x_max: 517, o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 m 507 161 l 517 146 q 494 68 507 109 q 465 -16 481 26 q 432 -99 449 -58 q 397 -179 414 -141 l 304 -179 q 324 -93 314 -138 q 343 -4 334 -48 q 359 83 352 41 q 372 161 367 125 l 507 161 z " }, "": { ha: 522, x_min: 102, x_max: 421, o: "m 102 507 q 114 589 102 555 q 148 645 126 623 q 198 675 169 666 q 261 685 227 685 q 323 675 294 685 q 374 645 353 666 q 409 589 396 623 q 421 507 421 555 q 409 426 421 460 q 374 371 396 392 q 323 339 353 349 q 261 329 294 329 q 198 339 227 329 q 148 371 169 349 q 114 426 126 392 q 102 507 102 460 z " }, "": { ha: 400, x_min: 56, x_max: 345, o: "m 56 375 l 265 656 l 345 603 l 183 367 l 345 131 l 265 78 l 56 357 l 56 375 z " }, "": { ha: 400, x_min: 56, x_max: 345, o: "m 345 357 l 135 78 l 56 131 l 216 367 l 56 603 l 135 656 l 345 375 l 345 357 z " }, "": { ha: 180, x_min: -239, x_max: 418, o: "m 418 991 l -132 0 l -239 0 l 311 991 l 418 991 z " } }, familyName: "Droid Sans", ascender: 1293, descender: -334, underlinePosition: -154, underlineThickness: 102, boundingBox: { yMin: -492, xMin: -352, yMax: 1907, xMax: 1966 }, resolution: 1e3, original_font_information: { format: 0, copyright: "Digitized data copyright  2007, Google Corporation.", fontFamily: "Droid Sans", fontSubfamily: "Regular", uniqueID: "Ascender - Droid Sans", fullName: "Droid Sans", version: "Version 1.00 build 113", postScriptName: "DroidSans", trademark: "Droid is a trademark of Google and may be registered in certain jurisdictions.", manufacturer: "Ascender Corporation", description: "Droid Sans is a humanist sans serif typeface designed for user interfaces and electronic communication.", manufacturerURL: "http://www.ascendercorp.com/", designerURL: "http://www.ascendercorp.com/typedesigners.html", licence: "Licensed under the Apache License, Version 2.0", licenceURL: "http://www.apache.org/licenses/LICENSE-2.0", compatibleFullName: "Droid Sans" }, cssFontWeight: "normal", cssFontStyle: "normal" };
var KN = class {
  constructor() {
    this.fonts = {}, this.getFont = this.getFont.bind(this);
  }
  getFont(t48) {
    if (this.fonts[t48])
      return this.fonts[t48];
    if (!t48)
      return Promise.resolve(MX);
    switch (t48) {
      case "arrival":
        return this.fonts[t48] = import("./Arrival-4TTHZQOF-LUY4PRTY.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "chalet-parisnineteensixty":
        return this.fonts[t48] = import("./Chalet-LUA2Z236-5JBCLO6L.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "helvetica neue":
        return this.fonts[t48] = import("./HelveticaNeue-U3XEZDB5-ENMLUMBQ.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "helvetiker":
        return this.fonts[t48] = import("./Helvetiker-WFBA7C7H-KPGYJ7QM.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "lato":
        return this.fonts[t48] = import("./Lato-ZI244CQU-PTUQEG2J.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "myriad pro":
        return this.fonts[t48] = import("./MyriadPro-XF3IH7EM-H62F72E2.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "proxima nova medium":
        return this.fonts[t48] = import("./ProximaNova-YIIK4S37-NTVYNY3E.js").then((t49) => Qc(t49)), this.fonts[t48];
      case "simon circular book":
        return this.fonts[t48] = import("./SimonCircular-NQ53YBIJ-Q2OE7S72.js").then((t49) => Qc(t49)), this.fonts[t48];
      default:
        return Promise.resolve(MX);
    }
  }
};
q(KN, "FontLib");
var QN = KN;
var EX = new QN();
var Qc = q(function(t48) {
  let e6 = {}, i = {};
  Object.keys(Hg.glyphs).forEach(function(t49) {
    i[t49] = Hg.glyphs[t49];
  }), Object.keys(t48.glyphs).forEach(function(e10) {
    i[e10] = t48.glyphs[e10];
  }), Object.keys(Hg).forEach(function(t49) {
    e6[t49] = Hg[t49];
  }), e6.glyphs = i;
  let n = new c3(e6);
  n._mSupportedCharacters = Object.keys(e6.glyphs).join("");
  let r = n._mSupportedCharacters.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
  return n._mInvalidCharacters = new RegExp("[^" + r + "]", "g"), n;
}, "createFont");
var MX = Qc(Hg);
c();
var d2 = "x";
var m2 = "y";
var Kp = "z";
function JN(t48, e6, i) {
  t48.computeBoundingBox();
  let n = t48.boundingBox, r = Math.max(i.width, i.height) / 1e3, o3 = Math.max(i.width * r, i.height * r), s6 = { min: new K(0, 0, 0), max: new K(1, 1, 1).multiplyScalar(o3) }, a = {};
  e6.forEach((t49) => {
    a[t49.name] = t49;
  });
  let l, h, c2 = t48.getAttribute("position"), p4 = t48.getAttribute("normal"), d = t48.getAttribute("uv");
  Le.assert(c2.count == p4.count), Le.assert(c2.count == d.count), t48.index ? (Le.assert(t48.index.count % 3 == 0), l = t48.index.count / 3, h = q(function(e10, i10) {
    return t48.index.getX(3 * e10 + i10);
  }, "meshIndex")) : (Le.assert(c2.count % 3 == 0), l = c2.count / 3, h = q(function(t49, e10) {
    return 3 * t49 + e10;
  }, "meshIndex"));
  let f = a.side || {}, g = a.front || {}, m = null != f.repeat ? f.repeat.u : 1, v4 = null != f.repeat ? f.repeat.v : 1, y4 = null != f.offset ? f.offset.u : 1, x4 = null != f.offset ? f.offset.v : 1, _ = null != f.rotation ? f.rotation : 0, b = f.useLocalScaling || false, M = null != g.repeat ? g.repeat.u : 1, E = null != g.repeat ? g.repeat.v : 1, w4 = null != g.offset ? g.offset.u : 1, A = null != g.offset ? g.offset.v : 1, S = null != g.rotation ? g.rotation : 0, T = g.useLocalScaling || false;
  for (let t49 = 0; t49 < l; ++t49) {
    let e10 = p4.getX(h(t49, 0)) + p4.getX(h(t49, 1)) + p4.getX(h(t49, 2)), i10 = p4.getY(h(t49, 0)) + p4.getY(h(t49, 1)) + p4.getY(h(t49, 2)), r6 = p4.getZ(h(t49, 0)) + p4.getZ(h(t49, 1)) + p4.getZ(h(t49, 2)), o6 = Math.abs(e10), a3 = Math.abs(i10), l3 = Math.abs(r6);
    var C, P, I, L, O, N, D, R;
    o6 <= a3 && o6 <= l3 ? (C = d2, P = a3 <= l3 ? m2 : Kp) : a3 <= o6 && a3 <= l3 ? (C = m2, P = o6 <= l3 ? d2 : Kp) : (C = Kp, P = o6 <= a3 ? d2 : m2), C === Kp && (C = P, P = Kp), P === Kp || C === Kp ? (I = m, L = v4, O = y4, N = x4, D = _, R = b ? n : s6) : (I = M, L = E, O = w4, N = A, D = S, R = T ? n : s6);
    let u2 = R.min, f2 = R.max, g4 = Math.abs(f2[C] - u2[C]), k = Math.abs(f2[P] - u2[P]), F = D * Math.PI / 180 || 0, U = Math.cos(F), z = Math.sin(F);
    for (let e11 = 0; e11 < 3; e11++) {
      let i11 = c2.getX(h(t49, e11)), n10 = c2.getY(h(t49, e11)), r10 = c2.getZ(h(t49, e11));
      var q4, B;
      q4 = C === d2 ? I * (i11 - u2[C]) / g4 + O : C === m2 ? I * (n10 - u2[C]) / g4 + O : I * (r10 - u2[C]) / g4 + O, B = P === d2 ? L * (i11 - u2[P]) / k + N : P === m2 ? L * (n10 - u2[P]) / k + N : L * (r10 - u2[P]) / k + N;
      let o7 = (q4 -= 0.5) * U - (B -= 0.5) * z + 0.5, s10 = q4 * z + B * U + 0.5;
      d.setX(h(t49, e11), o7), d.setY(h(t49, e11), s10);
    }
  }
  t48.uvsNeedUpdate = true;
}
q(JN, "updateUVs");
var pn = class t43 extends al {
  constructor(e6, i, n, r, o3 = "SINGLE_GEOMETRY") {
    var s6, a;
    super(), v(this, "polygon"), v(this, "mapClass"), v(this, "container"), v(this, "visible"), v(this, "mode"), v(this, "assetManager"), v(this, "imageVisible"), v(this, "labelVisible"), v(this, "boundingBox"), v(this, "polygonHeight"), v(this, "geometry"), v(this, "mesh"), v(this, "material"), v(this, "labelMesh"), v(this, "imageMesh"), v(this, "sortScore", null), this.mode = o3, this.polygon = e6, this.mapClass = i, this.container = n, this.assetManager = r;
    let l = false !== e6.geometry.visible, u2 = true === (null == (s6 = e6.image) ? void 0 : s6.visible) && (null != e6.image.url || null != e6.image.original), h = true === (null == (a = e6.label) ? void 0 : a.visible) && null != e6.label.text;
    (l || u2 || h) && t43._setPolygonDefaults(e6), this.visible = l, this.imageVisible = u2, this.labelVisible = h, this.load = this.load.bind(this), u2 && (this.imageMesh = new Ft(new To(1, 1)));
  }
  static getDefaultMaterial() {
    return t43.defaultMaterial || (t43.defaultMaterial = new ol({ color: 0 })), t43.defaultMaterial;
  }
  static getWeightedCenter(t48) {
    let e6 = t48.reduce((t49, e10) => ({ x: t49.x + e10.x, y: t49.y + e10.y }), { x: 0, y: 0 });
    return e6.x /= t48.length, e6.y /= t48.length, e6;
  }
  static getBoundingCentre(t48) {
    let e6 = 1 / 0, i = 1 / 0, n = -1 / 0, r = -1 / 0;
    return t48.forEach((t49) => {
      t49.x > n && (n = t49.x), t49.x < e6 && (e6 = t49.x), t49.y > r && (r = t49.y), t49.y < i && (i = t49.y);
    }), { x: (e6 + n) / 2, y: (i + r) / 2 };
  }
  static _makeFromCoords(t48, e6, i) {
    let n = new t48();
    return n.moveTo(e6[0].x - i.width / 2, -e6[0].y + i.height / 2), e6.slice(1).forEach((t49) => n.lineTo(t49.x - i.width / 2, -t49.y + i.height / 2)), n.lineTo(e6[0].x - i.width / 2, -e6[0].y + i.height / 2), n;
  }
  static _setPolygonDefaults(t48) {
    let e6 = { visible: true, position: { x: 0, y: 0, z: 0 }, rotation: { x: 0, y: 0, z: 0 }, scale: { x: 1, y: 1, z: 5 }, bevel: { size: 0, thickness: 0, segments: 1 }, offset: 0 };
    return t48.layer || (t48.layer = "Polygon"), t48.geometry = (0, Kc.default)(t48.geometry, e6), t48.geometry.bevel = (0, Kc.default)(t48.geometry.bevel, e6.bevel), t48.image && (t48.image.position = (0, Kc.default)(t48.image.position, e6.position), t48.image.rotation = (0, Kc.default)(t48.image.rotation, e6.rotation), t48.image.scale = (0, Kc.default)(t48.image.scale, e6.scale)), t48.label && (t48.label.position = (0, Kc.default)(t48.label.position, e6.position), t48.label.rotation = (0, Kc.default)(t48.label.rotation, e6.rotation), t48.label.scale = (0, Kc.default)(t48.label.scale, e6.scale), t48.label.color = t48.label.color || "#000000", t48.label.fontSize = t48.label.fontSize || 20), t48;
  }
  getBoundingBox() {
    if (this.boundingBox)
      return this.boundingBox;
    let t48 = 1 / 0, e6 = 1 / 0, i = -1 / 0, n = -1 / 0, r = -this.mapClass.width / 2, o3 = this.mapClass.height / 2;
    return this.polygon.vertexes.forEach((s6) => {
      s6.x + r > i && (i = s6.x + r), s6.x + r < t48 && (t48 = s6.x + r), -s6.y + o3 > n && (n = -s6.y + o3), -s6.y + o3 < e6 && (e6 = -s6.y + o3);
    }), this.boundingBox = { min: { x: t48, y: e6, z: 0 }, max: { x: i, y: n, z: 0 } }, this.boundingBox;
  }
  async load() {
    var e6;
    let i = this.polygon, n = this.mapClass;
    if (this.visible) {
      let r = i.vertexes, o3 = Math.max(n.width, n.height) / 1e3;
      (this.imageVisible || i.geometry.offset) && (r = t43._clip(r, 0), r = t43._clip(r, i.geometry.offset), i.vertexes = r);
      let s6, a = t43._makeFromCoords(Ul, r, n);
      i.holes && (a.holes = i.holes.map((e10) => t43._makeFromCoords(Bp, e10, n))), s6 = i.geometry.bevel ? { bevelEnabled: true, depth: i.geometry.scale.z * o3, bevelThickness: i.geometry.bevel.thickness * i.geometry.scale.z * o3, bevelSize: i.geometry.bevel.size * o3, bevelSegments: i.geometry.bevel.segments || 1 } : { bevelEnabled: false, depth: i.geometry.scale.z * o3 }, this.polygonHeight = i.geometry.scale.z * Math.max(this.mapClass.width, this.mapClass.height) / 1e3;
      let l = Array.isArray(i.textures) && i.textures.filter((t48) => t48.image && Object.keys(t48.image).length).length, u2 = t43._normalizeColor(i.material.color), h = null != (e6 = i.material.opacity) ? e6 : 1;
      if (this.geometry = new Uc(a, s6), l && Array.isArray(i.textures)) {
        let t48, e10, r6 = i.textures.find((t49) => "front" === t49.name), o6 = i.textures.find((t49) => "side" === t49.name), s10 = o6 && o6.useFrontFaceImage, a3 = r6 && r6.image && (r6.image.url || r6.image.original), l3 = o6 && o6.image && (o6.image.url || o6.image.original);
        JN(this.geometry, i.textures, n);
        try {
          a3 && (t48 = await this.assetManager.loadImage(a3), t48.mapping = Fx, t48.wrapS = wr, t48.wrapT = wr, t48.anisotropy = 16), !s10 && l3 ? (e10 = await this.assetManager.loadImage(l3), e10.mapping = Fx, e10.wrapS = wr, e10.wrapT = wr, e10.anisotropy = 16) : t48 && (e10 = t48);
        } catch {
          Le.error("Error loading texture", a3 || l3, "for polygon", null == i ? void 0 : i.id);
        }
        let c2 = { color: u2, transparent: true, opacity: h, side: h < 1 ? Dr : Pa };
        this.material = e10 === t48 ? new ol({ ...c2, map: t48 }) : [new ol({ ...c2, map: t48 }), new ol({ ...c2, map: e10 })];
      } else
        this.material = t43._getMaterial(i.material.color, h, i.map);
      this.mesh = new Ft(this.geometry, "MULTI_GEOMETRY" === this.mode ? this.material : t43.hoverMeshMaterial), this.mesh.name = i.id, Array.isArray(this.mesh.material) || (this.mesh.material.needsUpdate = true), "MULTI_GEOMETRY" === this.mode ? (this.mesh.translateZ(i.geometry.position.z * o3), this.container.add(this.mesh)) : (this.geometry.translate(0, 0, i.geometry.position.z * o3), this.mesh.renderOrder = 1);
    }
    return this.imageVisible || this.labelVisible ? (this.imageVisible && this._addImage(i, n), this.labelVisible && this._addLabel(i, n), this) : this;
  }
  _addLabel(e6, i) {
    var n;
    if (null == (null == (n = null == e6 ? void 0 : e6.label) ? void 0 : n.text))
      return;
    let r = Math.max(i.width, i.height) / 1e3, o3 = t43.getWeightedCenter(e6.vertexes), s6 = e6.label.position, a = e6.label.rotation.z, l = e6.label.text.split("\n");
    EX.getFont(e6.label.fontFamily).then((n10) => {
      if (!e6.label)
        return;
      let u2 = { font: n10, size: e6.label.fontSize * r, height: t43.overlayHeight, bevelEnabled: false, curveSegments: 4, align: e6.label.align || "left" }, h = 0, c2 = l.reverse().map((t48, e10) => (t48.length > l[h].length && (h = e10), new s3(t48, u2))), p4 = c2[h], d = new Ft(p4), f = new Yt().setFromObject(d).getSize(new K()).x, g = t43._getMaterial(e6.label.color, void 0, e6.map), m = 0, v4 = RT(l.map((t48, e10) => {
        let i10, n11 = c2[e10], r6 = new Ft(n11, g), o6 = new Yt().setFromObject(r6).getSize(new K());
        return i10 = "left" === u2.align ? 0 : "right" === u2.align ? f - o6.x : (f - o6.x) / 2, r6.position.set(i10, m, 0), r6.geometry.translate(i10, m, 0), m += 1.25 * u2.size, r6.geometry;
      })), y4 = new Ft(v4, g);
      v4.computeBoundingBox();
      let x4 = v4.boundingBox, _ = x4.max.x - x4.min.x, b = x4.max.y - x4.min.y, M = e6.geometry.position.z + e6.geometry.scale.z;
      y4.translateX(o3.x - i.width / 2 + s6.x - _ / 2), y4.translateY(-o3.y + i.height / 2 + s6.y - b / 2), y4.rotation.set(0, 0, a * Math.PI / 180), y4.translateZ((t43.overlayHeight + M) * r), this.labelMesh = y4, this.container.add(y4);
    });
  }
  _addImage(e6, i) {
    var n, r;
    if (null == (null == e6 ? void 0 : e6.image))
      return;
    let o3 = e6.image.url || e6.image.original;
    o3 instanceof Blob && (o3 = URL.createObjectURL(o3));
    let s6, a = new ol({ transparent: true, depthWrite: false, alphaTest: 0.1, side: Dr });
    a.userData = { isPolygonImage: true, originalOpacity: null != (n = a.opacity) ? n : 1, originalTransparency: null != (r = a.transparent) && r }, this.imageMesh.material = a, this.imageMesh.renderOrder = Ng.POLYGON_IMAGE, this.imageMesh.name = e6.id + "_image", this.container.add(this.imageMesh), this.imageMesh.visible = false, t43.imagesLoadingInProgress.has(o3) ? s6 = t43.imagesLoadingInProgress.get(o3) : (s6 = this.assetManager.loadImage(o3).then((t48) => (t48.anisotropy = 16, [t48])), t43.imagesLoadingInProgress.set(o3, s6)), s6.then(([n10]) => {
      if (null == e6.image)
        return;
      a.map = n10, a.needsUpdate = true;
      let r6, s10 = this.getBoundingBox(), l = Math.max(i.width, i.height) / 1e3, u2 = e6.vertexes;
      r6 = e6.image._isAbsolutelyPositioned ? { x: e6.image.position.x, y: e6.image.position.y } : e6.image.fitToBounds ? t43.getBoundingCentre(u2) : t43.getWeightedCenter(u2);
      let h = e6.image.fitToBounds || e6.image._isAbsolutelyPositioned ? 0 : e6.image.position.x, c2 = e6.image.fitToBounds || e6.image._isAbsolutelyPositioned ? 0 : e6.image.position.y, p4 = e6.geometry.position.z + e6.geometry.scale.z;
      e6.image.position && (this.imageMesh.position.x = r6.x - i.width / 2 + h, this.imageMesh.position.y = -r6.y + i.height / 2 + c2, this.imageMesh.translateZ((p4 + e6.image.position.z) * l)), e6.image.rotation && this.imageMesh.rotation.set(e6.image.rotation.x * Math.PI / 180, e6.image.rotation.y * Math.PI / 180, e6.image.rotation.z * Math.PI / 180);
      let d = n10.image.width, f = n10.image.height;
      "string" == typeof o3 && null != URL && "function" == typeof URL.revokeObjectURL && URL.revokeObjectURL(o3);
      let g, m = { x: e6.image.viewBox.width, y: e6.image.viewBox.height };
      g = false === e6.image.useLocalScaling ? l : Math.min(s10.max.x - s10.min.x, s10.max.y - s10.min.y) / Math.max(m.x, m.y), e6.image.fitToBounds ? this.imageMesh.scale.set(s10.max.x - s10.min.x, s10.max.y - s10.min.y, 1) : e6.image.scale && this.imageMesh.scale.set(e6.image.scale.x * g * e6.image.viewBox.width, e6.image.scale.y * g * e6.image.viewBox.height, 1), this.imageMesh.translateZ(t43.overlayHeight * l), n10.repeat = new qe(e6.image.viewBox.width / d, e6.image.viewBox.height / f), n10.offset = new qe(0, (n10.image.height - e6.image.viewBox.height) / n10.image.height), a.blending = EO, this.publish("texture-loaded", n10);
    }).catch(() => {
      Le.error("Error loading image", o3, "for polygon", null == e6 ? void 0 : e6.id);
    });
  }
  static _normalizeColor(t48) {
    let e6 = t48.replace(/#/, "");
    return 3 === e6.length && (e6 = "".concat(e6[0]).concat(e6[0]).concat(e6[1]).concat(e6[1]).concat(e6[2]).concat(e6[2])), parseInt(e6, 16);
  }
  static _getMaterial(e6, i, n) {
    let r, o3 = t43._normalizeColor(e6), s6 = i < 1 ? o3 + "_" + i : o3;
    if (t43.materials[n] = t43.materials[n] || {}, t43.materials[n][s6])
      r = t43.materials[n][s6];
    else {
      let e10 = { color: o3, side: i < 1 ? Dr : Pa };
      i < 1 && (e10.transparent = true, e10.opacity = i), t43.materials[n][s6] = new ol(e10), r = t43.materials[n][s6];
    }
    return r;
  }
  static _clip(e6, i) {
    i /= 2;
    let n = t43.scale, r = e6.map((t48) => ({ X: t48.x * n, Y: t48.y * n }));
    for (let t48 = 8; 0 !== t48; t48--) {
      let t49 = new p2.ClipperOffset();
      t49.AddPath(r, p2.JoinType.jtMiter, p2.EndType.etClosedPolygon);
      let e10 = new p2.Paths();
      try {
        if (t49.Execute(e10, i * n), e10.length)
          return e10[0].map((t50) => ({ x: t50.X / n, y: t50.Y / n }));
        i /= 2;
      } catch {
        i /= 2;
      }
    }
    return r;
  }
};
q(pn, "Element"), v(pn, "defaultMaterial"), v(pn, "hoverMeshMaterial", new ol({ color: "#333" })), v(pn, "materials", {}), v(pn, "defaultExtrudeSettings", { depth: 10, bevelEnabled: false }), v(pn, "scale", 100), v(pn, "overlayHeight", 0.15), v(pn, "imagesLoadingInProgress", /* @__PURE__ */ new Map());
var $N = pn;
var Up = $N;
c(), c();
var h3 = 2 * Math.PI;
var g2 = Math.PI / 2;
var eR = 1.5 * Math.PI;
var j2e = q(function(t48) {
  let e6 = t48.image, i = t48.rotation || 0, n = e6.position.clone(), r = e6.rotation.z, o3 = i, s6 = q(function() {
    let t49 = e6.geometry;
    t49.boundingBox || t49.computeBoundingBox(), i = (i + Math.PI) % h3, e6.rotation.z = e6.rotation.z + Math.PI, e6.translateX(-2 * (t49.boundingBox.min.x + (t49.boundingBox.max.x - t49.boundingBox.min.x) / 2)), e6.translateY(-2 * (t49.boundingBox.min.y + (t49.boundingBox.max.y - t49.boundingBox.min.y) / 2));
  }, "flip");
  this.flipIfNeeded = function(t49) {
    let e10 = (i - t49 + h3) % h3;
    (e10 > g2 && e10 < eR || e10 < -g2 && e10 > -eR) && s6();
  }, this.reset = function() {
    e6.position.x = n.x, e6.position.y = n.y, e6.rotation.z = r, i = o3;
  };
}, "FlippableImage");
var XD = j2e;
function f3(t48, e6) {
  var i, n;
  let r = (null == (i = e6.referenceMap) ? void 0 : i.scale) || 1, o3 = t48.scale || 1, s6 = (null == (n = e6.referenceMap) ? void 0 : n.getNorth()) || 0, a = t48.getNorth() || 0, { x: l, y: u2 } = t48.georeference[0].target, { x: h, y: c2 } = t48.georeference[2].target, p4 = new mi(l, u2), d = new mi(h, c2), { lat: f, lon: g } = p4.midpointTo(d), m = e6.referenceMap.createCoordinate(f, g), { x: v4, y: y4 } = e6.convertTo3DMapPosition(m), x4 = o3 / r;
  return { position: [v4, y4, 0], scale: [x4, x4, x4], rotation: [0, 0, a - s6] };
}
c(), c(), q(f3, "determineMapPositionAndRotation");
var iR = class {
  constructor(t48, e6, i, n, r) {
    v(this, "core"), v(this, "layerGroup"), v(this, "mapGroup"), v(this, "defaultMap"), v(this, "activeMap"), v(this, "visibleMap"), v(this, "startingMap"), v(this, "baseMap"), v(this, "object", new ci()), v(this, "mapObjects", []), v(this, "loading", false), v(this, "activeMapOpacity", -1), v(this, "buildingOpacity", -1), v(this, "animating", false), v(this, "processedMapObjects", /* @__PURE__ */ new Set()), v(this, "state", "out-of-view"), this.core = t48, this.mapGroup = e6, this.layerGroup = i, this.startingMap = n, this.defaultMap = n, this.activeMap = n, this.baseMap = r, this.mapObjects = e6.maps.map((e10) => t48.mapObjects.get(e10.id)), i.mergedObjectsGroup.children.forEach((t49) => {
      t49.userData.building = this;
    }), this.core.on(7, () => {
      this.determineMapVisibility();
    });
  }
  determineMapVisibility() {
    for (let t48 of this.mapObjects)
      this.core.currentMap === t48.mapClass.id ? t48.visible || t48.onVisible() : t48.visible && t48.onInvisible();
  }
  setActiveMapOpacity(t48, e6) {
    var i, n;
    if (this.activeMapOpacity !== t48) {
      if ("number" == typeof e6)
        return void this.tweenActiveMapOpacity(t48, e6);
      this.animating || (this.activeMapOpacity = t48, null != this.visibleMap && (null == (n = null == (i = this.visibleMapObject) ? void 0 : i.layerGroups.get("default")) || n.setOpacity(t48)));
    }
  }
  tweenActiveMapOpacity(t48, e6 = 300) {
    this.animating = true, ll({ from: { opacity: this.activeMapOpacity }, to: { opacity: t48 }, duration: e6, onUpdate: ({ opacity: t49 }) => {
      var e10, i;
      this.activeMapOpacity = t49, null != this.visibleMap && (null == (i = null == (e10 = this.visibleMapObject) ? void 0 : e10.layerGroups.get("default")) || i.setOpacity(t49)), this.core.tryRendering();
    }, onComplete: () => {
      this.animating = false;
    } }).start(this.core);
  }
  setBuildingOutlineOpacity(t48) {
    this.buildingOpacity !== t48 && (this.buildingOpacity = t48, this.layerGroup.setOpacity(t48));
  }
  get activeMapObject() {
    return this.activeMap ? this.core.mapObjects.get(this.activeMap.id) : void 0;
  }
  get visibleMapObject() {
    return this.visibleMap ? this.core.mapObjects.get(this.visibleMap.id) : void 0;
  }
  get defaultMapObject() {
    return this.core.mapObjects.get(this.defaultMap.id);
  }
  get baseMapObject() {
    return this.core.mapObjects.get(this.baseMap.id);
  }
  onInView() {
    "in-view" !== this.state && (this.visibleMap !== this.activeMap && (null == this.activeMap ? this.setMap(this.defaultMap) : this.setMap(this.activeMap)), this.state = "in-view");
  }
  onOutOfView() {
    "out-of-view" !== this.state && (this.visibleMap !== this.defaultMap && (this.activeMap = this.defaultMap), this.state = "out-of-view");
  }
  async setMap(t48) {
    var e6;
    this.loading = true, this.visibleMap = void 0;
    let i = this.core.mapObjects.get(t48.id);
    try {
      if (await i.load(), !this.processedMapObjects.has(i)) {
        let { position: e10, rotation: n, scale: r } = f3(t48, this.core);
        i.object.position.set(...e10), i.object.rotation.set(...n), i.object.scale.set(...r), i.box = new Yt().setFromObject(i.object), i.object.name = t48.id, this.processedMapObjects.add(i);
      }
    } catch (t49) {
      Le.error(t49);
    }
    this.object.children.length > 0 && this.object.children.forEach((t49) => {
      this.object.remove(t49);
    }), -1 !== this.activeMapOpacity && (null == (e6 = i.layerGroups.get("default")) || e6.setOpacity(this.activeMapOpacity)), i.layerGroups.get("default").isVisible = true, this.object.add(i.object), this.visibleMap = t48, this.activeMap = t48, this.determineMapVisibility(), this.loading = false, this.core.tryRendering();
  }
};
q(iR, "Building");
var tR = iR;
var nR = tR;
c();
var TX = 15.8;
var W2e = 17;
var SX = new kc();
var Y2e = false;
var sR = class {
  constructor(t48, e6) {
    var i;
    v(this, "core"), v(this, "buildings", []), v(this, "object"), v(this, "panBounds"), v(this, "loaded", false), v(this, "baseMapObject"), v(this, "raycasters"), v(this, "baseMap"), v(this, "options"), v(this, "resize", q(() => {
      this.buildRaycasters();
    }, "resize")), v(this, "currentMap"), v(this, "buildingVisiblityMap", /* @__PURE__ */ new Map()), v(this, "buildingsByPolygonId", /* @__PURE__ */ new Map()), this.core = t48, this.baseMap = e6, this.baseMapObject = this.core.mapObjects.get(this.baseMap.id), this.currentMap = this.baseMap, this.options = { indoorsFullyVisibleZoomLevel: W2e, buildingFullyVisibleZoomLevel: TX, setMapAtZoomLevel: TX, preloadDefaultMaps: false, baseMap: this.baseMap, keepLayersActiveOnBaseMap: [], ...null == (i = this.core.options) ? void 0 : i.dynamicFocus }, this.core.on(7, () => {
      this.core.currentMap === this.baseMap.id ? this.baseMapObject.onVisible() : this.baseMapObject.onInvisible();
    }), this.buildRaycasters();
  }
  buildRaycasters() {
    let t48 = new qe(this.core.canvasWidth / 2, this.core.canvasHeight / 2), e6 = new qe(t48.x / 1.2, t48.y / 1.2), i = new qe(t48.x + (t48.x - e6.x), e6.y), n = new qe(e6.x, t48.y + (t48.y - e6.y)), r = new qe(i.x, n.y);
    this.raycasters = [t48, e6, i, n, r].map((t49, e10) => {
      if (Y2e) {
        let e11 = document.createElement("div");
        e11.style.position = "absolute", e11.style.top = t49.y + "px", e11.style.left = t49.x + "px", e11.style.width = "10px", e11.style.height = "10px", e11.style.backgroundColor = "red", document.body.append(e11);
      }
      let i10 = t49.x / this.core.canvasWidth * 2 - 1, n10 = -t49.y / this.core.canvasHeight * 2 + 1, r6 = new K(i10, n10, 0), o3 = new pa();
      return o3.setFromCamera(r6, this.core.cameraObject), [o3, r6, 0 === e10 ? 10 : 1];
    });
  }
  updateRaycasters() {
    for (let [t48, e6] of this.raycasters)
      t48.setFromCamera(e6, this.core.cameraObject);
  }
  expandToBaseMapBounds() {
    this.baseMapObject.object.updateMatrixWorld();
    let t48 = this.baseMapObject.getMapScale() * this.baseMapObject.object.scale.x, e6 = r3(this.baseMapObject, this.core.controls.panBounds), i = this.core.loadOptions && this.core.loadOptions.zoomOverrides && this.core.loadOptions.zoomOverrides.zoomMultiplier || i3;
    this.core.controls.zoomFactor = t48 / i, e6.center = new K(), this.panBounds = e6, this.core.controls.panBounds = e6;
    let { min: n, max: r } = e6, o3 = [new K(n.x, n.y, n.z), new K(n.x, r.y, n.z), new K(r.x, n.y, n.z), new K(r.x, r.y, n.z), new K(n.x, n.y, r.z), new K(n.x, r.y, r.z), new K(r.x, n.y, r.z), new K(r.x, r.y, r.z)], { zoom: s6 } = this.core.getCameraFrameForPoints(o3, 1, 1, this.core.cachedPadding, false);
    this.core.controls.setMulti(e6.center, s6, Yp, n3);
  }
  async load() {
    this.core.publish(6), await this.baseMapObject.load(), this.object = this.baseMapObject.object;
    let { position: t48, rotation: e6, scale: i } = f3(this.baseMap, this.core);
    this.baseMapObject.object.position.set(...t48), this.baseMapObject.object.rotation.set(...e6), this.baseMapObject.object.scale.set(...i), this.baseMapObject.box = new Yt().setFromObject(this.baseMapObject.object), this.baseMapObject.object.name = this.baseMap.id;
    let n = Array.from(this.baseMapObject.layerGroups).filter(([t49]) => t49.includes("building"));
    this.buildings = await this.createBuildings(n), this.buildings.forEach((t49) => {
      this.object.add(t49.object);
    }), this.expandToBaseMapBounds(), this.baseMapObject.onVisible(), this.core.publish(7), this.loaded = true;
  }
  setMap(t48, e6 = false) {
    if (this.currentMap === t48)
      return Promise.resolve();
    if (this.core.publish(6), t48 === this.baseMap)
      return this.currentMap = this.baseMap, e6 && (this.core.setMapReason = "dynamic-focus-user-interaction"), this.core.publish(7), Promise.resolve();
    let i = t48.mapGroup;
    return this.buildings.find((t49) => t49.mapGroup.id === i.id).setMap(t48).then(() => {
      this.currentMap = t48, e6 && (this.core.setMapReason = "dynamic-focus-user-interaction"), this.core.publish(7);
    });
  }
  get buildingsInView() {
    return Array.from(this.buildingVisiblityMap.entries()).filter(([t48, e6]) => e6).map(([t48, e6]) => t48);
  }
  determineBuildingsInView() {
    if (this.core.controls.getZoomLevel() < this.options.buildingFullyVisibleZoomLevel)
      for (let t49 of this.buildings)
        this.buildingVisiblityMap.set(t49, false);
    let t48 = this.core.cameraObject;
    SX.setFromProjectionMatrix(new Ot().multiplyMatrices(t48.projectionMatrix, t48.matrixWorldInverse));
    for (let t49 of this.buildings)
      for (let e6 of t49.layerGroup.mergedObjectsGroup.children)
        SX.intersectsObject(e6) ? this.buildingVisiblityMap.set(t49, true) : this.buildingVisiblityMap.set(t49, false);
    return this.buildingsInView;
  }
  determineCurrentMap() {
    if (this.core.controls.getZoomLevel() < this.options.setMapAtZoomLevel)
      return this.baseMap;
    this.updateRaycasters();
    let t48 = /* @__PURE__ */ new Map(), e6 = Array.from(this.buildingVisiblityMap.keys()).flatMap((t49) => t49.layerGroup.mergedObjectsGroup.children), i = -1 / 0, n = null;
    for (let [r, o3, s6] of this.raycasters)
      r.intersectObjects(e6).forEach((e10) => {
        let r6 = e10.object.userData.building;
        t48.has(r6) || t48.set(r6, 0);
        let o6 = t48.get(r6) + s6;
        t48.set(r6, o6), o6 > i && (n = r6, i = o6);
      });
    return null != n ? n.activeMap : this.currentMap;
  }
  setOpacities(t48 = [], e6) {
    let i = this.core.controls.getZoomLevel();
    if (i < this.options.buildingFullyVisibleZoomLevel)
      return void this.buildings.forEach((t49) => {
        t49.onOutOfView(), t49.setActiveMapOpacity(0), t49.setBuildingOutlineOpacity(1);
      });
    let n = tf(i, this.options.buildingFullyVisibleZoomLevel, this.options.indoorsFullyVisibleZoomLevel, 0, 1, Vx), r = tf(n, 0, 1, 0, 0.6, Vx), o3 = tf(n, 0, 1, 1, 0, Vx);
    this.buildings.forEach((i10) => {
      t48.includes(i10) ? (i10.onInView(), i10.setBuildingOutlineOpacity(o3), i10.visibleMap === e6 && n > 0 ? i10.setActiveMapOpacity(n, 300) : i10.setActiveMapOpacity(r, 300)) : (i10.onOutOfView(), i10.setActiveMapOpacity(0), i10.setBuildingOutlineOpacity(1));
    });
  }
  async createBuildings(t48) {
    let e6 = [];
    return t48.forEach(([t49, i]) => {
      let n = this.core.venue.getCollectionItemById("maps", i.userData.toMapId), r = this.core.venue.getCollectionItemById("mapGroups", i.userData.mapGroupId), o3 = new nR(this.core, r, i, n, this.baseMap);
      e6.push(o3), this.buildingVisiblityMap.set(o3, false);
    }), this.options.preloadDefaultMaps && await Promise.all(e6.map((t49) => t49.setMap(t49.startingMap))), e6;
  }
};
q(sR, "DynamicFocusScene");
var rR = sR;
var qD = rR;
c();
var Iu = u(Eu());
var AX = "attribute float pathDistance;\nattribute vec3 pathNormal;\nattribute vec3 pathTangent;\n\nuniform vec2 uvScale;\nuniform float vertexes;\nuniform float complete;\nuniform float nearRadius;\nuniform float farRadius;\nuniform float nearZoom;\nuniform float farZoom;\nuniform float pulse;\nuniform float pulseLength;\nuniform bool pathIsVertical;\nuniform bool displayArrowsOnPath;\nuniform vec2 cameraParameters;\nuniform float flattenFactor;\n\nvarying float zoomLevel;\nvarying float radius;\nvarying vec2 fragTexcoord;\nvarying float fragTopTextureU;\nvarying float fragPathDistance;\n\n// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using\n// linear interpolation/extrapolation.\n//\n// This performs a pure linear mapping `y = mx + b` where\n// `m = (yMax - yMin) / (xMax - xMin)`,\n// `b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin`.\nfloat remap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;\n}\n\n// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear\n// interpolation, clamping result values outside [yMin, yMax].\nfloat clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);\n}\n\nvoid main() {\n	fragPathDistance = pathDistance;\n\n	// We can get an origin point for the cross-section of the path by\n	// subtracting the surface normal times the radius, since the surface normal\n	// points strictly away from the centre.\n	vec3 origin = position - nearRadius * normal;\n\n	// Inflate the path along its surface normal to increase its radius from\n	// `nearRadius` to `farRadius` when the camera is at `farZoom`.\n	vec3 adjustedPosition = position;\n	zoomLevel = clampRemap(cameraParameters.x, nearZoom, farZoom, 0.0, 1.0);\n	adjustedPosition += normal * (farRadius - nearRadius) * zoomLevel;\n\n	// Determine how far the path extends \"up\" or \"down\" in the direction of the\n	// path normal.\n	float height = dot(adjustedPosition - origin, pathNormal);\n\n	// Flatten the bottom half of the path entirely so that it's flat\n	// against the floor. This makes the path look nicer when it's\n	// semitransparent behind opaque geometry, so you don't see it\n	// peeking through.\n	float desiredHeight = max(height, 0.0);\n\n	desiredHeight = desiredHeight * flattenFactor;\n\n	float flattenMagnitude = height - desiredHeight;\n	adjustedPosition = adjustedPosition - pathNormal * flattenMagnitude;\n\n	// Transform the vertices into NDC.\n	vec4 mvPosition = modelViewMatrix * vec4(adjustedPosition, 1.0);\n	gl_Position = projectionMatrix * mvPosition;\n\n	fragTexcoord = uv;\n\n	// Compute a texture coordinate for mapping the arrow texture to the path.\n	// We don't want to use the u-value that Three.js provides, because the\n	// path may end up twisting arbitrarily -- but we want the arrow texture to\n	// always be on the top of the path.\n	vec3 bitangent = cross(normal, pathTangent);\n	fragTopTextureU = -dot(bitangent, pathNormal) * 0.5 + 0.5;\n\n	radius = mix(nearRadius, farRadius, zoomLevel);\n}\n";
var CX = '#define ARROW_FADING_POINT 0.15\n\nuniform float complete;\nuniform float nearRadius;\nuniform float farRadius;\nuniform vec2 resolution;\nuniform vec2 cameraParameters;\nuniform vec3 color;\nuniform float pathLength;\nuniform bool showPulse;\nuniform vec3 pulseColor;\nuniform float pulse;\nuniform float pulseLength;\nuniform bool pathIsVertical;\nuniform bool displayArrowsOnPath;\nuniform float arrowAnimationTimer;\nuniform sampler2D arrowTexture;\n\nvarying float zoomLevel;\nvarying float radius;\nvarying vec2 fragTexcoord;\nvarying float fragTopTextureU;\nvarying float fragPathDistance;\n\n// How long the arrow should be, as a factor of `pathRadius`. Since we\'ve\n// mostly flattened the top of the path, values near 2.0 (the diameter)\n// will probably look best.\nconst float arrowLength = 2.0;\n\n// How much of a relative margin the arrow texture should have inside the\n// area laid out for it. Useful to pull the arrow away from the edges of the\n// path, which slope down.\nconst float arrowMargin = 0.1;\n\n// How many arrow-lengths of space should be between arrows on a short path.\nconst float arrowSpacingOnShortPath = 6.0;\n\n// How many arrow-lengths of space should be between arrows on a long path.\nconst float arrowSpacingOnLongPath = 7.5;\n\n// How long a path must be to be considered "long", as a factor of\n// the path radius.\nconst float longPathLength = 200.;\n\n// How long a path must be to be considered "short", as a factor of the\n// path radius.\nconst float shortPathLength = 75.;\n\n// How much of the path\'s length the fade-in should comprise when going from\n// zero opacity to full opacity.\nconst float completeLength = 0.1;\n\n// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using\n// linear interpolation/extrapolation.\n//\n// This performs a pure linear mapping `y = mx + b` where\n// `m = (yMax - yMin) / (xMax - xMin)`,\n// `b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin`.\nfloat remap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;\n}\n\n// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear\n// interpolation, clamping result values outside [yMin, yMax].\nfloat clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);\n}\n\nvoid main(void) {\n	// Compute the opacity of the path based on the distance from the current\n	// fragment to the `complete` value as it varies from 0.0 to 1.0.\n	// Fragments that are at the `complete` value or past it will be fully\n	// transparent, while fragments that are at `complete - completeLength`\n	// or before it will be fully opaque. However, we adjust the `complete`\n	// value here so that it overshoots by one full `completeLength`, so that\n	// the entire path will be opaque when the `complete` value is at 1.0.\n	float completeLocation = complete * (1.0 + completeLength);\n	float completeAmount = clampRemap(\n		fragPathDistance,\n		completeLocation - completeLength,\n		completeLocation,\n		0.0,\n		1.0\n	);\n	float opacity = 1.0 - smoothstep(0.0, 1.0, completeAmount);\n\n	// 2020/01/09 Terence Dickson\n	// When we render the background and overlay for the mapbox outdoor context\n	// behind everything else in single-buffer rendering, the fact that the path\n	// writes to the depth buffer means that the background and overlay will not\n	// be drawn behind the path even when the path is still fading in. The effect\n	// is subtle and is only visible in single-buffer rendering so this quick fix\n	// prevents writes to the depth buffer for zero opacity fragments, which gets\n	// rid of the most visually-offensive ghosting.\n	if (opacity <= 0.0) {\n		discard;\n	}\n\n	// Push in the texture coordinates so that they ramp up\n	// at `arrowMargin` instead of at zero; this remapping looks somewhat\n	// like this:\n	// 1 ^        ___\n	//   |       /\n	//   |      /\n	//   |     /\n	//   |    /\n	//   |___/\n	// 0 +---------->\n	//   0   ^      1\n	//       arrowMargin\n	// Making the arrows narrower on the path.\n	float u = fragTopTextureU;\n	u = clamp(\n		u * (1. / (1. - arrowMargin * 2.)) - (1. / (1. - arrowMargin * 2.) - 1.) / 2.,\n		0.0,\n		1.0\n	);\n\n	float arrowSpacing = clampRemap(\n		pathLength,\n		shortPathLength * radius,\n		longPathLength * radius,\n		arrowSpacingOnShortPath,\n		arrowSpacingOnLongPath\n	);\n\n	// Reduce the spacing between arrows when the camera zooms out, as increasing\n	// the path radius will increase the arrow size and thus be able to fit\n	// fewer arrows on in total, and this secondary movement of the arrows\n	// "zooming off" the end of the path is unpleasant\n	float expandAmount = mix(1.0, farRadius / nearRadius, zoomLevel);\n	float effectiveArrowSpacing =\n		arrowSpacing * 1.0 / expandAmount +\n		arrowMargin * 2.0;\n\n	float effectiveArrowLength = arrowLength * radius * (1. - arrowMargin * 2.0);\n\n	// Adjust the slope of the vertical texture coordinate so that it goes\n	// from 0 to 1 along the length of the arrow plus the spacing between\n	// arrows, and adjust its x-intercept so that one arrow moves to the\n	// exact position of the next arrow as `arrowAnimationTimer` goes\n	// from 0 to 1\n	float v = (\n		fragTexcoord.x * (pathLength / effectiveArrowLength)\n		- arrowAnimationTimer * (1. + effectiveArrowSpacing)\n	);\n\n	// Compute a "looping sawtooth" wave for determining the vertical texture\n	// coordinates of the arrow texture, roughly as follows:\n	// 3 ^              /\n	//   |          ___/\n	// 2 |         /\n	//   |     ___/\n	// 1 |    /\n	//   |___/\n	// 0 +--------------->\n	//   0   ^ ^\n	//   ^   |_|\n	//   |   effectiveArrowLength\n	//   |___|\n	//   effectiveArrowSpacing\n	//\n	// This is effectively equivalent to this sort of sawtooth wave:\n	//   ^\n	// 1 |    /    /    /\n	//   |___/ ___/ ___/\n	// 0 +--------------->\n	//\n	// Causing the image of the arrow to repeat, with dead space (the bottom\n	// edge of the texture stretched out) between the arrows at the provided\n	// spacing. The reason why the "looping" design is preferred is because\n	// it takes advantage of WebGL\'s `GL_REPEAT` texture wrapping behaviour\n	// to avoid the discontinuity that can end up causing visual artifacts.\n	if (mod(v, (1. + effectiveArrowSpacing)) < 1.) {\n		v = v - effectiveArrowSpacing * floor(v / (1. + effectiveArrowSpacing));\n	} else {\n		v = ceil(v / (1. + effectiveArrowSpacing));\n	}\n\n	// Use the r-component of the texture to determine whether the arrow covers\n	// this fragment or not\n	vec2 sampleTexcoord = vec2(u, v);\n	float arrowAmount = 0.0;\n	vec3 secondColor = pulseColor;\n\n	if (displayArrowsOnPath) {\n		arrowAmount = texture2D(arrowTexture, sampleTexcoord).r;\n		float delta = 1.0 - abs(fragPathDistance * 2.0 - 1.0);\n		secondColor = mix(color, pulseColor, 1.0 - smoothstep(ARROW_FADING_POINT, 0.0, delta));\n	}\n\n	if (showPulse) {\n		// Add the pulse color to the path by determining how far the current fragment\n		// is from `pulse`\n		float pulseLocation = remap(\n		pulse,\n		0.0,\n		1.0,\n		-pulseLength,\n		1.0 + pulseLength\n		);\n		float pulseDistance = smoothstep(\n		0.0,\n		pulseLength,\n		abs(fragPathDistance - pulseLocation)\n		);\n\n		// Blend the pulse color to the path based on how close this fragment is to\n		// the `pulse` value and whether it\'s covered by an arrow -- but if it\'s\n		// covered by *both*, then we go back to using the regular path color\n		// (making arrows look like "holes" when they\'re overlapping the pulse.)\n		float pulseLevel = abs(1.0 - pulseDistance - arrowAmount);\n\n		gl_FragColor = vec4(mix(color, secondColor, pulseLevel), opacity);\n	} else if (displayArrowsOnPath) {\n		gl_FragColor = vec4(mix(color, pulseColor, arrowAmount), opacity);\n	} else {\n		gl_FragColor = vec4(color, opacity);\n	}\n	#include <encodings_fragment>\n}';
c();
var Jp;
var PX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M25.86,2.59A10.12,10.12,0,0,0,22.4.65a14,14,0,0,0-8.85.14A10.33,10.33,0,0,0,10,3.1,9.78,9.78,0,0,0,7.72,6.68,10,10,0,0,0,7,11h6a6.3,6.3,0,0,1,.18-2.33,5.57,5.57,0,0,1,1-1.77,4.05,4.05,0,0,1,1.5-1.13,6.87,6.87,0,0,1,4.5-.08,4.4,4.4,0,0,1,1.6.88,3.37,3.37,0,0,1,.93,1.22A3.84,3.84,0,0,1,23,9.29a3.15,3.15,0,0,1-.38,1.5,10.54,10.54,0,0,1-1.26,1.72,18.9,18.9,0,0,1-1.78,1.8c-.71.66-1.4,1.34-2,2C16.31,17.55,14,19,14,21v6h6V23c0-.63,0-1,1-2s1.24-1.3,2-2,1.69-1.66,2.5-2.52a14,14,0,0,0,2.28-2.81,7.51,7.51,0,0,0,1.08-4.05,9.68,9.68,0,0,0-.78-3.91A8.34,8.34,0,0,0,25.86,2.59Z"/><circle cx="17" cy="33" r="3"/></svg>';
var IX = "data:image/png;base64,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";
var OX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="36 14.99 28 7.99 28 12.99 17 12.99 17 16.99 28 16.99 28 21.99 36 14.99"/><path d="M24,29H15V7L6,2H24v9h2V0H0V29l14.94,7L15,31H26V19H24Z"/></svg>';
var LX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M12.85,18.24H9.25a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.26,1.26,0,0,0,12.85,18.24Z"/><circle cx="11.05" cy="15.85" r="1.5"/><path d="M26.82,18.24h-3.6a1.26,1.26,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.27,1.27,0,0,0,26.82,18.24Z"/><circle cx="25.02" cy="15.85" r="1.5"/><path d="M19.79,18.24h-3.6a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.66,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42A1.68,1.68,0,0,0,21,24.24v-4.8A1.26,1.26,0,0,0,19.79,18.24Z"/><path d="M18,17.35a1.5,1.5,0,1,0-1.5-1.5A1.51,1.51,0,0,0,18,17.35Z"/><path d="M28.79,10H7.27c-2.82,0-5.11,2-5.11,4.51V31.6c0,2.49,2.29,4.51,5.11,4.51H28.79c2.82,0,5.12-2,5.12-4.51V14.51C33.91,12,31.61,10,28.79,10Zm2.85,21.6a2.7,2.7,0,0,1-2.85,2.51H7.27A2.7,2.7,0,0,1,4.42,31.6V14.51A2.7,2.7,0,0,1,7.27,12H28.79a2.7,2.7,0,0,1,2.85,2.51Z"/><polygon points="27 4 26 3 24 5 24 0 22 0 22 5 20 3 19 4 23 8 27 4"/><polygon points="17 4 16 5 14 3 14 8 12 8 12 3 10 5 9 4 13 0 17 4"/></svg>';
var DX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M12.85,18.24H9.25a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.26,1.26,0,0,0,12.85,18.24Z"/><circle cx="11.05" cy="15.85" r="1.5"/><path d="M26.82,18.24h-3.6a1.26,1.26,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.27,1.27,0,0,0,26.82,18.24Z"/><circle cx="25.02" cy="15.85" r="1.5"/><path d="M19.79,18.24h-3.6a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.66,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42A1.68,1.68,0,0,0,21,24.24v-4.8A1.26,1.26,0,0,0,19.79,18.24Z"/><path d="M18,17.35a1.5,1.5,0,1,0-1.5-1.5A1.51,1.51,0,0,0,18,17.35Z"/><path d="M28.79,10H7.27c-2.82,0-5.11,2-5.11,4.51V31.6c0,2.49,2.29,4.51,5.11,4.51H28.79c2.82,0,5.12-2,5.12-4.51V14.51C33.91,12,31.61,10,28.79,10Zm2.85,21.6a2.7,2.7,0,0,1-2.85,2.51H7.27A2.7,2.7,0,0,1,4.42,31.6V14.51A2.7,2.7,0,0,1,7.27,12H28.79a2.7,2.7,0,0,1,2.85,2.51Z"/><polygon points="22 4 21 5 19 3 19 8 17 8 17 3 15 5 14 4 18 0 22 4"/></svg>';
var NX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M12.85,18.24H9.25a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.26,1.26,0,0,0,12.85,18.24Z"/><circle cx="11.05" cy="15.85" r="1.5"/><path d="M26.82,18.24h-3.6a1.26,1.26,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.27,1.27,0,0,0,26.82,18.24Z"/><circle cx="25.02" cy="15.85" r="1.5"/><path d="M19.79,18.24h-3.6a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.66,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42A1.68,1.68,0,0,0,21,24.24v-4.8A1.26,1.26,0,0,0,19.79,18.24Z"/><path d="M18,17.35a1.5,1.5,0,1,0-1.5-1.5A1.51,1.51,0,0,0,18,17.35Z"/><path d="M28.79,10H7.27c-2.82,0-5.11,2-5.11,4.51V31.6c0,2.49,2.29,4.51,5.11,4.51H28.79c2.82,0,5.12-2,5.12-4.51V14.51C33.91,12,31.61,10,28.79,10Zm2.85,21.6a2.7,2.7,0,0,1-2.85,2.51H7.27A2.7,2.7,0,0,1,4.42,31.6V14.51A2.7,2.7,0,0,1,7.27,12H28.79a2.7,2.7,0,0,1,2.85,2.51Z"/><polygon points="22 4 21 3 19 5 19 0 17 0 17 5 15 3 14 4 18 8 22 4"/></svg>';
var RX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="4 16 18 0 31.99 16 4 16"/><polygon points="31.99 20 18 36 4 20 31.99 20"/></svg>';
var BX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,8a3,3,0,1,0-3-3A3,3,0,0,0,18,8Z"/><path d="M33,10H27a3.65,3.65,0,0,0-3,1l-2.76,2.75V12.39a2.48,2.48,0,0,0-2.46-2.47H17.22a2.48,2.48,0,0,0-2.47,2.47v7.87L9,26a3.26,3.26,0,0,1-2,1H3c-2.28,0-3,1.79-3,3.93A2.76,2.76,0,0,0,3,34H9a3.77,3.77,0,0,0,3-1L27,18a3.29,3.29,0,0,1,2.49-1h3.26A3.43,3.43,0,0,0,36,13.44C36,12.08,35,10,33,10Zm0,5H29c-1.47,0-1.92-.08-3,1L11,31a3.15,3.15,0,0,1-2,1H3c-.82,0-1-.29-1-1.16S2.12,28.9,3,29H7a3.87,3.87,0,0,0,3-1L25,13a2.72,2.72,0,0,1,2-1h6c.68,0,1,1.05,1,1.44S34,15,33,15Z"/><polygon points="30.18 26.18 26 31 26 28 24 28 24 34 31 34 31 32 28 32 31.69 27.59 30.18 26.18"/></svg>';
var kX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,8a3,3,0,1,0-3-3A3,3,0,0,0,18,8Z"/><path d="M33,10H27a3.65,3.65,0,0,0-3,1l-2.76,2.75V12.39a2.48,2.48,0,0,0-2.46-2.47H17.22a2.48,2.48,0,0,0-2.47,2.47v7.87L9,26a3.26,3.26,0,0,1-2,1H3c-2.28,0-3,1.79-3,3.93A2.76,2.76,0,0,0,3,34H9a3.77,3.77,0,0,0,3-1L27,18a3.29,3.29,0,0,1,2.49-1h3.26A3.43,3.43,0,0,0,36,13.44C36,12.08,35,10,33,10Zm0,5H29c-1.47,0-1.92-.08-3,1L11,31a3.15,3.15,0,0,1-2,1H3c-.82,0-1-.29-1-1.16S2.12,28.9,3,29H7a3.87,3.87,0,0,0,3-1L25,13a2.72,2.72,0,0,1,2-1h6c.68,0,1,1.05,1,1.44S34,15,33,15Z"/><polygon points="25.67 34 29.84 29.18 29.84 32.18 31.84 32.18 31.84 26.18 24.84 26.18 24.84 28.18 27.84 28.18 24.16 32.58 25.67 34"/></svg>';
var qX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M36,34H0L36,2ZM12,30H32V12Z"/></svg>';
var FX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M36,34H0L36,2ZM12,30H32V12Z"/><polygon points="18.18 4.18 14 9 14 6 12 6 12 12 19 12 19 10 16 10 19.69 5.59 18.18 4.18"/></svg>';
var UX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M36,34H0L36,2ZM12,30H32V12Z"/><polygon points="13.82 13.82 18 9 18 12 20 12 20 6 13 6 13 8 16 8 12.31 12.41 13.82 13.82"/></svg>';
var zX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M10,0,26,2s-5.59,5.68-5.56,5.71C23.32,10.88,23.94,15.27,24,18V36H20V18c-.05-2.09-.54-5.32-2.47-7.53L12,16Z"/></svg>';
var GX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M26,0,10,2s5.59,5.68,5.57,5.71C12.68,10.88,12.06,15.27,12,18V36h4V18c.06-2.09.54-5.32,2.47-7.53L24,16Z"/></svg>';
var VX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="35.99 2 30 2 25.99 2 25.99 6.59 25.99 8.84 24 8.84 19.99 8.84 19.99 13.43 19.99 15.67 13.99 15.67 13.99 15.69 13.99 20.27 13.99 22.52 12 22.52 7.99 22.52 7.99 27.12 7.99 29.36 0 29.36 0 33.95 7.99 33.95 11.99 33.95 12 33.95 12 27.12 13.99 27.12 18 27.12 18 22.52 18 20.27 19.99 20.27 24 20.27 24 15.67 24 13.43 25.99 13.43 30 13.43 30 8.84 30 6.59 35.99 6.59 35.99 2"/></svg>';
var HX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="30 2.03 25.99 2.03 25.99 6.63 25.99 8.87 24 8.87 19.99 8.87 19.99 13.47 19.99 15.71 13.99 15.71 13.99 15.73 13.99 20.31 13.99 22.57 12 22.57 7.99 22.57 7.99 27.16 7.99 29.4 0 29.4 0 34 7.99 34 11.99 34 12 34 12 27.16 13.99 27.16 18 27.16 18 22.57 18 20.31 19.99 20.31 24 20.31 24 15.71 24 13.47 25.99 13.47 30 13.47 30 8.87 30 6.63 35.99 6.63 35.99 2.03 30 2.03"/><polygon points="30.17 26.18 26 31 26 28 24 28 24 34 31 34 31 32 28 32 31.68 27.59 30.17 26.18"/></svg>';
var jX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="30 2.03 25.99 2.03 25.99 6.63 25.99 8.87 24 8.87 19.99 8.87 19.99 13.47 19.99 15.71 13.99 15.71 13.99 15.73 13.99 20.31 13.99 22.57 12 22.57 7.99 22.57 7.99 27.16 7.99 29.4 0 29.4 0 34 7.99 34 11.99 34 12 34 12 27.16 13.99 27.16 18 27.16 18 22.57 18 20.31 19.99 20.31 24 20.31 24 15.71 24 13.47 25.99 13.47 30 13.47 30 8.87 30 6.63 35.99 6.63 35.99 2.03 30 2.03"/><polygon points="24.83 33.82 29 29 29 32 31 32 31 26 24 26 24 28 27 28 23.32 32.41 24.83 33.82"/></svg>';
var WX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M5,10,17,0V8a11,11,0,0,1,8.44,3.5c2.88,3.2,3.5,7.8,3.56,10.5V36H25V22c-.05-2.11-.54-5.61-2.53-7.82A7.1,7.1,0,0,0,17,12v8Z"/></svg>';
var YX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M29,10,17,0V8a11,11,0,0,0-8.44,3.5C5.68,14.7,5.06,19.3,5,22V36H9V22c.06-2.11.54-5.61,2.53-7.82A7.1,7.1,0,0,1,17,12v8Z"/></svg>';
var XX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M20,0c-5.38,0-9.79,5.34-10,12H2L12,24,22,12H14c.19-4.39,2.86-8,6-8s6,4.58,6,10V36h4V14C30,6.13,25.6,0,20,0Z"/></svg>';
var ZX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M21,3c-.44-.92-1-3-3-3s-2.63,2.16-3,3C15,3,2,29,2,33a2.65,2.65,0,0,0,3,3c2,0,6.1-2.2,9-4,2-1,3-2,4-2s2,1,4,2c0,0,7,4,9,4a2.65,2.65,0,0,0,3-3C34,29,21,3,21,3Z"/></svg>';
var QX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,4A14,14,0,1,1,4,18,14,14,0,0,1,18,4m0-4A18,18,0,1,0,36,18,18,18,0,0,0,18,0Z"/><circle cx="18" cy="18" r="6"/></svg>';
var KX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,0A13.83,13.83,0,0,0,4,14c0,4,1,9,7,12,2,1,6.15,8.67,7,10,3.38-5.44,5-9,7-10,6-3,7-8,7-12A13.83,13.83,0,0,0,18,0Zm0,19a5,5,0,1,1,5-5A5,5,0,0,1,18,19Z"/></svg>';
var JX = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,0A13.83,13.83,0,0,0,4,14c0,4,1,9,7,12,2,1,6.15,8.67,7,10,3.38-5.44,5-9,7-10,6-3,7-8,7-12A13.83,13.83,0,0,0,18,0Z"/></svg>';
var $X = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="25px" height="30px" viewBox="0 0 25 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <title>Marker Pin</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M5.5,15 C6.34615385,14.1176471 7.33333333,12.9411765 8.46153846,11.4705882 C10.1538462,9.26470588 11,7.18962511 11,5.73529412 C11,2.56777864 8.53756612,0 5.5,0 C2.46243388,0 0,2.56777864 0,5.73529412 C0,7.1924534 0.846153846,9.26470588 2.53846154,11.4705882 C3.66666667,12.9411765 4.65384615,14.1176471 5.5,15 Z" id="path-1"></path>\n        <filter x="-104.5%" y="-63.3%" width="309.1%" height="259.8%" filterUnits="objectBoundingBox" id="filter-2">\n            <feMorphology radius="2" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>\n            <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>\n            <feGaussianBlur stdDeviation="2.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n            <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite>\n            <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n        </filter>\n    </defs>\n    <g id="CE-1261" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Final-MVP-Markers" transform="translate(-204.000000, -523.000000)">\n            <g id="Marker-Pin" transform="translate(211.000000, 528.000000)">\n                <g id="Oval-Copy-25">\n                    <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>\n                    <path stroke="#FFFFFF" stroke-width="1.5" d="M4.95868222,15.5191099 C4.09118889,14.6145045 3.08708286,13.4178617 1.94340415,11.9271041 C0.219570966,9.68012899 -0.75,7.4435468 -0.75,5.73529412 C-0.75,2.16043095 2.04102866,-0.75 5.5,-0.75 C8.95897134,-0.75 11.75,2.16043095 11.75,5.73529412 C11.75,7.44173178 10.7794284,9.68143336 9.05659585,11.9271041 C7.91291714,13.4178617 6.90881111,14.6145045 6.04131778,15.5191099 L5.5,16.0835856 L4.95868222,15.5191099 Z" fill="#FFFFFF" fill-rule="evenodd"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n';
var eZ = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="27px" viewBox="0 0 23 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <title>Oval Copy 25</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M5.5,15 C6.34615385,14.1176471 7.33333333,12.9411765 8.46153846,11.4705882 C10.1538462,9.26470588 11,7.18962511 11,5.73529412 C11,2.56777864 8.53756612,0 5.5,0 C2.46243388,0 0,2.56777864 0,5.73529412 C0,7.1924534 0.846153846,9.26470588 2.53846154,11.4705882 C3.66666667,12.9411765 4.65384615,14.1176471 5.5,15 Z" id="path-1"></path>\n        <filter x="-90.9%" y="-53.3%" width="281.8%" height="236.1%" filterUnits="objectBoundingBox" id="filter-2">\n            <feMorphology radius="0.5" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>\n            <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>\n            <feGaussianBlur stdDeviation="2.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n            <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n        </filter>\n    </defs>\n    <g id="CE-1261" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Final-MVP-Markers" transform="translate(-205.000000, -524.000000)">\n            <g id="Marker-Pin" transform="translate(211.000000, 528.000000)">\n                <g id="Oval-Copy-25">\n                    <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>\n                    <use fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n';
var tZ = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="36px" height="36px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <defs>\n      <filter id="f3" x="-50%" y="-50%" width="200%" height="200%">\n        <feMorphology radius="3" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>\n        <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>\n        <feGaussianBlur stdDeviation="2.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n        <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite>\n        <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.4 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n      </filter>\n    </defs>\n    <circle cx="50" cy="50" r="40" fill="white" filter="url(#f3)"/>\n    <circle cx="50" cy="50" r="40" fill="white"/>\n</svg>\n';
var nZ = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="36px" height="36px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <circle cx="50" cy="50" r="30" />\n</svg>\n';
var iZ = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 468.614 468.614">\n    <g>\n        <path d="M291.299 116.517h-3.501c10.635-12.36 17.102-28.378 17.102-45.915C304.899 31.666 273.219 0 234.305 0c-38.93 0-70.584 31.666-70.584 70.602 0 17.537 6.477 33.555 17.093 45.915h-3.51c-19.645 0-35.626 15.997-35.626 35.645v117.105c0 19.648 15.982 35.633 35.626 35.633h1.372v128.07c0 20.332 10.697 35.645 24.884 35.645h61.468c14.208 0 24.908-15.312 24.908-35.645V304.9h1.363c19.642 0 35.639-15.984 35.639-35.633V152.161c-.006-19.647-15.998-35.644-35.639-35.644z" fill="#386460" />\n        <path d="M291.299 116.517h-3.501c10.635-12.36 17.102-28.378 17.102-45.915C304.899 31.666 273.219 0 234.305 0c-38.93 0-70.584 31.666-70.584 70.602 0 17.537 6.477 33.555 17.093 45.915h-3.51c-19.645 0-35.626 15.997-35.626 35.645v117.105c0 19.648 15.982 35.633 35.626 35.633h1.372v128.07c0 20.332 10.697 35.645 24.884 35.645h61.468c14.208 0 24.908-15.312 24.908-35.645V304.9h1.363c19.642 0 35.639-15.984 35.639-35.633V152.161c-.006-19.647-15.998-35.644-35.639-35.644z" style="fill:none;stroke-width:8px;stroke:white" />\n    </g>\n</svg>';
var rZ = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g>\n        <path d="M12 0a8 8 0 00-8 8c0 1.421.382 2.75 1.031 3.906.108.192.221.381.344.563L12 24l6.625-11.531c.102-.151.19-.311.281-.469l.063-.094A7.954 7.954 0 0020 8a8 8 0 00-8-8zm0 4a4 4 0 110 8 4 4 0 010-8z" fill="#e74c3c"/>\n        <path d="M12 0a8 8 0 00-8 8c0 1.421.382 2.75 1.031 3.906.108.192.221.381.344.563L12 24l6.625-11.531c.102-.151.19-.311.281-.469l.063-.094A7.954 7.954 0 0020 8a8 8 0 00-8-8zm0 4a4 4 0 110 8 4 4 0 010-8z" style="fill:none;stroke-width:1px;stroke-linecap:round;stroke:white"/>\n        <path d="M12 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6z" fill="#c0392b"/>\n    </g>\n</svg>';
var sZ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAzgAAAC9CAYAAAB/Gdh0AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACr2SURBVHgB7d09exw3tuDxw24Fm5kTzHgduZwPqXY2G7kVbmQ520xUdjOJn0DNTyAq3EhUtpmoaEO3s5uJlJKbuSazo6GzDUxxz6FOaUpUvwH1BnT/f8/TD0mxKBbRKOAcAIXakwYmk8m+fnj4559/Tvb29u7rq9Cvi9ohV/oqb25uSv3e5Wg0ml9cXMwFAAAAADqwJxE0sXl4fX39RJOWqYSzhGc+Ho9PNNkpBQAAAABaEpTgHB4ePtEPM33tSws00Tkj0QEAAADQlo0SHJ2xmeiMzZktQ5MOaKJz6onOlQAAAABApLUJjs/anEr3ytFo9IDZHAAAAACxRqu+qcnNc+knuTHFhw8f3tr9PQIAAAAAEcbLvnH//v2X+uE/pF//7ebm5n9988035W+//XYpAAAAABBg4RI1n7l5KsO58uVqFwIAAAAAG/piiZomN89k2OTG7H/48OH1ZDIpBAAAAAA29FmC4wnFTNJQXF9fvxQAAAAA2NBn9+D87W9/eystPeOmDXt7e8XXX3/9x++///6fAgAAAABrfLoH5+Dg4EgTihRnTOx+nO94Rg4AAACAdT4tUdPk5pmkye7HGfqeIAAAAAAZuE1wbPZGPxSSricCAAAAAGtUMziPJG37k8lkKgAAAACwwkgTh/29vb2pJO7m5ib1JAwAAADAwEbX19dTyYAmOA8FAAAAAFYY5TB74/Z58CcAAACAVUY6M3JfMpHLbBMAAACAYdgMTiGZ0HNN5iGkAAAAANJju6gVko9CAAAAAGCJkWREZ3C+EgAAAABYIqsEBwAAAABWsQTnSjJxc3PzTwEAAACAJbJKcCSvcwUAAADQM9sm+lIyoedaCgAAAAAsYdtEl5KJ8Xh8IQAAAACwxEidSx7Ki4uLUgAAAABgCbsHx2ZFkr+3RWea5gIAAAAAK4x0VsSSm18kcZrgvBIAAAAAWOH2OTij0ehU0mbL0+YCAAAAACvcJjiWPNzc3MwlUXpuJwIAAAAAa4yqT8bjcapJRPn+/fszAQAAAIA1PiU4qc7iMHsDAAAAYFOj+hc6i/NYEtpRbW9v74zZGwAAAACb+izBsefMjEajx5KGUhOcYwEAAACADY3v/sNvv/32X19//fWefjqV4Vii9UATrt8EAAAAADY0XvSPv//++3zAJOdKk5v/qcnNfwkAAAAABBgv+8ZASY7N3PwPkhsAAAAAMcarvmlJzjfffHN5c3PzD/1yXzpkO7iNx+Of7D4gAQAAAIAIe5scNJlMig8fPsz000fSPtu17eTdu3enAgAAAAANbJTgVDTRmV5fXz/b29ubSnOW2LwYjUanOmuTzNbUAAAAAPIVlOBUNNGZ6IzOU/30B30VIT9rS9E0QXqjic0ZiQ0AAACANkUlOHWe7Ez100KTl/u3/+neXmEf9etSPj7P5g9NaC7083OSGgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADIz17IwZPJpJCWXVxclLLFuigzs+3lBgAAAMRYmeBocD69vr5+tLe3N9UvC+nWxc3NTakf34zH43muAbyW2f6HDx+e6KcP7UvpVqllNtfyeqXlNRcAAABgxy1NcO7fv/9Sg+cjGYYF7ifv378/k4xocjPR5OZn/XRfeqbldarldSwAAADADhsv+sfDw8Pn+uE/ZDj7Omv08Ouvv5bff//9F8mALUXT5Ob/6qf/XQag5fUPLa8/tLz+UwAAAIAd9UWCY4G6zgb8H0nDNJeg/a9//eupL+Ub0j+++eab//3bb7/9PwEAAAB20L27/6CzEA8lLc806TpP/Z4cTW7uy/Ds/p8j/XgqAAAAW8jud5bltwNcacx4Jdhp9xb8W9c3xofav76+fqkfH0jakii3RBItAACAVtkqI4sJdTB3uuq4w8PDcjQaHWuicy7YSaO7/3Bzc9P7DfLr2NIvraxPJVFdbQUdQy/6QgAAALaMJjezDW8HsPuiX/pMD3bQaMG/fSVpepZSIgEAAIBefRtwrCU3qa1KQk9Gko9qqRoAAAAALJRTgnO7VE1ncVLbBAEAAABAIrJKcAxrKgEAAAAsk12CIx+Xqj0TAAAAALgjxwTHlqo91VmcqQAAAAAds42uLPZkFVEeskxwDEvVAAAA0BWLMw8PD5/p618ad/6qr5/19S/9+u3BwcGRIFnZJjiqYKkaAAAA2mYzNprMvNVPZ/Jxy+nPvr23t/dSk5zngiTlnOCwVA0AAACt8uTmZ/20WHWcxaEkOWnKOsExLFUDAABAW66vr2eyJrmpMNiepuwTHGVZ9lMBAAAAGtKk5YeQ4zUO5RmNidmGBMc80+x5IgAAAEAkXxVUSJhCkJRtSXBsOpE1kAAAAGgi+LaHm5ubrwRJ2ZoER6cTp4eHhyxVAwAAQKwrQfa2JsFxtlStEAAAACDQxcXFlc7IzCXMK0FSti3B2b++vn4pAAAAQJyQhKUcj8dzQVK2LcFhqRoAAACivX///mzTWRw97lhnfUpBUrYuwXEsVQMAAEAUnZV5vCbJsaVsjzUZOhck555sp2qp2gMBAAAAAviszIODg4MjWx2kycy3/q0r/fqX0Wh0ZvfrCJK0rQnO7VI1ncV5qJWPzBoAAADBbLmafjgTZGVbl6jd+vDhw0t/YBMAAACAHbDVCY58XKr2TAAAAADshG1PcGyp2lOdxZkKAAAAgK239QmOYakaAAAAsBu2dpOBOwpfqnYsAKL4IMEXAwXs//+5ZeWkrthxZ3O+1b+VY/Wx7qp6aZleCL5Qq4eFv+4q/eMF9XKxJY+b4Dq+g74hfbv4Hu1KglMtVXujb+ZcgB55w/Lwzz//nGg9/FZfhXxsaOoNTikf99S31+VoNCr1dTFEffXznejM5w96LnbOE/260K8XHn94eGgf7Lwt0Ky2z5xve+BZKyfbPvS+l9O+fr10tljLygKjUo8vcykn/zsLWZy0VRoFyVVZ6jXyUMvltixXlWOd17+LlMvUA+VixSFl00DDfoeW2UOvi1P9vNj0Z61e2vVrbc+9e/ds59GdSnq07O5ex4V8vJYXHu917vY69jKby8cyK2WLLejLtr5vsLohq9u+MrX33d4nfU+O6vV5WXtaf4+sLuvxF+PxeL4NdXnv7j8cHBz8bI2jbKfy3bt330nLvGP5VRJgD6V6//49z/+JYO+jPT9pTf23Tv9U69HJmv+ramB+bHg9XfmDxt74VpWdsXvVbKazCtSlOev859pYvtqWgQV/X5/o3zVtsZ1sXE7aST2zZFRWvG/6/78I3TbfA7+fZX19sIT8QWin6HXukZblQ2mnzn06Hy/TF0MHUwF96mxdu3JXR/Xxlrc7r7QMz7ct2akS6g7qXqnvxxtNeM62ZYDHrlEb7NJPrZwm0o7oNi80RvV2aS6BPB44twGXDQ4PvnYr1nbrh6eyZgBJ/46fVrWvLcYclaoun+aa7OxagmNOtCLOpEUkONshpO5rY/OXRZ1+FXDI+gYrRtUpnLTV4HR8vnV27ie5jgzZM7W0s3vSQ9t4W04hyaw/hO7lJscuq7fLaOf7VjYMavQczi4vLx+vO67qiPVTq3eFdM9GJl90PUCwSMh7YzZ9fzwxfOLBeddskOW8zXZnKN5XP5Lu2zsTfC2nooNgeZWgcuorwenq2m3wO95o7PrF9d5HH14NduRWl3dik4E7nvmUI/CZwIb8i4bERmI80Z1JNw1Noed4ZL/DR30a0f/jScfnW2fn/tJmA6xRlwxYx2HlrK9/6Xm/7mng57ac9Hf+umk5hZyXBsWhAfHGbeUmS6Lsb9LjLGl6Lv0kN2YSWqZt8eWoIVaWtwXo+jec2XXUU3Jj9qt2R3/3yyX3pSTNy+3nHts7UwxV72JVbZ6X0/NU27w+RPztwXUqpH3QJOOru//ms2vWns6kwzptZVF7j/pqdxrbxQTHOvnnArTEO09bjjCTfjpOM7PGJmYL9Kqz109Ppb/zrXzqzFIOlKwR76PjWKFeTlNpSUTA3YqqzvloZSHDyC7grPMBibf6NzySgeSW6HjA/tzOecCVKVm0eT0PeC1yW065JtF9qtVr68cL6Y+9R69zeY92MsGxhk4rx1MBGqoC4Q3X6bbNllv8HDKbUzvfqQyraGsmqk21QPy1DBeI1xU+65XtoEwtMJ9KGrIKpAYekFjIE52kZ2NrAXsqfX2qbd7UB+iSqF851K0h+b1BcxmwXlfvUeqroXYywXHPGCVAE9ZReSA8dKcw087g9bpnPSV0vnWzVIL3BAPxT2wXyNRHgO+qRhklocC8rtZJJ7vkolqCkmKdlM8TxWTeXzsXaw8l0XonH9u8n1O4lqtZgIEG6FapZr2SSgaH5veQpfJ+2bm8TXmyYJcTnH3bMUuACDc3N9bwziQRth7fg7VlW0Emdb51FrxvkqB1JfVAvKbIYdTMWJkOPcq4ISvT1ykGUp5wb7KD3aA8UXybQsDuAeDbHu9PiuLbeA+W5NRmBVO/PmdD9g0pseXFAyxJ28TzVBPRXU5wWKqGaJrgHEl6JouSnJSTm4oFJEPcG5fCdH+gwoPJwe7DWKcWZKY2KryKBVLJDHj5NXsq+Rg8+a7dcF1IHoohkpzaLMBUMrBu8G6HFJJu3Z6lGEvvdILjnnHhYIvYsx1eV1/kkNxUbCS4z+VqiU33B9HzPksxyanKVPIJMj+x+mfbYg/dH+R0zd4xWPKtZfYoh9muBXpNcvy5VjklgZUJSU7ynre5IU4bSHBYqoYtYyNzlij4do4zyYjfa9L5SFDOgXjlQ2JJjr539jyGrMtUBg6k7Nk2kmdy80nf9dKSG/1wJu27fe7Y3Zf9u7Sr6KPOBTy0N1UTdsBNm9av1yndJ3pPcDsFajeahj7lG2jgyl9mX1rudCxR0A9H0r5Oz9vZrOp5Vw8V7Cm5qZeTdPW7LJiU9gOuWF0uTyprn3dV7yrVLGjvD0zu8N6RXupjxZOcS72GL6RDPohzJs3Zw0wvtPzfjEaj+brz9mTEEoapfvxRmtf9woP3tQ/KjVFr8zp9mHPt806uUZtllc/rMcKUtc8LaV81YZDEw+ZJcJxe/Da9Ng99Ei2wCRv508b5F+s89cuLu/Ws1mFOWnx6dOMOxs/bOn3r8Hs7764aSX/qc9vJTamvqozm+rpa1I7cKasftKwmLZ1HIVukdq1Uda5cdJzf72Hv59TLcyotqWZB379/fyz5sWD9fDwe/6KfWxmWq+qjXmuFl90P0mJd8lmJ7zseqGi6+qLU1yuta6chfb8fO/fXzM9lpp9Hz1z5EsnLd+/enUqLOkhu6slgKf1fo7nOQPXts6RdFrQDtT7JBgosUS+koere9rbrcdS53P0HfwbEVHaQVobTmA7NG5BfJQEWHOjfkET2nBu9KG+kZXotnenrlTYs85Cfa6PDbMAawRfaKJ6HjsC2ed76+x+Elts69hT4lh6UWJXRvMk5+o3RR9Lf+3yiHc9s04O7uCYWqSXSZ7GDTL5zm3XUj1rsw46bdNRafjP90McOQ1Zmr/yanUskX8b0VNpLdko9p+/bHjj0gYom95LY+Zx0lEzMJP56vvLyKqUltr28tPBeJnyNrhTbj2i5nUnA+6i/57vQ962j9qHqm05D3yfrj/T9edbCe3Pl5THohAEzODW2rEff4DdtB1XYPdYZ6AjqSWxd8obySOvjrM9Ex8/7cWwH2+Z5W0MrH0dIW+E3bzctx+jOYxGvH3MvryP93O7B2JkRyqbXSZ2/H2f2qgXqTd/vamY/KNHvUdv10f7OIw/ULRC1+lhIvE6WXun/eWrb5koE/blzfT3uIviq2j9ta6wcY+4XaXX22re/L6SBDq/Rvgd3doG1BbPYul31R7b0U6+RJnVn39vfmQyITQbusClvdupAQyc2i9ZSh1DqKOORftrHUpljP+9SGqqd94lEslGktnZl8RsfZ9KMdR7f2QxI28GRl9fMRm/1y1ey/az8jtu6Tu6yQN3qnwZnP0nDe5T8xtnk+gQLPK2+dFgfT230WxrWR1969VRaYk+4bzALe3x5eflT1yPLXnZ2LZcSqK12z8pJmm1/b0ucfurwGp37NWrJbylowmZKH2h5Pm2jbut7ft5CX/Rk6HaTBOdLhY8cA8GssQ5ZArSpWofZRcd85Y1j62tmPWi3ICnqvNu6Fn0NeqyrNjuPVarEcJs7ff3bLj0w73yNdq2jfiHxUusT6slhKR2q6qNfw6XEa+VxDDZQoQlAzHvRWRu3jCXZsW1f0/rWoJxuefL8nV0/0jH9HWctXKO7rOxiObf1dQ0HKfd9hm4wJDgL+FK1qQABLCi1xlo60qTDXKWLxrHO/m8/72A+mllIAz6SWUic6h6CufTIO/2mQWWKXujfNuk6MK/zjtpGsqNnQb1PmMjwyr4DdVO7hkuJs9/GFr/6f8wk/Fq+6rqNW8bquf7unwJ/rPEsTmQ5VaoVCL3dP9HGNbqjquSmlI74gG1UkmMbD8mASHCWsF3VBNjcSZfJTcXXyEcv+1rguI/7C/x3RHVeTUaBmoxkVjMNfQbjdR4cWVCZ6v0foU48iBmEz4JasBk7mzh0n1AFM4PUB6+PNtIe9fttqVqToN2v5eClaXodHw9VZsYTq+C2L3YWJ7acXNAmJG3za7STrbK30FXXyU3F6oQ/AyqIJ+qDLVMjwVlu4jtcACvZTat9dgrWCdg2sNKQ7fDW50hw7Hnb9qISSZMj6+gLCVeOx+Npn6OYi9SSnFLyNmjgVLFnncWMqJs27wmLUPYVzKxi10OTpLvJ0iuflQjVy8DTOt72zUN+JjY4jCwnk8o1ekaSs5GTPtsD7Q+jBod817xBkOCs9qTp8hhsP+2Iep9Wt53OpNlStVLPu82ZoI3EnHdsR+/X7pGEq4LJQZObSi2oLCVDfQ8ArBM7om6GuhcnheSm0qQ+xiaJkbMSZUr1znYik0C+E9XGGszeJJHcVCzJEZarrXIxwDLV263VJZC2FdEDlE2R4KxWbdkILGSzIEMEHt7YNLkp81VO563X4VQC+c8UEshG+FMJJis+k5PjqKYl0smdtwcHwfVwoFmc4wTr41WfN9DHzErE3vfXFUusI5b5BCUrkbM3SSWCldhrdBdo3R4k+fP3pAz5Ga3zUxkICc4a1VNZBVhgiFmQij37QiLZw9pkIH7eobM4hQSKvPfmZMj1+qv4zENWHX5KM2F32fMiJGIWwp8P04u+l5GG8KQruP2LmZHVnwkaBR5q4GmdiFmcYtNVJLGzN6klgnWx1+iWuxhiw4ya0D6oGOo+HBKczTxjqRrustG4ITtRCxxjbvxTb4Y+bzuHkJ/Rjvt+yPE+yl5ImCRHMuty6vBTDTIrPgsRM7v0qKcO+2rIAZRNxNxbYkKWXsXsgphqucXM4myaUMfMckvP93GEanCNbi2tP4MOckUOjhYyABKczbBUDV/QTjQoSE/lHNrYoKCp0E5ej5+EHK/X65EE0t+RdDBpMurwy9SDcxO5bGi/pxtnX6QcfFZi7i0J3DgkqKyHHnhaJ6LNnm5ykP6/TyRM8gM6JvIa3Vp6vQ26wiBmYFXby6D+uy0kOBtiqRru0kBz8KVMeg7BycrQDaSfQ+h5hy5pCd1/v0xht6VNZNLhn+cQnJuYAL2HG2fLIZeRhoipjyHPtwpdnibNnr7euYg2e+3f72UZFETmMKBTiblGt9RVCkuo9Zq8DDyeJWoZeDYZcE9vJKeUgcUEkSk0kL5MrQz4kWLTA315WtB1mlNnb1KYPVxFg7hs7hWKCdD1+E5ncPT9TXoW4q7IHcLWlmHMtRwxeNIrf1/LgB/ZX5cMRixPy2ZAxzCL85GWQRL3h0acBwlOBliqhk8SCkDKgGNTuuG7k3PRwGkqYa5y6uyNj+4nefO+DHyPV6TQhMyCzs6WXeSwvK/Ob3ouA35ko/vqQq9lX56W6nVR90vIwRss8QlKuC2BlsykPqizS3QQoQw5Xt+7b2UAJDiB9I16OODD3oCmkun8NRjp5FxCHwxqz2mRzPg66CR3e0vhHq9Q2mHPJfDaiEikN3WRYYJogpaGbbJ9bMS1HLR0ZkBB1+66XSRDN2HR45NexrdILks2d0QpGUg9wUlyJEY7tpcsVQPSpJ130Mi6Xs+5jgwmGaSkvkRokZiEMTSoDBA0up8KDUDnEmbt9rGh17JkEnhpXSslTLHsG16GhWzuauBthqM02DUUOyr1BCfVddzFUE+0BrCcd/aha/aTnAlZx2cdUnORyRKhL4QugQnd2W9TMRuHpMCD5tD3vlj2jZhrOYWNXzYRscTnqxXfDq2HWSbQJqMZOiTgniTMRoR0dNUauNDtDzunF9pTbYDf5DgSAmyx0M7+KtPlQLf3gB0eHlpAmdJscrbBkwXH2t+E/EhX5Z5lwu1KCbgG/d6SZX9vcAKp799rvyaSFljP7Phi2fe0DO0BnxIg2/pls6yBfyt2WNIJjrEH2+nFbVu+FpIYX6r2vQBIgnb2+yEdYKr3sQQoJSIQ7FAp+QqtC4W07yrXGTBnI+wb18dV95aEXssueNYnB6u22V13f85dObd5NmsdmhxidyW/yUDiD7ZjqRqQltAlLaXkLaklGxH3FiTDE4ug5GLTZ7lsaksS7hD7kd/bNa2VkyYJOSfQOZ87epbFLmq+DCzJ+3FsqZps+KRhAN2KGM38p6A1mQdPhgCqgdAEd9W9JUM9HDBDoeVUSqYyn91Ez7LZJtqWqkmiF6ZOmTKLA2AIpWBraFD/h6BCggMgWjYJTupL1QQAgAY0wfmXAAAay+pBn75ULbsHVAFARwrB1li1W9YOYjmSy/neNmAoWSU4Rmdx7J4XGj4AX4i4B+BbyZj+vUkt47GdryRvRcjBbW8xnvt9J23eA6ffo593LT//Jds6xgPWESK7BCfxpWoAMqJB1F8kb19JQkID3JQkEjztVIIoqwcrSXA+KjXmOV31fQngzx7KVSHAhpJ/Ds4imuScHxwczLUznQoAuPF4HPqwxvuSMW0DUwtWCslXaFl2saVzYYlWrrtF6YDBt4HPoSqXfU+v5TLimScnW7D1+13nq+qDlWFImec8SxjxUFPssCwTHKON32Nt/N4KO60A+LdSwmQbUOp5T7QNTK39+0EypWUZmuB0tcW4ncdcMhSacFsSs+Lbq763kAX7ei2fyQ6JSASn+jqVDDGojRDZLVGr+NrnEwEAF/OwRh0VnEqGNKiZSnomua6T1+B4KmG6mMFJ9X1dS9/3qQQOOOr1erHie8HXcoIzmn0IrYfZDkJI3ueOnmWb4Jh3796daqc0FwBw2ib8EnJ8rqOC+nf+KAnKNWHUehAUPGn5d5Lg6P+bZRCnidnDkOM36btDy1iPz3rJaQxPBMuAH9n3ZDQres6FhC8jxQ7LOsExtlRNuBkRgNNANTTwfJTbrIN19gknZo8kMwcHBxacB9UBu99LOmDvqwdzuQlKuDfZGSx09zAvu11cth40qBOajKYg14ETDCf7BIelagDqRqPRXMLs59Z5pny+mQaZRxLmou0tous0AD2SjPiMQBHwI3adnq87JmaFRm5l15KtH9TRduWZAAGyT3AMS9UAVPyBwKGzuk8kI4l39vsaZD6VTPhsWOhyv6AR8whPcgpANeE+kkB+na6ks2Rrj7kr1aWbXdJk8UzC2KBONrM4MQk0sBUJjmGpGoCaVyEH+6zDVDJwcHBwJOl39tkE6BrozSRQREAZKpsk0RPE0GWJbzY5yO4vCR28zOlabktkOWUzI6LXwksBAm1NgsNSNQCVTZa/3KWd6HNJnAeTOQQmWQTokcF5uWr3rxZlkSTGJIgajJ9teqy+PxslQ3V6Tju3nCminIrDw8Pkr9FMBnSQoK1JcAxL1QCYyGVqk9Q7fA8mC8nDM9szWhKmSdjPEkj7mL4G0mwZUdJJtwWfMQni+/fvNx6A8Nmy0O2ibRYnuxvpm4gpJ/l4jRaSqIwGdJCgrUpwzHg8PhYAEHkh4ZINyjX5ehIRTA5KE4jXqc5CaHla4FRImKuY+0Ji6ft9pOWX5HveIPgMui59G+Tge55sWVOmu9FF8XIKncWxJDrZ5V+ZDeggMVuX4PjSAZaqATtORzRPJXxEcz/FoNwDtZnkp0hxFsK3hZ5JIA3oz7vcPW0RrY+nKQbqPvtVSJirmOWjfi2HSjp470LMvWE22+XJflLsnHIb0EFati7BMe/evZtJ2IOvAGwZH9GMmcUpLHhLJcmx4NaDySyf72GzECkFUDZDp+cUFfjqzw0xeLbv9bGQRNy/f9/Kr5BwL2ISRFtyGrP83IJ3TWaTv7euLbHlpGYpXaM2Wy15DuggIVuZ4BgdyXgsAHZa5CyOmaSQ5NSSm0LylkQAZclNg2TxpO/Zm5oilSTHkhsNoo8kXNlk97nxeByVXGqS8zTFGYqu+I6yMZK4RvUcbNYmZsYO+MzWJjh+k3HM6C2ALeGzOLGj7hYMvx0qqKwF44Vsh0EDKFuW1iC5KX1lwJAGTXIs2dcy/DkyubndnKFJgthgdsIkNUNh7H38+9//fqrn9Wubs0xexrGxz6Dl5L/7TIAWbG2CY3S0aCYsVQN2WsPdFaugcio9siUallzJ9t1gawFU70mj/s7nOpL/WiKX+fW4c9o6Vh/f9r3bnyfbb23Jl8SxndPOpKGGz7ubaSLxOoVZML++f9UYxZZi2WYNT9tMchrGPr2XkyXPvuxxJsAS1g9XgwK111utrws3FNnqBMdGb1mqBqBhYHSb5CxrRNtk/7+Nkst2L9GYeHkeScesQ/TyjE4INPg8ayM4b5Elac97qo/7NqreMNm2fviBtKDp8+70vXzYV91bpFYfv7i+LclpayClaezTZznZ32z1K3ZmENvP26Hn9nyre/funWvd/l4HLr+zl7Ut2r+/sc2BvE38NIi11QmOYakagDYeBGw3y1edftv35lQNuI3qNhglz4mNWr/05TlH0jJPFM/s/WpYnqX+fJKPHvD6+GtXiY69L57YzKSZVu9dauF5d7d1r48EsbJpfWzzAaUtxD7VNfq2ixnsKtnbsmW46IBeF3P98IcOND2weu1Lz2/Z5/o613bhe62v/6zfO3tPdoBN1+of/aNwEQE7ywIj7awL/fSJxLvt9LU9eaad81xHjl40eaq9dfLaeNtylZ16KGFNFUQ9s2Vg9oyZ2GDYO7WJBYlanlP9f6Wh25mHemeaIk90jiyA1vJ75YFtFN/Uwm7ythmvNpL4F3bdSctsRtaTr+hzvFNuja7jZfz6tt/zaJP6WD2g1AI2aYGWvW2w8IOdisS7nXHV/6ds4xq1Mtf/58eWrlFsORv40w/n1T2QC5Lti6qNtmP0+Gqg4HgnEhz747VQHsc8tRrA9mipwzdFFSB5xz/Xf/tFO/9Sag1unQfgFkBO9fj7vgxkn07+VpU42syB3Ux+ee/evbn+e7ks8PTRdyvPiR7/g5Wrft1aeer/+XjAXdOC3amPF/r1L5qgWdmtrI/26Z9//jnRYy3oLKQl9h7qiGsn9wrZ+6Ln/1MbfXqt3KysXmk5zGOTnSrJ1vJ8WJVnaH3Un3mu/8+8rcRaz+OnlmZJPrtGa/Vr3TVqCVLhSY21u7R52IgPuDy0pWi1r7+45rU+ntugh10zluTYzKAlQjuR4Bgb1dIGzKZrm4zeAsicjcq3fAP/bbKjHy1Quv0HG0WSz2/yLarvmZY7eAuEUnlGTuNzsVFse2l53bbVXpZX8vk9VF2WpznR4LyVUfRAbbyXVh8L/fhwRX20kfR/r1Uftb5avdSAYyod8j7dlg+2dXO+Bd8WjEstSbzUsill8Q37Vn77Hrx/q8dOPIBvWp5Wty0xnEkLPBl80OZSMF9mN71Tv/q6RkthNc5O0JmYmSxeWn7sDwze95lAW959Kf++Zl5ZYrQzCY7xpWo2/Z5KMACgZz6j22qHv0QhHbNRcm3cbfQ0iSd+15LHtu1Lf+32yYBbQr+oZvekfYX0o+xraZ8vO7V60fbWxl8kiau0nWDbjKS0qIskZ4E+rtFX8jHB2ZnnGu0yva7ua1vyxSywXh9Xtdn1C98l89vq+zq4cm7LyLd+k4E6dlUDYKxx9J2dSsmUJTddj5KHsqUqmbexx0M/78Z3/Gv9fpA+WJ20HY76XNrn71cq23i35ZW0bAvavFf6Xh8JdkmxaKBEk5l9W65mL79Hx5Z2/lJ9339mf6cSHGM372kjPMTSAwAJ8Q7/+xzbgyq5SfEGeD2nswyTnCst05+6uCE+lA/EPciwXr4aqk5akrNFg5fHXW1LnnGS84LkBjW3O47aSz5uiHKy6JrZuQTHNHwmBoAtYcGYNow/SV4jwK9STW4qnuR8L3kEUreJ7kD33CxUq5e5POLAlvUdDVknvc7Zzcil5Ok2+eg6ya4GdqSDWaKOWN3qZLMKJO9qySMZjv1av20fbWOQ+jf9Z8qdTHC8Ed62KW0AkXwE2ALKUtI2eCC5KV+ulvpo8Yu+l1SF8MAu5b6qCspnkoDaDEUuwXulqodz6YHvNnUkadetalZ1JthVb66vr7+4H7G6B8fuq9cvS53J+ewBn/Yzdm/qTiY4poWHhQHYIrZ8NeHgKKlAclO10eLUZiKq8nyaerLoyXeKMxO9BuWbsjpnwbtt8y2JD1hYDOJPZX864NI+q1tJ3fNVlUtKs6ron++UdncDnVJ8BVb9vnpNcmbVAZrcPNPXyc4mOIalagDqasFRMrM52lCfpRhIbspHi58mEnDezt7nVp5eLy0QHXzEfeigfFO2Jt8HLJJb5udl+MCfzD5ocuF16/uErs9jL5dSsNOsjbat2u1B0P71bTtYT3ztGPu3ahmjH/vmdnBNdphfQCxVQyWos16yNnQIIeddSKb6LG9rQK3RHLLTr4Kgy8vLxy0GkoMFpBZwDlimVWJjHeEshyV+i9RG3HufZUwpKN+UB0RPhyqzu+6U4VwSMvD1aV749Tn4Rh9Ihy9De1glOavYMb6s8TbZ2ekEx7BUDRV7sFvA4WVCQdKbTQ9MaWcmexJ2wOGDlHfV6dv9OX21ExFBUCkb0v9742O70mcg5e/Zce6JTV01y1gL2rv8mz7NeKUYlG+qXmYDBPBVGf4lhzKsX589tHlWNlVis9GM4N0byjdQSoTAv72MmXEK/Vv8obOD87+13PT4+hbOEb/rymdiv9ME5q0OdD6sD3ba5/qaHhwc2DOe/lJ/dMJOPehzGVuq5g+nS2VEHgPwemCjRz+uOs4aPj32WBJhgZte+HZD5srztqlePe+ZJMLOWxulUtY8pNKfJj7oqJ7dn6Mfzm3f/evr66l+/sif5t0W69hf2Zrj0ABIf+bMH2BcrDrO6m1Ka9p9W88zLVN7AvyRfm4PN5xIM1f+BPo3Vi7bkNAs40HGkXXwfiPuj14nm/Zjpb7exNTF1HmZnUn79e4zdq3ZAI4FsLmWYe36LOyp8Na/tNXmeflEXaNWntrf2cqbdSP6pf6ek9ilbvb3a/9kn657iHKp/WrUSqDa37Ku/b5t17S8kllx5A91nul5fbviMHtv3zTd9tzryJHXxZl+/swf8Cv+IN439h7cvdb27v5HlgW13HFH86chz6UHWlg2pfVcMudBzAMB0CkfRZpqAzv1p89bkLRpcFl6IG5B0EUb7ZyNYq34dtQIo7aLNyHHa9K6Jw14mU68TK3jtCfKL3tCepXM/GFlKB83bktq6ZSW30zCnrp+0nQjCQvcNeGZWH30MtzXz4tFx/qs9ZUPIpT6+Xybk8Jl7tS7+15e9lp3PVtZVdfyZa0ebmUZRpZTVT7/9JvGt7Z8kBYSnJqU/vZYJDjAcKoAwL8s7nz7NhiStJY3rtR3grNthkhw0C4bNV7079wE/7lF5UQZYUgsUauxZUe+VA0AgnniMhcAW4EgfTOUE1Kz85sM1PnyBnZVAwAAADJFgnOHLw/IYgtMAAAAAJ8jwVlgNBols0MWAAAAgM2R4CzgGxsk9/RjAAAAAKuR4CzhT08tBQAAAEA2SHCW8KenPhYAAAAA2SDBWYGlagAAAEBeSHDWYKkaAAAAkA8SnDVYqgYAAADkgwRnAyxVAwAAAPJAgrMhlqoBAAAA6SPB2RBL1QAAAID0keAEsKVqNzc35wIAAAAgSSQ4gcbjsc3iXAkAAACA5JDgBLKlajqLcywAAAAAkkOCE+H9+/dnmuTMBQAAAEBSFiU4fwjWYqkaAAAAkJ4vEpy9vT2C9g1cXFyU+uFEEqPvHwkqAAAAdtaiGZwLSUdK5/KFd+/enSa4VC3pMgMAAAC69EWCMxqNziQBljjYDf2SOF+qVkoiUnn/AAAAgCF8keB4UvFCBuaJQ/JsqZomFT9JAvfj7O3tnfnSOQAAAGAnLdxF7d27d09luCTHtmF+nFOgrud6oUnO9zLgTI7NeGmCw/bVAAAA2GlLt4m2JMdmJjRwPpd+ZidKfZ3o7/zOtmGWzFhCpmX2nSVnfl9OH2VmyeC5ltkDLbMHOSzpAwAAALp0b9U3NWC25Oa8+noymRTSgW1aVuXJ2Vn1dVdlpq5IaAB0zNqY/YBj8bnQMqEMAaAF90IO5v6OcJQZgIzZVvjPNzx28Hs3U2Obvnz48OGJflpscLjdz3kuAIDG9gQAgCV0FnqqQfp01TEamNuul3PBF2wW//r6erq3t1esOOzKkiFm5QGgHf8f5iOxLIAFXIsAAAAASUVORK5CYII=";
var Jc = /* @__PURE__ */ new Map([["journey-departure", iZ], ["journey-destination", rZ], ["question-mark", PX], ["arrow", IX], ["door", OX], ["elevator", LX], ["elevator-up", DX], ["elevator-down", NX], ["elevator-alt", RX], ["escalator-down", BX], ["escalator-up", kX], ["ramp", qX], ["ramp-down", FX], ["ramp-up", UX], ["sligntTurnLeft", zX], ["sightTurnRight", GX], ["stairs", VX], ["stairs-down", HX], ["stairs-up", jX], ["turnLeft", WX], ["turnRight", YX], ["uTurn", XX], ["blue-arrow", ZX], ["start", QX], ["destination-marker-back", KX], ["destination-marker-front", JX], ["smart-label-pin-back", $X], ["smart-label-pin-front", eZ], ["smart-label-circle-back", tZ], ["smart-label-circle-front", nZ], ["logo", sZ]]);
var Abe = 10;
var Cbe = new fa();
var p3 = { adjustedAltitude: false, color: "#4b90e2", pulseColor: "#ffffff", pulseIterations: 1, nearRadius: 1.8, nearZoom: 375, farZoom: 1e4, drawDuration: 1200, maxAdjustedAltitude: 1 / 0, minAdjustedAltitude: -1 / 0, curve: Iu.default.Easing.Cubic.InOut, displayArrowsOnPath: false };
var Pbe = { color: "#7ed321", pulseColor: "#ffffff", nearRadius: 1.8, nearZoom: 375, farZoom: 1e4, drawDuration: 800, curve: Iu.default.Easing.Cubic.InOut, displayArrowsOnPath: false };
var oZ = 2.3;
var Ibe = 600;
var dR = class {
  constructor(t48) {
    w(this, Jp, void 0), p(this, Jp, t48);
  }
  get id() {
    return o(this, Jp).id;
  }
  get nodes() {
    return o(this, Jp).nodes;
  }
  get coordinates() {
    return o(this, Jp).coordinates;
  }
};
Jp = /* @__PURE__ */ new WeakMap(), q(dR, "Path");
var d3 = dR;
var mR = class {
  constructor(t48, e6, i) {
    v(this, "id"), v(this, "nodes", []), v(this, "coordinates", []), v(this, "pathSegments"), v(this, "options"), this.id = Cr(), t48.forEach((t49) => {
      t49 instanceof Fs ? this.nodes.push(t49) : t49 instanceof aa && this.coordinates.push(t49);
    }), this.pathSegments = e6, this.options = i;
  }
};
q(mR, "InternalPath");
var v2;
var lR;
var y2;
var uR;
var x2;
var cR;
var b2;
var hR;
var m3;
var aZ;
var g3;
var lZ;
var _2;
var fR;
var oR = mR;
var gR = class {
  constructor(t48) {
    w(this, v2), w(this, y2), w(this, x2), w(this, b2), w(this, m3), w(this, g3), w(this, _2), v(this, "core"), v(this, "altitudeAdjustmentMap"), v(this, "maxAdjustedAltitude"), v(this, "minAdjustedAltitude"), v(this, "adjustedAltitude"), v(this, "pathSegments", /* @__PURE__ */ new Map()), v(this, "pathsById", /* @__PURE__ */ new Map()), v(this, "pathsByMeshId", /* @__PURE__ */ new Map()), v(this, "connectionsPathMeshes", new lo()), this.core = t48, this.core.scene.add(this.connectionsPathMeshes), this.altitudeAdjustmentMap = /* @__PURE__ */ new Map(), this.adjustedAltitude = !!p3.adjustedAltitude, this.maxAdjustedAltitude = p3.maxAdjustedAltitude, this.minAdjustedAltitude = p3.minAdjustedAltitude;
  }
  get altitudeAdjustment() {
    var t48;
    let e6 = this.core.currentMap, { mapClass: i } = this.core.mapObjects.get(e6), n = i.scale, r = Math.max(i.width, i.height) / 1e3;
    if (!this.adjustedAltitude)
      return 0;
    if (this.altitudeAdjustmentMap.has(e6))
      return this.altitudeAdjustmentMap.get(e6);
    let o3 = this.maxAdjustedAltitude / n, s6 = this.minAdjustedAltitude / n, a = null == (t48 = i.polygons) ? void 0 : t48.reduce((t49, { geometry: e10, image: i10, label: n10 }) => {
      var a3;
      if (void 0 !== (null == (a3 = null == e10 ? void 0 : e10.scale) ? void 0 : a3.z)) {
        let a7 = e10.scale.z * r, l = false !== e10.visible, u2 = true === (null == i10 ? void 0 : i10.visible) && (null != i10.url || null != i10.original), h = true === (null == n10 ? void 0 : n10.visible) && null != n10.text;
        l && !u2 && !h && a7 <= o3 && a7 >= s6 && (t49 = Math.max(t49, a7));
      }
      return t49;
    }, 0);
    return this.altitudeAdjustmentMap.set(e6, a || 0), a;
  }
  getPathLength(t48) {
    let e6 = 0;
    for (let i = 0, n = t48.length - 1; i < n; ++i) {
      let n10 = t48[i], r = t48[i + 1];
      n10.path.includes(r) && (e6 += Math.sqrt(Math.pow(r.x - n10.x, 2) + Math.pow(r.y - n10.y, 2)));
    }
    return e6;
  }
  drawPath(t48, e6 = {}) {
    let i = y(this, x2, cR).call(this, t48, e6), n = new oR(t48, i, e6), r = new d3(n);
    return y(this, v2, lR).call(this, r, n), r;
  }
  redrawPath(t48, e6 = {}) {
    var i;
    let n = null == (i = this.pathsById.get(t48.id)) ? void 0 : i.internalPath;
    if (null == n)
      return void Le.warn("A path that does not exist cannot be redrawn.");
    (null == e6 || Object.keys(e6).length < 1) && (e6 = n.options), n.pathSegments.forEach((t49) => {
      y(this, _2, fR).call(this, t49);
    });
    let r = y(this, x2, cR).call(this, n.nodes, e6);
    n.pathSegments = r, y(this, y2, uR).call(this, t48), y(this, v2, lR).call(this, t48, n);
  }
  removePath(t48) {
    let e6;
    e6 = "string" == typeof t48 ? t48 : t48.id;
    let i = this.pathsById.get(e6);
    if (null == i)
      return;
    let n = i.internalPath.pathSegments;
    if (n)
      for (let t49 of n) {
        let e10 = this.pathSegments.get(t49.id);
        y(this, _2, fR).call(this, e10);
      }
    y(this, y2, uR).call(this, i.path);
  }
  hideConnectionSegments() {
    this.connectionsPathMeshes.children.forEach((t48) => {
      t48.visible = false;
    }), this.core.tryRendering();
  }
  showConnectionSegments() {
    this.connectionsPathMeshes.children.forEach((t48) => {
      t48.visible = true;
    }), this.core.tryRendering();
  }
  removeAllPaths() {
    for (let { path: t48 } of this.pathsById.values())
      this.removePath(t48);
    this.pathSegments.clear(), this.core.renderer.disposeOfRenderLists(), this.core.tryRendering();
  }
};
v2 = /* @__PURE__ */ new WeakSet(), lR = q(function(t48, e6) {
  for (let i of e6.pathSegments)
    this.pathSegments.set(i.id, i), this.pathsByMeshId.set(i.object.uuid, { path: t48, internalPath: e6 });
  this.pathsById.set(e6.id, { path: t48, internalPath: e6 });
}, "#addPathToCache"), y2 = /* @__PURE__ */ new WeakSet(), uR = q(function(t48) {
  let e6 = this.pathsById.get(t48.id);
  if (null == e6)
    return;
  let i = e6.internalPath;
  for (let t49 of i.pathSegments)
    this.pathSegments.delete(t49.id), this.pathsByMeshId.delete(t49.object.uuid);
  this.pathsById.delete(i.id);
}, "#removePathFromCache"), x2 = /* @__PURE__ */ new WeakSet(), cR = q(function(t48, e6 = {}) {
  let i = { ...p3, ...e6, connectionPathOptions: { ...Pbe, ...e6.connectionPathOptions } };
  this.maxAdjustedAltitude = i.maxAdjustedAltitude, this.minAdjustedAltitude = i.minAdjustedAltitude, this.adjustedAltitude = !!i.adjustedAltitude;
  let n = e6.pulsePauseDuration || Ibe;
  null == i.connectionPathOptions.farRadius && null != i.connectionPathOptions.nearRadius && (i.connectionPathOptions.farRadius = i.connectionPathOptions.nearRadius * oZ), null == i.farRadius && null != i.nearRadius && (i.farRadius = i.nearRadius * oZ);
  let r, o3, s6, a = 0, l = t48.reduce((e10, n10, l3) => {
    let u3 = t48[l3 + 1], h2 = t48[l3 - 1];
    if (0 === l3)
      r = n10.map.id;
    else if (n10.map.id != r || null == u3) {
      let c2 = null == u3 && n10.map.id === r ? l3 : l3 - 1;
      s6 = y(this, m3, aZ).call(this, t48.slice(a, c2 + 1), r, { ...i, animateDrawing: r === this.core.currentMap && i.animateDrawing, drawDuration: r === this.core.currentMap ? i.drawDuration : 0 }), a = l3, e10.push(s6), null != o3 && (o3.tween.chain(s6.tween), o3.pulseTween.chain(s6.pulseTween), o3.pulseTween.onComplete(o3.resetPulse)), o3 = s6, null != h2 && h2.map.id != n10.map.id && true === i.drawConnectionSegments && this.core.visibleMapsInCurrentScene.length > 1 && this.core.stackedMaps.enabled && (s6 = y(this, g3, lZ).call(this, [h2, n10], i.connectionPathOptions), e10.push(s6), null != o3 && (o3.tween.chain(s6.tween), o3.pulseTween.chain(s6.pulseTween), o3.pulseTween.onComplete(o3.resetPulse)), o3 = s6), r = n10.map.id;
    }
    return e10;
  }, []), u2 = 1, h = i.pulseIterations || 1 / 0;
  if (l.length > 0) {
    let t49 = l[0], e10 = l[l.length - 1];
    t49.tween.start(), t49.tween.onComplete(() => {
      t49.pulseTween.start();
    }), e10.endPauseTween = new Iu.default.Tween({}).to({ value: 1 }, n).chain(t49.pulseTween).onUpdate(() => this.core.tryRendering(un.TWEEN)), h > 1 && e10.pulseTween.chain(e10.endPauseTween), e10.pulseTween.onComplete(() => {
      u2 + 1 >= h ? l.forEach((t50) => {
        t50.pulseTween.onComplete(() => {
        }), t50.pulseTween.stop(), t50.endPauseTween && t50.endPauseTween.stop(), t50.resetPulse(), this.core.tryRendering(un.ANIMATED);
      }) : (e10.resetPulse(), t49.resetPulse()), u2++;
    });
  }
  return this.core.tryRendering(un.ANIMATED), l;
}, "#drawAllPathSegments"), b2 = /* @__PURE__ */ new WeakSet(), hR = q(function(t48, e6, i) {
  let n = (i = i || {}).color || "#ff834c", r = i.pulseColor || "#000000", o3 = void 0 !== i.nearRadius ? i.nearRadius : 1.8, s6 = void 0 !== i.farRadius ? i.farRadius : o3, a = void 0 !== i.nearZoom ? i.nearZoom : 375, l = void 0 !== i.farZoom ? i.farZoom : 1e4, h = void 0 !== i.drawDuration ? i.drawDuration : 1500, c2 = i.curve || Iu.default.Easing.Cubic.InOut, p4 = i.displayArrowsOnPath || false, d = i.isConnectionPathSegment || false, f = i.displayArrowsOnPath || i.flattenPath || false, g = void 0 === i.showPulse || i.showPulse, m = void 0 === i.animateDrawing || i.animateDrawing, v4 = 0;
  if (d)
    for (let e10 = 1; e10 < t48.length; ++e10) {
      let i10 = t48[e10].x - t48[e10 - 1].x, n10 = t48[e10].z - t48[e10 - 1].z;
      v4 += Math.sqrt(i10 * i10 + n10 * n10);
    }
  else {
    t48[0].z += this.altitudeAdjustment;
    for (let e10 = 1; e10 < t48.length; ++e10) {
      t48[e10].z += this.altitudeAdjustment;
      let i10 = t48[e10].x - t48[e10 - 1].x, n10 = t48[e10].y - t48[e10 - 1].y, r6 = t48[e10].z - t48[e10 - 1].z;
      v4 += Math.sqrt(i10 * i10 + n10 * n10 + r6 * r6);
    }
  }
  let y4 = Cbe.load(Jc.get("arrow"));
  y4.colorSpace = Lr;
  let x4 = { vertexes: { type: "f", value: 1 }, resolution: { type: "v2", value: this.core.resolution }, cameraParameters: { type: "v2", value: this.core.cameraParameters }, complete: { type: "f", value: m ? 0 : 1 }, color: { type: "c", value: new at(n) }, pathLength: { type: "f", value: v4 }, nearRadius: { type: "f", value: o3 }, farRadius: { type: "f", value: s6 }, nearZoom: { type: "f", value: a }, farZoom: { type: "f", value: l }, pulseColor: { type: "c", value: new at(r) }, pulse: { type: "f", value: 0 }, pulseLength: { type: "f", value: 0.075 }, pathIsVertical: { type: "b", value: d }, arrowAnimationTimer: { type: "f", value: 0 }, arrowTexture: { type: "t", value: y4 }, displayArrowsOnPath: { type: "b", value: p4 }, flattenFactor: { type: "f", value: f ? 0.05 : 1 }, showPulse: { type: "b", value: g } }, _ = new Px(t48);
  _.curveType = "catmullrom", _.tension = 0;
  let b = 30 * e6.length, M = new rT(_, b, o3, 8, false), E = new Float32Array(M.attributes.position.count);
  for (let t49 = e6.length; t49 < E.length; t49++)
    E[t49] = t49;
  M.setAttribute("vertexIndex", new rn(E, 1));
  let w4 = new Float32Array(M.attributes.position.count), A = new rn(w4, 1);
  for (let t49 = 0; t49 <= b; t49++)
    for (let e10 = 0; e10 <= 8; ++e10)
      A.setX(9 * t49 + e10, t49 / b);
  M.setAttribute("pathDistance", A);
  let S = new Float32Array(3 * M.attributes.normal.count), T = new rn(S, 3);
  for (let t49 = 0; t49 < b; t49++) {
    let e10 = M.tangents[t49];
    for (let i10 = 0; i10 <= 8; ++i10)
      T.setXYZ(9 * t49 + i10, e10.x, e10.y, e10.z);
  }
  M.setAttribute("pathTangent", T);
  let C = new Float32Array(3 * M.attributes.normal.count), P = new rn(C, 3);
  for (let t49 = 0; t49 < b; t49++) {
    let e10 = M.tangents[t49];
    var I, L, O;
    d ? (I = e10.x * e10.y, L = e10.y * e10.y - 1, O = e10.z * e10.y) : (I = -e10.x * e10.z, L = -e10.y * e10.z, O = 1 - e10.z * e10.z);
    let i10 = Math.sqrt(I * I + L * L + O * O);
    0 === i10 && (i10 = 1);
    let n10 = I / i10, r6 = L / i10, o6 = O / i10;
    for (let e11 = 0; e11 <= 8; ++e11)
      P.setXYZ(9 * t49 + e11, n10, r6, o6);
  }
  M.setAttribute("pathNormal", P);
  let N = new Xt({ uniforms: x4, vertexShader: AX, fragmentShader: CX });
  N.transparent = true, N.alphaTest = 0.5, x4.resolution.value.x = this.core.renderer.getBufferSize().width, x4.resolution.value.y = this.core.renderer.getBufferSize().height, x4.vertexes.value = E.length, x4.arrowTexture.value.wrapS = wr, x4.arrowTexture.value.wrapT = wr, x4.arrowTexture.value.anisotropy = this.core.renderer.getMaxAnisotropy();
  let D = new Ft(M, N), R = q(() => {
    this.core.tryRendering(un.ANIMATED);
  }, "tryRenderingAnimated"), q4 = new Iu.default.Tween(x4.pulse).to({ value: 1 }, h).easing(c2).onUpdate(R), B = new Iu.default.Tween(x4.complete).to({ value: 1 }, h).easing(c2).onUpdate(R), k = new Iu.default.Tween(x4.arrowAnimationTimer).to({ value: 1 }, 3e3).easing(Iu.default.Easing.Linear.None).repeat(1 / 0).onUpdate(R);
  p4 && k.start();
  let F = { id: D.id, nodes: e6, mapId: i.mapId, object: D, tween: B, pulseTween: q4, arrowAnimationTween: k, reset: function() {
    x4.complete.value = 0;
  }, resetPulse: function() {
    x4.pulse.value = 0;
  } };
  return N.userData = { layer: d ? "vertical-path" : "path" }, F;
}, "#drawSegment"), m3 = /* @__PURE__ */ new WeakSet(), aZ = q(function(t48, e6, i = { color: "#ff834c", pulseColor: "white", pulseIterations: 1 / 0, nearRadius: 1.8, nearZoom: 375, farZoom: 1e4, drawDuration: 1500, displayArrowsOnPath: false }) {
  let n = i.nearRadius || 2, r = i.farRadius || i.nearRadius || 2, o3 = e6 ? this.core.venue.maps.find((t49) => t49.id === e6) : this.core.venue.maps.find((t49) => t49.id === this.core.currentMap), s6 = (null == o3 ? void 0 : o3.scale) || 1;
  if (n /= s6, r /= s6, null == this.core.currentMap)
    throw new Error("Unable to retrieve the current map");
  let a = e6 ? Oi(e6) : this.core.currentMap, l = [], u2 = n / 2;
  for (let e10 = 0; e10 < t48.length; e10++) {
    let i10 = t48[e10], n10 = new K(i10.x - o3.width / 2, -i10.y + o3.height / 2, u2);
    l.push(n10);
  }
  let h = u2 - 0.1;
  l.push(l[l.length - 1].clone().setZ(h)), l.unshift(l[0].clone().setZ(h));
  let c2 = y(this, b2, hR).call(this, l, t48, { ...i, nearRadius: n, farRadius: r, mapId: a });
  c2.object.name = "path", c2.object.layers.set($i.ANIMATED);
  let p4 = this.core.mapObjects.get(a);
  return this.core.visibleMapObjectsInCurrentScene.includes(p4) || (c2.object.visible = false), p4.add(c2.object), c2;
}, "#drawPathSegment"), g3 = /* @__PURE__ */ new WeakSet(), lZ = q(function(t48, e6 = { color: "#7dd322", pulseColor: "#ffffff", pulseIterations: 1 / 0, nearRadius: 1.8, nearZoom: 375, farZoom: 1e4, drawDuration: 1500, curve: Iu.default.Easing.Cubic.InOut, displayArrowsOnPath: false }) {
  let i = e6.nearRadius || 2, n = e6.farRadius || e6.nearRadius || 2, r = this.core.referenceMap, o3 = (null == r ? void 0 : r.scale) || 1;
  i /= o3, n /= o3;
  let s6 = aY(this.core.convertTo3DMapPosition(t48[0]), this.core.convertTo3DMapPosition(t48[1]), Abe), a = y(this, b2, hR).call(this, s6, t48, { ...e6, nearRadius: i, farRadius: n, mapId: this.core.referenceMap.id, isConnectionPathSegment: true }), l = new Yt().setFromObject(a.object), u2 = new K();
  return l.getCenter(u2), a.object.layers.set($i.ANIMATED), a.object.geometry.center(), a.object.position.copy(u2), this.core.billboardManager.add(a.object), this.connectionsPathMeshes.add(a.object), a;
}, "#drawConnectionPathSegment"), _2 = /* @__PURE__ */ new WeakSet(), fR = q(function(t48) {
  t48 && (this.core.scene.remove(t48.object), "function" == typeof t48.object.destroy && t48.object.destroy(), t48.pulseTween.stop(), t48.endPauseTween && t48.endPauseTween.stop(), t48.tween.stop(), t48.arrowAnimationTween.stop(), t48.pulseTween = void 0, t48.tween = void 0, t48.arrowAnimationTween = void 0, this.pathSegments.delete(t48.id), this.connectionsPathMeshes.remove(t48.object), this.core.billboardManager.remove(t48.object));
}, "#removePathSegment"), q(gR, "PathsController");
var aR = gR;
var pR = aR;
c(), c(), c();
var Obe = q(({ image: t48 }) => !(null == t48 || !t48.visible) && !(!t48.url && !t48.original), "imageVisible");
var v3 = q((t48, e6) => Obe(t48) && e6[t48.id + "_image"], "imageVisibleAndRendered");
function uZ(t48, e6, i, n) {
  let r = [], o3 = (null == i ? void 0 : i.locations) || t48.locations;
  for (let s6 of t48.polygons) {
    let a, [l] = s6.entrances;
    if (l && (null == n || !n.id || n.id === l.map.id) && s6.geometry.visible && (a = Bh(s6, t48))) {
      let t49 = (null == i ? void 0 : i.createDespiteImage) || a.showLabelWhenImagePresent || a.showSmartLabelWhenImagePresent;
      if (v3(s6, e6) && !t49 || !o3.includes(a))
        continue;
      let n10 = (null == i ? void 0 : i.excludeTypes) || [];
      if (n10.length > 0 && n10.includes(a.type))
        continue;
      let u2 = Lbe(s6, l, a, i || {});
      null != u2 && r.push(u2);
    }
  }
  return r;
}
function Lbe(t48, e6, i, n) {
  var r, o3, s6, a, l;
  let u2 = "test" === e.env.NODE_ENV ? Xo.testId : Math.random();
  Xo.testId++;
  let h, c2, p4 = i.name, d = i.shortName;
  return i.states && i.states.length > 0 && (h = (null == (r = i.state) ? void 0 : r.id) && (null == (s6 = null == n ? void 0 : n.translationMap) ? void 0 : s6[null == (o3 = i.state) ? void 0 : o3.id]) || (null == (a = i.state) ? void 0 : a.name) || null), n.groupRankingByCategory && (c2 = null == t48 ? void 0 : t48.categoryRank), { interactive: n.interactive, polygon: t48, rank: c2 || (null == (l = t48.rank) ? void 0 : l.score) || u2, text: null == h ? d || p4 : (d || p4) + " (".concat(h, ")"), appearance: n.appearance, createDespiteImage: n.createDespiteImage, mapId: e6.map.id, position: { nodeOrCoordinate: e6 } };
}
q(uZ, "createLabelObjects"), q(Lbe, "createLabelOptionsObject");
var xR = u(Kx());
c();
var yR = class extends Go {
  constructor() {
    var t48;
    super(), v(this, "_recalculateDebounced"), v(this, "totalZoomLevel", 0), v(this, "fontZoomLevel", 0), v(this, "pageZoomLevel", 0), this._recalculateDebounced = Da(this.recalculate, 100), window.addEventListener("resize", () => {
      this._recalculateDebounced();
    }), null == (t48 = window.visualViewport) || t48.addEventListener("resize", () => {
      this._recalculateDebounced();
    }), this.recalculate();
  }
  detectSafari() {
    let { userAgent: t48 } = navigator;
    return t48.indexOf("Safari") > -1 && -1 === t48.indexOf("Chrome");
  }
  recalculate() {
    var t48;
    let e6 = 1;
    this.detectSafari() && (e6 = Math.max(1, window.outerWidth / window.innerWidth)), this.fontZoomLevel = window.devicePixelRatio * e6, this.pageZoomLevel = (null == (t48 = window.visualViewport) ? void 0 : t48.scale) || 1, this.totalZoomLevel = this.fontZoomLevel * this.pageZoomLevel, this.publish("FONT_ZOOM_CHANGED", this.fontZoomLevel), this.publish("PAGE_ZOOM_CHANGED", this.pageZoomLevel), this.publish("TOTAL_ZOOM_CHANGED", this.totalZoomLevel);
  }
};
q(yR, "ZoomListener");
var Ou;
var vR = yR;
var cZ = new vR();
var w2 = q((t48) => {
  let e6 = t48.toJSON();
  return 5 === Object.keys(e6).length && "lat" in e6 && "lon" in e6 && "map" in e6 && "x" in e6 && "y" in e6;
}, "isMappedinCoordinate");
var y3 = "Adding or removing individual labels after calling labelAllLocations() may cause unexpected behaviour. We recommend adding all labels individually if more specific control is desired. https://developer.mappedin.com/web-sdk-api/v5/latest/classes/floatinglabels#add";
var CR = class {
  constructor(t48) {
    w(this, Ou, void 0), p(this, Ou, t48);
  }
  get id() {
    return o(this, Ou).id;
  }
  get text() {
    return o(this, Ou).options.text;
  }
  get appearance() {
    return o(this, Ou).appearance;
  }
  get nodeOrCoordinate() {
    return o(this, Ou).options.position.nodeOrCoordinate;
  }
  get rank() {
    return o(this, Ou).rank;
  }
  __updateInstance(t48) {
    p(this, Ou, t48);
  }
  toJSON() {
    return { id: this.id, text: this.text, appearance: this.appearance, nodeOrCoordinate: this.nodeOrCoordinate.toJSON(), rank: this.rank };
  }
};
Ou = /* @__PURE__ */ new WeakMap(), q(CR, "FloatingLabel");
var Hl;
var uf;
var M2;
var E2;
var _R;
var T2;
var wR;
var jg;
var x3;
var E3;
var hZ;
var T3;
var fZ;
var Wg;
var b3;
var S2;
var MR;
var Yg;
var _3;
var S3;
var pZ;
var A3;
var dZ;
var A2;
var ER;
var C3;
var mZ;
var P3;
var gZ;
var C2;
var TR;
var I3;
var vZ;
var Xg;
var w3;
var O3;
var yZ;
var P2;
var SR;
var L3;
var xZ;
var M3 = CR;
var PR = class {
  constructor(t48) {
    w(this, E2), w(this, T2), w(this, jg), w(this, E3), w(this, T3), w(this, Wg), w(this, S2), w(this, Yg), w(this, S3), w(this, A3), w(this, A2), w(this, C3), w(this, P3), w(this, C2), w(this, I3), w(this, Xg), w(this, O3), w(this, P2), w(this, L3), v(this, "core"), w(this, Hl, false), v(this, "internalFloatingLabels", {}), v(this, "internalFloatingLabelsByNodeOrCoordinate", /* @__PURE__ */ new WeakMap()), v(this, "floatingLabels", {}), w(this, uf, {}), w(this, M2, {}), this.core = t48, t48.on(8, () => {
      t48.visibleMapsInCurrentScene.forEach((t49) => {
        !o(this, uf)[t49.id] && o(this, Hl) && y(this, E2, _R).call(this, t49);
      });
    }), cZ.on("FONT_ZOOM_CHANGED", () => {
      y(this, T3, fZ).call(this);
    });
  }
  addLabel(t48, e6, i) {
    if (w2(t48)) {
      let { label: n } = y(this, T2, wR).call(this, t48, e6, i);
      return n;
    }
    if (null != this.core.venue.getCollectionItemById("nodes", t48.id)) {
      let { label: n } = y(this, jg, x3).call(this, t48, e6, i);
      return n;
    }
    return y(this, E3, hZ).call(this, t48, e6, i).map((t49) => t49.label);
  }
  removeLabel(t48, e6 = false) {
    if (w2(t48))
      return y(this, S2, MR).call(this, t48, e6);
    null != this.core.venue.getCollectionItemById("nodes", t48.id) ? y(this, Yg, _3).call(this, t48, e6) : y(this, S3, pZ).call(this, t48, e6), delete o(this, uf)[t48.map.id];
  }
  setPriority(t48, e6) {
    if (w2(t48))
      return y(this, A3, dZ).call(this, t48, e6);
    null != this.core.venue.getCollectionItemById("nodes", t48.id) ? y(this, A2, ER).call(this, t48, e6) : y(this, C3, mZ).call(this, t48, e6);
  }
  resetPriority(t48) {
    if (w2(t48))
      return y(this, P3, gZ).call(this, t48);
    null != this.core.venue.getCollectionItemById("nodes", t48.id) ? y(this, C2, TR).call(this, t48) : y(this, I3, vZ).call(this, t48);
  }
  removeAllLabels() {
    p(this, Hl, false);
    for (let t48 in this.internalFloatingLabels) {
      let e6 = this.internalFloatingLabels[t48].options.position.nodeOrCoordinate;
      e6 instanceof Fs ? y(this, Yg, _3).call(this, e6, true) : y(this, S2, MR).call(this, e6, true);
    }
    Array.from(this.core.mapObjects.values()).forEach((t48) => {
      t48.labels.clear();
    }), this.internalFloatingLabels = {}, this.floatingLabels = {}, this.internalFloatingLabelsByNodeOrCoordinate = /* @__PURE__ */ new WeakMap(), p(this, uf, {}), this.core.smartCollisionEngine.debouncedUpdate(), this.core.renderer.disposeOfRenderLists(), this.core.tryRendering();
  }
  setAppearance(t48, e6) {
    if (w2(t48))
      return y(this, O3, yZ).call(this, t48, e6);
    let i = null != this.core.venue.getCollectionItemById("nodes", t48.id);
    i && y(this, P2, SR).call(this, t48, e6);
    let n = null != this.core.venue.getCollectionItemById("polygons", t48.id);
    n && y(this, L3, xZ).call(this, t48, e6), !i && !n && Le.warn("No label found for target", t48), this.core.tryRendering();
  }
  labelAllLocations(t48) {
    p(this, Hl, true), null != t48 && p(this, M2, t48);
    let e6 = [];
    return this.core.visibleMapsInCurrentScene.forEach((t49) => {
      !o(this, uf)[t49.id] && o(this, Hl) && e6.push(...y(this, E2, _R).call(this, t49));
    }), e6.map((t49) => new M3(t49));
  }
};
Hl = /* @__PURE__ */ new WeakMap(), uf = /* @__PURE__ */ new WeakMap(), M2 = /* @__PURE__ */ new WeakMap(), E2 = /* @__PURE__ */ new WeakSet(), _R = q(function(t48) {
  let e6 = uZ(this.core.venue, this.core.polygonMeshesById, o(this, M2), t48);
  if (null == e6)
    return [];
  let i = e6.reduce((t49, e10) => {
    let { internalLabel: i10 } = y(this, Xg, w3).call(this, e10, true);
    return i10 && t49.push(i10), t49;
  }, []);
  return this.core.taskScheduler.scheduleTask(new Hi({ name: "addFloatingLabel", callback: () => {
    i.forEach((t49) => {
      t49.enable(false);
    }), o(this, uf)[t48.id] = true, this.core.determineNewLabelSize(), this.core.smartCollisionEngine.debouncedUpdate();
  } })), i;
}, "#processLabelsForMap"), T2 = /* @__PURE__ */ new WeakSet(), wR = q(function(t48, e6, i) {
  o(this, Hl) && Le.warn(y3);
  let n = "test" === e.env.NODE_ENV ? Xo.testId : Math.random();
  Xo.testId++;
  let r = { polygon: void 0, rank: n, text: e6, appearance: null == i ? void 0 : i.appearance, createDespiteImage: true, position: { nodeOrCoordinate: t48 }, mapId: t48.map.id, ...i || {} };
  return y(this, Xg, w3).call(this, r);
}, "#labelCoordinate"), jg = /* @__PURE__ */ new WeakSet(), x3 = q(function(t48, e6, i) {
  var n, r, o3;
  o(this, Hl) && Le.warn(y3);
  let s6, a = "test" === e.env.NODE_ENV ? Xo.testId : Math.random();
  Xo.testId++, null != i && i.groupRankingByCategory && (s6 = null == (n = t48.polygon) ? void 0 : n.categoryRank);
  let l = { polygon: t48.polygon, rank: s6 || (null == (o3 = null == (r = t48.polygon) ? void 0 : r.rank) ? void 0 : o3.score) || a, position: { nodeOrCoordinate: t48 }, text: e6, appearance: null == i ? void 0 : i.appearance, createDespiteImage: true, mapId: t48.map.id, ...i || {} };
  return y(this, Xg, w3).call(this, l);
}, "#labelNode"), E3 = /* @__PURE__ */ new WeakSet(), hZ = q(function(t48, e6, i) {
  var n, r;
  let o3 = [];
  for (let s6 of t48.entrances) {
    if (null != (null == (n = t48.rank) ? void 0 : n.node) && (null == (r = t48.rank) ? void 0 : r.node) != s6.id)
      continue;
    let a = y(this, jg, x3).call(this, s6, e6, i);
    a && o3.push(a);
  }
  return 0 === o3.length ? (Le.warn("No entrances found on this polygon. Skipping."), []) : o3;
}, "#labelPolygon"), T3 = /* @__PURE__ */ new WeakSet(), fZ = q(function() {
  Object.values(this.internalFloatingLabels).forEach((t48) => {
    t48.invalidate();
  }), this.core.smartCollisionEngine.debouncedUpdate();
}, "#invalidateAll"), Wg = /* @__PURE__ */ new WeakSet(), b3 = q(function(t48, e6 = true) {
  this.core.smartCollisionEngine.remove(t48.id), delete this.internalFloatingLabels[t48.id], this.internalFloatingLabelsByNodeOrCoordinate.delete(t48.options.position.nodeOrCoordinate), e6 && delete this.floatingLabels[t48.id];
}, "#removeLabelInstance"), S2 = /* @__PURE__ */ new WeakSet(), MR = q(function(t48, e6 = false) {
  o(this, Hl) && Le.warn(y3);
  let i = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  i ? (y(this, Wg, b3).call(this, i), e6 || this.core.smartCollisionEngine.debouncedUpdate()) : Le.warn("No label found for coordinate", t48);
}, "#removeLabelCoordinate"), Yg = /* @__PURE__ */ new WeakSet(), _3 = q(function(t48, e6 = false) {
  o(this, Hl) && Le.warn(y3);
  let i = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  i ? (y(this, Wg, b3).call(this, i), e6 || this.core.smartCollisionEngine.debouncedUpdate()) : Le.warn("No label found for node", t48);
}, "#removeLabelNode"), S3 = /* @__PURE__ */ new WeakSet(), pZ = q(function(t48, e6 = false) {
  t48.entrances.forEach((t49) => y(this, Yg, _3).call(this, t49, e6));
}, "#removeLabelPolygon"), A3 = /* @__PURE__ */ new WeakSet(), dZ = q(function(t48, e6) {
  let i = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  null != i && i.setPriority(e6);
}, "#setPriorityCoordinate"), A2 = /* @__PURE__ */ new WeakSet(), ER = q(function(t48, e6) {
  let i = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  null != i && i.setPriority(e6);
}, "#setPriorityNode"), C3 = /* @__PURE__ */ new WeakSet(), mZ = q(function(t48, e6) {
  t48.entrances.forEach((t49) => y(this, A2, ER).call(this, t49, e6));
}, "#setPriorityPolygon"), P3 = /* @__PURE__ */ new WeakSet(), gZ = q(function(t48) {
  let e6 = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  null != e6 && e6.resetPriority();
}, "#resetPriorityCoordinate"), C2 = /* @__PURE__ */ new WeakSet(), TR = q(function(t48) {
  let e6 = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  null != e6 && e6.resetPriority();
}, "#resetPriorityNode"), I3 = /* @__PURE__ */ new WeakSet(), vZ = q(function(t48) {
  t48.entrances.forEach((t49) => y(this, C2, TR).call(this, t49));
}, "#resetPriorityPolygon"), Xg = /* @__PURE__ */ new WeakSet(), w3 = q(function(t48, e6 = false) {
  var i, n;
  let r = this.internalFloatingLabelsByNodeOrCoordinate.get(t48.position.nodeOrCoordinate);
  if (null != r) {
    let e10 = null != t48.id && r.id === t48.id;
    y(this, Wg, b3).call(this, r, !e10);
  }
  let { polygon: o3, mapId: s6 } = t48, a = this.core.mapObjects.get(s6), l = null != (i = t48.polygonHeight) ? i : 0;
  null != o3 && null != t48.polygonHeight && (l = o3.geometry.scale.z * Math.max(a.mapClass.width, a.mapClass.height) / 1e3);
  let u2 = new Xo({ ...t48, polygonHeight: l, position: { nodeOrCoordinate: t48.position.nodeOrCoordinate, height: l } }, this.core);
  this.internalFloatingLabels[u2.id] = u2, this.internalFloatingLabelsByNodeOrCoordinate.set(t48.position.nodeOrCoordinate, u2), a.labels.add(u2), this.core.smartCollisionEngine.add(u2.id, u2);
  let h = this.floatingLabels[null != (n = t48.id) ? n : ""];
  return null == h ? h = new M3(u2) : h.__updateInstance(u2), this.floatingLabels[h.id] = h, this.core.taskScheduler.scheduleUpdate(new xs({ name: "addFloatingLabel", ordering: Na.BEFORE_CAMERA, callback: () => {
    e6 || (u2.enable(false), this.core.determineNewLabelSize(), this.core.smartCollisionEngine.debouncedUpdate());
  } })), e6 || this.core.tryRendering(), { internalLabel: u2, label: h };
}, "#renderLabel"), O3 = /* @__PURE__ */ new WeakSet(), yZ = q(function(t48, e6) {
  var i;
  let n = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  if (!n)
    return void Le.warn("No label found for coordinate", t48);
  let r = { id: n.id, appearance: (0, xR.default)(e6, n.appearance), interactive: n.options.interactive };
  y(this, T2, wR).call(this, t48, null != (i = n.options.text) ? i : "", r);
}, "#setCoordinateAppearance"), P2 = /* @__PURE__ */ new WeakSet(), SR = q(function(t48, e6) {
  var i;
  let n = this.internalFloatingLabelsByNodeOrCoordinate.get(t48);
  if (!n)
    return void Le.warn("No label found for this node. Skipping...");
  let r = { id: n.id, appearance: (0, xR.default)(e6, n.appearance), interactive: n.options.interactive };
  y(this, jg, x3).call(this, t48, null != (i = n.options.text) ? i : "", r);
}, "#setNodeAppearance"), L3 = /* @__PURE__ */ new WeakSet(), xZ = q(function(t48, e6) {
  for (let i of t48.entrances)
    y(this, P2, SR).call(this, i, e6);
}, "#setPolygonAppearance"), q(PR, "FloatingLabelsController");
var bR = PR;
var AR = bR;
function bZ(t48, e6, i, n) {
  let r = (null == n ? void 0 : n.excludeTypes) || [], o3 = null == n ? void 0 : n.sortFunction, s6 = ((null == n ? void 0 : n.locations) || []).filter((t49) => -1 === r.indexOf(t49.type)), a = s6;
  null != o3 && (a = s6.sort(o3));
  let l = {};
  for (let r6 = 0, o6 = a.length; r6 < o6; ++r6) {
    let o7 = a[r6], s10 = o7.polygons;
    for (let r10 = 0, a3 = s10.length; r10 < a3; ++r10) {
      let a7 = s10[r10];
      if (v3(a7, t48.polygonMeshesById) || !a7.geometry.visible)
        continue;
      let u2 = Dbe(s10[r10], o7, i, t48.venue, e6, n);
      null != u2 && (l[a7.id] = u2);
    }
  }
  return Object.values(l);
}
function Dbe(t48, e6, i, n, r, o3) {
  var s6, a, l;
  let u2 = null == o3 ? void 0 : o3.sortFunction, h = (null == o3 ? void 0 : o3.translationMap) || {}, c2 = i[t48.id];
  if (true === c2)
    return null;
  {
    let p4 = t48.canvasBounds;
    i[t48.id] = true;
    let d = r, f = 0;
    if (p4) {
      let t49 = p4.x - d.width / 2, e10 = -p4.y + d.height / 2;
      f = Math.sqrt(Math.pow(t49, 2) + Math.pow(e10, 2));
    }
    let g = e6;
    if (u2 ? i[t48.id] = true : false === c2 ? (g = Bh(t48, n), i[t48.id] = true) : i[t48.id] = false, null == g)
      return null;
    let m = g.name, v4 = g.shortName, y4 = t48.rank, x4 = "";
    return g.states && g.states.length > 0 && (x4 = (null == (s6 = g.state) ? void 0 : s6.id) && h[null == (a = g.state) ? void 0 : a.id] || (null == (l = g.state) ? void 0 : l.name) || ""), { ...null == o3 ? void 0 : o3.appearance, polygon: t48, text: m, shortText: v4, stateText: x4, distance: f, rank: y4, createDispiteImage: g.showLabelWhenImagePresent };
  }
}
c(), c(), q(bZ, "createLabelObjects"), q(Dbe, "createLabelOptionsObject");
var cf;
var hf;
var $c;
var I2;
var OR;
var O2;
var LR;
var wZ = u(Kx());
var Nbe = "Sans-Serif";
var Rbe = new Gp();
var Bbe = {};
var _Z = "Adding or removing individual labels after calling labelAllLocations() may cause unexpected behaviour. We recommend adding all labels individually if more specific control is desired. https://developer.mappedin.com/web-sdk-api/v5/latest/classes/flatlabels#add";
var NR = class {
  constructor(t48) {
    w(this, I2), w(this, O2), v(this, "core"), w(this, cf, false), w(this, hf, {}), w(this, $c, {}), v(this, "flatLabels", {}), v(this, "labeledPolygons", {}), this.core = t48, t48.on(8, () => {
      t48.visibleMapsInCurrentScene.forEach((t49) => {
        !o(this, hf)[t49.id] && o(this, cf) && y(this, I2, OR).call(this, t49);
      });
    });
  }
  labelAllLocations(t48) {
    this.removeAllLabels(), p(this, cf, true), null != t48 && p(this, $c, { ...t48, ...null == t48 ? void 0 : t48.appearance });
    let e6 = [];
    return this.core.visibleMapsInCurrentScene.forEach((t49) => {
      o(this, hf)[t49.id] || e6.push(...y(this, I2, OR).call(this, t49));
    }), e6;
  }
  labelPolygon(t48, e6, i) {
    o(this, cf) && Le.warn(_Z);
    let n = { polygon: "string" == typeof t48 ? this.core.venue.getCollectionItemById("polygons", t48) : t48, showLabelWhenImagePresent: true, text: e6, ...i, ...null == i ? void 0 : i.appearance };
    return y(this, O2, LR).call(this, n);
  }
  removeLabel(t48) {
    o(this, cf) && Le.warn(_Z);
    let e6 = "string" == typeof t48 ? this.core.venue.getCollectionItemById("polygons", t48) : t48;
    if (!this.core.textLabelsByPolygonId[e6.id])
      return;
    let i = this.core.textLabelsByPolygonId[e6.id];
    i.removeSelf();
    let { textObjects: n } = this.core.mapObjects.get(i.map.mapClass.id);
    n.splice(n.indexOf(i), 1), delete this.core.textLabelsByPolygonId[e6.id], delete this.flatLabels[e6.id], delete o(this, hf)[e6.map.id], this.core.tryRendering();
  }
  setAppearance(t48, e6) {
    let i = this.flatLabels[t48.id];
    if (i) {
      if (1 === Object.keys(e6).length && null != e6.color)
        i.baseColor = e6.color, i.setColor(e6.color);
      else {
        let n = i.fullText;
        this.removeLabel(t48), this.labelPolygon(t48, n, { appearance: (0, wZ.default)(e6, { height: i.height, margin: i.margin / i.mapScale, color: i.color, hoverColor: i.hoverColor, fontSize: i.fontSize / i.mapScale, font: i.font, scaleMin: i.scaleMin, scaleStep: i.scaleStep }) });
      }
      this.core.tryRendering();
    }
  }
  setHoverColorForAll(t48) {
    o(this, $c).appearance || (o(this, $c).appearance = {}), o(this, $c).appearance.hoverColor = t48;
    for (let e6 in this.flatLabels)
      this.flatLabels.hasOwnProperty(e6) && this.flatLabels[e6].setHoverColor(t48);
  }
  removeAllLabels() {
    p(this, cf, false), Array.from(this.core.mapObjects.values()).forEach((t48) => {
      t48.textObjects.forEach((t49) => t49.removeSelf()), t48.labels.clear(), t48.textObjects = [];
    }), this.core.textLabelsByPolygonId = {}, this.flatLabels = {}, this.labeledPolygons = {}, p(this, hf, {}), this.core.tryRendering();
  }
};
cf = /* @__PURE__ */ new WeakMap(), hf = /* @__PURE__ */ new WeakMap(), $c = /* @__PURE__ */ new WeakMap(), I2 = /* @__PURE__ */ new WeakSet(), OR = q(function(t48) {
  var e6;
  let i = [], n = bZ(this.core, t48, this.labeledPolygons, { ...o(this, $c), locations: (null == (e6 = o(this, $c)) ? void 0 : e6.locations) || this.core.venue.getCollectionItemById("maps", t48.id).locations });
  for (let t49 = 0, e10 = n.length; t49 < e10; ++t49) {
    let e11 = n[t49];
    i.push(y(this, O2, LR).call(this, e11));
  }
  return o(this, hf)[t48.id] = true, i;
}, "#processLabelsForMap"), O2 = /* @__PURE__ */ new WeakSet(), LR = q(function(t48) {
  let e6 = this.core.mapObjects.get(t48.polygon.map.id), i = new jx(t48, this.core.venue, e6, Nbe, this.core.polygonMeshesById, this.core.textLabelsByPolygonId, Bbe, this.core, Rbe);
  return t48.polygon && this.core.textLabelsByPolygonId[t48.polygon.id] && this.removeLabel(t48.polygon), this.flatLabels[t48.polygon.id] = i, e6.addPendingLowPriorityTask("addFlatLabel", () => {
    i.create(), this.core.tryRendering();
  }), this.core.textLabelsByPolygonId[t48.polygon.id] = i, i;
}, "#renderLabel"), q(NR, "FlatLabelsController");
var IR = NR;
var DR = IR;
function kbe(t48) {
  return "string" != typeof t48;
}
function MZ(t48, e6) {
  return t48.polygonMeshesById[Oi(e6)];
}
c(), q(kbe, "isMIPolygon"), q(MZ, "getPolygonMesh");
var sn;
var D3;
var EZ;
var L2;
var BR;
var N3;
var TZ;
var D2;
var kR;
var FR = class {
  constructor(t48) {
    w(this, D3), w(this, L2), w(this, N3), w(this, D2), w(this, sn, void 0), p(this, sn, t48);
  }
  async setPolygonColor(...t48) {
    var e6;
    let [i] = t48;
    if (void 0 === MZ(o(this, sn), i)) {
      let n = La(i, o(this, sn).venue.polygons);
      return void 0 !== n && null !== n.map.id && null != (e6 = o(this, sn).mapObjects.get(n.map.id)) && e6.object ? void await y(this, D3, EZ).call(this, ...t48) : void Le.error("Cannot set color of polygon " + (null == n ? void 0 : n.id) + ", could be bad polygon or data mismatch.");
    }
    y(this, L2, BR).call(this, ...t48);
  }
  clearPolygonColor(t48) {
    var e6;
    let i = t48;
    "string" == typeof t48 && (i = o(this, sn).venue.getCollectionItemById("polygons", t48));
    let n = o(this, sn).polygonMeshesById[i.id];
    n && (n._MIOriginalMaterial && ((n.material.length ? n.material : [n.material]).forEach((t49) => ef(t49)), n.material = n._MIOriginalMaterial, delete n._MIOriginalMaterial), delete o(this, sn).highlightedPolygons[i.id], "SINGLE_GEOMETRY" === (null == (e6 = o(this, sn).loadOptions) ? void 0 : e6.mapRenderStrategy) && (n.visible = false), o(this, sn).tryRendering());
  }
  clearAllPolygonColors() {
    let t48 = Object.keys(o(this, sn).highlightedPolygons);
    for (let e6 = 0, i = t48.length; e6 < i; ++e6) {
      let i10 = t48[e6];
      this.clearPolygonColor(o(this, sn).highlightedPolygons[i10]);
    }
    o(this, sn).highlightedPolygons = {}, o(this, sn).tryRendering(), o(this, sn).renderer.disposeOfRenderLists();
  }
  setPolygonOutlineColor(t48) {
    o(this, sn).renderer.implementation.effectComposer.setPolygonOutlineColor(t48), o(this, sn).tryRendering();
  }
  addPolygonOutline(t48) {
    if (void 0 === o(this, sn).polygonMeshesById[t48.id]) {
      let e6 = La(t48, o(this, sn).venue.polygons);
      return void 0 !== e6 && null !== e6.map.id && null !== o(this, sn).mapObjects.get(e6.map.id).object ? void y(this, N3, TZ).call(this, e6) : void Le.error("Cannot outline the polygon " + (null == e6 ? void 0 : e6.id) + ", could be bad polygon or data mismatch.");
    }
    y(this, D2, kR).call(this, t48);
  }
  removePolygonOutline(t48) {
    let e6 = o(this, sn).polygonMeshesById[t48.id];
    o(this, sn).outlinedPolygons.delete(t48.id), o(this, sn).renderer.implementation.effectComposer.removeSelectionForOutline(e6), o(this, sn).tryRendering();
  }
  removeAllPolygonOutlines() {
    for (let t48 of o(this, sn).outlinedPolygons.values())
      this.removePolygonOutline(t48);
  }
};
sn = /* @__PURE__ */ new WeakMap(), D3 = /* @__PURE__ */ new WeakSet(), EZ = q(async function(...t48) {
  var e6;
  let [i] = t48, n = kbe(i) ? i.map.id : null == (e6 = La(i, o(this, sn).venue.polygons)) ? void 0 : e6.map.id;
  if (!n)
    return void Le.error("Cannot set color of polygon ".concat(Oi(i), " due to missing mapId for polygon"));
  let r = o(this, sn).mapObjects.get(n);
  r ? (await r.load(), y(this, L2, BR).call(this, ...t48)) : Le.error("Cannot set color of polygon ".concat(Oi(i), " due to map object is missing ").concat(n));
}, "#setPolygonColorLater"), L2 = /* @__PURE__ */ new WeakSet(), BR = q(function(...t48) {
  var e6;
  let [i, n, { highlighted: r = true, visible: o3 = true } = {}] = t48, s6 = MZ(o(this, sn), i);
  if (null != s6) {
    if (r) {
      let t50 = Oi(i);
      o(this, sn).highlightedPolygons[t50] = t50;
    }
    s6._MIOriginalMaterial || (s6._MIOriginalMaterial = s6.material.length ? [...s6.material] : s6.material);
    let t49 = (s6.material.length ? s6.material : [s6.material]).map((t50) => {
      let e10 = t50.clone();
      return e10.color.set(n || "#4ca1fc"), e10;
    });
    1 === t49.length ? s6.material = t49[0] : s6.material = t49, "SINGLE_GEOMETRY" === (null == (e6 = o(this, sn).loadOptions) ? void 0 : e6.mapRenderStrategy) && (s6.visible = o3), o(this, sn).tryRendering();
  } else
    Le.error("Cannot set color of polygon " + Oi(i) + ", could be bad polygon or data mismatch.");
}, "#setPolygonColorNow"), N3 = /* @__PURE__ */ new WeakSet(), TZ = q(function(t48) {
  o(this, sn).mapObjects.get(t48.map.id).load().then(() => {
    o(this, sn).mapObjects.get(t48.map.id).elements && o(this, sn).mapObjects.get(t48.map.id).loadPolygonNow(t48.id), y(this, D2, kR).call(this, t48);
  });
}, "#addPolygonOutlineLater"), D2 = /* @__PURE__ */ new WeakSet(), kR = q(function(t48) {
  var e6;
  let i = o(this, sn).polygonMeshesById[t48.id];
  null != i ? (o(this, sn).outlinedPolygons.set(t48.id, t48), o(this, sn).renderer.implementation.effectComposer.addSelectionForOutline(i), "SINGLE_GEOMETRY" === (null == (e6 = o(this, sn).loadOptions) ? void 0 : e6.mapRenderStrategy) && (i.visible = true), o(this, sn).tryRendering()) : Le.error("Cannot outline the polygon " + t48.id + ", could be bad polygon or data mismatch.");
}, "#addPolygonOutlineNow"), q(FR, "PolygonColorsController");
var RR = FR;
var qR = RR;
c();
var Lu;
var GR = class {
  constructor(t48) {
    w(this, Lu, void 0), p(this, Lu, t48);
  }
  setPolygonHoverColor(t48, e6) {
    let i = Oi(t48);
    i && (o(this, Lu).polygonHoverColorsById[i] = new at(e6));
  }
  clearPolygonHoverColor(t48) {
    let e6 = Oi(t48);
    e6 && (delete o(this, Lu).polygonHoverColorsById[e6], o(this, Lu).eventSystem.currentHover === e6 && o(this, Lu).eventSystem.onPolygonHoverOver(e6));
  }
  clearAllPolygonHoverColors() {
    for (let t48 in o(this, Lu).polygonHoverColorsById)
      this.clearPolygonHoverColor(t48);
    o(this, Lu).polygonHoverColorsById = {};
  }
};
Lu = /* @__PURE__ */ new WeakMap(), q(GR, "PolygonHoverColorsController");
var UR = GR;
var zR = UR;
c();
var ff;
var jR = class {
  constructor(t48) {
    w(this, ff, void 0), p(this, ff, t48);
  }
  addInteractivePolygon(t48) {
    let e6 = Oi(t48);
    o(this, ff).interactivePolygons[e6] = true;
  }
  addInteractivePolygonsForAllLocations(t48) {
    t48 || (t48 = {});
    let e6 = t48.excludeTypes || [], i = (t48.locations || o(this, ff).venue.locations.slice()).filter((t49) => !e6.includes(t49.type)), n = {};
    for (let t49 = 0, e10 = i.length; t49 < e10; ++t49) {
      let e11 = i[t49].polygons;
      for (let t50 = 0, i10 = e11.length; t50 < i10; ++t50) {
        let i11 = e11[t50];
        n[i11.id] || (n[i11.id] = true, this.addInteractivePolygon(i11));
      }
    }
  }
  removeInteractivePolygon(t48) {
    let e6 = Oi(t48);
    delete o(this, ff).interactivePolygons[e6];
  }
  removeAllInteractivePolygons() {
    for (let t48 in o(this, ff).interactivePolygons)
      this.removeInteractivePolygon(t48);
  }
};
ff = /* @__PURE__ */ new WeakMap(), q(jR, "PolygonInteractionController");
var VR = jR;
var HR = VR;
c();
var ma;
var XR = class {
  constructor(t48) {
    w(this, ma, void 0), p(this, ma, t48);
  }
  createTooltip(t48, e6, i) {
    return this.createTooltipInternal({ nodeOrCoordinate: t48, contentHtml: e6, options: i });
  }
  createCustomTooltip(t48, e6, i, n) {
    return this.createTooltipInternal({ nodeOrCoordinate: t48, html: e6, selector: i, options: n });
  }
  createTooltipInternal({ nodeOrCoordinate: t48, html: e6, contentHtml: i, selector: n, options: r }) {
    let o3 = t48.map.id, s6 = o(this, ma).mapObjects.get(o3), a = 0;
    if (t48 instanceof Fs) {
      let e10 = t48.polygon;
      null != e10 && (a = e10.geometry.scale.z * Math.max(s6.mapClass.width, s6.mapClass.height) / 1e3);
    }
    let l = new Wp({ ...r, map: o3, position: { nodeOrCoordinate: t48, height: a }, html: e6, contentHtml: i, selector: n });
    return o(this, ma).smartCollisionEngine.add(l.id, l), s6.tooltips.add(l), o(this, ma).taskScheduler.scheduleTask(new Hi({ name: "addTooltip", callback: () => {
      l.enable(), o(this, ma).smartCollisionEngine.debouncedUpdate();
    } })), o(this, ma).tryRendering(), l;
  }
  removeTooltip(t48) {
    o(this, ma).smartCollisionEngine.remove("string" == typeof t48 ? t48 : t48.id), o(this, ma).tryRendering();
  }
  removeAllTooltips() {
    Array.from(o(this, ma).mapObjects.values()).forEach((t48) => {
      t48.tooltips.forEach((t49) => {
        o(this, ma).smartCollisionEngine.remove(t49.id);
      });
    }), o(this, ma).tryRendering();
  }
};
ma = /* @__PURE__ */ new WeakMap(), q(XR, "TooltipsController");
var WR = XR;
var YR = WR;
c();
var cl;
var pf;
var KR = class {
  constructor(t48) {
    w(this, cl, void 0), w(this, pf, void 0), p(this, cl, t48), p(this, pf, new JR({ scene: o(this, cl).scene, tryRendering: () => o(this, cl).tryRendering(), getPolygonMeshFromId: (t49) => o(this, cl).polygonMeshesById[t49] }));
  }
  updateClosedStateForPolygon(t48) {
    if (null == t48 || null == t48.polygon)
      return;
    let e6, i = Oi(t48.polygon);
    if ("string" != typeof i)
      return void Le.error("Invalid or no polygon provided. Expecting a MappedinPolygon or a string id. Received: ".concat(t48.polygon, " of type ").concat(typeof t48.polygon));
    if (null != t48.closed)
      e6 = !!t48.closed;
    else {
      if (null == t48.open)
        return;
      e6 = !t48.open;
    }
    let n = La(i, o(this, cl).venue.polygons), r = (null == n ? void 0 : n.map.id) || o(this, cl).currentMap;
    r ? o(this, cl).mapObjects.get(r).addPendingMapLoadedTask("Set closed status of polygon ".concat(i, " to ").concat(e6), () => {
      e6 ? o(this, pf).markPolygonAsClosed(i) : o(this, pf).markPolygonAsOpen(i);
    }) : Le.error("Update closed state for polygon failed due to missing active map");
  }
  openAllPolygons() {
    [...o(this, cl).mapObjects.values()].reduce((t48, e6) => (t48.set(e6, o(this, cl).venue.polygons.filter((t49) => t49.map === e6.mapClass)), t48), /* @__PURE__ */ new Map()).forEach((t48, e6) => {
      e6.addPendingMapLoadedTask("Open all polygons belonging to map ".concat(e6.id), () => t48.forEach((t49) => o(this, pf).markPolygonAsOpen(t49.id)));
    });
  }
  destroy() {
    o(this, pf).dispose();
  }
};
cl = /* @__PURE__ */ new WeakMap(), pf = /* @__PURE__ */ new WeakMap(), q(KR, "PolygonStatesController");
var ZR = KR;
var QR = ZR;
c();
var Qo;
var t82 = class {
  constructor(t48) {
    w(this, Qo, void 0), p(this, Qo, t48);
  }
  enableImageFlippingForAllLocations(t48) {
    o(this, Qo).imageFlippingEnabled = true, t48 || (t48 = {});
    let e6 = t48.excludeTypes || [], i = (t48.locations || o(this, Qo).venue.locations.slice()).filter(function(t49) {
      return -1 === e6.indexOf(t49.type);
    }), n = {};
    for (let t49 = 0, e10 = i.length; t49 < e10; ++t49) {
      let e11 = i[t49].polygons;
      for (let t50 = 0, i10 = e11.length; t50 < i10; ++t50) {
        let i11 = e11[t50];
        n[i11.id] || (n[i11.id] = true, this.enableImageFlippingForPolygon(i11));
      }
    }
  }
  enableImageFlippingForPolygon(t48) {
    let e6 = o(this, Qo).mapObjects.get(t48.map.id), i = 0, n = o(this, Qo).venue.maps.find((t49) => t49.id === o(this, Qo).currentMap).perspectiveId;
    n && t48 && t48.perspectives && t48.perspectives[n] && t48.perspectives[n].image && t48.perspectives[n].image.rotation && !isNaN(t48.perspectives[n].image.rotation.z) ? i = t48.perspectives[n].image.rotation.z * (Math.PI / 180) : t48 && t48.image && t48.image.rotation && !isNaN(t48.image.rotation.z) && (i = t48.image.rotation.z * (Math.PI / 180)), o(this, Qo).imageFlippingCache[t48.map.id] = o(this, Qo).imageFlippingCache[t48.map.id] || [], o(this, Qo).imageFlippingCache[t48.map.id].push([t48.id, i]), e6.mapClass.id === o(this, Qo).currentMap && e6.load().then(() => {
      e6.enableImageFlipping(t48.id, i);
    });
  }
  disableImageFlippingForAllPolygons() {
    let t48 = Object.keys(o(this, Qo).mapObjects);
    for (let e6 = 0, i = t48.length; e6 < i; e6++) {
      let i10 = t48[e6];
      o(this, Qo).mapObjects.get(i10).disableAllImageFlipping();
    }
  }
};
Qo = /* @__PURE__ */ new WeakMap(), q(t82, "PolygonImagesController");
var $R = t82;
var e8 = $R;
c();
var eh;
var N2;
var i8 = class {
  constructor(t48) {
    w(this, eh, void 0), w(this, N2, /* @__PURE__ */ new Set()), p(this, eh, t48);
  }
  createThreeJSMarker(t48) {
    let e6 = o(this, eh).currentMap;
    null != t48.mapOrMapId && (e6 = "string" == typeof t48.mapOrMapId ? t48.mapOrMapId : t48.mapOrMapId.id);
    let i = o(this, eh).mapObjects.get(e6).addThreeJSMarker(t48);
    return o(this, N2).add(i), o(this, eh).tryRendering(un.ANIMATED), i;
  }
  removeThreeJSMarker(t48) {
    if (null == t48._mapId)
      return false;
    let e6 = false, i = o(this, eh).mapObjects.get(t48._mapId);
    return i && (e6 = i.removeThreeJSMarker(t48)), o(this, eh).tryRendering(un.ANIMATED), e6;
  }
  removeAllThreeJSMarkers() {
    o(this, N2).forEach((t48) => {
      this.removeThreeJSMarker(t48);
    });
  }
};
eh = /* @__PURE__ */ new WeakMap(), N2 = /* @__PURE__ */ new WeakMap(), q(i8, "ThreeDMarkersController");
var n8 = i8;
var R2 = n8;
c();
var hl;
var B2;
var R3;
var SZ;
var o8 = class extends Go {
  constructor(t48) {
    super(), w(this, R3), v(this, "core"), v(this, "blueDotCore"), w(this, hl, void 0), w(this, B2, void 0), this.core = t48, p(this, B2, Gx(this.core.venue, this.core.options));
    let e6 = new R2(this.core);
    p(this, hl, new l8({ threeDMarkerLayer: e6, core: this.core })), this.core.eventSystem.setBlueDotManager(o(this, hl)), this.blueDotCore = a8({ data: this.core.venue, core: this.core, manager: o(this, hl) });
    let i = u8({ core: this.core, blueDotManager: o(this, hl), controller: this.blueDotCore, data: this.core.venue });
    i.on("isFollowingChanged", ({ newValue: t49 }) => {
      false === t49 && "follow" === this.core.state && (this.core.state = "explore", this.core.publish(12, { state: "explore" }));
    }), this.core.on(14, (t49) => {
      i.isFollowing = t49, this.blueDotCore.enabled && i.isFollowing && i.centerBlueDot();
    }), this.core.on(13, ({ x: t49, y: e10 }) => {
      o(this, hl).publish("update-position", { x: t49, y: e10 });
    });
    let n = Da(y(this, R3, SZ).bind(this), 300);
    this.core.on(11, n), this.core.on(10, (t49) => {
      o(this, hl).setBlueDotSizeFromZoom(t49);
    });
  }
  enable(t48) {
    this.blueDotCore.enableBlueDot(t48);
  }
  disable() {
    this.blueDotCore.disableBlueDot();
  }
};
hl = /* @__PURE__ */ new WeakMap(), B2 = /* @__PURE__ */ new WeakMap(), R3 = /* @__PURE__ */ new WeakSet(), SZ = q(function() {
  if (!o(this, hl).blueDots)
    return;
  let t48 = o(this, hl).blueDots.filter((t49) => t49.handle._mapId === this.core.currentMap)[0];
  if (null == t48)
    return;
  let e6 = t48.handle.object.position.clone(), i = this.core.mapObjects.get(o(this, B2).id || this.core.venue.venue.defaultMap);
  if (!i)
    throw new Error("Unable to retrieve the target map");
  let n = e6.applyMatrix4(i.object.matrix).project(this.core.cameraObject), r = (n.x + 1) / 2 * this.core.canvasWidth, o3 = (1 - n.y) / 2 * this.core.canvasHeight;
  o(this, hl).publish("update-position", { x: r, y: o3 });
}, "#publishBlueDot"), q(o8, "BlueDotController");
var r8 = o8;
var s8 = r8;
c(), c();
var AZ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAkklEQVRoge3awQ3AIAxD0VAMYf+F0yUixbL8JshXuLSwIqJCwDc9QBeZEOy9p2doAQDTM7TQ2cg5Z3qGFjpHS2YjDiGDe+/0DC0cwkYpJKdnaIFMkY1kymzEIVQcwsYhbPDem56hhc5GHELGIWwcwsYhbJS+2R1CxSFsdH5iO4SMr97Y6FxPqxytVVV+HcTEIWx+9mcIqHSOm9QAAAAASUVORK5CYII=";
c(), c();
var h8 = class {
  constructor(t48) {
    this.active = false, this.positions = [], this.positionIndex = 0, this.timerList = [], this.timeElapsed = 0, this.startTime = void 0, this.startPos = 0, this.endPos = 0, this.smoothingType = void 0, this.isActive = this.isActive.bind(this), this.setCallbacks = this.setCallbacks.bind(this), this.watchPosition = this.watchPosition.bind(this), this.sendPositionResponse = this.sendPositionResponse.bind(this), this.start = this.start.bind(this), this.pause = this.pause.bind(this), this.speed = t48.speed || 10, window.positions && this.setPositions(window.positions);
  }
  isActive() {
    return this.active;
  }
  setPositions(t48) {
    this.reset(), this.positions = t48, this.endPos = t48.length - 1;
  }
  setCallbacks(t48, e6, i) {
    this.successCallback = t48, this.errorCallback = e6, this.options = i;
  }
  clearWatch() {
    this.reset();
  }
  watchPosition(t48, e6, i) {
    this.setCallbacks(t48, e6, i), this.start();
  }
  sendPositionResponse(t48) {
    switch (this.timeElapsed = Date.now() - this.startTime, t48.type) {
      case "ERROR":
        this.errorCallback({ code: t48.code, message: t48.message, timestamp: Date.now() });
        break;
      case "ANNOTATION":
        Le.log("Annotation Update: ".concat(t48.annotation));
        break;
      default:
        this.successCallback({ coords: t48.coords, timestamp: t48.timestamp, positionIndex: this.positionIndex });
    }
    this.positionIndex === this.endPos ? this.reset() : this.positionIndex += 1;
  }
  start() {
    let t48 = 0;
    this.positions[this.positionIndex - 1] ? t48 = this.positions[this.positionIndex - 1].timestamp : this.positions[0].timestamp > 1e6 && (t48 = this.positions[0].timestamp), this.startTime = Date.now(), this.positions.slice(this.positionIndex, this.endPos + 1).forEach((e6) => {
      let { timestamp: i } = e6;
      this.timerList.push(setTimeout(() => this.sendPositionResponse(e6), (i - t48) / this.speed));
    }), this.active = true;
  }
  pause() {
    this.timerList.forEach((t48) => {
      clearTimeout(t48);
    }), this.timerList = [], this.active = false;
  }
  reset() {
    this.pause(), this.positionIndex = this.startPos;
  }
};
q(h8, "FakeGeolocation");
var c8 = h8;
var CZ = c8;
c();
var f8 = { 0: { actions: { 5: 1 } }, 1: { actions: { 0: 2, 1: 3, 3: 4, 4: 0 }, markerState: 0 }, 2: { actions: { 1: 3, 3: 4, 2: 1, 4: 0 }, markerState: 1 }, 3: { actions: { 0: 2, 3: 4, 2: 1, 4: 0 }, markerState: 2 }, 4: { actions: { 0: 2, 1: 3, 3: 4, 2: 1, 4: 0 }, markerState: 3 } };
var Fbe = q(() => {
  let t48 = $h({ state: 0, markerState: 0, transition: (e6) => {
    if (null == f8[t48.state])
      return;
    let i = f8[t48.state].actions[e6];
    null != i && t48.state !== i && (t48.state = i, t48.markerState = f8[t48.state].markerState);
  }, reset: () => {
    t48.state = 0;
  } });
  return t48;
}, "StateMachine");
var PZ = Fbe;
c();
var p8 = q((t48, e6, i, n = 1.5) => {
  let r = false;
  return (i ? [i] : e6).forEach((e10) => {
    Math.abs(t48.x) < e10.width * n && Math.abs(t48.y) < e10.height * n && (r = true);
  }), !r;
}, "isOutsideMap");
c();
var y8 = u(LZ());
function d8(t48) {
  return null === t48 || "number" == typeof t48;
}
c(), q(d8, "isValidLevel");
var g8 = class {
  constructor(t48 = 2) {
    this.nextLevel = void 0, this.inertia = t48, this.levelConfirmations = 0;
  }
  _resetConfirmations() {
    this.levelConfirmations = 0, this.nextLevel = void 0;
  }
  _resetFilter() {
    this._resetConfirmations(), this.previousLevel = void 0;
  }
  filter(t48) {
    let e6 = null, i = void 0 === t48 ? null : t48;
    if (!d8(i))
      throw new TypeError("The argument given to filter() must be null, undefined, or a number");
    return null === i ? this._resetFilter() : (d8(this.previousLevel) && i !== this.previousLevel ? d8(this.nextLevel) && i === this.nextLevel ? this.levelConfirmations >= this.inertia ? (this._resetConfirmations(), e6 = i) : (this.levelConfirmations++, e6 = this.previousLevel) : (this.levelConfirmations++, this.nextLevel = i, e6 = this.previousLevel) : e6 = i, this.previousLevel = e6), e6;
  }
};
q(g8, "LevelFilter");
var m8 = g8;
var B3 = m8;
var Vbe = 1.4;
var v8 = { NONE: "none", KALMAN: "kalman" };
var Hbe = q((t48) => ({ floorLevel: t48.coords.floorLevel, timestamp: t48.timestamp, latitude: t48.coords.latitude, longitude: t48.coords.longitude, accuracy: t48.coords.accuracy, speed: -1, type: t48.type }), "parseLocation");
var b8 = class {
  constructor(t48) {
    this.smooth = this.smooth.bind(this), this.smoothingType = window.mappedin && window.mappedin.smoothingType || v8.KALMAN, this.lastLocation = null, this.levelFilter = t48;
  }
  formatLocation(t48) {
    return { type: "SUCCESS", timestamp: t48.timestamp, coords: { latitude: t48.latitude, longitude: t48.longitude, accuracy: t48.accuracy, floorLevel: this.levelFilter.filter(t48.floorLevel) } };
  }
  kalman(t48, e6) {
    if (e6) {
      let i = t48.timestamp - e6.timestamp, n = Vbe * i / 1e3;
      this.latitudeKF.setProcessNoise(n), this.longitudeKF.setProcessNoise(n), this.latitudeKF.setMeasurementNoise(t48.accuracy), this.longitudeKF.setMeasurementNoise(t48.accuracy);
    } else
      this.latitudeKF = new y8.default({ R: 1, Q: t48.accuracy }), this.longitudeKF = new y8.default({ R: 1, Q: t48.accuracy });
    return { ...t48, latitude: this.latitudeKF.filter(t48.latitude), longitude: this.longitudeKF.filter(t48.longitude) };
  }
  setSmoothingType(t48) {
    this.smoothingType = t48;
  }
  smooth(t48) {
    let e6;
    switch (this.smoothingType) {
      case v8.KALMAN:
        return e6 = this.kalman(Hbe(t48), this.lastLocation), this.lastLocation = e6, this.formatLocation(e6);
      case v8.NONE:
      default:
        return t48;
    }
  }
  reset() {
    this.lastLocation = null, this.levelFilter = new B3(this.levelFilter.inertia);
  }
};
q(b8, "PositionSmoothing");
var x8 = b8;
var DZ = x8;
c();
var k3 = q((t48) => t48 * Math.PI / 180, "toRadians");
var jbe = q((t48) => 180 * t48 / Math.PI, "toDegrees");
var Wbe = q(function() {
  let t48, e6 = $h({ bearingExpired: false, previousLat: null, previousLong: null, calculateHeading(t49, i, n) {
    e6.previousLat || (e6.previousLat = t49), e6.previousLong || (e6.previousLong = i);
    let r = ((e6.previousLat - t49) ** 2 + (e6.previousLong - i) ** 2) ** 0.5, o3 = n && n.coords.accuracy < 20, s6 = parseFloat(r.toFixed(5)) > 0;
    if (o3 && s6) {
      e6.resetBearingExpirationTimer();
      let n10 = e6.getBearing([e6.previousLat, e6.previousLong], [t49, i]);
      return e6.previousLat = t49, e6.previousLong = i, n10;
    }
    return false;
  }, getBearing([t49, e10], [i, n]) {
    let r = k3(t49), o3 = k3(e10), s6 = k3(i), a = k3(n), l = Math.sin(a - o3) * Math.cos(s6), u2 = Math.cos(r) * Math.sin(s6) - Math.sin(r) * Math.cos(s6) * Math.cos(a - o3), h = Math.atan2(l, u2);
    return h = jbe(h), (h + 360) % 360;
  }, resetBearingExpirationTimer() {
    null !== t48 && e6.clearBearingExpirationTimer(), t48 = setTimeout(() => {
      e6.bearingExpired = true, e6.clearBearingExpirationTimer();
    }, 5e3);
  }, clearBearingExpirationTimer() {
    null !== t48 && (clearTimeout(t48), t48 = null);
  } });
  return e6;
}, "BlueDotBearing");
var NZ = Wbe;
var F3 = "#2266ff";
var w8 = class extends al {
  constructor() {
    super(...arguments), v(this, "update", q((t48) => {
      this.publish(0, t48);
    }, "update")), v(this, "throwError", q((t48) => {
      this.publish(1, t48);
    }, "throwError"));
  }
};
q(w8, "PositionUpdater");
var k2;
var q3 = w8;
var RZ = { showBearing: false, allowImplicitFloorLevel: false, smoothing: true, positionUpdater: void 0, baseColor: F3, useRotationMode: false };
var M8 = class extends q3 {
  constructor() {
    super(...arguments), w(this, k2, -1);
  }
  start(t48) {
    p(this, k2, globalThis.navigator.geolocation.watchPosition(this.update, this.throwError, t48));
  }
  stop() {
    globalThis.navigator.geolocation.clearWatch(o(this, k2));
  }
};
k2 = /* @__PURE__ */ new WeakMap(), q(M8, "GeolocationUpdater");
var _8 = M8;
var Ybe = 3e4;
var Xbe = 1e4;
var BZ = q(({ data: t48, core: e6, manager: i }) => {
  let n, r, o3, { maps: s6, venue: a } = t48, l = { enableHighAccuracy: true }, h = PZ(), c2 = q(() => {
    null != n && (clearTimeout(n), n = null);
  }, "clearFallbackToGPSTimer"), p4 = s6.length > 1, d = false, f = NZ();
  f.on("bearingExpiredChanged", (t49) => {
    t49.newValue && (b.bearing = null, m(b.userPosition, null));
  });
  let g = q((t49, e10, i10) => {
    "string" == typeof t49 && (y4(e10, i10), b.stateMachine.transition(2), m(null, null));
  }, "setError"), m = q((t49, i10, n10) => {
    if (b.userPosition = t49, null != i10) {
      b.userMap = i10;
      let r6 = (b.userMap || e6.venue.maps.find((t50) => t50.id === e6.currentMap)).createCoordinate(t49.coords.latitude, t49.coords.longitude);
      b.nearestNode = n10 || r6.nearestNode;
    }
    b.userData = { state: h.state, position: b.userPosition, map: b.userMap, bearing: b.bearing, nearestNode: b.nearestNode, forceBlueDot: b.forceBlueDot }, e6.blueDot.publish("POSITION_UPDATE", { nearestNode: b.nearestNode, bearing: b.bearing, map: b.userMap, position: b.userPosition });
  }, "updateInternalState"), v4 = q((t49) => {
    g("position-error", t49.code, t49.message), Le.warn("ERROR(".concat(t49.code, "): ").concat(t49.message));
  }, "onPositionError");
  function y4(t49, i10) {
    b.state = { reason: t49, message: i10, markerVisibility: h.markerState, name: h.state }, e6.blueDot.publish("STATE_CHANGE", b.state);
  }
  q(y4, "setReason");
  let x4 = q((t49, e10) => {
    let i10 = s6, n10 = t49.coords.latitude, r6 = t49.coords.longitude;
    null != e10 && (i10 = s6.filter((t50) => t50.elevation === e10));
    let o6 = i10.reduce((t50, e11) => {
      let i11 = e11.createCoordinate(n10, r6), o7 = i11.nearestNode, s10 = e11.createCoordinateByXY(o7.x, o7.y).absoluteDistanceTo(i11);
      return s10 < t50[1] ? [e11, s10, o7] : t50;
    }, [i10[0], 1 / 0, null]);
    return { targetMap: o6[0], nearestNode: o6[2] };
  }, "determineCurrentMapFromCoordinates"), _ = q((t49) => {
    var i10, l3;
    {
      let u2 = t49.coords.floorLevel;
      void 0 !== window.floorLevel && (u2 = window.floorLevel);
      let g4 = { timestamp: t49.timestamp, type: t49.type, coords: { accuracy: t49.coords.accuracy, latitude: t49.coords.latitude, longitude: t49.coords.longitude, floorLevel: u2 }, bearing: t49.bearing };
      null != u2 && (d = true), window.mappedin && (Array.isArray(window.mappedin.bluedotCaptureData) ? window.mappedin.bluedotCaptureData.push(g4) : window.mappedin.bluedotCaptureData = [g4]), o3 && clearTimeout(o3), o3 = setTimeout(() => {
        h.transition(3), y4(), b.positionSmoothing.reset(), m(b.userPosition, null);
      }, b.locationUncertainTimeoutPeriod);
      let v10 = e6.getPositionLatLon(g4.coords.latitude, g4.coords.longitude), _4 = p8(v10, s6);
      if (null == g4.coords.latitude || null == g4.coords.longitude)
        return b.positionSmoothing.reset(), void y4(1);
      if (_4)
        return b.positionSmoothing.reset(), b.stateMachine.transition(2), y4(0), void (b.userData = { state: h.state, position: null, map: null, bearing: null, nearestNode: null, forceBlueDot: false });
      let M, E = null == (i10 = b.enableBlueDotOptions) ? void 0 : i10.smoothing;
      M = true === E || void 0 === E && null == g4.coords.floorLevel ? b.positionSmoothing.smooth(g4) : g4, u2 = M.coords.floorLevel;
      let w4 = M.coords.latitude, A = M.coords.longitude;
      if (null != (l3 = b.enableBlueDotOptions) && l3.showBearing) {
        let e10 = t49.bearing;
        if ("number" == typeof e10)
          b.bearing = e10;
        else {
          let t50 = f.calculateHeading(w4, A, M);
          false !== t50 && (b.bearing = t50);
        }
      }
      let S = null, T = null, C = a.isMultiBuilding;
      if (C && "hudson-yards" !== a.slug && null != u2) {
        let t50 = x4(M, u2);
        S = t50.targetMap, T = t50.nearestNode;
      }
      if ("hudson-yards" === a.slug) {
        let t50 = b.userMap;
        if (null == u2 && p8(v10, s6, t50, 0.55) && (S = s6.filter((t51) => "5b5f5becadd5444692000001" === t51.id)[0]), null != u2) {
          let t51 = s6.filter((t52) => t52.elevation === u2);
          t51.length > 1 && (t51 = t51.filter((t52) => "5b5f20e3f3ea231068000000" === t52.group)), S = t51[0];
        }
      }
      if (!S && null != u2) {
        let t50 = s6.filter((t51) => t51.elevation === u2);
        1 === t50.length && (S = t50[0]);
      }
      if (b.forceBlueDot && b.userMap && !d ? S = b.userMap : p4 || (S = s6[0]), S || b.forceBlueDot && 3 !== h.state)
        h.transition(1), c2();
      else {
        if (3 === h.state)
          return r = { ...M }, void (null == n && (n = setTimeout(() => {
            if (h.transition(0), C) {
              let t50 = x4(r);
              S = t50.targetMap, T = t50.nearestNode;
            }
            m(r, S, T), n = null;
          }, b.fallbackToGPSTimeoutPeriod)));
        h.transition(0);
      }
      y4(), m(M, S);
    }
  }, "onPositionReceived"), b = $h({ bearing: null, state: { reason: void 0, message: void 0, markerVisibility: h.markerState, name: h.state }, positionUpdater: null, positionSmoothing: new DZ(new B3()), locationUncertainTimeoutPeriod: Ybe, fallbackToGPSTimeoutPeriod: Xbe, userMap: s6.find((t49) => t49.id === a.defaultMap), userPosition: null, nearestNode: null, forceBlueDot: false, userData: null, enabled: false, stateMachine: h, enableBlueDotOptions: RZ, enableBlueDot: (t49) => {
    var e10, i10, n10, r6, o6;
    b.enableBlueDotOptions = { ...RZ, ...t49 }, b.enabled = true, b.enableBlueDotOptions && b.enableBlueDotOptions.allowImplicitFloorLevel && (b.forceBlueDot = b.enableBlueDotOptions.allowImplicitFloorLevel), null != (null == (e10 = b.enableBlueDotOptions) ? void 0 : e10.positionUpdater) ? (b.positionUpdater = b.enableBlueDotOptions.positionUpdater, "function" == typeof (null == (i10 = null == b ? void 0 : b.positionUpdater) ? void 0 : i10.start) && (null == (n10 = null == b ? void 0 : b.positionUpdater) || n10.start())) : (b.positionUpdater = new _8(), null == (o6 = null == (r6 = b.positionUpdater) ? void 0 : r6.start) || o6.call(r6, l)), b.positionUpdater.on(0, _), b.positionUpdater.on(1, v4), h.transition(5);
  }, disableBlueDot() {
    var t49, e10, n10, r6;
    b.enabled = false, "function" == typeof (null == (t49 = null == b ? void 0 : b.positionUpdater) ? void 0 : t49.stop) && (null == (e10 = null == b ? void 0 : b.positionUpdater) || e10.stop()), null == (n10 = b.positionUpdater) || n10.off(0, _), null == (r6 = b.positionUpdater) || r6.off(1, v4), h.transition(4), i.cleanup();
  } });
  return b;
}, "BlueDot");
BZ.FakeGeolocation = CZ;
var a8 = BZ;
var $p = { GHOST: "ghost", GREY: "grey", BLUE: "blue" };
var th = q((t48, e6) => new ls({ color: t48, transparent: true, depthTest: false, opacity: e6 }), "makeMeshBasicMaterial");
var kZ = q((t48) => {
  let e6 = new Ul(), i = 0;
  for (e6.moveTo(t48, 0); i <= 2 * Math.PI; )
    e6.lineTo(Math.cos(i) * t48, Math.sin(i) * t48), i += Math.PI / 16;
  return e6;
}, "drawCircle");
var Zbe = q(({ baseColor: t48 = F3 }) => ({ outer: { blue: th(16777215, 1), ghost: th(16777215, 0.5) }, inner: { blue: th(t48, 1), grey: th(14540253, 1), ghost: th(t48, 0.5) }, aura: { inner: th(t48, 0.2), outer: th(t48, 0.3) }, bearing: { blue: th(t48, 0.7), ghost: th(t48, 0.4) } }), "makeMaterials");
var qZ = q((t48, e6) => {
  let i = kZ(t48);
  if (e6 && e6 < t48) {
    let t49 = kZ(e6);
    i.holes = [t49];
  }
  return new Uc(i, { depth: 0, bevelEnabled: false, steps: 2 });
}, "createAnnularGeometry");
var E8 = q((t48, e6, i) => {
  let n = Math.sqrt(Math.pow(t48, 2) + Math.pow(e6, 2)) / i;
  return n > 1 ? n = 1 : n < 0 && (n = 0), new qe(0, n);
}, "generateRadialUV");
var Qbe = q((t48) => ({ generateTopUV: (e6, i, n, r, o3) => {
  let s6 = i[3 * n], a = i[3 * n + 1], l = i[3 * r], u2 = i[3 * r + 1], h = i[3 * o3], c2 = i[3 * o3 + 1];
  return [E8(s6, a, t48), E8(l, u2, t48), E8(h, c2, t48)];
}, generateSideWallUV: () => [new qe(0, 1), new qe(0, 1), new qe(0, 1), new qe(0, 1)] }), "radialUVGenerator");
var Kbe = q((t48, e6, i = 0) => {
  if (Math.abs(t48) >= Math.PI)
    throw new Error("Sector angle too wide!");
  let n = i / Math.tan(t48 / 2), r = i / Math.sin(t48 / 2), o3 = r + e6, s6 = 10, a = new Ul();
  a.moveTo(r * Math.cos(t48 / 2) - n, r * Math.sin(t48 / 2));
  for (let e10 = 0; e10 < s6; e10++)
    a.lineTo(o3 * Math.cos(t48 / 2 - t48 / s6 * e10) - n, o3 * Math.sin(t48 / 2 - t48 / s6 * e10));
  for (let t49 = 0; t49 < s6; t49++)
    a.lineTo(i * Math.cos(Math.PI / -2 + Math.PI / s6 * t49), i * Math.sin(Math.PI / -2 + Math.PI / s6 * t49));
  return new Uc(a, { depth: 1, bevelEnabled: false, UVGenerator: Qbe(e6) });
}, "createSectorGeometry");
var FZ = q(function(t48, e6 = 0, i = 0, { baseColor: n = F3 }) {
  let r, o3, s6 = new ci(), a = new ci(), l = Zbe({ baseColor: new at(n) });
  if (l.outer.grey = l.outer.blue, e6 >= 0) {
    let t49 = new iT(1, 1, 10, 32), i10 = l.aura.inner;
    r = new Ft(t49, i10), r.position.set(0, 0, 0), r.rotation.set(Math.PI / 2, 0, 0), r.scale.set(e6, 1, e6), a.add(r);
  }
  let u2 = Kbe(Math.PI / 6, 120, 30), h = l.bearing[t48];
  h && new fa().load(AZ, (t49) => {
    h.colorSpace = Lr, h.alphaMap = t49, h.needsUpdate = true;
  }), o3 = new Ft(u2, h), o3.rotation.set(0, 0, i), a.add(o3);
  let c2 = qZ(30, 22.5), p4 = qZ(22.5), d = new Ft(c2, l.outer[t48]), f = new Ft(p4, l.inner[t48]);
  return s6.add(d), s6.add(f), a.add(s6), [a, s6, d, f, o3, r].forEach((t49) => {
    t49.renderOrder = 999, t49.layers.set($i.ALWAYS_ON_TOP);
  }), { outerObject: a, radiusObject: r, dotObject: s6, bearingObject: o3 };
}, "makeBlueDot");
var Jbe = q((t48, e6, i) => {
  let n = (e6.x - i.x) ** 2 + (e6.y - i.y) ** 2, r = 0;
  n && (r = ((t48.x - e6.x) * (i.x - e6.x) + (t48.y - e6.y) * (i.y - e6.y)) / n), r > 1 && (r = 1), r < 0 && (r = 0);
  let o3 = e6.x + r * (i.x - e6.x), s6 = e6.y + r * (i.y - e6.y);
  return { proportion: r, distance: Math.sqrt((t48.x - o3) ** 2 + (t48.y - s6) ** 2) };
}, "distanceToSegment");
var T8 = q((t48, e6) => null != t48 ? U3(-t48) - e6 + Math.PI / 2 : null, "getBearing");
var U3 = q((t48) => t48 * Math.PI / 180, "degToRadians");
var UZ = q((t48, e6) => {
  let i, n, r, o3 = Number.MAX_SAFE_INTEGER;
  for (let s6 = 0; s6 < t48.length - 1; s6++) {
    let a = t48[s6], l = t48[s6 + 1], u2 = Jbe(e6, a, l);
    u2.distance <= o3 && (o3 = u2.distance, n = u2.proportion, r = s6, i = u2.proportion > 0.5 ? l : a);
  }
  return { nearestNode: i, proportion: n, index: r };
}, "getNearestPathSegment");
var zZ = q((t48, e6, i) => {
  let n = [], r = [];
  for (let e10 = 0; e10 < t48.length - 1; e10++) {
    let i10 = t48[e10], o6 = t48[e10 + 1], s10 = o6.x - i10.x, a3 = o6.y - i10.y, l3 = Math.atan2(s10, a3);
    n.push(l3);
    let u2 = Math.sqrt(s10 ** 2 + a3 ** 2);
    r.push(u2);
  }
  let o3, s6 = [];
  for (let e10 = 0; e10 < n.length; e10++) {
    let i10 = n[e10], a3 = r[e10];
    null == o3 || Math.abs(o3 - i10) > 0.2 ? (o3 = i10, s6.push({ angle: i10, distance: a3, nodes: [t48[e10]] })) : (s6[s6.length - 1].distance += a3, s6[s6.length - 1].nodes.push(t48[e10]));
  }
  s6[s6.length - 1].nodes.push(t48[t48.length - 1]);
  let a = i || 100, l = q(() => s6.filter((t49) => t49.distance >= a).length, "validGroups");
  for (; !l(); )
    a /= 2;
  let h = s6.find((t49) => t49.nodes.indexOf(e6) > -1), c2 = s6.indexOf(h);
  for (; c2 > 0 && s6[c2].distance < a; )
    c2 -= 1;
  return s6[c2].angle;
}, "getHeadingOnPath");
var GZ = q((t48, e6, i, n, r = 0.8) => {
  let o3 = i * (n ? 0.05 : 0), s6 = null != e6 ? Math.cos(e6 - Math.PI / 2) * o3 : 0, a = null != e6 ? Math.sin(e6 - Math.PI / 2) * o3 : 0;
  return { position: { x: t48.x - s6, y: t48.y - a }, rotation: e6 || void 0, zoom: i, tilt: r };
}, "getCameraLookahead");
var ed = u(Eu());
var $be = 2e3;
var e_e = 8;
var t_e = 65;
var n_e = 3;
var i_e = { duration: 2e3, easing: ed.default.Easing.Cubic.Out };
function z3(t48) {
  return "number" == typeof t48 && !isNaN(t48) && t48 >= 0;
}
q(z3, "isNonNegativeNumber");
var r_e = q((t48, e6, i) => t48 < e6 ? t48 : t48 < i ? e6 : t48 * e6 / i, "ledge");
var A8 = class extends al {
  constructor({ threeDMarkerLayer: t48, core: e6, minRadius: i = e_e, maxRadius: n = t_e, radiusUpdateInterval: r = n_e, radiusTweenOptions: o3 = i_e }) {
    if (super(), this.threeDMarkerLayer = t48, this.core = e6, !z3(i))
      throw new Error("Expecting minRadius parameter to be a valid number >= 0. Provided: ".concat(i));
    if (this.minRadius = i, !z3(n))
      throw new Error("Expecting maxRadius parameter to be a valid number >= 0. Provided: ".concat(n));
    if (n < this.minRadius)
      throw new Error("Expecting maxRadius parameter to be >= minRadius parameter. Provided: ".concat(n, "; minRadius = ").concat(this.minRadius));
    if (this.maxRadius = n, !z3(r))
      throw new Error("Expecting radiusUpdateInterval parameter to be a valid number >= 0. Provided: ".concat(r));
    this.radiusUpdateInterval = r, this.radiusTweenOptions = o3, this.state = null, this.prevRadius = null, this.radiusTween = null, this.prevBearing = null, this.bearingTween = null, this.currentX = null;
  }
  computeNewRadius(t48) {
    if (!z3(t48) || t48 < this.minRadius)
      return 0;
    if (t48 >= this.maxRadius)
      return this.maxRadius;
    if (0 === this.radiusUpdateInterval)
      return t48;
    {
      let e6 = t48 - this.minRadius;
      return e6 - e6 % this.radiusUpdateInterval + this.minRadius;
    }
  }
  updateBlueDotSize() {
    this.blueDots && this.blueDots.forEach((t48) => {
      let e6 = this.core.controls.getZoomScaledMin(), i = 3 * e6, n = 5 * e6, r = r_e(this.currentX, i, n) / 2e3;
      t48.dotObject.scale.set(r, r, r), t48.bearing && t48.bearing.scale.set(r, r, r);
    });
  }
  setBlueDotSizeFromZoom(t48) {
    this.currentX = t48, this.updateBlueDotSize();
  }
  update(t48) {
    var e6, i, n, r, o3, s6, a;
    let l = t48.mode || this.state.mode, u2 = t48.mapId || t48.map && t48.map.id || this.core.currentMap;
    null == t48.bearing && (this.prevBearing = null), this.positionTween && this.positionTween.stop();
    let h = "OVERVIEW" === this.core.stackedMaps.currentState, c2 = this.core.currentMap === (null != (null == (i = null == (e6 = this.core.options) ? void 0 : e6.dynamicFocus) ? void 0 : i.baseMap) ? null == (o3 = null == (r = null == (n = this.core.options) ? void 0 : n.dynamicFocus) ? void 0 : r.baseMap) ? void 0 : o3.id : null);
    this.state && (l !== this.state.mode || u2 !== this.state.targetMap || h !== this.state.isStackedMapsOverview || c2 !== this.state.isDynamicFocusBaseMap) && this.cleanup();
    let p4 = this.computeNewRadius(t48.radius), d = this.core.mapObjects.get(u2);
    if (!this.blueDots) {
      let e10 = [];
      for (let i10 of this.core.mapObjects.values()) {
        let n10 = null != d && i10 === d, r6 = null != d && d.mapClass.mapGroup.maps.includes(i10.mapClass);
        if (n10 || !h && r6) {
          let n11 = i10.getPositionLatLon(t48.coordinates.latitude, t48.coordinates.longitude), r10 = i10.id === d.id || c2 || l !== $p.BLUE ? l : $p.GHOST, o6 = FZ(r10, 0, T8(t48.bearing, this.core.venue.maps.find((t49) => t49.id === this.core.currentMap).getNorth()), { baseColor: t48.baseColor });
          this.prevRadius = 0;
          let s10 = this.threeDMarkerLayer.createThreeJSMarker({ object: o6.outerObject, mapOrMapId: i10, position: n11 });
          e10.push({ handle: s10, radius: o6.radiusObject, dotObject: o6.dotObject, bearing: o6.bearingObject });
        }
        this.blueDots = e10, this.currentX && this.updateBlueDotSize();
      }
    }
    this.currentPositionLatLon ? (this.positionTween = new ed.default.Tween(this.currentPositionLatLon).to({ lat: t48.coordinates.latitude, lon: t48.coordinates.longitude }, $be).easing(ed.default.Easing.Cubic.Out).onUpdate((t49) => {
      this.currentPositionLatLon = t49, this.blueDots.forEach((e10) => {
        let i10 = e10.handle._mapId, n10 = this.core.mapObjects.get(i10), r6 = n10.getPositionLatLon(t49.lat, t49.lon);
        n10.translateChild(e10.handle.object, r6);
      }), this.core.tryRendering(un.ALWAYS_ON_TOP);
    }), this.positionTween.start()) : (this.currentPositionLatLon = { lat: t48.coordinates.latitude, lon: t48.coordinates.longitude }, null == (s6 = this.blueDots) || s6.forEach((e10) => {
      let i10 = e10.handle._mapId, n10 = this.core.mapObjects.get(i10), r6 = n10.getPositionLatLon(t48.coordinates.latitude, t48.coordinates.longitude);
      n10.translateChild(e10.handle.object, r6);
    })), Math.abs(p4 - this.prevRadius) >= Number.EPSILON && (null != this.radiusTween && this.radiusTween.stop(), this.radiusTween = new ed.default.Tween({ value: this.prevRadius }).to({ value: p4 }, this.radiusTweenOptions.duration).easing(this.radiusTweenOptions.easing).onUpdate(({ value: t49 }) => {
      this.prevRadius = t49, null != this.blueDots && this.blueDots.forEach((e10) => {
        if (e10.radius) {
          let i10 = e10.handle._mapId, n10 = this.core.mapObjects.get(i10), r6 = t49 * n10.getMapScale();
          e10.radius.scale.set(r6, 1, r6);
        }
      }), this.core.tryRendering(un.ALWAYS_ON_TOP);
    }).start());
    let f = t48.bearing;
    if (null != t48.bearing) {
      if (null == this.prevBearing)
        this.prevBearing = t48.bearing, this.setBearing(t48.bearing);
      else if (Math.abs(f - this.prevBearing) >= Number.EPSILON) {
        let t49 = (null != (a = this.prevBearing) ? a : f) % 360, e10 = f % 360;
        Math.abs(t49 - e10) > 180 && (t49 > e10 ? e10 += 360 : t49 += 360), this.animateBearing(t49, e10);
      }
    } else
      null != this.blueDots && this.blueDots.forEach((t49) => {
        t49.bearing && (t49.bearing.visible = false);
      });
    this.state = { mode: l, targetMap: u2, isStackedMapsOverview: h, isDynamicFocusBaseMap: c2 }, this.core.tryRendering(un.ALWAYS_ON_TOP);
  }
  animateBearing(t48, e6) {
    this.bearingTween = new ed.default.Tween({ value: t48 }).to({ value: e6 }, 1e3).easing(ed.default.Easing.Cubic.Out).onUpdate(({ value: t49 }) => {
      this.prevBearing = t49, this.setBearing(t49), this.core.tryRendering(un.ALWAYS_ON_TOP);
    }).start();
  }
  setBearing(t48) {
    null != this.blueDots && this.blueDots.forEach((e6) => {
      e6.bearing && (e6.bearing.visible = true, e6.bearing.rotation.set(0, 0, T8(t48, this.core.venue.maps.find((t49) => t49.id === this.core.currentMap).getNorth())));
    });
  }
  getBlueDotForMap(t48) {
    if (!Array.isArray(this.blueDots))
      return;
    let e6 = ("string" == typeof t48 && t48.length > 0 ? t48 : "object" == typeof t48 ? t48.id : void 0) || this.core.currentMap, i = this.blueDots.filter((t49) => t49.handle._mapId === e6);
    if (i.length > 0) {
      let t49 = new K(), e10 = new K();
      return i[0].dotObject.updateMatrixWorld(), i[0].dotObject.getWorldPosition(t49), i[0].dotObject.getWorldScale(e10), e10.divideScalar(2), e10.setZ(0), t49.sub(e10), i[0].dotObject;
    }
  }
  cleanup() {
    this.blueDots && (this.blueDots.forEach((t48) => {
      t48.handle._object.children.forEach((t49) => {
        t49.geometry ? t49.geometry.dispose() : t49.children.forEach((t50) => {
          t50.geometry.dispose();
        });
      }), this.threeDMarkerLayer.removeThreeJSMarker(t48.handle);
    }), delete this.blueDots), this.state = null, null != this.positionTween && this.positionTween.stop(), null != this.radiusTween && this.radiusTween.stop();
  }
};
q(A8, "BlueDotManager");
var S8 = A8;
var l8 = S8;
c();
var Du;
var nh;
var td;
var I8 = class extends Go {
  constructor(t48) {
    super(), v(this, "core"), v(this, "currentAnimation"), w(this, Du, void 0), w(this, nh, void 0), w(this, td, void 0), v(this, "interactions", { set: (t49) => {
      null != (null == t49 ? void 0 : t49.pan) && (this.core.controls.enablePan = t49.pan), null != (null == t49 ? void 0 : t49.zoom) && (this.core.controls.enableZoom = t49.zoom), null != (null == t49 ? void 0 : t49.rotationAndTilt) && (this.core.controls.enableRotate = t49.rotationAndTilt);
    }, enable: () => {
      this.core.controls.enablePan = true, this.core.controls.enableZoom = true, this.core.controls.enableRotate = true;
    }, disable: () => {
      this.core.controls.enablePan = false, this.core.controls.enableZoom = false, this.core.controls.enableRotate = false;
    } }), this.core = t48, p(this, td, false);
    let e6 = Da(() => {
      this._subscribers.CHANGED && this.publish("CHANGED", { tilt: this.tilt, zoom: this.zoom, rotation: this.rotation, position: this.position });
    }, 0, true);
    this.core.controls.dispatcher.addEventListener("positionUpdated", () => {
      this._subscribers.POSITION_CHANGED && this.publish("POSITION_CHANGED", this.position), e6();
    }), this.core.controls.dispatcher.addEventListener("zoomUpdated", () => {
      this._subscribers.ZOOM_CHANGED && this.publish("ZOOM_CHANGED", this.zoom), e6();
    }), this.core.controls.dispatcher.addEventListener("rotationUpdated", () => {
      this._subscribers.ROTATION_CHANGED && this.publish("ROTATION_CHANGED", this.rotation), e6();
    }), this.core.controls.dispatcher.addEventListener("tiltUpdated", () => {
      this._subscribers.TILT_CHANGED && this.publish("TILT_CHANGED", this.tilt), e6();
    });
    let i = q(() => {
      o(this, td) || (this.publish("USER_INTERACTION_START", void 0), p(this, td, true));
    }, "publishVoidEventStart"), n = q(() => {
      this.publish("USER_INTERACTION_END", void 0), p(this, td, false);
    }, "publishVoidEventEnd");
    this.core.controls.dispatcher.addEventListener("userPanStart", i), this.core.controls.dispatcher.addEventListener("userZoomStart", i), this.core.controls.dispatcher.addEventListener("userRotateStart", i), this.core.controls.dispatcher.addEventListener("userTiltStart", i), this.core.controls.dispatcher.addEventListener("userPedestalStart", i), this.core.controls.dispatcher.addEventListener("userDollyStart", i), this.core.controls.dispatcher.addEventListener("userPanEnd", n), this.core.controls.dispatcher.addEventListener("userPedestalEnd", n), this.core.controls.dispatcher.addEventListener("userZoomEnd", n), this.core.controls.dispatcher.addEventListener("userRotateEnd", n), this.core.controls.dispatcher.addEventListener("userDollyEnd", n), this.core.controls.dispatcher.addEventListener("userTiltEnd", n);
  }
  get zoom() {
    return this.core.controls.getZoom();
  }
  get rotation() {
    return this.core.controls.getRotation();
  }
  get tilt() {
    return this.core.controls.getTilt();
  }
  get minZoom() {
    return this.core.controls.minZoom;
  }
  set minZoom(t48) {
    this.core.controls.minZoom = t48;
  }
  get maxZoom() {
    return this.core.controls.maxZoom;
  }
  set maxZoom(t48) {
    this.core.controls.maxZoom = t48;
  }
  get maxTilt() {
    return this.core.controls.maxTilt;
  }
  set maxTilt(t48) {
    this.core.controls.maxTilt = Math.max(0, Math.min(t48, g2));
  }
  get position() {
    let t48 = this.core.controls.getPosition();
    return this.core.convert3DMapPositionToCoordinate(t48);
  }
  setSafeAreaInsets(t48) {
    this.core.setPadding(t48);
  }
  convertZoomLevelToAltitude(t48) {
    return this.core.controls.convertZoomToAltitude(t48);
  }
  convertAltitudeToZoomLevel(t48) {
    return this.core.controls.convertAltitudeToZoomLevel(t48);
  }
  getSafeAreaInsets() {
    return this.core.cachedPadding;
  }
  focusOn(t48, e6) {
    var i, n;
    if ("OVERVIEW" === this.core.stackedMaps.currentState)
      return Promise.reject(new Error("Cannot focus on a map when in overview mode"));
    let r = this.core.currentMap, o3 = null == (n = null == (i = t48.coordinates) ? void 0 : i.filter((t49) => t49.map.id === r)) ? void 0 : n.map((t49) => this.core.convertTo3DMapPosition({ x: t49.x, y: t49.y })), s6 = new Promise((t49, e10) => {
      p(this, Du, t49), p(this, nh, e10);
    });
    return this.core.focusOn({ changeZoom: null == e6 ? void 0 : e6.changeZoom, duration: null == e6 ? void 0 : e6.duration, focusZoomFactor: 1, curve: (null == e6 ? void 0 : e6.easing) && ua[e6.easing], minZoom: null == e6 ? void 0 : e6.minZoom, maxZoom: null == e6 ? void 0 : e6.maxZoom, updateZoomLimits: null == e6 ? void 0 : e6.updateZoomLimits, nodes: t48.nodes, points: o3, polygons: t48.polygons, padding: null == e6 ? void 0 : e6.safeAreaInsets, tilt: null == e6 ? void 0 : e6.tilt, rotation: null == e6 ? void 0 : e6.rotation, callback: () => {
      this.currentAnimation = void 0, o(this, Du).call(this), p(this, Du, void 0), p(this, nh, void 0);
    } }), this.currentAnimation = s6, s6;
  }
  set(t48) {
    if (!t48)
      return;
    if ("OVERVIEW" === this.core.stackedMaps.currentState)
      throw new Error("Cannot set camera on a map when in overview mode");
    let e6, { zoom: i, rotation: n, tilt: r, position: o3 } = t48;
    o3 && (e6 = this.core.convertTo3DMapPosition(o3)), this.core.controls.setMulti(e6 || this.core.controls.getPosition(), i, n, r);
  }
  animate(t48, e6) {
    if ("OVERVIEW" === this.core.stackedMaps.currentState)
      return Promise.reject(new Error("Cannot animate on a map when in overview mode"));
    let i;
    t48.position && (i = this.core.convertTo3DMapPosition(t48.position));
    let n = { position: i, zoom: t48.zoom, tilt: t48.tilt, rotation: t48.rotation }, r = new Promise((t49, e10) => {
      p(this, Du, t49), p(this, nh, e10);
    });
    return this.core.controls.animateCamera(n, null == e6 ? void 0 : e6.duration, (null == e6 ? void 0 : e6.easing) && ua[e6.easing], () => {
      this.currentAnimation = void 0, o(this, Du).call(this), p(this, Du, void 0), p(this, nh, void 0);
    }), this.currentAnimation = r, r;
  }
  async translate(t48, e6, i) {
    if ("OVERVIEW" === this.core.stackedMaps.currentState)
      return Promise.reject(new Error("Cannot translate a map when in overview mode"));
    if (!t48 || !e6 || null == this.core.currentMap)
      return;
    let n = this.core.mapObjects.get(this.core.currentMap).mapClass, r = this.rotation, o3 = r + U3(90), s6 = r - U3(90), a = r + Math.PI, l = r, u2 = this.position, { x: h, y: c2 } = this.position, p4 = BT(n);
    if (1 === p4) {
      h += e6 * Math.cos(o3), c2 -= e6 * Math.sin(o3);
      let t49 = this.core.convertTo3DMapPosition(n.createCoordinateByXY(h, c2)), i10 = this.core.convert3DMapPositionToCoordinate(t49);
      p4 = e6 / u2.absoluteDistanceTo(i10);
    }
    let d = e6 * p4;
    switch (t48) {
      case "up":
        h += d * Math.cos(o3), c2 -= d * Math.sin(o3);
        break;
      case "down":
        h += d * Math.cos(s6), c2 -= d * Math.sin(s6);
        break;
      case "left":
        h += d * Math.cos(a), c2 -= d * Math.sin(a);
        break;
      case "right":
        h += d * Math.cos(l), c2 -= d * Math.sin(l);
    }
    return 0 !== this.tilt && e6 && await this.animate({ tilt: 0 }, i), this.animate({ position: n.createCoordinateByXY(h, c2) }, i);
  }
  cancelAnimation() {
    this.currentAnimation && (this.core.controls.cancelAnimation(), o(this, nh).call(this), this.currentAnimation = void 0, p(this, Du, void 0), p(this, nh, void 0));
  }
};
Du = /* @__PURE__ */ new WeakMap(), nh = /* @__PURE__ */ new WeakMap(), td = /* @__PURE__ */ new WeakMap(), q(I8, "CameraController");
var C8 = I8;
var P8 = C8;
c();
var D8 = u(VZ());
c();
var Ei;
var Wl;
var nd;
var df;
var V3;
var q2;
var H3;
var j3;
var W3;
var Y3;
var X3;
var Zg;
var s_e = false;
var jl = class t44 {
  constructor(e6) {
    w(this, Ei, void 0), w(this, Wl, void 0), w(this, nd, void 0), w(this, df, void 0), v(this, "object"), w(this, V3, q((t48, e10) => {
      if (null == o(this, Wl))
        return;
      o(this, Ei).cameraObject.updateMatrixWorld(), o(this, Ei).cameraObject.updateMatrix(), p(this, nd, new pa()), o(this, nd).layers.set($i.ALWAYS_ON_TOP);
      let i = { x: 0, y: 0 };
      i.x = t48 / o(this, Ei).canvasWidth * 2 - 1, i.y = -e10 / o(this, Ei).canvasHeight * 2 + 1;
      let n = new K(i.x, i.y, 0);
      o(this, nd).setFromCamera(n, o(this, Ei).cameraObject.clone());
      let r = o(this, nd).intersectObject(o(this, Wl), true);
      return r.length < 1 ? void 0 : o(this, Ei).cameraObject.worldToLocal(r[0].point);
    }, "#getPlanePositionAtScreenCoordinates")), w(this, q2, q((t48, e10) => {
      let i = e10.position.z;
      t48 < i ? t48 -= i : t48 += i;
      let n = e10.fov * Math.PI / 180;
      return 2 * Math.tan(n / 2) * Math.abs(t48);
    }, "#visibleHeightAtZDepth")), w(this, H3, q((t48, e10) => o(this, q2).call(this, t48, e10) * e10.aspect, "#visibleWidthAtZDepth")), w(this, j3, q(() => ({ "top-left": { x: 0, y: 1 }, "top-right": { x: 1, y: 1 }, "bottom-left": { x: 0, y: 0 }, "bottom-right": { x: 1, y: 0 }, center: { x: 0.5, y: 0.5 }, top: { x: 0.5, y: 1 }, bottom: { x: 0.5, y: 0 }, left: { x: 0, y: 0.5 }, right: { x: 1, y: 0.5 } })[t44.OPTIONS.position], "#getPositionAlignedAnchor")), w(this, W3, q(() => {
      let e10 = t44.OPTIONS.padding;
      return { "top-left": { x: e10, y: e10 }, "top-right": { x: -e10, y: e10 }, "bottom-left": { x: e10, y: -e10 }, "bottom-right": { x: -e10, y: -e10 }, center: { x: 0, y: 0 }, top: { x: 0, y: e10 }, bottom: { x: 0, y: -e10 }, left: { x: e10, y: 0 }, right: { x: -e10, y: 0 } }[t44.OPTIONS.position];
    }, "#getPositionAlignedPadding")), w(this, Y3, q(() => ({ "top-left": { x: 0, y: 0 }, "top-right": { x: o(this, Ei).canvasWidth, y: 0 }, "bottom-left": { x: 0, y: o(this, Ei).canvasHeight }, "bottom-right": { x: o(this, Ei).canvasWidth, y: o(this, Ei).canvasHeight }, center: { x: o(this, Ei).canvasWidth / 2, y: o(this, Ei).canvasHeight / 2 }, top: { x: o(this, Ei).canvasWidth / 2, y: 0 }, bottom: { x: o(this, Ei).canvasWidth / 2, y: o(this, Ei).canvasHeight }, left: { x: 0, y: o(this, Ei).canvasHeight / 2 }, right: { x: o(this, Ei).canvasWidth, y: o(this, Ei).canvasHeight / 2 } })[t44.OPTIONS.position], "#getPositionAlignedCanvasCoordinates")), w(this, X3, q(() => {
      new fa().load(Jc.get("logo"), (t48) => {
        p(this, df, t48);
        let e10 = o(this, Ei).cameraObject.near + 0.1 * (o(this, Ei).cameraObject.far - o(this, Ei).cameraObject.near), i = o(this, q2).call(this, e10, o(this, Ei).cameraObject), n = o(this, H3).call(this, e10, o(this, Ei).cameraObject), r = Math.max(i, n), o3 = new To(10 * r, 10 * r, 100, 100), s6 = new ol({ visible: s_e, wireframe: true });
        p(this, Wl, new Ft(o3, s6)), o(this, Wl).position.set(0, 0, -1 * e10);
        let a = new Tx({ map: o(this, df), color: "#000000" });
        a.opacity = 0.5, a.depthTest = false, a.sizeAttenuation = false, this.object = new KE(a), this.object.layers.set($i.ALWAYS_ON_TOP), o(this, Wl).layers.set($i.ALWAYS_ON_TOP), this.object.renderOrder = 999, this.object.position.set(0, 0, 0), o(this, Wl).add(this.object), o(this, Ei).cameraObject.add(o(this, Wl)), o(this, Zg).call(this);
      });
    }, "#renderWatermark")), w(this, Zg, q(() => {
      if (null == this.object || null == o(this, df))
        return;
      let e10 = o(this, j3).call(this);
      this.object.center.x = e10.x, this.object.center.y = e10.y;
      let i = o(this, W3).call(this), n = o(this, Y3).call(this), r = o(this, V3).call(this, n.x + i.x, n.y + i.y);
      if (null == r)
        return;
      this.object.position.set(r.x, r.y, 0);
      let o3 = 15e-5 * t44.OPTIONS.scale, s6 = o(this, df).image.width * o3, a = o(this, df).image.height * o3;
      this.object.scale.set(s6, a, 1), o(this, Ei).tryRendering(un.ALWAYS_ON_TOP);
    }, "#updateWatermark")), v(this, "show", q(() => {
      null == this.object || null == o(this, Wl) ? o(this, X3).call(this) : (this.object.material.visible = true, o(this, Zg).call(this));
    }, "show")), v(this, "hide", q(() => {
      this.object.material.visible = false, o(this, Ei).tryRendering(un.ALWAYS_ON_TOP);
    }, "hide")), v(this, "resize", q(() => {
      o(this, Zg).call(this);
    }, "resize")), p(this, Ei, e6), t44.ENABLED && this.show();
  }
};
Ei = /* @__PURE__ */ new WeakMap(), Wl = /* @__PURE__ */ new WeakMap(), nd = /* @__PURE__ */ new WeakMap(), df = /* @__PURE__ */ new WeakMap(), V3 = /* @__PURE__ */ new WeakMap(), q2 = /* @__PURE__ */ new WeakMap(), H3 = /* @__PURE__ */ new WeakMap(), j3 = /* @__PURE__ */ new WeakMap(), W3 = /* @__PURE__ */ new WeakMap(), Y3 = /* @__PURE__ */ new WeakMap(), X3 = /* @__PURE__ */ new WeakMap(), Zg = /* @__PURE__ */ new WeakMap(), q(jl, "WatermarkController"), v(jl, "ENABLED", false), v(jl, "OPTIONS", { padding: 16, scale: 1, position: "bottom-left", onClick: () => {
  null != window && window.open("https://www.mappedin.com");
} });
var Qg;
var O8 = jl;
var Yl = O8;
var o_e = 300;
var a_e = 30;
var l_e = 1.5;
var HZ = 250;
var jZ = 300;
var u_e = 50;
var Vs = [];
function L8() {
  Vs = [], Qg && (clearTimeout(Qg), Qg = null);
}
q(L8, "flushTapEvents");
var q8 = class {
  constructor(t48) {
    v(this, "type", "SINGLE"), v(this, "event"), v(this, "timestamp"), this.event = t48, this.timestamp = performance.now();
  }
};
q(q8, "Tap");
var N8 = q8;
function R8(t48) {
  let { position: { nodeOrCoordinate: e6 } } = t48, i = { id: t48.id };
  return e6 instanceof Fs ? i.node = e6 : e6 instanceof aa && (i.coordinate = e6), i;
}
function c_e(t48) {
  let e6 = R8(t48);
  return delete e6.coordinate, { text: t48.options.text, ...e6 };
}
function h_e(t48) {
  return t48.reduce((t49, e6) => (e6 instanceof Xo ? t49.labels.push(c_e(e6)) : e6 instanceof of ? t49.markers.push(R8(e6)) : e6 instanceof Wp && t49.tooltips.push(R8(e6)), t49), { labels: [], markers: [], tooltips: [] });
}
q(R8, "getClickEventPayloadFromCollider"), q(c_e, "getClickEventPayloadFromFloatingLabels"), q(h_e, "categorizeColliders");
var F8 = class {
  constructor(t48) {
    v(this, "core"), v(this, "blueDotManager"), v(this, "rendererDomElement"), v(this, "currentHover", null), v(this, "hoverLabel"), v(this, "hoverColor", new at("#cccccc")), v(this, "options", { disableHover: false }), v(this, "setBlueDotManager", q((t49) => {
      this.blueDotManager = t49;
    }, "setBlueDotManager")), v(this, "touchCount", 0), v(this, "onPointerMove", q((t49) => {
      t49.preventDefault(), !this.core.controls.isUserInteracting() && (this.calculateMouseCoordinates(t49), ("touch" !== t49.pointerType || null == t49.pointerType && this.hasTouched) && (this.doHoverEffect(), this.hoverLabel.setPosition(this.cursorPos.x, this.cursorPos.y)));
    }, "onPointerMove")), v(this, "onPointerUp", q((t49) => {
      if ("touch" === t49.pointerType && (Vs = Vs.filter((t50) => performance.now() - t50.timestamp < jZ)), "grabbing" === this.rendererDomElement.style.cursor && (this.rendererDomElement.style.cursor = "grab"), this.touchCount && this.decrementTouches(t49), t49.target.parentNode != this.core.container)
        return;
      let e10 = Math.sqrt(Math.pow(t49.clientX - this.mouseDownStart.clientX, 2) + Math.pow(t49.clientY - this.mouseDownStart.clientY, 2));
      Date.now() < this.mouseDownStart.time + o_e && e10 <= a_e ? "touch" === t49.pointerType ? 1 === Vs.length && "TWO_FINGER" === Vs[0].type && this.core.controls.enableZoom ? (this.zoomOut(), L8()) : 1 === Vs.length && "SINGLE" === Vs[0].type ? (null != Qg && clearTimeout(Qg), Qg = setTimeout(() => {
        this.handleMapClick(Vs[0].event), L8();
      }, jZ)) : 2 === Vs.length && "SINGLE" === Vs[0].type && "SINGLE" === Vs[1].type && this.core.controls.enableZoom && (this.zoomIn(Vs[1].event), L8()) : this.handleMapClick(t49) : this.touchCount || (this.core.publish(this.core.currentInteractionEvent), this.core.currentInteractionEvent = void 0);
    }, "onPointerUp")), v(this, "onPointerDown", q((t49) => {
      if ("pointer" !== this.rendererDomElement.style.cursor && (this.rendererDomElement.style.cursor = "grabbing"), this.mouseDownStart = { time: Date.now(), clientX: t49.clientX, clientY: t49.clientY }, this.incrementTouches(t49), "touch" === t49.pointerType) {
        let e10 = new N8(t49);
        Vs.length >= 1 && e10.timestamp - Vs[Vs.length - 1].timestamp < u_e ? Vs[Vs.length - 1].type = "TWO_FINGER" : Vs.push(e10);
      }
    }, "onPointerDown")), v(this, "incrementTouches", q((t49) => {
      window.PointerEvent && "touch" === t49.pointerType && (this.touchCount = (this.touchCount || 0) + 1, 1 === this.touchCount && this.core.publish(27));
    }, "incrementTouches")), v(this, "decrementTouches", q((t49) => {
      window.PointerEvent && "touch" === t49.pointerType && (this.touchCount--, this.touchCount || this.core.publish(28));
    }, "decrementTouches")), v(this, "clearMouse", q(() => {
      this.mouse.x = 1 / 0, this.mouse.y = 1 / 0;
    }, "clearMouse")), v(this, "getMousePos", q((t49) => ({ x: t49.offsetX, y: t49.offsetY }), "getMousePos")), v(this, "getScaledMousePos", q((t49) => ({ x: t49.offsetX * devicePixelRatio, y: t49.offsetY * devicePixelRatio }), "getScaledMousePos")), v(this, "cursorPos", { x: 0, y: 0 }), v(this, "mouse", { x: 0, y: 0 }), v(this, "mouseDownStart", { time: 0, clientX: 0, clientY: 0 }), v(this, "scaledCursorPos", { x: 0, y: 0 }), v(this, "hasTouched", false), v(this, "calculateMouseCoordinates", q((t49) => {
      this.cursorPos = this.getMousePos(t49), this.scaledCursorPos = this.getScaledMousePos(t49), this.mouse.x = this.cursorPos.x / this.core.canvasWidth * 2 - 1, this.mouse.y = -this.cursorPos.y / this.core.canvasHeight * 2 + 1;
    }, "calculateMouseCoordinates")), v(this, "getMouseRayIntersects", q((t49) => (jr.setFromCamera(this.mouse, this.core.cameraObject), Array.isArray(t49) ? jr.intersectObjects(t49, true) : jr.intersectObject(t49, true)), "getMouseRayIntersects")), v(this, "detectCollidersUnderMouse", q(() => {
      let { interactiveCollidersQTree: t49 } = this.core.smartCollisionEngine;
      if (null != t49) {
        let { x: e10, y: i } = this.scaledCursorPos, n = [e10, i];
        return t49.queryPoint(n).filter((t50) => t50.intersectsPoint(n)).map((t50) => t50.userData.collider);
      }
      return [];
    }, "detectCollidersUnderMouse")), v(this, "detectPolygonsUnderMouse", q(() => {
      let t49 = this.core.visibleMapObjectsInCurrentScene.flatMap((t50) => t50.hoverableMeshChildren), e10 = this.getMouseRayIntersects(t49).map(function(t50) {
        return t50.object.name;
      });
      (0, D8.default)(e10);
      let i = [];
      for (let t50 = 0, n = e10.length; t50 < n; ++t50) {
        let n10 = e10[t50];
        n10 && this.core.interactivePolygons[n10] && i.push(n10);
      }
      return i;
    }, "detectPolygonsUnderMouse")), v(this, "detectPathsUnderMouse", q(() => {
      var t49;
      jr.setFromCamera(this.mouse, this.core.cameraObject), jr.layers.set($i.ANIMATED);
      let e10 = [];
      this.core.paths.pathsById.forEach(({ internalPath: t50 }) => {
        t50.options.interactive && t50.pathSegments.forEach((t51) => {
          let i10 = t51.object;
          e10.push(i10);
        });
      });
      let i = null != (t49 = jr.intersectObjects(e10)) ? t49 : [];
      jr.layers.set($i.STATIC);
      let n = /* @__PURE__ */ new Map();
      return i.reduce((t50, e11) => {
        var i10;
        return n.has(e11.object.uuid) || t50.push(null == (i10 = this.core.paths.pathsByMeshId.get(e11.object.uuid)) ? void 0 : i10.path), n.set(e11.object.uuid, true), t50;
      }, []);
    }, "detectPathsUnderMouse")), v(this, "detectWatermarkUnderMouse", q(() => {
      var t49;
      if (!Yl.ENABLED || null == this.core.watermark.object)
        return false;
      jr.setFromCamera(this.mouse, this.core.cameraObject), jr.layers.set($i.ALWAYS_ON_TOP);
      let e10 = null != (t49 = jr.intersectObject(this.core.watermark.object)) ? t49 : [];
      return jr.layers.set($i.STATIC), e10.length > 0;
    }, "detectWatermarkUnderMouse")), v(this, "detectMapsUnderMouse", q(() => {
      jr.setFromCamera(this.mouse, this.core.cameraObject);
      let t49 = Array.from(this.core.mapObjects.values()).filter((t50) => {
        var e11, i;
        return (null == (i = null == (e11 = this.core.options) ? void 0 : e11.dynamicFocus) ? void 0 : i.baseMap) === t50.mapClass || t50.visible;
      }).map((t50) => t50.object), e10 = jr.intersectObjects(t49, true).map(function(t50) {
        var e11;
        return null == (e11 = t50.object) ? void 0 : e11.parent.name;
      }).filter((t50) => t50);
      return (0, D8.default)(e10), e10.map((t50) => this.core.venue.getCollectionItemById("maps", t50));
    }, "detectMapsUnderMouse")), v(this, "getMouseMapPosition", q(() => {
      let t49 = this.getMouseRayIntersects(this.core.cameraPlane);
      if (t49.length > 0) {
        let e10 = t49[t49.length - 1], i = this.core.mapObjects.get(this.core.currentMap), n = e10.point.applyMatrix4(new Ot().copy(i.object.matrix).invert());
        return { x: n.x + i.mapClass.width / 2, y: -n.y + i.mapClass.height / 2 };
      }
      return { x: NaN, y: NaN };
    }, "getMouseMapPosition")), v(this, "checkMouseIntersectsBlueDot", q(() => {
      if (!this.blueDotManager)
        return false;
      let t49 = this.blueDotManager.getBlueDotForMap(this.core.venue.maps.find((t50) => t50.id === this.core.currentMap));
      if (t49) {
        let e10 = new K(), i = new K();
        t49.updateMatrixWorld(), t49.getWorldPosition(e10), t49.getWorldScale(i), i.divideScalar(2), i.setZ(0), e10.sub(i);
        let n = this.core.canvasWidth / 2, r = this.core.canvasHeight / 2;
        this.core.cameraObject.updateProjectionMatrix(), this.core.cameraObject.updateMatrixWorld(true), e10.project(this.core.cameraObject);
        let o3 = { x: e10.x * n + n, y: -e10.y * r + r }, s6 = Math.pow(this.cursorPos.x - o3.x, 2), a = Math.pow(this.cursorPos.y - o3.y, 2);
        return Math.sqrt(s6 + a) <= 23;
      }
      return false;
    }, "checkMouseIntersectsBlueDot")), v(this, "doHoverEffect", q(() => {
      if (this.options.disableHover)
        return;
      let t49 = this.detectPolygonsUnderMouse(), e10 = this.detectCollidersUnderMouse(), i = this.detectPathsUnderMouse(), n = this.detectWatermarkUnderMouse(), r = false;
      for (let e11 = 0, i10 = t49.length; e11 < i10; ++e11) {
        let i11 = t49[e11];
        if (this.core.interactivePolygons[i11]) {
          if (i11 != this.currentHover) {
            this.currentHover && (this.onPolygonHoverOut(this.currentHover), this.currentHover = null), this.core.highlightedPolygons[i11] || (this.currentHover = i11, this.onPolygonHoverOver(i11));
            let t50 = this.core.textLabelsByPolygonId[Oi(i11)];
            t50 && t50.showHoverLabel ? this.hoverLabel.show(t50) : this.hoverLabel.hide();
          }
          r = true;
          break;
        }
      }
      r || (this.currentHover && (this.onPolygonHoverOut(this.currentHover), this.currentHover = null), this.hoverLabel.hide()), r || e10.length > 0 || i.length > 0 || n ? this.rendererDomElement.style.cursor = "pointer" : this.rendererDomElement.style.cursor = "grab";
    }, "doHoverEffect")), v(this, "onPolygonHoverOut", q((t49) => {
      var e10;
      let i = this.core.polygonMeshesById[t49], n = this.core.venue.getCollectionItemById("polygons", t49);
      if (!i)
        return;
      let r = this.core.textLabelsByPolygonId[t49];
      r && r.setColor(r.baseColor);
      let o3 = false;
      if (i._MIOriginalMaterial) {
        let n10 = null != (e10 = this.core.polygonHoverColorsById[t49]) ? e10 : this.hoverColor, r6 = (i.material.length && i.material[0] || i.material).color.getHex();
        n10.getHex() === r6 && !this.core.highlightedPolygons[t49] && (o3 = true);
      }
      if (o3)
        return this.core.polygonColors.setPolygonColor(n, n.material.color, { highlighted: false, visible: false }), false;
      r && this.core.tryRendering();
    }, "onPolygonHoverOut")), v(this, "onPolygonHoverOver", q((t49) => {
      var e10;
      let i = Oi(t49), n = this.core.polygonMeshesById[i], r = this.core.textLabelsByPolygonId[i];
      if (!n)
        return;
      let o3 = null != (e10 = this.core.polygonHoverColorsById[i]) ? e10 : this.hoverColor;
      return this.core.polygonColors.setPolygonColor(t49, "#".concat(o3.getHexString()), { highlighted: false }), r && (r.setColor(r.hoverColor), this.core.tryRendering()), false;
    }, "onPolygonHoverOver")), v(this, "setHoverColor", q((t49) => {
      this.hoverColor = new at(t49);
    }, "setHoverColor")), this.core = t48;
    let e6 = this.core.renderer.domElement();
    this.core.container.style.touchAction = "auto", this.rendererDomElement = e6, this.hoverLabel = new Pu(this.core.container), this.core.on(15, this.clearMouse), this.core.on(9, () => {
      this.currentHover && (this.onPolygonHoverOut(this.currentHover), this.currentHover = null), this.hoverLabel.hovering && this.hoverLabel.hide();
    }), e6.addEventListener("pointerdown", this.onPointerDown, false), e6.addEventListener("pointermove", this.onPointerMove, false), e6.addEventListener("pointerup", this.onPointerUp, false), e6.addEventListener("pointercancel", this.onPointerUp, false);
  }
  zoomOut() {
    this.core.controls.zoomOut(HZ, ua["ease-out"]);
  }
  zoomIn(t48) {
    let e6 = this.core.convertScreenCoordinateToMapCoordinate(t48.clientX, t48.clientY, this.core.venue.maps.find((t49) => t49.id === this.core.currentMap)), i = this.core.convertTo3DMapPosition(e6), n = this.core.controls.getZoom();
    this.core.controls.animateCamera({ position: i, zoom: n / l_e }, HZ, ua["ease-in"]);
  }
  handleMapClick(t48) {
    this.calculateMouseCoordinates(t48);
    let e6 = this.detectPolygonsUnderMouse(), i = this.detectMapsUnderMouse(), n = this.detectCollidersUnderMouse(), r = this.detectPathsUnderMouse(), o3 = this.detectWatermarkUnderMouse(), { labels: s6, markers: a, tooltips: l } = h_e(n), u2 = this.getMouseMapPosition(), h = { lat: NaN, lon: NaN };
    !isNaN(u2.x) && !isNaN(u2.y) && (h = this.core.venue.maps.find((t49) => t49.id === this.core.currentMap).createCoordinateByXY(u2.x, u2.y)), this.core.publish(16, { position: { latitude: h.lat, longitude: h.lon }, polygons: e6.filter((t49) => this.core.interactivePolygons[t49]).map((t49) => this.core.venue.getCollectionItemById("polygons", t49)), floatingLabels: s6, markers: a, tooltips: l, maps: i || [], nearBlueDot: this.checkMouseIntersectsBlueDot(), paths: r }), o3 && "function" == typeof Yl.OPTIONS.onClick && Yl.OPTIONS.onClick();
    for (let t49 = 0, i10 = e6.length; t49 < i10; ++t49) {
      let i11 = e6[t49];
      if (this.core.interactivePolygons[i11] && "function" == typeof this.core.onPolygonClicked && !this.core.onPolygonClicked(i11))
        return;
    }
    "function" == typeof this.core.onNothingClicked && this.core.onNothingClicked();
  }
  destroy() {
    this.rendererDomElement.removeEventListener("pointerdown", this.onPointerDown, false), this.rendererDomElement.removeEventListener("pointermove", this.onPointerMove, false), this.rendererDomElement.removeEventListener("pointerup", this.onPointerUp, false), this.rendererDomElement.removeEventListener("pointercancel", this.onPointerUp, false);
  }
};
q(F8, "EventSystem");
var B8 = F8;
var k8 = B8;
c();
var WZ = "varying vec2 vUV;\n\nvoid main() {\n   vUV = uv;\n\n   gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);\n}";
var YZ = 'precision mediump float;\n\n// The following uniforms are documented in Mappedin.ClosedPolygonManager.js\nuniform vec3 stripe1_color;\nuniform vec3 stripe2_color;\nuniform vec2 surface_dimensions;\nuniform float stripe1_width;\nuniform float stripe1_proportion;\nuniform float stripes_direction; \n\nvarying vec2 vUV;\n\nvec4 stripes(vec2 coord) {\n   vec4 color1 = vec4(stripe1_color, 1.0);\n   vec4 color2 = vec4(stripe2_color, 1.0);\n\n   // Transform the uv to surface coordinates in world space units\n   vec2 coord_absolute = coord * surface_dimensions;\n   \n   // Compute the width of a single texture "tile"\n   // For example, if the first stripe is 10 units and it forms 25% of the tile, we know that the tile itself is 40 units wide\n   float tile_width = stripe1_width / stripe1_proportion;\n\n   // Lerp the x and y coordinates of the component using the "direction" parameter; clever way of "rotating" the stripe without using trig functions, courtesy of https://andreashackel.de/tech-art/stripes-shader-1/\n   float stripe_coord = mix(coord_absolute.x, coord_absolute.y, stripes_direction);\n\n   // Normalize the above "coordinate" to obtain its position within a single texture "tile"\n   float stripe_coord_normalized = mod(stripe_coord, tile_width) / tile_width;\n\n   // Decide which of the two stripes this coordinate belongs to!\n   return mix(color1, color2, step(1. - stripe1_proportion, stripe_coord_normalized));\n}\n\nvoid main() {   \n   gl_FragColor = vec4(stripes(vUV).rgb, 1);\n}\n';
function d_e(t48) {
  let e6 = new mT(1, 1, 1, 1), i = 500, n = 500, r = new K(0, 0, 0), o3 = 0;
  if (null != t48 && null != t48.boundingBox && null != t48.boundingBox.min && null != t48.boundingBox.max) {
    let e10 = new Yt(t48.boundingBox.min, t48.boundingBox.max), s10 = e10.getSize(new K());
    i = s10.x, n = s10.y, e10.getCenter(r), o3 = (isNaN(e10.max.z) ? 0 : e10.max.z) + 10;
  }
  let s6 = new Xt({ vertexShader: WZ, fragmentShader: YZ, uniforms: { stripe1_color: { type: "c", value: new at(0.91372549019, 0.91372549019, 0.91372549019) }, stripe2_color: { type: "c", value: new at(0.80784313725, 0.80784313725, 0.80784313725) }, stripe1_width: { type: "f", value: 7 }, stripe1_proportion: { type: "f", value: 0.3 }, stripes_direction: { type: "f", value: 2 / 3 }, surface_dimensions: { type: "v2", value: new qe(i, n) } } });
  s6.transparent = true, s6.blending = UE, s6.depthTest = false, s6.stencilWrite = true, s6.stencilFunc = LT, s6.stencilFuncMask = 255, s6.stencilRef = 1, s6.stencilFail = Rc, s6.stencilZFail = Rc, s6.stencilZPass = Rc;
  let a = new Ft(e6, s6);
  return a.position.set(r.x, r.y, o3), a.rotation.set(0, 0, 0), a.scale.set(i, n, 1), a;
}
function XZ(t48) {
  null != t48 && ef(t48.material);
}
function ZZ(t48) {
  return t48.stencilWrite = true, t48.stencilFunc = Ux, t48.stencilRef = 1, t48.stencilFuncMask = 255, t48.stencilFail = Rc, t48.stencilZFail = Rc, t48.stencilZPass = Og, t48;
}
function m_e(t48, e6, i) {
  null == e6 || null == i || (null != t48 && i.remove(t48), i.add(e6));
}
function g_e(t48, e6) {
  return Math.abs(t48 - e6) < Number.EPSILON;
}
q(d_e, "makeStencilSheet"), q(XZ, "destroyStencilSheet"), q(ZZ, "enableStencilTestingAndConfigure"), q(m_e, "replaceObjectInScene"), q(g_e, "almostEqual");
var z8 = class {
  constructor({ scene: t48, getPolygonMeshFromId: e6, tryRendering: i }) {
    this.scene = t48, this.getPolygonMeshFromId = e6, this.tryRendering = i, this.stencilSheet = null, this.polygonsMarkedAsClosed = {};
  }
  onMapChanged(t48) {
    t48.load().then(() => {
      this.currentMap = t48, XZ(this.stencilSheet);
      let e6 = d_e(t48);
      m_e(this.stencilSheet, e6, this.scene), this.stencilSheet = e6, this.tryRendering();
    });
  }
  dispose() {
    this.markAllPolygonsAsOpen(), XZ(this.stencilSheet);
  }
  markPolygonAsClosed(t48) {
    if ("string" != typeof t48 || null != this.polygonsMarkedAsClosed[t48])
      return;
    let e6 = this.getPolygonMeshFromId(t48);
    if (null == e6 || null == e6.material)
      return;
    let i = e6.geometry;
    if (Le.assert(i instanceof Ji), Le.assert(null == i.index), e6.material.length)
      return;
    let n = {};
    n.geometryGroups = [...i.groups], i.clearGroups();
    let r = e6.material, o3 = ZZ(e6.material.clone());
    e6.material = [r, o3], e6._MIOriginalMaterial && (e6._MIOriginalMaterial.length || (e6._MIOriginalMaterial = [e6._MIOriginalMaterial, ZZ(e6._MIOriginalMaterial.clone())]));
    let s6 = i.getAttribute("normal");
    Le.assert(3 === s6.itemSize), Le.assert(s6.array.length / 3 === s6.count), Le.assert(s6.count % 3 == 0);
    let a = new K(0, 0, 1);
    for (let t49 = 0; t49 < s6.count; t49 += 3) {
      let e10 = (s6.getX(t49) + s6.getX(t49 + 1) + s6.getX(t49 + 2)) / 3, n10 = (s6.getY(t49) + s6.getY(t49 + 1) + s6.getY(t49 + 2)) / 3, r6 = (s6.getZ(t49) + s6.getZ(t49 + 1) + s6.getZ(t49 + 2)) / 3;
      g_e(new K(e10, n10, r6).normalize().dot(a), 1) ? i.addGroup(t49, 3, 1) : i.addGroup(t49, 3, 0);
    }
    this.tryRendering(), this.polygonsMarkedAsClosed[t48] = n;
  }
  markPolygonAsOpen(t48) {
    if ("string" != typeof t48 || null == this.polygonsMarkedAsClosed[t48])
      return;
    let e6 = this.polygonsMarkedAsClosed[t48], i = this.getPolygonMeshFromId(t48), n = i.geometry;
    n.clearGroups(), e6.geometryGroups.forEach(({ start: t49, count: e10, materialIndex: i10 }) => n.addGroup(t49, e10, i10)), ef(i.material[1]), i.material = i.material[0], i._MIOriginalMaterial && i._MIOriginalMaterial.length && (i._MIOriginalMaterial = i._MIOriginalMaterial[0]), delete this.polygonsMarkedAsClosed[t48], this.tryRendering();
  }
  markAllPolygonsAsOpen() {
    for (let t48 in this.polygonsMarkedAsClosed)
      this.markPolygonAsOpen(t48);
  }
};
q(z8, "ClosedPolygonManager");
var U8 = z8;
var JR = U8;
c();
var v_e = false;
var G8 = class {
  constructor(t48) {
    v(this, "textureLoader", new fa()), v(this, "data"), this.data = t48;
  }
  async loadMapPolygons() {
  }
  loadImage(t48) {
    let e6 = this.data.get(t48.split(/[\/\.]/)[1]);
    return new Promise((i, n) => {
      v_e && Le.log("loading image: ", t48);
      let r = new Blob([e6]), o3 = URL.createObjectURL(r);
      this.textureLoader.load(o3, (t49) => {
        t49.colorSpace = Lr, i(t49);
      }, () => {
      }, n);
    });
  }
};
q(G8, "BinaryAssetManager");
var Kg = G8;
c(), c();
var Z3 = 1 * devicePixelRatio;
function y_e(t48, e6) {
  return e6.x + e6.w < t48.x + t48.w && e6.x > t48.x && e6.y > t48.y && e6.y + e6.h < t48.y + t48.h;
}
function V8(t48, e6) {
  let i = e6.x, n = e6.y, r = e6.x + e6.w, o3 = e6.y + e6.h, s6 = t48.x, a = t48.y, l = t48.x + t48.w, u2 = t48.y + t48.h;
  return i < l && s6 < r && n < u2 && a < o3;
}
function x_e(t48, e6) {
  let [i, n] = e6;
  return i >= t48.x && i <= t48.x + t48.w && n >= t48.y && n <= t48.y + t48.h;
}
q(y_e, "contains"), q(V8, "intersects"), q(x_e, "intersectPoint");
var H8 = class {
  constructor(t48, e6, i, n, r) {
    v(this, "x"), v(this, "y"), v(this, "w"), v(this, "h"), v(this, "userData"), this.userData = typeof r > "u" ? null : r, this.x = t48 - Z3, this.y = e6 - Z3, this.w = i + 2 * Z3, this.h = n + 2 * Z3;
  }
  contains(t48) {
    return t48 !== this && y_e(this, t48);
  }
  intersects(t48) {
    return V8(this, t48);
  }
  intersectsPoint(t48) {
    return x_e(this, t48);
  }
  draw(t48) {
    t48.fillStyle = "rgba(123,222,26, 0.5)", t48.fillRect(this.x, this.y, this.w, this.h);
  }
};
q(H8, "Rectangle");
var Ra = H8;
var id = class t45 {
  constructor(t48, e6) {
    v(this, "boundary"), v(this, "capacity", 4), v(this, "objects", []), v(this, "topLeft"), v(this, "topRight"), v(this, "bottomLeft"), v(this, "bottomRight"), v(this, "divided", false), v(this, "parent"), this.parent = e6, this.boundary = t48;
  }
  getSize() {
    return this.divided ? this.objects.length + this.topLeft.getSize() + this.topRight.getSize() + this.bottomLeft.getSize() + this.bottomRight.getSize() : this.objects.length;
  }
  subdivide() {
    let { x: e6, y: i, w: n, h: r } = this.boundary;
    this.topLeft = new t45(new Ra(e6, i, n / 2, r / 2), this), this.topRight = new t45(new Ra(e6 + n / 2, i, n / 2, r / 2), this), this.bottomLeft = new t45(new Ra(e6, i + r / 2, n / 2, r / 2), this), this.bottomRight = new t45(new Ra(e6 + n / 2, i + r / 2, n / 2, r / 2), this), this.divided = true;
  }
  queryRect(t48) {
    let e6 = [];
    return this.boundary.intersects(t48) ? (e6.push(...this.objects), this.divided && (Vc(e6, this.topLeft.queryRect(t48)), Vc(e6, this.topRight.queryRect(t48)), Vc(e6, this.bottomLeft.queryRect(t48)), Vc(e6, this.bottomRight.queryRect(t48))), e6) : [];
  }
  queryPoint(t48) {
    let e6 = [];
    return this.boundary.intersectsPoint(t48) ? (e6.push(...this.objects), this.divided && (Vc(e6, this.topLeft.queryPoint(t48)), Vc(e6, this.topRight.queryPoint(t48)), Vc(e6, this.bottomLeft.queryPoint(t48)), Vc(e6, this.bottomRight.queryPoint(t48))), e6) : [];
  }
  insert(t48) {
    return !!this.boundary.contains(t48) && (this.objects.length < this.capacity ? (this.objects.push(t48), true) : (this.divided || this.subdivide(), false === (this.topLeft.insert(t48) || this.topRight.insert(t48) || this.bottomLeft.insert(t48) || this.bottomRight.insert(t48)) && this.objects.push(t48), true));
  }
  drawObjects(t48) {
    this.objects.forEach((e6) => e6.draw(t48)), this.divided && (this.topLeft.drawObjects(t48), this.topRight.drawObjects(t48), this.bottomLeft.drawObjects(t48), this.bottomRight.drawObjects(t48));
  }
  draw(t48) {
    t48.rect(this.boundary.x, this.boundary.y, this.boundary.w, this.boundary.h), this.divided && (this.topLeft.draw(t48), this.topRight.draw(t48), this.bottomLeft.draw(t48), this.bottomRight.draw(t48)), t48.strokeStyle = "black", t48.lineWidth = 4, t48.stroke();
  }
};
q(id, "QuadTree");
var F2 = id;
var j8 = false;
var b_e = false;
var __e = false;
var Q3 = 10 * devicePixelRatio;
var K3 = 100;
var MN = "LOW_PRIORITY";
var Q8 = class extends Vp {
  get strategies() {
    let t48 = q(() => {
    }, "noop");
    return [{ name: "left", getBoundingBox: q((t49) => [0, t49.totalHeight, -Q3, 5], "leftBoundingBox"), onStrategySelected: t48 }, { name: "top", getBoundingBox: q((t49) => [-Q3, 5, 0, t49.totalWidth], "topBoundingBox"), onStrategySelected: t48 }, { name: "right", getBoundingBox: q((t49) => [0, t49.totalHeight, t49.totalWidth - 5, t49.totalWidth + Q3], "rightBoundingBox"), onStrategySelected: t48 }, { name: "bottom", getBoundingBox: q((t49) => [t49.totalHeight - 5, t49.totalHeight + Q3, 0, t49.totalWidth], "bottomBoundingBox"), onStrategySelected: t48 }];
  }
};
q(Q8, "OffscreenCollider");
var ji;
var rd;
var J3;
var $3;
var Jg;
var sd;
var W8 = Q8;
var QZ = q((t48, e6) => e6.length ? (e6.splice(Y8(t48, e6), 0, t48), e6) : (e6.push(t48), e6), "insertOne");
var KZ = q((t48, e6) => (e6.length && e6.splice(e6.indexOf(t48), 1), e6), "removeOne");
var Y8 = q((t48, e6, i, n) => {
  let r = i || 0, o3 = n || e6.length, s6 = Math.floor(r + (o3 - r) / 2);
  return e6[s6].rank === t48.rank ? s6 : o3 - r <= 1 ? e6[s6].rank < t48.rank ? s6 : s6 + 1 : e6[s6].rank > t48.rank ? Y8(t48, e6, s6, n) : Y8(t48, e6, i, s6);
}, "locationOf");
var K8 = class {
  constructor(t48) {
    v(this, "colliderCanvas"), v(this, "debugCanvas"), v(this, "colliderCanvasContext"), v(this, "debugCanvasContext"), v(this, "collisionEngineContainerEl"), v(this, "stepsX"), v(this, "stepsY"), v(this, "totalWidth"), v(this, "totalHeight"), v(this, "project"), v(this, "colliders", /* @__PURE__ */ new Map()), v(this, "offscreenRanges", []), w(this, ji, {}), w(this, rd, false), v(this, "initialized", false), v(this, "core"), v(this, "screen"), v(this, "debouncedUpdate"), v(this, "updateStartEvents"), v(this, "updateEndEvents"), v(this, "init", q((t49, e10) => {
      this.project = e10, t49.appendChild(this.collisionEngineContainerEl), t49.appendChild(this.colliderCanvas), this.totalWidth = t49.clientWidth, this.totalHeight = t49.clientHeight, this.screen = new Ra(0, 0, this.totalWidth, this.totalHeight), this.colliderCanvas.width = this.totalWidth * devicePixelRatio, this.colliderCanvas.height = this.totalHeight * devicePixelRatio, this.colliderCanvas.style.width = this.totalWidth + "px", this.colliderCanvas.style.height = this.totalHeight + "px", j8 && (this.debugCanvasContext = this.debugCanvas.getContext("2d"), t49.appendChild(this.debugCanvas), this.debugCanvas.width = this.totalWidth, this.debugCanvas.height = this.totalHeight, this.debugCanvas.style.width = this.totalWidth + "px", this.debugCanvas.style.height = this.totalHeight + "px", this.debugCanvas.style.opacity = "0.4");
      let i10 = new W8({ rank: 999 });
      this.offscreenRanges = i10.strategies.map(({ getBoundingBox: t50 }) => t50({ x: 0, y: 0, totalHeight: this.totalHeight, totalWidth: this.totalWidth }).map((t51) => Math.round(t51))), this.initialized = true, o(this, rd) || (o(this, J3).call(this), p(this, rd, true)), o(this, sd).call(this);
    }, "init")), v(this, "handleBeginUpdate", q((t49) => {
      if (false === this.updateStartEvents[t49.type])
        this.beginUpdate();
      else if (null != t49.message) {
        let { zooming: e10, rotating: i10, tilting: n } = t49.message;
        (e10 || i10 || n) && this.beginUpdate();
      }
    }, "handleBeginUpdate")), v(this, "handleEndUpdate", q((t49) => {
      if (false === this.updateEndEvents[t49.type])
        this.update();
      else if (null != t49.message) {
        let { zooming: e10, rotating: i10, tilting: n } = t49.message;
        (e10 || i10 || n) && this.update();
      }
    }, "handleEndUpdate")), w(this, J3, q(() => {
      p(this, rd, true);
      for (let t49 in this.updateStartEvents)
        this.core.controls.dispatcher.addEventListener(t49, this.handleBeginUpdate);
      for (let t49 in this.updateEndEvents)
        this.core.controls.dispatcher.addEventListener(t49, this.handleEndUpdate);
      this.core.on(6, o(this, Jg)), this.core.on(7, o(this, sd)), this.core.on(8, o(this, Jg)), this.core.on(32, o(this, sd));
    }, "#addListeners")), w(this, $3, q(() => {
      for (let t49 in this.updateStartEvents)
        this.core.controls.dispatcher.removeEventListener(t49, this.handleBeginUpdate);
      for (let t49 in this.updateEndEvents)
        this.core.controls.dispatcher.removeEventListener(t49, this.handleEndUpdate);
      this.core.off(6, o(this, Jg)), this.core.off(7, o(this, sd)), p(this, rd, false);
    }, "#removeListeners")), w(this, Jg, q(() => {
      let t49 = this.core.visibleMapsInCurrentScene.map((t50) => t50.id) || [];
      this.colliders.forEach((t50) => {
        t50.disable(false);
      }), t49.forEach((t50) => {
        null != o(this, ji)[t50] && (o(this, ji)[t50].needsSort = true);
      }), this.update();
    }, "#onSetSceneStart")), w(this, sd, q(() => {
      let t49 = this.core.visibleMapsInCurrentScene.map((t50) => t50.id) || [];
      this.colliders.forEach((e10) => {
        var i10;
        (t49.includes(e10.mapId) || JZ(e10, null == (i10 = this.core.options) ? void 0 : i10.dynamicFocus)) && e10.enable(false);
      }), t49.forEach((t50) => {
        null != o(this, ji)[t50] && (o(this, ji)[t50].needsSort = true);
      }), this.update();
    }, "#onSetSceneEnd")), v(this, "qtree"), v(this, "interactiveCollidersQTree"), v(this, "recompute", q(() => {
      if (!this.initialized)
        return;
      let t49, e10, i10, [n, r, o3, s6] = [1 / 0, 1 / 0, -1 / 0, -1 / 0], a = this.offscreenRanges.map((t50) => {
        let e11 = t50[3] - t50[2], i11 = t50[1] - t50[0];
        return n = Math.min(n, t50[2]), o3 = Math.max(o3, t50[3]), r = Math.min(r, t50[0]), s6 = Math.max(s6, t50[1]), new Ra(Math.round(t50[2] * devicePixelRatio), Math.round(t50[0] * devicePixelRatio), Math.round(e11 * devicePixelRatio), Math.round(i11 * devicePixelRatio));
      }), l = this.sortedColliders;
      for (let a3 of l)
        t49 = a3.position, e10 = a3.mapId, a3.getBoundingBoxForCurrentStrategy = void 0, a3.enabled && (i10 = this.project(t49, e10), "function" == typeof a3.colliderDidUpdatePosition && a3.colliderDidUpdatePosition([i10.x, i10.y]), a3._bboxes = a3.strategies.map(({ name: t50, getBoundingBox: e11, onStrategySelected: l3 }) => {
          let u3 = e11({ x: i10.x, y: i10.y }), h2 = u3[3] - u3[2], c2 = u3[1] - u3[0];
          return n = Math.min(n, u3[2]), o3 = Math.max(o3, u3[3]), r = Math.min(r, u3[0]), s6 = Math.max(s6, u3[1]), null == a3._bboxes && (a3._bboxes = []), [t50, new Ra(Math.round(u3[2] * devicePixelRatio), Math.round(u3[0] * devicePixelRatio), Math.round(h2 * devicePixelRatio), Math.round(c2 * devicePixelRatio), { collider: a3 }), l3, e11];
        }));
      let u2, h = new Ra(Math.round(n * devicePixelRatio) - K3, Math.round(r * devicePixelRatio) - K3, Math.round(o3 * devicePixelRatio - n * devicePixelRatio) + 2 * K3, Math.round(s6 * devicePixelRatio - r * devicePixelRatio) + 2 * K3);
      this.qtree = new F2(h), a.forEach((t50) => {
        this.qtree.insert(t50);
      });
      for (let t50 = 0; t50 < l.length; t50++) {
        let e11 = false;
        if (u2 = l[t50], null == u2._bboxes || !u2.enabled)
          continue;
        let i11, [n10, r6] = [1 / 0, null];
        for (let [, t51, o6, s10] of u2._bboxes) {
          let l3 = this.qtree.queryRect(t51).filter((e12) => t51.intersects(e12));
          if (i11 = l3.every((t52) => a.includes(t52)), (l3.length <= n10 || i11) && (r6 = [t51, o6, s10]), 0 === l3.length) {
            this.qtree.insert(t51), u2.getBoundingBoxForCurrentStrategy = s10, e11 = true, u2.setAction(1), o6(u2);
            break;
          }
        }
        if (4 === u2.rank && null != r6) {
          let [t51, i12, n11] = r6;
          this.qtree.insert(t51), u2.getBoundingBoxForCurrentStrategy = n11, e11 = true, u2.setAction(1), i12(u2);
        }
        if (!e11 && null != r6 && i11) {
          let [t51, e12, i12] = r6;
          this.qtree.insert(t51), u2.setAction(1), e12(u2);
        } else
          !e11 && "function" == typeof u2.colliderDidNotFindAHome && u2.colliderDidNotFindAHome();
        "function" == typeof u2.colliderDidUpdateVisiblity && u2.colliderDidUpdateVisiblity();
      }
      this.draw(), this.colliderCanvas.classList.remove("interacting");
    }, "recompute")), v(this, "draw", q(() => {
      let t49 = this.sortedColliders;
      this.colliderCanvasContext.clearRect(0, 0, this.totalWidth * devicePixelRatio, this.totalHeight * devicePixelRatio);
      for (let e10 of t49)
        e10.offscreen || e10 instanceof Xo && e10.draw(this.colliderCanvasContext);
      j8 && this.qtree && (this.colliderCanvasContext.beginPath(), __e && this.qtree.draw(this.colliderCanvasContext), this.qtree.drawObjects(this.colliderCanvasContext)), b_e && null != this.interactiveCollidersQTree && this.interactiveCollidersQTree.drawObjects(this.colliderCanvasContext);
    }, "draw")), v(this, "reposition", q(() => {
      var t49;
      if (!this.initialized)
        return;
      this.interactiveCollidersQTree = new F2(new Ra(0, 0, this.totalWidth * devicePixelRatio, this.totalHeight * devicePixelRatio));
      let e10, i10, n, r = this.sortedColliders;
      for (let o3 of r)
        if (e10 = o3.position, i10 = o3.mapId, n = this.project(e10, i10), o3.enabled) {
          if ("function" == typeof o3.getBoundingBoxForCurrentStrategy) {
            let [e11, i11, r6, s6] = o3.getBoundingBoxForCurrentStrategy({ x: n.x, y: n.y });
            w_e(o3) && null != (t49 = o3.options) && t49.interactive && this.interactiveCollidersQTree.insert(new Ra(r6 * devicePixelRatio, e11 * devicePixelRatio, (s6 - r6) * devicePixelRatio, (i11 - e11) * devicePixelRatio, { collider: o3 })), V8(this.screen, { x: r6, y: e11, w: s6 - r6, h: i11 - e11 }) ? o3.offscreen = false : o3.offscreen = true;
          }
          "function" == typeof o3.colliderDidUpdatePosition && o3.colliderDidUpdatePosition([n.x, n.y]);
        }
      this.draw();
    }, "reposition")), v(this, "add", q((t49, e10) => {
      e10.__engine = this, "function" == typeof e10.colliderDidMount && e10.colliderDidMount(), this.colliders.set(t49, e10), null == o(this, ji)[e10.mapId] && (o(this, ji)[e10.mapId] = { needsSort: false, colliders: [] }), QZ(e10, o(this, ji)[e10.mapId].colliders);
    }, "add")), v(this, "remove", q((t49) => {
      let e10 = this.colliders.get(t49);
      null != e10 && (e10.disable(), e10.__engine = void 0, this.colliders.delete(t49), KZ(e10, o(this, ji)[e10.mapId].colliders));
    }, "remove")), v(this, "updateMap", q((t49, e10, i10) => {
      let n = this.colliders.get(t49);
      if (null == n)
        return;
      n.mapId = i10, KZ(n, o(this, ji)[e10].colliders), null == o(this, ji)[i10] && (o(this, ji)[i10] = { needsSort: false, colliders: [] }), QZ(n, o(this, ji)[i10].colliders);
      let r = this.core.visibleMapsInCurrentScene.map((t50) => t50.id) || [];
      r.includes(e10) && n.disable(), r.includes(i10) && n.enable();
    }, "updateMap")), v(this, "update", q(() => {
      this.initialized && ((this.core.visibleMapsInCurrentScene.map((t49) => t49.id) || []).forEach((t49) => {
        o(this, ji)[t49] && (o(this, ji)[t49].needsSort = true);
      }), this.recompute(), this.reposition());
    }, "update")), v(this, "resize", q((t49) => {
      this.initialized && (o(this, $3).call(this), this.init(t49, this.project), this.update());
    }, "resize")), v(this, "destroy", q(() => {
      for (let t49 of Array.from(this.colliders.values()))
        this.remove(t49.id);
    }, "destroy")), this.core = t48, this.colliderCanvas = document.createElement("canvas"), this.collisionEngineContainerEl = document.createElement("div"), j8 && (this.debugCanvas = document.createElement("canvas"), this.debugCanvas.classList.add("mappedin__smart-collision-engine-debug__container")), this.colliderCanvas.classList.add("mappedin__smart-collision-engine-debug__container"), this.collisionEngineContainerEl.classList.add("mappedin__smart-collision-engine__container"), this.colliderCanvasContext = this.colliderCanvas.getContext("2d");
    let { INTERACTION_EVENTS: e6, CAMERA_EVENTS: i } = this.core.controls;
    this.updateStartEvents = { [e6.USER_DOLLY_START_EVENT.type]: false, [i.ROTATE_START_EVENT.type]: false, [i.ZOOM_START_EVENT.type]: false, [e6.USER_TILT_START_EVENT.type]: false, [i.MULTI_START_EVENT.type]: true, [i.PEDESTAL_START_EVENT.type]: false }, this.updateEndEvents = { [e6.USER_DOLLY_END_EVENT.type]: false, [i.ROTATE_END_EVENT.type]: false, [i.ZOOM_END_EVENT.type]: false, [e6.USER_TILT_END_EVENT.type]: false, [i.MULTI_END_EVENT.type]: true, [i.MULTI_CANCEL_EVENT.type]: true, [i.PEDESTAL_END_EVENT.type]: false }, this.debouncedUpdate = Da(() => {
      this.update();
    }, 10, true);
  }
  get sortedColliders() {
    return this.initialized ? this.core.visibleMapsInCurrentScene.flatMap((t48) => {
      var e6;
      return o(this, ji)[t48.id] && (null == (e6 = o(this, ji)[t48.id].colliders) ? void 0 : e6.length) > 0 && false === o(this, ji)[t48.id].needsSort || (null == o(this, ji)[t48.id] && (o(this, ji)[t48.id] = { needsSort: true, colliders: [] }), o(this, ji)[t48.id].colliders = Array.from(this.colliders.values()).filter((e10) => {
        var i;
        return M_e(e10, t48.id, null == (i = this.core.options) ? void 0 : i.dynamicFocus, this.core.visibleLayersInCurrentScene);
      }).sort((t49, e10) => e10.rank - t49.rank), o(this, ji)[t48.id].needsSort = false), o(this, ji)[t48.id].colliders;
    }) : [];
  }
  beginUpdate() {
    this.colliderCanvas.classList.add("interacting");
  }
};
ji = /* @__PURE__ */ new WeakMap(), rd = /* @__PURE__ */ new WeakMap(), J3 = /* @__PURE__ */ new WeakMap(), $3 = /* @__PURE__ */ new WeakMap(), Jg = /* @__PURE__ */ new WeakMap(), sd = /* @__PURE__ */ new WeakMap(), q(K8, "SmartCollisionEngine");
var X8 = K8;
function w_e(t48) {
  return t48 instanceof Xo || t48 instanceof of || t48 instanceof Wp;
}
function M_e(t48, e6, i, n) {
  var r;
  return !!(JZ(t48, i) || "" !== t48.layer && null != (r = n[t48.mapId]) && r.includes(t48.layer) && t48.mapId === e6) || t48.mapId === e6;
}
function JZ(t48, e6) {
  var i, n;
  let r = null != (i = null == e6 ? void 0 : e6.keepLayersActiveOnBaseMap) ? i : [];
  return (null == (n = null == e6 ? void 0 : e6.baseMap) ? void 0 : n.id) === t48.mapId && r.length > 0 && r.includes(t48.layer);
}
q(w_e, "isCollider"), q(M_e, "isColliderVisible"), q(JZ, "shouldKeepActiveOnBaseMap");
var Z8 = X8;
c();
var e7 = class {
  constructor(t48) {
    v(this, "orbit"), v(this, "billboards", /* @__PURE__ */ new Map()), this.orbit = t48;
  }
  add(t48, e6 = "Z") {
    this.billboards.set(t48.uuid, [t48, e6]);
  }
  remove(t48) {
    this.billboards.delete(t48.uuid);
  }
  update() {
    for (let [t48, e6] of this.billboards.values())
      e6.includes("Z") && (t48.rotation.z = this.orbit.rotation.z);
  }
  destroy() {
    this.billboards.clear();
  }
};
q(e7, "BillboardManager");
var J8 = e7;
var $8 = J8;
c();
var nQ = u(Kx());
c();
var Xl;
var E_e = "white";
var $Z = q((t48 = 1) => '<div style="width: '.concat(32 * t48, "px; height: ").concat(32 * t48, 'px;">').concat(Jc.get("journey-departure"), "<div>"), "generateDepartureMarker");
var eQ = q((t48 = 1) => '<div style="width: '.concat(32 * t48, "px; height: ").concat(32 * t48, 'px;">').concat(Jc.get("journey-destination"), "</div>"), "generateDestinationMarker");
var T_e = q((t48) => {
  let e6 = null == t48.direction ? t48.type : "".concat(t48.type, "-").concat(t48.direction);
  return '<div style="width: 40px;\n            height: 40px;\n			cursor: pointer;\n            border-radius: 50%;\n			background: green;\n			display: flex;\n			align-items: center;\n			justify-content: center;">\n          <svg\n            height="16"\n            viewBox="0 0 36 36"\n            width="16"\n          >\n            <g fill="'.concat(E_e, '">\n              ').concat(Jc.get(e6), "\n            </g>\n          </svg><div>");
}, "defaultConnectionFn");
var n7 = class {
  constructor(t48, e6 = T_e, i) {
    var n, r;
    v(this, "tooltip"), v(this, "mapId"), v(this, "toMapId"), w(this, Xl, void 0), v(this, "handleClick", q((t49) => {
      0 !== t49.tooltips.length && t49.tooltips.find((t50) => {
        var e10;
        return t50.id === (null == (e10 = this.tooltip) ? void 0 : e10.id);
      }) && ("OVERVIEW" === o(this, Xl).stackedMaps.currentState ? o(this, Xl).setMapWithReason(this.mapId, "journey-connection-click") : o(this, Xl).setMapWithReason(this.toMapId, "journey-connection-click"));
    }, "handleClick")), v(this, "determineDirection", q(() => {
      var t49, e10, i10, n10;
      let { mapObjects: r6 } = o(this, Xl), o6 = null != (e10 = null == (t49 = r6.get(this.mapId)) ? void 0 : t49.mapClass.elevation) ? e10 : 0, s10 = null != (n10 = null == (i10 = r6.get(this.toMapId)) ? void 0 : i10.mapClass.elevation) ? n10 : 0;
      if (o6 !== s10)
        return o6 < s10 ? "up" : "down";
    }, "determineDirection")), this.mapId = t48.node.map.id, this.toMapId = "TakeVortex" === (null == (n = t48.action) ? void 0 : n.type) ? t48.action.toMap.id : t48.action.fromMap.id, p(this, Xl, i);
    let o3 = t48.atLocation.type, s6 = this.determineDirection(), a = e6({ type: o3, direction: s6, toMapName: t48.action.toMap.name, icon: Jc.get(null == s6 ? o3 : "".concat(o3, "-").concat(s6)), isEntering: "TakeVortex" === (null == (r = t48.action) ? void 0 : r.type) });
    this.tooltip = i.tooltips.createTooltip(t48.node, a, { collisionRank: 4, padding: 0, defaultAnchorType: "top", interactive: true }), o(this, Xl).on(16, this.handleClick), this.tooltip.updateDimensions();
  }
  destroy() {
    o(this, Xl).off(16, this.handleClick), o(this, Xl).tooltips.removeTooltip(this.tooltip), this.tooltip = null;
  }
};
Xl = /* @__PURE__ */ new WeakMap(), q(n7, "Connection");
var eS;
var Ni;
var Ba;
var $g;
var nr;
var mf;
var od;
var ih;
var gf;
var U2;
var tS;
var ad;
var z2;
var G2;
var t72 = n7;
var S_e = { displayArrowsOnPath: true, nearRadius: 1.8, farRadius: 5.4, color: "#ff834c", flattenPath: true };
var A_e = { color: "#f5c7b3", displayArrowsOnPath: false, flattenPath: true, nearRadius: 1.6, farRadius: 4.8, showPulse: false, animateDrawing: false };
var C_e = { displayArrowsOnPath: true, nearRadius: 1.8, farRadius: 5.4, color: "#ff834c", flattenPath: true };
var tQ = 3;
var Nu = class t46 {
  constructor(t48, e6 = {}, i) {
    var n, r;
    v(this, "distance", 0), v(this, "accessible", false), w(this, eS, {}), w(this, Ni, void 0), v(this, "activeDirections"), w(this, Ba, void 0), w(this, $g, void 0), w(this, nr, {}), w(this, mf, []), w(this, od, void 0), w(this, ih, []), w(this, gf, /* @__PURE__ */ new Map()), v(this, "setStep", q((t49) => {
      t49 !== o(this, $g) && (o(this, Ba).length < 2 || t49 < 0 || t49 > o(this, Ba).length || (o(this, G2).call(this), o(this, z2).call(this), p(this, $g, t49), this.activeDirections = o(this, Ba)[t49], o(this, Ni).currentPath = this.activeDirections.path, o(this, ad).call(this), o(this, U2).call(this)));
    }, "setStep")), v(this, "setStepByPath", q((t49) => {
      let e10 = o(this, gf).get(t49);
      if (null == e10)
        return void Le.warn("Cannot set step. Path is not part of journey.");
      let i10 = o(this, Ba).indexOf(e10);
      i10 < 0 ? Le.warn("There was a problem setting this step of the journey.") : this.setStep(i10);
    }, "setStepByPath")), w(this, U2, q(() => {
      let t49 = this.activeDirections.path[this.activeDirections.path.length - 1], e10 = this.activeDirections.path[0];
      "string" == typeof o(this, nr).polygonHighlightColor && (e10.locations.forEach((t50) => {
        t50.polygons.forEach((t51) => {
          o(this, Ni).polygonColors.setPolygonColor(t51, o(this, nr).polygonHighlightColor);
        });
      }), t49.locations.forEach((t50) => {
        t50.polygons.forEach((t51) => {
          o(this, Ni).polygonColors.setPolygonColor(t51, o(this, nr).polygonHighlightColor);
        });
      }));
      let i10 = (o(this, Ba) || [this.activeDirections]).map((t50) => t50.path[t50.path.length - 1]);
      null == i10 || i10.forEach((t50) => {
        let e11 = eQ(o(this, nr).scale);
        "function" == typeof o(this, nr).destinationMarkerTemplate && (o(this, ih) || p(this, ih, []), o(this, ih).push(o(this, Ni).markers.add(t50, o(this, nr).destinationMarkerTemplate({ icon: e11, location: t50.locations[0] }), { rank: 4, anchor: 1 })));
      });
      let n10 = $Z(o(this, nr).scale);
      "function" == typeof o(this, nr).departureMarkerTemplate && p(this, od, o(this, Ni).markers.add(e10, o(this, nr).departureMarkerTemplate({ icon: n10 }), { rank: 4, anchor: 1 })), o(this, Ni).tryRendering();
    }, "#updateForJourneyStartOrStepChange")), w(this, tS, q(() => {
      if (0 === o(this, gf).size) {
        o(this, Ba).forEach((t50) => {
          if (t50 !== this.activeDirections) {
            let e10 = o(this, Ni).paths.drawPath(t50.path, { ...o(this, nr).inactivePathOptions });
            o(this, gf).set(e10, t50);
          }
        });
        let t49 = o(this, Ni).paths.drawPath(this.activeDirections.path, { ...o(this, nr).pathOptions });
        o(this, gf).set(t49, this.activeDirections);
      } else {
        let t49 = this.isMultiFloor;
        o(this, gf).forEach((e10, i10) => {
          o(this, Ni).paths.redrawPath(i10, e10 === this.activeDirections ? { ...o(this, nr).pathOptions, drawConnectionSegments: t49, connectionPathOptions: o(this, nr).connectionPathOptions } : { ...o(this, nr).inactivePathOptions, drawConnectionSegments: t49, connectionPathOptions: o(this, nr).connectionPathOptions });
        });
      }
    }, "#redrawAllPaths")), w(this, ad, q(() => {
      this.isMultiFloor && (o(this, mf).forEach((t49) => t49.destroy()), p(this, mf, []), p(this, mf, this.activeDirections.instructions.filter((t49) => {
        var e10, i10;
        return "TakeVortex" === (null == (e10 = t49.action) ? void 0 : e10.type) || "ExitVortex" === (null == (i10 = t49.action) ? void 0 : i10.type);
      }).map((t49) => new t72(t49, o(this, nr).connectionTemplate, o(this, Ni))).filter((t49) => t49))), o(this, tS).call(this), o(this, Ni).tryRendering();
    }, "#updateForMapChange")), w(this, z2, q(() => {
      if (false !== o(this, nr).polygonHighlightColor) {
        let t49 = this.activeDirections.path[this.activeDirections.path.length - 1];
        this.activeDirections.path[0].locations.forEach((t50) => {
          t50.polygons.forEach((t51) => {
            o(this, Ni).polygonColors.clearPolygonColor(t51.id);
          });
        }), t49.locations.forEach((t50) => {
          t50.polygons.forEach((t51) => {
            o(this, Ni).polygonColors.clearPolygonColor(t51.id);
          });
        });
      }
    }, "#unhighlightPolygons")), w(this, G2, q(() => {
      o(this, ih).length && o(this, ih).forEach((t49) => {
        o(this, Ni).markers.remove(t49);
      }), p(this, ih, []), null != o(this, od) && o(this, Ni).markers.remove(o(this, od)), p(this, od, void 0), o(this, mf).forEach((t49) => t49.destroy()), p(this, mf, []);
    }, "#removeAllMarkers")), p(this, Ni, i), p(this, nr, { scale: 1, polygonHighlightColor: "#7babc8", destinationMarkerTemplate: () => eQ(), departureMarkerTemplate: () => $Z(), ...e6, pathOptions: { ...S_e, ...null == e6 ? void 0 : e6.pathOptions }, inactivePathOptions: { ...A_e, ...null == e6 ? void 0 : e6.inactivePathOptions }, connectionPathOptions: { ...C_e, ...null == e6 ? void 0 : e6.connectionPathOptions } }), null != (n = null == e6 ? void 0 : e6.pathOptions) && n.farRadius || (o(this, nr).pathOptions.farRadius = o(this, nr).pathOptions.nearRadius * tQ), null != (r = null == e6 ? void 0 : e6.inactivePathOptions) && r.farRadius || (o(this, nr).inactivePathOptions.farRadius = o(this, nr).inactivePathOptions.nearRadius * tQ), Array.isArray(t48) ? (p(this, Ba, t48), this.activeDirections = o(this, Ba)[0], p(this, $g, 0), o(this, Ni).currentPath = t48[0].path) : (p(this, Ba, [t48]), this.activeDirections = t48, o(this, Ni).currentPath = t48.path), p(this, Ni, i), o(this, Ni).on(7, o(this, ad)), o(this, ad).call(this), o(this, U2).call(this);
  }
  get isMultiFloor() {
    return this.mapIdsInvolvedInJourney.length > 1;
  }
  get mapsInJourney() {
    return this.mapIdsInvolvedInJourney.map((t48) => {
      var e6;
      return null == (e6 = o(this, Ni).mapObjects.get(t48)) ? void 0 : e6.mapClass;
    });
  }
  get buildingsInJourney() {
    return this.mapsInJourney.reduce((t48, e6) => (e6 && null !== e6.mapGroup && (t48[e6.mapGroup.id] || (t48[e6.mapGroup.id] = []), t48[e6.mapGroup.id].push(e6)), t48), {});
  }
  get mapIdsInvolvedInJourney() {
    let t48 = {};
    o(this, Ba).forEach((e10) => {
      e10.path.forEach((e11) => t48[e11.map.id] = true);
    });
    let e6 = Object.keys(t48);
    return o(this, eS).mapsInvolvedInJourney = e6, e6;
  }
  static create(e6, i, n) {
    return null != t46.instance && t46.instance.destroy(), t46.instance = new t46(e6, i, n), n.publish(29), t46.instance;
  }
  destroy() {
    o(this, z2).call(this), o(this, G2).call(this), o(this, Ni).paths.removeAllPaths(), o(this, Ni).currentPath = void 0, o(this, Ni).off(7, o(this, ad)), o(this, Ni).publish(30), t46.instance = null;
  }
};
eS = /* @__PURE__ */ new WeakMap(), Ni = /* @__PURE__ */ new WeakMap(), Ba = /* @__PURE__ */ new WeakMap(), $g = /* @__PURE__ */ new WeakMap(), nr = /* @__PURE__ */ new WeakMap(), mf = /* @__PURE__ */ new WeakMap(), od = /* @__PURE__ */ new WeakMap(), ih = /* @__PURE__ */ new WeakMap(), gf = /* @__PURE__ */ new WeakMap(), U2 = /* @__PURE__ */ new WeakMap(), tS = /* @__PURE__ */ new WeakMap(), ad = /* @__PURE__ */ new WeakMap(), z2 = /* @__PURE__ */ new WeakMap(), G2 = /* @__PURE__ */ new WeakMap(), q(Nu, "JourneyController"), v(Nu, "instance", null);
var Wt;
var Ko = Nu;
var s7 = class {
  constructor(t48) {
    var e6, i;
    w(this, Wt, void 0), v(this, "options", {}), v(this, "enabled", false), v(this, "stackScene"), v(this, "directions"), v(this, "hasOutdoorGeometry", false), v(this, "needsUpdate", false), v(this, "currentState", "INACTIVE"), v(this, "mapsInJourney", []), v(this, "getZoomIntoMapOptions", q((t49) => {
      if ("map" in t49 && "nodes" in t49 && "rotation" in t49) {
        let { map: e10, nodes: i10, rotation: n10 } = t49;
        return [new Zc([e10], o(this, Wt)), { activeMap: e10, focusOn: { targets: { nodes: i10 }, options: { tilt: 0.7, rotation: n10, easing: "ease-in-out", ...t49.cameraTransform } } }];
      }
    }, "getZoomIntoMapOptions")), v(this, "getDisableOptions", q((t49) => {
      if ("map" in t49)
        return [new Zc([t49.map], o(this, Wt)), { activeMap: t49.map }];
    }, "getDisableOptions")), v(this, "getShowOverviewOptions", q((t49) => {
      var e10;
      if ("stackScene" in t49)
        return [t49.stackScene, { activeMap: t49.stackScene.currentMap, focusOn: { options: { tilt: 1.2, duration: 500 } }, verticalDistanceBetweenMaps: null == (e10 = this.options) ? void 0 : e10.verticalDistanceBetweenMaps }];
    }, "getShowOverviewOptions")), v(this, "getScrollToMapOptions", q((t49) => {
      if ("stackScene" in t49 && "map" in t49 && "nodes" in t49) {
        let { stackScene: e10, map: i10, nodes: n10 } = t49;
        return [e10, { focusOn: { targets: { nodes: n10 }, options: { tilt: 0.7, easing: "ease-in-out" } }, activeMap: i10 }];
      }
    }, "getScrollToMapOptions")), v(this, "getEnableOptions", q((t49) => {
      "directions" in t49 && (this.directions = t49.directions, this.stackScene = new l2(this.mapsInJourney, o(this, Wt)));
    }, "getEnableOptions")), v(this, "getShowOverviewTransition", q((t49, e10 = false) => {
      var i10;
      let [n10, r] = t49, o3 = null == (i10 = o(this, Wt).sceneManager) ? void 0 : i10.currentScene, s6 = n10;
      return async () => {
        o(this, Wt).publish(6), await o(this, Wt).tileManager.fadeOut(), await s6.prepare(o(this, Wt).sceneManager, r);
        let t50 = s6.mapObjects.get(s6.currentMap.id);
        t50.object.position.z = s6.computeMapZ(t50, s6.mapObjectsArray.indexOf(t50), r), o3 && (null == o3 || o3.mapObjectsArray.forEach((t51) => {
          t51.onInvisible();
        })), s6.mapObjectsArray.forEach((t51) => {
          t51.onInvisible();
        }), o(this, Wt).controls.setPedestal(t50.object.position.z), o(this, Wt).scene.add(s6.object), s6.object.add(t50.object), this.hasOutdoorGeometry && await Promise.all(s6.mapObjectsArray.map((t51) => t51.fadeOut("outdoor-geometry"))), r.animate ? await Promise.all([o(this, Wt).tileManager.fadeOut()]) : s6.mapObjectsArray.forEach((t51, e11) => {
          t51.object.position.z = s6.computeMapZ(t51, e11, r), s6.object.add(t51.object);
        }), s6.createStackBoundingBox(), s6.resize(), r.animate ? (await s6.focusOnStackBox({ ...r, autoFocusOnActiveMap: true }), await s6.expandMaps(s6.mapObjectsArray, r).start()) : await Promise.all([s6.focusOnStackBox({ ...r, autoFocusOnActiveMap: true }), ...s6.mapObjectsArray.map((t51) => t51.fadeIn("default").start()), ...this.hasOutdoorGeometry ? s6.mapObjectsArray.map((t51) => t51.fadeOut("outdoor-geometry").start()) : []]), e10 || s6.mapObjectsArray.forEach((t51) => {
          t51.onVisible();
        }), s6.postRender(), s6.lockControls(), o(this, Wt).scene.remove(o3.object), e10 || o(this, Wt).publish(7);
      };
    }, "getShowOverviewTransition")), v(this, "getZoomInToMapTransition", q((t49) => {
      var e10;
      let [i10, n10] = t49, r = null == (e10 = o(this, Wt).sceneManager) ? void 0 : e10.currentScene;
      return async () => {
        var t50, e11;
        o(this, Wt).publish(6);
        let o3 = i10.mapObjects.get(n10.activeMap.id), s6 = o3.object.position.z;
        await i10.prepare(o(this, Wt).sceneManager, n10), o3.object.position.z = s6, o(this, Wt).paths.hideConnectionSegments(), r.destroyLabels(), i10.mapObjects.forEach((t51) => {
          i10.object.add(null == t51 ? void 0 : t51.object), t51.onInvisible();
        }), r && (null == r || r.mapObjectsArray.forEach((t51) => {
          t51.onInvisible();
        })), o(this, Wt).scene.add(i10.object), await Promise.all([o3.fadeIn().start(), i10.focusOnCurrentMap({ ...n10, autoFocusOnActiveMap: true }), ...r.mapObjectsArray.filter((t51) => t51 !== o3).map((t51) => t51.fadeOut().start())]), i10.mapObjectsArray.forEach((t51) => {
          t51.onVisible();
        }), null != (t50 = o(this, Wt).outdoorViewController) && t50.enabled && (null == (e11 = o(this, Wt).outdoorViewController) || e11.show()), r.unmount(), i10.postRender(), o(this, Wt).scene.remove(r.object), o(this, Wt).publish(7);
      };
    }, "getZoomInToMapTransition")), v(this, "getScrollToMapTransition", q((t49, e10 = false) => {
      var i10;
      let [n10, r] = t49, o3 = null == (i10 = o(this, Wt).sceneManager) ? void 0 : i10.currentScene;
      return async () => {
        o3.currentMap = r.activeMap, await o3.scrollToMap(r.activeMap), e10 || o(this, Wt).publish(7);
      };
    }, "getScrollToMapTransition")), v(this, "getDisableTransition", q((t49) => {
      let [e10, i10] = t49, n10 = o(this, Wt).sceneManager.currentScene;
      return async () => {
        var t50, r, o3;
        let s6 = n10.mapObjects.get(n10.currentMap.id);
        o(this, Wt).publish(6);
        let a = e10.mapObjects.get(i10.activeMap.id);
        n10 instanceof l2 && n10.destroyLabels(), await e10.prepare(o(this, Wt).sceneManager, i10), n10 && (null == n10 || n10.mapObjectsArray.forEach((t51) => {
          t51.onInvisible();
        })), e10.mapObjectsArray.forEach((t51) => {
          t51.onInvisible();
        }), o(this, Wt).scene.add(e10.object), e10.mapObjects.forEach((t51) => {
          e10.object.add(null == t51 ? void 0 : t51.object);
        }), o(this, Wt).paths.hideConnectionSegments(), await Promise.all([n10 instanceof l2 && n10.contractMaps(s6).start(), n10.focusOnCurrentMap({ ...i10, autoFocusOnActiveMap: true })].filter((t51) => t51)), o(this, Wt).scene.remove(n10.object), o(this, Wt).tryRendering(), a.object.position.z = 0, o(this, Wt).controls.setPedestal(0), e10.focusOnCurrentMap({ ...i10, focusOn: { ...i10.focusOn, options: { ...null == (t50 = i10.focusOn) ? void 0 : t50.options, duration: 150 } }, autoFocusOnActiveMap: true }), n10.unmount(), await Promise.all([o(this, Wt).tileManager.fadeIn(), ...e10.mapObjectsArray.map((t51) => t51.fadeIn().start())]), null != (r = o(this, Wt).outdoorViewController) && r.enabled && (null == (o3 = o(this, Wt).outdoorViewController) || o3.show()), e10.mapObjectsArray.forEach((t51) => {
          t51.onVisible();
        }), e10.postRender(), o(this, Wt).publish(7);
      };
    }, "getDisableTransition")), v(this, "getEnableTransition", q(() => () => {
    }, "getEnableTransition")), v(this, "states", { INACTIVE: { actions: { enable: ["ACTIVE", [(t49) => this.getEnableOptions(t49)]] } }, ACTIVE: { actions: { disable: ["INACTIVE", [(t49) => this.getDisableTransition(this.getDisableOptions(t49))]], showOverview: ["OVERVIEW", [(t49) => {
      let e10 = this.getShowOverviewOptions(t49);
      if (null != e10 && "directions" in t49 && "map" in t49) {
        let [i10, n10] = e10;
        return this.getShowOverviewTransition([i10, (0, nQ.default)({}, n10, e10, { activeMap: t49.map, animate: true, focusOn: { options: { tilt: 1.2, duration: 500 } } })]);
      }
      return Promise.reject();
    }]] } }, OVERVIEW: { actions: { disable: ["INACTIVE", [(t49) => this.getDisableTransition(this.getDisableOptions(t49))]], zoomInToMap: ["ZOOMED_IN", [(t49) => this.getScrollToMapTransition(this.getScrollToMapOptions(t49), true), (t49) => this.getZoomInToMapTransition(this.getZoomIntoMapOptions(t49))]], scrollToMap: ["OVERVIEW", [(t49) => this.getScrollToMapTransition(this.getScrollToMapOptions(t49))]] } }, ZOOMED_IN: { actions: { disable: ["INACTIVE", [(t49) => this.getDisableTransition(this.getDisableOptions(t49))]], showOverview: ["OVERVIEW", [(t49) => this.getShowOverviewTransition(this.getShowOverviewOptions(t49))]], zoomInToMap: ["ZOOMED_IN", [(t49) => this.getShowOverviewTransition(this.getShowOverviewOptions(t49), true), (t49) => this.getScrollToMapTransition(this.getScrollToMapOptions(t49), true), (t49) => this.getZoomInToMapTransition(this.getZoomIntoMapOptions(t49))]] } } }), v(this, "disable", q(() => {
      o(this, Wt).setState("explore"), this.options = {};
      let t49 = this.transition(this.currentState, "disable");
      return null != t49 ? (this.enabled = false, this.mapsInJourney = [], this.exec(t49, { map: this.currentMap })) : Promise.reject();
    }, "disable")), v(this, "enable", q((t49) => {
      if (null == Ko.instance)
        return Promise.reject("Can't enable stacked maps without a journey enabled");
      let e10 = this.transition(this.currentState, "enable");
      if (null != e10) {
        this.options = t49 || {}, o(this, Wt).setState("STACKED"), this.enabled = true;
        let i10 = Ko.instance.activeDirections;
        return this.mapsInJourney = Ko.instance.mapsInJourney, this.exec(e10, { directions: i10 });
      }
      return Promise.reject();
    }, "enable")), v(this, "showOverview", q(async () => {
      let t49 = this.transition(this.currentState, "showOverview");
      return this.exec(t49, { map: this.mapsInJourney.includes(this.currentMap) ? this.currentMap : this.mapsInJourney[0], stackScene: this.stackScene, directions: this.directions });
    }, "showOverview")), v(this, "scrollToMap", q((t49) => {
      let e10 = this.transition(this.currentState, "scrollToMap");
      return this.exec(e10, { stackScene: this.stackScene, map: t49, rotation: void 0, nodes: this.nodesInJourney.filter((e11) => e11.map === t49) });
    }, "scrollToMap")), v(this, "zoomInToMap", q((t49, e10) => {
      let i10 = t49 || this.currentMap, n10 = this.nodesInJourney.filter((t50) => t50.map === i10), r = this.transition(this.currentState, "zoomInToMap");
      return this.exec(r, { map: t49, nodes: n10, stackScene: this.stackScene, rotation: o(this, Wt).controls.getRotation(), cameraTransform: e10 });
    }, "zoomInToMap")), p(this, Wt, t48);
    let n = null == (i = null == (e6 = o(this, Wt).options) ? void 0 : e6.loadOptions) ? void 0 : i.outdoorGeometryLayers;
    this.hasOutdoorGeometry = Array.isArray(n) && n.length > 0;
  }
  transition(t48, e6) {
    var i, n;
    let r = null == (i = this.states[t48]) ? void 0 : i.actions[e6], o3 = null != (n = null == r ? void 0 : r[0]) ? n : t48;
    if (null != o3 && null != r)
      return this.currentState = o3, this.needsUpdate = true, r[1];
    this.needsUpdate = false;
  }
  async exec(t48, e6) {
    if (this.needsUpdate && null != t48 && Array.isArray(t48) && t48.filter((t49) => t49).length > 0) {
      for (let i of t48) {
        let t49 = i(e6);
        "function" == typeof t49 && await t49();
      }
      return Promise.resolve();
    }
  }
  get nodesInJourney() {
    return Array.isArray(this.directions) ? this.directions.map((t48) => t48.path).flat() : this.directions.path;
  }
  get currentMap() {
    return o(this, Wt).venue.getCollectionItemById("maps", o(this, Wt).currentMap);
  }
};
Wt = /* @__PURE__ */ new WeakMap(), q(s7, "StackedMapsController");
var i7 = s7;
var r7 = i7;
c();
var zQ = u(iQ());
c(), c(), c();
var P_e = "varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}";
var uQ = "";
var ga = "srgb";
var iS = "srgb-linear";
var I_e = Number(zc.replace(/\D+/g, ""));
var cQ = I_e >= 152;
var O_e = /* @__PURE__ */ new Map([[rl, iS], [ai, ga]]);
var L_e = /* @__PURE__ */ new Map([[iS, rl], [ga, ai]]);
function nS(t48) {
  return null === t48 ? null : cQ ? t48.outputColorSpace : O_e.get(t48.outputEncoding);
}
function e0(t48, e6) {
  null !== t48 && (cQ ? t48.colorSpace = e6 : t48.encoding = L_e.get(e6));
}
q(nS, "getOutputColorSpace"), q(e0, "setTextureColorSpace");
var V2;
var H2;
var j2;
var W2;
var Y2;
var X2;
var Z2;
var on = { SKIP: 9, SET: 30, ADD: 0, ALPHA: 1, AVERAGE: 2, COLOR: 3, COLOR_BURN: 4, COLOR_DODGE: 5, DARKEN: 6, DIFFERENCE: 7, DIVIDE: 8, DST: 9, EXCLUSION: 10, HARD_LIGHT: 11, HARD_MIX: 12, HUE: 13, INVERT: 14, INVERT_RGB: 15, LIGHTEN: 16, LINEAR_BURN: 17, LINEAR_DODGE: 18, LINEAR_LIGHT: 19, LUMINOSITY: 20, MULTIPLY: 21, NEGATION: 22, NORMAL: 23, OVERLAY: 24, PIN_LIGHT: 25, REFLECT: 26, SATURATION: 27, SCREEN: 28, SOFT_LIGHT: 29, SRC: 30, SUBTRACT: 31, VIVID_LIGHT: 32 };
var hQ = { DEPTH: 0, LUMA: 1, COLOR: 2 };
var sh = { NONE: 0, DEPTH: 1, CONVOLUTION: 2 };
var xi = { FRAGMENT_HEAD: "FRAGMENT_HEAD", FRAGMENT_MAIN_UV: "FRAGMENT_MAIN_UV", FRAGMENT_MAIN_IMAGE: "FRAGMENT_MAIN_IMAGE", VERTEX_HEAD: "VERTEX_HEAD", VERTEX_MAIN_SUPPORT: "VERTEX_MAIN_SUPPORT" };
var h7 = { VERY_SMALL: 0, SMALL: 1, MEDIUM: 2, LARGE: 3, VERY_LARGE: 4, HUGE: 5 };
var D_e = { DISABLED: 0, DEPTH: 1, CUSTOM: 2 };
var Ru = { LOW: 0, MEDIUM: 1, HIGH: 2, ULTRA: 3 };
var N_e = "#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n}";
var R_e = "uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}";
var B_e = [new Float32Array([0, 0]), new Float32Array([0, 1, 1]), new Float32Array([0, 1, 1, 2]), new Float32Array([0, 1, 2, 2, 3]), new Float32Array([0, 1, 2, 3, 4, 4, 5]), new Float32Array([0, 1, 2, 3, 4, 5, 7, 8, 9, 10])];
var k_e = (q(V2 = class extends Xt {
  constructor(t48 = new Fi()) {
    super({ name: "KawaseBlurMaterial", uniforms: { inputBuffer: new St(null), texelSize: new St(new Fi()), scale: new St(1), kernel: new St(0) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, fragmentShader: N_e, vertexShader: R_e }), this.setTexelSize(t48.x, t48.y), this.kernelSize = h7.MEDIUM;
  }
  set inputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  setInputBuffer(t48) {
    this.inputBuffer = t48;
  }
  get kernelSequence() {
    return B_e[this.kernelSize];
  }
  get scale() {
    return this.uniforms.scale.value;
  }
  set scale(t48) {
    this.uniforms.scale.value = t48;
  }
  getScale() {
    return this.uniforms.scale.value;
  }
  setScale(t48) {
    this.uniforms.scale.value = t48;
  }
  getKernel() {
    return null;
  }
  get kernel() {
    return this.uniforms.kernel.value;
  }
  set kernel(t48) {
    this.uniforms.kernel.value = t48;
  }
  setKernel(t48) {
    this.kernel = t48;
  }
  setTexelSize(t48, e6) {
    this.uniforms.texelSize.value.set(t48, e6, 0.5 * t48, 0.5 * e6);
  }
  setSize(t48, e6) {
    let i = 1 / t48, n = 1 / e6;
    this.uniforms.texelSize.value.set(i, n, 0.5 * i, 0.5 * n);
  }
}, "KawaseBlurMaterial"), V2);
var q_e = "#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}";
var fQ = (q(H2 = class extends Xt {
  constructor() {
    super({ name: "CopyMaterial", uniforms: { inputBuffer: new St(null), opacity: new St(1) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, fragmentShader: q_e, vertexShader: P_e });
  }
  set inputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  setInputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  getOpacity(t48) {
    return this.uniforms.opacity.value;
  }
  setOpacity(t48) {
    this.uniforms.opacity.value = t48;
  }
}, "CopyMaterial"), H2);
var F_e = "#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);\n#if DEPTH_PACKING == 3201\nfloat fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#else\nfloat fragCoordZ=texture2D(depthBuffer,projTexCoord).r;\n#endif\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}";
var U_e = "#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}";
var z_e = (q(j2 = class extends Xt {
  constructor(t48 = null, e6) {
    super({ name: "DepthComparisonMaterial", defines: { DEPTH_PACKING: "0" }, uniforms: { depthBuffer: new St(null), cameraNear: new St(0.3), cameraFar: new St(1e3) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, fragmentShader: F_e, vertexShader: U_e }), this.depthBuffer = t48, this.depthPacking = Ig, this.copyCameraSettings(e6);
  }
  set depthBuffer(t48) {
    this.uniforms.depthBuffer.value = t48;
  }
  set depthPacking(t48) {
    this.defines.DEPTH_PACKING = t48.toFixed(0), this.needsUpdate = true;
  }
  setDepthBuffer(t48, e6 = Ig) {
    this.depthBuffer = t48, this.depthPacking = e6;
  }
  adoptCameraSettings(t48) {
    this.copyCameraSettings(t48);
  }
  copyCameraSettings(t48) {
    t48 && (this.uniforms.cameraNear.value = t48.near, this.uniforms.cameraFar.value = t48.far, t48 instanceof as ? this.defines.PERSPECTIVE_CAMERA = "1" : delete this.defines.PERSPECTIVE_CAMERA, this.needsUpdate = true);
  }
}, "DepthComparisonMaterial"), j2);
var G_e = "varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}";
var V_e = "uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}";
var H_e = (q(W2 = class extends Xt {
  constructor(t48 = new qe(), e6 = hQ.COLOR) {
    super({ name: "EdgeDetectionMaterial", defines: { THREE_REVISION: zc.replace(/\D+/g, ""), LOCAL_CONTRAST_ADAPTATION_FACTOR: "2.0", EDGE_THRESHOLD: "0.1", DEPTH_THRESHOLD: "0.01", PREDICATION_MODE: "0", PREDICATION_THRESHOLD: "0.01", PREDICATION_SCALE: "2.0", PREDICATION_STRENGTH: "1.0", DEPTH_PACKING: "0" }, uniforms: { inputBuffer: new St(null), depthBuffer: new St(null), predicationBuffer: new St(null), texelSize: new St(t48) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, fragmentShader: G_e, vertexShader: V_e }), this.edgeDetectionMode = e6;
  }
  set depthBuffer(t48) {
    this.uniforms.depthBuffer.value = t48;
  }
  set depthPacking(t48) {
    this.defines.DEPTH_PACKING = t48.toFixed(0), this.needsUpdate = true;
  }
  setDepthBuffer(t48, e6 = da) {
    this.depthBuffer = t48, this.depthPacking = e6;
  }
  get edgeDetectionMode() {
    return Number(this.defines.EDGE_DETECTION_MODE);
  }
  set edgeDetectionMode(t48) {
    this.defines.EDGE_DETECTION_MODE = t48.toFixed(0), this.needsUpdate = true;
  }
  getEdgeDetectionMode() {
    return this.edgeDetectionMode;
  }
  setEdgeDetectionMode(t48) {
    this.edgeDetectionMode = t48;
  }
  get localContrastAdaptationFactor() {
    return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR);
  }
  set localContrastAdaptationFactor(t48) {
    this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = t48.toFixed("6"), this.needsUpdate = true;
  }
  getLocalContrastAdaptationFactor() {
    return this.localContrastAdaptationFactor;
  }
  setLocalContrastAdaptationFactor(t48) {
    this.localContrastAdaptationFactor = t48;
  }
  get edgeDetectionThreshold() {
    return Number(this.defines.EDGE_THRESHOLD);
  }
  set edgeDetectionThreshold(t48) {
    this.defines.EDGE_THRESHOLD = t48.toFixed("6"), this.defines.DEPTH_THRESHOLD = (0.1 * t48).toFixed("6"), this.needsUpdate = true;
  }
  getEdgeDetectionThreshold() {
    return this.edgeDetectionThreshold;
  }
  setEdgeDetectionThreshold(t48) {
    this.edgeDetectionThreshold = t48;
  }
  get predicationMode() {
    return Number(this.defines.PREDICATION_MODE);
  }
  set predicationMode(t48) {
    this.defines.PREDICATION_MODE = t48.toFixed(0), this.needsUpdate = true;
  }
  getPredicationMode() {
    return this.predicationMode;
  }
  setPredicationMode(t48) {
    this.predicationMode = t48;
  }
  set predicationBuffer(t48) {
    this.uniforms.predicationBuffer.value = t48;
  }
  setPredicationBuffer(t48) {
    this.uniforms.predicationBuffer.value = t48;
  }
  get predicationThreshold() {
    return Number(this.defines.PREDICATION_THRESHOLD);
  }
  set predicationThreshold(t48) {
    this.defines.PREDICATION_THRESHOLD = t48.toFixed("6"), this.needsUpdate = true;
  }
  getPredicationThreshold() {
    return this.predicationThreshold;
  }
  setPredicationThreshold(t48) {
    this.predicationThreshold = t48;
  }
  get predicationScale() {
    return Number(this.defines.PREDICATION_SCALE);
  }
  set predicationScale(t48) {
    this.defines.PREDICATION_SCALE = t48.toFixed("6"), this.needsUpdate = true;
  }
  getPredicationScale() {
    return this.predicationScale;
  }
  setPredicationScale(t48) {
    this.predicationScale = t48;
  }
  get predicationStrength() {
    return Number(this.defines.PREDICATION_STRENGTH);
  }
  set predicationStrength(t48) {
    this.defines.PREDICATION_STRENGTH = t48.toFixed("6"), this.needsUpdate = true;
  }
  getPredicationStrength() {
    return this.predicationStrength;
  }
  setPredicationStrength(t48) {
    this.predicationStrength = t48;
  }
  setSize(t48, e6) {
    this.uniforms.texelSize.value.set(1 / t48, 1 / e6);
  }
}, "EdgeDetectionMaterial"), W2);
var j_e = "#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}";
var W_e = "uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}";
var Y_e = (q(Y2 = class extends Xt {
  constructor(t48, e6, i, n, r = false) {
    super({ name: "EffectMaterial", defines: { THREE_REVISION: zc.replace(/\D+/g, ""), DEPTH_PACKING: "0", ENCODE_OUTPUT: "1" }, uniforms: { inputBuffer: new St(null), depthBuffer: new St(null), resolution: new St(new qe()), texelSize: new St(new qe()), cameraNear: new St(0.3), cameraFar: new St(1e3), aspect: new St(1), time: new St(0) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, dithering: r }), t48 && this.setShaderParts(t48), e6 && this.setDefines(e6), i && this.setUniforms(i), this.copyCameraSettings(n);
  }
  set inputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  setInputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  get depthBuffer() {
    return this.uniforms.depthBuffer.value;
  }
  set depthBuffer(t48) {
    this.uniforms.depthBuffer.value = t48;
  }
  get depthPacking() {
    return Number(this.defines.DEPTH_PACKING);
  }
  set depthPacking(t48) {
    this.defines.DEPTH_PACKING = t48.toFixed(0), this.needsUpdate = true;
  }
  setDepthBuffer(t48, e6 = da) {
    this.depthBuffer = t48, this.depthPacking = e6;
  }
  setShaderData(t48) {
    this.setShaderParts(t48.shaderParts), this.setDefines(t48.defines), this.setUniforms(t48.uniforms), this.setExtensions(t48.extensions);
  }
  setShaderParts(t48) {
    return this.fragmentShader = j_e.replace(xi.FRAGMENT_HEAD, t48.get(xi.FRAGMENT_HEAD) || "").replace(xi.FRAGMENT_MAIN_UV, t48.get(xi.FRAGMENT_MAIN_UV) || "").replace(xi.FRAGMENT_MAIN_IMAGE, t48.get(xi.FRAGMENT_MAIN_IMAGE) || ""), this.vertexShader = W_e.replace(xi.VERTEX_HEAD, t48.get(xi.VERTEX_HEAD) || "").replace(xi.VERTEX_MAIN_SUPPORT, t48.get(xi.VERTEX_MAIN_SUPPORT) || ""), this.needsUpdate = true, this;
  }
  setDefines(t48) {
    for (let e6 of t48.entries())
      this.defines[e6[0]] = e6[1];
    return this.needsUpdate = true, this;
  }
  setUniforms(t48) {
    for (let e6 of t48.entries())
      this.uniforms[e6[0]] = e6[1];
    return this;
  }
  setExtensions(t48) {
    this.extensions = {};
    for (let e6 of t48)
      this.extensions[e6] = true;
    return this;
  }
  get encodeOutput() {
    return void 0 !== this.defines.ENCODE_OUTPUT;
  }
  set encodeOutput(t48) {
    this.encodeOutput !== t48 && (t48 ? this.defines.ENCODE_OUTPUT = "1" : delete this.defines.ENCODE_OUTPUT, this.needsUpdate = true);
  }
  isOutputEncodingEnabled(t48) {
    return this.encodeOutput;
  }
  setOutputEncodingEnabled(t48) {
    this.encodeOutput = t48;
  }
  get time() {
    return this.uniforms.time.value;
  }
  set time(t48) {
    this.uniforms.time.value = t48;
  }
  setDeltaTime(t48) {
    this.uniforms.time.value += t48;
  }
  adoptCameraSettings(t48) {
    this.copyCameraSettings(t48);
  }
  copyCameraSettings(t48) {
    t48 && (this.uniforms.cameraNear.value = t48.near, this.uniforms.cameraFar.value = t48.far, t48 instanceof as ? this.defines.PERSPECTIVE_CAMERA = "1" : delete this.defines.PERSPECTIVE_CAMERA, this.needsUpdate = true);
  }
  setSize(t48, e6) {
    let i = this.uniforms;
    i.resolution.value.set(t48, e6), i.texelSize.value.set(1 / t48, 1 / e6), i.aspect.value = t48 / e6;
  }
  static get Section() {
    return xi;
  }
}, "EffectMaterial"), Y2);
var X_e = "uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}";
var Z_e = "uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}";
var Q_e = (q(X2 = class extends Xt {
  constructor(t48 = new qe()) {
    super({ name: "OutlineMaterial", uniforms: { inputBuffer: new St(null), texelSize: new St(new qe()) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, fragmentShader: X_e, vertexShader: Z_e }), this.uniforms.texelSize.value.set(t48.x, t48.y), this.uniforms.maskTexture = this.uniforms.inputBuffer;
  }
  set inputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  setInputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  setTexelSize(t48, e6) {
    this.uniforms.texelSize.value.set(t48, e6);
  }
  setSize(t48, e6) {
    this.uniforms.texelSize.value.set(1 / t48, 1 / e6);
  }
}, "OutlineMaterial"), X2);
var K_e = "#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}";
var J_e = "uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}";
var $_e = (q(Z2 = class extends Xt {
  constructor(t48 = new qe(), e6 = new qe()) {
    super({ name: "SMAAWeightsMaterial", defines: { MAX_SEARCH_STEPS_INT: "16", MAX_SEARCH_STEPS_FLOAT: "16.0", MAX_SEARCH_STEPS_DIAG_INT: "8", MAX_SEARCH_STEPS_DIAG_FLOAT: "8.0", CORNER_ROUNDING: "25", CORNER_ROUNDING_NORM: "0.25", AREATEX_MAX_DISTANCE: "16.0", AREATEX_MAX_DISTANCE_DIAG: "20.0", AREATEX_PIXEL_SIZE: "(1.0 / vec2(160.0, 560.0))", AREATEX_SUBTEX_SIZE: "(1.0 / 7.0)", SEARCHTEX_SIZE: "vec2(66.0, 33.0)", SEARCHTEX_PACKED_SIZE: "vec2(64.0, 16.0)" }, uniforms: { inputBuffer: new St(null), searchTexture: new St(null), areaTexture: new St(null), resolution: new St(e6), texelSize: new St(t48) }, blending: Nr, toneMapped: false, depthWrite: false, depthTest: false, fragmentShader: K_e, vertexShader: J_e });
  }
  set inputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  setInputBuffer(t48) {
    this.uniforms.inputBuffer.value = t48;
  }
  get searchTexture() {
    return this.uniforms.searchTexture.value;
  }
  set searchTexture(t48) {
    this.uniforms.searchTexture.value = t48;
  }
  get areaTexture() {
    return this.uniforms.areaTexture.value;
  }
  set areaTexture(t48) {
    this.uniforms.areaTexture.value = t48;
  }
  setLookupTextures(t48, e6) {
    this.searchTexture = t48, this.areaTexture = e6;
  }
  get orthogonalSearchSteps() {
    return Number(this.defines.MAX_SEARCH_STEPS_INT);
  }
  set orthogonalSearchSteps(t48) {
    let e6 = Math.min(Math.max(t48, 0), 112);
    this.defines.MAX_SEARCH_STEPS_INT = e6.toFixed("0"), this.defines.MAX_SEARCH_STEPS_FLOAT = e6.toFixed("1"), this.needsUpdate = true;
  }
  setOrthogonalSearchSteps(t48) {
    this.orthogonalSearchSteps = t48;
  }
  get diagonalSearchSteps() {
    return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT);
  }
  set diagonalSearchSteps(t48) {
    let e6 = Math.min(Math.max(t48, 0), 20);
    this.defines.MAX_SEARCH_STEPS_DIAG_INT = e6.toFixed("0"), this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT = e6.toFixed("1"), this.needsUpdate = true;
  }
  setDiagonalSearchSteps(t48) {
    this.diagonalSearchSteps = t48;
  }
  get diagonalDetection() {
    return void 0 === this.defines.DISABLE_DIAG_DETECTION;
  }
  set diagonalDetection(t48) {
    t48 ? delete this.defines.DISABLE_DIAG_DETECTION : this.defines.DISABLE_DIAG_DETECTION = "1", this.needsUpdate = true;
  }
  isDiagonalDetectionEnabled() {
    return this.diagonalDetection;
  }
  setDiagonalDetectionEnabled(t48) {
    this.diagonalDetection = t48;
  }
  get cornerRounding() {
    return Number(this.defines.CORNER_ROUNDING);
  }
  set cornerRounding(t48) {
    let e6 = Math.min(Math.max(t48, 0), 100);
    this.defines.CORNER_ROUNDING = e6.toFixed("4"), this.defines.CORNER_ROUNDING_NORM = (e6 / 100).toFixed("4"), this.needsUpdate = true;
  }
  setCornerRounding(t48) {
    this.cornerRounding = t48;
  }
  get cornerDetection() {
    return void 0 === this.defines.DISABLE_CORNER_DETECTION;
  }
  set cornerDetection(t48) {
    t48 ? delete this.defines.DISABLE_CORNER_DETECTION : this.defines.DISABLE_CORNER_DETECTION = "1", this.needsUpdate = true;
  }
  isCornerRoundingEnabled() {
    return this.cornerDetection;
  }
  setCornerRoundingEnabled(t48) {
    this.cornerDetection = t48;
  }
  setSize(t48, e6) {
    let i = this.uniforms;
    i.texelSize.value.set(1 / t48, 1 / e6), i.resolution.value.set(t48, e6);
  }
}, "SMAAWeightsMaterial"), Z2);
var ewe = new Tg();
var vf = null;
function twe() {
  if (null === vf) {
    let t48 = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]), e6 = new Float32Array([0, 0, 2, 0, 0, 2]);
    void 0 !== (vf = new Ji()).setAttribute ? (vf.setAttribute("position", new rn(t48, 3)), vf.setAttribute("uv", new rn(e6, 2))) : (vf.addAttribute("position", new rn(t48, 3)), vf.addAttribute("uv", new rn(e6, 2)));
  }
  return vf;
}
q(twe, "getFullscreenTriangle");
var Q2;
var K2;
var J2;
var $2;
var eb;
var tb;
var nb;
var ib;
var Jo = (q(Q2 = class {
  constructor(t48 = "Pass", e6 = new Oa(), i = ewe) {
    this.name = t48, this.renderer = null, this.scene = e6, this.camera = i, this.screen = null, this.rtt = true, this.needsSwap = true, this.needsDepthTexture = false, this.enabled = true;
  }
  get renderToScreen() {
    return !this.rtt;
  }
  set renderToScreen(t48) {
    if (this.rtt === t48) {
      let e6 = this.fullscreenMaterial;
      null !== e6 && (e6.needsUpdate = true), this.rtt = !t48;
    }
  }
  set mainScene(t48) {
  }
  set mainCamera(t48) {
  }
  setRenderer(t48) {
    this.renderer = t48;
  }
  isEnabled() {
    return this.enabled;
  }
  setEnabled(t48) {
    this.enabled = t48;
  }
  get fullscreenMaterial() {
    return null !== this.screen ? this.screen.material : null;
  }
  set fullscreenMaterial(t48) {
    let e6 = this.screen;
    null !== e6 ? e6.material = t48 : (e6 = new Ft(twe(), t48), e6.frustumCulled = false, null === this.scene && (this.scene = new Oa()), this.scene.add(e6), this.screen = e6);
  }
  getFullscreenMaterial() {
    return this.fullscreenMaterial;
  }
  setFullscreenMaterial(t48) {
    this.fullscreenMaterial = t48;
  }
  getDepthTexture() {
    return null;
  }
  setDepthTexture(t48, e6 = da) {
  }
  render(t48, e6, i, n, r) {
    throw new Error("Render method not implemented!");
  }
  setSize(t48, e6) {
  }
  initialize(t48, e6, i) {
  }
  dispose() {
    for (let t48 of Object.keys(this)) {
      let e6 = this[t48];
      (e6 instanceof ti || e6 instanceof ha || e6 instanceof Er || e6 instanceof Jo) && this[t48].dispose();
    }
  }
}, "Pass"), Q2);
var nwe = (q(K2 = class extends Jo {
  constructor(t48, e6 = true) {
    super("CopyPass"), this.fullscreenMaterial = new fQ(), this.needsSwap = false, this.renderTarget = t48, void 0 === t48 && (this.renderTarget = new ti(1, 1, { minFilter: wi, magFilter: wi, stencilBuffer: false, depthBuffer: false }), this.renderTarget.texture.name = "CopyPass.Target"), this.autoResize = e6;
  }
  get resize() {
    return this.autoResize;
  }
  set resize(t48) {
    this.autoResize = t48;
  }
  get texture() {
    return this.renderTarget.texture;
  }
  getTexture() {
    return this.renderTarget.texture;
  }
  setAutoResizeEnabled(t48) {
    this.autoResize = t48;
  }
  render(t48, e6, i, n, r) {
    this.fullscreenMaterial.inputBuffer = e6.texture, t48.setRenderTarget(this.renderToScreen ? null : this.renderTarget), t48.render(this.scene, this.camera);
  }
  setSize(t48, e6) {
    this.autoResize && this.renderTarget.setSize(t48, e6);
  }
  initialize(t48, e6, i) {
    void 0 !== i && (this.renderTarget.texture.type = i, i !== Mr ? this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1" : nS(t48) === ga && e0(this.renderTarget.texture, ga));
  }
}, "CopyPass"), K2);
var iwe = (q(J2 = class extends Jo {
  constructor() {
    super("ClearMaskPass", null, null), this.needsSwap = false;
  }
  render(t48, e6, i, n, r) {
    let o3 = t48.state.buffers.stencil;
    o3.setLocked(false), o3.setTest(false);
  }
}, "ClearMaskPass"), J2);
var rQ = new at();
var t0 = (q($2 = class extends Jo {
  constructor(t48 = true, e6 = true, i = false) {
    super("ClearPass", null, null), this.needsSwap = false, this.color = t48, this.depth = e6, this.stencil = i, this.overrideClearColor = null, this.overrideClearAlpha = -1;
  }
  setClearFlags(t48, e6, i) {
    this.color = t48, this.depth = e6, this.stencil = i;
  }
  getOverrideClearColor() {
    return this.overrideClearColor;
  }
  setOverrideClearColor(t48) {
    this.overrideClearColor = t48;
  }
  getOverrideClearAlpha() {
    return this.overrideClearAlpha;
  }
  setOverrideClearAlpha(t48) {
    this.overrideClearAlpha = t48;
  }
  render(t48, e6, i, n, r) {
    let o3 = this.overrideClearColor, s6 = this.overrideClearAlpha, a = t48.getClearAlpha(), l = null !== o3, u2 = s6 >= 0;
    l ? (t48.getClearColor(rQ), t48.setClearColor(o3, u2 ? s6 : a)) : u2 && t48.setClearAlpha(s6), t48.setRenderTarget(this.renderToScreen ? null : e6), t48.clear(this.color, this.depth, this.stencil), l ? t48.setClearColor(rQ, a) : u2 && t48.setClearAlpha(a);
  }
}, "ClearPass"), $2);
var yf = -1;
var rh = (q(eb = class extends Eo {
  constructor(t48, e6 = yf, i = yf, n = 1) {
    super(), this.resizable = t48, this.baseSize = new qe(1, 1), this.preferredSize = new qe(e6, i), this.target = this.preferredSize, this.s = n, this.effectiveSize = new qe(), this.addEventListener("change", () => this.updateEffectiveSize()), this.updateEffectiveSize();
  }
  updateEffectiveSize() {
    let t48 = this.baseSize, e6 = this.preferredSize, i = this.effectiveSize, n = this.scale;
    e6.width !== yf ? i.width = e6.width : e6.height !== yf ? i.width = Math.round(e6.height * (t48.width / Math.max(t48.height, 1))) : i.width = Math.round(t48.width * n), e6.height !== yf ? i.height = e6.height : e6.width !== yf ? i.height = Math.round(e6.width / Math.max(t48.width / Math.max(t48.height, 1), 1)) : i.height = Math.round(t48.height * n);
  }
  get width() {
    return this.effectiveSize.width;
  }
  set width(t48) {
    this.preferredWidth = t48;
  }
  get height() {
    return this.effectiveSize.height;
  }
  set height(t48) {
    this.preferredHeight = t48;
  }
  getWidth() {
    return this.width;
  }
  getHeight() {
    return this.height;
  }
  get scale() {
    return this.s;
  }
  set scale(t48) {
    this.s !== t48 && (this.s = t48, this.preferredSize.setScalar(yf), this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  getScale() {
    return this.scale;
  }
  setScale(t48) {
    this.scale = t48;
  }
  get baseWidth() {
    return this.baseSize.width;
  }
  set baseWidth(t48) {
    this.baseSize.width !== t48 && (this.baseSize.width = t48, this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  getBaseWidth() {
    return this.baseWidth;
  }
  setBaseWidth(t48) {
    this.baseWidth = t48;
  }
  get baseHeight() {
    return this.baseSize.height;
  }
  set baseHeight(t48) {
    this.baseSize.height !== t48 && (this.baseSize.height = t48, this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  getBaseHeight() {
    return this.baseHeight;
  }
  setBaseHeight(t48) {
    this.baseHeight = t48;
  }
  setBaseSize(t48, e6) {
    (this.baseSize.width !== t48 || this.baseSize.height !== e6) && (this.baseSize.set(t48, e6), this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  get preferredWidth() {
    return this.preferredSize.width;
  }
  set preferredWidth(t48) {
    this.preferredSize.width !== t48 && (this.preferredSize.width = t48, this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  getPreferredWidth() {
    return this.preferredWidth;
  }
  setPreferredWidth(t48) {
    this.preferredWidth = t48;
  }
  get preferredHeight() {
    return this.preferredSize.height;
  }
  set preferredHeight(t48) {
    this.preferredSize.height !== t48 && (this.preferredSize.height = t48, this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  getPreferredHeight() {
    return this.preferredHeight;
  }
  setPreferredHeight(t48) {
    this.preferredHeight = t48;
  }
  setPreferredSize(t48, e6) {
    (this.preferredSize.width !== t48 || this.preferredSize.height !== e6) && (this.preferredSize.set(t48, e6), this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
  }
  copy(t48) {
    this.s = t48.scale, this.baseSize.set(t48.baseWidth, t48.baseHeight), this.preferredSize.set(t48.preferredWidth, t48.preferredHeight), this.dispatchEvent({ type: "change" }), this.resizable.setSize(this.baseSize.width, this.baseSize.height);
  }
  static get AUTO_SIZE() {
    return yf;
  }
}, "Resolution"), eb);
var l7 = false;
var sQ = (q(tb = class {
  constructor(t48 = null) {
    this.originalMaterials = /* @__PURE__ */ new Map(), this.material = null, this.materials = null, this.materialsBackSide = null, this.materialsDoubleSide = null, this.materialsFlatShaded = null, this.materialsFlatShadedBackSide = null, this.materialsFlatShadedDoubleSide = null, this.setMaterial(t48), this.meshCount = 0, this.replaceMaterial = (t49) => {
      if (t49.isMesh) {
        let e6;
        if (t49.material.flatShading)
          switch (t49.material.side) {
            case Dr:
              e6 = this.materialsFlatShadedDoubleSide;
              break;
            case _s:
              e6 = this.materialsFlatShadedBackSide;
              break;
            default:
              e6 = this.materialsFlatShaded;
          }
        else
          switch (t49.material.side) {
            case Dr:
              e6 = this.materialsDoubleSide;
              break;
            case _s:
              e6 = this.materialsBackSide;
              break;
            default:
              e6 = this.materials;
          }
        this.originalMaterials.set(t49, t49.material), t49.isSkinnedMesh ? t49.material = e6[2] : t49.isInstancedMesh ? t49.material = e6[1] : t49.material = e6[0], ++this.meshCount;
      }
    };
  }
  cloneMaterial(t48) {
    if (!(t48 instanceof Xt))
      return t48.clone();
    let e6 = t48.uniforms, i = /* @__PURE__ */ new Map();
    for (let t49 in e6) {
      let n10 = e6[t49].value;
      n10.isRenderTargetTexture && (e6[t49].value = null, i.set(t49, n10));
    }
    let n = t48.clone();
    for (let t49 of i)
      e6[t49[0]].value = t49[1], n.uniforms[t49[0]].value = t49[1];
    return n;
  }
  setMaterial(t48) {
    if (this.disposeMaterials(), this.material = t48, null !== t48) {
      let e6 = this.materials = [this.cloneMaterial(t48), this.cloneMaterial(t48), this.cloneMaterial(t48)];
      for (let i of e6)
        i.uniforms = Object.assign({}, t48.uniforms), i.side = Pa;
      e6[2].skinning = true, this.materialsBackSide = e6.map((e10) => {
        let i = this.cloneMaterial(e10);
        return i.uniforms = Object.assign({}, t48.uniforms), i.side = _s, i;
      }), this.materialsDoubleSide = e6.map((e10) => {
        let i = this.cloneMaterial(e10);
        return i.uniforms = Object.assign({}, t48.uniforms), i.side = Dr, i;
      }), this.materialsFlatShaded = e6.map((e10) => {
        let i = this.cloneMaterial(e10);
        return i.uniforms = Object.assign({}, t48.uniforms), i.flatShading = true, i;
      }), this.materialsFlatShadedBackSide = e6.map((e10) => {
        let i = this.cloneMaterial(e10);
        return i.uniforms = Object.assign({}, t48.uniforms), i.flatShading = true, i.side = _s, i;
      }), this.materialsFlatShadedDoubleSide = e6.map((e10) => {
        let i = this.cloneMaterial(e10);
        return i.uniforms = Object.assign({}, t48.uniforms), i.flatShading = true, i.side = Dr, i;
      });
    }
  }
  render(t48, e6, i) {
    let n = t48.shadowMap.enabled;
    if (t48.shadowMap.enabled = false, l7) {
      let n10 = this.originalMaterials;
      this.meshCount = 0, e6.traverse(this.replaceMaterial), t48.render(e6, i);
      for (let t49 of n10)
        t49[0].material = t49[1];
      this.meshCount !== n10.size && n10.clear();
    } else {
      let n10 = e6.overrideMaterial;
      e6.overrideMaterial = this.material, t48.render(e6, i), e6.overrideMaterial = n10;
    }
    t48.shadowMap.enabled = n;
  }
  disposeMaterials() {
    if (null !== this.material) {
      let t48 = this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);
      for (let e6 of t48)
        e6.dispose();
    }
  }
  dispose() {
    this.originalMaterials.clear(), this.disposeMaterials();
  }
  static get workaroundEnabled() {
    return l7;
  }
  static set workaroundEnabled(t48) {
    l7 = t48;
  }
}, "OverrideMaterialManager"), tb);
var rS = (q(nb = class extends Jo {
  constructor(t48, e6, i = null) {
    super("RenderPass", t48, e6), this.needsSwap = false, this.clearPass = new t0(), this.overrideMaterialManager = null === i ? null : new sQ(i), this.ignoreBackground = false, this.skipShadowMapUpdate = false, this.selection = null;
  }
  set mainScene(t48) {
    this.scene = t48;
  }
  set mainCamera(t48) {
    this.camera = t48;
  }
  get renderToScreen() {
    return super.renderToScreen;
  }
  set renderToScreen(t48) {
    super.renderToScreen = t48, this.clearPass.renderToScreen = t48;
  }
  get overrideMaterial() {
    let t48 = this.overrideMaterialManager;
    return null !== t48 ? t48.material : null;
  }
  set overrideMaterial(t48) {
    let e6 = this.overrideMaterialManager;
    null !== t48 ? null !== e6 ? e6.setMaterial(t48) : this.overrideMaterialManager = new sQ(t48) : null !== e6 && (e6.dispose(), this.overrideMaterialManager = null);
  }
  getOverrideMaterial() {
    return this.overrideMaterial;
  }
  setOverrideMaterial(t48) {
    this.overrideMaterial = t48;
  }
  get clear() {
    return this.clearPass.enabled;
  }
  set clear(t48) {
    this.clearPass.enabled = t48;
  }
  getSelection() {
    return this.selection;
  }
  setSelection(t48) {
    this.selection = t48;
  }
  isBackgroundDisabled() {
    return this.ignoreBackground;
  }
  setBackgroundDisabled(t48) {
    this.ignoreBackground = t48;
  }
  isShadowMapDisabled() {
    return this.skipShadowMapUpdate;
  }
  setShadowMapDisabled(t48) {
    this.skipShadowMapUpdate = t48;
  }
  getClearPass() {
    return this.clearPass;
  }
  render(t48, e6, i, n, r) {
    let o3 = this.scene, s6 = this.camera, a = this.selection, l = s6.layers.mask, u2 = o3.background, h = t48.shadowMap.autoUpdate, c2 = this.renderToScreen ? null : e6;
    null !== a && s6.layers.set(a.getLayer()), this.skipShadowMapUpdate && (t48.shadowMap.autoUpdate = false), (this.ignoreBackground || null !== this.clearPass.overrideClearColor) && (o3.background = null), this.clearPass.enabled && this.clearPass.render(t48, e6), t48.setRenderTarget(c2), null !== this.overrideMaterialManager ? this.overrideMaterialManager.render(t48, o3, s6) : t48.render(o3, s6), s6.layers.mask = l, o3.background = u2, t48.shadowMap.autoUpdate = h;
  }
}, "RenderPass"), nb);
var rwe = (q(ib = class extends Jo {
  constructor(t48, e6, { renderTarget: i, resolutionScale: n = 1, width: r = rh.AUTO_SIZE, height: o3 = rh.AUTO_SIZE, resolutionX: s6 = r, resolutionY: a = o3 } = {}) {
    super("DepthPass"), this.needsSwap = false, this.renderPass = new rS(t48, e6, new Mx({ depthPacking: Ig }));
    let l = this.renderPass;
    l.skipShadowMapUpdate = true, l.ignoreBackground = true;
    let u2 = l.clearPass;
    u2.overrideClearColor = new at(16777215), u2.overrideClearAlpha = 1, this.renderTarget = i, void 0 === this.renderTarget && (this.renderTarget = new ti(1, 1, { minFilter: ui, magFilter: ui }), this.renderTarget.texture.name = "DepthPass.Target");
    let h = this.resolution = new rh(this, s6, a, n);
    h.addEventListener("change", (t49) => this.setSize(h.baseWidth, h.baseHeight));
  }
  set mainScene(t48) {
    this.renderPass.mainScene = t48;
  }
  set mainCamera(t48) {
    this.renderPass.mainCamera = t48;
  }
  get texture() {
    return this.renderTarget.texture;
  }
  getTexture() {
    return this.renderTarget.texture;
  }
  getResolution() {
    return this.resolution;
  }
  getResolutionScale() {
    return this.resolution.scale;
  }
  setResolutionScale(t48) {
    this.resolution.scale = t48;
  }
  render(t48, e6, i, n, r) {
    let o3 = this.renderToScreen ? null : this.renderTarget;
    this.renderPass.render(t48, o3);
  }
  setSize(t48, e6) {
    let i = this.resolution;
    i.setBaseSize(t48, e6), this.renderTarget.setSize(i.width, i.height);
  }
}, "DepthPass"), ib);
var Zyt = new Float32Array([255 / 256 / 256 ** 3, 255 / 256 / 65536, 255 / 256 / 256, 255 / 256]);
function oQ(t48, e6, i) {
  for (let n of e6) {
    let e10 = "$1" + t48 + n.charAt(0).toUpperCase() + n.slice(1), r = new RegExp("([^\\.])(\\b" + n + "\\b)", "g");
    for (let t49 of i.entries())
      null !== t49[1] && i.set(t49[0], t49[1].replace(r, e10));
  }
}
function swe(t48, e6, i) {
  let n = e6.getFragmentShader(), r = e6.getVertexShader(), o3 = void 0 !== n && /mainImage/.test(n), s6 = void 0 !== n && /mainUv/.test(n);
  if (i.attributes |= e6.getAttributes(), void 0 === n)
    throw new Error("Missing fragment shader (".concat(e6.name, ")"));
  if (s6 && i.attributes & sh.CONVOLUTION)
    throw new Error("Effects that transform UVs are incompatible with convolution effects (".concat(e6.name, ")"));
  if (!o3 && !s6)
    throw new Error("Could not find mainImage or mainUv function (".concat(e6.name, ")"));
  {
    let a = /\w+\s+(\w+)\([\w\s,]*\)\s*{/g, l = i.shaderParts, u2 = l.get(xi.FRAGMENT_HEAD) || "", h = l.get(xi.FRAGMENT_MAIN_UV) || "", c2 = l.get(xi.FRAGMENT_MAIN_IMAGE) || "", p4 = l.get(xi.VERTEX_HEAD) || "", d = l.get(xi.VERTEX_MAIN_SUPPORT) || "", f = /* @__PURE__ */ new Set(), g = /* @__PURE__ */ new Set();
    if (s6 && (h += "	".concat(t48, "MainUv(UV);\n"), i.uvTransformation = true), null !== r && /mainSupport/.test(r)) {
      let e10 = /mainSupport *\([\w\s]*?uv\s*?\)/.test(r);
      d += "	".concat(t48, "MainSupport("), d += e10 ? "vUv);\n" : ");\n";
      for (let t49 of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))
        for (let e11 of t49[1].split(/\s*,\s*/))
          i.varyings.add(e11), f.add(e11), g.add(e11);
      for (let t49 of r.matchAll(a))
        g.add(t49[1]);
    }
    for (let t49 of n.matchAll(a))
      g.add(t49[1]);
    for (let t49 of e6.defines.keys())
      g.add(t49.replace(/\([\w\s,]*\)/g, ""));
    for (let t49 of e6.uniforms.keys())
      g.add(t49);
    g.delete("while"), g.delete("for"), g.delete("if"), e6.uniforms.forEach((e10, n10) => i.uniforms.set(t48 + n10.charAt(0).toUpperCase() + n10.slice(1), e10)), e6.defines.forEach((e10, n10) => i.defines.set(t48 + n10.charAt(0).toUpperCase() + n10.slice(1), e10));
    let m = /* @__PURE__ */ new Map([["fragment", n], ["vertex", r]]);
    oQ(t48, g, i.defines), oQ(t48, g, m), n = m.get("fragment"), r = m.get("vertex");
    let v4 = e6.blendMode;
    if (i.blendModes.set(v4.blendFunction, v4), o3) {
      null !== e6.inputColorSpace && e6.inputColorSpace !== i.colorSpace && (c2 += e6.inputColorSpace === ga ? "color0 = LinearTosRGB(color0);\n	" : "color0 = sRGBToLinear(color0);\n	"), e6.outputColorSpace !== uQ ? i.colorSpace = e6.outputColorSpace : null !== e6.inputColorSpace && (i.colorSpace = e6.inputColorSpace);
      let r6 = /MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;
      c2 += "".concat(t48, "MainImage(color0, UV, "), i.attributes & sh.DEPTH && r6.test(n) && (c2 += "depth, ", i.readDepth = true), c2 += "color1);\n	";
      let o6 = t48 + "BlendOpacity";
      i.uniforms.set(o6, v4.opacity), c2 += "color0 = blend".concat(v4.blendFunction, "(color0, color1, ").concat(o6, ");\n\n	"), u2 += "uniform float ".concat(o6, ";\n\n");
    }
    if (u2 += n + "\n", null !== r && (p4 += r + "\n"), l.set(xi.FRAGMENT_HEAD, u2), l.set(xi.FRAGMENT_MAIN_UV, h), l.set(xi.FRAGMENT_MAIN_IMAGE, c2), l.set(xi.VERTEX_HEAD, p4), l.set(xi.VERTEX_MAIN_SUPPORT, d), null !== e6.extensions)
      for (let t49 of e6.extensions)
        i.extensions.add(t49);
  }
}
q(oQ, "prefixSubstrings"), q(swe, "integrateEffect");
var rb;
var sb;
var ob;
var ab;
var lb;
var ub;
var cb;
var hb;
var fb;
var pb;
var pQ = (q(rb = class extends Jo {
  constructor(t48, ...e6) {
    super("EffectPass"), this.fullscreenMaterial = new Y_e(null, null, null, t48), this.listener = (t49) => this.handleEvent(t49), this.effects = [], this.setEffects(e6), this.skipRendering = false, this.minTime = 1, this.maxTime = Number.POSITIVE_INFINITY, this.timeScale = 1;
  }
  set mainScene(t48) {
    for (let e6 of this.effects)
      e6.mainScene = t48;
  }
  set mainCamera(t48) {
    this.fullscreenMaterial.copyCameraSettings(t48);
    for (let e6 of this.effects)
      e6.mainCamera = t48;
  }
  get encodeOutput() {
    return this.fullscreenMaterial.encodeOutput;
  }
  set encodeOutput(t48) {
    this.fullscreenMaterial.encodeOutput = t48;
  }
  get dithering() {
    return this.fullscreenMaterial.dithering;
  }
  set dithering(t48) {
    let e6 = this.fullscreenMaterial;
    e6.dithering = t48, e6.needsUpdate = true;
  }
  setEffects(t48) {
    for (let t49 of this.effects)
      t49.removeEventListener("change", this.listener);
    this.effects = t48.sort((t49, e6) => e6.attributes - t49.attributes);
    for (let t49 of this.effects)
      t49.addEventListener("change", this.listener);
  }
  updateMaterial() {
    let t48 = new cwe(), e6 = 0;
    for (let i10 of this.effects)
      if (i10.blendMode.blendFunction === on.DST)
        t48.attributes |= i10.getAttributes() & sh.DEPTH;
      else {
        if (t48.attributes & i10.getAttributes() & sh.CONVOLUTION)
          throw new Error("Convolution effects cannot be merged (".concat(i10.name, ")"));
        swe("e" + e6++, i10, t48);
      }
    let i = t48.shaderParts.get(xi.FRAGMENT_HEAD), n = t48.shaderParts.get(xi.FRAGMENT_MAIN_IMAGE), r = t48.shaderParts.get(xi.FRAGMENT_MAIN_UV), o3 = /\bblend\b/g;
    for (let e10 of t48.blendModes.values())
      i += e10.getShaderCode().replace(o3, "blend".concat(e10.blendFunction)) + "\n";
    t48.attributes & sh.DEPTH ? (t48.readDepth && (n = "float depth = readDepth(UV);\n\n	" + n), this.needsDepthTexture = null === this.getDepthTexture()) : this.needsDepthTexture = false, t48.colorSpace === ga && (n += "color0 = sRGBToLinear(color0);\n	"), t48.uvTransformation ? (r = "vec2 transformedUv = vUv;\n" + r, t48.defines.set("UV", "transformedUv")) : t48.defines.set("UV", "vUv"), t48.shaderParts.set(xi.FRAGMENT_HEAD, i), t48.shaderParts.set(xi.FRAGMENT_MAIN_IMAGE, n), t48.shaderParts.set(xi.FRAGMENT_MAIN_UV, r);
    for (let [e10, i10] of t48.shaderParts)
      null !== i10 && t48.shaderParts.set(e10, i10.trim().replace(/^#/, "\n#"));
    this.skipRendering = 0 === e6, this.needsSwap = !this.skipRendering, this.fullscreenMaterial.setShaderData(t48);
  }
  recompile() {
    this.updateMaterial();
  }
  getDepthTexture() {
    return this.fullscreenMaterial.depthBuffer;
  }
  setDepthTexture(t48, e6 = da) {
    this.fullscreenMaterial.depthBuffer = t48, this.fullscreenMaterial.depthPacking = e6;
    for (let i of this.effects)
      i.setDepthTexture(t48, e6);
  }
  render(t48, e6, i, n, r) {
    for (let i10 of this.effects)
      i10.update(t48, e6, n);
    if (!this.skipRendering || this.renderToScreen) {
      let r6 = this.fullscreenMaterial;
      r6.inputBuffer = e6.texture, r6.time += n * this.timeScale, t48.setRenderTarget(this.renderToScreen ? null : i), t48.render(this.scene, this.camera);
    }
  }
  setSize(t48, e6) {
    this.fullscreenMaterial.setSize(t48, e6);
    for (let i of this.effects)
      i.setSize(t48, e6);
  }
  initialize(t48, e6, i) {
    this.renderer = t48;
    for (let n of this.effects)
      n.initialize(t48, e6, i);
    this.updateMaterial(), void 0 !== i && i !== Mr && (this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1");
  }
  dispose() {
    super.dispose();
    for (let t48 of this.effects)
      t48.removeEventListener("change", this.listener), t48.dispose();
  }
  handleEvent(t48) {
    if ("change" === t48.type)
      this.recompile();
  }
}, "EffectPass"), rb);
var owe = (q(sb = class extends Jo {
  constructor({ kernelSize: t48 = h7.MEDIUM, resolutionScale: e6 = 0.5, width: i = rh.AUTO_SIZE, height: n = rh.AUTO_SIZE, resolutionX: r = i, resolutionY: o3 = n } = {}) {
    super("KawaseBlurPass"), this.renderTargetA = new ti(1, 1, { depthBuffer: false }), this.renderTargetA.texture.name = "Blur.Target.A", this.renderTargetB = this.renderTargetA.clone(), this.renderTargetB.texture.name = "Blur.Target.B";
    let s6 = this.resolution = new rh(this, r, o3, e6);
    s6.addEventListener("change", (t49) => this.setSize(s6.baseWidth, s6.baseHeight)), this._blurMaterial = new k_e(), this._blurMaterial.kernelSize = t48, this.copyMaterial = new fQ();
  }
  getResolution() {
    return this.resolution;
  }
  get blurMaterial() {
    return this._blurMaterial;
  }
  set blurMaterial(t48) {
    this._blurMaterial = t48;
  }
  get dithering() {
    return this.copyMaterial.dithering;
  }
  set dithering(t48) {
    this.copyMaterial.dithering = t48;
  }
  get kernelSize() {
    return this.blurMaterial.kernelSize;
  }
  set kernelSize(t48) {
    this.blurMaterial.kernelSize = t48;
  }
  get width() {
    return this.resolution.width;
  }
  set width(t48) {
    this.resolution.preferredWidth = t48;
  }
  get height() {
    return this.resolution.height;
  }
  set height(t48) {
    this.resolution.preferredHeight = t48;
  }
  get scale() {
    return this.blurMaterial.scale;
  }
  set scale(t48) {
    this.blurMaterial.scale = t48;
  }
  getScale() {
    return this.blurMaterial.scale;
  }
  setScale(t48) {
    this.blurMaterial.scale = t48;
  }
  getKernelSize() {
    return this.kernelSize;
  }
  setKernelSize(t48) {
    this.kernelSize = t48;
  }
  getResolutionScale() {
    return this.resolution.scale;
  }
  setResolutionScale(t48) {
    this.resolution.scale = t48;
  }
  render(t48, e6, i, n, r) {
    let o3 = this.scene, s6 = this.camera, a = this.renderTargetA, l = this.renderTargetB, u2 = this.blurMaterial, h = u2.kernelSequence, c2 = e6;
    this.fullscreenMaterial = u2;
    for (let e10 = 0, i10 = h.length; e10 < i10; ++e10) {
      let i11 = 1 & e10 ? l : a;
      u2.kernel = h[e10], u2.inputBuffer = c2.texture, t48.setRenderTarget(i11), t48.render(o3, s6), c2 = i11;
    }
    this.fullscreenMaterial = this.copyMaterial, this.copyMaterial.inputBuffer = c2.texture, t48.setRenderTarget(this.renderToScreen ? null : i), t48.render(o3, s6);
  }
  setSize(t48, e6) {
    let i = this.resolution;
    i.setBaseSize(t48, e6);
    let n = i.width, r = i.height;
    this.renderTargetA.setSize(n, r), this.renderTargetB.setSize(n, r), this.blurMaterial.setSize(t48, e6);
  }
  initialize(t48, e6, i) {
    void 0 !== i && (this.renderTargetA.texture.type = i, this.renderTargetB.texture.type = i, i !== Mr ? (this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1", this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1") : nS(t48) === ga && (e0(this.renderTargetA.texture, ga), e0(this.renderTargetB.texture, ga)));
  }
  static get AUTO_SIZE() {
    return rh.AUTO_SIZE;
  }
}, "KawaseBlurPass"), sb);
var awe = (q(ob = class extends Jo {
  constructor(t48, e6) {
    super("MaskPass", t48, e6), this.needsSwap = false, this.clearPass = new t0(false, false, true), this.inverse = false;
  }
  set mainScene(t48) {
    this.scene = t48;
  }
  set mainCamera(t48) {
    this.camera = t48;
  }
  get inverted() {
    return this.inverse;
  }
  set inverted(t48) {
    this.inverse = t48;
  }
  get clear() {
    return this.clearPass.enabled;
  }
  set clear(t48) {
    this.clearPass.enabled = t48;
  }
  getClearPass() {
    return this.clearPass;
  }
  isInverted() {
    return this.inverted;
  }
  setInverted(t48) {
    this.inverted = t48;
  }
  render(t48, e6, i, n, r) {
    let o3 = t48.getContext(), s6 = t48.state.buffers, a = this.scene, l = this.camera, u2 = this.clearPass, h = this.inverted ? 0 : 1, c2 = 1 - h;
    s6.color.setMask(false), s6.depth.setMask(false), s6.color.setLocked(true), s6.depth.setLocked(true), s6.stencil.setTest(true), s6.stencil.setOp(o3.REPLACE, o3.REPLACE, o3.REPLACE), s6.stencil.setFunc(o3.ALWAYS, h, 4294967295), s6.stencil.setClear(c2), s6.stencil.setLocked(true), this.clearPass.enabled && (this.renderToScreen ? u2.render(t48, null) : (u2.render(t48, e6), u2.render(t48, i))), this.renderToScreen ? (t48.setRenderTarget(null), t48.render(a, l)) : (t48.setRenderTarget(e6), t48.render(a, l), t48.setRenderTarget(i), t48.render(a, l)), s6.color.setLocked(false), s6.depth.setLocked(false), s6.stencil.setLocked(false), s6.stencil.setFunc(o3.EQUAL, 1, 4294967295), s6.stencil.setOp(o3.KEEP, o3.KEEP, o3.KEEP), s6.stencil.setLocked(true);
  }
}, "MaskPass"), ob);
var ld = (q(ab = class extends Jo {
  constructor(t48, e6 = "inputBuffer") {
    super("ShaderPass"), this.fullscreenMaterial = t48, this.input = e6;
  }
  setInput(t48) {
    this.input = t48;
  }
  render(t48, e6, i, n, r) {
    let o3 = this.fullscreenMaterial.uniforms;
    null !== e6 && void 0 !== o3 && void 0 !== o3[this.input] && (o3[this.input].value = e6.texture), t48.setRenderTarget(this.renderToScreen ? null : i), t48.render(this.scene, this.camera);
  }
  initialize(t48, e6, i) {
    void 0 !== i && i !== Mr && (this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1");
  }
}, "ShaderPass"), ab);
var u7 = 1e-3;
var lwe = 1e3;
var uwe = (q(lb = class {
  constructor() {
    this.startTime = performance.now(), this.previousTime = 0, this.currentTime = 0, this._delta = 0, this._elapsed = 0, this._fixedDelta = 1e3 / 60, this.timescale = 1, this.useFixedDelta = false, this._autoReset = false;
  }
  get autoReset() {
    return this._autoReset;
  }
  set autoReset(t48) {
    typeof document < "u" && void 0 !== document.hidden && (t48 ? document.addEventListener("visibilitychange", this) : document.removeEventListener("visibilitychange", this), this._autoReset = t48);
  }
  get delta() {
    return this._delta * u7;
  }
  get fixedDelta() {
    return this._fixedDelta * u7;
  }
  set fixedDelta(t48) {
    this._fixedDelta = t48 * lwe;
  }
  get elapsed() {
    return this._elapsed * u7;
  }
  update(t48) {
    this.useFixedDelta ? this._delta = this.fixedDelta : (this.previousTime = this.currentTime, this.currentTime = (void 0 !== t48 ? t48 : performance.now()) - this.startTime, this._delta = this.currentTime - this.previousTime), this._delta *= this.timescale, this._elapsed += this._delta;
  }
  reset() {
    this._delta = 0, this._elapsed = 0, this.currentTime = performance.now() - this.startTime;
  }
  handleEvent(t48) {
    document.hidden || (this.currentTime = performance.now() - this.startTime);
  }
  dispose() {
    this.autoReset = false;
  }
}, "Timer"), lb);
var dQ = (ub = class {
  constructor(t48 = null, { depthBuffer: e6 = true, stencilBuffer: i = false, multisampling: n = 0, frameBufferType: r } = {}) {
    this.renderer = null, this.inputBuffer = this.createBuffer(e6, i, r, n), this.outputBuffer = this.inputBuffer.clone(), this.copyPass = new nwe(), this.depthTexture = null, this.passes = [], this.timer = new uwe(), this.autoRenderToScreen = true, this.setRenderer(t48);
  }
  get multisampling() {
    return this.inputBuffer.samples || 0;
  }
  set multisampling(t48) {
    let e6 = this.inputBuffer, i = this.multisampling;
    i > 0 && t48 > 0 ? (this.inputBuffer.samples = t48, this.outputBuffer.samples = t48, this.inputBuffer.dispose(), this.outputBuffer.dispose()) : i !== t48 && (this.inputBuffer.dispose(), this.outputBuffer.dispose(), this.inputBuffer = this.createBuffer(e6.depthBuffer, e6.stencilBuffer, e6.texture.type, t48), this.inputBuffer.depthTexture = this.depthTexture, this.outputBuffer = this.inputBuffer.clone());
  }
  getTimer() {
    return this.timer;
  }
  getRenderer() {
    return this.renderer;
  }
  setRenderer(t48) {
    if (this.renderer = t48, null !== t48) {
      let e6 = t48.getSize(new qe()), i = t48.getContext().getContextAttributes().alpha, n = this.inputBuffer.texture.type;
      n === Mr && nS(t48) === ga && (e0(this.inputBuffer.texture, ga), e0(this.outputBuffer.texture, ga), this.inputBuffer.dispose(), this.outputBuffer.dispose()), t48.autoClear = false, this.setSize(e6.width, e6.height);
      for (let e10 of this.passes)
        e10.initialize(t48, i, n);
    }
  }
  replaceRenderer(t48, e6 = true) {
    let i = this.renderer, n = i.domElement.parentNode;
    return this.setRenderer(t48), e6 && null !== n && (n.removeChild(i.domElement), n.appendChild(t48.domElement)), i;
  }
  createDepthTexture() {
    let t48 = this.depthTexture = new qc();
    return this.inputBuffer.depthTexture = t48, this.inputBuffer.dispose(), this.inputBuffer.stencilBuffer ? (t48.format = Qh, t48.type = Xh) : t48.type = il, t48;
  }
  deleteDepthTexture() {
    if (null !== this.depthTexture) {
      this.depthTexture.dispose(), this.depthTexture = null, this.inputBuffer.depthTexture = null, this.inputBuffer.dispose();
      for (let t48 of this.passes)
        t48.setDepthTexture(null);
    }
  }
  createBuffer(t48, e6, i, n) {
    let r = this.renderer, o3 = null === r ? new qe() : r.getDrawingBufferSize(new qe()), s6 = { minFilter: wi, magFilter: wi, stencilBuffer: e6, depthBuffer: t48, type: i }, a = new ti(o3.width, o3.height, s6);
    return n > 0 && (a.ignoreDepthForMultisampleCopy = false, a.samples = n), i === Mr && nS(r) === ga && e0(a.texture, ga), a.texture.name = "EffectComposer.Buffer", a.texture.generateMipmaps = false, a;
  }
  setMainScene(t48) {
    for (let e6 of this.passes)
      e6.mainScene = t48;
  }
  setMainCamera(t48) {
    for (let e6 of this.passes)
      e6.mainCamera = t48;
  }
  addPass(t48, e6) {
    let i = this.passes, n = this.renderer, r = n.getDrawingBufferSize(new qe()), o3 = n.getContext().getContextAttributes().alpha, s6 = this.inputBuffer.texture.type;
    if (t48.setRenderer(n), t48.setSize(r.width, r.height), t48.initialize(n, o3, s6), this.autoRenderToScreen && (i.length > 0 && (i[i.length - 1].renderToScreen = false), t48.renderToScreen && (this.autoRenderToScreen = false)), void 0 !== e6 ? i.splice(e6, 0, t48) : i.push(t48), this.autoRenderToScreen && (i[i.length - 1].renderToScreen = true), t48.needsDepthTexture || null !== this.depthTexture)
      if (null === this.depthTexture) {
        let e10 = this.createDepthTexture();
        for (t48 of i)
          t48.setDepthTexture(e10);
      } else
        t48.setDepthTexture(this.depthTexture);
  }
  removePass(t48) {
    let e6 = this.passes, i = e6.indexOf(t48);
    if (-1 !== i && e6.splice(i, 1).length > 0) {
      if (null !== this.depthTexture) {
        let i10 = q((t49, e10) => t49 || e10.needsDepthTexture, "reducer");
        e6.reduce(i10, false) || (t48.getDepthTexture() === this.depthTexture && t48.setDepthTexture(null), this.deleteDepthTexture());
      }
      this.autoRenderToScreen && i === e6.length && (t48.renderToScreen = false, e6.length > 0 && (e6[e6.length - 1].renderToScreen = true));
    }
  }
  removeAllPasses() {
    let t48 = this.passes;
    this.deleteDepthTexture(), t48.length > 0 && (this.autoRenderToScreen && (t48[t48.length - 1].renderToScreen = false), this.passes = []);
  }
  render(t48) {
    let e6, i, n, r = this.renderer, o3 = this.copyPass, s6 = this.inputBuffer, a = this.outputBuffer, l = false;
    void 0 === t48 && (this.timer.update(), t48 = this.timer.delta);
    for (let u2 of this.passes)
      u2.enabled && (u2.render(r, s6, a, t48, l), u2.needsSwap && (l && (o3.renderToScreen = u2.renderToScreen, e6 = r.getContext(), i = r.state.buffers.stencil, i.setFunc(e6.NOTEQUAL, 1, 4294967295), o3.render(r, s6, a, t48, l), i.setFunc(e6.EQUAL, 1, 4294967295)), n = s6, s6 = a, a = n), u2 instanceof awe ? l = true : u2 instanceof iwe && (l = false));
  }
  setSize(t48, e6, i) {
    let n = this.renderer, r = n.getSize(new qe());
    (void 0 === t48 || void 0 === e6) && (t48 = r.width, e6 = r.height), (r.width !== t48 || r.height !== e6) && n.setSize(t48, e6, i);
    let o3 = n.getDrawingBufferSize(new qe());
    this.inputBuffer.setSize(o3.width, o3.height), this.outputBuffer.setSize(o3.width, o3.height);
    for (let t49 of this.passes)
      t49.setSize(o3.width, o3.height);
  }
  reset() {
    let t48 = this.timer.autoReset;
    this.dispose(), this.autoRenderToScreen = true, this.timer.autoReset = t48;
  }
  dispose() {
    for (let t48 of this.passes)
      t48.dispose();
    this.passes = [], null !== this.inputBuffer && this.inputBuffer.dispose(), null !== this.outputBuffer && this.outputBuffer.dispose(), this.deleteDepthTexture(), this.copyPass.dispose(), this.timer.dispose();
  }
}, q(ub, "EffectComposer"), ub);
var cwe = (q(cb = class {
  constructor() {
    this.shaderParts = /* @__PURE__ */ new Map([[xi.FRAGMENT_HEAD, null], [xi.FRAGMENT_MAIN_UV, null], [xi.FRAGMENT_MAIN_IMAGE, null], [xi.VERTEX_HEAD, null], [xi.VERTEX_MAIN_SUPPORT, null]]), this.defines = /* @__PURE__ */ new Map(), this.uniforms = /* @__PURE__ */ new Map(), this.blendModes = /* @__PURE__ */ new Map(), this.extensions = /* @__PURE__ */ new Set(), this.attributes = sh.NONE, this.varyings = /* @__PURE__ */ new Set(), this.uvTransformation = false, this.readDepth = false, this.colorSpace = iS;
  }
}, "EffectShaderData"), cb);
var hwe = (hb = class extends Set {
  constructor(t48, e6 = 10) {
    super(), this.l = e6, this.exclusive = false, void 0 !== t48 && this.set(t48);
  }
  get layer() {
    return this.l;
  }
  set layer(t48) {
    let e6 = this.l;
    for (let i of this)
      i.layers.disable(e6), i.layers.enable(t48);
    this.l = t48;
  }
  getLayer() {
    return this.layer;
  }
  setLayer(t48) {
    this.layer = t48;
  }
  isExclusive() {
    return this.exclusive;
  }
  setExclusive(t48) {
    this.exclusive = t48;
  }
  clear() {
    let t48 = this.layer;
    for (let e6 of this)
      e6.layers.disable(t48);
    return super.clear();
  }
  set(t48) {
    this.clear();
    for (let e6 of t48)
      this.add(e6);
    return this;
  }
  indexOf(t48) {
    return this.has(t48) ? 0 : -1;
  }
  add(t48) {
    return this.exclusive ? t48.layers.set(this.layer) : t48.layers.enable(this.layer), super.add(t48);
  }
  delete(t48) {
    return this.has(t48) && t48.layers.disable(this.layer), super.delete(t48);
  }
  toggle(t48) {
    let e6;
    return this.has(t48) ? (this.delete(t48), e6 = false) : (this.add(t48), e6 = true), e6;
  }
  setVisible(t48) {
    for (let e6 of this)
      t48 ? e6.layers.enable(0) : e6.layers.disable(0);
    return this;
  }
}, q(hb, "Selection"), hb);
var fwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}";
var pwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}";
var dwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}";
var mwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}";
var gwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}";
var vwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}";
var ywe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}";
var xwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}";
var bwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}";
var _we = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}";
var wwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}";
var Mwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}";
var Ewe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}";
var Twe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}";
var Swe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}";
var Awe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}";
var Cwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}";
var Pwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}";
var Iwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}";
var Owe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}";
var Lwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}";
var Dwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}";
var Nwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}";
var Rwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}";
var Bwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}";
var kwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}";
var qwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}";
var Fwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}";
var Uwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}";
var zwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}";
var Gwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}";
var Vwe = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}";
var Hwe = /* @__PURE__ */ new Map([[on.ADD, fwe], [on.ALPHA, pwe], [on.AVERAGE, dwe], [on.COLOR, mwe], [on.COLOR_BURN, gwe], [on.COLOR_DODGE, vwe], [on.DARKEN, ywe], [on.DIFFERENCE, xwe], [on.DIVIDE, bwe], [on.DST, null], [on.EXCLUSION, _we], [on.HARD_LIGHT, wwe], [on.HARD_MIX, Mwe], [on.HUE, Ewe], [on.INVERT, Twe], [on.INVERT_RGB, Swe], [on.LIGHTEN, Awe], [on.LINEAR_BURN, Cwe], [on.LINEAR_DODGE, Pwe], [on.LINEAR_LIGHT, Iwe], [on.LUMINOSITY, Owe], [on.MULTIPLY, Lwe], [on.NEGATION, Dwe], [on.NORMAL, Nwe], [on.OVERLAY, Rwe], [on.PIN_LIGHT, Bwe], [on.REFLECT, kwe], [on.SATURATION, qwe], [on.SCREEN, Fwe], [on.SOFT_LIGHT, Uwe], [on.SRC, zwe], [on.SUBTRACT, Gwe], [on.VIVID_LIGHT, Vwe]]);
var jwe = (q(fb = class extends Eo {
  constructor(t48, e6 = 1) {
    super(), this._blendFunction = t48, this.opacity = new St(e6);
  }
  getOpacity() {
    return this.opacity.value;
  }
  setOpacity(t48) {
    this.opacity.value = t48;
  }
  get blendFunction() {
    return this._blendFunction;
  }
  set blendFunction(t48) {
    this._blendFunction = t48, this.dispatchEvent({ type: "change" });
  }
  getBlendFunction() {
    return this.blendFunction;
  }
  setBlendFunction(t48) {
    this.blendFunction = t48;
  }
  getShaderCode() {
    return Hwe.get(this.blendFunction);
  }
}, "BlendMode"), fb);
var mQ = (q(pb = class extends Eo {
  constructor(t48, e6, { attributes: i = sh.NONE, blendFunction: n = on.NORMAL, defines: r = /* @__PURE__ */ new Map(), uniforms: o3 = /* @__PURE__ */ new Map(), extensions: s6 = null, vertexShader: a = null } = {}) {
    super(), this.name = t48, this.renderer = null, this.attributes = i, this.fragmentShader = e6, this.vertexShader = a, this.defines = r, this.uniforms = o3, this.extensions = s6, this.blendMode = new jwe(n), this.blendMode.addEventListener("change", (t49) => this.setChanged()), this._inputColorSpace = iS, this._outputColorSpace = uQ;
  }
  get inputColorSpace() {
    return this._inputColorSpace;
  }
  set inputColorSpace(t48) {
    this._inputColorSpace = t48, this.setChanged();
  }
  get outputColorSpace() {
    return this._outputColorSpace;
  }
  set outputColorSpace(t48) {
    this._outputColorSpace = t48, this.setChanged();
  }
  set mainScene(t48) {
  }
  set mainCamera(t48) {
  }
  getName() {
    return this.name;
  }
  setRenderer(t48) {
    this.renderer = t48;
  }
  getDefines() {
    return this.defines;
  }
  getUniforms() {
    return this.uniforms;
  }
  getExtensions() {
    return this.extensions;
  }
  getBlendMode() {
    return this.blendMode;
  }
  getAttributes() {
    return this.attributes;
  }
  setAttributes(t48) {
    this.attributes = t48, this.setChanged();
  }
  getFragmentShader() {
    return this.fragmentShader;
  }
  setFragmentShader(t48) {
    this.fragmentShader = t48, this.setChanged();
  }
  getVertexShader() {
    return this.vertexShader;
  }
  setVertexShader(t48) {
    this.vertexShader = t48, this.setChanged();
  }
  setChanged() {
    this.dispatchEvent({ type: "change" });
  }
  setDepthTexture(t48, e6 = da) {
  }
  update(t48, e6, i) {
  }
  setSize(t48, e6) {
  }
  initialize(t48, e6, i) {
  }
  dispose() {
    for (let t48 of Object.keys(this)) {
      let e6 = this[t48];
      (e6 instanceof ti || e6 instanceof ha || e6 instanceof Er || e6 instanceof Jo) && this[t48].dispose();
    }
  }
}, "Effect"), pb);
var nxt = new K();
var ixt = new Ot();
var sxt = new at();
var oxt = [new Float32Array(3), new Float32Array(3)];
var axt = [new Float32Array(3), new Float32Array(3), new Float32Array(3), new Float32Array(3)];
var lxt = [[new Float32Array([0, 0, 0]), new Float32Array([1, 0, 0]), new Float32Array([1, 1, 0]), new Float32Array([1, 1, 1])], [new Float32Array([0, 0, 0]), new Float32Array([1, 0, 0]), new Float32Array([1, 0, 1]), new Float32Array([1, 1, 1])], [new Float32Array([0, 0, 0]), new Float32Array([0, 0, 1]), new Float32Array([1, 0, 1]), new Float32Array([1, 1, 1])], [new Float32Array([0, 0, 0]), new Float32Array([0, 1, 0]), new Float32Array([1, 1, 0]), new Float32Array([1, 1, 1])], [new Float32Array([0, 0, 0]), new Float32Array([0, 1, 0]), new Float32Array([0, 1, 1]), new Float32Array([1, 1, 1])], [new Float32Array([0, 0, 0]), new Float32Array([0, 0, 1]), new Float32Array([0, 1, 1]), new Float32Array([1, 1, 1])]];
var uxt = [new Float32Array(2), new Float32Array(2)];
var cxt = new Float32Array([0, -0.25, 0.25, -0.125, 0.125, -0.375, 0.375]);
var hxt = [new Float32Array([0, 0]), new Float32Array([0.25, -0.25]), new Float32Array([-0.25, 0.25]), new Float32Array([0.125, -0.125]), new Float32Array([-0.125, 0.125])];
var fxt = [new Uint8Array([0, 0]), new Uint8Array([3, 0]), new Uint8Array([0, 3]), new Uint8Array([3, 3]), new Uint8Array([1, 0]), new Uint8Array([4, 0]), new Uint8Array([1, 3]), new Uint8Array([4, 3]), new Uint8Array([0, 1]), new Uint8Array([3, 1]), new Uint8Array([0, 4]), new Uint8Array([3, 4]), new Uint8Array([1, 1]), new Uint8Array([4, 1]), new Uint8Array([1, 4]), new Uint8Array([4, 4])];
var pxt = [new Uint8Array([0, 0]), new Uint8Array([1, 0]), new Uint8Array([0, 2]), new Uint8Array([1, 2]), new Uint8Array([2, 0]), new Uint8Array([3, 0]), new Uint8Array([2, 2]), new Uint8Array([3, 2]), new Uint8Array([0, 1]), new Uint8Array([1, 1]), new Uint8Array([0, 3]), new Uint8Array([1, 3]), new Uint8Array([2, 1]), new Uint8Array([3, 1]), new Uint8Array([2, 3]), new Uint8Array([3, 3])];
var dxt = /* @__PURE__ */ new Map([[So(0, 0, 0, 0), new Float32Array([0, 0, 0, 0])], [So(0, 0, 0, 1), new Float32Array([0, 0, 0, 1])], [So(0, 0, 1, 0), new Float32Array([0, 0, 1, 0])], [So(0, 0, 1, 1), new Float32Array([0, 0, 1, 1])], [So(0, 1, 0, 0), new Float32Array([0, 1, 0, 0])], [So(0, 1, 0, 1), new Float32Array([0, 1, 0, 1])], [So(0, 1, 1, 0), new Float32Array([0, 1, 1, 0])], [So(0, 1, 1, 1), new Float32Array([0, 1, 1, 1])], [So(1, 0, 0, 0), new Float32Array([1, 0, 0, 0])], [So(1, 0, 0, 1), new Float32Array([1, 0, 0, 1])], [So(1, 0, 1, 0), new Float32Array([1, 0, 1, 0])], [So(1, 0, 1, 1), new Float32Array([1, 0, 1, 1])], [So(1, 1, 0, 0), new Float32Array([1, 1, 0, 0])], [So(1, 1, 0, 1), new Float32Array([1, 1, 0, 1])], [So(1, 1, 1, 0), new Float32Array([1, 1, 1, 0])], [So(1, 1, 1, 1), new Float32Array([1, 1, 1, 1])]]);
function c7(t48, e6, i) {
  return t48 + (e6 - t48) * i;
}
function So(t48, e6, i, n) {
  let r = c7(t48, e6, 0.75), o3 = c7(i, n, 0.75);
  return c7(r, o3, 0.875);
}
q(c7, "lerp2"), q(So, "bilinear");
var db;
var mb;
var Wwe = "uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\n#ifdef USE_PATTERN\nuniform lowp sampler2D patternTexture;varying vec2 vUvPattern;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\n#ifndef X_RAY\nedge.y=0.0;\n#endif\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\n#ifdef USE_PATTERN\nvec4 patternColor=texture2D(patternTexture,vUvPattern);\n#ifdef X_RAY\nfloat hiddenFactor=0.5;\n#else\nfloat hiddenFactor=0.0;\n#endif\nvisibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\n#endif\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\n#ifdef ALPHA\noutputColor=vec4(color,alpha);\n#else\noutputColor=vec4(color,max(alpha,inputColor.a));\n#endif\n}";
var Ywe = "uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}";
var gQ = (q(db = class extends mQ {
  constructor(t48, e6, { blendFunction: i = on.SCREEN, patternTexture: n = null, patternScale: r = 1, edgeStrength: o3 = 1, pulseSpeed: s6 = 0, visibleEdgeColor: a = 16777215, hiddenEdgeColor: l = 2230538, kernelSize: u2 = h7.VERY_SMALL, blur: h = false, xRay: c2 = true, multisampling: p4 = 0, resolutionScale: d = 0.5, width: f = rh.AUTO_SIZE, height: g = rh.AUTO_SIZE, resolutionX: m = f, resolutionY: v4 = g } = {}) {
    super("OutlineEffect", Wwe, { uniforms: /* @__PURE__ */ new Map([["maskTexture", new St(null)], ["edgeTexture", new St(null)], ["edgeStrength", new St(o3)], ["visibleEdgeColor", new St(new at(a))], ["hiddenEdgeColor", new St(new at(l))], ["pulse", new St(1)], ["patternScale", new St(r)], ["patternTexture", new St(null)]]) }), this.blendMode.addEventListener("change", (t49) => {
      this.blendMode.blendFunction === on.ALPHA ? this.defines.set("ALPHA", "1") : this.defines.delete("ALPHA"), this.setChanged();
    }), this.blendMode.blendFunction = i, this.patternTexture = n, this.xRay = c2, this.scene = t48, this.camera = e6, this.renderTargetMask = new ti(1, 1), this.renderTargetMask.samples = p4, this.renderTargetMask.texture.name = "Outline.Mask", this.uniforms.get("maskTexture").value = this.renderTargetMask.texture, this.renderTargetOutline = new ti(1, 1, { depthBuffer: false }), this.renderTargetOutline.texture.name = "Outline.Edges", this.uniforms.get("edgeTexture").value = this.renderTargetOutline.texture, this.clearPass = new t0(), this.clearPass.overrideClearColor = new at(0), this.clearPass.overrideClearAlpha = 1, this.depthPass = new rwe(t48, e6), this.maskPass = new rS(t48, e6, new z_e(this.depthPass.texture, e6));
    let y4 = this.maskPass.clearPass;
    y4.overrideClearColor = new at(16777215), y4.overrideClearAlpha = 1, this.blurPass = new owe({ resolutionScale: d, resolutionX: m, resolutionY: v4, kernelSize: u2 }), this.blurPass.enabled = h;
    let x4 = this.blurPass.resolution;
    x4.addEventListener("change", (t49) => this.setSize(x4.baseWidth, x4.baseHeight)), this.outlinePass = new ld(new Q_e()), this.outlinePass.fullscreenMaterial.inputBuffer = this.renderTargetMask.texture, this.time = 0, this.active = false, this.selection = new hwe(), this.selection.layer = 10, this.pulseSpeed = s6;
  }
  set mainScene(t48) {
    this.scene = t48, this.depthPass.mainScene = t48, this.maskPass.mainScene = t48;
  }
  set mainCamera(t48) {
    this.camera = t48, this.depthPass.mainCamera = t48, this.maskPass.mainCamera = t48, this.maskPass.overrideMaterial.copyCameraSettings(t48);
  }
  get resolution() {
    return this.blurPass.resolution;
  }
  getResolution() {
    return this.blurPass.getResolution();
  }
  get multisampling() {
    return this.renderTargetMask.samples;
  }
  set multisampling(t48) {
    this.renderTargetMask.samples = t48, this.renderTargetMask.dispose();
  }
  get patternScale() {
    return this.uniforms.get("patternScale").value;
  }
  set patternScale(t48) {
    this.uniforms.get("patternScale").value = t48;
  }
  get edgeStrength() {
    return this.uniforms.get("edgeStrength").value;
  }
  set edgeStrength(t48) {
    this.uniforms.get("edgeStrength").value = t48;
  }
  get visibleEdgeColor() {
    return this.uniforms.get("visibleEdgeColor").value;
  }
  set visibleEdgeColor(t48) {
    this.uniforms.get("visibleEdgeColor").value = t48;
  }
  get hiddenEdgeColor() {
    return this.uniforms.get("hiddenEdgeColor").value;
  }
  set hiddenEdgeColor(t48) {
    this.uniforms.get("hiddenEdgeColor").value = t48;
  }
  getBlurPass() {
    return this.blurPass;
  }
  getSelection() {
    return this.selection;
  }
  getPulseSpeed() {
    return this.pulseSpeed;
  }
  setPulseSpeed(t48) {
    this.pulseSpeed = t48;
  }
  get width() {
    return this.resolution.width;
  }
  set width(t48) {
    this.resolution.preferredWidth = t48;
  }
  get height() {
    return this.resolution.height;
  }
  set height(t48) {
    this.resolution.preferredHeight = t48;
  }
  get selectionLayer() {
    return this.selection.layer;
  }
  set selectionLayer(t48) {
    this.selection.layer = t48;
  }
  get dithering() {
    return this.blurPass.dithering;
  }
  set dithering(t48) {
    this.blurPass.dithering = t48;
  }
  get kernelSize() {
    return this.blurPass.kernelSize;
  }
  set kernelSize(t48) {
    this.blurPass.kernelSize = t48;
  }
  get blur() {
    return this.blurPass.enabled;
  }
  set blur(t48) {
    this.blurPass.enabled = t48;
  }
  get xRay() {
    return this.defines.has("X_RAY");
  }
  set xRay(t48) {
    this.xRay !== t48 && (t48 ? this.defines.set("X_RAY", "1") : this.defines.delete("X_RAY"), this.setChanged());
  }
  isXRayEnabled() {
    return this.xRay;
  }
  setXRayEnabled(t48) {
    this.xRay = t48;
  }
  get patternTexture() {
    return this.uniforms.get("patternTexture").value;
  }
  set patternTexture(t48) {
    null !== t48 ? (t48.wrapS = t48.wrapT = wr, this.defines.set("USE_PATTERN", "1"), this.setVertexShader(Ywe)) : (this.defines.delete("USE_PATTERN"), this.setVertexShader(null)), this.uniforms.get("patternTexture").value = t48, this.setChanged();
  }
  setPatternTexture(t48) {
    this.patternTexture = t48;
  }
  getResolutionScale() {
    return this.resolution.scale;
  }
  setResolutionScale(t48) {
    this.resolution.scale = t48;
  }
  setSelection(t48) {
    return this.selection.set(t48), this;
  }
  clearSelection() {
    return this.selection.clear(), this;
  }
  selectObject(t48) {
    return this.selection.add(t48), this;
  }
  deselectObject(t48) {
    return this.selection.delete(t48), this;
  }
  update(t48, e6, i) {
    let n = this.scene, r = this.camera, o3 = this.selection, s6 = this.uniforms.get("pulse"), a = n.background, l = r.layers.mask;
    o3.size > 0 ? (n.background = null, s6.value = 1, this.pulseSpeed > 0 && (s6.value = 0.375 * Math.cos(this.time * this.pulseSpeed * 10) + 0.625), this.active = true, this.time += i, o3.setVisible(false), this.depthPass.render(t48), o3.setVisible(true), r.layers.set(o3.layer), this.maskPass.render(t48, this.renderTargetMask), r.layers.mask = l, n.background = a, this.outlinePass.render(t48, null, this.renderTargetOutline), this.blurPass.enabled && this.blurPass.render(t48, this.renderTargetOutline, this.renderTargetOutline)) : this.active && (this.clearPass.render(t48, this.renderTargetOutline), this.active = false);
  }
  setSize(t48, e6) {
    this.blurPass.setSize(t48, e6), this.renderTargetMask.setSize(t48, e6);
    let i = this.resolution;
    i.setBaseSize(t48, e6);
    let n = i.width, r = i.height;
    this.depthPass.setSize(n, r), this.renderTargetOutline.setSize(n, r), this.outlinePass.fullscreenMaterial.setSize(n, r);
  }
  initialize(t48, e6, i) {
    this.blurPass.initialize(t48, e6, Mr), void 0 !== i && (this.depthPass.initialize(t48, e6, i), this.maskPass.initialize(t48, e6, i), this.outlinePass.initialize(t48, e6, i));
  }
}, "OutlineEffect"), db);
var vxt = 0.5 * Math.PI;
var yxt = new K();
var xxt = new K();
var aQ = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC";
var lQ = "data:image/png;base64,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";
var Xwe = "uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}";
var Zwe = "varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}";
var vQ = (q(mb = class extends mQ {
  constructor({ blendFunction: t48 = on.SRC, preset: e6 = Ru.MEDIUM, edgeDetectionMode: i = hQ.COLOR, predicationMode: n = D_e.DISABLED } = {}) {
    let r, o3;
    super("SMAAEffect", Xwe, { vertexShader: Zwe, blendFunction: t48, attributes: sh.CONVOLUTION | sh.DEPTH, uniforms: /* @__PURE__ */ new Map([["weightMap", new St(null)]]) }), arguments.length > 1 && (r = arguments[0], o3 = arguments[1], arguments.length > 2 && (e6 = arguments[2]), arguments.length > 3 && (i = arguments[3])), this.renderTargetEdges = new ti(1, 1, { depthBuffer: false }), this.renderTargetEdges.texture.name = "SMAA.Edges", this.renderTargetWeights = this.renderTargetEdges.clone(), this.renderTargetWeights.texture.name = "SMAA.Weights", this.uniforms.get("weightMap").value = this.renderTargetWeights.texture, this.clearPass = new t0(true, false, false), this.clearPass.overrideClearColor = new at(0), this.clearPass.overrideClearAlpha = 1, this.edgeDetectionPass = new ld(new H_e()), this.edgeDetectionMaterial.edgeDetectionMode = i, this.edgeDetectionMaterial.predicationMode = n, this.weightsPass = new ld(new $_e());
    let s6 = new Bx();
    s6.onLoad = () => {
      let t49 = new Er(r);
      t49.name = "SMAA.Search", t49.magFilter = ui, t49.minFilter = ui, t49.generateMipmaps = false, t49.needsUpdate = true, t49.flipY = true, this.weightsMaterial.searchTexture = t49;
      let e10 = new Er(o3);
      e10.name = "SMAA.Area", e10.magFilter = wi, e10.minFilter = wi, e10.generateMipmaps = false, e10.needsUpdate = true, e10.flipY = false, this.weightsMaterial.areaTexture = e10, this.dispatchEvent({ type: "load" });
    }, s6.itemStart("search"), s6.itemStart("area"), void 0 !== r && void 0 !== o3 ? (s6.itemEnd("search"), s6.itemEnd("area")) : typeof Image < "u" && (r = new Image(), o3 = new Image(), r.addEventListener("load", () => s6.itemEnd("search")), o3.addEventListener("load", () => s6.itemEnd("area")), r.src = aQ, o3.src = lQ), this.applyPreset(e6);
  }
  get edgesTexture() {
    return this.renderTargetEdges.texture;
  }
  getEdgesTexture() {
    return this.edgesTexture;
  }
  get weightsTexture() {
    return this.renderTargetWeights.texture;
  }
  getWeightsTexture() {
    return this.weightsTexture;
  }
  get edgeDetectionMaterial() {
    return this.edgeDetectionPass.fullscreenMaterial;
  }
  get colorEdgesMaterial() {
    return this.edgeDetectionMaterial;
  }
  getEdgeDetectionMaterial() {
    return this.edgeDetectionMaterial;
  }
  get weightsMaterial() {
    return this.weightsPass.fullscreenMaterial;
  }
  getWeightsMaterial() {
    return this.weightsMaterial;
  }
  setEdgeDetectionThreshold(t48) {
    this.edgeDetectionMaterial.edgeDetectionThreshold = t48;
  }
  setOrthogonalSearchSteps(t48) {
    this.weightsMaterial.orthogonalSearchSteps = t48;
  }
  applyPreset(t48) {
    let e6 = this.edgeDetectionMaterial, i = this.weightsMaterial;
    switch (t48) {
      case Ru.LOW:
        e6.edgeDetectionThreshold = 0.15, i.orthogonalSearchSteps = 4, i.diagonalDetection = false, i.cornerDetection = false;
        break;
      case Ru.MEDIUM:
        e6.edgeDetectionThreshold = 0.1, i.orthogonalSearchSteps = 8, i.diagonalDetection = false, i.cornerDetection = false;
        break;
      case Ru.HIGH:
        e6.edgeDetectionThreshold = 0.1, i.orthogonalSearchSteps = 16, i.diagonalSearchSteps = 8, i.cornerRounding = 25, i.diagonalDetection = true, i.cornerDetection = true;
        break;
      case Ru.ULTRA:
        e6.edgeDetectionThreshold = 0.05, i.orthogonalSearchSteps = 32, i.diagonalSearchSteps = 16, i.cornerRounding = 25, i.diagonalDetection = true, i.cornerDetection = true;
    }
  }
  setDepthTexture(t48, e6 = da) {
    this.edgeDetectionMaterial.depthBuffer = t48, this.edgeDetectionMaterial.depthPacking = e6;
  }
  update(t48, e6, i) {
    this.clearPass.render(t48, this.renderTargetEdges), this.edgeDetectionPass.render(t48, e6, this.renderTargetEdges), this.weightsPass.render(t48, this.renderTargetEdges, this.renderTargetWeights);
  }
  setSize(t48, e6) {
    this.edgeDetectionMaterial.setSize(t48, e6), this.weightsMaterial.setSize(t48, e6), this.renderTargetEdges.setSize(t48, e6), this.renderTargetWeights.setSize(t48, e6);
  }
  dispose() {
    let { searchTexture: t48, areaTexture: e6 } = this.weightsMaterial;
    null !== t48 && null !== e6 && (t48.dispose(), e6.dispose()), super.dispose();
  }
  static get searchImageDataURL() {
    return aQ;
  }
  static get areaImageDataURL() {
    return lQ;
  }
}, "SMAAEffect"), mb);
var gb = new Ji();
gb.setAttribute("position", new rn(new Float32Array([-1, -1, 3, -1, -1, 3]), 2)), gb.setAttribute("uv", new rn(new Float32Array([0, 0, 2, 0, 0, 2]), 2)), gb.boundingSphere = new Kh(), gb.computeBoundingSphere = function() {
};
var Qwe = new Sg();
var f7 = class {
  constructor(t48) {
    this._mesh = new Ft(gb, t48), this._mesh.frustumCulled = false;
  }
  render(t48) {
    t48.render(this._mesh, Qwe);
  }
  get material() {
    return this._mesh.material;
  }
  set material(t48) {
    this._mesh.material = t48;
  }
  dispose() {
    this._mesh.material.dispose(), this._mesh.geometry.dispose();
  }
};
q(f7, "$e4ca8dcb0218f846$export$dcd670d73db751f5");
var ud = f7;
var Kwe = { uniforms: { sceneDiffuse: { value: null }, sceneDepth: { value: null }, sceneNormal: { value: null }, projMat: { value: new Ot() }, viewMat: { value: new Ot() }, projViewMat: { value: new Ot() }, projectionMatrixInv: { value: new Ot() }, viewMatrixInv: { value: new Ot() }, cameraPos: { value: new K() }, resolution: { value: new qe() }, time: { value: 0 }, samples: { value: [] }, samplesR: { value: [] }, bluenoise: { value: null }, distanceFalloff: { value: 1 }, radius: { value: 5 }, near: { value: 0.1 }, far: { value: 1e3 }, logDepth: { value: false }, ortho: { value: false }, screenSpaceRadius: { value: false } }, vertexShader: "\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 1);\n}", fragmentShader: "\n    #define SAMPLES 16\n    #define FSAMPLES 16.0\nuniform sampler2D sceneDiffuse;\nuniform sampler2D sceneNormal;\nuniform highp sampler2D sceneDepth;\nuniform mat4 projectionMatrixInv;\nuniform mat4 viewMatrixInv;\nuniform mat4 projMat;\nuniform mat4 viewMat;\nuniform mat4 projViewMat;\nuniform vec3 cameraPos;\nuniform vec2 resolution;\nuniform float time;\nuniform vec3[SAMPLES] samples;\nuniform float[SAMPLES] samplesR;\nuniform float radius;\nuniform float distanceFalloff;\nuniform float near;\nuniform float far;\nuniform bool logDepth;\nuniform bool ortho;\nuniform bool screenSpaceRadius;\nuniform sampler2D bluenoise;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n\n    vec3 getWorldPosLog(vec3 posS) {\n      vec2 uv = posS.xy;\n      float z = posS.z;\n      float nearZ =near;\n      float farZ = far;\n      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n      vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;\n      return wpos.xyz / wpos.w;\n    }\n    vec3 getWorldPos(float depth, vec2 coord) {\n      #ifdef LOGDEPTH\n        return getWorldPosLog(vec3(coord, depth));\n      #endif\n      float z = depth * 2.0 - 1.0;\n      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n      // Perspective division\n     vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;\n     worldSpacePosition.xyz /= worldSpacePosition.w;\n      return worldSpacePosition.xyz;\n  }\n\n  vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n    ivec2 p = ivec2(vUv * resolution);\n    float c0 = texelFetch(sceneDepth, p, 0).x;\n    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n\n    float dl = abs((2.0 * l1 - l2) - c0);\n    float dr = abs((2.0 * r1 - r2) - c0);\n    float db = abs((2.0 * b1 - b2) - c0);\n    float dt = abs((2.0 * t1 - t2) - c0);\n\n    vec3 ce = getWorldPos(c0, vUv).xyz;\n\n    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n\n    return normalize(cross(dpdx, dpdy));\n}\n\nvoid main() {\n      vec4 diffuse = texture2D(sceneDiffuse, vUv);\n      float depth = texture2D(sceneDepth, vUv).x;\n      if (depth == 1.0) {\n        gl_FragColor = vec4(vec3(1.0), 1.0);\n        return;\n      }\n      vec3 worldPos = getWorldPos(depth, vUv);\n    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);\n      #ifdef HALFRES\n        vec3 normal = texture2D(sceneNormal, vUv).rgb;\n      #else\n        vec3 normal = computeNormal(worldPos, vUv);\n      #endif\n      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);\n      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);\n      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));\n      vec3 bitangent = cross(normal, tangent);\n      mat3 tbn = mat3(tangent, bitangent, normal);\n      float occluded = 0.0;\n      float totalWeight = 0.0;\n     /* float radiusScreen = distance(\n        worldPos,\n        getWorldPos(depth, vUv + \n          vec2(48.0, 0.0) / resolution)\n      );/*vUv.x < 0.5 ? radius : min(distance(\n        worldPos,\n        getWorldPos(depth, vUv + \n          vec2(100.0, 0.0) / resolution)\n      ), radius);\n      float distanceFalloffScreen = radiusScreen * 0.2;*/\n      float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : distanceFalloff;\n      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;\n      for(float i = 0.0; i < FSAMPLES; i++) {\n        vec3 sampleDirection = \n        tbn * \n        samples[int(i)];\n        ;\n        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];\n        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;\n        vec4 offset = projViewMat * vec4(samplePos, 1.0);\n        offset.xyz /= offset.w;\n        offset.xyz = offset.xyz * 0.5 + 0.5;\n        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;\n        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) \n         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/\n        #ifdef LOGDEPTH\n        float distSample = linearize_depth_log(sampleDepth, near, far);\n        #else\n        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);\n        #endif\n        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);\n        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));\n        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);\n        float weight = dot(sampleDirection, normal);\n          occluded += rangeCheck * weight * \n            (distSample + bias\n               < distWorld ? 1.0 : 0.0) * (\n          (dot(\n            diff,\n            diff\n             \n            ) < 1.0 || (sampleDepth == depth) || (\n              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0\n            ) ? 0.0 : 1.0)\n          );\n          totalWeight += weight;\n      }\n      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);\n      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);\n}" };
var Jwe = { uniforms: { sceneDiffuse: { value: null }, sceneDepth: { value: null }, tDiffuse: { value: null }, projMat: { value: new Ot() }, viewMat: { value: new Ot() }, projectionMatrixInv: { value: new Ot() }, viewMatrixInv: { value: new Ot() }, cameraPos: { value: new K() }, resolution: { value: new qe() }, color: { value: new K(0, 0, 0) }, blueNoise: { value: null }, downsampledDepth: { value: null }, time: { value: 0 }, intensity: { value: 10 }, renderMode: { value: 0 }, gammaCorrection: { value: false }, logDepth: { value: false }, ortho: { value: false }, near: { value: 0.1 }, far: { value: 1e3 }, screenSpaceRadius: { value: false }, radius: { value: 0 }, distanceFalloff: { value: 1 }, fog: { value: false }, fogExp: { value: false }, fogDensity: { value: 0 }, fogNear: { value: 1 / 0 }, fogFar: { value: 1 / 0 } }, vertexShader: "\n		varying vec2 vUv;\n		void main() {\n			vUv = uv;\n			gl_Position = vec4(position, 1);\n		}", fragmentShader: "\n		uniform sampler2D sceneDiffuse;\n    uniform sampler2D sceneDepth;\n    uniform sampler2D downsampledDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform vec2 resolution;\n    uniform vec3 color;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform float intensity;\n    uniform float renderMode;\n    uniform float near;\n    uniform float far;\n    uniform bool gammaCorrection;\n    uniform bool logDepth;\n    uniform bool ortho;\n    uniform bool screenSpaceRadius;\n    uniform bool fog;\n    uniform bool fogExp;\n    uniform float fogDensity;\n    uniform float fogNear;\n    uniform float fogFar;\n    uniform float radius;\n    uniform float distanceFalloff;\n    uniform vec3 cameraPos;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n    vec3 getWorldPosLog(vec3 posS) {\n        vec2 uv = posS.xy;\n        float z = posS.z;\n        float nearZ =near;\n        float farZ = far;\n        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n        float a = farZ / (farZ - nearZ);\n        float b = farZ * nearZ / (nearZ - farZ);\n        float linDepth = a + b / depth;\n        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n        vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;\n        return wpos.xyz / wpos.w;\n      }\n      vec3 getWorldPos(float depth, vec2 coord) {\n       // if (logDepth) {\n        #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n        #endif\n      //  }\n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n  \n    vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n      ivec2 p = ivec2(vUv * resolution);\n      float c0 = texelFetch(sceneDepth, p, 0).x;\n      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n  \n      float dl = abs((2.0 * l1 - l2) - c0);\n      float dr = abs((2.0 * r1 - r2) - c0);\n      float db = abs((2.0 * b1 - b2) - c0);\n      float dt = abs((2.0 * t1 - t2) - c0);\n  \n      vec3 ce = getWorldPos(c0, vUv).xyz;\n  \n      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n  \n      return normalize(cross(dpdx, dpdy));\n  }\n\n    #include <common>\n    #include <dithering_pars_fragment>\n    void main() {\n        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);\n        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);\n        float depth = texture2D(\n            sceneDepth,\n            vUv\n        ).x;\n        #ifdef HALFRES \n        vec4 texel;\n        if (depth == 1.0) {\n            texel = vec4(0.0, 0.0, 0.0, 1.0);\n        } else {\n        vec3 worldPos = getWorldPos(depth, vUv);\n        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);\n       // vec4 texel = texture2D(tDiffuse, vUv);\n       // Find closest depth;\n       float totalWeight = 0.0;\n       float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : distanceFalloff;\n        for(float x = -1.0; x <= 1.0; x++) {\n            for(float y = -1.0; y <= 1.0; y++) {\n                vec2 offset = vec2(x, y);\n                ivec2 p = ivec2(\n                    (vUv * resolution * 0.5) + offset\n                );\n                vec2 pUv = vec2(p) / (resolution * 0.5);\n                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;\n                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);\n                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;\n                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);\n                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));\n                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);\n                float weight = rangeCheck;\n                totalWeight += weight;\n                texel += sampleInfo * weight;\n            }\n        }\n        if (totalWeight == 0.0) {\n            texel = texture2D(tDiffuse, vUv);\n        } else {\n            texel /= totalWeight;\n        }\n    }\n        #else\n        vec4 texel = texture2D(tDiffuse, vUv);\n        #endif\n\n     \n        float finalAo = pow(texel.a, intensity);\n        float fogFactor;\n        float fogDepth = distance(\n            cameraPos,\n            getWorldPos(depth, vUv)\n        );\n        if (fog) {\n            if (fogExp) {\n                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n            } else {\n                fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n            }\n        }\n        finalAo = mix(finalAo, 1.0, fogFactor);\n        if (renderMode == 0.0) {\n            gl_FragColor = vec4( mix(sceneTexel.rgb, color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 1.0) {\n            gl_FragColor = vec4( mix(vec3(1.0), color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 2.0) {\n            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n        } else if (renderMode == 3.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(sceneTexel.rgb, color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);\n            }\n        } else if (renderMode == 4.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(vec3(1.0), color * sceneTexel.rgb, 1.0 - finalAo), sceneTexel.a);\n            }\n        }\n        #include <dithering_fragment>\n        if (gammaCorrection) {\n            gl_FragColor = LinearTosRGB(gl_FragColor);\n        }\n    }\n    " };
var $we = { uniforms: { sceneDiffuse: { value: null }, sceneDepth: { value: null }, tDiffuse: { value: null }, projMat: { value: new Ot() }, viewMat: { value: new Ot() }, projectionMatrixInv: { value: new Ot() }, viewMatrixInv: { value: new Ot() }, cameraPos: { value: new K() }, resolution: { value: new qe() }, time: { value: 0 }, r: { value: 5 }, blueNoise: { value: null }, radius: { value: 12 }, worldRadius: { value: 5 }, index: { value: 0 }, poissonDisk: { value: [] }, distanceFalloff: { value: 1 }, near: { value: 0.1 }, far: { value: 1e3 }, logDepth: { value: false }, screenSpaceRadius: { value: false } }, vertexShader: "\n		varying vec2 vUv;\n		void main() {\n			vUv = uv;\n			gl_Position = vec4(position, 1.0);\n		}", fragmentShader: "\n		uniform sampler2D sceneDiffuse;\n    uniform highp sampler2D sceneDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform vec2 resolution;\n    uniform float r;\n    uniform float radius;\n     uniform float worldRadius;\n    uniform float index;\n     uniform float near;\n     uniform float far;\n     uniform float distanceFalloff;\n     uniform bool logDepth;\n     uniform bool screenSpaceRadius;\n    varying vec2 vUv;\n\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        highp float z_n = 2.0 * d - 1.0;\n        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     return linearize_depth(linDepth, nearZ, farZ);\n   }\n   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n     return nearZ + (farZ - nearZ) * d;\n   }\n   vec3 getWorldPosLog(vec3 posS) {\n     vec2 uv = posS.xy;\n     float z = posS.z;\n     float nearZ =near;\n     float farZ = far;\n     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n     vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;\n     return wpos.xyz / wpos.w;\n   }\n    vec3 getWorldPos(float depth, vec2 coord) {\n     #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n     #endif\n        \n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n    #include <common>\n    #define NUM_SAMPLES 16\n    uniform vec2 poissonDisk[NUM_SAMPLES];\n    void main() {\n        const float pi = 3.14159;\n        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n        vec2 uv = vUv;\n        vec4 data = texture2D(tDiffuse, vUv);\n        float occlusion = data.a;\n        float baseOcc = data.a;\n        vec3 normal = data.rgb * 2.0 - 1.0;\n        float count = 1.0;\n        float d = texture2D(sceneDepth, vUv).x;\n        vec3 worldPos = getWorldPos(d, vUv);\n        float size = radius;\n        float angle;\n        if (index == 0.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;\n        } else if (index == 1.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;\n        } else if (index == 2.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;\n        } else {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;\n        }\n\n        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n        float radiusToUse = screenSpaceRadius ? distance(\n          worldPos,\n          getWorldPos(d, vUv +\n            vec2(worldRadius, 0.0) / resolution)\n        ) : worldRadius;\n        float distanceFalloffToUse =screenSpaceRadius ?\n            radiusToUse * distanceFalloff\n        : distanceFalloff;\n\n\n        for(int i = 0; i < NUM_SAMPLES; i++) {\n            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;\n            vec4 dataSample = texture2D(tDiffuse, uv + offset);\n            float occSample = dataSample.a;\n            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;\n            float dSample = texture2D(sceneDepth, uv + offset).x;\n            vec3 worldPosSample = getWorldPos(dSample, uv + offset);\n            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));\n            float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));\n            occlusion += occSample * rangeCheck;\n            count += rangeCheck;\n        }\n        occlusion /= count;\n        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);\n    }\n    " };
var eMe = { uniforms: { sceneDepth: { value: null }, resolution: { value: new qe() }, near: { value: 0.1 }, far: { value: 1e3 }, viewMatrixInv: { value: new Ot() }, projectionMatrixInv: { value: new Ot() }, logDepth: { value: false } }, vertexShader: "\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 1);\n    }", fragmentShader: "\n    uniform sampler2D sceneDepth;\n    uniform vec2 resolution;\n    uniform float near;\n    uniform float far;\n    uniform bool logDepth;\n    uniform mat4 viewMatrixInv;\n    uniform mat4 projectionMatrixInv;\n    varying vec2 vUv;\n    layout(location = 1) out vec4 gNormal;\n    vec3 getWorldPosLog(vec3 posS) {\n        vec2 uv = posS.xy;\n        float z = posS.z;\n        float nearZ =near;\n        float farZ = far;\n        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n        float a = farZ / (farZ - nearZ);\n        float b = farZ * nearZ / (nearZ - farZ);\n        float linDepth = a + b / depth;\n        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n        vec4 wpos = viewMatrixInv * projectionMatrixInv * clipVec;\n        return wpos.xyz / wpos.w;\n      }\n      vec3 getWorldPos(float depth, vec2 coord) {\n        if (logDepth) {\n          return getWorldPosLog(vec3(coord, depth));\n        }\n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewMatrixInv * viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n  \n    vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n      ivec2 p = ivec2(vUv * resolution);\n      float c0 = texelFetch(sceneDepth, p, 0).x;\n      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n  \n      float dl = abs((2.0 * l1 - l2) - c0);\n      float dr = abs((2.0 * r1 - r2) - c0);\n      float db = abs((2.0 * b1 - b2) - c0);\n      float dt = abs((2.0 * t1 - t2) - c0);\n  \n      vec3 ce = getWorldPos(c0, vUv).xyz;\n  \n      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n  \n      return normalize(cross(dpdx, dpdy));\n  }\n    void main() {\n        vec2 uv = vUv - vec2(0.5) / resolution;\n        vec2 pixelSize = vec2(1.0) / resolution;\n        vec2[] uvSamples = vec2[4](\n            uv,\n            uv + vec2(pixelSize.x, 0.0),\n            uv + vec2(0.0, pixelSize.y),\n            uv + pixelSize\n        );\n        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;\n        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;\n        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;\n        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;\n        float minDepth = min(min(depth00, depth10), min(depth01, depth11));\n        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));\n        float targetDepth = minDepth;\n        // Checkerboard pattern to avoid artifacts\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { \n            targetDepth = maxDepth;\n        }\n        int chosenIndex = 0;\n        float[] samples = float[4](depth00, depth10, depth01, depth11);\n        for(int i = 0; i < 4; ++i) {\n            if (samples[i] == targetDepth) {\n                chosenIndex = i;\n                break;\n            }\n        }\n        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);\n        gNormal = vec4(computeNormal(\n            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]\n        ), 0.0);\n       /* float[] samples = float[4](depth00, depth10, depth01, depth11);\n        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);\n        float[] distances = float[4](depth00, depth10, depth01, depth11);\n        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));\n\n        int remaining[3];\n        int rejected[3];\n        int i, j, k;\n\n        for(i = 0, j = 0, k = 0; i < 4; ++i) {\n            if (distances[i] < maxDistance) {\n                remaining[j++] = i;\n            } else {\n                rejected[k++] = i;\n            }\n        }\n        for(;j < 3;++j) {\n            remaining[j] = rejected[--k];\n        }\n        vec3 s = vec3(\n            samples[remaining[0]],\n            samples[remaining[1]],\n            samples[remaining[2]]\n        );\n        c = (s.x + s.y + s.z) / 3.0;\n\n        distances[0] = abs(c - s.x);\n        distances[1] = abs(c - s.y);\n        distances[2] = abs(c - s.z);\n\n        float minDistance = min(min(distances[0], distances[1]), distances[2]);\n\n        for(i = 0; i < 3; ++i) {\n            if (distances[i] == minDistance) {\n                break;\n            }\n        }*/\n      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);\n        gNormal = vec4(computeNormal(\n            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]\n        ), 0.0);*/\n    }" };
var yQ = "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";
var tMe = Uint8Array.from(atob(yQ), (t48) => t48.charCodeAt(0));
function xQ(t48, e6, i) {
  if (e6.getQueryParameter(t48, e6.QUERY_RESULT_AVAILABLE)) {
    let n = e6.getQueryParameter(t48, e6.QUERY_RESULT) / 1e6;
    i.lastTime = n;
  } else
    setTimeout(() => {
      xQ(t48, e6, i);
    }, 1);
}
q(xQ, "$87431ee93b037844$var$checkTimerQuery");
var p7 = class extends Jo {
  constructor(t48, e6, i = 512, n = 512) {
    super(), this.width = i, this.height = n, this.clear = true, this.camera = e6, this.scene = t48, this.autosetGamma = true, this.configuration = new Proxy({ aoSamples: 16, aoRadius: 5, denoiseSamples: 8, denoiseRadius: 12, distanceFalloff: 1, intensity: 5, denoiseIterations: 2, renderMode: 0, color: new at(0, 0, 0), gammaCorrection: true, logarithmicDepthBuffer: false, screenSpaceRadius: false, halfRes: false, depthAwareUpsampling: true }, { set: (t49, e10, i10) => {
      let n10 = t49[e10];
      return t49[e10] = i10, "aoSamples" === e10 && n10 !== i10 && this.configureAOPass(this.configuration.logarithmicDepthBuffer), "denoiseSamples" === e10 && n10 !== i10 && this.configureDenoisePass(this.configuration.logarithmicDepthBuffer), "halfRes" === e10 && n10 !== i10 && (this.configureAOPass(this.configuration.logarithmicDepthBuffer), this.configureHalfResTargets(), this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer), this.setSize(this.width, this.height)), "depthAwareUpsampling" === e10 && n10 !== i10 && this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer), "gammaCorrection" === e10 && (this.autosetGamma = false), true;
    } }), this.samples = [], this.samplesR = [], this.samplesDenoise = [], this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer), this.configureSampleDependentPasses(), this.configureHalfResTargets(), this.copyQuad = new ud(new Xt({ uniforms: { tDiffuse: { value: null } }, depthWrite: false, vertexShader: "\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1);\n            }\n            ", fragmentShader: "\n            uniform sampler2D tDiffuse;\n            varying vec2 vUv;\n            void main() {\n                gl_FragColor = texture2D(tDiffuse, vUv);\n            }\n            " })), this.writeTargetInternal = new ti(this.width, this.height, { minFilter: wi, magFilter: wi, depthBuffer: false }), this.readTargetInternal = new ti(this.width, this.height, { minFilter: wi, magFilter: wi, depthBuffer: false }), this.outputTargetInternal = new ti(this.width, this.height, { minFilter: wi, magFilter: wi, depthBuffer: false }), this.bluenoise = new Sx(tMe, 128, 128), this.bluenoise.colorSpace = qW, this.bluenoise.wrapS = wr, this.bluenoise.wrapT = wr, this.bluenoise.minFilter = ui, this.bluenoise.magFilter = ui, this.bluenoise.needsUpdate = true, this.lastTime = 0, this.needsDepthTexture = true, this.needsSwap = true, this._r = new qe(), this._c = new at();
  }
  configureHalfResTargets() {
    this.configuration.halfRes ? (this.depthDownsampleTarget = new jE(this.width / 2, this.height / 2, 2), this.depthDownsampleTarget.texture[0].format = AO, this.depthDownsampleTarget.texture[0].type = Au, this.depthDownsampleTarget.texture[0].minFilter = ui, this.depthDownsampleTarget.texture[0].magFilter = ui, this.depthDownsampleTarget.texture[0].depthBuffer = false, this.depthDownsampleTarget.texture[1].format = Gs, this.depthDownsampleTarget.texture[1].type = Np, this.depthDownsampleTarget.texture[1].minFilter = ui, this.depthDownsampleTarget.texture[1].magFilter = ui, this.depthDownsampleTarget.texture[1].depthBuffer = false, this.depthDownsampleQuad = new ud(new Xt(eMe))) : (this.depthDownsampleTarget && (this.depthDownsampleTarget.dispose(), this.depthDownsampleTarget = null), this.depthDownsampleQuad && (this.depthDownsampleQuad.dispose(), this.depthDownsampleQuad = null));
  }
  configureSampleDependentPasses() {
    this.configureAOPass(this.configuration.logarithmicDepthBuffer), this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);
  }
  configureAOPass(t48 = false) {
    this.samples = this.generateHemisphereSamples(this.configuration.aoSamples), this.samplesR = this.generateHemisphereSamplesR(this.configuration.aoSamples);
    let e6 = { ...Kwe };
    e6.fragmentShader = e6.fragmentShader.replace("16", this.configuration.aoSamples).replace("16.0", this.configuration.aoSamples + ".0"), t48 && (e6.fragmentShader = "#define LOGDEPTH\n" + e6.fragmentShader), this.configuration.halfRes && (e6.fragmentShader = "#define HALFRES\n" + e6.fragmentShader), this.effectShaderQuad ? (this.effectShaderQuad.material.dispose(), this.effectShaderQuad.material = new Xt(e6)) : this.effectShaderQuad = new ud(new Xt(e6));
  }
  configureDenoisePass(t48 = false) {
    this.samplesDenoise = this.generateDenoiseSamples(this.configuration.denoiseSamples, 11);
    let e6 = { ...$we };
    e6.fragmentShader = e6.fragmentShader.replace("16", this.configuration.denoiseSamples), t48 && (e6.fragmentShader = "#define LOGDEPTH\n" + e6.fragmentShader), this.poissonBlurQuad ? (this.poissonBlurQuad.material.dispose(), this.poissonBlurQuad.material = new Xt(e6)) : this.poissonBlurQuad = new ud(new Xt(e6));
  }
  configureEffectCompositer(t48 = false) {
    let e6 = { ...Jwe };
    t48 && (e6.fragmentShader = "#define LOGDEPTH\n" + e6.fragmentShader), this.configuration.halfRes && this.configuration.depthAwareUpsampling && (e6.fragmentShader = "#define HALFRES\n" + e6.fragmentShader), this.effectCompositerQuad ? (this.effectCompositerQuad.material.dispose(), this.effectCompositerQuad.material = new Xt(e6)) : this.effectCompositerQuad = new ud(new Xt(e6));
  }
  generateHemisphereSamples(t48) {
    let e6 = [];
    for (let i = 0; i < t48; i++) {
      let n = 2.399963 * i, r = Math.sqrt(i + 0.5) / Math.sqrt(t48), o3 = r * Math.cos(n), s6 = r * Math.sin(n), a = Math.sqrt(1 - (o3 * o3 + s6 * s6));
      e6.push(new K(o3, s6, a));
    }
    return e6;
  }
  generateHemisphereSamplesR(t48) {
    let e6 = [];
    for (let i = 0; i < t48; i++)
      e6.push((i + 1) / t48);
    return e6;
  }
  generateDenoiseSamples(t48, e6) {
    let i = 2 * Math.PI * e6 / t48, n = 1 / t48, r = n, o3 = [], s6 = n, a = 0;
    for (let e10 = 0; e10 < t48; e10++)
      o3.push(new qe(Math.cos(a), Math.sin(a)).multiplyScalar(Math.pow(s6, 0.75))), s6 += r, a += i;
    return o3;
  }
  setSize(t48, e6) {
    this.width = t48, this.height = e6;
    let i = this.configuration.halfRes ? 0.5 : 1;
    this.writeTargetInternal.setSize(t48 * i, e6 * i), this.readTargetInternal.setSize(t48 * i, e6 * i), this.configuration.halfRes && this.depthDownsampleTarget.setSize(t48 * i, e6 * i), this.outputTargetInternal.setSize(t48, e6);
  }
  setDepthTexture(t48) {
    this.depthTexture = t48;
  }
  render(t48, e6, i) {
    let n, r, o3, s6 = t48.xr.enabled;
    t48.xr.enabled = false, t48.capabilities.logarithmicDepthBuffer !== this.configuration.logarithmicDepthBuffer && (this.configuration.logarithmicDepthBuffer = t48.capabilities.logarithmicDepthBuffer, this.configureAOPass(this.configuration.logarithmicDepthBuffer), this.configureDenoisePass(this.configuration.logarithmicDepthBuffer), this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)), this.debugMode && (n = t48.getContext(), r = n.getExtension("EXT_disjoint_timer_query_webgl2"), null === r && (console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."), this.debugMode = false)), this.debugMode && (o3 = n.createQuery(), n.beginQuery(r.TIME_ELAPSED_EXT, o3)), this.camera.updateMatrixWorld(), this._r.set(this.width, this.height);
    let a = this.configuration.aoRadius;
    this.configuration.halfRes && this.configuration.screenSpaceRadius && (a *= 0.5), this.configuration.halfRes && (t48.setRenderTarget(this.depthDownsampleTarget), this.depthDownsampleQuad.material.uniforms.sceneDepth.value = this.depthTexture, this.depthDownsampleQuad.material.uniforms.resolution.value = this._r, this.depthDownsampleQuad.material.uniforms.near.value = this.camera.near, this.depthDownsampleQuad.material.uniforms.far.value = this.camera.far, this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.depthDownsampleQuad.material.uniforms.logDepth.value = this.configuration.logarithmicDepthBuffer, this.depthDownsampleQuad.render(t48)), this.effectShaderQuad.material.uniforms.sceneDiffuse.value = e6.texture, this.effectShaderQuad.material.uniforms.sceneDepth.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture, this.effectShaderQuad.material.uniforms.sceneNormal.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[1] : null, this.effectShaderQuad.material.uniforms.projMat.value = this.camera.projectionMatrix, this.effectShaderQuad.material.uniforms.viewMat.value = this.camera.matrixWorldInverse, this.effectShaderQuad.material.uniforms.projViewMat.value = this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()), this.effectShaderQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.effectShaderQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.effectShaderQuad.material.uniforms.cameraPos.value = this.camera.getWorldPosition(new K()), this.effectShaderQuad.material.uniforms.resolution.value = this.configuration.halfRes ? this._r.clone().multiplyScalar(0.5).floor() : this._r, this.effectShaderQuad.material.uniforms.time.value = performance.now() / 1e3, this.effectShaderQuad.material.uniforms.samples.value = this.samples, this.effectShaderQuad.material.uniforms.samplesR.value = this.samplesR, this.effectShaderQuad.material.uniforms.bluenoise.value = this.bluenoise, this.effectShaderQuad.material.uniforms.radius.value = a, this.effectShaderQuad.material.uniforms.distanceFalloff.value = this.configuration.distanceFalloff, this.effectShaderQuad.material.uniforms.near.value = this.camera.near, this.effectShaderQuad.material.uniforms.far.value = this.camera.far, this.effectShaderQuad.material.uniforms.logDepth.value = t48.capabilities.logarithmicDepthBuffer, this.effectShaderQuad.material.uniforms.ortho.value = this.camera.isOrthographicCamera, this.effectShaderQuad.material.uniforms.screenSpaceRadius.value = this.configuration.screenSpaceRadius, t48.setRenderTarget(this.writeTargetInternal), this.effectShaderQuad.render(t48);
    for (let e10 = 0; e10 < this.configuration.denoiseIterations; e10++)
      [this.writeTargetInternal, this.readTargetInternal] = [this.readTargetInternal, this.writeTargetInternal], this.poissonBlurQuad.material.uniforms.tDiffuse.value = this.readTargetInternal.texture, this.poissonBlurQuad.material.uniforms.sceneDepth.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture, this.poissonBlurQuad.material.uniforms.projMat.value = this.camera.projectionMatrix, this.poissonBlurQuad.material.uniforms.viewMat.value = this.camera.matrixWorldInverse, this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.poissonBlurQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.poissonBlurQuad.material.uniforms.cameraPos.value = this.camera.getWorldPosition(new K()), this.poissonBlurQuad.material.uniforms.resolution.value = this.configuration.halfRes ? this._r.clone().multiplyScalar(0.5).floor() : this._r, this.poissonBlurQuad.material.uniforms.time.value = performance.now() / 1e3, this.poissonBlurQuad.material.uniforms.blueNoise.value = this.bluenoise, this.poissonBlurQuad.material.uniforms.radius.value = this.configuration.denoiseRadius * (this.configuration.halfRes ? 0.5 : 1), this.poissonBlurQuad.material.uniforms.worldRadius.value = a, this.poissonBlurQuad.material.uniforms.distanceFalloff.value = this.configuration.distanceFalloff, this.poissonBlurQuad.material.uniforms.index.value = e10, this.poissonBlurQuad.material.uniforms.poissonDisk.value = this.samplesDenoise, this.poissonBlurQuad.material.uniforms.near.value = this.camera.near, this.poissonBlurQuad.material.uniforms.far.value = this.camera.far, this.poissonBlurQuad.material.uniforms.logDepth.value = t48.capabilities.logarithmicDepthBuffer, this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value = this.configuration.screenSpaceRadius, t48.setRenderTarget(this.writeTargetInternal), this.poissonBlurQuad.render(t48);
    this.effectCompositerQuad.material.uniforms.sceneDiffuse.value = e6.texture, this.effectCompositerQuad.material.uniforms.sceneDepth.value = this.depthTexture, this.effectCompositerQuad.material.uniforms.near.value = this.camera.near, this.effectCompositerQuad.material.uniforms.far.value = this.camera.far, this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.effectCompositerQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.effectCompositerQuad.material.uniforms.logDepth.value = t48.capabilities.logarithmicDepthBuffer, this.effectCompositerQuad.material.uniforms.ortho.value = this.camera.isOrthographicCamera, this.effectCompositerQuad.material.uniforms.downsampledDepth.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture, this.effectCompositerQuad.material.uniforms.resolution.value = this._r, this.effectCompositerQuad.material.uniforms.blueNoise.value = this.bluenoise, this.effectCompositerQuad.material.uniforms.intensity.value = this.configuration.intensity, this.effectCompositerQuad.material.uniforms.renderMode.value = this.configuration.renderMode, this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value = this.configuration.screenSpaceRadius, this.effectCompositerQuad.material.uniforms.radius.value = a, this.effectCompositerQuad.material.uniforms.distanceFalloff.value = this.configuration.distanceFalloff, this.effectCompositerQuad.material.uniforms.gammaCorrection.value = this.autosetGamma ? this.renderToScreen : this.configuration.gammaCorrection, this.effectCompositerQuad.material.uniforms.tDiffuse.value = this.writeTargetInternal.texture, this.effectCompositerQuad.material.uniforms.color.value = this._c.copy(this.configuration.color).convertSRGBToLinear(), this.effectCompositerQuad.material.uniforms.cameraPos.value = this.camera.getWorldPosition(new K()), this.effectCompositerQuad.material.uniforms.fog.value = !!this.scene.fog, this.scene.fog && (this.scene.fog.isFog ? (this.effectCompositerQuad.material.uniforms.fogExp.value = false, this.effectCompositerQuad.material.uniforms.fogNear.value = this.scene.fog.near, this.effectCompositerQuad.material.uniforms.fogFar.value = this.scene.fog.far) : this.scene.fog.isFogExp2 ? (this.effectCompositerQuad.material.uniforms.fogExp.value = true, this.effectCompositerQuad.material.uniforms.fogDensity.value = this.scene.fog.density) : console.error("Unsupported fog type ".concat(this.scene.fog.constructor.name, " in SSAOPass."))), t48.setRenderTarget(this.outputTargetInternal), this.effectCompositerQuad.render(t48), t48.setRenderTarget(this.renderToScreen ? null : i), this.copyQuad.material.uniforms.tDiffuse.value = this.outputTargetInternal.texture, this.copyQuad.render(t48), this.debugMode && (n.endQuery(r.TIME_ELAPSED_EXT), xQ(o3, n, this)), t48.xr.enabled = s6;
  }
  enableDebugMode() {
    this.debugMode = true;
  }
  disableDebugMode() {
    this.debugMode = false;
  }
  setDisplayMode(t48) {
    this.configuration.renderMode = ["Combined", "AO", "No AO", "Split", "Split AO"].indexOf(t48);
  }
  setQualityMode(t48) {
    "Performance" === t48 ? (this.configuration.aoSamples = 8, this.configuration.denoiseSamples = 4, this.configuration.denoiseRadius = 12) : "Low" === t48 ? (this.configuration.aoSamples = 16, this.configuration.denoiseSamples = 4, this.configuration.denoiseRadius = 12) : "Medium" === t48 ? (this.configuration.aoSamples = 16, this.configuration.denoiseSamples = 8, this.configuration.denoiseRadius = 12) : "High" === t48 ? (this.configuration.aoSamples = 64, this.configuration.denoiseSamples = 8, this.configuration.denoiseRadius = 6) : "Ultra" === t48 && (this.configuration.aoSamples = 64, this.configuration.denoiseSamples = 16, this.configuration.denoiseRadius = 6);
  }
};
q(p7, "$87431ee93b037844$export$2489f9981ab0fa82");
var sS = p7;
var Sxt = Uint8Array.from(atob(yQ), (t48) => t48.charCodeAt(0));
var FQ = u(O4());
var vb = "varying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n\n";
var bQ = "varying vec2 vUv;\nuniform sampler2D colorTexture;\n\nvoid main() {\n	vec4 outputColor = texture2D(colorTexture, vUv).rgba;\n\n	gl_FragColor = outputColor;\n}\n";
var _Q = "varying vec2 vUv;\nuniform float animatedColorOpacity;\nuniform sampler2D inputBuffer;\nuniform sampler2D staticSceneDepthTexture;\nuniform sampler2D animatedSceneColorTexture;\nuniform sampler2D animatedSceneDepthTexture;\nuniform sampler2D alwaysOnBottomSceneColorTexture;\n\n// Perform alpha blending between two colors with non-premultiplied\n// alpha, and return their non-premultiplied composite.\n//\n// This corresponds to the OVER porter-duff operation, aka, standard alpha\n// blending as implemented in most image editors.\nvec4 alphaBlend(vec4 background, vec4 foreground) {\n	vec3 resultColor = (\n		foreground.rgb * foreground.a +\n		background.rgb * background.a * (1.0 - foreground.a)\n	);\n	float resultAlpha = foreground.a + background.a * (1.0 - foreground.a);\n	return vec4(resultColor / resultAlpha, resultAlpha);\n}\n\nvoid main() {\n	float staticDepth = texture2D(staticSceneDepthTexture, vUv).r;\n	float animatedDepth = texture2D(animatedSceneDepthTexture, vUv).r;\n\n	vec4 inputColor = texture2D(inputBuffer, vUv).rgba;\n	vec4 animatedColor = texture2D(animatedSceneColorTexture, vUv).rgba;\n\n	if (staticDepth < animatedDepth) {\n		animatedColor.a *= animatedColorOpacity;\n	}\n\n	vec4 mixedColor = alphaBlend(inputColor, animatedColor);\n\n	gl_FragColor = mixedColor;\n}\n";
var wQ = "varying vec2 vUv;\nuniform sampler2D inputBuffer;\nuniform sampler2D alwaysOnBottomSceneColorTexture;\nuniform sampler2D alwaysOnTopSceneColorTexture;\n\n// Assumes that the foreground (src) color is premultiplied with its alpha.\n// This corresponds to GL_ONE source factor and GL_ONE_MINUS_SRC_ALPHA for destination factor.\nvec4 alphaBlendPremultipliedAlpha(vec4 background, vec4 foreground) {\n	return foreground + (background * (1.0 - foreground.a));\n}\n\nvoid main() {\n	vec4 staticSceneColor = linearToOutputTexel(texture2D(inputBuffer, vUv).rgba);\n	vec4 outdoorViewColor = texture2D(alwaysOnBottomSceneColorTexture, vUv).rgba;\n	vec4 alwaysOnTopColor = linearToOutputTexel(texture2D(alwaysOnTopSceneColorTexture, vUv).rgba);\n	vec4 staticPlusOutdoor = mix(outdoorViewColor, staticSceneColor, staticSceneColor.a);\n	\n	gl_FragColor = alphaBlendPremultipliedAlpha(staticPlusOutdoor, alwaysOnTopColor);\n}\n";
var MQ = "varying vec2 vUv;\nuniform sampler2D staticSceneColorTexture;\n\nvoid main() {\n	vec4 inputColor = texture2D(staticSceneColorTexture, vUv).rgba;\n\n	gl_FragColor = inputColor;\n}\n";
c(), c();
var aMe = q(function(t48, e6, i) {
  this.touch = t48, this.camera = e6, this.cameraPlane = i, this.viewCoordinate = { x: t48.x, y: t48.y }, this.camera.updateMatrixWorld(), this.camera.updateMatrix(), this.snapHolderMatrix = this.camera.matrixWorld.clone(), this.snapCamera = this.camera.clone(), this.snapshotCameraState = function() {
    this.camera.updateMatrix(), this.camera.updateMatrixWorld(), this.cameraPosition = this.camera.position;
    let t49 = new K(this.viewCoordinate.x, this.viewCoordinate.y, 1);
    this.raycaster = this.raycaster || new pa(), this.raycaster.setFromCamera(t49, this.snapCamera);
    let e10 = this.raycaster.intersectObject(this.cameraPlane, false);
    this.worldCoordinate = e10 && e10[0] && e10[0].point, this.snapshotted = true;
  }, this.updateAnchorState = function(t49, e10) {
    this.camera = t49, this.snapCamera = t49.clone(), this.snapHolderMatrix = t49.matrixWorld.clone(), this.updateViewCoordinate(e10), this.snapshotCameraState();
  }, this.updateViewCoordinate = function(t49) {
    this.viewCoordinate = { x: t49.x, y: t49.y };
  }, this.reUnproject = function() {
    let t49 = new K(this.viewCoordinate.x, this.viewCoordinate.y, 1);
    this.raycaster.setFromCamera(t49, this.snapCamera);
    let e10 = this.raycaster.intersectObject(this.cameraPlane, false)[0];
    if (e10)
      return e10.point;
  }, this.snapshotCameraState();
}, "TouchAnchor");
var d7 = aMe;
function EQ(t48, e6) {
  return Math.atan2(e6.y - t48.y, e6.x - t48.x);
}
function oS(t48, e6) {
  return Math.sqrt((e6.y - t48.y) ** 2 + (e6.x - t48.x) ** 2);
}
function TQ(t48, e6) {
  return { x: (t48.x + e6.x) / 2, y: (t48.y + e6.y) / 2 };
}
c(), q(EQ, "angle"), q(oS, "distance"), q(TQ, "average");
var lMe = q(function(t48, e6) {
  this.input1 = t48, this.input2 = e6, this.lastAngle = EQ(t48, e6), this.lastDistance = oS(t48, e6), this.totalDistance = 0, this.first = t48, this.second = e6, this.update = function(t49, e10) {
    let i = oS(t49, e10);
    this.input1 = t49, this.input2 = e10;
    let n = EQ(t49, e10);
    this.lastAngle = n, this.lastDistance = i, this.totalDistance += (oS(this.first, t49) + oS(this.second, e10)) / 2, this.first = TQ(this.first, t49), this.second = TQ(this.second, e10);
  };
}, "InputSet");
var SQ = lMe;
c();
var AQ = u(Eu());
var aS = { SINGLE_FLOOR: "single_floor", MULTI_FLOOR: "multi_floor" };
var Yxt = Math.PI / 2;
var Xxt = AQ.default.Easing.Quadratic.InOut;
function n0(t48, e6, i) {
  null == e6 && (e6 = t48.g, i = t48.b, t48 = t48.r);
  let n = 0, r = t48;
  e6 > t48 && (n = 1, r = e6), i > e6 && i > t48 && (n = 2, r = i);
  let o3 = t48;
  e6 < t48 && (o3 = e6), i < e6 && i < t48 && (o3 = i);
  let s6 = 0, a = 0, l = 0;
  return r !== o3 && (s6 = 0 === n ? 60 / 360 * (e6 - i) / (r - o3) : 1 === n ? 60 / 360 * (2 + (i - t48) / (r - o3)) : 60 / 360 * (4 + (t48 - e6) / (r - o3)), a = 0 === r ? 0 : (r - o3) / r), l = r, [s6, a, l];
}
function oh(t48, e6, i) {
  let n = 360 * t48 % 360 / 60, r = 0 | n, o3 = n - r, s6 = i * (1 - e6), a = i * (1 - e6 * o3), l = i * (1 - e6 * (1 - o3)), u2 = 0, h = 0, c2 = 0;
  switch (r) {
    case 0:
      u2 = i, h = l, c2 = s6;
      break;
    case 1:
      u2 = a, h = i, c2 = s6;
      break;
    case 2:
      u2 = s6, h = i, c2 = l;
      break;
    case 3:
      u2 = s6, h = a, c2 = i;
      break;
    case 4:
      u2 = l, h = s6, c2 = i;
      break;
    case 5:
      u2 = i, h = s6, c2 = a;
  }
  return new at(u2, h, c2);
}
c(), c(), q(n0, "rgb2hsv"), q(oh, "hsv2rgb");
var CQ = 16;
var x7 = class {
  constructor({ minimum: t48, maximum: e6, step: i, current: n, onValueChanged: r }) {
    this._minimum = t48, this._maximum = e6, this._step = i, this._onValueChanged = r, this._element = document.createElement("input"), this._element.type = "range", this._element.min = this._minimum, this._element.max = this._maximum, null != this._step && (this._element.step = this._step), this._element.value = null != n ? n : this._minimum, null != r && (this._element.addEventListener("input", (t49) => {
      r(this._element.value);
    }), r(this._element.value)), Object.assign(this._element.style, { height: CQ + "px" });
  }
  destroy() {
    this._element = null, Object.setPrototypeOf(this, null);
  }
  addValueChangedListener(t48) {
    this._element.addEventListener("input", (e6) => t48(this._element.value));
  }
  setValue(t48) {
    this._element.value = t48;
  }
  get element() {
    return this._element;
  }
  get value() {
    return this._element.value;
  }
  get displayedValue() {
    return "" + this._element.value;
  }
  get height() {
    return CQ;
  }
};
q(x7, "DebugUIScalarSlider");
var yb = x7;
var m7 = 16;
var b7 = class {
  constructor({ current: t48, onValueChanged: e6 }) {
    this._onValueChanged = e6, this._element = document.createElement("div"), this._titleElement = document.createElement("input"), this._titleElement.type = "checkbox", this._titleElement.checked = t48 || false, Object.assign(this._titleElement.style, { width: m7 + "px", height: m7 + "px", margin: "0px" }), null != e6 && (this._titleElement.addEventListener("click", (t49) => {
      e6(this._titleElement.checked);
    }), e6(this._titleElement.checked));
  }
  destroy() {
    this._element = null, this._titleElement = null, Object.setPrototypeOf(this, null);
  }
  addValueChangedListener(t48) {
    this._titleElement.addEventListener("click", (e6) => t48(this._titleElement.checked));
  }
  get element() {
    return this._element;
  }
  get titleElement() {
    return this._titleElement;
  }
  get value() {
    return this._titleElement.checked;
  }
  get displayedValue() {
    return this._titleElement.checked ? "true" : "false";
  }
  get height() {
    return 0;
  }
  get titleElementWidth() {
    return m7;
  }
};
q(b7, "DebugUICheckbox");
var hS = b7;
var g7 = 12;
var lS = 2;
var i0 = 64;
var uS = 16;
var v7 = 24;
var PQ = 48;
var _7 = class {
  constructor({ current: t48, onValueChanged: e6 }) {
    this._onValueChanged = e6, this._element = document.createElement("div"), this._titleElement = document.createElement("div"), this._color = t48 || new at(), this._listeners = [], Object.assign(this._element.style, { width: "100%", height: this.height + "px" }), Object.assign(this._titleElement.style, { width: g7 - 2 + "px", height: g7 - 2 + "px", "border-radius": "2px" }), this._colorPickerMain = document.createElement("canvas"), this._colorPickerMain.height = i0 - 2, Object.assign(this._colorPickerMain.style, { position: "absolute", left: "0px", right: "0px", top: "0px", height: i0 - 2 + "px" }), this._element.appendChild(this._colorPickerMain), this._colorPickerBottomSlider = document.createElement("canvas"), this._colorPickerBottomSlider.height = uS - 2, Object.assign(this._colorPickerBottomSlider.style, { position: "absolute", left: "0px", right: "0px", top: i0 + lS + "px", height: uS - 2 + "px" }), this._element.appendChild(this._colorPickerBottomSlider), this._requestAnimationFrameHandle = null, this._requestAnimationFrameUpdate = this._requestAnimationFrameUpdate.bind(this), this._pickingMain = false, this._pickingX = 0, this._pickingY = 0, this._colorPickerMain.addEventListener("pointerdown", (t49) => {
      this._pickingMain = true, this._updateMain(t49.offsetX, t49.offsetY), this._notify(), this._moveListener = (t50) => {
        let e10 = t50.clientX - this._colorPickerMain.getBoundingClientRect().x, i10 = t50.clientY - this._colorPickerMain.getBoundingClientRect().y;
        this._pickingX = Math.min(Math.max(e10, 0), this._colorPickerMain.clientWidth), this._pickingY = Math.min(Math.max(i10, 0), this._colorPickerMain.clientHeight), this._requestAnimationFrame();
      }, document.body.addEventListener("pointermove", this._moveListener), this._upListener = (t50) => {
        this._pickingMain = false, this.redraw(), document.body.removeEventListener("pointermove", this._moveListener), document.body.removeEventListener("pointerup", this._upListener), delete this._moveListener, delete this._upListener;
      }, document.body.addEventListener("pointerup", this._upListener);
    }), this._pickingBottomSlider = false, this._colorPickerBottomSlider.addEventListener("pointerdown", (t49) => {
      this._pickingBottomSlider = true, this._updateBottomSlider(t49.offsetX), this._notify(), this._bottomMoveListener = (t50) => {
        let e10 = t50.clientX - this._colorPickerBottomSlider.getBoundingClientRect().x;
        this._pickingX = Math.min(Math.max(e10, 0), this._colorPickerMain.clientWidth), this._requestAnimationFrame();
      }, document.body.addEventListener("pointermove", this._bottomMoveListener), this._bottomUpListener = (t50) => {
        this._pickingBottomSlider = false, this.redraw(), document.body.removeEventListener("pointermove", this._bottomMoveListener), document.body.removeEventListener("pointerup", this._bottomUpListener), delete this._bottomMoveListener, delete this._bottomUpListener;
      }, document.body.addEventListener("pointerup", this._bottomUpListener);
    });
    let i = 0, n = q((t49, e10) => {
      let n10 = document.createElement("button");
      return Object.assign(n10.style, { position: "absolute", top: this.height - v7 + "px", left: i + "px", height: v7 + "px", width: PQ + "px", color: "grey" }), n10.innerHTML = e10, i += PQ + lS, n10.addEventListener("click", () => {
        this._modeButtons[this._mode].style.color = "grey", this._mode = t49, n10.style.color = "black", this.redraw();
      }), this._element.appendChild(n10), n10;
    }, "createModeButton");
    this._modeButtons = {}, this._modeButtons.hsv = n("hsv", "HSV"), this._modeButtons.svh = n("svh", "SVH"), this._modeButtons.rgb = n("rgb", "RGB"), this._mode = "hsv", this._modeButtons.hsv.style.color = "black", this._requestAnimationFrame(), this._notify();
  }
  destroy() {
    document.body.removeEventListener("pointermove", this._moveListener), document.body.removeEventListener("pointerup", this._upListener), document.body.removeEventListener("pointermove", this._bottomMoveListener), document.body.removeEventListener("pointerup", this._bottomUpListener), this._element = null, this._titleElement = null, this._destroyed = true, Object.setPrototypeOf(this, null);
  }
  addValueChangedListener(t48) {
    this._listeners.push(t48);
  }
  setValue(t48) {
    this._color.copy(t48), this.redraw(), this._notify();
  }
  _requestAnimationFrame() {
    null == this._requestAnimationFrameHandle && !this._destroyed && (this._requestAnimationFrameHandle = requestAnimationFrame(this._requestAnimationFrameUpdate));
  }
  _requestAnimationFrameUpdate() {
    this._pickingMain && (this._updateMain(this._pickingX, this._pickingY), this._notify()), this._pickingBottomSlider && (this._updateBottomSlider(this._pickingX), this._notify()), this._requestAnimationFrameHandle = null;
  }
  _notify() {
    null != this._onValueChanged && this._onValueChanged(this._color);
    for (let t48 of this._listeners)
      t48(this._color);
  }
  _updateMain(t48, e6) {
    let i = this._colorPickerMain.clientWidth, n = i0;
    this._pickingX = Math.min(Math.max(t48, 1), i - 1) - 1, this._pickingY = Math.min(Math.max(e6, 1), n - 1) - 1;
    let r = this._pickingX / (i - 1), o3 = this._pickingY / (n - 1);
    if ("hsv" === this._mode) {
      let [, , t49] = n0(this._color);
      this._color.set(oh(r, o3, t49));
    } else if ("svh" === this._mode) {
      let [t49, ,] = n0(this._color);
      this._color.set(oh(t49, r, 1 - o3));
    } else
      this._color.r = r, this._color.g = o3;
    this.redraw();
  }
  _updateBottomSlider(t48) {
    let e6 = this._colorPickerBottomSlider.clientWidth;
    this._pickingX = Math.min(Math.max(t48, 1), e6 - 1) - 1;
    let i = this._pickingX / (e6 - 1);
    if ("hsv" === this._mode) {
      let [t49, e10] = n0(this._color);
      this._color.set(oh(t49, e10, i));
    } else if ("svh" === this._mode) {
      let [, t49, e10] = n0(this._color);
      this._color.set(oh(i, t49, e10));
    } else
      this._color.b = i;
    this.redraw();
  }
  redraw() {
    let t48 = this._element.clientWidth - 2, e6 = i0 - 2, i = uS - 2;
    this._colorPickerMain.width !== t48 && (this._colorPickerMain.width = t48);
    let [n, r, o3] = n0(this._color), s6 = this._colorPickerMain.getContext("2d");
    for (let i10 = 0; i10 < e6; ++i10)
      for (let r6 = 0; r6 < t48; ++r6) {
        if ("hsv" === this._mode) {
          let n10 = r6 / (t48 - 1), a3 = i10 / (e6 - 1), l3 = o3, { r: u3, g: h2, b: c4 } = oh(n10, a3, l3);
          s6.fillStyle = "rgb(".concat(255 * u3, ",").concat(255 * h2, ",").concat(255 * c4, ")");
        } else if ("svh" === this._mode) {
          let o6 = r6 / (t48 - 1), a3 = 1 - i10 / (e6 - 1), l3 = n, { r: u3, g: h2, b: c4 } = oh(l3, o6, a3);
          s6.fillStyle = "rgb(".concat(255 * u3, ",").concat(255 * h2, ",").concat(255 * c4, ")");
        } else {
          let n10 = r6 / t48 * 255, o6 = i10 / e6 * 255, a3 = 255 * this._color.b;
          s6.fillStyle = "rgb(".concat(n10, ",").concat(o6, ",").concat(a3, ")");
        }
        s6.fillRect(r6, i10, 1, 1);
      }
    this._pickingMain && (s6.fillStyle = "rgba(0,0,0,0.5)", s6.fillRect(0, this._pickingY, t48, 1), s6.fillRect(this._pickingX, 0, 1, e6)), this._colorPickerBottomSlider.width !== t48 && (this._colorPickerBottomSlider.width = t48);
    let a = this._colorPickerBottomSlider.getContext("2d");
    for (let e10 = 0; e10 < t48; ++e10) {
      if ("hsv" === this._mode) {
        let i10 = n, o6 = r, s10 = e10 / (t48 - 1), { r: l3, g: u3, b: h2 } = oh(i10, o6, s10);
        a.fillStyle = "rgb(".concat(255 * l3, ",").concat(255 * u3, ",").concat(255 * h2, ")");
      } else if ("svh" === this._mode) {
        let i10 = r, n10 = o3, s10 = e10 / (t48 - 1), { r: l3, g: u3, b: h2 } = oh(s10, i10, n10);
        a.fillStyle = "rgb(".concat(255 * l3, ",").concat(255 * u3, ",").concat(255 * h2, ")");
      } else {
        let i10 = 255 * this._color.r, n10 = 255 * this._color.g, r6 = e10 / (t48 - 2) * 255;
        a.fillStyle = "rgb(".concat(i10, ",").concat(n10, ",").concat(r6, ")");
      }
      a.fillRect(e10, 0, 1, i);
    }
    this._pickingBottomSlider && (a.fillStyle = "rgba(0,0,0,0.5)", a.fillRect(this._pickingX, 0, 1, i));
    let l = 255 * this._color.r, u2 = 255 * this._color.g, h = 255 * this._color.b, c2 = "1px solid rgb(".concat(0.9 * l, ",").concat(0.9 * u2, ",").concat(0.9 * h, ")");
    Object.assign(this._colorPickerMain.style, { border: c2 }), Object.assign(this._colorPickerBottomSlider.style, { border: c2 }), Object.assign(this._titleElement.style, { "background-color": "rgb(".concat(l, ",").concat(u2, ",").concat(h, ")"), border: c2 });
  }
  get element() {
    return this._element;
  }
  get titleElement() {
    return this._titleElement;
  }
  get value() {
    return this._color;
  }
  get displayedValue() {
    return "#" + this._color.getHexString().toUpperCase();
  }
  get height() {
    return i0 + lS + uS + lS + v7;
  }
  get titleElementWidth() {
    return g7;
  }
};
q(_7, "DebugUIColorPicker");
var xb = _7;
var cS = 16;
var IQ = 12;
var cMe = 4;
var OQ = 10;
var LQ = 12;
var w7 = class {
  constructor({ name: t48 }) {
    this._name = t48, this._element = document.createElement("div"), this._entries = [], this._height = LQ;
  }
  destroy() {
    for (let t48 of this._entries)
      t48.destroy();
    this._entries = null, this._element = null, Object.setPrototypeOf(this, null);
  }
  get element() {
    return this._element;
  }
  get height() {
    return this._height;
  }
  addControl(t48, e6, i) {
    if (-1 !== this._entries.findIndex((e10) => e10.name === t48))
      return;
    let n = new y7({ name: t48, description: e6, control: i });
    this._entries.push(n), this._element.appendChild(n.element), null != i.redraw && i.redraw();
  }
  removeControl(t48) {
    let e6 = this._entries.findIndex((e10) => e10.name === t48);
    if (-1 !== e6) {
      let [t49] = this._entries.splice(e6, 1);
      this._element.removeChild(t49.element), t49.destroy();
    }
  }
  _updateLayout() {
    this._height = 0;
    for (let t48 of this._entries)
      t48.element.style.top = this._height + "px", this._height += t48.height + LQ;
    Object.assign(this._element.style, { height: this._height + "px" });
  }
};
q(w7, "DebugUIPanel");
var fS = w7;
var M7 = class {
  constructor({ name: t48, description: e6, control: i }) {
    this._name = t48, this._description = e6, this._control = i, this._element = document.createElement("div"), this._element.title = e6, Object.assign(this._element.style, { position: "absolute", left: "0px", right: "0px" }), this._element.appendChild(this._control.element), Object.assign(this._control.element.style, { position: "absolute", left: "0px", width: "100%", top: cS + "px", "font-size": OQ + "px" });
    let n = 0;
    null != this._control.titleElement && (this._element.appendChild(this._control.titleElement), Object.assign(this._control.titleElement.style, { position: "absolute", left: "0px", top: "0px", "font-size": OQ + "px" }), n = this._control.titleElementWidth + cMe), this._control.addValueChangedListener((t49) => {
      this._displayedValueElement.innerHTML = DQ(this._control.displayedValue);
    }), this._nameElement = document.createElement("span"), this._nameElement.innerHTML = t48, Object.assign(this._nameElement.style, { position: "absolute", left: n + "px", right: "0px", height: cS + "px", color: "#666666", "font-size": IQ + "px", "text-align": "left", "vertical-align": "middle" }), this._element.appendChild(this._nameElement), this._displayedValueElement = document.createElement("span"), this._displayedValueElement.innerHTML = DQ(this._control.displayedValue), Object.assign(this._displayedValueElement.style, { position: "absolute", left: n + "px", right: "0px", height: cS + "px", "font-size": IQ + "px", "text-align": "right", "vertical-align": "middle" }), this._element.appendChild(this._displayedValueElement);
  }
  destroy() {
    this._element = null, this._nameElement = null, this._displayedValueElement = null, this._control.destroy(), Object.setPrototypeOf(this, null);
  }
  get name() {
    return this._name;
  }
  get element() {
    return this._element;
  }
  get value() {
    return this._control.value;
  }
  get height() {
    return this._control.height + cS;
  }
};
q(M7, "DebugUIEntry");
var y7 = M7;
function DQ(t48) {
  return t48.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
}
q(DQ, "escapeHTML");
var bb = u(Eu());
var NQ = 512;
var RQ = 6371e3;
var BQ = 0;
var kQ = 22;
var pS = 17;
var T7 = 20;
var hMe = -85.051129;
var fMe = 85.051129;
var E7 = 1e4;
var qQ = { chain: "chain", cancel: "cancel" };
var pMe = new Eo();
var dMe = q(function(t48, e6, i, n) {
  this.dispatcher = pMe, this.camera = t48, this.canvas = e6, this.elevation = t48.parent, this.orbit = this.elevation.parent;
  let r, o3 = 2 * Math.PI, s6 = 100;
  this.zoomSpeed = 5, this.rotateSpeed = 100, this.enabled = true, this.enableZoom = true, this.enablePan = true, this.enablePedestal = false, this.maxPedestal = 1 / 0, this.minPedestal = -1 / 0, this.enableRotate = true, this.minZoom = 375, this.maxZoom = 1e4, this.initialMinZoom = 375, this.initialMaxZoom = 1e4, this.ignoreZoomLimits = false, this.minExpandedZoom = 375, this.maxExpandedZoom = 1e5, this.zoomFactor = 1, this.panBounds = { margin: 1.25, min: { x: 1 / 0, y: 1 / 0 }, max: { x: -1 / 0, y: -1 / 0 }, center: { x: 0, y: 0 }, radius: 200 }, this.minTilt = 0, this.maxTilt = 1.2, this.mouseButtons = { ORBIT: IT.RIGHT, ZOOM: IT.MIDDLE, PAN: IT.LEFT };
  let a = this, l = new To(1e6, 1e6), h = new ls({ color: 0, visible: false }), c2 = new Ft(l, h);
  n.on(7, () => {
    var t49;
    let e10 = null == (t49 = n.mapObjects.get(n.currentMap)) ? void 0 : t49.object;
    if (null != e10) {
      let t50 = new K();
      t50.applyMatrix4(e10.matrix), c2.position.z = t50.z;
    }
    n.tryRendering();
  });
  let p4 = new pa();
  i.add(c2);
  let d, f = -1, g = 0, m = 1, v4 = 2, y4 = 3, x4 = 4, _ = 5, b = 6, M = 7, E = 8, w4 = 9, A = f, S = new qe(), T = [], C = { offsetLeft: 0, offsetTop: 0 }, P = new qe(), I = new qe(), L = new qe(), O = new qe(), N = new qe(), D = new qe(), R = new K(), q4 = new K(), k = (new qe(), new qe(), new qe(), false), F = new hT(true), U = 0, z = true;
  this.CAMERA_EVENTS = {}, this.CAMERA_EVENTS.CHANGE_EVENT = { type: "change" }, this.CAMERA_EVENTS.PAN_START_EVENT = { type: "panStart" }, this.CAMERA_EVENTS.PAN_END_EVENT = { type: "panEnd" }, this.CAMERA_EVENTS.PEDESTAL_START_EVENT = { type: "pedestalStart" }, this.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT = { type: "pedestalChange" }, this.CAMERA_EVENTS.PEDESTAL_END_EVENT = { type: "pedestalEnd" }, this.CAMERA_EVENTS.ROTATE_START_EVENT = { type: "rotateStart" }, this.CAMERA_EVENTS.ROTATE_END_EVENT = { type: "rotateEnd" }, this.CAMERA_EVENTS.ZOOM_START_EVENT = { type: "zoomStart" }, this.CAMERA_EVENTS.ZOOM_END_EVENT = { type: "zoomEnd" }, this.CAMERA_EVENTS.MULTI_START_EVENT = { type: "multiStart" }, this.CAMERA_EVENTS.MULTI_END_EVENT = { type: "multiEnd" }, this.CAMERA_EVENTS.MULTI_CANCEL_EVENT = { type: "multiCancel" }, this.INTERACTION_EVENTS = {}, this.INTERACTION_EVENTS.USER_PAN_START_EVENT = { type: "userPanStart" }, this.INTERACTION_EVENTS.USER_PEDESTAL_START_EVENT = { type: "userPedestalStart" }, this.INTERACTION_EVENTS.USER_ROTATE_START_EVENT = { type: "userRotateStart" }, this.INTERACTION_EVENTS.USER_DOLLY_START_EVENT = { type: "userDollyStart" }, this.INTERACTION_EVENTS.USER_ZOOM_START_EVENT = { type: "userZoomStart" }, this.INTERACTION_EVENTS.USER_TILT_START_EVENT = { type: "userTiltStart" }, this.INTERACTION_EVENTS.USER_PAN_END_EVENT = { type: "userPanEnd" }, this.INTERACTION_EVENTS.USER_PEDESTAL_END_EVENT = { type: "userPedestalEnd" }, this.INTERACTION_EVENTS.USER_ROTATE_END_EVENT = { type: "userRotateEnd" }, this.INTERACTION_EVENTS.USER_DOLLY_END_EVENT = { type: "userDollyEnd" }, this.INTERACTION_EVENTS.USER_ZOOM_END_EVENT = { type: "userZoomEnd" }, this.INTERACTION_EVENTS.USER_TILT_END_EVENT = { type: "userTiltEnd" }, this.UPDATE_EVENTS = {}, this.UPDATE_EVENTS.POSITION_UPDATED_EVENT = { type: "positionUpdated" }, this.UPDATE_EVENTS.ZOOM_UPDATED_EVENT = { type: "zoomUpdated" }, this.UPDATE_EVENTS.TILT_UPDATED_EVENT = { type: "tiltUpdated" }, this.UPDATE_EVENTS.ROTATION_UPDATED_EVENT = { type: "rotationUpdated" };
  let V = false, j = q(() => {
    V = true;
  }, "setUserInteracting"), G = q(() => {
    V = false;
  }, "unsetUserInteracting");
  for (let t49 in this.INTERACTION_EVENTS) {
    let e10 = this.INTERACTION_EVENTS[t49];
    e10.type.endsWith("Start") && a.dispatcher.addEventListener(e10.type, j);
  }
  for (let t49 in this.INTERACTION_EVENTS) {
    let e10 = this.INTERACTION_EVENTS[t49];
    e10.type.endsWith("End") && a.dispatcher.addEventListener(e10.type, G);
  }
  let W = q((t49) => {
    a.dispatcher.dispatchEvent({ ...a.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT, pedestal: t49, scrolledToTop: a.scrolledToTop, scrolledToBottom: a.scrolledToBottom, scrollPercent: a.scrollPercent });
  }, "dispatchPedestalChangeEvent");
  function H(t49, e10 = false) {
    "number" == typeof t49 && !isNaN(t49) && (a.orbit.position.z = t49, e10 && W(t49), n.tryRendering());
  }
  this.addDebugControls = function(t49) {
    t49.addDebugControls({ CameraControls: [{ name: "Stay Inside Bounds", description: "Ensure the camera stays inside its bounds.\n\nCaution: going too far outside-of-bounds may slow renderingsignificantly.", control: new hS({ current: true, onValueChanged: (t50) => {
      z = t50;
    } }) }] });
  }, this.removeDebugControls = function(t49) {
    t49.removeDebugControls({ CameraControls: ["Stay Inside Bounds"] });
  }, this.pan = function(t49, e10) {
    isNaN(t49) || isNaN(e10) || (a.setPosition(a.orbit.position.x + t49, a.orbit.position.y + e10), a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.POSITION_UPDATED_EVENT));
  }, this.getPositionCoordinate = function() {
    return n.convert3DMapPositionToCoordinate(a.getPosition());
  }, this.getZoomLevel = function() {
    return this.convertAltitudeToZoomLevel(this.getZoom());
  }, this.setZoomLevel = function(t49) {
    this.setZoom(convertZoomToAltitude(t49));
  }, this.convertZoomToAltitude = function(t49) {
    let { lat: e10 } = a.getPositionCoordinate(), i10 = n.cameraObject.fov, r6 = Br.clamp(t49, BQ, kQ), o6 = Math.pow(2, r6), s10 = Br.clamp(e10, hMe, fMe), l3 = o6 * NQ;
    return Math.cos(Br.degToRad(s10)) * Math.PI * 2 * RQ / l3 * n.canvasHeight / 2 / Math.tan(Br.degToRad(i10) / 2) / n.referenceMap.scale;
  }, this.convertAltitudeToZoomLevel = function(t49) {
    let { lat: e10 } = a.getPositionCoordinate(), i10 = n.cameraObject.fov, r6 = t49 * n.referenceMap.scale * 2 * Math.tan(Br.degToRad(i10) / 2) / n.canvasHeight, o6 = 2 * Math.cos(Br.degToRad(e10)) * Math.PI * RQ / r6;
    return Br.clamp(Math.log2(o6 / NQ), BQ, kQ);
  }, this.setPosition = function(t49, e10) {
    if (isNaN(t49) || isNaN(e10))
      return;
    A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_START_EVENT);
    let i10 = t49 - a.panBounds.center.x, n10 = e10 - a.panBounds.center.y, r6 = Math.sqrt(i10 * i10 + n10 * n10);
    if (z && r6 > a.panBounds.radius) {
      let t50 = Math.atan2(n10, i10), e11 = { x: Math.cos(t50) * a.panBounds.radius + a.panBounds.center.x, y: Math.sin(t50) * a.panBounds.radius + a.panBounds.center.y };
      a.orbit.position.x = e11.x, a.orbit.position.y = e11.y;
    } else
      a.orbit.position.x = t49, a.orbit.position.y = e10;
    a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.POSITION_UPDATED_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && a.dispatcher.dispatchEvent(a.this.CAMERA_EVENTS.PAN_END_EVENT);
  }, this.setRotation = function(t49, e10) {
    if (isNaN(t49))
      return;
    A == f && !e10 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
    let i10 = t49 % o3;
    i10 !== a.orbit.rotation.z && (a.orbit.rotation.z = i10, e10 || a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ROTATION_UPDATED_EVENT)), e10 || a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && !e10 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
  }, this.rotate = function(t49) {
    if (isNaN(t49))
      return;
    A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
    let e10 = (a.orbit.rotation.z + t49) % o3;
    e10 !== a.orbit.rotation.z && (a.orbit.rotation.z = e10, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ROTATION_UPDATED_EVENT)), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
  }, this.setTilt = function(t49, e10) {
    if (isNaN(t49))
      return;
    A == f && !e10 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
    let i10 = z ? Math.max(Math.min(t49, a.maxTilt), a.minTilt) : t49;
    i10 !== a.elevation.rotation.x && (a.elevation.rotation.x = i10, e10 || a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.TILT_UPDATED_EVENT)), e10 || a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && !e10 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
  }, this.tilt = function(t49) {
    if (isNaN(t49))
      return;
    A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
    let e10 = z ? Math.max(Math.min(t49 + a.getTilt(), a.maxTilt), a.minTilt) : t49 + a.getTilt();
    e10 !== a.elevation.rotation.x && (a.elevation.rotation.x = e10, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.TILT_UPDATED_EVENT)), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
  }, this.setZoom = function(t49) {
    if (isNaN(t49))
      return;
    A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT);
    let e10 = z ? Math.min(Math.max(t49, a.getZoomScaledMin()), a.getZoomScaledMax()) : t49;
    e10 !== a.camera.position.z && (a.camera.position.z = e10, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ZOOM_UPDATED_EVENT)), a.camera.near = e10 / s6, a.camera.far = e10 * s6, a.camera.updateProjectionMatrix(), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT);
  }, this.zoom = function(t49) {
    if (isNaN(t49))
      return;
    A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT);
    let e10 = a.getZoom() - t49;
    a.camera.position.z = z ? Math.min(Math.max(e10, a.minZoom * a.zoomFactor), a.maxZoom * a.zoomFactor) : e10, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ZOOM_UPDATED_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT);
  }, this.zoomIn = function(t49, e10, i10) {
    let n10 = this.getZoom();
    this.animateCamera({ zoom: n10 / 1.5 }, t49, e10, i10);
  }, this.zoomOut = function(t49, e10, i10) {
    let n10 = this.getZoom();
    this.animateCamera({ zoom: 1.5 * n10 }, t49, e10, i10);
  }, this.expandZoomLimits = function(t49, e10) {
    e10 || (e10 = 1.2), t49 * e10 > a.maxZoom && (a.maxZoom = Math.min(t49 * e10, a.maxExpandedZoom)), t49 / e10 < a.minZoom && (a.minZoom = Math.max(t49 / e10, a.minExpandedZoom));
  }, this.restrictZoomLimits = function(t49, e10) {
    e10 || (e10 = 1.2), t49 * e10 > a.initialMaxZoom && t49 * e10 < a.maxZoom && (a.maxZoom = Math.max(a.getZoom(), t49 * e10)), t49 / e10 < a.initialMinZoom && t49 / e10 > a.minZoom && (a.minZoom = Math.min(a.getZoom(), t49 / e10));
  }, this.getPosition = function() {
    return { x: a.orbit.position.x, y: a.orbit.position.y, z: a.orbit.position.z };
  }, this.getPedestal = function() {
    return a.orbit.position.z;
  }, q(H, "setPedestal"), Object.defineProperty(this, "setPedestal", { enumerable: false, value: H }), Object.defineProperty(this, "scrollPercent", { get() {
    let t49 = this.minPedestal, e10 = this.maxPedestal, i10 = this.getPedestal();
    return i10 = Math.min(i10, e10), i10 = Math.max(i10, t49), (i10 - t49) / (e10 - t49) * 100;
  } }), Object.defineProperty(this, "scrolledToTop", { get() {
    return 0 === this.maxPedestal || Math.ceil(this.getPedestal()) >= this.maxPedestal;
  } }), Object.defineProperty(this, "scrolledToBottom", { get() {
    return 0 === this.minPedestal || Math.floor(this.getPedestal()) <= this.minPedestal;
  } }), this.getRotation = function() {
    return a.orbit.rotation.z;
  }, this.getTilt = function() {
    return a.elevation.rotation.x;
  }, this.getZoom = function() {
    return a.camera.position.z;
  }, this.isCameraMoving = function() {
    return A != f;
  }, this.isUserInteracting = function() {
    return V;
  }, this.getZoomScaledMin = function() {
    return a.minZoom * a.zoomFactor;
  }, this.getZoomScaledMax = function() {
    let t49 = a.minZoom * a.zoomFactor;
    return Math.max(a.maxZoom, 1.5 * t49);
  };
  let Y = q(function() {
    return bb.default.getAll().some(function(t49) {
      return t49._mMapAnimation;
    });
  }, "isAnimating");
  this.isAnimating = Y;
  let X = /* @__PURE__ */ new Set();
  function Z(t49) {
    t49.isPlaying ? t49.stop() : t49.end(), X.delete(t49);
  }
  function Q(t49) {
    P.set(t49.clientX, t49.clientY), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ROTATE_START_EVENT);
  }
  function J() {
    let t49 = It(S);
    O.set(t49.x, t49.y), N.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_START_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_START_EVENT);
  }
  function $(t49) {
    let e10 = { x: t49.clientX, y: t49.clientY };
    a.initialShiftPos = e10, a.initialPedestal = a.getPedestal(), a.pedestalScaleFactor = GD(a.camera.fov, a.canvas.clientHeight, a.getZoom()), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PEDESTAL_START_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PEDESTAL_START_EVENT);
  }
  function tt(t49) {
    t49.clientX;
    let e10 = t49.clientY, i10 = a.initialPedestal + a.pedestalScaleFactor * (e10 - a.initialShiftPos.y);
    z && (i10 < a.minPedestal ? i10 = Math.max(i10, a.minPedestal) : i10 > a.maxPedestal && (i10 = Math.min(i10, a.maxPedestal))), i10 !== a.getPedestal() && W(i10);
  }
  function et(t49) {
    I.set(t49.clientX, t49.clientY), L.subVectors(I, P), a.rotate(-L.x / a.rotateSpeed), a.setTilt(a.getTilt() - L.y / a.rotateSpeed), P.copy(I), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
  }
  function it() {
    let t49 = It(S);
    D.set(t49.x, t49.y), R.subVectors(D, O), a.setPosition(N.x - R.x, N.y - R.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
  }
  function nt2(t49) {
    let e10 = 0;
    return void 0 !== t49.wheelDelta ? e10 = t49.wheelDelta : void 0 !== t49.detail && (e10 = -t49.detail), e10;
  }
  function rt(t49) {
    let e10 = nt2(t49), i10 = a.getZoom();
    return !(e10 < 0 && i10 == a.getZoomScaledMax() || e10 > 0 && i10 == a.getZoomScaledMin());
  }
  function ot(t49) {
    if (a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT), !rt(t49))
      return U > 0 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), U = 0, void (A = f);
    let e10 = a.getZoom(), i10 = e10 - nt2(t49) * e10 / 1e4 * a.zoomSpeed;
    a.setZoom(i10);
    let n10 = i10 / d;
    R.subVectors(q4, N).multiplyScalar(1 - n10), a.setPosition(N.x + R.x, N.y + R.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
  }
  function st(t49) {
    if (false !== a.enabled) {
      if (Lt(t49), t49.preventDefault(), A == y4 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), t49.button === a.mouseButtons.ORBIT) {
        if (false === a.enableRotate)
          return;
        Q(t49), A = g;
      } else
        t49.button === a.mouseButtons.PAN && (a.enablePan ? (J(), A = v4) : a.enablePedestal && ($(t49), A = E));
      A !== f && (a.canvas.addEventListener("mousemove", at2, false), window.addEventListener("mouseup", lt, false), window.addEventListener("mouseout", lt, false));
    }
  }
  function at2(t49) {
    if (false !== a.enabled)
      if (t49.preventDefault(), Lt(t49), A === g) {
        if (false === a.enableRotate)
          return;
        et(t49);
      } else if (A === v4) {
        if (false === a.enablePan)
          return;
        it();
      } else
        A === y4 ? (k = true, A = f) : A === E && tt(t49);
  }
  function lt() {
    if (false !== a.enabled) {
      switch (document.removeEventListener("mousemove", at2, false), window.removeEventListener("mouseup", lt, false), window.removeEventListener("mouseout", lt, false), A) {
        case v4:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_END_EVENT);
          break;
        case m:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_DOLLY_END_EVENT);
          break;
        case g:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ROTATE_END_EVENT);
          break;
        case E:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PEDESTAL_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PEDESTAL_END_EVENT);
      }
      A = f;
    }
  }
  q(Z, "completeTween"), this.cancelAnimation = function() {
    let t49 = Array.from(X), e10 = t49[t49.length - 1];
    e10.state === M && a.dispatcher.dispatchEvent({ type: a.CAMERA_EVENTS.MULTI_CANCEL_EVENT.type, message: { zooming: true, rotating: true, tilting: true } }), Z(e10);
  }, this.animateCamera = function(t49, e10, i10, r6, o6, s10) {
    let l3 = { mode: qQ.cancel, ...s10 }, u2 = {}, h2 = {}, c4 = a.getPosition();
    if (null != t49.position && (void 0 !== t49.position.x && (u2.x = c4.x, h2.x = t49.position.x), void 0 !== t49.position.y && (u2.y = c4.y, h2.y = t49.position.y), void 0 !== t49.position.z && (u2.z = c4.z, h2.z = t49.position.z)), void 0 !== t49.zoom && (u2.zoom = z ? Math.min(Math.max(a.getZoom(), a.getZoomScaledMin()), a.getZoomScaledMax()) : a.getZoom(), a.viewState !== aS.MULTI_FLOOR && z ? h2.zoom = Math.min(Math.max(t49.zoom, a.getZoomScaledMin()), a.getZoomScaledMax()) : h2.zoom = t49.zoom), void 0 !== t49.rotation) {
      let e11 = u2.rotation = a.getRotation(), i11 = t49.rotation % (2 * Math.PI), n10 = i11 - e11;
      if (Math.abs(n10) > Math.PI) {
        let t50 = n10 < 0 ? 1 : -1;
        h2.rotation = i11 + 2 * Math.PI * t50;
      } else
        h2.rotation = i11;
    }
    void 0 !== t49.tilt && (u2.tilt = a.getTilt(), a.viewState !== aS.MULTI_FLOOR && z ? h2.tilt = Math.max(Math.min(t49.tilt, a.maxTilt), a.minTilt) : h2.tilt = t49.tilt);
    let p10 = u2.zoom !== h2.zoom, d4 = u2.rotation !== h2.rotation, f2 = u2.tilt !== h2.tilt;
    var g4 = new bb.default.Tween(u2).to(h2, e.env.TESTING ? 0 : e10).onUpdate(function(t50) {
      a.setMulti({ x: t50.x, y: t50.y, z: t50.z }, t50.zoom, t50.rotation, t50.tilt);
    }).onComplete(function() {
      r6 && r6(), Z(g4), a.dispatcher.dispatchEvent({ type: a.CAMERA_EVENTS.MULTI_END_EVENT.type, message: { zooming: p10, rotating: d4, tilting: f2 } });
    }).onStart(function() {
      A != M && (A = M, g4.state = M, a.dispatcher.dispatchEvent({ type: a.CAMERA_EVENTS.MULTI_START_EVENT.type, message: { zooming: p10, rotating: d4, tilting: f2 } })), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
    });
    let m4 = Array.from(X), v10 = m4[m4.length - 1], y10 = false;
    return null != v10 && (l3.mode === qQ.chain ? (y10 = true, v10.chain(g4)) : (Z(v10), "function" == typeof o6 && o6(), v10 = null)), X.add(g4), i10 ? g4.easing(i10) : g4.easing(bb.default.Easing.Quadratic.In), !t49.doNotAutoStart && !y10 && (g4.start(), n.tryRendering()), g4._mMapAnimation = true, g4;
  }, this.setMulti = function(t49, e10, i10, n10) {
    A == f && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_START_EVENT);
    let r6 = false;
    null != t49 && (void 0 !== t49.x && !isNaN(t49.x) && (a.orbit.position.x = t49.x, r6 = true), void 0 !== t49.y && !isNaN(t49.y) && (a.orbit.position.y = t49.y, r6 = true), void 0 !== t49.z && !isNaN(t49.z) && this.setPedestal(t49.z)), r6 && a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.POSITION_UPDATED_EVENT);
    let o6 = { zooming: false, tilting: e10, rotating: false };
    if (void 0 !== e10 && !isNaN(e10)) {
      let t50 = z ? Math.min(Math.max(e10, a.getZoomScaledMin()), a.getZoomScaledMax()) : e10;
      t50 !== a.camera.position.z && (o6.zooming = true, a.camera.position.z = t50, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ZOOM_UPDATED_EVENT), a.viewState === aS.MULTI_FLOOR ? e10 > E7 && (a.camera.near = e10 - E7, a.camera.far = e10 + E7) : (a.camera.near = e10 / s6, a.camera.far = e10 * s6), a.camera.updateProjectionMatrix());
    }
    if (void 0 !== i10 && !isNaN(i10) && i10 !== a.orbit.rotation.z && (o6.rotating = true, a.orbit.rotation.z = i10, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ROTATION_UPDATED_EVENT)), void 0 !== n10 && !isNaN(n10)) {
      let t50 = z ? Math.max(Math.min(n10, a.maxTilt), a.minTilt) : n10;
      t50 !== a.elevation.rotation.x && (o6.tilting = true, a.elevation.rotation.x = t50, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.TILT_UPDATED_EVENT));
    }
    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), A == f && a.dispatcher.dispatchEvent({ type: a.CAMERA_EVENTS.MULTI_END_EVENT.type, message: o6 });
  }, q(Q, "handleMouseDownRotate"), q(J, "handleMouseDownPan"), q($, "handleMouseDownPedestal"), q(tt, "handleMouseMovePedestal"), q(et, "handleMouseMoveRotate"), q(it, "handleMouseMovePan"), this.getProjectionScaleFactor = GD, this.postRender = function() {
    (A == v4 || A == b) && (p4.setFromCamera(S, t48), r = p4.intersectObject(c2, false)[0], r && (O.set(r.point.x, r.point.y), N.set(a.orbit.position.x, a.orbit.position.y))), A == y4 && k && (k = false, d = a.getZoom(), q4 = It(S), N.set(a.orbit.position.x, a.orbit.position.y)), A == M && 0 == Y() && (A = f, a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_END_EVENT));
  }, q(nt2, "scrollDelta"), q(rt, "canScrollZoom"), q(ot, "handleMouseWheel"), q(st, "onMouseDown"), q(at2, "onMouseMove"), q(lt, "onMouseUp");
  let ut = null;
  function ht2(t49) {
    false === a.enabled || false === a.enableZoom || A !== f && A !== y4 || (t49.preventDefault(), t49.stopPropagation(), Lt(t49), rt(t49) && (U = F.getElapsedTime(), a.dispatchUserZoomEvent()), A != y4 && rt(t49) && (a.canvas.addEventListener("mousemove", at2, false), A = y4, d = a.getZoom(), q4 = It(S), N.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT)), null != ut && clearTimeout(ut), ut = setTimeout(() => {
      a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT);
    }, 50), ot(t49));
  }
  function ct(t49) {
    let e10 = It(t49.x ? t49 : T[0]);
    O.set(e10.x, e10.y), N.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_START_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_START_EVENT);
  }
  function pt(t49) {
    let e10 = It(t49.x ? t49 : T[0]);
    D.set(e10.x, e10.y), R.subVectors(D, O), a.setPosition(N.x - R.x, N.y - R.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
  }
  function dt2() {
    let t49 = T[0].x - T[1].x, e10 = T[0].y - T[1].y;
    d = a.getZoom();
    let i10 = { x: T[0].x - t49 / 2, y: T[0].y - e10 / 2 };
    q4 = It(i10), a.orbit.updateMatrixWorld(), a.touchAnchor1 = new d7(T[0], a.camera, c2), a.touchAnchor2 = new d7(T[1], a.camera, c2), N.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_DOLLY_START_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_START_EVENT);
  }
  function ft() {
    let t49 = a.touchInputs.first, e10 = a.touchInputs.second;
    a.touchAnchor1.viewCoordinate = { x: t49.x, y: t49.y }, a.touchAnchor2.viewCoordinate = { x: e10.x, y: e10.y };
    let i10 = At(a.touchAnchor1, a.touchAnchor2);
    i10 && St2(i10), a.orbit.updateMatrixWorld(), a.touchAnchor1.updateAnchorState(a.camera, t49), a.touchAnchor2.updateAnchorState(a.camera, e10);
  }
  function gt(t49) {
    P.set(t49.touches[1].clientX, t49.touches[1].clientY), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_TILT_START_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
  }
  function mt2(t49) {
    I.set(t49.touches[1].clientX, t49.touches[1].clientY), L.subVectors(I, P), a.setTilt(a.getTilt() - L.y / a.rotateSpeed), P.copy(I);
  }
  function vt(t49) {
    $(t49.touches[0]);
  }
  function yt(t49) {
    tt(t49.touches[0]);
  }
  function xt() {
    A === x4 || A === _ ? a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_END_EVENT) : A === b && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_END_EVENT);
  }
  function _t(t49) {
    if (false !== a.enabled)
      switch (Pt(t49), Nt(t49), t49.touches.length) {
        case 1:
          a.enablePedestal ? (vt(t49), A = w4) : a.enablePan && (ct(t49), A = b);
          break;
        case 2:
          a.touchInputs = new SQ(T[0], T[1]);
          break;
        default:
          A = f;
      }
  }
  function bt(t49) {
    if (false !== a.enabled)
      switch (Nt(t49), t49.touches.length) {
        case 2:
          t49.preventDefault(), t49.stopPropagation();
          let e10 = { ...a.touchInputs.first }, i10 = { ...a.touchInputs.second }, n10 = new qe(T[0].x, T[0].y), r6 = new qe(T[1].x, T[1].y);
          if (a.touchInputs.update(T[0], T[1]), a.enableRotate && A === x4)
            mt2(t49);
          else if (A === _)
            ft();
          else if (a.touchInputs.totalDistance > 0.05 && A !== _) {
            let o6 = e10.y < n10.y && i10.y < r6.y, s10 = e10.y > n10.y && i10.y > r6.y;
            a.enableRotate && A !== x4 && (s10 || o6) ? (gt(t49), A = x4) : (dt2(), A = _);
          }
          break;
        case 1:
          (a.enablePedestal || a.enablePan) && (t49.preventDefault(), t49.stopPropagation()), a.enablePedestal && A === w4 ? yt(t49) : a.enablePan && A === b && pt(t49);
          break;
        default:
          A = f;
      }
  }
  function Mt(t49) {
    if (false !== a.enabled) {
      switch (xt(), A) {
        case v4:
        case b:
          a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_END_EVENT);
          break;
        case x4:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_TILT_END_EVENT);
          break;
        case m:
        case _:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_DOLLY_END_EVENT);
          break;
        case g:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ROTATE_END_EVENT);
          break;
        case E:
        case w4:
          a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PEDESTAL_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PEDESTAL_END_EVENT);
      }
      A = f;
    }
  }
  function Et(t49) {
    t49.preventDefault();
  }
  function wt2(t49, e10) {
    return (e10 - t49 + Math.PI) % (2 * Math.PI) + 2 * Math.PI % (2 * Math.PI) - Math.PI;
  }
  function At(t49, e10) {
    a.orbit.updateMatrixWorld(), a.camera.updateProjectionMatrix();
    let i10 = a.camera.projectionMatrix.clone(), n10 = t49.worldCoordinate, r6 = e10.worldCoordinate, o6 = t49.reUnproject(), s10 = e10.reUnproject();
    if (!o6 || !s10)
      return null;
    let l3 = t49.viewCoordinate, h2 = e10.viewCoordinate, c4 = r6.x - n10.x, p10 = r6.y - n10.y, d4 = Math.atan2(p10, c4), f2 = s10.x - o6.x, g4 = s10.y - o6.y, m4 = wt2(d4, Math.atan2(g4, f2)), v10 = new Ot();
    v10.makeRotationZ(-m4);
    let y10 = v10.clone();
    y10.multiply(t49.snapHolderMatrix);
    let x10 = q((t50, e11, i11) => t50.elements[4 * (e11 - 1) + i11 - 1], "m"), _4 = x10(i10, 1, 1) * x10(y10, 1, 1) - l3.x * x10(i10, 3, 4) * x10(y10, 3, 1), b4 = x10(i10, 1, 1) * x10(y10, 1, 2) - l3.x * x10(i10, 3, 4) * x10(y10, 3, 2), M4 = x10(i10, 1, 1) * x10(y10, 1, 3) - l3.x * x10(i10, 3, 4) * x10(y10, 3, 3), E4 = n10.x * _4 + n10.y * b4 + n10.z * M4, w10 = x10(i10, 2, 2) * x10(y10, 2, 1) - l3.y * x10(i10, 3, 4) * x10(y10, 3, 1), A4 = x10(i10, 2, 2) * x10(y10, 2, 2) - l3.y * x10(i10, 3, 4) * x10(y10, 3, 2), S4 = x10(i10, 2, 2) * x10(y10, 2, 3) - l3.y * x10(i10, 3, 4) * x10(y10, 3, 3), T4 = n10.x * w10 + n10.y * A4 + n10.z * S4, C4 = x10(i10, 1, 1) * x10(y10, 1, 1) - h2.x * x10(i10, 3, 4) * x10(y10, 3, 1), P4 = x10(i10, 1, 1) * x10(y10, 1, 2) - h2.x * x10(i10, 3, 4) * x10(y10, 3, 2), I4 = x10(i10, 1, 1) * x10(y10, 1, 3) - h2.x * x10(i10, 3, 4) * x10(y10, 3, 3), L4 = r6.x * C4 + r6.y * P4 + r6.z * I4, O10 = x10(i10, 2, 2) * x10(y10, 2, 1) - h2.y * x10(i10, 3, 4) * x10(y10, 3, 1), N4 = x10(i10, 2, 2) * x10(y10, 2, 2) - h2.y * x10(i10, 3, 4) * x10(y10, 3, 2), D4 = x10(i10, 2, 2) * x10(y10, 2, 3) - h2.y * x10(i10, 3, 4) * x10(y10, 3, 3), R10 = r6.x * O10 + r6.y * N4 + r6.z * D4, q7 = Math.abs(C4 - _4), B = Math.abs(P4 - b4), k7 = Math.abs(I4 - M4), F10 = Math.abs(C4 - w10), U4 = Math.abs(P4 - A4), z4 = Math.abs(I4 - S4), V4 = Math.abs(O10 - _4), j10 = Math.abs(N4 - b4), G3 = Math.abs(D4 - M4), W4 = Math.abs(O10 - w10), H10 = Math.abs(N4 - A4), Y4 = Math.abs(D4 - S4);
    Math.min(q7 + B + k7, F10 + U4 + z4) < Math.min(V4 + j10 + G3, W4 + H10 + Y4) && (C4 = O10, P4 = N4, I4 = D4, L4 = R10);
    let X10 = w10 * M4 - _4 * S4, K10 = A4 * M4 - b4 * S4, Z10 = T4 * M4 - E4 * S4, Q4 = C4 * S4 - w10 * I4, J4 = P4 * S4 - A4 * I4, $4 = L4 * S4 - T4 * I4, tt2 = ($4 * K10 - Z10 * J4) / (Q4 * K10 - X10 * J4), et2 = ($4 * X10 - Z10 * Q4) / (J4 * X10 - K10 * Q4), it2 = A4 * _4 - b4 * w10, nt3 = P4 * w10 - A4 * C4, rt2 = ((L4 * w10 - T4 * C4) * it2 - (T4 * _4 - E4 * w10) * nt3) / ((I4 * w10 - S4 * C4) * it2 - (S4 * _4 - M4 * w10) * nt3), ot2 = y10.clone();
    return ot2.elements[12] = tt2, ot2.elements[13] = et2, ot2.elements[14] = rt2, rt2 > 0 ? ot2 : null;
  }
  function St2(t49) {
    a.orbit.updateMatrixWorld();
    let e10 = new Jh();
    e10.setFromRotationMatrix(t49, "ZYX");
    let i10 = (t49.elements[14] - c2.position.z) / Math.cos(e10.x), n10 = e10.z, r6 = new K(0, 0, 1);
    r6.applyEuler(e10), r6.setLength(i10);
    let o6 = new K();
    o6.setFromMatrixPosition(t49), o6.sub(r6), a.enablePan && a.setPosition(o6.x, o6.y), a.enableZoom && a.setZoom(i10), a.enableRotate && a.setRotation(n10);
  }
  function Tt(t49, e10) {
    return { x: e10.offsetX, y: e10.offsetY };
  }
  function Ct(t49, e10) {
    return { x: e10.clientX - C.offsetLeft, y: e10.clientY - C.offsetTop };
  }
  function Pt(t49) {
    let e10 = a.canvas;
    C.offsetLeft = e10.getBoundingClientRect().left, C.offsetTop = e10.getBoundingClientRect().top;
  }
  function It(e10) {
    p4.setFromCamera(e10, t48);
    let i10 = p4.intersectObject(c2, false)[0];
    return i10 ? i10.point : new K();
  }
  function Lt(t49) {
    let e10 = Tt(a.canvas, t49);
    return S.x = e10.x / a.canvas.width * n.resolutionScale * 2 - 1, S.y = -e10.y / a.canvas.height * n.resolutionScale * 2 + 1, S;
  }
  function Nt(t49) {
    T = [];
    for (let e10 = 0, i10 = t49.touches.length; e10 < i10; e10++) {
      let i11 = t49.touches[e10], r6 = Ct(a.canvas, i11);
      T.push(new qe(r6.x / a.canvas.width * n.resolutionScale * 2 - 1, -r6.y / a.canvas.height * n.resolutionScale * 2 + 1));
    }
    S = T[0];
  }
  q(ht2, "onMouseWheel"), q(ct, "handleTouchStartPan"), q(pt, "handleTouchMovePan"), q(dt2, "handleTouchStartDolly"), q(ft, "handleTouchMoveDolly"), q(gt, "handleTouchStartTilt"), q(mt2, "handleTouchMoveTilt"), q(vt, "handleTouchStartPedestal"), q(yt, "handleTouchMovePedestal"), q(xt, "handleTouchEnd"), q(_t, "onTouchStart"), q(bt, "onTouchMove"), q(Mt, "onTouchEnd"), q(Et, "onContextMenu"), q(wt2, "differenceBetweenAngles"), q(At, "makeTransformFromTouchAnchors"), q(St2, "setCameraFromTransformMatrix"), q(Tt, "getMousePos"), q(Ct, "getTouchPos"), q(Pt, "updateTouchOrigin"), q(It, "raycastToFloor"), q(Lt, "mouseToScene"), q(Nt, "touchToScene"), this.update = function() {
    bb.default.update(), U > 0 && A == y4 && F.getElapsedTime() - U > 0.2 && (U = 0, A = f, a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), a.canvas.removeEventListener("mousemove", at2, false));
  };
  let Dt = false;
  this.dispatchUserZoomDebounced = Da(() => {
    Dt = false, a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ZOOM_END_EVENT);
  }, 250), this.dispatchUserZoomEvent = function() {
    Dt || (a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ZOOM_START_EVENT), Dt = true), a.dispatchUserZoomDebounced();
  }, this.dispose = function() {
    for (let t49 in this.INTERACTION_EVENTS) {
      let e10 = this.INTERACTION_EVENTS[t49];
      e10.type.endsWith("Start") && a.dispatcher.removeEventListener(e10.type, j);
    }
    for (let t49 in this.INTERACTION_EVENTS) {
      let e10 = this.INTERACTION_EVENTS[t49];
      e10.type.endsWith("End") && a.dispatcher.removeEventListener(e10.type, G);
    }
    a.canvas.removeEventListener("contextmenu", Et, false), a.canvas.removeEventListener("mousedown", st, false), a.canvas.removeEventListener("wheel", ht2, { passive: false }), a.canvas.removeEventListener("touchstart", _t, false), a.canvas.removeEventListener("touchend", Mt, false), a.canvas.removeEventListener("touchmove", bt, false), a.canvas.removeEventListener("mousemove", at2, false), window.removeEventListener("mouseup", lt, false), window.removeEventListener("mouseout", lt, false), i.remove(c2), a.dispatcher._listeners = {};
  }, this.canvas.addEventListener("contextmenu", Et, false), this.canvas.addEventListener("mousedown", st, false), this.canvas.addEventListener("wheel", ht2, { passive: false }), this.canvas.addEventListener("touchstart", _t, false), this.canvas.addEventListener("touchend", Mt, false), this.canvas.addEventListener("touchmove", bt, false);
}, "CameraControls");
var dS = dMe;
var UQ = ((t48) => (t48.performance = "Performance", t48.low = "Low", t48.medium = "Medium", t48.high = "High", t48.ultra = "Ultra", t48))(UQ || {});
var P7 = class extends Jo {
  constructor(t48) {
    super("CustomRenderPass"), v(this, "effectComposer"), v(this, "clearPass"), this.renderToScreen = false, this.needsSwap = false, this.effectComposer = t48, this.fullscreenMaterial = new Xt({ uniforms: t48.options.compositeUniforms, vertexShader: vb, fragmentShader: MQ }), this.clearPass = new t0();
  }
  render(t48, e6, i, n, r) {
    let o3 = this.fullscreenMaterial.uniforms;
    null !== e6 && void 0 !== o3 && void 0 !== o3.inputBuffer && (o3.inputBuffer.value = e6.texture), this.clearPass.render(t48, e6, i, n, r), t48.setRenderTarget(this.renderToScreen ? null : e6), t48.render(this.scene, this.camera);
  }
  initialize(t48, e6, i) {
    void 0 !== i && i !== Mr && (this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1");
  }
};
q(P7, "CustomRenderPass");
var S7 = P7;
var I7 = class extends sS {
  constructor(t48, e6) {
    let { scene: i, camera: n, renderer: r } = t48;
    super(i, n, r.width, r.height), v(this, "effectComposer"), v(this, "cachePass"), v(this, "enabled"), this.effectComposer = t48, this.enabled = true;
    let o3 = new Xt({ uniforms: { colorTexture: { value: this.outputTargetInternal.texture } }, vertexShader: vb, fragmentShader: bQ });
    this.cachePass = new ld(o3), Object.assign(this.configuration, e6);
  }
  setAOConfiguration(t48) {
    Object.assign(this.configuration, t48), t48.color && (this.configuration.color = new at(t48.color)), t48.aoResolution && (t48.halfRes = "half" === t48.aoResolution);
  }
  setQualityMode(t48) {
    let e6 = UQ[t48.toLowerCase()];
    e6 || (e6 = "Performance"), super.setQualityMode(e6);
  }
  get distanceFalloff() {
    if (!this.effectComposer.renderer.core.controls)
      return 0;
    let t48 = this.effectComposer.renderer.core.controls.getZoomLevel();
    return (Br.clamp(t48, pS, T7) - pS) / (T7 - pS) * 0.2;
  }
  initialize(t48, e6, i) {
    this.cachePass.initialize(t48, e6, i), super.initialize(t48, e6, i);
  }
  render(t48, e6, i, n, r) {
    var o3;
    let s6 = null == (o3 = this.effectComposer.options.compositeUniforms) ? void 0 : o3.staticSceneDepthTexture.value;
    s6 && !s6.userData.needsAmbientOcclusionUpdate && this.outputTargetInternal ? this.cachePass.render(t48, e6, i, n, r) : (this.configuration.distanceFalloff = this.distanceFalloff, super.render(t48, e6, i, n, r), s6 && (s6.userData.needsAmbientOcclusionUpdate = false));
  }
};
q(I7, "AmbientOcclusionPass");
var A7 = I7;
var O7 = class extends pQ {
  constructor(t48, ...e6) {
    super(t48, ...e6), v(this, "_effects"), this._effects = [...e6];
  }
  getEffects() {
    return this._effects;
  }
  getEffectByName(t48) {
    return this._effects.find((e6) => e6.name === t48) || null;
  }
};
q(O7, "CustomEffectPass");
var C7 = O7;
var L7 = class {
  constructor(t48, e6) {
    var i;
    v(this, "options", { antialias: true, antialiasQuality: "medium", aoEnabled: false, aoQuality: "medium", aoResolution: "half", compositeUniforms: void 0 }), v(this, "isWebGL2"), v(this, "effectComposer"), v(this, "scene", null), v(this, "camera", null), v(this, "depthTexture"), v(this, "renderer"), this.isWebGL2 = !!t48.renderer.capabilities.isWebGL2, this.options = (0, FQ.default)({}, this.options, e6), this.effectComposer = new dQ(t48.renderer), this.effectComposer.multisampling = 0, this.effectComposer.depthTexture = (null == (i = this.options.compositeUniforms) ? void 0 : i.staticSceneDepthTexture.value) || null, this.renderer = t48;
  }
  get initialized() {
    return !!this.effectComposer.passes.length;
  }
  init(t48, e6) {
    this.scene = t48, this.camera = e6;
    let i = this.getRenderPass();
    this.addPass(i, "RenderPass");
    let n = this.getAmbientOcclusionPass();
    this.addPass(n, "AmbientOcclusionPass");
    let r = this.getCompositePass();
    this.addPass(r, "CompositeRenderPass");
    let o3 = this.getEffectsPass(true);
    this.addPass(o3, "EffectsPassAntialiasEnabled");
    let s6 = this.getEffectsPass(false);
    this.addPass(s6, "EffectsPassAntialiasDisabled");
    let a = this.getFinalPass();
    this.addPass(a, "FinalPass");
  }
  render() {
    this.effectComposer.render();
  }
  setSize(t48, e6) {
    this.effectComposer.setSize(t48, e6, false);
  }
  getPassByName(t48) {
    return this.effectComposer.passes.find(({ name: e6 }) => e6 === t48) || null;
  }
  getEffectsByName(t48) {
    let e6 = [], i = this.getPassByName("EffectsPassAntialiasEnabled"), n = this.getPassByName("EffectsPassAntialiasDisabled"), r = i.getEffectByName(t48), o3 = n.getEffectByName(t48);
    return r && e6.push(r), o3 && e6.push(o3), e6;
  }
  setAmbientOcclusionConfiguration(t48) {
    let e6 = this.getPassByName("AmbientOcclusionPass");
    e6 && (void 0 !== t48.aoEnabled && (e6.enabled = t48.aoEnabled), t48.aoQuality && e6.setQualityMode(t48.aoQuality), e6.setAOConfiguration(t48));
  }
  setAntialiasConfiguration(t48) {
    let e6 = this.getEffectsByName("SMAAEffect")[0], i = this.getPassByName("EffectsPassAntialiasEnabled"), n = this.getPassByName("EffectsPassAntialiasDisabled"), { antialias: r, antialiasQuality: o3 } = t48;
    void 0 !== r && r !== this.options.antialias && (this.options.antialias = r, r ? (n.setEnabled(false), i.setEnabled(true)) : (n.setEnabled(true), i.setEnabled(false))), o3 && o3 !== this.options.antialiasQuality && (this.options.antialiasQuality = o3, e6.applyPreset(this.getAntialiasingPreset()));
  }
  setPolygonOutlineColor(t48) {
    let e6 = this.getEffectsByName("OutlineEffect");
    t48 = new at(t48), e6.forEach((e10) => {
      e10.visibleEdgeColor = t48, e10.hiddenEdgeColor = t48;
    });
  }
  addSelectionForOutline(t48) {
    this.getEffectsByName("OutlineEffect").forEach((e6) => {
      e6.selection.add(t48);
    });
  }
  removeSelectionForOutline(t48) {
    this.getEffectsByName("OutlineEffect").forEach((e6) => {
      e6.selection.delete(t48);
    });
  }
  addPass(t48, e6) {
    t48 && (t48.name = e6, this.effectComposer.addPass(t48));
  }
  getRenderPass() {
    let t48 = this.options.compositeUniforms ? new S7(this) : new rS(this.scene, this.camera);
    return t48.renderToScreen = false, t48.needsSwap = false, t48.needsDepthTexture = true, t48;
  }
  getAmbientOcclusionPass() {
    let { aoResolution: t48, aoEnabled: e6, aoQuality: i } = this.options;
    if (!this.isWebGL2 || !e6)
      return null;
    let n = { aoRadius: 5, intensity: 5, screenSpaceRadius: true, halfRes: "half" === t48, denoiseIterations: 1 === this.renderer.core.resolutionScale ? 4 : 2 }, r = new A7(this, n);
    return r.setQualityMode(i), r.renderToScreen = false, r.needsSwap = true, r.needsDepthTexture = true, r;
  }
  getCompositePass() {
    if (!this.options.compositeUniforms)
      return null;
    let { staticSceneColorTexture: t48, alwaysOnBottomSceneColorTexture: e6, alwaysOnTopSceneColorTexture: i, ...n } = this.options.compositeUniforms, r = new Xt({ uniforms: n, vertexShader: vb, fragmentShader: _Q }), o3 = new ld(r);
    return o3.renderToScreen = false, o3.needsSwap = true, o3.needsDepthTexture = false, o3;
  }
  getEffectsPass(t48) {
    let { compositeUniforms: e6, antialias: i } = this.options, n = [];
    n.push(this.getOutlineEffect()), t48 && n.push(this.getAntialiasingEffect());
    let r = new C7(this.camera, ...n);
    return r.renderToScreen = !e6, r.enabled = t48 === i, r.needsSwap = !!e6, r.needsDepthTexture = true, r;
  }
  getFinalPass() {
    if (!this.options.compositeUniforms)
      return null;
    let { alwaysOnBottomSceneColorTexture: t48, alwaysOnTopSceneColorTexture: e6, inputBuffer: i } = this.options.compositeUniforms, n = new Xt({ uniforms: { inputBuffer: i, alwaysOnBottomSceneColorTexture: t48, alwaysOnTopSceneColorTexture: e6 }, vertexShader: vb, fragmentShader: wQ }), r = new ld(n);
    return r.renderToScreen = true, r.needsSwap = false, r.needsDepthTexture = false, r;
  }
  getOutlineEffect() {
    return new gQ(this.scene, this.camera, { multisampling: Math.min(4, this.renderer.renderer.capabilities.maxSamples), edgeStrength: 10, visibleEdgeColor: 16711680, hiddenEdgeColor: 16711680, xRay: true, blendFunction: on.ALPHA });
  }
  getAntialiasingPreset() {
    switch (this.options.antialiasQuality) {
      case "medium":
        return Ru.MEDIUM;
      case "high":
        return Ru.HIGH;
      case "ultra":
        return Ru.ULTRA;
      default:
        return Ru.LOW;
    }
  }
  getAntialiasingEffect() {
    let t48 = new vQ({ preset: this.getAntialiasingPreset() });
    return t48.blendMode.blendFunction = on.SRC, t48;
  }
};
q(L7, "EffectComposer");
var cd;
var _b = L7;
var wb = false;
wb && ((cd = new zQ.default()).showPanel(0), document.body.appendChild(cd.dom));
var N7 = class {
  constructor(t48) {
    t48.multiBufferRendering = t48.multiBufferRendering || false, this.contextLost = false, this.implementation = this.getRenderer(t48), this.onWebGLContextCreationError = t48.onWebGLContextCreationError, this.onWebGLContextLost = t48.onWebGLContextLost, this.onWebGLContextRestored = t48.onWebGLContextRestored, this.webGLContextCreationErrorListener = this.domElement().addEventListener("webglcontextcreationerror", (t49) => this.reportWebGlContextCreationError(t49)), this.webGLContextLostListener = this.domElement().addEventListener("webglcontextlost", (t49) => this.reportWebGlContextLost(t49)), this.webGLContextRestoredListener = this.domElement().addEventListener("webglcontextrestored", (t49) => this.reportWebGLContextRestored(t49));
    let e6 = t48.backgroundColor;
    "string" == typeof e6 && (e6 = new at(t48.backgroundColor)), null == e6 && (e6 = new at("#ffffff"));
    let i = t48.backgroundAlpha;
    null == i && (i = 1), this.shouldConsiderAlpha = t48.alpha || false, this.antialias = t48.antialias || false, this.setBackgroundColor(e6, i);
  }
  destroy() {
    this.domElement().removeEventListener("webglcontextcreationerror", this.webGLContextCreationErrorListener), this.domElement().removeEventListener("webglcontextlost", this.webGLContextLostListener), this.domElement().removeEventListener("webglcontextrestored", this.webGLContextRestoredListener), this.implementation.destroy();
  }
  render(t48, e6, i, n) {
    this.implementation.render(t48, e6, i, n);
  }
  getMaxAnisotropy() {
    return this.implementation.renderer.capabilities.getMaxAnisotropy();
  }
  getBufferSize() {
    return this.implementation.renderer.getSize(new qe());
  }
  getContext() {
    return this.implementation.renderer.getContext();
  }
  preloadTexture(t48) {
    this.implementation.renderer.initTexture(t48);
  }
  setBufferSize(t48, e6) {
    this.implementation.setBufferSize(t48, e6);
  }
  get backgroundColor() {
    return this.implementation.backgroundColor;
  }
  get backgroundAlpha() {
    return this.implementation.backgroundAlpha;
  }
  setBackgroundColor(t48, e6 = 1) {
    this.shouldConsiderAlpha || (e6 = 1), e6 = (e6 = void 0 !== e6 ? +e6 : 1) >= 0 && e6 <= 1 ? e6 : 1, this.implementation.setBackgroundColor(t48, e6);
  }
  setMapboxOutdoorContext(t48) {
    this.implementation.setMapboxOutdoorContext(t48);
  }
  domElement() {
    return this.implementation.renderer.domElement;
  }
  isAvailable() {
    return null != this.implementation.renderer && !this.contextLost;
  }
  disposeOfRenderLists() {
    this.implementation.renderer.renderLists.dispose();
  }
  reportWebGlContextCreationError(t48) {
    this.onWebGLContextCreationError && this.onWebGLContextCreationError(t48);
  }
  reportWebGlContextLost(t48) {
    t48.preventDefault(), this.onWebGLContextLost && this.onWebGLContextLost(t48), this.contextLost = true;
  }
  reportWebGLContextRestored() {
    this.onWebGLContextRestored && this.onWebGLContextRestored(), this.contextLost = false;
  }
  getTargetWebGLVersion(t48) {
    let e6 = /(AppleWebKit)/.test(navigator.userAgent), i = /(Mac)/.test(navigator.platform), n = t48.getExtension("WEBGL_debug_renderer_info"), r = /radeon\spro\s4\d\d|radeon\spro\s5\d\d/i.test(t48.getParameter(n.UNMASKED_RENDERER_WEBGL));
    return e6 && i && r ? 1 : 2;
  }
  getRenderer(t48) {
    let e6 = t48.multiBufferRendering ? s0 : D7, i = new e6(t48), n = this.getTargetWebGLVersion(i.renderer.getContext());
    return 2 === n ? i : (i.destroy(), new e6(t48, n));
  }
};
q(N7, "Renderer");
var r0 = N7;
var R7 = class {
  constructor(t48, e6 = 2) {
    try {
      this.options = t48;
      let i = { alpha: t48.alpha || false, stencil: true, outputEncoding: ai, antialias: false, powerPreference: "high-performance", preserveDrawingBuffer: true };
      this.core = this.options.core, this.renderer = 2 === e6 ? new Ag(i) : new Cg(i), this.effectComposer = new _b(this, this.options);
    } catch (e10) {
      t48.onWebGLRendererError && t48.onWebGLRendererError(e10);
    }
    this.backgroundColor = new at(), this.backgroundAlpha = 1, this.mapboxOutdoorContext = null;
  }
  destroy() {
    this.renderer.dispose();
  }
  render(t48, e6, i, n) {
    n.layers.enable($i.STATIC), n.layers.enable($i.ANIMATED), n.layers.enable($i.ALWAYS_ON_TOP), wb && cd.begin(), this.renderer.setClearColor(this.backgroundColor, this.backgroundAlpha), this.effectComposer.initialized || this.effectComposer.init(i, n), this.renderer.clear(), this.effectComposer.render(), wb && cd.end(), null != this.mapboxOutdoorContext && (this.renderer.state.reset(), this.mapboxOutdoorContext.render({ resolution: this.renderer.getSize(new qe()), camera: n }), this.renderer.state.reset());
  }
  setBufferSize(t48, e6) {
    this.width = t48, this.height = e6, this.renderer.setSize(t48, e6, false), this.effectComposer.setSize(t48, e6);
  }
  setBackgroundColor(t48, e6) {
    this.backgroundColor = t48, this.backgroundAlpha = e6;
  }
  setMapboxOutdoorContext(t48) {
    this.mapboxOutdoorContext = t48;
  }
};
q(R7, "SingleBufferRenderer");
var D7 = R7;
var B7 = class {
  constructor(t48, e6 = 2) {
    v(this, "effectComposer", null), v(this, "outdoorsVisible", false);
    try {
      this.options = t48;
      let i = { alpha: t48.alpha || false, stencil: true, antialias: false, outputEncoding: ai, powerPreference: "high-performance", preserveDrawingBuffer: true };
      this.renderer = 2 === e6 ? new Ag(i) : new Cg(i), this.core = this.options.core, this.journeyOpacity = t48.xRayPath ? 0.3 : 0, this.backgroundColor = new at(), this.backgroundAlpha = 1, this.mapboxOutdoorContext = null, this.staticSceneRenderTarget = new ti(this.renderer.width, this.renderer.height), this.populateRenderTarget(this.staticSceneRenderTarget), this.animatedSceneRenderTarget = new ti(this.renderer.width, this.renderer.height), this.populateRenderTarget(this.animatedSceneRenderTarget), this.alwaysOnTopSceneRenderTarget = new ti(this.renderer.width, this.renderer.height), this.populateRenderTarget(this.alwaysOnTopSceneRenderTarget), this.outdoorViewRenderTarget = new ti(this.renderer.width, this.renderer.height), this.createOutdoorViewTexture(), this.populateRenderTarget(this.outdoorViewRenderTarget), this.setupEffectComposer();
    } catch (e10) {
      t48.onWebGLRendererError && t48.onWebGLRendererError(e10);
    }
  }
  populateRenderTarget(t48) {
    t48.texture.colorSpace = ai, t48.texture.format = Gs, t48.texture.minFilter = ui, t48.texture.magFilter = ui, t48.texture.generateMipmaps = false, t48.stencilBuffer = true, t48.depthBuffer = true, t48.depthTexture = new qc(this.renderer.width, this.renderer.height), t48.depthTexture.type = il;
  }
  createOutdoorViewTexture() {
    null != this.outdoorViewTexture && this.outdoorViewTexture.dispose(), this.outdoorViewTexture = new Er(), this.outdoorViewTexture.colorSpace = ai, this.outdoorViewTextureProps = this.renderer.properties.get(this.outdoorViewTexture), this.outdoorViewRenderTarget.texture = this.outdoorViewTexture, null != this.effectComposer && this.outdoorsVisible && (this.options.compositeUniforms.alwaysOnBottomSceneColorTexture.value = this.outdoorViewRenderTarget.texture);
  }
  setupEffectComposer() {
    this.options.compositeUniforms = { animatedColorOpacity: new St(this.journeyOpacity), inputBuffer: new St(null), staticSceneColorTexture: new St(this.staticSceneRenderTarget.texture), staticSceneDepthTexture: new St(this.staticSceneRenderTarget.depthTexture), animatedSceneColorTexture: new St(this.animatedSceneRenderTarget.texture), animatedSceneDepthTexture: new St(this.animatedSceneRenderTarget.depthTexture), alwaysOnTopSceneColorTexture: new St(this.alwaysOnTopSceneRenderTarget.texture), alwaysOnBottomSceneColorTexture: new St(this.outdoorViewRenderTarget.texture) }, this.effectComposer = new _b(this, this.options);
  }
  setOutdoorViewTexture(t48) {
    this.outdoorViewTextureProps.__webglTexture = t48;
  }
  destroy() {
    this.staticSceneRenderTarget.dispose(), this.animatedSceneRenderTarget.dispose(), this.alwaysOnTopSceneRenderTarget.dispose(), this.renderer.dispose();
  }
  renderComposite(t48, e6, i) {
    i.layers.set($i.STATIC), this.renderer.setRenderTarget(t48), this.effectComposer.render();
  }
  renderToAnimatedBuffer(t48, e6) {
    e6.layers.set($i.ANIMATED), this.renderer.setClearColor(new at(), 0), this.renderer.setRenderTarget(this.animatedSceneRenderTarget), this.renderer.clear(), this.renderer.render(t48, e6);
  }
  renderAnimated(t48, e6, i) {
    this.renderToAnimatedBuffer(e6, i), this.renderComposite(t48, e6, i);
  }
  renderToAlwaysOnTopBuffer(t48, e6) {
    e6.layers.set($i.ALWAYS_ON_TOP), this.renderer.setClearColor(new at(), 0), this.renderer.setRenderTarget(this.alwaysOnTopSceneRenderTarget), this.renderer.clear(), this.renderer.render(t48, e6);
  }
  renderAlwaysOnTop(t48, e6, i) {
    this.renderToAlwaysOnTopBuffer(e6, i), this.renderComposite(t48, e6, i);
  }
  renderAll(t48, e6, i) {
    wb && cd.begin(), null != this.outdoorViewController && this.outdoorViewController.render(), this.renderer.state.reset(), i.layers.set($i.STATIC), this.renderer.autoClear = false, this.renderer.setClearColor(this.backgroundColor, this.outdoorViewController ? 0 : this.backgroundAlpha), this.staticSceneRenderTarget.depthTexture.userData.needsAmbientOcclusionUpdate = true, this.renderer.setRenderTarget(this.staticSceneRenderTarget), this.renderer.clear(), this.renderer.render(e6, i), null != this.mapboxOutdoorContext && (this.renderer.state.reset(), this.mapboxOutdoorContext.render({ resolution: this.renderer.getSize(new qe()), camera: i, renderTarget: this.staticSceneRenderTarget }), this.renderer.state.reset()), this.renderToAnimatedBuffer(e6, i), this.renderToAlwaysOnTopBuffer(e6, i), this.renderComposite(t48, e6, i), wb && cd.end();
  }
  render(t48, e6, i, n) {
    this.effectComposer.initialized || this.effectComposer.init(i, n), t48 === un.ANIMATED ? (this.renderer.state.reset(), this.renderAnimated(e6, i, n)) : t48 === un.ALWAYS_ON_TOP ? (this.renderer.state.reset(), this.renderAlwaysOnTop(e6, i, n)) : t48 === un.COMPOSITE ? (this.renderer.state.reset(), this.renderComposite(e6, i, n)) : t48 === un.ALL ? this.renderAll(e6, i, n) : Le.error("Renderer.render called with invalid renderTask");
  }
  setBufferSize(t48, e6) {
    this.width = t48, this.height = e6, this.renderer.setSize(t48, e6, false), this.effectComposer.setSize(t48, e6), this.staticSceneRenderTarget.setSize(t48, e6), this.animatedSceneRenderTarget.setSize(t48, e6), this.alwaysOnTopSceneRenderTarget.setSize(t48, e6), this.outdoorViewRenderTarget.width = t48, this.outdoorViewRenderTarget.height = e6, this.outdoorViewRenderTarget.viewport.set(0, 0, t48, e6), this.outdoorViewRenderTarget.scissor.set(0, 0, t48, e6), this.createOutdoorViewTexture();
  }
  setBackgroundColor(t48, e6) {
    this.backgroundColor = t48, this.backgroundAlpha = e6;
  }
  setMapboxOutdoorContext(t48) {
    this.mapboxOutdoorContext = t48;
  }
  setOutdoorViewController(t48) {
    this.outdoorsVisible = true, this.outdoorViewController = t48;
  }
  toggleOutdoorViewVisiblity(t48) {
    this.outdoorsVisible = t48, this.options.compositeUniforms.alwaysOnBottomSceneColorTexture.value = t48 ? this.outdoorViewRenderTarget.texture : null;
  }
};
q(B7, "MultiBufferRenderer");
var s0 = B7;
c();
var F7 = u(GQ());
var VQ = false;
var mMe = false;
var HQ = 6;
var G7 = class {
  constructor(t48, e6) {
    v(this, "_attribution"), v(this, "core"), v(this, "map"), v(this, "enabled", false), v(this, "hidden", false), v(this, "url", "https://tiles-cdn.mappedin.com/styles/mappedin/style.json"), v(this, "authURL", "https://auth.mappedin.com/oauth2/token"), v(this, "headers"), v(this, "customAttribution"), v(this, "attributionPosition"), v(this, "loaded", false), v(this, "module"), v(this, "getRequestHeaders", q(async () => {
      if (this.headers)
        return this.headers;
      {
        let { authURL: t49 } = this, e10 = await this.fetchToken(t49), { access_token: i } = await e10.json();
        return { "x-mappedin-tiles-key": i };
      }
    }, "getRequestHeaders")), v(this, "lastCameraPosition"), this.core = t48, this.url = (null == e6 ? void 0 : e6.url) || this.url, this.authURL = (null == e6 ? void 0 : e6.authURL) || this.authURL, this.headers = null == e6 ? void 0 : e6.headers, this.attributionPosition = null == e6 ? void 0 : e6.attributionPosition, (null == e6 ? void 0 : e6.customAttribution) instanceof Array ? (this.customAttribution = [], null == e6 || e6.customAttribution.forEach((t49) => {
      this.customAttribution.push((0, F7.sanitize)(t49));
    })) : null != e6 && e6.customAttribution && (this.customAttribution = (0, F7.sanitize)(e6.customAttribution));
  }
  fetchToken(t48) {
    return fetch(t48, { method: "POST", headers: { "content-type": "application/json" }, body: JSON.stringify({ grant_type: "client_credentials", client_id: this.core.venue.options.clientId, client_secret: this.core.venue.options.clientSecret }) });
  }
  async generateCollisionGrid() {
    var t48;
    let e6 = this.core.referenceMap.georeference, i = [e6[0].target.y, e6[0].target.x], n = [e6[1].target.y, e6[1].target.x], r = [e6[2].target.y, e6[2].target.x], o3 = [e6[3].target.y, e6[3].target.x], s6 = this.core.mapObjects.get(this.core.referenceMap.id);
    await s6.load();
    let a = HQ, l = HQ, u2 = [], h = new pa();
    for (let e10 = 0; e10 <= l; e10++) {
      let c2 = e10 / l;
      for (let e11 = 0; e11 <= a; e11++) {
        let l3 = e11 / a, p4 = (1 - l3) * (1 - c2) * i[1] + l3 * (1 - c2) * n[1] + l3 * c2 * r[1] + (1 - l3) * c2 * o3[1], d = (1 - l3) * (1 - c2) * i[0] + l3 * (1 - c2) * n[0] + l3 * c2 * r[0] + (1 - l3) * c2 * o3[0], f = this.core.referenceMap.createCoordinate(p4, d), { x: g, y: m } = this.core.convertTo3DMapPosition(f);
        h.set(new K(g, m, 1e3), new K(0, 0, -1));
        let v4 = h.intersectObjects(null == s6 ? void 0 : s6.object.children);
        null != (t48 = null == v4 ? void 0 : v4[0]) && t48.point && u2.push(this.core.convert3DMapPositionToCoordinate(v4[0].point)), VQ && this.core.markers.add(f, "0");
      }
    }
    return u2;
  }
  async load() {
    this.enabled = true;
    try {
      let [t48, e6] = await Promise.all([import("./outdoor-context-EFVXH7VY-JMU23USB.js"), this.getRequestHeaders()]);
      this.module = t48;
      let { Map: i, Marker: n, AttributionControl: r } = this.module.default, o3 = document.createElement("div");
      Object.assign(o3.style, { position: "absolute", top: "0px", left: "0px", width: "100%", height: "100%", pointerEvents: "none" }), this.core.container.appendChild(o3);
      let s6 = this.core.referenceMap.georeference[0].target.x, a = this.core.referenceMap.georeference[0].target.y, l = this.core.referenceMap.georeference[2].target.x, u2 = this.core.referenceMap.georeference[2].target.y, h = new mi(s6, a), c2 = new mi(l, u2), p4 = h.midpointTo(c2), d = -Br.radToDeg(this.core.controls.getRotation() + this.core.referenceMap.getNorth()), f = Br.radToDeg(this.core.controls.getTilt()), g = this.core.controls.getZoomLevel(), m = { canvas: this.core.renderer.domElement(), canvasContainer: o3, container: this.core.container, style: this.url, center: [p4.lon, p4.lat], zoom: g, bearing: d, pitch: f, attributionControl: false, transformRequest: (t49) => ({ url: t49, headers: e6 }) }, v4 = await this.generateCollisionGrid();
      this.map = new i(m), this._attribution = new r({ collapse: false, position: this.attributionPosition, customAttribution: this.customAttribution }), this.core.container.appendChild(this._attribution.onAdd(this.map)), this._attribution && this.hidden && this._attribution.hide(), this.map.on("error", (t49) => {
        Le.error(t49);
      }), this.map.transform.getElevation = () => this.core.controls.getPedestal() * this.core.referenceMap.scale, this.core.renderer.implementation.setOutdoorViewTexture(this.map.painter.webGLRenderTargetTexture), this.map.on("load", () => {
        if (this.core.tryRendering(), mMe) {
          let { x: t49, y: e10 } = this.core.referenceMap.georeference[0].target, { x: i10, y: r6 } = this.core.referenceMap.georeference[2].target, o6 = this.core.referenceMap.createCoordinate(t49, e10), s10 = this.core.referenceMap.createCoordinate(i10, r6);
          this.core.markers.add(o6, "!", { rank: 4 }), this.core.markers.add(s10, "!", { rank: 4 }), new n().setLngLat([e10, t49]).addTo(this.map), new n().setLngLat([r6, i10]).addTo(this.map);
        }
      }), this.map.on("resize", () => {
        this.core.renderer.implementation.setOutdoorViewTexture(this.map.painter.webGLRenderTargetTexture);
      });
      let y4 = false, x4 = false;
      this.map.on("render", async () => {
        if (y4 || !this.map.getLayer("building-top"))
          return;
        let t49 = [];
        for (let i10 of v4) {
          !x4 && VQ && this.core.markers.add(i10, "1", { rank: 4 });
          let n10 = this.map.project({ lat: i10.lat, lon: i10.lon }), r6 = this.map.queryRenderedFeatures(n10, { layers: ["building-top"] });
          if (0 !== r6.length)
            for (var e10 of r6)
              t49.push(["!=", ["id"], e10.id]);
        }
        x4 = true, t49.length > 0 && (this.map.setFilter("building-top", ["all", ...t49]), y4 = true);
      }), this.map.on("idle", () => {
        this.loaded || (this.loaded = true, y4 = true, this.core.publish(31)), this.core.tryRendering(un.COMPOSITE);
      });
    } catch (t48) {
      this.enabled = false, Le.error(t48);
    }
  }
  get attributions() {
    return this._attribution ? this._attribution.attributions : [];
  }
  hide() {
    this.core.renderer.implementation.toggleOutdoorViewVisiblity(false), this._attribution && this._attribution.hide(), this.core.tryRendering(un.COMPOSITE), this.lastCameraPosition = null, this.hidden = true;
  }
  show() {
    this.core.renderer.implementation.toggleOutdoorViewVisiblity(true), this._attribution && this._attribution.show(), this.core.tryRendering(un.COMPOSITE), this.hidden = false;
  }
  resize() {
    this.enabled && null != this.map && this.map.resize();
  }
  render() {
    if (!this.enabled || null == this.map)
      return;
    let { lat: t48, lon: e6 } = this.core.controls.getPositionCoordinate(), i = { center: { lat: t48, lon: e6 }, bearing: -Br.radToDeg(this.core.controls.getRotation() + this.core.referenceMap.getNorth()), pitch: Br.radToDeg(this.core.controls.getTilt()), zoom: this.core.controls.getZoomLevel() }, n = this.core.controls.getPedestal() * this.core.referenceMap.scale;
    this.lastCameraPosition && this.lastCameraPosition.center.lat === i.center.lat && this.lastCameraPosition.center.lon === i.center.lon && this.lastCameraPosition.bearing === i.bearing && this.lastCameraPosition.pitch === i.pitch && this.lastCameraPosition.zoom === i.zoom && this.lastCameraPosition.elevation === n || (this.map.jumpTo(i), this.map.triggerRepaintSync(), this.lastCameraPosition = { ...i, elevation: n });
  }
  setStyle(t48) {
    this.map.setStyle(t48), this.map.triggerRepaintSync();
  }
  setAttributionPosition(t48) {
    this._attribution && this._attribution.setPosition(t48);
  }
};
q(G7, "OutdoorViewController");
var U7 = G7;
var z7 = U7;
c(), c();
var jQ = { POSITION: ["byte", "byte normalized", "unsigned byte", "unsigned byte normalized", "short", "short normalized", "unsigned short", "unsigned short normalized"], NORMAL: ["byte normalized", "short normalized"], TANGENT: ["byte normalized", "short normalized"], TEXCOORD: ["byte", "byte normalized", "unsigned byte", "short", "short normalized", "unsigned short"] };
var n9 = class {
  constructor() {
    this.pluginCallbacks = [], this.register(function(t48) {
      return new W7(t48);
    }), this.register(function(t48) {
      return new Y7(t48);
    }), this.register(function(t48) {
      return new Q7(t48);
    }), this.register(function(t48) {
      return new K7(t48);
    }), this.register(function(t48) {
      return new J7(t48);
    }), this.register(function(t48) {
      return new $7(t48);
    }), this.register(function(t48) {
      return new X7(t48);
    }), this.register(function(t48) {
      return new Z7(t48);
    }), this.register(function(t48) {
      return new e9(t48);
    }), this.register(function(t48) {
      return new t92(t48);
    });
  }
  register(t48) {
    return -1 === this.pluginCallbacks.indexOf(t48) && this.pluginCallbacks.push(t48), this;
  }
  unregister(t48) {
    return -1 !== this.pluginCallbacks.indexOf(t48) && this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t48), 1), this;
  }
  parse(t48, e6, i, n) {
    let r = new j7(), o3 = [];
    for (let t49 = 0, e10 = this.pluginCallbacks.length; t49 < e10; t49++)
      o3.push(this.pluginCallbacks[t49](r));
    r.setPlugins(o3), r.write(t48, e6, n).catch(i);
  }
  parseAsync(t48, e6) {
    let i = this;
    return new Promise(function(n, r) {
      i.parse(t48, n, r, e6);
    });
  }
};
q(n9, "GLTFExporter");
var o0 = n9;
var ri = { POINTS: 0, LINES: 1, LINE_LOOP: 2, LINE_STRIP: 3, TRIANGLES: 4, TRIANGLE_STRIP: 5, TRIANGLE_FAN: 6, BYTE: 5120, UNSIGNED_BYTE: 5121, SHORT: 5122, UNSIGNED_SHORT: 5123, INT: 5124, UNSIGNED_INT: 5125, FLOAT: 5126, ARRAY_BUFFER: 34962, ELEMENT_ARRAY_BUFFER: 34963, NEAREST: 9728, LINEAR: 9729, NEAREST_MIPMAP_NEAREST: 9984, LINEAR_MIPMAP_NEAREST: 9985, NEAREST_MIPMAP_LINEAR: 9986, LINEAR_MIPMAP_LINEAR: 9987, CLAMP_TO_EDGE: 33071, MIRRORED_REPEAT: 33648, REPEAT: 10497 };
var V7 = "KHR_mesh_quantization";
var ka = {};
ka[ui] = ri.NEAREST, ka[zE] = ri.NEAREST_MIPMAP_NEAREST, ka[cx] = ri.NEAREST_MIPMAP_LINEAR, ka[wi] = ri.LINEAR, ka[SO] = ri.LINEAR_MIPMAP_NEAREST, ka[Dp] = ri.LINEAR_MIPMAP_LINEAR, ka[ca] = ri.CLAMP_TO_EDGE, ka[wr] = ri.REPEAT, ka[vx] = ri.MIRRORED_REPEAT;
var WQ = { scale: "scale", position: "translation", quaternion: "rotation", morphTargetInfluences: "weights" };
var gMe = new at();
var YQ = 12;
var vMe = 1179937895;
var yMe = 2;
var XQ = 8;
var xMe = 1313821514;
var bMe = 5130562;
function Mb(t48, e6) {
  return t48.length === e6.length && t48.every(function(t49, i) {
    return t49 === e6[i];
  });
}
function _Me(t48) {
  return new TextEncoder().encode(t48).buffer;
}
function wMe(t48) {
  return Mb(t48.elements, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
}
function MMe(t48, e6, i) {
  let n = { min: new Array(t48.itemSize).fill(Number.POSITIVE_INFINITY), max: new Array(t48.itemSize).fill(Number.NEGATIVE_INFINITY) };
  for (let r = e6; r < e6 + i; r++)
    for (let e10 = 0; e10 < t48.itemSize; e10++) {
      let i10;
      t48.itemSize > 4 ? i10 = t48.array[r * t48.itemSize + e10] : (0 === e10 ? i10 = t48.getX(r) : 1 === e10 ? i10 = t48.getY(r) : 2 === e10 ? i10 = t48.getZ(r) : 3 === e10 && (i10 = t48.getW(r)), true === t48.normalized && (i10 = Br.normalize(i10, t48.array))), n.min[e10] = Math.min(n.min[e10], i10), n.max[e10] = Math.max(n.max[e10], i10);
    }
  return n;
}
function KQ(t48) {
  return 4 * Math.ceil(t48 / 4);
}
function H7(t48, e6 = 0) {
  let i = KQ(t48.byteLength);
  if (i !== t48.byteLength) {
    let n = new Uint8Array(i);
    if (n.set(new Uint8Array(t48)), 0 !== e6)
      for (let r = t48.byteLength; r < i; r++)
        n[r] = e6;
    return n.buffer;
  }
  return t48;
}
function ZQ() {
  return typeof document > "u" && typeof OffscreenCanvas < "u" ? new OffscreenCanvas(1, 1) : document.createElement("canvas");
}
function QQ(t48, e6) {
  if (void 0 !== t48.toBlob)
    return new Promise((i10) => t48.toBlob(i10, e6));
  let i;
  return "image/jpeg" === e6 ? i = 0.92 : "image/webp" === e6 && (i = 0.8), t48.convertToBlob({ type: e6, quality: i });
}
q(Mb, "equalArray"), q(_Me, "stringToArrayBuffer"), q(wMe, "isIdentityMatrix"), q(MMe, "getMinMax"), q(KQ, "getPaddedBufferSize"), q(H7, "getPaddedArrayBuffer"), q(ZQ, "getCanvas"), q(QQ, "getToBlobPromise");
var i9 = class {
  constructor() {
    this.plugins = [], this.options = {}, this.pending = [], this.buffers = [], this.byteOffset = 0, this.buffers = [], this.nodeMap = /* @__PURE__ */ new Map(), this.skins = [], this.extensionsUsed = {}, this.extensionsRequired = {}, this.uids = /* @__PURE__ */ new Map(), this.uid = 0, this.json = { asset: { version: "2.0", generator: "THREE.GLTFExporter" } }, this.cache = { meshes: /* @__PURE__ */ new Map(), attributes: /* @__PURE__ */ new Map(), attributesNormalized: /* @__PURE__ */ new Map(), materials: /* @__PURE__ */ new Map(), textures: /* @__PURE__ */ new Map(), images: /* @__PURE__ */ new Map() };
  }
  setPlugins(t48) {
    this.plugins = t48;
  }
  async write(t48, e6, i = {}) {
    this.options = Object.assign({ binary: false, trs: false, onlyVisible: true, maxTextureSize: 1 / 0, animations: [], includeCustomExtensions: false }, i), this.options.animations.length > 0 && (this.options.trs = true), this.processInput(t48), await Promise.all(this.pending);
    let n = this, r = n.buffers, o3 = n.json;
    i = n.options;
    let s6 = n.extensionsUsed, a = n.extensionsRequired, l = new Blob(r, { type: "application/octet-stream" }), u2 = Object.keys(s6), h = Object.keys(a);
    if (u2.length > 0 && (o3.extensionsUsed = u2), h.length > 0 && (o3.extensionsRequired = h), o3.buffers && o3.buffers.length > 0 && (o3.buffers[0].byteLength = l.size), true === i.binary) {
      let t49 = new FileReader();
      t49.readAsArrayBuffer(l), t49.onloadend = function() {
        let i10 = H7(t49.result), n10 = new DataView(new ArrayBuffer(XQ));
        n10.setUint32(0, i10.byteLength, true), n10.setUint32(4, bMe, true);
        let r6 = H7(_Me(JSON.stringify(o3)), 32), s10 = new DataView(new ArrayBuffer(XQ));
        s10.setUint32(0, r6.byteLength, true), s10.setUint32(4, xMe, true);
        let a3 = new ArrayBuffer(YQ), l3 = new DataView(a3);
        l3.setUint32(0, vMe, true), l3.setUint32(4, yMe, true);
        let u3 = YQ + s10.byteLength + r6.byteLength + n10.byteLength + i10.byteLength;
        l3.setUint32(8, u3, true);
        let h2 = new Blob([a3, s10, r6, n10, i10], { type: "application/octet-stream" }), c2 = new FileReader();
        c2.readAsArrayBuffer(h2), c2.onloadend = function() {
          e6(c2.result);
        };
      };
    } else if (o3.buffers && o3.buffers.length > 0) {
      let t49 = new FileReader();
      t49.readAsDataURL(l), t49.onloadend = function() {
        let i10 = t49.result;
        o3.buffers[0].uri = i10, e6(o3);
      };
    } else
      e6(o3);
  }
  serializeUserData(t48, e6) {
    if (0 === Object.keys(t48.userData).length)
      return;
    let i = this.options, n = this.extensionsUsed;
    try {
      let r = JSON.parse(JSON.stringify(t48.userData));
      if (i.includeCustomExtensions && r.gltfExtensions) {
        void 0 === e6.extensions && (e6.extensions = {});
        for (let t49 in r.gltfExtensions)
          e6.extensions[t49] = r.gltfExtensions[t49], n[t49] = true;
        delete r.gltfExtensions;
      }
      Object.keys(r).length > 0 && (e6.extras = r);
    } catch (e10) {
      console.warn("THREE.GLTFExporter: userData of '" + t48.name + "' won't be serialized because of JSON.stringify error - " + e10.message);
    }
  }
  getUID(t48, e6 = false) {
    if (false === this.uids.has(t48)) {
      let e10 = /* @__PURE__ */ new Map();
      e10.set(true, this.uid++), e10.set(false, this.uid++), this.uids.set(t48, e10);
    }
    return this.uids.get(t48).get(e6);
  }
  isNormalizedNormalAttribute(t48) {
    if (this.cache.attributesNormalized.has(t48))
      return false;
    let e6 = new K();
    for (let i = 0, n = t48.count; i < n; i++)
      if (Math.abs(e6.fromBufferAttribute(t48, i).length() - 1) > 5e-4)
        return false;
    return true;
  }
  createNormalizedNormalAttribute(t48) {
    let e6 = this.cache;
    if (e6.attributesNormalized.has(t48))
      return e6.attributesNormalized.get(t48);
    let i = t48.clone(), n = new K();
    for (let t49 = 0, e10 = i.count; t49 < e10; t49++)
      n.fromBufferAttribute(i, t49), 0 === n.x && 0 === n.y && 0 === n.z ? n.setX(1) : n.normalize(), i.setXYZ(t49, n.x, n.y, n.z);
    return e6.attributesNormalized.set(t48, i), i;
  }
  applyTextureTransform(t48, e6) {
    let i = false, n = {};
    (0 !== e6.offset.x || 0 !== e6.offset.y) && (n.offset = e6.offset.toArray(), i = true), 0 !== e6.rotation && (n.rotation = e6.rotation, i = true), (1 !== e6.repeat.x || 1 !== e6.repeat.y) && (n.scale = e6.repeat.toArray(), i = true), i && (t48.extensions = t48.extensions || {}, t48.extensions.KHR_texture_transform = n, this.extensionsUsed.KHR_texture_transform = true);
  }
  buildMetalRoughTexture(t48, e6) {
    if (t48 === e6)
      return t48;
    function i(t49) {
      return t49.encoding === ai ? q(function(t50) {
        return t50 < 0.04045 ? 0.0773993808 * t50 : Math.pow(0.9478672986 * t50 + 0.0521327014, 2.4);
      }, "SRGBToLinear") : q(function(t50) {
        return t50;
      }, "LinearToLinear");
    }
    q(i, "getEncodingConversion"), console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");
    let n = t48 ? t48.image : null, r = e6 ? e6.image : null, o3 = Math.max(n ? n.width : 0, r ? r.width : 0), s6 = Math.max(n ? n.height : 0, r ? r.height : 0), a = ZQ();
    a.width = o3, a.height = s6;
    let l = a.getContext("2d");
    l.fillStyle = "#00ffff", l.fillRect(0, 0, o3, s6);
    let h = l.getImageData(0, 0, o3, s6);
    if (n) {
      l.drawImage(n, 0, 0, o3, s6);
      let e10 = i(t48), r6 = l.getImageData(0, 0, o3, s6).data;
      for (let t49 = 2; t49 < r6.length; t49 += 4)
        h.data[t49] = 256 * e10(r6[t49] / 256);
    }
    if (r) {
      l.drawImage(r, 0, 0, o3, s6);
      let t49 = i(e6), n10 = l.getImageData(0, 0, o3, s6).data;
      for (let e10 = 1; e10 < n10.length; e10 += 4)
        h.data[e10] = 256 * t49(n10[e10] / 256);
    }
    l.putImageData(h, 0, 0);
    let c2 = (t48 || e6).clone();
    return c2.source = new Mg(a), c2.encoding = rl, c2;
  }
  processBuffer(t48) {
    let e6 = this.json, i = this.buffers;
    return e6.buffers || (e6.buffers = [{ byteLength: 0 }]), i.push(t48), 0;
  }
  processBufferView(t48, e6, i, n, r) {
    let o3, s6 = this.json;
    switch (s6.bufferViews || (s6.bufferViews = []), e6) {
      case ri.BYTE:
      case ri.UNSIGNED_BYTE:
        o3 = 1;
        break;
      case ri.SHORT:
      case ri.UNSIGNED_SHORT:
        o3 = 2;
        break;
      default:
        o3 = 4;
    }
    let a = KQ(n * t48.itemSize * o3), l = new DataView(new ArrayBuffer(a)), u2 = 0;
    for (let r6 = i; r6 < i + n; r6++)
      for (let i10 = 0; i10 < t48.itemSize; i10++) {
        let n10;
        t48.itemSize > 4 ? n10 = t48.array[r6 * t48.itemSize + i10] : (0 === i10 ? n10 = t48.getX(r6) : 1 === i10 ? n10 = t48.getY(r6) : 2 === i10 ? n10 = t48.getZ(r6) : 3 === i10 && (n10 = t48.getW(r6)), true === t48.normalized && (n10 = Br.normalize(n10, t48.array))), e6 === ri.FLOAT ? l.setFloat32(u2, n10, true) : e6 === ri.INT ? l.setInt32(u2, n10, true) : e6 === ri.UNSIGNED_INT ? l.setUint32(u2, n10, true) : e6 === ri.SHORT ? l.setInt16(u2, n10, true) : e6 === ri.UNSIGNED_SHORT ? l.setUint16(u2, n10, true) : e6 === ri.BYTE ? l.setInt8(u2, n10) : e6 === ri.UNSIGNED_BYTE && l.setUint8(u2, n10), u2 += o3;
      }
    let h = { buffer: this.processBuffer(l.buffer), byteOffset: this.byteOffset, byteLength: a };
    return void 0 !== r && (h.target = r), r === ri.ARRAY_BUFFER && (h.byteStride = t48.itemSize * o3), this.byteOffset += a, s6.bufferViews.push(h), { id: s6.bufferViews.length - 1, byteLength: 0 };
  }
  processBufferViewImage(t48) {
    let e6 = this, i = e6.json;
    return i.bufferViews || (i.bufferViews = []), new Promise(function(n) {
      let r = new FileReader();
      r.readAsArrayBuffer(t48), r.onloadend = function() {
        let t49 = H7(r.result), o3 = { buffer: e6.processBuffer(t49), byteOffset: e6.byteOffset, byteLength: t49.byteLength };
        e6.byteOffset += t49.byteLength, n(i.bufferViews.push(o3) - 1);
      };
    });
  }
  processAccessor(t48, e6, i, n) {
    let r, o3 = this.json;
    if (t48.array.constructor === Float32Array)
      r = ri.FLOAT;
    else if (t48.array.constructor === Int32Array)
      r = ri.INT;
    else if (t48.array.constructor === Uint32Array)
      r = ri.UNSIGNED_INT;
    else if (t48.array.constructor === Int16Array)
      r = ri.SHORT;
    else if (t48.array.constructor === Uint16Array)
      r = ri.UNSIGNED_SHORT;
    else if (t48.array.constructor === Int8Array)
      r = ri.BYTE;
    else {
      if (t48.array.constructor !== Uint8Array)
        throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");
      r = ri.UNSIGNED_BYTE;
    }
    if (void 0 === i && (i = 0), void 0 === n && (n = t48.count), 0 === n)
      return null;
    let s6, a = MMe(t48, i, n);
    void 0 !== e6 && (s6 = t48 === e6.index ? ri.ELEMENT_ARRAY_BUFFER : ri.ARRAY_BUFFER);
    let l = this.processBufferView(t48, r, i, n, s6), u2 = { bufferView: l.id, byteOffset: l.byteOffset, componentType: r, count: n, max: a.max, min: a.min, type: { 1: "SCALAR", 2: "VEC2", 3: "VEC3", 4: "VEC4", 9: "MAT3", 16: "MAT4" }[t48.itemSize] };
    return true === t48.normalized && (u2.normalized = true), o3.accessors || (o3.accessors = []), o3.accessors.push(u2) - 1;
  }
  processImage(t48, e6, i, n = "image/png") {
    if (null !== t48) {
      let r = this, o3 = r.cache, s6 = r.json, a = r.options, l = r.pending;
      o3.images.has(t48) || o3.images.set(t48, {});
      let u2 = o3.images.get(t48), h = n + ":flipY/" + i.toString();
      if (void 0 !== u2[h])
        return u2[h];
      s6.images || (s6.images = []);
      let c2 = { mimeType: n }, p4 = ZQ();
      p4.width = Math.min(t48.width, a.maxTextureSize), p4.height = Math.min(t48.height, a.maxTextureSize);
      let d = p4.getContext("2d");
      if (true === i && (d.translate(0, p4.height), d.scale(1, -1)), void 0 !== t48.data) {
        e6 !== Gs && console.error("GLTFExporter: Only RGBAFormat is supported."), (t48.width > a.maxTextureSize || t48.height > a.maxTextureSize) && console.warn("GLTFExporter: Image size is bigger than maxTextureSize", t48);
        let i10 = new Uint8ClampedArray(t48.height * t48.width * 4);
        for (let e10 = 0; e10 < i10.length; e10 += 4)
          i10[e10 + 0] = t48.data[e10 + 0], i10[e10 + 1] = t48.data[e10 + 1], i10[e10 + 2] = t48.data[e10 + 2], i10[e10 + 3] = t48.data[e10 + 3];
        d.putImageData(new ImageData(i10, t48.width, t48.height), 0, 0);
      } else
        d.drawImage(t48, 0, 0, p4.width, p4.height);
      true === a.binary ? l.push(QQ(p4, n).then((t49) => r.processBufferViewImage(t49)).then((t49) => {
        c2.bufferView = t49;
      })) : void 0 !== p4.toDataURL ? c2.uri = p4.toDataURL(n) : l.push(QQ(p4, n).then((t49) => new FileReader().readAsDataURL(t49)).then((t49) => {
        c2.uri = t49;
      }));
      let f = s6.images.push(c2) - 1;
      return u2[h] = f, f;
    }
    throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.");
  }
  processSampler(t48) {
    let e6 = this.json;
    e6.samplers || (e6.samplers = []);
    let i = { magFilter: ka[t48.magFilter], minFilter: ka[t48.minFilter], wrapS: ka[t48.wrapS], wrapT: ka[t48.wrapT] };
    return e6.samplers.push(i) - 1;
  }
  processTexture(t48) {
    let e6 = this.cache, i = this.json;
    if (e6.textures.has(t48))
      return e6.textures.get(t48);
    i.textures || (i.textures = []);
    let n = t48.userData.mimeType;
    "image/webp" === n && (n = "image/png");
    let r = { sampler: this.processSampler(t48), source: this.processImage(t48.image, t48.format, t48.flipY, n) };
    t48.name && (r.name = t48.name), this._invokeAll(function(e10) {
      e10.writeTexture && e10.writeTexture(t48, r);
    });
    let o3 = i.textures.push(r) - 1;
    return e6.textures.set(t48, o3), o3;
  }
  processMaterial(t48) {
    let e6 = this.cache, i = this.json;
    if (e6.materials.has(t48))
      return e6.materials.get(t48);
    if (t48.isShaderMaterial)
      return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."), null;
    i.materials || (i.materials = []);
    let n = { pbrMetallicRoughness: {} };
    true !== t48.isMeshStandardMaterial && true !== t48.isMeshBasicMaterial && console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");
    let r = t48.color.toArray().concat([t48.opacity]);
    if (Mb(r, [1, 1, 1, 1]) || (n.pbrMetallicRoughness.baseColorFactor = r), t48.isMeshStandardMaterial ? (n.pbrMetallicRoughness.metallicFactor = t48.metalness, n.pbrMetallicRoughness.roughnessFactor = t48.roughness) : (n.pbrMetallicRoughness.metallicFactor = 0.5, n.pbrMetallicRoughness.roughnessFactor = 0.5), t48.metalnessMap || t48.roughnessMap) {
      let e10 = this.buildMetalRoughTexture(t48.metalnessMap, t48.roughnessMap), i10 = { index: this.processTexture(e10) };
      this.applyTextureTransform(i10, e10), n.pbrMetallicRoughness.metallicRoughnessTexture = i10;
    }
    if (t48.map) {
      let e10 = { index: this.processTexture(t48.map) };
      this.applyTextureTransform(e10, t48.map), n.pbrMetallicRoughness.baseColorTexture = e10;
    }
    if (t48.emissive) {
      let e10 = t48.emissive;
      if (Math.max(e10.r, e10.g, e10.b) > 0 && (n.emissiveFactor = t48.emissive.toArray()), t48.emissiveMap) {
        let e11 = { index: this.processTexture(t48.emissiveMap) };
        this.applyTextureTransform(e11, t48.emissiveMap), n.emissiveTexture = e11;
      }
    }
    if (t48.normalMap) {
      let e10 = { index: this.processTexture(t48.normalMap) };
      t48.normalScale && 1 !== t48.normalScale.x && (e10.scale = t48.normalScale.x), this.applyTextureTransform(e10, t48.normalMap), n.normalTexture = e10;
    }
    if (t48.aoMap) {
      let e10 = { index: this.processTexture(t48.aoMap), texCoord: 1 };
      1 !== t48.aoMapIntensity && (e10.strength = t48.aoMapIntensity), this.applyTextureTransform(e10, t48.aoMap), n.occlusionTexture = e10;
    }
    t48.transparent ? n.alphaMode = "BLEND" : t48.alphaTest > 0 && (n.alphaMode = "MASK", n.alphaCutoff = t48.alphaTest), t48.side === Dr && (n.doubleSided = true), "" !== t48.name && (n.name = t48.name), this.serializeUserData(t48, n), this._invokeAll(function(e10) {
      e10.writeMaterial && e10.writeMaterial(t48, n);
    });
    let o3 = i.materials.push(n) - 1;
    return e6.materials.set(t48, o3), o3;
  }
  processMesh(t48) {
    let e6 = this.cache, i = this.json, n = [t48.geometry.uuid];
    if (Array.isArray(t48.material))
      for (let e10 = 0, i10 = t48.material.length; e10 < i10; e10++)
        n.push(t48.material[e10].uuid);
    else
      n.push(t48.material.uuid);
    let r = n.join(":");
    if (e6.meshes.has(r))
      return e6.meshes.get(r);
    let o3, s6 = t48.geometry;
    o3 = t48.isLineSegments ? ri.LINES : t48.isLineLoop ? ri.LINE_LOOP : t48.isLine ? ri.LINE_STRIP : t48.isPoints ? ri.POINTS : t48.material.wireframe ? ri.LINES : ri.TRIANGLES;
    let a = {}, l = {}, u2 = [], h = [], c2 = { uv: "TEXCOORD_0", uv2: "TEXCOORD_1", color: "COLOR_0", skinWeight: "WEIGHTS_0", skinIndex: "JOINTS_0" }, p4 = s6.getAttribute("normal");
    void 0 !== p4 && !this.isNormalizedNormalAttribute(p4) && (console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."), s6.setAttribute("normal", this.createNormalizedNormalAttribute(p4)));
    let d = null;
    for (let t49 in s6.attributes) {
      if ("morph" === t49.slice(0, 5))
        continue;
      let i10 = s6.attributes[t49];
      if (t49 = c2[t49] || t49.toUpperCase(), /^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(t49) || (t49 = "_" + t49), e6.attributes.has(this.getUID(i10))) {
        l[t49] = e6.attributes.get(this.getUID(i10));
        continue;
      }
      d = null;
      let n10 = i10.array;
      "JOINTS_0" === t49 && !(n10 instanceof Uint16Array) && !(n10 instanceof Uint8Array) && (console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'), d = new rn(new Uint16Array(n10), i10.itemSize, i10.normalized));
      let r6 = this.processAccessor(d || i10, s6);
      null !== r6 && (t49.startsWith("_") || this.detectMeshQuantization(t49, i10), l[t49] = r6, e6.attributes.set(this.getUID(i10), r6));
    }
    if (void 0 !== p4 && s6.setAttribute("normal", p4), 0 === Object.keys(l).length)
      return null;
    if (void 0 !== t48.morphTargetInfluences && t48.morphTargetInfluences.length > 0) {
      let i10 = [], n10 = [], r6 = {};
      if (void 0 !== t48.morphTargetDictionary)
        for (let e10 in t48.morphTargetDictionary)
          r6[t48.morphTargetDictionary[e10]] = e10;
      for (let o6 = 0; o6 < t48.morphTargetInfluences.length; ++o6) {
        let a3 = {}, l3 = false;
        for (let t49 in s6.morphAttributes) {
          if ("position" !== t49 && "normal" !== t49) {
            l3 || (console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."), l3 = true);
            continue;
          }
          let i11 = s6.morphAttributes[t49][o6], n11 = t49.toUpperCase(), r10 = s6.attributes[t49];
          if (e6.attributes.has(this.getUID(i11, true))) {
            a3[n11] = e6.attributes.get(this.getUID(i11, true));
            continue;
          }
          let u3 = i11.clone();
          if (!s6.morphTargetsRelative)
            for (let t50 = 0, e10 = i11.count; t50 < e10; t50++)
              for (let e11 = 0; e11 < i11.itemSize; e11++)
                0 === e11 && u3.setX(t50, i11.getX(t50) - r10.getX(t50)), 1 === e11 && u3.setY(t50, i11.getY(t50) - r10.getY(t50)), 2 === e11 && u3.setZ(t50, i11.getZ(t50) - r10.getZ(t50)), 3 === e11 && u3.setW(t50, i11.getW(t50) - r10.getW(t50));
          a3[n11] = this.processAccessor(u3, s6), e6.attributes.set(this.getUID(r10, true), a3[n11]);
        }
        h.push(a3), i10.push(t48.morphTargetInfluences[o6]), void 0 !== t48.morphTargetDictionary && n10.push(r6[o6]);
      }
      a.weights = i10, n10.length > 0 && (a.extras = {}, a.extras.targetNames = n10);
    }
    let f = Array.isArray(t48.material);
    if (f && 0 === s6.groups.length)
      return null;
    let g = f ? t48.material : [t48.material], m = f ? s6.groups : [{ materialIndex: 0, start: void 0, count: void 0 }];
    for (let t49 = 0, i10 = m.length; t49 < i10; t49++) {
      let i11 = { mode: o3, attributes: l };
      if (this.serializeUserData(s6, i11), h.length > 0 && (i11.targets = h), null !== s6.index) {
        let n11 = this.getUID(s6.index);
        (void 0 !== m[t49].start || void 0 !== m[t49].count) && (n11 += ":" + m[t49].start + ":" + m[t49].count), e6.attributes.has(n11) ? i11.indices = e6.attributes.get(n11) : (i11.indices = this.processAccessor(s6.index, s6, m[t49].start, m[t49].count), e6.attributes.set(n11, i11.indices)), null === i11.indices && delete i11.indices;
      }
      let n10 = this.processMaterial(g[m[t49].materialIndex]);
      null !== n10 && (i11.material = n10), u2.push(i11);
    }
    a.primitives = u2, i.meshes || (i.meshes = []), this._invokeAll(function(e10) {
      e10.writeMesh && e10.writeMesh(t48, a);
    });
    let v4 = i.meshes.push(a) - 1;
    return e6.meshes.set(r, v4), v4;
  }
  detectMeshQuantization(t48, e6) {
    if (this.extensionsUsed[V7])
      return;
    let i;
    switch (e6.array.constructor) {
      case Int8Array:
        i = "byte";
        break;
      case Uint8Array:
        i = "unsigned byte";
        break;
      case Int16Array:
        i = "short";
        break;
      case Uint16Array:
        i = "unsigned short";
        break;
      default:
        return;
    }
    e6.normalized && (i += " normalized");
    let n = t48.split("_", 1)[0];
    jQ[n] && jQ[n].includes(i) && (this.extensionsUsed[V7] = true, this.extensionsRequired[V7] = true);
  }
  processCamera(t48) {
    let e6 = this.json;
    e6.cameras || (e6.cameras = []);
    let i = t48.isOrthographicCamera, n = { type: i ? "orthographic" : "perspective" };
    return i ? n.orthographic = { xmag: 2 * t48.right, ymag: 2 * t48.top, zfar: t48.far <= 0 ? 1e-3 : t48.far, znear: t48.near < 0 ? 0 : t48.near } : n.perspective = { aspectRatio: t48.aspect, yfov: Br.degToRad(t48.fov), zfar: t48.far <= 0 ? 1e-3 : t48.far, znear: t48.near < 0 ? 0 : t48.near }, "" !== t48.name && (n.name = t48.type), e6.cameras.push(n) - 1;
  }
  processAnimation(t48, e6) {
    let i = this.json, n = this.nodeMap;
    i.animations || (i.animations = []);
    let r = (t48 = o0.Utils.mergeMorphTargetTracks(t48.clone(), e6)).tracks, o3 = [], s6 = [];
    for (let t49 = 0; t49 < r.length; ++t49) {
      let i10 = r[t49], a = Ai.parseTrackName(i10.name), l = Ai.findNode(e6, a.nodeName), u2 = WQ[a.propertyName];
      if ("bones" === a.objectName && (l = true === l.isSkinnedMesh ? l.skeleton.getBoneByName(a.objectIndex) : void 0), !l || !u2)
        return console.warn('THREE.GLTFExporter: Could not export animation track "%s".', i10.name), null;
      let h, c2 = 1, p4 = i10.values.length / i10.times.length;
      u2 === WQ.morphTargetInfluences && (p4 /= l.morphTargetInfluences.length), true === i10.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ? (h = "CUBICSPLINE", p4 /= 3) : h = i10.getInterpolation() === _g ? "STEP" : "LINEAR", s6.push({ input: this.processAccessor(new rn(i10.times, c2)), output: this.processAccessor(new rn(i10.values, p4)), interpolation: h }), o3.push({ sampler: s6.length - 1, target: { node: n.get(l), path: u2 } });
    }
    return i.animations.push({ name: t48.name || "clip_" + i.animations.length, samplers: s6, channels: o3 }), i.animations.length - 1;
  }
  processSkin(t48) {
    let e6 = this.json, i = this.nodeMap, n = e6.nodes[i.get(t48)], r = t48.skeleton;
    if (void 0 === r)
      return null;
    let o3 = t48.skeleton.bones[0];
    if (void 0 === o3)
      return null;
    let s6 = [], a = new Float32Array(16 * r.bones.length), l = new Ot();
    for (let e10 = 0; e10 < r.bones.length; ++e10)
      s6.push(i.get(r.bones[e10])), l.copy(r.boneInverses[e10]), l.multiply(t48.bindMatrix).toArray(a, 16 * e10);
    return void 0 === e6.skins && (e6.skins = []), e6.skins.push({ inverseBindMatrices: this.processAccessor(new rn(a, 16)), joints: s6, skeleton: i.get(o3) }), n.skin = e6.skins.length - 1;
  }
  processNode(t48) {
    let e6 = this.json, i = this.options, n = this.nodeMap;
    e6.nodes || (e6.nodes = []);
    let r = {};
    if (i.trs) {
      let e10 = t48.quaternion.toArray(), i10 = t48.position.toArray(), n10 = t48.scale.toArray();
      Mb(e10, [0, 0, 0, 1]) || (r.rotation = e10), Mb(i10, [0, 0, 0]) || (r.translation = i10), Mb(n10, [1, 1, 1]) || (r.scale = n10);
    } else
      t48.matrixAutoUpdate && t48.updateMatrix(), false === wMe(t48.matrix) && (r.matrix = t48.matrix.elements);
    if ("" !== t48.name && (r.name = String(t48.name)), this.serializeUserData(t48, r), t48.isMesh || t48.isLine || t48.isPoints) {
      let e10 = this.processMesh(t48);
      null !== e10 && (r.mesh = e10);
    } else
      t48.isCamera && (r.camera = this.processCamera(t48));
    if (t48.isSkinnedMesh && this.skins.push(t48), t48.children.length > 0) {
      let e10 = [];
      for (let n10 = 0, r6 = t48.children.length; n10 < r6; n10++) {
        let r10 = t48.children[n10];
        if (r10.visible || false === i.onlyVisible) {
          let t49 = this.processNode(r10);
          null !== t49 && e10.push(t49);
        }
      }
      e10.length > 0 && (r.children = e10);
    }
    this._invokeAll(function(e10) {
      e10.writeNode && e10.writeNode(t48, r);
    });
    let o3 = e6.nodes.push(r) - 1;
    return n.set(t48, o3), o3;
  }
  processScene(t48) {
    let e6 = this.json, i = this.options;
    e6.scenes || (e6.scenes = [], e6.scene = 0);
    let n = {};
    "" !== t48.name && (n.name = t48.name), e6.scenes.push(n);
    let r = [];
    for (let e10 = 0, n10 = t48.children.length; e10 < n10; e10++) {
      let n11 = t48.children[e10];
      if (n11.visible || false === i.onlyVisible) {
        let t49 = this.processNode(n11);
        null !== t49 && r.push(t49);
      }
    }
    r.length > 0 && (n.nodes = r), this.serializeUserData(t48, n);
  }
  processObjects(t48) {
    let e6 = new Oa();
    e6.name = "AuxScene";
    for (let i = 0; i < t48.length; i++)
      e6.children.push(t48[i]);
    this.processScene(e6);
  }
  processInput(t48) {
    let e6 = this.options;
    t48 = t48 instanceof Array ? t48 : [t48], this._invokeAll(function(e10) {
      e10.beforeParse && e10.beforeParse(t48);
    });
    let i = [];
    for (let e10 = 0; e10 < t48.length; e10++)
      t48[e10] instanceof Oa ? this.processScene(t48[e10]) : i.push(t48[e10]);
    i.length > 0 && this.processObjects(i);
    for (let t49 = 0; t49 < this.skins.length; ++t49)
      this.processSkin(this.skins[t49]);
    for (let i10 = 0; i10 < e6.animations.length; ++i10)
      this.processAnimation(e6.animations[i10], t48[0]);
    this._invokeAll(function(e10) {
      e10.afterParse && e10.afterParse(t48);
    });
  }
  _invokeAll(t48) {
    for (let e6 = 0, i = this.plugins.length; e6 < i; e6++)
      t48(this.plugins[e6]);
  }
};
q(i9, "GLTFWriter");
var j7 = i9;
var r9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_lights_punctual";
  }
  writeNode(t48, e6) {
    if (!t48.isLight)
      return;
    if (!t48.isDirectionalLight && !t48.isPointLight && !t48.isSpotLight)
      return void console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.", t48);
    let i = this.writer, n = i.json, r = i.extensionsUsed, o3 = {};
    t48.name && (o3.name = t48.name), o3.color = t48.color.toArray(), o3.intensity = t48.intensity, t48.isDirectionalLight ? o3.type = "directional" : t48.isPointLight ? (o3.type = "point", t48.distance > 0 && (o3.range = t48.distance)) : t48.isSpotLight && (o3.type = "spot", t48.distance > 0 && (o3.range = t48.distance), o3.spot = {}, o3.spot.innerConeAngle = (t48.penumbra - 1) * t48.angle * -1, o3.spot.outerConeAngle = t48.angle), void 0 !== t48.decay && 2 !== t48.decay && console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."), t48.target && (t48.target.parent !== t48 || 0 !== t48.target.position.x || 0 !== t48.target.position.y || -1 !== t48.target.position.z) && console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."), r[this.name] || (n.extensions = n.extensions || {}, n.extensions[this.name] = { lights: [] }, r[this.name] = true);
    let s6 = n.extensions[this.name].lights;
    s6.push(o3), e6.extensions = e6.extensions || {}, e6.extensions[this.name] = { light: s6.length - 1 };
  }
};
q(r9, "GLTFLightExtension");
var W7 = r9;
var s9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_unlit";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshBasicMaterial)
      return;
    let i = this.writer.extensionsUsed;
    e6.extensions = e6.extensions || {}, e6.extensions[this.name] = {}, i[this.name] = true, e6.pbrMetallicRoughness.metallicFactor = 0, e6.pbrMetallicRoughness.roughnessFactor = 0.9;
  }
};
q(s9, "GLTFMaterialsUnlitExtension");
var Y7 = s9;
var o9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_clearcoat";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 0 === t48.clearcoat)
      return;
    let i = this.writer, n = i.extensionsUsed, r = {};
    if (r.clearcoatFactor = t48.clearcoat, t48.clearcoatMap) {
      let e10 = { index: i.processTexture(t48.clearcoatMap) };
      i.applyTextureTransform(e10, t48.clearcoatMap), r.clearcoatTexture = e10;
    }
    if (r.clearcoatRoughnessFactor = t48.clearcoatRoughness, t48.clearcoatRoughnessMap) {
      let e10 = { index: i.processTexture(t48.clearcoatRoughnessMap) };
      i.applyTextureTransform(e10, t48.clearcoatRoughnessMap), r.clearcoatRoughnessTexture = e10;
    }
    if (t48.clearcoatNormalMap) {
      let e10 = { index: i.processTexture(t48.clearcoatNormalMap) };
      i.applyTextureTransform(e10, t48.clearcoatNormalMap), r.clearcoatNormalTexture = e10;
    }
    e6.extensions = e6.extensions || {}, e6.extensions[this.name] = r, n[this.name] = true;
  }
};
q(o9, "GLTFMaterialsClearcoatExtension");
var X7 = o9;
var a9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_iridescence";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 0 === t48.iridescence)
      return;
    let i = this.writer, n = i.extensionsUsed, r = {};
    if (r.iridescenceFactor = t48.iridescence, t48.iridescenceMap) {
      let e10 = { index: i.processTexture(t48.iridescenceMap) };
      i.applyTextureTransform(e10, t48.iridescenceMap), r.iridescenceTexture = e10;
    }
    if (r.iridescenceIor = t48.iridescenceIOR, r.iridescenceThicknessMinimum = t48.iridescenceThicknessRange[0], r.iridescenceThicknessMaximum = t48.iridescenceThicknessRange[1], t48.iridescenceThicknessMap) {
      let e10 = { index: i.processTexture(t48.iridescenceThicknessMap) };
      i.applyTextureTransform(e10, t48.iridescenceThicknessMap), r.iridescenceThicknessTexture = e10;
    }
    e6.extensions = e6.extensions || {}, e6.extensions[this.name] = r, n[this.name] = true;
  }
};
q(a9, "GLTFMaterialsIridescenceExtension");
var Z7 = a9;
var l9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_transmission";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 0 === t48.transmission)
      return;
    let i = this.writer, n = i.extensionsUsed, r = {};
    if (r.transmissionFactor = t48.transmission, t48.transmissionMap) {
      let e10 = { index: i.processTexture(t48.transmissionMap) };
      i.applyTextureTransform(e10, t48.transmissionMap), r.transmissionTexture = e10;
    }
    e6.extensions = e6.extensions || {}, e6.extensions[this.name] = r, n[this.name] = true;
  }
};
q(l9, "GLTFMaterialsTransmissionExtension");
var Q7 = l9;
var u9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_volume";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 0 === t48.transmission)
      return;
    let i = this.writer, n = i.extensionsUsed, r = {};
    if (r.thicknessFactor = t48.thickness, t48.thicknessMap) {
      let e10 = { index: i.processTexture(t48.thicknessMap) };
      i.applyTextureTransform(e10, t48.thicknessMap), r.thicknessTexture = e10;
    }
    r.attenuationDistance = t48.attenuationDistance, r.attenuationColor = t48.attenuationColor.toArray(), e6.extensions = e6.extensions || {}, e6.extensions[this.name] = r, n[this.name] = true;
  }
};
q(u9, "GLTFMaterialsVolumeExtension");
var K7 = u9;
var c9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_ior";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 1.5 === t48.ior)
      return;
    let i = this.writer.extensionsUsed, n = {};
    n.ior = t48.ior, e6.extensions = e6.extensions || {}, e6.extensions[this.name] = n, i[this.name] = true;
  }
};
q(c9, "GLTFMaterialsIorExtension");
var J7 = c9;
var h9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_specular";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 1 === t48.specularIntensity && t48.specularColor.equals(gMe) && !t48.specularIntensityMap && !t48.specularColorTexture)
      return;
    let i = this.writer, n = i.extensionsUsed, r = {};
    if (t48.specularIntensityMap) {
      let e10 = { index: i.processTexture(t48.specularIntensityMap) };
      i.applyTextureTransform(e10, t48.specularIntensityMap), r.specularTexture = e10;
    }
    if (t48.specularColorMap) {
      let e10 = { index: i.processTexture(t48.specularColorMap) };
      i.applyTextureTransform(e10, t48.specularColorMap), r.specularColorTexture = e10;
    }
    r.specularFactor = t48.specularIntensity, r.specularColorFactor = t48.specularColor.toArray(), e6.extensions = e6.extensions || {}, e6.extensions[this.name] = r, n[this.name] = true;
  }
};
q(h9, "GLTFMaterialsSpecularExtension");
var $7 = h9;
var f9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_sheen";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshPhysicalMaterial || 0 == t48.sheen)
      return;
    let i = this.writer, n = i.extensionsUsed, r = {};
    if (t48.sheenRoughnessMap) {
      let e10 = { index: i.processTexture(t48.sheenRoughnessMap) };
      i.applyTextureTransform(e10, t48.sheenRoughnessMap), r.sheenRoughnessTexture = e10;
    }
    if (t48.sheenColorMap) {
      let e10 = { index: i.processTexture(t48.sheenColorMap) };
      i.applyTextureTransform(e10, t48.sheenColorMap), r.sheenColorTexture = e10;
    }
    r.sheenRoughnessFactor = t48.sheenRoughness, r.sheenColorFactor = t48.sheenColor.toArray(), e6.extensions = e6.extensions || {}, e6.extensions[this.name] = r, n[this.name] = true;
  }
};
q(f9, "GLTFMaterialsSheenExtension");
var e9 = f9;
var p9 = class {
  constructor(t48) {
    this.writer = t48, this.name = "KHR_materials_emissive_strength";
  }
  writeMaterial(t48, e6) {
    if (!t48.isMeshStandardMaterial || 1 === t48.emissiveIntensity)
      return;
    let i = this.writer.extensionsUsed, n = {};
    n.emissiveStrength = t48.emissiveIntensity, e6.extensions = e6.extensions || {}, e6.extensions[this.name] = n, i[this.name] = true;
  }
};
q(p9, "GLTFMaterialsEmissiveStrengthExtension");
var t92 = p9;
o0.Utils = { insertKeyframe: function(t48, e6) {
  let i, n = t48.getValueSize(), r = new t48.TimeBufferType(t48.times.length + 1), o3 = new t48.ValueBufferType(t48.values.length + n), s6 = t48.createInterpolant(new t48.ValueBufferType(n));
  if (0 === t48.times.length) {
    r[0] = e6;
    for (let t49 = 0; t49 < n; t49++)
      o3[t49] = 0;
    i = 0;
  } else if (e6 < t48.times[0]) {
    if (Math.abs(t48.times[0] - e6) < 1e-3)
      return 0;
    r[0] = e6, r.set(t48.times, 1), o3.set(s6.evaluate(e6), 0), o3.set(t48.values, n), i = 0;
  } else if (e6 > t48.times[t48.times.length - 1]) {
    if (Math.abs(t48.times[t48.times.length - 1] - e6) < 1e-3)
      return t48.times.length - 1;
    r[r.length - 1] = e6, r.set(t48.times, 0), o3.set(t48.values, 0), o3.set(s6.evaluate(e6), t48.values.length), i = r.length - 1;
  } else
    for (let a = 0; a < t48.times.length; a++) {
      if (Math.abs(t48.times[a] - e6) < 1e-3)
        return a;
      if (t48.times[a] < e6 && t48.times[a + 1] > e6) {
        r.set(t48.times.slice(0, a + 1), 0), r[a + 1] = e6, r.set(t48.times.slice(a + 1), a + 2), o3.set(t48.values.slice(0, (a + 1) * n), 0), o3.set(s6.evaluate(e6), (a + 1) * n), o3.set(t48.values.slice((a + 1) * n), (a + 2) * n), i = a + 1;
        break;
      }
    }
  return t48.times = r, t48.values = o3, i;
}, mergeMorphTargetTracks: function(t48, e6) {
  let i = [], n = {}, r = t48.tracks;
  for (let t49 = 0; t49 < r.length; ++t49) {
    let o3 = r[t49], s6 = Ai.parseTrackName(o3.name), a = Ai.findNode(e6, s6.nodeName);
    if ("morphTargetInfluences" !== s6.propertyName || void 0 === s6.propertyIndex) {
      i.push(o3);
      continue;
    }
    if (o3.createInterpolant !== o3.InterpolantFactoryMethodDiscrete && o3.createInterpolant !== o3.InterpolantFactoryMethodLinear) {
      if (o3.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)
        throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");
      console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."), o3 = o3.clone(), o3.setInterpolation(wg);
    }
    let l, u2 = a.morphTargetInfluences.length, h = a.morphTargetDictionary[s6.propertyIndex];
    if (void 0 === h)
      throw new Error("THREE.GLTFExporter: Morph target name not found: " + s6.propertyIndex);
    if (void 0 === n[a.uuid]) {
      l = o3.clone();
      let t50 = new l.ValueBufferType(u2 * l.times.length);
      for (let e10 = 0; e10 < l.times.length; e10++)
        t50[e10 * u2 + h] = l.values[e10];
      l.name = (s6.nodeName || "") + ".morphTargetInfluences", l.values = t50, n[a.uuid] = l, i.push(l);
      continue;
    }
    let c2 = o3.createInterpolant(new o3.ValueBufferType(1));
    l = n[a.uuid];
    for (let t50 = 0; t50 < l.times.length; t50++)
      l.values[t50 * u2 + h] = c2.evaluate(l.times[t50]);
    for (let t50 = 0; t50 < o3.times.length; t50++) {
      let e10 = this.insertKeyframe(l, o3.times[t50]);
      l.values[e10 * u2 + h] = o3.values[t50];
    }
  }
  return t48.tracks = i, t48;
} };
var mS;
var JQ;
var Eb;
var d9;
var m9 = class {
  constructor(t48) {
    w(this, mS), w(this, Eb), v(this, "core"), this.core = t48;
  }
  async getCurrentSceneGLTF(t48) {
    let e6 = { onlyVisible: true, binary: true, scale: 0.05, ...t48 }, i = new o0(), n = y(this, mS, JQ).call(this, e6.scale);
    if (!n)
      return Le.error("Unable to retrieve the current scene"), new Blob();
    let r = await i.parseAsync(n, { trs: false, maxTextureSize: 1 / 0, onlyVisible: e6.onlyVisible, binary: e6.binary, scale: e6.scale });
    if (r instanceof ArrayBuffer)
      return new Blob([r], { type: "application/octet-stream" });
    {
      let t49 = JSON.stringify(r, null, 2);
      return new Blob([t49], { type: "text/plain" });
    }
  }
};
mS = /* @__PURE__ */ new WeakSet(), JQ = q(function(t48) {
  var e6;
  let i = new Oa(), n = null == (e6 = this.core.sceneManager) ? void 0 : e6.currentScene;
  if (!n)
    return null;
  let r = new aT(16777215, 1e5, 100), o3 = n.currentMap.width, s6 = n.currentMap.height;
  r.position.y = Math.min(o3, s6) * t48, i.add(r);
  let a = y(this, Eb, d9).call(this, n.object);
  return a.scale.set(t48, t48, t48), i.add(a), a.traverse((t49) => {
    let { geometry: e10, material: i10, position: n10, rotation: r6, quaternion: o6, scale: s10 } = t49;
    if (null != e10 && e10.isBufferGeometry && e10 && e10.isBufferGeometry) {
      let a3 = e10.attributes.position, l = e10.attributes.normal, u2 = e10.attributes.uv, h = new K(), c2 = new K();
      for (let t50 = 0; t50 < a3.count; t50++) {
        h.fromBufferAttribute(a3, t50);
        let e11 = h.y;
        if (h.y = h.z, h.z = -e11, a3.setXYZ(t50, h.x, h.y, h.z), l) {
          c2.fromBufferAttribute(l, t50);
          let e12 = c2.y;
          c2.y = c2.z, c2.z = -e12, l.setXYZ(t50, c2.x, c2.y, c2.z);
        }
      }
      let p4 = n10.y;
      n10.y = n10.z, n10.z = -p4;
      let d = s10.y;
      if (s10.y = s10.z, s10.z = d, r6 instanceof Jh ? r6.set(r6.x, r6.y, r6.z, "YXZ") : o6.set(o6.x, o6.z, -o6.y, o6.w), u2)
        for (let t50 = 0; t50 < u2.count; t50++) {
          let e11 = u2.getX(t50), i11 = u2.getY(t50);
          u2.setXY(t50, e11, i11);
        }
      null != i10 && i10.map && "PlaneGeometry" === e10.type && (t49.side = Dr);
    }
  }), i;
}, "#getExportedScene"), Eb = /* @__PURE__ */ new WeakSet(), d9 = q(function(t48) {
  let e6 = t48.clone();
  if (t48.geometry && (e6.geometry = t48.geometry.clone()), t48.material)
    if (Array.isArray(t48.material))
      e6.material = t48.material.map((t49) => new Nx().copy(t49));
    else {
      let i = new Nx();
      e6.material = i.copy(t48.material);
    }
  e6.clear();
  for (let i = 0; i < t48.children.length; i++)
    e6.add(y(this, Eb, d9).call(this, t48.children[i]));
  return e6.position.copy(t48.position), e6.rotation.copy(t48.rotation), e6.scale.copy(t48.scale), e6;
}, "#cloneObject3D"), q(m9, "ExportController");
var a0 = m9;
c();
var fr;
var hd;
var EMe = "#ff0000";
var TMe = ["fill", "fill-opacity"];
var SMe = false;
var v9 = class {
  constructor(t48) {
    w(this, fr, void 0), w(this, hd, {}), p(this, fr, t48), o(this, fr).on(32, (t49) => {
      this.clearCache(t49);
    }), o(this, fr).controls.dispatcher.addEventListener(o(this, fr).controls.CAMERA_EVENTS.CHANGE_EVENT.type, () => this.runInterpolations()), o(this, fr).on(7, () => this.runInterpolations());
  }
  clearCache(t48) {
    o(this, hd)[t48.id] = void 0;
  }
  showLayers(t48) {
    if (!o(this, fr).currentMap)
      return;
    let e6 = o(this, fr).mapObjects.get(o(this, fr).currentMap);
    null != e6 && (e6.renderLayerGroup(t48, []), o(this, fr).publish(32, e6.mapClass), o(this, fr).tryRendering());
  }
  async getAllLayersForMap(t48) {
    let e6 = o(this, fr).mapObjects.get(t48.id);
    return e6 ? (await e6.load(), this.processMapObjectLayers(e6)) : {};
  }
  processMapObjectLayers(t48) {
    let e6 = Array.from(t48.loadedLayerNames), i = {};
    return e6.forEach((t49) => {
      i[t49] = false;
    }), t48.layerGroups.forEach((t49) => {
      t49.isVisible && t49.layers.forEach((t50) => {
        i[t50] = true;
      });
    }), i;
  }
  getVisibleLayersForLoadedMap(t48) {
    if (!o(this, fr).currentMap)
      return [];
    if (o(this, hd)[t48.id])
      return o(this, hd)[t48.id];
    let e6 = o(this, fr).mapObjects.get(t48.id), i = [], n = this.processMapObjectLayers(e6);
    for (let t49 in n)
      n[t49] && i.push(t49);
    return o(this, hd)[t48.id] = i, i;
  }
  runInterpolations() {
    let t48 = o(this, fr).controls.getZoomLevel();
    o(this, fr).visibleMapObjectsInCurrentScene.forEach((e6) => {
      e6.layerGroups.forEach((e10) => {
        if (null != e10.interpolationFn) {
          let i = e10.interpolationFn(t48);
          e10.setOpacity(i), e10.isVisible = 1 === i;
        }
      });
    });
  }
  async addGeoJSONLayer(t48, e6) {
    let i = o(this, fr).mapObjects.get(o(this, fr).currentMap);
    if (null != i && i.mapClass && null != (await this.getAllLayersForMap(null == i ? void 0 : i.mapClass))[t48])
      return Le.error('"'.concat(t48, '" layer already exists, not adding')), Promise.resolve();
    if ("FeatureCollection" === e6.type) {
      let n = [];
      for (let i10 of e6.features) {
        let e10 = this.convertFeatureToElement(t48, i10);
        await e10.load(), n.push(e10);
      }
      let r = null == i ? void 0 : i.processLayerGroup(t48, [t48], [], true, n);
      null == i || i.object.add(null == r ? void 0 : r.mergedObjectsGroup), o(this, fr).tryRendering();
    } else {
      let n = this.convertFeatureToElement(t48, e6);
      await n.load();
      let r = null == i ? void 0 : i.processLayerGroup(t48, [t48], [], true, [n]);
      null == i || i.object.add(null == r ? void 0 : r.mergedObjectsGroup), o(this, fr).tryRendering();
    }
  }
  convertFeatureToElement(t48, e6) {
    var i, n, r, o3;
    SMe && Object.keys(e6.properties || {}).forEach((t49) => {
      TMe.includes(t49) || Le.warn("".concat(t49, " property not supported in GeoJSON layers"));
    });
    let s6 = o(this, fr).mapObjects.get(o(this, fr).currentMap), a = s6.mapClass, l = { vertexes: [], layer: t48, material: { color: null != (n = null == (i = e6.properties) ? void 0 : i.fill) ? n : EMe, opacity: null != (o3 = null == (r = e6.properties) ? void 0 : r["fill-opacity"]) ? o3 : 1 }, geometry: { visible: true, position: { z: 1 }, scale: { z: 0 } } };
    for (let t49 = 0; t49 < e6.geometry.coordinates[0].length; t49++) {
      let [i10, n10] = e6.geometry.coordinates[0][t49], r6 = a.createCoordinate(n10, i10);
      l.vertexes.push({ x: r6.x, y: r6.y, lat: n10, lon: i10 });
    }
    let u2 = new Up(l, a, new lo(), void 0, void 0);
    return s6.loadedElements.push(u2), u2;
  }
};
fr = /* @__PURE__ */ new WeakMap(), hd = /* @__PURE__ */ new WeakMap(), q(v9, "LayerController");
var g9 = v9;
var gS = g9;
c();
var eK = u($Q());
var Tb = false;
var AMe = q(function({ core: t48, blueDotManager: e6, controller: i }) {
  var n, r, o3, s6;
  let a = Qa.create({ ...null == (n = null == t48 ? void 0 : t48.venue) ? void 0 : n.options, testMode: !(null != (o3 = null == (r = null == t48 ? void 0 : t48.venue) ? void 0 : r.options) && o3.emitAnalyticsEvents), userPosition: { ...null == (s6 = i.userPosition) ? void 0 : s6.coords } }), { stateMachine: l } = i, u2 = oY(t48.smartCollisionEngine.update, 1e4), h = $h({ isFollowing: false, blueDotTooltips: [], zoomCondition: 0, setBlueDotPosition() {
    if (e6 && i.userPosition && i.userMap) {
      let t49 = 2 === l.state || 3 === l.state;
      e6.update({ coordinates: i.userPosition.coords, bearing: i.bearing, radius: t49 && i.userPosition.coords.accuracy || 0, mapId: i.userMap.id });
    }
  }, showBlueDotBearing() {
    if (e6 && i.userPosition && i.userMap) {
      let t49 = 2 === l.state || 3 === l.state;
      e6.update({ coordinates: i.userPosition.coords, bearing: i.bearing, radius: t49 && i.userPosition.coords.accuracy || 0, mapId: i.userMap.id });
    }
  }, addGhostMarkers() {
    e6 && i.userPosition && i.userMap && e6.update({ mode: $p.GHOST, coordinates: i.userPosition.coords, bearing: i.bearing, radius: i.userPosition.coords.accuracy, mapId: i.userMap.id });
  }, addLocationUncertainMarkersAndTooltips() {
    e6 && i.userPosition && i.userMap && e6.update({ mode: $p.GREY, coordinates: i.userPosition.coords, radius: 0, mapId: i.userMap.id });
  }, addBlueDotMarker() {
    e6 && i.userPosition && i.userMap && e6.update({ mode: $p.BLUE, coordinates: i.userPosition.coords, bearing: i.bearing, radius: i.userPosition.coords.accuracy, mapId: i.userMap.id, baseColor: i.enableBlueDotOptions.baseColor });
  }, removeTooltips() {
    h.blueDotTooltips.forEach(t48.tooltips.removeTooltip), h.blueDotTooltips = [];
  }, removeBlueDot() {
    e6.cleanup();
  }, centerBlueDot() {
    var e10, n10, r6, o6, s10;
    if (!i.userPosition)
      return;
    let { latitude: a3, longitude: l3 } = i.userPosition.coords;
    (null == (e10 = i.userMap) ? void 0 : e10.id) !== t48.currentMap && null != i.userMap && t48.setMapWithReason(i.userMap, "blue-dot-level-transition");
    let c4 = i.userMap.createCoordinate(a3, l3), p10 = t48.getPositionLatLon(a3, l3), d = null != t48.currentPath && i.enableBlueDotOptions.useRotationMode, f = t48.controls.zoomFactor || 1, g = (null == (r6 = null == (n10 = t48.options.loadOptions) ? void 0 : n10.zoomOverrides) ? void 0 : r6.blueDotFollowingZoomFactor) || 2.5, m = f * g;
    if (0 === h.zoomCondition && null != (null == (s10 = null == (o6 = t48.options.loadOptions) ? void 0 : o6.zoomOverrides) ? void 0 : s10.blueDotFollowingZoomFactor)) {
      h.zoomCondition = 1, Tb = true;
      let e11 = t48.convertTo3DMapPosition({ x: c4.x, y: c4.y });
      t48.focusOn({ points: [e11], changeZoom: true, duration: 500, focusZoomFactor: m, callback: () => {
        h.zoomCondition = 2;
      } }), Tb = false;
    } else if (1 !== this.zoomCondition && d) {
      let e11 = i.userMap;
      if (null == e11)
        return;
      let n11 = t48.currentPath, r10 = t48.camera.rotation, o7 = { x: p10.x + e11.width / 2, y: -p10.y + e11.height / 2 }, s11 = null == n11 ? void 0 : n11.filter((t49) => t49.map.id === e11.id);
      if (null != s11 && s11.length) {
        let t49, i10 = (0, eK.default)(s11, e11._scale), n12 = UZ(i10, o7);
        t49 = null != n12 && n12.proportion && n12.proportion > 0.5 ? i10[n12.index || 1] : i10[n12.index || 0], r10 = zZ(i10, t49) + Math.PI;
      }
      let a7 = t48.canvasHeight > t48.canvasWidth && t48.canvasHeight > 600 && t48.canvasWidth > 500, l10 = 900, h2 = GZ(p10, r10, g * t48.controls.getZoomScaledMin(), a7);
      t48.controls.animateCamera({ ...h2, duration: l10 }), u2();
    } else
      1 !== this.zoomCondition && (Tb = true, t48.camera.focusOn({ coordinates: [c4] }, { changeZoom: false, duration: 1e3 }), Tb = false);
  }, endFollowing() {
    h.isFollowing = false, h.zoomCondition = 0;
  } }), c2 = null, p4 = false;
  return t48.on(22, () => {
    !c2 && p4 && (c2 = setTimeout(() => {
      h.endFollowing(), clearTimeout(c2), c2 = null;
    }, 60));
  }), t48.on(26, () => {
    Tb || h.endFollowing();
  }), t48.on(27, () => {
    p4 = true;
  }), t48.on(28, () => {
    c2 && (clearTimeout(c2), c2 = null, p4 = false);
  }), t48.on(18, () => {
    h.endFollowing();
  }), t48.on("user-tilt-begin", () => {
    h.endFollowing();
  }), t48.on(20, () => {
    h.endFollowing();
  }), i.on("userDataChanged", (t49) => {
    let { position: e10, state: i10, forceBlueDot: n10 } = t49.newValue;
    switch (i10) {
      case 2:
        h.removeTooltips(), h.addGhostMarkers(), e10 && (a.updateAnalyticsUserPosition({ ...e10.coords }), a.trackBlueDotEvent(Qa.BLUEDOT_EVENT.FOUND_POSITION)), h.setBlueDotPosition(), h.showBlueDotBearing();
        break;
      case 3:
        h.removeTooltips(), h.addBlueDotMarker(), !n10 && e10 && (a.updateAnalyticsUserPosition({ ...e10.coords }), a.trackBlueDotEvent(Qa.BLUEDOT_EVENT.FOUND_FLOOR)), h.setBlueDotPosition(), h.showBlueDotBearing();
        break;
      case 4:
        h.removeTooltips(), h.addLocationUncertainMarkersAndTooltips(), h.setBlueDotPosition(), h.showBlueDotBearing();
        break;
      default:
        h.removeTooltips(), h.removeBlueDot(), a.updateAnalyticsUserPosition(void 0);
    }
    let r6 = true, o6 = false;
    t49.oldValue && (r6 = !(!t49.oldValue.position || !t49.newValue.position || (null == e10 ? void 0 : e10.coords.latitude) === t49.oldValue.position.coords.latitude && (null == e10 ? void 0 : e10.coords.longitude) === t49.oldValue.position.coords.longitude), o6 = t49.oldValue.map !== t49.newValue.map), h.isFollowing && (r6 || o6) && h.centerBlueDot();
  }), h;
}, "BlueDotUI");
var u8 = AMe;
c(), c();
var fd = 20;
var CMe = 14;
var tK = 8;
var xS = 72;
var Sb = 16;
var nK = 12;
var PMe = 52;
var IMe = 4;
var yS = 2;
var y9 = 8;
var x9 = 128;
var _9 = 320;
var Wr = 8;
var iK = 2;
var OMe = 2 / (Math.sqrt(5) + 1) * 360 / 6;
var LMe = 60;
var DMe = 5;
var E9 = class {
  constructor() {
    this._element = document.createElement("div"), this._titleElement = document.createElement("select"), this._minimizeElement = document.createElement("button"), this._performancePanelElement = document.createElement("div"), this._performanceEntries = /* @__PURE__ */ new Map(), this._sortedPerformanceEntryNames = [];
    let t48 = document.createElement("option");
    t48.value = "Performance", t48.innerHTML = "Performance", t48.selected = "selected", this._titleElement.appendChild(t48), this._titleElement.addEventListener("change", this._onCategoryChanged.bind(this)), this._overviewGraph = new bS({ width: _9, height: x9, seriesList: [] }), this._controlPanels = /* @__PURE__ */ new Map(), this._sortedControlPanelNames = [], this._minimized = false, this._element.appendChild(this._titleElement), this._element.appendChild(this._minimizeElement), this._element.appendChild(this._performancePanelElement), this._performancePanelElement.appendChild(this._overviewGraph.element), this._layout(), this._minimizeElement.addEventListener("click", this._onMinimizeClicked.bind(this)), null == window.MappedinDebug && (window.MappedinDebug = {}), window.MappedinDebug.DebugUI = this;
  }
  destroy() {
    for (let t48 of this._performanceEntries.values())
      t48.destroy();
    for (let t48 of this._controlPanels.values())
      t48.destroy();
    this._controlPanels = null, this._performanceEntries = null, this._element = null, this._titleElement = null, this._minimizeElement = null, this._performancePanelElement = null, this._overviewGraph = null, Object.setPrototypeOf(this, null);
  }
  get element() {
    return this._element;
  }
  reportFramePerformance(t48) {
    let e6 = false;
    for (let i in t48) {
      if (!this._performanceEntries.has(i)) {
        let t49 = new w9({ name: i });
        this._performanceEntries.set(i, t49), this._performancePanelElement.appendChild(t49.element), this._sortedPerformanceEntryNames.push(i), this._sortedPerformanceEntryNames.sort(), e6 = true;
      }
      this._performanceEntries.get(i).report(t48[i]);
    }
    for (let e10 of this._performanceEntries.keys())
      null == t48[e10] && this._performanceEntries.get(e10).report(0);
    e6 && this._updateLayout();
    for (let t49 of this._performanceEntries.values())
      if (t49.series.changed()) {
        this._overviewGraph.redraw();
        break;
      }
  }
  addDebugControls(t48) {
    for (let e6 in t48) {
      for (let i of t48[e6]) {
        let { name: t49, description: n, control: r } = i;
        this._addDebugControl(e6, t49, n, r);
      }
      this._controlPanels.get(e6)._updateLayout();
    }
    this._updateLayout();
  }
  addDebugControl(t48, e6, i, n) {
    this._addDebugControl(t48, e6, i, n), this._updateLayout(), this._controlPanels.get(t48)._updateLayout();
  }
  removeDebugControls(t48) {
    for (let e6 in t48) {
      for (let i of t48[e6])
        this._removeDebugControl(e6, i);
      this._controlPanels.get(e6)._updateLayout();
    }
    this._updateLayout();
  }
  removeDebugControl(t48, e6) {
    this._removeDebugControl(t48, e6), this._updateLayout(), this._controlPanels.get(t48)._updateLayout();
  }
  _addDebugControl(t48, e6, i, n) {
    if (!this._controlPanels.has(t48)) {
      let e10 = new fS({ name: t48 });
      this._controlPanels.set(t48, e10), this._element.appendChild(e10.element);
      let i10 = document.createElement("option");
      i10.value = t48, i10.innerHTML = t48;
      let n10 = this._titleElement.children, r = 1;
      for (; r < n10.length && !(n10[r].value > t48); ++r)
        ;
      r === n10.length ? this._titleElement.appendChild(i10) : this._titleElement.insertBefore(i10, n10[r]), Object.assign(e10.element.style, { display: "hidden", position: "absolute", left: Wr + "px", right: Wr + "px", top: Wr + fd + Wr + "px" });
    }
    this._controlPanels.get(t48).addControl(e6, i, n);
  }
  _removeDebugControl(t48, e6) {
    this._controlPanels.get(t48).removeControl(e6);
  }
  _layout() {
    Object.assign(this._element.style, { display: "block", position: "absolute", right: tK + "px", top: tK + "px", width: _9 + 2 * Wr + "px", "font-family": "sans-serif", background: "rgba(255, 255, 255, 0.9)", outline: "1px solid white" }), Object.assign(this._titleElement.style, { display: "block", position: "absolute", left: Wr + "px", top: Wr + "px", "font-size": CMe + "px" }), Object.assign(this._minimizeElement.style, { display: "block", position: "absolute", right: Wr + "px", top: Wr + "px", width: 1.5 * fd + "px", height: fd + "px" }), Object.assign(this._performancePanelElement.style, { display: "block", position: "absolute", left: Wr + "px", right: Wr + "px", top: Wr + fd + Wr + "px" }), Object.assign(this._overviewGraph.element.style, { display: "block", position: "absolute", left: "0px", right: "0px", height: x9 + "px", border: "1px solid white", outline: "1px solid #bbb" }), this._updateLayout();
  }
  _updateLayout() {
    let t48 = null;
    for (let e6 of this._titleElement.children) {
      e6.selected && (t48 = e6);
      let i = e6.selected && !this._minimized;
      "Performance" === e6.value ? this._performancePanelElement.style.display = i ? "block" : "none" : this._controlPanels.get(e6.value).element.style.display = i ? "block" : "none";
    }
    this._minimized ? this._element.style.height = Wr + fd + Wr + "px" : "Performance" === t48.value ? this._element.style.height = Wr + fd + (xS + y9) * this._performanceEntries.size + x9 + Wr + 2 * Wr + "px" : this._element.style.height = Wr + fd + this._controlPanels.get(t48.value).height + Wr + "px";
    for (let t49 = 0; t49 < this._sortedPerformanceEntryNames.length; ++t49) {
      let e6 = this._sortedPerformanceEntryNames[t49], i = this._performanceEntries.get(e6);
      i.setHue(t49 * OMe), i.element.style.top = (xS + y9) * t49 + "px";
    }
    this._overviewGraph.setSeriesList(this._sortedPerformanceEntryNames.map((t49) => this._performanceEntries.get(t49).series)), this._overviewGraph.element.style.top = (xS + y9) * this._performanceEntries.size + Wr + "px", this._minimizeElement.innerHTML = this._minimized ? "" : "";
  }
  _onMinimizeClicked() {
    this._minimized = !this._minimized, this._updateLayout();
  }
  _onCategoryChanged() {
    this._updateLayout();
  }
};
q(E9, "DebugUI");
var l0 = E9;
var T9 = class {
  constructor({ name: t48, hue: e6 }) {
    this._name = t48, this.series = new M9({ hue: e6 }), this._graph = new bS({ width: _9, height: PMe, seriesList: [this.series] }), this._element = document.createElement("div"), this._nameElement = document.createElement("div"), this._hueElement = document.createElement("div"), this._lastFrameTimeElement = document.createElement("div"), this._element.appendChild(this._graph.element), this._element.appendChild(this._nameElement), this._element.appendChild(this._hueElement), this._element.appendChild(this._lastFrameTimeElement), this._layout();
  }
  destroy() {
    this._element.removeChild(this._graph.element), this._element.removeChild(this._nameElement), this._element.removeChild(this._hueElement), this._element.removeChild(this._lastFrameTimeElement), this._graph.destroy(), this._element = null, this._nameElement = null, this._hueElement = null, this._lastFrameTimeElement = null;
  }
  _layout() {
    Object.assign(this._element.style, { display: "block", position: "absolute", left: "0px", right: "0px", height: xS + "px" }), Object.assign(this._hueElement.style, { display: "block", position: "absolute", left: "-1px", top: yS - 1 + "px", width: Sb - 2 * yS + "px", height: Sb - 2 * yS + "px", "background-color": Ab(this.series.hue, 0.3, 0.9), border: "1px solid " + Ab(this.series.hue, 0.9, 0.9), "border-radius": "2px" }), Object.assign(this._nameElement.style, { display: "block", position: "absolute", left: Sb - yS + IMe + "px", right: "0px", top: "0px", height: Sb + "px", "font-size": nK + "px", "text-align": "left", "vertical-align": "middle" }), Object.assign(this._lastFrameTimeElement.style, { display: "block", position: "absolute", left: "0px", right: "0px", top: "0px", height: Sb + "px", "font-size": nK + "px", "text-align": "right", "vertical-align": "middle" }), Object.assign(this._graph.element.style, { display: "block", position: "absolute", left: "0px", right: "0px", bottom: "0px", "text-align": "right", border: "1px solid white", outline: "1px solid " + Ab(this.series.hue, 0.2, 1) }), this._nameElement.innerHTML = this._name;
  }
  get element() {
    return this._element;
  }
  report(t48) {
    if (this.series.report(t48), this.series.changed()) {
      if (this.series.length >= 1) {
        let t49 = 0;
        for (let e10 = 0; e10 < this.series.length; ++e10)
          t49 += this.series.at(e10);
        let e6 = this.series.maximumValue();
        this._lastFrameTimeElement.innerHTML = " " + (t49 / this.series.length).toFixed(iK) + "ms,  " + e6.toFixed(iK) + " ms";
      }
      this._graph.redraw();
    }
  }
  setHue(t48) {
    this.series.hue = t48, this._graph.setSeriesList([this.series]), this._layout();
  }
};
q(T9, "PerformanceEntry");
var w9 = T9;
var S9 = class {
  constructor({ seriesList: t48, width: e6, height: i }) {
    this._gradients = /* @__PURE__ */ new Map(), this._canvas = document.createElement("canvas"), this._layout(e6, i), this._context = this._canvas.getContext("2d"), this.setSeriesList(t48);
  }
  destroy() {
    this._gradients = null, this._canvas = null, this._context = null, Object.setPrototypeOf(this, null);
  }
  _layout(t48, e6) {
    Object.assign(this._canvas.style, { display: "block", position: "absolute", left: "0px", right: "0px", width: t48 + "px", height: e6 + "px" }), this._canvas.width = t48 * window.devicePixelRatio, this._canvas.height = e6 * window.devicePixelRatio;
  }
  get element() {
    return this._canvas;
  }
  redraw() {
    this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);
    let t48 = 0;
    for (let e6 of this._seriesList)
      t48 = Math.max(t48, e6.maximumValue());
    for (let e6 of this._seriesList)
      if (e6.length >= 1) {
        this._context.beginPath();
        let i = 1 - (e6.length - 1) / (e6.windowSize - 1), n = 1 - e6.at(0) / t48;
        this._context.moveTo(i * this._canvas.width, n * this._canvas.height);
        for (let i10 = 1; i10 < e6.length; ++i10) {
          let n10 = 1 - (e6.length - 1 - i10) / (e6.windowSize - 1), r = 1 - e6.at(i10) / t48;
          this._context.lineTo(n10 * this._canvas.width, r * this._canvas.height);
        }
        this._context.strokeStyle = this._gradients.get(e6), this._context.lineWidth = window.devicePixelRatio, this._context.stroke();
      }
  }
  setSeriesList(t48) {
    this._seriesList = t48;
    for (let t49 of this._seriesList) {
      let e6 = this._context.createLinearGradient(0, 0, 0, this._canvas.height);
      e6.addColorStop(0, Ab(t49.hue, 1, 1)), e6.addColorStop(1, Ab(t49.hue, 0.5, 0.5)), this._gradients.set(t49, e6);
    }
  }
};
q(S9, "LineGraph");
var bS = S9;
var A9 = class {
  constructor({ windowSize: t48 = LMe, totalAccumulationCount: e6 = DMe, hue: i = 0 }) {
    this.windowSize = t48, this.hue = i, this._totalAccumulationCount = e6, this._ringBuffer = new Array(this.windowSize).fill(0), this._ringBufferLength = 0, this._ringBufferPointer = 0, this._accumulatorValue = 0, this._accumulatorCount = 0, this._changed = true;
  }
  destroy() {
  }
  report(t48) {
    this._accumulatorValue += t48, ++this._accumulatorCount, this._changed = false, this._accumulatorCount === this._totalAccumulationCount && (this._push(this._accumulatorValue / this._totalAccumulationCount), this._accumulatorValue = 0, this._accumulatorCount = 0, this._changed = true);
  }
  at(t48) {
    if (!Number.isFinite(t48) || t48 >= this._ringBufferLength || t48 < 0)
      throw new Error("invalid index: " + t48 + " (length: " + this.length + ")");
    let e6 = (this._ringBufferPointer + t48 - this._ringBufferLength + this.windowSize) % this.windowSize;
    return this._ringBuffer[e6];
  }
  _push(t48) {
    this._ringBuffer[this._ringBufferPointer] = t48, ++this._ringBufferLength, this._ringBufferLength > this.windowSize && (this._ringBufferLength = this.windowSize), ++this._ringBufferPointer, this._ringBufferPointer >= this.windowSize && (this._ringBufferPointer = 0);
  }
  maximumValue() {
    let t48 = 0;
    for (let e6 = 0; e6 < this._ringBufferLength; ++e6)
      t48 = Math.max(t48, this.at(e6));
    return t48;
  }
  changed() {
    return this._changed;
  }
  get length() {
    return this._ringBufferLength;
  }
};
q(A9, "TimeSeries");
var M9 = A9;
function Ab(t48, e6, i, n) {
  let r = t48 % 360 / 60, o3 = 0 | r, s6 = r - o3, a = i * (1 - e6), l = i * (1 - e6 * s6), u2 = i * (1 - e6 * (1 - s6)), h = 0, c2 = 0, p4 = 0;
  switch (o3) {
    case 0:
      h = i, c2 = u2, p4 = a;
      break;
    case 1:
      h = l, c2 = i, p4 = a;
      break;
    case 2:
      h = a, c2 = i, p4 = u2;
      break;
    case 3:
      h = a, c2 = l, p4 = i;
      break;
    case 4:
      h = u2, c2 = a, p4 = i;
      break;
    case 5:
      h = i, c2 = a, p4 = l;
  }
  return "#" + b9(h) + b9(c2) + b9(p4);
}
function b9(t48) {
  let e6 = (255 * t48 | 0).toString(16);
  return 1 === e6.length && (e6 = "0" + e6), e6;
}
q(Ab, "hsv2rgb"), q(b9, "toHex"), c(), c(), c();
var NMe = new fa();
var rK = 6371e3;
function oK(t48, e6, i, n) {
  let r = new Ia();
  return r.setFromAxisAngle(i, n), t48.applyQuaternion(r), t48.position.sub(e6), t48.position.applyQuaternion(r), t48.position.add(e6), t48;
}
function aK(t48) {
  let e6 = t48.max.x - t48.min.x, i = t48.max.y - t48.min.y, n = Math.max(e6, i), r = new Yt(new K(), new K(n, n, 0)), o3 = new K();
  return o3.subVectors(t48.getCenter(new K()), r.getCenter(new K())), r.translate(o3), r;
}
function _S(t48, e6, i, n) {
  if (0 === e6)
    return t48;
  let { lat: r, lon: o3 } = t48, s6 = C9(i), a = C9(r), l = C9(o3), u2 = e6 / rK * Math.cos(s6), h = l + e6 / rK * Math.sin(s6) / Math.cos(a), c2 = sK(a + u2), p4 = sK(h);
  return n.createCoordinate(c2, p4);
}
function C9(t48) {
  return t48 * Math.PI / 180;
}
function sK(t48) {
  return 180 * t48 / Math.PI;
}
async function lK(t48, e6, i, n, r) {
  let o3, { signal: s6 } = n;
  try {
    o3 = await (await r.fetchTile(t48, e6, i, s6)).blob();
  } catch (t49) {
    return;
  }
  try {
    let t49 = await createImageBitmap(o3, { imageOrientation: "flipY", colorSpaceConversion: "none" }), e10 = new Rp(t49);
    return e10.wrapS = wr, e10.wrapT = wr, e10;
  } catch {
    return new Promise((t49) => {
      let e10 = URL.createObjectURL(o3), i10 = NMe.load(e10, () => {
        i10.colorSpace = Lr, i10.wrapS = wr, i10.wrapT = wr, t49(i10);
      });
    });
  }
}
function uK(t48) {
  return Math.sqrt(Math.pow(t48, 2) + Math.pow(t48, 2)) / 2;
}
q(oK, "rotateAroundWorldAxis"), q(aK, "getSquareBoundingBoxByLongestSide"), q(_S, "translateCoordinate"), q(C9, "toRadians"), q(sK, "toDegrees"), q(lK, "loadTextureByTile"), q(uK, "calculateCircleRadius"), c();
var xf = class {
  static MapSize(t48, e6) {
    return Math.ceil(e6 * Math.pow(2, t48));
  }
  static Clip(t48, e6, i) {
    return Math.min(Math.max(t48, e6), i);
  }
  static GlobalPixelToPosition(t48, e6, i) {
    var n = this.MapSize(e6, i), r = this.Clip(t48[0], 0, n - 1) / n - 0.5, o3 = 0.5 - this.Clip(t48[1], 0, n - 1) / n;
    return [360 * r, 90 - 360 * Math.atan(Math.exp(2 * -o3 * Math.PI)) / Math.PI];
  }
  static GroundResolution(t48, e6, i) {
    return t48 = this.Clip(t48, this.MinLatitude, this.MaxLatitude), 2 * Math.cos(t48 * Math.PI / 180) * Math.PI * this.EarthRadius / this.MapSize(e6, i);
  }
  static TileXYToBoundingBox(t48, e6, i, n) {
    var r = t48 * n, o3 = e6 * n, s6 = r + n, a = o3 + n, l = this.GlobalPixelToPosition([r, o3], i, n), u2 = this.GlobalPixelToPosition([s6, a], i, n);
    return [l[0], u2[1], u2[0], l[1]];
  }
  static PositionToTileXY(t48, e6, i) {
    var n = this.Clip(t48[1], this.MinLatitude, this.MaxLatitude), r = (this.Clip(t48[0], this.MinLongitude, this.MaxLongitude) + 180) / 360, o3 = Math.sin(n * Math.PI / 180), s6 = 0.5 - Math.log((1 + o3) / (1 - o3)) / (4 * Math.PI), a = this.MapSize(e6, i);
    return { tileX: Math.floor(this.Clip(r * a + 0.5, 0, a - 1) / i), tileY: Math.floor(this.Clip(s6 * a + 0.5, 0, a - 1) / i) };
  }
  static TileXYToQuadKey(t48, e6, i) {
    for (var n = [], r = i; r > 0; r--) {
      var o3 = 0, s6 = 1 << r - 1;
      t48 & s6 && o3++, e6 & s6 && (o3 += 2), n.push(o3);
    }
    return n.join("");
  }
};
q(xf, "TileMath"), v(xf, "EarthRadius", 6378137), v(xf, "MinLatitude", -85.05112878), v(xf, "MaxLatitude", 85.05112878), v(xf, "MinLongitude", -180), v(xf, "MaxLongitude", 180);
var Bu;
var ku;
var Pb;
var bf = xf;
var P9 = class {
  constructor(t48, e6, i, n, r) {
    v(this, "center"), v(this, "zoomLevel"), w(this, Bu, void 0), w(this, ku, void 0), w(this, Pb, void 0), v(this, "mesh"), v(this, "material"), v(this, "texture"), v(this, "cache", {}), v(this, "rendered", false), this.center = t48, this.zoomLevel = e6, p(this, Bu, i), p(this, ku, n), p(this, Pb, r);
  }
  get tileXY() {
    if (this.cache.tileXY)
      return this.cache.tileXY;
    let { tileX: t48, tileY: e6 } = bf.PositionToTileXY([this.center.lon, this.center.lat], this.zoomLevel, o(this, Bu).tileSize);
    return this.cache.tileXY = { tileX: t48, tileY: e6 }, { tileX: t48, tileY: e6 };
  }
  get tileBoundingBoxInLatLon() {
    if (this.cache.tileBoundingBoxInLatLon)
      return this.cache.tileBoundingBoxInLatLon;
    let { tileX: t48, tileY: e6 } = this.tileXY, { tileSize: i } = o(this, Bu), n = bf.TileXYToBoundingBox(t48, e6, this.zoomLevel, i);
    return this.cache.tileBoundingBoxInLatLon = n, n;
  }
  discardTexture() {
    if (1 === o(this, Bu).tileRenderMode) {
      this.rendered = false, this.material.opacity = 0, this.material.map = null, this.material.needsUpdate = true;
      try {
        this.texture.dispose();
      } catch {
      }
      o(this, ku).tryRendering();
    }
  }
  applyTexture() {
    if (this.rendered && 1 !== o(this, Bu).tileRenderMode)
      return;
    this.rendered = true;
    let { tileX: t48, tileY: e6 } = this.tileXY;
    o(this, ku).taskScheduler.scheduleTask(new Hi({ name: "fetchTile", callback: () => {
      lK(t48, e6, this.zoomLevel, o(this, Pb), o(this, Bu).outdoorContextProvider).then((t49) => {
        this.texture = t49, this.material.map = t49, ll({ from: { opacity: 0 }, to: { opacity: 1 }, duration: 500, onStart: () => {
          this.mesh.visible = true;
        }, onUpdate: ({ opacity: t50 }) => {
          this.material.opacity = true === o(this, Bu).visible ? t50 : 0, this.material.needsUpdate = true, o(this, ku).tryRendering();
        } }).start(o(this, ku));
      });
    } }));
  }
  render(t48, e6) {
    let i = t48 / e6.scale, n = new To(i, i, 1, 1);
    this.material = new ls({ opacity: 0, transparent: true, stencilWrite: true, stencilFunc: LT, stencilRef: 1 }), this.mesh = new Ft(n, this.material), this.mesh.visible = false;
    let r = this.tileBoundingBoxInLatLon, o3 = o(this, ku).referenceMap.createCoordinate(r[3], r[2]), s6 = o(this, ku).convertTo3DMapPosition(o3);
    return this.mesh.position.set(s6.x - i / 2, s6.y - i / 2, -1), oK(this.mesh, s6, new K(0, 0, 1), -e6.getNorth()), this.mesh;
  }
};
Bu = /* @__PURE__ */ new WeakMap(), ku = /* @__PURE__ */ new WeakMap(), Pb = /* @__PURE__ */ new WeakMap(), q(P9, "Tile");
var Wi;
var Cb = P9;
var RMe = 2;
var wS = "#f0f0f1";
var fl = class t47 {
  constructor(e6) {
    var i, n, r, o3;
    v(this, "tileSize", 256), v(this, "token", ""), v(this, "apiKey"), v(this, "tileRenderMode", 1), v(this, "currentAbortController", new AbortController()), w(this, Wi, void 0), v(this, "attributionEl"), v(this, "outdoorContextProvider"), v(this, "renderVisibleTiles"), v(this, "cachedZoomLevel", -1 / 0), v(this, "visible", true), v(this, "zoomLevelToAltitudeMap", [[18, -1 / 0], [17, 800], [16, 1800], [15, 3e3]]), v(this, "plane"), v(this, "tiles", []), v(this, "maskMeshBoundingBox"), p(this, Wi, e6), this.renderVisibleTiles = Da(this._renderVisibleTiles, 32), t47.ENABLED && null !== (null == (i = t47.OPTIONS) ? void 0 : i.provider) && (this.outdoorContextProvider = null == (n = t47.OPTIONS) ? void 0 : n.provider, this.tileRenderMode = null != (o3 = null == (r = t47.OPTIONS) ? void 0 : r.tileRenderMode) ? o3 : this.tileRenderMode, o(this, Wi).camera.on("CHANGED", () => {
      this.fetchTiles(), this.renderVisibleTiles();
    }), o(this, Wi).on(7, () => {
      this.fetchTiles(), this.renderVisibleTiles();
    }));
  }
  createAttributionEl() {
    this.attributionEl = document.createElement("div"), Object.assign(this.attributionEl.style, { position: "absolute", bottom: 0, right: 0, padding: "2px", pointerEvents: "none" }), o(this, Wi).container.append(this.attributionEl);
  }
  _renderVisibleTiles() {
    let t48 = o(this, Wi).cameraObject, e6 = new kc();
    e6.setFromProjectionMatrix(new Ot().multiplyMatrices(t48.projectionMatrix, t48.matrixWorldInverse));
    for (let t49 of this.tiles) {
      let i = t49.mesh, n = i.geometry.attributes.position.array, r = [i.localToWorld(new K(n[0], n[1], n[2])), i.localToWorld(new K(n[3], n[4], n[5])), i.localToWorld(new K(n[6], n[7], n[8])), i.localToWorld(new K(n[9], n[10], n[11]))], o3 = false;
      for (let n10 = 0; n10 < 4; n10++)
        if ((e6.containsPoint(r[n10]) || e6.intersectsObject(i)) && (o3 = true, !t49.rendered)) {
          t49.applyTexture();
          break;
        }
      t49.rendered && !o3 && t49.discardTexture();
    }
  }
  fadeOut() {
    return t47.ENABLED && this.visible ? ll({ from: { opacity: 1 }, to: { opacity: 0 }, onUpdate: ({ opacity: t48 }) => {
      this.plane.children.forEach((e6) => {
        e6.material.opacity = t48, e6.material.needsUpdate = true, o(this, Wi).tryRendering();
      });
    }, onComplete: () => {
      this.visible = false, this.plane.visible = false, o(this, Wi).tryRendering();
    } }).start(o(this, Wi)) : Promise.resolve();
  }
  fadeIn() {
    return !t47.ENABLED || this.visible ? Promise.resolve() : ll({ from: { opacity: 0 }, to: { opacity: 1 }, onStart: () => {
      this.plane.visible = true, o(this, Wi).tryRendering();
    }, onUpdate: ({ opacity: t48 }) => {
      this.plane.children.forEach((e6) => {
        e6.material.opacity = t48, e6.material.needsUpdate = true, o(this, Wi).tryRendering();
      });
    }, onComplete: () => {
      this.visible = true;
    } }).start(o(this, Wi));
  }
  fetchTiles() {
    let t48 = o(this, Wi).controls.getZoom() * o(this, Wi).referenceMap.scale, e6 = -1 / 0;
    this.zoomLevelToAltitudeMap.forEach(([i, n]) => {
      t48 > n && (e6 = i);
    }), e6 !== this.cachedZoomLevel && (this.currentAbortController.signal.aborted || (this.currentAbortController.abort(), this.currentAbortController = new AbortController()), this.fetchTilesForZoomLevel(e6));
  }
  async fetchTilesForZoomLevel(e6) {
    var i, n;
    this.plane && (this.tiles = [], o(this, Wi).scene.remove(this.plane), this.plane.destroy(), o(this, Wi).tryRendering()), this.cachedZoomLevel = e6, this.plane = new lo();
    let r = o(this, Wi).referenceMap, o3 = o(this, Wi).mapObjects.get(r.id);
    await o3.load();
    let s6 = o3.boundingBox, a = lY(aK(new Yt(new K(s6.min.x, s6.min.y, s6.min.z), new K(s6.max.x, s6.max.y, s6.max.z))), null != (n = null == (i = t47.OPTIONS) ? void 0 : i.boundingBoxMultiplier) ? n : RMe), { min: l, max: u2 } = a, h = new To(u2.x - l.x, u2.y - l.y), c2 = new ls({ color: wS, stencilWrite: true, stencilRef: 1, depthWrite: false, stencilFunc: Ux, stencilFail: Og, stencilZFail: Og, stencilZPass: Og }), p4 = new Ft(h, c2);
    p4.renderOrder = -1, p4.applyMatrix4(o3.object.matrix), this.maskMeshBoundingBox = new Yt().setFromObject(p4), this.maskMeshBoundingBox.min.z = -100, this.maskMeshBoundingBox.max.z = 100, this.plane.add(p4);
    let d = new K(a.min.x, a.min.y, 0), f = new K(a.max.x, a.max.y, 0);
    if ("function" == typeof this.outdoorContextProvider.fetchAttribution) {
      null == this.attributionEl && this.createAttributionEl();
      let t48 = o(this, Wi).convert3DMapPositionToCoordinate(d), i10 = o(this, Wi).convert3DMapPositionToCoordinate(f);
      this.outdoorContextProvider.fetchAttribution(e6, [i10.lon, i10.lat, t48.lon, t48.lat]).then((t49) => t49.json()).then(({ copyrights: t49 }) => {
        this.attributionEl.innerHTML = t49[0];
      }).catch((t49) => Le.error(t49));
    }
    let g = a.getCenter(new K()), m = o(this, Wi).convert3DMapPositionToCoordinate(g, r), v4 = bf.GroundResolution(m.lat, e6, this.tileSize), y4 = this.tileSize * v4, x4 = new Cb(m, e6, this, o(this, Wi), this.currentAbortController);
    x4.render(y4, r), this.plane.add(x4.mesh), this.tiles.push(x4);
    let _ = uK(a.max.x - a.min.x), b = y4 / r.scale, E = Math.ceil(_ / b);
    for (let t48 = 1; t48 <= E; t48++)
      this.populateLayer(t48, m, e6, y4, r);
    o(this, Wi).scene.add(this.plane);
  }
  populateLayer(t48 = 1, e6, i, n, r) {
    let o3 = _S(e6, n * t48, 0, r);
    o3 = _S(o3, n * t48, 270, r);
    let s6 = 2 * t48 + 1, a = o3, l = [90, 180, 270, 0];
    for (let t49 of l)
      for (let e10 = 0; e10 < s6 - 1; e10++) {
        let e11 = new Cb(a, i, this, o(this, Wi), this.currentAbortController);
        e11.render(n, r), this.checkIfTileIsInBoundingBox(e11) && (this.plane.add(e11.mesh), this.tiles.push(e11)), a = _S(a, n, t49, r);
      }
  }
  checkIfTileIsInBoundingBox(t48) {
    let e6 = new Yt().setFromObject(t48.mesh);
    return this.maskMeshBoundingBox.intersectsBox(e6) || this.maskMeshBoundingBox.containsBox(e6);
  }
};
Wi = /* @__PURE__ */ new WeakMap(), q(fl, "TileManager"), v(fl, "ENABLED", false), v(fl, "OPTIONS");
var ah = fl;
c(), c(), "object" != typeof globalThis && (Object.defineProperty(Object.prototype, "__magic__", { get: function() {
  return this;
}, configurable: true }), __magic__.globalThis = __magic__, delete Object.prototype.__magic__);
var cK = u(Eu());
c(), ci.prototype.destroy = function() {
  for (let t48 = this.children.length - 1; t48 >= 0; t48--)
    this.children[t48].destroy();
  this.geometry && (this.geometry.dispose(), this.geometry = void 0), this.parent && this.parent.remove(this), this.texture && (this.texture.dispose(), this.texture = void 0), Array.isArray(this.material) ? this.material.forEach(function(t48) {
    ef(t48);
  }) : typeof this.material < "u" && ef(this.material), this.material = void 0;
};
var jr = new pa();
var BMe = {};
var Na = { BEFORE_CAMERA: 5, CAMERA: 4, AFTER_CAMERA: 3, RENDER: 2, AFTER_RENDER: 1, AFTER_ALL_UPDATES: 0 };
var kMe = Br.radToDeg(0.698132);
BMe.CameraControls = dS;
var pd;
var u0;
var c0;
var h0;
var _f;
var lh;
var wf;
var co;
var MS;
var dd;
var f0;
var Mf;
var Ib;
var Ob;
var md;
var Lb;
var Db;
var Nb;
var Rb;
var Bb;
var kb;
var qb;
var Ef;
var Fb;
var uh;
var qu;
var p0;
var Ub;
var zb;
var Gb;
var d0;
var gd;
var Vb;
var vd;
var yd;
var Zl;
var Ql;
var ES;
var m0;
var Tf;
var TS;
var SS;
var AS;
var CS;
var Hb;
var jb;
var O9 = class extends Go {
  constructor(t48, e6, i = {}, n) {
    var r, o3, s6, a, l, h, c2, p4, d, f;
    super(), v(this, "eventSystem"), v(this, "floatingLabels"), v(this, "flatLabels"), v(this, "paths"), v(this, "polygonColors"), v(this, "polygonHoverColors"), v(this, "polygonInteraction"), v(this, "polygonStates"), v(this, "polygonImages"), v(this, "markers"), v(this, "tooltips"), v(this, "threeDMarkers"), v(this, "blueDot"), v(this, "camera"), v(this, "outdoorViewController"), v(this, "exportController"), v(this, "watermark"), v(this, "layerController"), v(this, "options"), v(this, "currentPath"), v(this, "state", "explore"), v(this, "imageFlippingCache", {}), v(this, "imageFlippingEnabled", false), v(this, "MapView"), v(this, "type"), v(this, "container"), v(this, "venue"), v(this, "colors"), v(this, "loadOptions"), v(this, "smartCollisionEngine"), v(this, "taskScheduler"), v(this, "renderer"), v(this, "highlightedPolygons", {}), v(this, "outlinedPolygons", /* @__PURE__ */ new Map()), v(this, "scene"), v(this, "focusZoomFactor"), v(this, "cameraObject"), v(this, "polygonMeshesById"), v(this, "textLabelsByPolygonId"), v(this, "labelOrientationDelay"), v(this, "isWebGL2"), v(this, "interactivePolygons"), v(this, "polygonHoverColorsById"), v(this, "mapManager"), v(this, "sceneManager"), v(this, "mapObjects"), v(this, "referenceMap"), v(this, "currentInteractionEvent"), v(this, "resolution"), v(this, "cameraParameters"), v(this, "controls"), v(this, "cameraPlane"), v(this, "canvasWidth"), v(this, "canvasHeight"), v(this, "cachedPadding", { top: 0, left: 0, right: 0, bottom: 0 }), v(this, "currentScale", 0), v(this, "rendererDomElement"), v(this, "resolutionScale"), w(this, pd, void 0), w(this, u0, void 0), w(this, c0, void 0), w(this, h0, void 0), w(this, _f, void 0), w(this, lh, void 0), w(this, wf, void 0), w(this, co, null), w(this, MS, ["top", "bottom", "left", "right"]), w(this, dd, { PIXELS: "pixels", PORTIONS: "portions" }), w(this, f0, void 0), w(this, Mf, void 0), w(this, Ib, void 0), w(this, Ob, void 0), w(this, md, void 0), w(this, Lb, void 0), w(this, Db, void 0), w(this, Nb, void 0), w(this, Rb, void 0), w(this, Bb, void 0), w(this, kb, void 0), w(this, qb, void 0), w(this, Ef, void 0), w(this, Fb, void 0), w(this, uh, false), w(this, qu, void 0), w(this, p0, void 0), v(this, "outdoorGeometryLayers", []), v(this, "billboardManager"), v(this, "stackedMaps"), v(this, "tileManager"), v(this, "setMapReason"), w(this, Ub, q((t49 = true) => {
      p(this, uh, t49);
    }, "#setFlippablesNeedUpdating")), w(this, zb, q(() => {
      this.smartCollisionEngine.init(this.container, o(this, ES));
    }, "#initializeCollisionEngine")), w(this, Gb, q((t49) => Math.trunc(100 * t49) / 100, "#round100")), w(this, d0, q(() => {
      var t49, e10;
      this.canvasWidth = this.rendererDomElement.clientWidth, this.canvasHeight = this.rendererDomElement.clientHeight, o(this, Tf).call(this), null != this.outdoorViewController && this.outdoorViewController.resize(), o(this, gd).call(this), this.smartCollisionEngine.resize(this.container), "function" == typeof (null == (e10 = null == (t49 = this.sceneManager) ? void 0 : t49.currentScene) ? void 0 : e10.resize) && this.sceneManager.currentScene.resize(), this.watermark.resize();
    }, "#onWindowResize")), w(this, gd, q(() => {
      this.renderer.render(un.ALL, null, this.scene, this.cameraObject);
    }, "#renderFull")), w(this, Vb, q((t49, e10) => {
      t49.style.transform = "rotate(" + (e10 + t49._mRotationOffset) + "rad)";
    }, "#rotateNode")), w(this, vd, q(() => {
      p(this, _f, true), p(this, uh, true);
    }, "#cameraRotationStarted")), w(this, yd, q(() => {
      p(this, _f, false), p(this, uh, true);
    }, "#cameraRotationStopped")), w(this, Zl, q(() => {
    }, "#cameraMovementStart")), w(this, Ql, q(() => {
    }, "#cameraMovementEnd")), w(this, ES, q((t49, e10) => {
      this.cameraObject.updateProjectionMatrix(), this.cameraObject.updateMatrixWorld(true);
      let i10 = this.mapObjects.get(e10);
      if (null == i10)
        return { x: 0, y: 0 };
      let n10 = this.convertTo3DMapPosition(t49.nodeOrCoordinate);
      typeof t49.height < "u" && (n10.z += t49.height * i10.object.scale.x);
      let r6 = n10.project(this.cameraObject), o6 = (r6.x + 1) / 2 * this.canvasWidth - 0, s10 = (1 - r6.y) / 2 * this.canvasHeight - 0;
      return { x: o(this, Gb).call(this, o6), y: o(this, Gb).call(this, s10) };
    }, "#project")), w(this, m0, q((t49, e10) => {
      this.renderer.setBufferSize(t49, e10), this.cameraObject.aspect = t49 / e10, this.cameraObject.updateProjectionMatrix(), this.cameraObject.updateMatrixWorld(true), this.resolution.x = t49, this.resolution.y = e10;
    }, "#setBufferSize")), w(this, Tf, q(() => {
      let t49 = this.canvasWidth = this.rendererDomElement.clientWidth, e10 = this.canvasHeight = this.rendererDomElement.clientHeight, i10 = Math.floor(t49 * this.resolutionScale), n10 = Math.floor(e10 * this.resolutionScale);
      if (this.rendererDomElement.width !== i10 || this.rendererDomElement.height !== n10) {
        if (this.rendererDomElement.width * this.rendererDomElement.height * i10 * n10 != 0) {
          let t50 = this.rendererDomElement.width !== i10 ? this.rendererDomElement.width / i10 : this.rendererDomElement.height / n10;
          this.controls.setZoom(t50 * this.controls.getZoom());
        }
        o(this, m0).call(this, i10, n10);
      }
      p(this, Ef, false);
    }, "#measureCanvas")), w(this, TS, q(() => {
      var t49;
      let e10 = o(this, qu).rotation.z;
      if (o(this, _f) || o(this, uh)) {
        let i10 = null == (t49 = this.sceneManager) ? void 0 : t49.currentScene.mapObjects;
        null == i10 || i10.forEach((t50) => {
          let i11 = e10 - t50.object.rotation.z;
          t50.imagesToFlip.forEach((t51) => t51.flipIfNeeded(i11));
        });
      }
    }, "#rotateTextLabels")), w(this, SS, q(() => {
      var t49;
      let e10 = o(this, qu).rotation.z;
      if (o(this, _f) || o(this, uh)) {
        let i10 = null == (t49 = this.sceneManager) ? void 0 : t49.currentScene.mapObjects;
        null == i10 || i10.forEach((t50) => {
          let i11 = e10 - t50.object.rotation.z;
          t50.imagesToFlip.forEach((t51) => t51.flipIfNeeded(i11));
        });
      }
    }, "#rotateImages")), w(this, AS, q((t49) => {
      t49.addDebugControls({ MapView3D: [{ name: "Background Color", description: "The color of the mapview background. Will be obscured if there is a fully-opaque outdoor context.", control: new xb({ current: new at("#ffffff"), onValueChanged: (t50) => {
        this.renderer.setBackgroundColor(t50, this.renderer.backgroundAlpha), this.tryRendering();
      } }) }, { name: "Background Opacity", description: "The opacity of the mapview background. Will be obscured if there is a fully-opaque outdoor context.", control: new yb({ minimum: 0, maximum: 1, step: 0.01, current: this.renderer.backgroundAlpha, onValueChanged: (t50) => {
        this.renderer.setBackgroundColor(this.renderer.backgroundColor, t50), this.tryRendering();
      } }) }] });
    }, "#addDebugControls")), w(this, CS, q((t49) => {
      t49.removeDebugControls({ MapView3D: ["Background Color", "Background Opacity"] });
    }, "#removeDebugControls")), w(this, Hb, q((t49, e10) => jr.intersectObjects(t49, true).filter((t50) => !!t50.object.name && (e10 && this.venue._polygonsById ? t50.object.name in this.venue._polygonsById : t50.object.name in this.interactivePolygons)).map((t50) => this.venue._polygonsById[t50.object.name]) || [], "#getPolygonsFromRaycaster")), w(this, jb, q(() => {
      this.tryRendering();
    }, "#onCameraChange")), v(this, "getPolygon", q((t49) => La(t49, this.venue.polygons), "getPolygon")), v(this, "showEntireMap", q((t49) => {
      if (null == this.currentMap)
        return;
      t49 || (t49 = {});
      let e10, i10 = this.mapObjects.get(this.currentMap);
      return t49.interactiveOnly ? e10 = Object.keys(this.interactivePolygons) : (e10 = null == i10 ? void 0 : i10.hoverableMeshChildren.map(function(t50) {
        return t50.name;
      }), !e10.length && null != i10 && i10.elements && (e10 = Object.keys(i10.elements))), t49.polygons = e10, this.focusOn(t49);
    }, "showEntireMap")), v(this, "resetPanBounds", q(() => {
      var t49;
      if (null == this.currentMap)
        return;
      let e10 = this.mapObjects.get(this.currentMap);
      this.controls.panBounds.min = this.controls.getPosition(), this.controls.panBounds.max = this.controls.getPosition();
      let i10 = null == e10 ? void 0 : e10.boundingBox;
      i10 || (i10 = new Yt().setFromObject(null == e10 ? void 0 : e10.object), this.mapObjects.get(this.currentMap).boundingBox = i10), null == (t49 = this.mapManager) || t49.expandPanBounds(i10);
    }, "resetPanBounds")), v(this, "focusOn", q((t49) => {
      var e10, i10;
      if (null == this.currentMap || null == t49)
        return;
      let n10, r6 = void 0 === t49.changeZoom || t49.changeZoom;
      n10 = void 0 !== t49.duration ? t49.duration : "true" === e.env.TESTING ? 0 : 200;
      let o6 = void 0 !== t49.focusZoomFactor ? t49.focusZoomFactor : this.focusZoomFactor, s10 = t49.curve, a3 = void 0 !== t49.horizontalFovFactor ? t49.horizontalFovFactor : 1, l3 = void 0 !== t49.verticalFovFactor ? t49.verticalFovFactor : 1, u2 = t49.callback, h2 = t49.cancelledCallback, c4 = void 0 !== t49.minZoom ? t49.minZoom : this.controls.minZoom, p10 = void 0 !== t49.maxZoom ? t49.maxZoom : this.controls.maxZoom, d4 = null == (e10 = t49.updateZoomLimits) || e10, f2 = false, g4 = [], m4 = null != (i10 = t49.doNotEmitFocusOnEvent) && i10;
      if (o(this, Tf).call(this), t49.nodes) {
        let e11 = t49.nodes;
        for (var v10 = 0, y10 = e11.length; v10 < y10; v10++) {
          let t50 = e11[v10];
          "string" == typeof t50 && (t50 = La(t50, this.venue.nodes)), (null == t50.map || t50.map.id == this.currentMap) && (g4.push(this.convertTo3DMapPosition(t50)), f2 = true);
        }
      }
      if (t49.debug) {
        o(this, wf) && o(this, wf).destroy(), p(this, wf, new ci()), this.scene.add(o(this, wf));
        var x10 = new Bc(100, 100, 100), _4 = new ls({ color: 65280 });
      }
      t49.points && (t49.points.forEach((t50) => g4.push(t50)), f2 = true);
      let b4 = this.controls.getRotation(), E4 = this.controls.getTilt();
      if (this.controls.setRotation(t49.rotation, true), this.controls.setTilt(t49.tilt, true), t49.boundingBox) {
        let { min: e11, max: i11 } = t49.boundingBox;
        [new K(e11.x, e11.y, e11.z), new K(e11.x, i11.y, e11.z), new K(i11.x, e11.y, e11.z), new K(i11.x, i11.y, e11.z), new K(e11.x, e11.y, i11.z), new K(e11.x, i11.y, i11.z), new K(i11.x, e11.y, i11.z), new K(i11.x, i11.y, i11.z)].forEach((e12) => {
          if (t49.debug) {
            let t50 = new Ft(x10, _4);
            t50.position.set(e12.x, e12.y, e12.z), o(this, wf).add(t50);
          }
          g4.push(e12);
        }), f2 = true;
      }
      if (t49.polygons) {
        let e11 = t49.polygons, i11 = this.mapObjects.get(this.currentMap), n11 = 0;
        for (v10 = 0, y10 = e11.length; v10 < y10; v10++) {
          let t50 = Oi(e11[v10]), r10 = null == i11 ? void 0 : i11.objectsDictionary[t50];
          if (r10)
            if (n11++, r10.geometry.attributes) {
              let t51 = r10.geometry.attributes.position;
              for (let e12 = 0, n12 = t51.count; e12 < n12; e12++) {
                let n13 = new K();
                n13.set(t51.getX(e12), t51.getY(e12), t51.getZ(e12)).applyMatrix4(null == i11 ? void 0 : i11.object.matrix), g4.push(n13);
              }
              f2 = true;
            } else {
              for (let t51 = 0, e12 = r10.geometry.vertices.length; t51 < e12; t51++)
                g4.push(r10.geometry.vertices[t51].clone().applyMatrix4(null == i11 ? void 0 : i11.object.matrix));
              f2 = true;
            }
        }
        1 === n11 && (o6 = this.loadOptions && this.loadOptions.zoomOverrides && this.loadOptions.zoomOverrides.focusZoomFactorPolygon || o6);
      }
      if (f2) {
        this.tryRendering();
        let e11 = t49.padding || this.cachedPadding || { top: 0, bottom: 0, left: 0, right: 0 }, i11 = this.getZoomLevelForCurrentMap(), f4 = c4 * o6, v11 = p10 * o6, y11 = this.getCameraFrameForPoints(g4, a3, l3, e11, !r6, f4, v11), x11 = y11.zoom;
        d4 && (this.controls.restrictZoomLimits(i11), this.controls.expandZoomLimits(x11 * o6));
        let _10 = { position: y11.position, tilt: t49.tilt, rotation: t49.rotation };
        return r6 && (_10.zoom = Br.clamp(y11.zoom * o6, c4, p10)), m4 || this.publish(26), this.controls.setRotation(b4, true), this.controls.setTilt(E4, true), this.controls.animateCamera(_10, n10, s10, u2, h2);
      }
      return m4 || this.publish(26), this.controls.setRotation(b4, true), this.controls.setTilt(E4, true), this.controls.animateCamera({}, n10, s10, u2, h2);
    }, "focusOn")), v(this, "focusOnPolygon", q((t49, e10, i10, n10) => this.focusOn({ polygons: [t49], changeZoom: e10, duration: i10, curve: n10 }), "focusOnPolygon")), v(this, "focusOnPath", q((t49, e10, i10, n10, r6) => this.focusOn({ nodes: t49, polygons: e10, changeZoom: i10, duration: n10, curve: r6 }), "focusOnPath")), v(this, "getCameraFrameForPoints", q((t49, e10, i10, n10, r6 = true, o6 = this.controls.getZoomScaledMin(), s10 = this.controls.getZoomScaledMax()) => {
      (!i10 || isNaN(i10)) && (i10 = 1), (!e10 || isNaN(e10)) && (e10 = 1);
      let a3 = { position: this.controls.getPosition(), zoom: this.controls.minZoom };
      if (null == t49 || 0 === t49.length)
        return a3;
      n10 || (n10 = { top: 0, bottom: 0, left: 0, right: 0, type: o(this, dd).PIXELS });
      for (let t50 of o(this, MS))
        "number" != typeof n10[t50] && (n10[t50] = 0);
      if (n10.type || (n10.type = o(this, dd).PIXELS), n10.type === o(this, dd).PORTIONS && (n10 = { top: n10.top * this.canvasHeight, bottom: n10.bottom * this.canvasHeight, left: n10.left * this.canvasWidth, right: n10.right * this.canvasWidth, type: o(this, dd).PIXELS }), n10.left + n10.right >= this.canvasWidth || n10.top + n10.bottom >= this.canvasHeight)
        return a3;
      o(this, qu).updateMatrixWorld();
      let l3 = this.cameraObject.matrixWorldInverse, u2 = this.cameraObject.fov * (Math.PI / 180) / 2, h2 = u2 * i10, c4 = Math.atan(Math.tan(u2) * (this.canvasWidth / this.canvasHeight)) * e10;
      if (1 === t49.length) {
        let e11 = t49[0].clone();
        e11.applyMatrix4(l3);
        let i11 = this.controls.minZoom * Math.tan(c4) * 2, r10 = this.controls.minZoom * Math.tan(h2) * 2, o7 = (n10.left - n10.right) / 2 / this.canvasWidth, s11 = (n10.top - n10.bottom) / 2 / this.canvasHeight, u3 = new K(-o7 * i11, s11 * r10, 0);
        return e11.add(u3), e11.applyMatrix4(this.cameraObject.matrixWorld), a3.position.x = e11.x, a3.position.y = e11.y, a3;
      }
      let p10, d4 = new K(1 / 0, 1 / 0, 1 / 0), f2 = new K(-1 / 0, -1 / 0, -1 / 0), g4 = new Yt().setFromPoints(t49);
      for (let e11 = 0, i11 = t49.length; e11 < i11; e11++)
        p10 = t49[e11], p10.applyMatrix4(l3), d4.min(p10), f2.max(p10);
      let m4 = f2.x - d4.x, v10 = f2.y - d4.y, y10 = this.canvasWidth - n10.left - n10.right, x10 = this.canvasHeight - n10.top - n10.bottom, _4 = (f2.x + d4.x) / 2, b4 = (f2.y + d4.y) / 2, E4 = m4 / y10, w10 = v10 / x10, A = s10, S4 = o6 * Math.tan(c4) * 2, T = A * Math.tan(c4) * 2, C = S4 / this.canvasWidth, P = T / this.canvasWidth, I = Math.max(E4, w10);
      r6 || (I = Math.min(Math.max(I, C), P));
      let L = y10 * I, O = x10 * I, N = { x: _4 - L / 2 - n10.left * I, y: b4 - O / 2 - n10.bottom * I }, D = { x: _4 + L / 2 + n10.right * I, y: b4 + O / 2 + n10.top * I }, R = (N.x + D.x) / 2, q4 = (N.y + D.y) / 2, B = g4.getCenter(new K()), k = Math.abs(R - N.x), F = Math.abs(q4 - N.y), U = k / Math.tan(c4), z = F / Math.tan(h2), V = new K();
      V.set(R, q4, f2.z + Math.max(U, z)), V.applyMatrix4(this.cameraObject.matrixWorld);
      let j = new K();
      if (j.set(R, q4, f2.z), j.applyMatrix4(this.cameraObject.matrixWorld), "STACKED" === this.state) {
        let t50 = new K().subVectors(j, V), e11 = (B.z - V.z) / t50.z, i11 = new K().copy(V).add(t50.clone().multiplyScalar(e11));
        a3.position = i11, j.set(a3.position.x, a3.position.y, a3.position.z);
      } else {
        j.sub(V);
        let t50 = V.z / j.z;
        a3.position.x = V.x - j.x * t50, a3.position.y = V.y - j.y * t50, j.set(a3.position.x, a3.position.y, 0);
      }
      return V.sub(j), a3.zoom = V.length(), a3;
    }, "getCameraFrameForPoints")), v(this, "setPadding", q((t49) => {
      this.cachedPadding = t49 || { top: 0, bottom: 0, left: 0, right: 0 };
    }, "setPadding")), v(this, "getZoomLevelForPolygon", q((t49) => {
      var e10;
      if (null == this.currentMap)
        return;
      let i10 = Oi(t49), n10 = [], r6 = null == (e10 = this.mapObjects.get(this.currentMap)) ? void 0 : e10.objectsDictionary[i10];
      if (r6) {
        let t50 = r6.geometry.attributes ? r6.geometry.attributes.position : [];
        for (let e11 = 0, i11 = t50.count; e11 < i11; e11++) {
          let i12 = new K();
          i12.set(t50.getX(e11), t50.getY(e11), t50.getZ(e11)), n10.push(i12);
        }
        return this.getCameraFrameForPoints(n10, 1, 1, this.cachedPadding, true).zoom;
      }
      return this.controls.getZoom();
    }, "getZoomLevelForPolygon")), v(this, "getZoomLevelForCurrentMap", q(() => {
      var t49;
      if (null == this.currentMap)
        return;
      let e10 = null == (t49 = this.mapObjects.get(this.currentMap)) ? void 0 : t49.object;
      if (e10) {
        let t50 = this.mapObjects.get(this.currentMap).boundingBox;
        t50 || (t50 = new Yt().setFromObject(e10), this.mapObjects.get(this.currentMap).boundingBox = t50);
        let i10 = [t50.min.clone(), t50.max.clone()];
        return this.getCameraFrameForPoints(i10, 1, 1, this.cachedPadding, true).zoom;
      }
      return this.controls.getZoom();
    }, "getZoomLevelForCurrentMap")), v(this, "getZoomLevelForObject", q((t49) => {
      let e10;
      e10 || (e10 = new Yt().setFromObject(t49));
      let i10 = [e10.min.clone(), e10.max.clone()];
      return this.getCameraFrameForPoints(i10, 1, 1, 0, true).zoom;
    }, "getZoomLevelForObject")), v(this, "resetCamera", q((t49 = false) => {
      var e10;
      if (null == this.currentMap)
        return;
      let i10 = { x: 0, y: 0 };
      if (!t49) {
        let t50 = null == (e10 = this.mapObjects.get(this.currentMap)) ? void 0 : e10.boundingBox;
        t50 && (i10 = { x: (t50.max.x - t50.min.x) / 2 + t50.min.x, y: (t50.max.y - t50.min.y) / 2 + t50.min.y });
      }
      let n10 = this.getZoomLevelForCurrentMap();
      this.controls.expandZoomLimits(n10);
      this.controls.setMulti(i10, n10, 0, 0.6);
    }, "resetCamera")), v(this, "getPositionLatLon", q((t49, e10, i10) => {
      let n10;
      if (n10 = "string" == typeof i10 ? i10 : null == i10 ? this.currentMap : i10.id, null == n10)
        return;
      let r6 = this.mapObjects.get(n10);
      if (null == r6)
        throw new Error("Invalid map: " + n10);
      return r6.getPositionLatLon(t49, e10);
    }, "getPositionLatLon")), v(this, "lockNorth", q((t49, e10 = 0) => {
      o(this, lh).push(t49), t49._mRotationOffset = e10, o(this, Vb).call(this, t49, this.getNorth() + this.controls.getRotation());
    }, "lockNorth")), v(this, "unlockNorth", q((t49) => {
      delete t49._mRotationOffset, p(this, lh, o(this, lh).filter(function(e10) {
        return e10 != t49;
      }));
    }, "unlockNorth")), v(this, "convertTo3DMapPosition", q((t49) => {
      var e10;
      let i10 = (null == (e10 = t49.map) ? void 0 : e10.id) || this.currentMap;
      if (null == i10)
        return;
      let n10 = this.venue.getCollectionItemById("maps", i10);
      return new K(t49.x - n10.width / 2, -t49.y + n10.height / 2, 1).applyMatrix4(this.mapObjects.get(i10).object.matrix);
    }, "convertTo3DMapPosition")), v(this, "convertScreenCoordinateToMapCoordinate", q((t49, e10, i10) => {
      var n10;
      let r6 = null != (n10 = null == i10 ? void 0 : i10.id) ? n10 : this.currentMap;
      if (null == r6)
        return;
      let o6 = this.mapObjects.get(r6);
      this.cameraObject.updateMatrixWorld(true), this.cameraObject.updateMatrix();
      let s10 = t49 / this.canvasWidth * 2 - 1, a3 = -e10 / this.canvasHeight * 2 + 1, l3 = new K(s10, a3, 0);
      jr.setFromCamera(l3, this.cameraObject.clone());
      let u2 = jr.intersectObject(this.cameraPlane, false)[0].point.applyMatrix4(new Ot().copy(o6.object.matrix).invert());
      return o6.mapClass.createCoordinateByXY(u2.x + o6.mapClass.width / 2, -u2.y + o6.mapClass.height / 2);
    }, "convertScreenCoordinateToMapCoordinate")), v(this, "convert3DMapPositionToCoordinate", q((t49, e10) => {
      var i10;
      let n10 = null != (i10 = null == e10 ? void 0 : e10.id) ? i10 : this.currentMap;
      if (null == n10)
        return;
      let r6 = this.mapObjects.get(n10), o6 = r6.mapClass, s10 = new K(t49.x, t49.y, t49.z || 0);
      s10.applyMatrix4(new Ot().copy(r6.object.matrix).invert());
      let a3 = s10.x + o6.width / 2, l3 = -s10.y + o6.height / 2;
      return o6.createCoordinateByXY(a3, l3);
    }, "convert3DMapPositionToCoordinate")), v(this, "getPositionPolygon", q((t49) => {
      var e10;
      let i10 = Oi(t49), n10 = t49;
      null == t49.map && (n10 = this.getPolygon(i10));
      let r6 = null == (e10 = this.mapObjects.get(n10.map.id)) ? void 0 : e10.objectsDictionary[i10];
      if (r6) {
        r6.geometry.computeBoundingBox();
        let t50 = r6.geometry.boundingBox;
        return new K(t50.min.x + (t50.max.x - t50.min.x) / 2, t50.min.y + (t50.max.y - t50.min.y) / 2, t50.max.z);
      }
      return null;
    }, "getPositionPolygon")), v(this, "getPositionNode", q((t49) => {
      let e10 = t49;
      return "string" == typeof e10 && (e10 = La(t49, this.venue.nodes)), this.convertTo3DMapPosition(e10);
    }, "getPositionNode")), v(this, "hideAllLabels", q(() => {
      this.mapObjects.forEach((t49) => {
        t49.textObjects.forEach((t50) => t50.hide()), t49.colliders.forEach((t50) => {
          t50.disable();
        });
      });
    }, "hideAllLabels")), v(this, "setBackgroundColor", q((t49, e10) => {
      this.renderer.setBackgroundColor(t49, e10);
    }, "setBackgroundColor")), v(this, "setSize", q((t49, e10) => {
      this.canvasWidth = this.rendererDomElement.clientWidth, this.canvasHeight = this.rendererDomElement.clientHeight;
      let i10 = Math.floor(t49 * this.resolutionScale), n10 = Math.floor(e10 * this.resolutionScale);
      if (!o(this, u0) && this.rendererDomElement.width * this.rendererDomElement.height * i10 * n10 != 0) {
        let t50 = this.rendererDomElement.width !== i10 ? this.rendererDomElement.width / i10 : this.rendererDomElement.height / n10;
        this.controls.setZoom(t50 * this.controls.getZoom());
      }
      o(this, m0).call(this, i10, n10);
    }, "setSize")), v(this, "getMapScale", q(() => null == this.currentMap ? 0 : this.mapObjects.get(this.currentMap).getMapScale(), "getMapScale")), v(this, "getNorth", q(() => null == this.currentMap ? 0 : this.mapObjects.get(this.currentMap).getNorth(), "getNorth")), v(this, "tryRendering", q((t49 = un.ALL) => {
      if (null != this.renderer)
        if (null != o(this, co) && this.taskScheduler.scheduleUpdate(o(this, Bb)), t49 === un.ALL)
          this.taskScheduler.scheduleUpdate(o(this, Mf)), null != o(this, kb) && this.taskScheduler.scheduleUpdate(o(this, kb)), this.taskScheduler.scheduleUpdate(o(this, f0)), this.taskScheduler.scheduleUpdate(o(this, Ib)), this.taskScheduler.scheduleUpdate(o(this, Ob)), this.taskScheduler.scheduleUpdate(o(this, md)), this.taskScheduler.scheduleUpdate(o(this, Nb)), this.taskScheduler.scheduleUpdate(o(this, Rb));
        else if (t49 === un.ANIMATED)
          this.taskScheduler.scheduleUpdate(o(this, f0)), this.taskScheduler.scheduleUpdate(o(this, Mf)), this.taskScheduler.scheduleUpdate(o(this, Lb));
        else if (t49 === un.ALWAYS_ON_TOP)
          this.taskScheduler.scheduleUpdate(o(this, Mf)), this.taskScheduler.scheduleUpdate(o(this, Db));
        else if (t49 === un.TWEEN)
          this.taskScheduler.scheduleUpdate(o(this, Mf));
        else {
          if (t49 !== un.COMPOSITE)
            throw new Error("invalid render task passed to tryRendering");
          this.taskScheduler.scheduleUpdate(o(this, qb));
        }
    }, "tryRendering")), v(this, "showDebugUI", q(() => {
      null == o(this, co) && (p(this, co, new l0()), this.container.appendChild(o(this, co).element), o(this, AS).call(this, o(this, co)), this.controls.addDebugControls(o(this, co)), this.tryRendering());
    }, "showDebugUI")), v(this, "hideDebugUI", q(() => {
      null != o(this, co) && (this.container.removeChild(o(this, co).element), o(this, CS).call(this, o(this, co)), this.controls.removeDebugControls(o(this, co)), o(this, co).destroy(), p(this, co, null));
    }, "hideDebugUI")), v(this, "determineNewLabelSize", q(() => {
      let t49 = this.controls.getZoom(), e10 = this.controls.getZoomScaledMin(), i10 = (t49 - e10) / (this.controls.getZoomScaledMax() - e10);
      this.currentScale = i10;
    }, "determineNewLabelSize")), v(this, "mapSetInProgress", Promise.resolve(void 0)), v(this, "mapSetResolved"), v(this, "setMap", q(async (t49) => {
      await this.mapSetInProgress, this.mapSetInProgress = new Promise((t50) => {
        this.mapSetResolved = t50;
      });
      let e10 = "string" == typeof t49 ? this.venue.getCollectionItemById("maps", t49) : t49;
      if (null == e10)
        return Promise.reject(null);
      let { currentScene: i10 } = this.sceneManager;
      return null == i10 ? Promise.reject(null) : "STACKED" === this.state ? this.stackedMaps.mapsInJourney.includes(e10) ? this.stackedMaps.zoomInToMap(e10).then(() => (this.mapSetResolved(), Promise.resolve(null))) : (Le.warn("Can't set map outside of current scene"), Promise.reject(null)) : this.sceneManager.transitionTo(new Zc([e10], this), { activeMap: e10 }).then(() => (this.mapSetResolved(), Promise.resolve(null)));
    }, "setMap")), v(this, "setMapWithReason", q((t49, e10) => (this.setMapReason = e10, this.setMap(t49)), "setMapWithReason")), v(this, "getPolygonsAtScreenCoordinate", q((t49, e10, i10) => {
      if (null == this.currentMap)
        return [];
      let n10 = this.mapObjects.get(this.currentMap);
      if (!n10 || !n10.hoverableMeshChildren)
        return [];
      let r6 = new qe(t49, e10), o6 = r6.x / this.canvasWidth * 2 - 1, s10 = -r6.y / this.canvasHeight * 2 + 1, a3 = new K(o6, s10, 0);
      return jr.setFromCamera(a3, this.cameraObject), o(this, Hb).call(this, n10.hoverableMeshChildren, null == i10 ? void 0 : i10.includeNonInteractive);
    }, "getPolygonsAtScreenCoordinate")), v(this, "getPolygonsAtCoordinate", q((t49, e10) => {
      let i10 = this.mapObjects.get(t49.map.id);
      if (!i10 || !i10.hoverableMeshChildren)
        return [];
      let n10 = this.convertTo3DMapPosition(t49);
      return n10.setZ(this.controls.maxZoom), jr.set(n10, new K(0, 0, -1)), o(this, Hb).call(this, i10.hoverableMeshChildren, null == e10 ? void 0 : e10.includeNonInteractive);
    }, "getPolygonsAtCoordinate")), v(this, "destroy", q(() => {
      var t49;
      this.flatLabels.removeAllLabels(), this.floatingLabels.removeAllLabels(), this.paths.removeAllPaths(), this.polygonInteraction.removeAllInteractivePolygons(), this.polygonColors.clearAllPolygonColors(), this.polygonHoverColors.clearAllPolygonHoverColors(), this.polygonStates.destroy(), this.markers.removeAll(), this.tooltips.removeAllTooltips(), this.smartCollisionEngine.destroy(), Up.imagesLoadingInProgress.clear(), this.controls.dispose(), this.off(2, this.tryRendering), this.off(3, o(this, gd)), this.off(4, o(this, Ub)), this.off(0, o(this, zb)), window.removeEventListener("resize", o(this, d0), false), o(this, pd) && o(this, pd).disconnect(), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.determineNewLabelSize), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, o(this, jb)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ZOOM_START_EVENT.type, o(this, Zl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_START_EVENT.type, o(this, Zl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_START_EVENT.type, o(this, vd)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, o(this, Zl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, this.publish(15)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, o(this, vd)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.PAN_START_EVENT.type, o(this, Zl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.PAN_START_EVENT.type, this.publish(15)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ZOOM_END_EVENT.type, o(this, Ql)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_END_EVENT.type, o(this, Ql)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_END_EVENT.type, o(this, yd)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, o(this, Ql)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, o(this, yd)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.PAN_END_EVENT.type, o(this, Ql));
      for (let t50 in this.polygonMeshesById)
        this.polygonMeshesById[t50].destroy();
      this.polygonMeshesById = {}, this.interactivePolygons = {}, this._subscribers = {}, null == (t49 = this.mapManager) || t49.destroy(), this.scene.destroy(), this.interactivePolygons = {}, o(this, p0).dispose(), this.taskScheduler.destroy(), this.renderer.destroy(), this.container.removeChild(this.rendererDomElement), null != o(this, co) && this.hideDebugUI(), this.renderer = void 0;
    }, "destroy")), this.MapView = n, this.options = i, this.type = "MapView3D", this.container = t48, this.venue = e6, window.MappedinDebug || (window.MappedinDebug = {}), "test" === e.env.NODE_ENV && (window.MappedinDebug.mapViewCoreInstance = this), p(this, u0, false), p(this, c0, ah.ENABLED ? wS : i.backgroundColor || "#ffffff"), p(this, h0, null != (r = i.backgroundAlpha) ? r : 1), this.colors = { defaultHover2D: "#cccccc", select: "#4ca1fc", text: "#000000", path: "#ff834c", pathPulse: "#ffffff", textSelect: "#ffffff" }, i.disableZoomOnMapSizeChange && p(this, u0, true), this.loadOptions = { mapRenderStrategy: "SINGLE_GEOMETRY", ...i.loadOptions }, true === this.loadOptions.loadAsync && "SINGLE_GEOMETRY" === this.loadOptions.mapRenderStrategy && (Le.warn("Async loading does not work with the single geometry map render strategy. Reverting to non-async loading."), this.loadOptions.loadAsync = false), this.taskScheduler = new gp({ performance: true }), p(this, p0, new Gp());
    let g = "boolean" == typeof i.multiBufferRendering && i.multiBufferRendering;
    this.renderer = new r0({ antialias: "boolean" != typeof i.antialias || i.antialias, antialiasQuality: i.antialiasQuality, aoEnabled: i.aoEnabled, aoQuality: i.aoQuality, aoResolution: i.aoResolution, multiBufferRendering: g, xRayPath: "boolean" != typeof i.xRayPath || i.xRayPath, alpha: true, onWebGLContextCreationError: i.onWebGLContextCreationError, onWebGLContextLost: i.onWebGLContextLost, onWebGLContextRestored: () => {
      i.onWebGLContextRestored && i.onWebGLContextRestored(), o(this, p0).onWebGLContextRestored(), this.tryRendering();
    }, onWebGLRendererError: i.onWebGLRendererError, backgroundColor: o(this, c0), backgroundAlpha: o(this, h0), core: this }), this.scene = new Oa(), this.outdoorGeometryLayers = null != (s6 = null == (o3 = i.loadOptions) ? void 0 : o3.outdoorGeometryLayers) ? s6 : [];
    let m = window.__THREE_DEVTOOLS__;
    "dev" === e.env.NODE_ENV && typeof m < "u" && (m.dispatchEvent(new CustomEvent("observe", { detail: this.scene })), m.dispatchEvent(new CustomEvent("observe", { detail: this.renderer }))), this.resolutionScale = window.devicePixelRatio, this.cameraObject = new as(kMe, this.aspect, 50, 1e5), this.cameraObject.renderOrder = 999;
    let v4 = new ci();
    v4.add(this.cameraObject), p(this, qu, new ci()), o(this, qu).add(v4), this.billboardManager = new $8(o(this, qu)), this.scene.add(o(this, qu)), this.cameraObject.updateProjectionMatrix(), this.cameraObject.updateMatrixWorld(true), this.focusZoomFactor = 1.1, p(this, _f, false), p(this, lh, []), this.polygonMeshesById = {}, this.textLabelsByPolygonId = {}, this.labelOrientationDelay = 650, this.interactivePolygons = {}, this.polygonHoverColorsById = {};
    let y4 = /* @__PURE__ */ new Map();
    this.mapObjects = y4, e6.maps.forEach((t49) => {
      let e10 = new qT(t49, this.polygonMeshesById, 0, this, { taskScheduler: this.taskScheduler });
      this.mapObjects.set(t49.id, e10);
    }), this.referenceMap = e6.getCollectionItemById("maps", e6.venue.defaultMap), this.rendererDomElement = this.renderer.domElement(), this.resolution = new qe(), this.isWebGL2 = !!this.renderer.implementation.renderer.capabilities.isWebGL2, true === g && this.renderer.implementation instanceof s0 && true === (null == (a = null == i ? void 0 : i.outdoorView) ? void 0 : a.enabled) && this.isWebGL2 && (this.outdoorViewController = new z7(this, null == i ? void 0 : i.outdoorView), this.outdoorViewController.load(), this.renderer.implementation.setOutdoorViewController(this.outdoorViewController)), p(this, qb, new xs({ name: "updateRenderTargets", ordering: Na.RENDER, callback: () => {
      this.renderer.render(un.COMPOSITE, null, this.scene, this.cameraObject);
    } })), p(this, f0, new xs({ name: "updateBillboards", ordering: Na.BEFORE_CAMERA, callback: () => {
      this.billboardManager.update();
    } })), p(this, Mf, new xs({ name: "updateTweens", ordering: Na.BEFORE_CAMERA, callback: () => {
      cK.default.update();
    } })), this.cameraParameters = new qe(), p(this, Ib, new xs({ name: "camera", ordering: Na.CAMERA, callback: () => {
      this.controls.update(), this.cameraParameters.x = this.controls.getZoom(), this.cameraParameters.y = this.controls.getTilt(), this.controls.isCameraMoving() && this.publish(9, this.cameraParameters), this.publish(10, this.cameraParameters.x);
    } })), p(this, Ob, new xs({ name: "rotateObjects", ordering: Na.AFTER_CAMERA, callback: () => {
      let t49 = this.getNorth() + this.controls.getRotation();
      for (let e10 = 0, i10 = o(this, lh).length; e10 < i10; ++e10)
        o(this, Vb).call(this, o(this, lh)[e10], t49);
      o(this, TS).call(this), o(this, SS).call(this), p(this, uh, false);
    } })), p(this, md, new xs({ name: "renderAll", ordering: Na.RENDER, callback: () => {
      null != this.currentMap && this.renderer.isAvailable() && (o(this, Ef) && o(this, Tf).call(this), this.renderer.render(un.ALL, null, this.scene, this.cameraObject), this.controls.postRender && this.controls.postRender());
    } })), p(this, Lb, new xs({ name: "renderAnimated", ordering: Na.RENDER, supersededBy: /* @__PURE__ */ new Set([o(this, md)]), callback: () => {
      null != this.currentMap && this.renderer.isAvailable() && (o(this, Ef) && o(this, Tf).call(this), this.renderer.render(un.ANIMATED, null, this.scene, this.cameraObject), this.controls.postRender && this.controls.postRender());
    } })), p(this, Db, new xs({ name: "renderAlwaysOnTop", ordering: Na.RENDER, supersededBy: /* @__PURE__ */ new Set([o(this, md)]), callback: () => {
      null != this.currentMap && this.renderer.isAvailable() && (o(this, Ef) && o(this, Tf).call(this), this.renderer.render(un.ALWAYS_ON_TOP, null, this.scene, this.cameraObject), this.controls.postRender && this.controls.postRender());
    } })), p(this, Nb, new xs({ name: "updateBlueDotPosition", ordering: Na.AFTER_RENDER, callback: () => {
      this.publish(11);
    } })), p(this, Rb, new xs({ name: "updateColliders", ordering: Na.AFTER_RENDER, frameCount: 32, callback: () => {
      this.smartCollisionEngine.reposition();
    } })), p(this, Bb, new xs({ name: "updateDebugUI", ordering: Na.AFTER_ALL_UPDATES, frameCount: 1, callback: () => {
      var t49;
      let e10 = {};
      for (let t50 of this.taskScheduler.getUpdatesRunLastFrame().values())
        e10[t50.name] = t50.getLastFrameTime();
      null == (t49 = o(this, co)) || t49.reportFramePerformance(e10);
    } }));
    let x4 = new To(1e6, 1e6), _ = new ls({ color: 0, visible: false });
    this.cameraPlane = new Ft(x4, _), this.scene.add(this.cameraPlane), t48.appendChild(this.rendererDomElement), window.addEventListener("resize", o(this, d0), false), "function" == typeof ResizeObserver && "test" !== (null == (l = e.env) ? void 0 : l.NODE_ENV) && (p(this, pd, new ResizeObserver(() => {
      window.requestAnimationFrame(o(this, d0));
    })), null == (h = o(this, pd)) || h.observe(t48)), t48.classList.add("mappedin-map"), this.rendererDomElement.style.width = null != (c2 = globalThis.MappedinDebug) && c2.TEST_IOS ? "1080px" : "100%", this.rendererDomElement.style.height = null != (p4 = globalThis.MappedinDebug) && p4.TEST_IOS ? "1920px" : "100%", this.rendererDomElement.style.cursor = "grab", this.canvasWidth = this.rendererDomElement.clientWidth, this.canvasHeight = this.rendererDomElement.clientHeight, this.rendererDomElement.style.touchAction = "manipulation";
    let b = this.canvasWidth, E = this.canvasHeight;
    p(this, Ef, true), this.setBackgroundColor(o(this, c0), o(this, h0)), o(this, m0).call(this, Math.floor(b * this.resolutionScale), Math.floor(E * this.resolutionScale)), o(this, gd).call(this);
    let w4 = new lT(16777215, 0.3);
    w4.position.set(-150, -150, 350), this.scene.add(w4);
    let S = new uT(16777215, 0.741);
    this.scene.add(S), this.controls = new dS(this.cameraObject, this.rendererDomElement, this.scene, this), this.controls.enableZoom = true, this.smartCollisionEngine = new Z8(this), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.determineNewLabelSize), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, o(this, jb)), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ZOOM_START_EVENT.type, () => {
      this.publish(18), o(this, Zl).call(this);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ROTATE_START_EVENT.type, () => {
      this.publish(20), o(this, Zl).call(this), o(this, vd).call(this);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, () => {
      this.publish(24), this.publish(15), o(this, Zl).call(this), o(this, vd).call(this);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.PAN_START_EVENT.type, () => {
      this.publish(22), o(this, Zl).call(this), this.publish(15);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ZOOM_END_EVENT.type, () => {
      this.publish(17), this.publish(18), o(this, Ql).call(this);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ROTATE_END_EVENT.type, () => {
      this.publish(19), o(this, Ql).call(this), o(this, yd).call(this);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, () => {
      this.publish(25), o(this, Ql).call(this), o(this, yd).call(this);
    }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.PAN_END_EVENT.type, o(this, Ql)), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_PAN_START_EVENT.type, () => {
      this.currentInteractionEvent = 21;
    }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_ROTATE_START_EVENT.type, () => {
      this.currentInteractionEvent = 19;
    }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_DOLLY_START_EVENT.type, () => {
      this.currentInteractionEvent = 17;
    }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_TILT_START_EVENT.type, () => {
      this.currentInteractionEvent = 23;
    }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_ZOOM_START_EVENT.type, () => {
      this.publish(17), this.currentInteractionEvent = 17;
    }), p(this, Fb, Gx(e6, i)), this.sceneManager = null != (null == (d = null == i ? void 0 : i.dynamicFocus) ? void 0 : d.baseMap) ? new zx(this, null == (f = i.dynamicFocus) ? void 0 : f.baseMap) : new ND(this, new Zc([o(this, Fb)], this)), this.on(2, this.tryRendering), this.on(3, o(this, gd)), this.on(4, o(this, Ub)), this.on(1, (t49) => {
      this.tryRendering(), this.renderer.preloadTexture(t49);
    }), this.on(0, () => {
      o(this, zb).call(this), "function" == typeof this.options.onFirstMapLoaded && this.options.onFirstMapLoaded(e6);
    }), e6.imageBinaries && L9(new Kg(e6.imageBinaries)), "function" == typeof i.onDataLoaded && i.onDataLoaded(e6), this.setPadding(), this.eventSystem = new k8(this), this.floatingLabels = new AR(this), this.flatLabels = new DR(this), this.paths = new pR(this), this.polygonColors = new qR(this), this.polygonHoverColors = new zR(this), this.polygonInteraction = new HR(this), this.polygonStates = new QR(this), this.polygonImages = new e8(this), this.markers = new CN(this), this.tooltips = new YR(this), this.threeDMarkers = new R2(this), this.blueDot = new s8(this), this.camera = new P8(this), this.stackedMaps = new r7(this), this.tileManager = new ah(this), this.watermark = new Yl(this), this.layerController = new gS(this), this.exportController = new a0(this);
  }
  get aspect() {
    return this.canvasWidth / this.canvasHeight;
  }
  get visibleMapsInCurrentScene() {
    return this.visibleMapObjectsInCurrentScene.map((t48) => t48.mapClass);
  }
  get visibleMapObjectsInCurrentScene() {
    return Array.from(this.sceneManager.currentScene.mapObjects.values()).filter((t48) => t48.visible).map((t48) => t48);
  }
  get visibleLayersInCurrentScene() {
    let t48 = {};
    for (let e6 of this.visibleMapsInCurrentScene) {
      let i = this.layerController.getVisibleLayersForLoadedMap(e6);
      t48[e6.id] = i;
    }
    return t48;
  }
  get currentMap() {
    var t48, e6;
    return null != (e6 = null == (t48 = this.sceneManager) ? void 0 : t48.currentMap) && e6.id ? this.sceneManager.currentMap.id : (Le.error("No maps loaded."), null);
  }
  async setState(t48) {
    if (t48 !== this.state) {
      if ("explore" === t48)
        this.publish(14, false), this.state = t48;
      else if ("STACKED" === t48)
        this.publish(14, false), this.state = t48;
      else {
        if ("follow" !== t48)
          throw new Error("Unsupported State");
        this.publish(14, true), this.state = t48;
      }
      return this.publish(12, { state: this.state }), Promise.resolve();
    }
  }
  getNearestNodeByScreenCoordinate(t48, e6, i) {
    let n = "string" == typeof i ? i : (null == i ? void 0 : i.id) || this.currentMap, r = this.mapObjects.get(n);
    if (null == r)
      throw new Error("getNodeByScreenCoordinates failed: map not found");
    this.cameraObject.updateMatrixWorld(true), this.cameraObject.updateMatrix();
    let o3 = t48 / this.canvasWidth * 2 - 1, s6 = -e6 / this.canvasHeight * 2 + 1, a = new K(o3, s6, 0);
    jr.setFromCamera(a, this.cameraObject.clone());
    let l = jr.intersectObject(this.cameraPlane, false)[0].point.applyMatrix4(r.object.matrix);
    return this.venue._mapsById[n].createCoordinateByXY(l.x + r.mapClass.width / 2, -l.y + r.mapClass.height / 2).nearestNode;
  }
};
pd = /* @__PURE__ */ new WeakMap(), u0 = /* @__PURE__ */ new WeakMap(), c0 = /* @__PURE__ */ new WeakMap(), h0 = /* @__PURE__ */ new WeakMap(), _f = /* @__PURE__ */ new WeakMap(), lh = /* @__PURE__ */ new WeakMap(), wf = /* @__PURE__ */ new WeakMap(), co = /* @__PURE__ */ new WeakMap(), MS = /* @__PURE__ */ new WeakMap(), dd = /* @__PURE__ */ new WeakMap(), f0 = /* @__PURE__ */ new WeakMap(), Mf = /* @__PURE__ */ new WeakMap(), Ib = /* @__PURE__ */ new WeakMap(), Ob = /* @__PURE__ */ new WeakMap(), md = /* @__PURE__ */ new WeakMap(), Lb = /* @__PURE__ */ new WeakMap(), Db = /* @__PURE__ */ new WeakMap(), Nb = /* @__PURE__ */ new WeakMap(), Rb = /* @__PURE__ */ new WeakMap(), Bb = /* @__PURE__ */ new WeakMap(), kb = /* @__PURE__ */ new WeakMap(), qb = /* @__PURE__ */ new WeakMap(), Ef = /* @__PURE__ */ new WeakMap(), Fb = /* @__PURE__ */ new WeakMap(), uh = /* @__PURE__ */ new WeakMap(), qu = /* @__PURE__ */ new WeakMap(), p0 = /* @__PURE__ */ new WeakMap(), Ub = /* @__PURE__ */ new WeakMap(), zb = /* @__PURE__ */ new WeakMap(), Gb = /* @__PURE__ */ new WeakMap(), d0 = /* @__PURE__ */ new WeakMap(), gd = /* @__PURE__ */ new WeakMap(), Vb = /* @__PURE__ */ new WeakMap(), vd = /* @__PURE__ */ new WeakMap(), yd = /* @__PURE__ */ new WeakMap(), Zl = /* @__PURE__ */ new WeakMap(), Ql = /* @__PURE__ */ new WeakMap(), ES = /* @__PURE__ */ new WeakMap(), m0 = /* @__PURE__ */ new WeakMap(), Tf = /* @__PURE__ */ new WeakMap(), TS = /* @__PURE__ */ new WeakMap(), SS = /* @__PURE__ */ new WeakMap(), AS = /* @__PURE__ */ new WeakMap(), CS = /* @__PURE__ */ new WeakMap(), Hb = /* @__PURE__ */ new WeakMap(), jb = /* @__PURE__ */ new WeakMap(), q(O9, "Core");
var I9 = O9;
var hK = I9;
c();
var Fu;
var N9 = class {
  constructor(t48) {
    w(this, Fu, void 0), p(this, Fu, t48);
  }
  draw(t48, e6) {
    var i, n, r, o3;
    let s6 = o(this, Fu).venue.venue.slug;
    return ht.addPendingEvent(new hv({ animate_drawing: null == (i = null == e6 ? void 0 : e6.pathOptions) ? void 0 : i.animateDrawing, display_arrows_on_path: null == (n = null == e6 ? void 0 : e6.pathOptions) ? void 0 : n.displayArrowsOnPath, flatten_path: null == (r = null == e6 ? void 0 : e6.pathOptions) ? void 0 : r.flattenPath, show_pulse: null == (o3 = null == e6 ? void 0 : e6.pathOptions) ? void 0 : o3.showPulse, venue: s6 })), Ko.create(t48, e6, o(this, Fu));
  }
  setStep(t48) {
    if (null != Ko.instance) {
      let e6 = o(this, Fu).venue.venue.slug;
      ht.addPendingEvent(new fv({ venue: e6 })), Ko.instance.setStep(t48);
    }
  }
  setStepByPath(t48) {
    null != Ko.instance && Ko.instance.setStepByPath(t48);
  }
  clear() {
    if (o(this, Fu).stackedMaps.enabled && o(this, Fu).stackedMaps.disable(), null != Ko.instance) {
      let t48 = o(this, Fu).venue.venue.slug;
      ht.addPendingEvent(new cv({ venue: t48 })), Ko.instance.destroy();
    }
  }
};
Fu = /* @__PURE__ */ new WeakMap(), q(N9, "Journey");
var D9 = N9;
var fK = D9;
c();
var va;
var R9 = class {
  constructor(t48) {
    w(this, va, void 0), p(this, va, t48);
  }
  labelAllLocations(t48) {
    var e6, i;
    let n = o(this, va).core.venue.venue.slug;
    ht.addPendingEvent(new J0({ exclude_type: !(null == (e6 = null == t48 ? void 0 : t48.excludeTypes) || !e6.length) || void 0, include_locations: !(null == (i = null == t48 ? void 0 : t48.locations) || !i.length) || void 0, venue: n })), o(this, va).labelAllLocations(t48);
  }
  add(t48, e6, i) {
    let n = o(this, va).core.venue.venue.slug;
    ht.addPendingEvent(new K0({ venue: n })), o(this, va).labelPolygon(t48, e6, i);
  }
  remove(t48) {
    let e6 = o(this, va).core.venue.venue.slug;
    ht.addPendingEvent(new $0({ venue: e6 })), o(this, va).removeLabel(t48);
  }
  removeAll() {
    o(this, va).removeAllLabels();
  }
  setAppearance(t48, e6) {
    let i = o(this, va).core.venue.venue.slug;
    ht.addPendingEvent(new ev({ venue: i })), o(this, va).setAppearance(t48, e6);
  }
  setHoverColorForAll(t48) {
    o(this, va).setHoverColorForAll(t48);
  }
};
va = /* @__PURE__ */ new WeakMap(), q(R9, "FlatLabels");
var PS = R9;
c();
var Hs;
var B9 = class {
  constructor(t48) {
    w(this, Hs, void 0), p(this, Hs, t48);
  }
  labelAllLocations(t48) {
    var e6, i, n, r;
    let o3 = o(this, Hs).core.venue.venue.slug;
    return ht.addPendingEvent(new nv({ exclude_type: !(null == (e6 = null == t48 ? void 0 : t48.excludeTypes) || !e6.length) || void 0, include_locations: !(null == (i = null == t48 ? void 0 : t48.locations) || !i.length) || void 0, with_icon: !(null == (r = null == (n = null == t48 ? void 0 : t48.appearance) ? void 0 : n.marker) || !r.icon) || void 0, venue: o3 })), o(this, Hs).labelAllLocations(t48);
  }
  add(t48, e6, i) {
    var n, r;
    let o3 = o(this, Hs).core.venue.venue.slug;
    return ht.addPendingEvent(new tv({ with_icon: !(null == (r = null == (n = null == i ? void 0 : i.appearance) ? void 0 : n.marker) || !r.icon) || void 0, venue: o3 })), o(this, Hs).addLabel(t48, e6, i);
  }
  setAppearance(t48, e6) {
    let i = o(this, Hs).core.venue.venue.slug;
    ht.addPendingEvent(new sv({ venue: i })), o(this, Hs).setAppearance(t48, e6);
  }
  remove(t48) {
    let e6 = o(this, Hs).core.venue.venue.slug;
    ht.addPendingEvent(new iv({ venue: e6 })), o(this, Hs).removeLabel(t48, false);
  }
  removeAll() {
    o(this, Hs).removeAllLabels();
  }
  setPriority(t48, e6) {
    let i = o(this, Hs).core.venue.venue.slug;
    ht.addPendingEvent(new ov({ venue: i })), o(this, Hs).setPriority(t48, e6);
  }
  resetPriority(t48) {
    let e6 = o(this, Hs).core.venue.venue.slug;
    ht.addPendingEvent(new rv({ venue: e6 })), o(this, Hs).resetPriority(t48);
  }
};
Hs = /* @__PURE__ */ new WeakMap(), q(B9, "FloatingLabels");
var IS = B9;
c();
var Uu;
var k9 = class {
  constructor(t48) {
    w(this, Uu, void 0), p(this, Uu, t48);
  }
  get markers() {
    return Array.from(o(this, Uu).markersMap.entries()).map((t48) => t48[1].marker);
  }
  add(t48, e6, i) {
    return o(this, Uu).add(t48, e6, i);
  }
  setPosition(t48, e6) {
    o(this, Uu).setPosition(t48, e6);
  }
  animate(t48, e6, i) {
    return o(this, Uu).animate(t48, e6, i);
  }
  remove(t48) {
    o(this, Uu).remove(t48);
  }
  removeAll() {
    o(this, Uu).removeAll();
  }
};
Uu = /* @__PURE__ */ new WeakMap(), q(k9, "Markers");
var OS = k9;
c();
var Sf;
var q9 = class {
  constructor(t48) {
    w(this, Sf, void 0), p(this, Sf, t48);
  }
  get paths() {
    let t48 = [];
    return o(this, Sf).pathsById.forEach(({ path: e6 }) => {
      t48.push(e6);
    }), t48;
  }
  add(t48, e6) {
    return o(this, Sf).drawPath(t48, e6);
  }
  remove(t48) {
    o(this, Sf).removePath(null == t48 ? void 0 : t48.id);
  }
  removeAll() {
    o(this, Sf).removeAllPaths();
  }
};
Sf = /* @__PURE__ */ new WeakMap(), q(q9, "Paths");
var LS = q9;
c();
var pl;
var F9 = class {
  constructor(t48) {
    w(this, pl, void 0), v(this, "on", q((...t49) => {
      let e6 = o(this, pl).core.venue.venue.slug;
      return ht.addPendingEvent(new z0({ venue: e6 })), o(this, pl).on(...t49);
    }, "on")), v(this, "off", q((...t49) => {
      let e6 = o(this, pl).core.venue.venue.slug;
      return ht.addPendingEvent(new U0({ venue: e6 })), o(this, pl).off(...t49);
    }, "off")), p(this, pl, t48);
  }
  enable(t48) {
    let e6 = o(this, pl).core.venue.venue.slug;
    return ht.addPendingEvent(new F0({ allow_implicit_floor_level: null == t48 ? void 0 : t48.allowImplicitFloorLevel, use_rotation_mode: null == t48 ? void 0 : t48.useRotationMode, smoothing: null == t48 ? void 0 : t48.smoothing, show_bearing: null == t48 ? void 0 : t48.showBearing, venue: e6 })), o(this, pl).enable(t48);
  }
  disable() {
    let t48 = o(this, pl).core.venue.venue.slug;
    ht.addPendingEvent(new q0({ venue: t48 })), o(this, pl).disable();
  }
};
pl = /* @__PURE__ */ new WeakMap(), q(F9, "BlueDot");
var DS = F9;
c();
var Gn;
var U9 = class {
  constructor(t48) {
    w(this, Gn, void 0), v(this, "on", q((...t49) => o(this, Gn).on(...t49), "on")), v(this, "off", q((...t49) => o(this, Gn).off(...t49), "off")), v(this, "interactions", { set: (t49) => o(this, Gn).interactions.set(t49), enable: () => {
      let t49 = o(this, Gn).core.venue.venue.slug;
      return ht.addPendingEvent(new Y0({ venue: t49 })), o(this, Gn).interactions.enable();
    }, disable: () => {
      let t49 = o(this, Gn).core.venue.venue.slug;
      return ht.addPendingEvent(new W0({ venue: t49 })), o(this, Gn).interactions.disable();
    } }), p(this, Gn, t48);
  }
  get currentAnimation() {
    return o(this, Gn).currentAnimation;
  }
  get zoom() {
    return o(this, Gn).zoom;
  }
  get rotation() {
    return o(this, Gn).rotation;
  }
  get tilt() {
    return o(this, Gn).tilt;
  }
  get minZoom() {
    return o(this, Gn).minZoom;
  }
  set minZoom(t48) {
    o(this, Gn).minZoom = t48;
  }
  get maxZoom() {
    return o(this, Gn).maxZoom;
  }
  set maxZoom(t48) {
    o(this, Gn).maxZoom = t48;
  }
  get maxTilt() {
    return o(this, Gn).maxTilt;
  }
  set maxTilt(t48) {
    o(this, Gn).maxTilt = t48;
  }
  get position() {
    return o(this, Gn).position;
  }
  setSafeAreaInsets(t48) {
    let e6 = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new Z0({ venue: e6 })), o(this, Gn).setSafeAreaInsets(t48);
  }
  getSafeAreaInsets() {
    let t48 = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new j0({ venue: t48 })), o(this, Gn).getSafeAreaInsets();
  }
  async focusOn(t48, e6) {
    let i = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new H0({ venue: i })), o(this, Gn).focusOn(t48, e6);
  }
  set(t48) {
    let e6 = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new X0({ venue: e6 })), o(this, Gn).set(t48);
  }
  convertZoomLevelToAltitude(t48) {
    return o(this, Gn).convertZoomLevelToAltitude(t48);
  }
  convertAltitudeToZoomLevel(t48) {
    return o(this, Gn).convertAltitudeToZoomLevel(t48);
  }
  async animate(t48, e6) {
    let i = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new G0({ venue: i })), o(this, Gn).animate(t48, e6);
  }
  async translate(t48, e6, i) {
    let n = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new Q0({ venue: n })), o(this, Gn).translate(t48, e6, i);
  }
  cancelAnimation() {
    let t48 = o(this, Gn).core.venue.venue.slug;
    return ht.addPendingEvent(new V0({ venue: t48 })), o(this, Gn).cancelAnimation();
  }
};
Gn = /* @__PURE__ */ new WeakMap(), q(U9, "Camera");
var NS = U9;
c();
var Yb;
var z9 = class {
  constructor(t48) {
    w(this, Yb, void 0), p(this, Yb, t48);
  }
  async getCurrentSceneGLTF(t48) {
    return o(this, Yb).getCurrentSceneGLTF(t48);
  }
};
Yb = /* @__PURE__ */ new WeakMap(), q(z9, "Exporter");
var RS = z9;
c();
var zu;
var G9 = class {
  constructor(t48) {
    w(this, zu, void 0), v(this, "enable", q((t49) => o(this, zu).enable(t49), "enable")), v(this, "disable", q(() => o(this, zu).disable(), "disable")), v(this, "showOverview", q(async () => o(this, zu).showOverview(), "showOverview")), v(this, "scrollToMap", q((t49) => o(this, zu).scrollToMap(t49), "scrollToMap")), v(this, "zoomInToMap", q((t49, e6) => o(this, zu).zoomInToMap(t49, e6), "zoomInToMap")), p(this, zu, t48);
  }
  get state() {
    return o(this, zu).currentState;
  }
};
zu = /* @__PURE__ */ new WeakMap(), q(G9, "StackedMaps");
var BS = G9;
c();
var dl;
var H9 = class {
  constructor(t48) {
    w(this, dl, void 0), t48 && p(this, dl, t48);
  }
  setStyle(t48) {
    o(this, dl) && o(this, dl).setStyle(t48);
  }
  setAttributionPosition(t48) {
    o(this, dl) && o(this, dl).setAttributionPosition(t48);
  }
  show() {
    o(this, dl) && o(this, dl).show();
  }
  hide() {
    o(this, dl) && o(this, dl).hide();
  }
};
dl = /* @__PURE__ */ new WeakMap(), q(H9, "OutdoorView");
var V9 = H9;
var pK = V9;
c();
var ch;
var j9 = class {
  constructor(t48) {
    w(this, ch, void 0), t48 && p(this, ch, t48);
  }
  async getAllLayersForMap(t48) {
    var e6, i;
    return o(this, ch) ? null != (i = null == (e6 = o(this, ch)) ? void 0 : e6.getAllLayersForMap(t48)) ? i : [] : {};
  }
  showLayers(t48) {
    o(this, ch) && o(this, ch).showLayers(t48);
  }
  addGeoJSONLayer(t48, e6) {
    var i;
    return null == (i = o(this, ch)) ? void 0 : i.addGeoJSONLayer(t48, e6);
  }
};
ch = /* @__PURE__ */ new WeakMap(), q(j9, "Layers");
var kS = j9;
c();
var Kl;
var W9 = class {
  constructor(t48) {
    w(this, Kl, void 0), p(this, Kl, t48);
  }
  set setMapOnUserInteraction(t48) {
    o(this, Kl).mapShouldSetOnUserInteraction = t48;
  }
  get setMapOnUserInteraction() {
    return o(this, Kl).mapShouldSetOnUserInteraction;
  }
  update() {
    o(this, Kl).determineTargetMap();
  }
  setDefaultMapForMapGroup(t48, e6) {
    false === o(this, Kl).mapShouldSetOnUserInteraction ? Le.warn("Dynamic Focus is disabled. Please enable it by setting setMapOnUserInteraction to true") : o(this, Kl).setDefaultMapForMapGroup(t48, e6);
  }
  resetDefaultMapForMapGroup(t48) {
    false === o(this, Kl).mapShouldSetOnUserInteraction ? Le.warn("Dynamic Focus is disabled. Please enable it by setting setMapOnUserInteraction to true") : o(this, Kl).resetDefaultMapForMapGroup(t48);
  }
};
Kl = /* @__PURE__ */ new WeakMap(), q(W9, "DynamicFocus");
var nt;
var qS = W9;
var Y9 = class extends Go {
  constructor(t48, e6, i) {
    super(), w(this, nt, void 0), v(this, "Journey"), v(this, "Camera"), v(this, "FlatLabels"), v(this, "Exporter"), v(this, "FloatingLabels"), v(this, "Markers"), v(this, "Paths"), v(this, "BlueDot"), v(this, "options", {}), v(this, "StackedMaps"), v(this, "OutdoorView"), v(this, "Layers"), v(this, "DynamicFocus"), v(this, "on", q((...t49) => {
      super.on(...t49);
    }, "on")), v(this, "off", q((...t49) => {
      super.off(...t49);
    }, "off")), this.options = i || {}, p(this, nt, new hK(t48, e6, i, this)), o(this, nt).on(16, ({ position: t49, polygons: e10, maps: i10, floatingLabels: n, nearBlueDot: r, paths: o3, markers: s6, tooltips: a }) => {
      this.publish("CLICK", { position: t49, polygons: e10, maps: i10, floatingLabels: n, markers: s6, tooltips: a, nearBlueDot: r, paths: o3 });
    }), o(this, nt).on(7, () => {
      this.publish("MAP_CHANGED", this.currentMap), this.publish("MAP_CHANGED_WITH_REASON", { map: this.currentMap, reason: o(this, nt).setMapReason }), o(this, nt).setMapReason = void 0;
    }), o(this, nt).on(5, () => {
      this.publish("MAP_CHANGED", this.currentMap);
    }), o(this, nt).on(31, () => {
      this.publish("OUTDOOR_VIEW_LOADED");
    }), o(this, nt).on(12, ({ state: t49 }) => {
      this.publish("STATE_CHANGE", t49);
    }), o(this, nt).onPolygonClicked = (t49) => {
      this.publish("POLYGON_CLICKED", e6.polygons.find((e10) => e10.id === t49));
    }, o(this, nt).onNothingClicked = () => {
      this.publish("NOTHING_CLICKED");
    }, this.Journey = new fK(o(this, nt)), this.BlueDot = new DS(o(this, nt).blueDot), this.FlatLabels = new PS(o(this, nt).flatLabels), this.FloatingLabels = new IS(o(this, nt).floatingLabels), this.Markers = new OS(o(this, nt).markers), this.Paths = new LS(o(this, nt).paths), this.Camera = new NS(o(this, nt).camera), this.StackedMaps = new BS(o(this, nt).stackedMaps), this.OutdoorView = new pK(o(this, nt).outdoorViewController), this.Exporter = new RS(o(this, nt).exportController), this.Layers = new kS(o(this, nt).layerController), o(this, nt).sceneManager instanceof zx && (this.DynamicFocus = new qS(o(this, nt).sceneManager));
  }
  labelAllLocations(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Nv({ venue: e6 })), null != t48 && t48.flatLabels ? this.FlatLabels.labelAllLocations(t48) : this.FloatingLabels.labelAllLocations(t48), [];
  }
  getNearestNodeByScreenCoordinates(t48, e6, i) {
    let n = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Ov({ venue: n })), o(this, nt).getNearestNodeByScreenCoordinate(t48, e6, i);
  }
  async setState(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Wv({ venue: e6 })), o(this, nt).setState(t48);
  }
  get state() {
    return o(this, nt).state;
  }
  get venue() {
    return o(this, nt).venue;
  }
  get container() {
    return o(this, nt).container;
  }
  get currentMap() {
    return o(this, nt).venue.maps.find((t48) => o(this, nt).currentMap === t48.id);
  }
  removeAllInteractivePolygons() {
    let t48 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Rv({ venue: t48 })), o(this, nt).polygonInteraction.removeAllInteractivePolygons();
  }
  setMap(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Hv({ venue: e6 })), o(this, nt).setMap(t48);
  }
  setPolygonColor(t48, e6) {
    let i = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new jv({ venue: i })), o(this, nt).polygonColors.setPolygonColor(t48, e6);
  }
  clearPolygonColor(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Mv({ venue: e6 })), o(this, nt).polygonColors.clearPolygonColor(t48);
  }
  clearAllPolygonColors() {
    o(this, nt).polygonColors.clearAllPolygonColors();
  }
  setPolygonOutlineColor(t48) {
    o(this, nt).polygonColors.setPolygonOutlineColor(t48);
  }
  addPolygonOutline(t48) {
    o(this, nt).polygonColors.addPolygonOutline(t48);
  }
  removePolygonOutline(t48) {
    o(this, nt).polygonColors.removePolygonOutline(t48);
  }
  removeAllPolygonOutlines() {
    o(this, nt).polygonColors.removeAllPolygonOutlines();
  }
  addInteractivePolygon(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new _v({ venue: e6 })), o(this, nt).polygonInteraction.addInteractivePolygon(t48);
  }
  addInteractivePolygonsForAllLocations(t48) {
    var e6, i;
    let n = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new wv({ exclude_type: !(null == (e6 = null == t48 ? void 0 : t48.excludeTypes) || !e6.length) || void 0, include_locations: !(null == (i = null == t48 ? void 0 : t48.locations) || !i.length) || void 0, venue: n })), o(this, nt).polygonInteraction.addInteractivePolygonsForAllLocations(t48);
  }
  removeInteractivePolygon(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Fv({ venue: e6 })), o(this, nt).polygonInteraction.removeInteractivePolygon(t48);
  }
  createMarker(t48, e6, i) {
    return this.Markers.add(t48, e6, i);
  }
  removeMarker(t48) {
    this.Markers.remove(t48);
  }
  removeAllMarkers() {
    let t48 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Bv({ venue: t48 })), this.Markers.removeAll();
  }
  removeAllTooltips() {
    let t48 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new qv({ venue: t48 })), o(this, nt).tooltips.removeAllTooltips();
  }
  createTooltip(t48, e6, i) {
    let n = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Tv({ venue: n })), o(this, nt).tooltips.createTooltip(t48, e6, i);
  }
  createCustomTooltip(t48, e6, i, n) {
    let r = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Ev({ venue: r })), o(this, nt).tooltips.createCustomTooltip(t48, e6, i, n);
  }
  removeTooltip(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new zv({ venue: e6 })), o(this, nt).tooltips.removeTooltip(t48);
  }
  enableImageFlippingForAllLocations(t48) {
    var e6, i;
    let n = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Pv({ exclude_type: !(null == (e6 = null == t48 ? void 0 : t48.excludeTypes) || !e6.length) || void 0, include_locations: !(null == (i = null == t48 ? void 0 : t48.locations) || !i.length) || void 0, venue: n })), o(this, nt).polygonImages.enableImageFlippingForAllLocations(t48);
  }
  enableImageFlippingForPolygon(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Iv({ venue: e6 })), o(this, nt).polygonImages.enableImageFlippingForPolygon(t48);
  }
  disableImageFlippingForAllPolygons() {
    let t48 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Av({ venue: t48 })), o(this, nt).polygonImages.disableImageFlippingForAllPolygons();
  }
  drawPath(t48, e6) {
    let i = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Cv({ ...void 0 !== (null == e6 ? void 0 : e6.animateDrawing) && { animate_drawing: e6.animateDrawing }, ...void 0 !== (null == e6 ? void 0 : e6.displayArrowsOnPath) && { display_arrows_on_path: e6.displayArrowsOnPath }, ...void 0 !== (null == e6 ? void 0 : e6.flattenPath) && { flatten_path: e6.flattenPath }, ...void 0 !== (null == e6 ? void 0 : e6.showPulse) && { show_pulse: e6.showPulse }, venue: i })), o(this, nt).paths.drawPath(t48, e6).id;
  }
  removePath(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Uv({ venue: e6 })), o(this, nt).paths.removePath(t48);
  }
  removeAllPaths() {
    let t48 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new kv({ venue: t48 })), o(this, nt).paths.removeAllPaths();
  }
  setBackgroundColor(t48, e6) {
    let i = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Gv({ venue: i })), o(this, nt).setBackgroundColor(t48, e6);
  }
  setHoverColor(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Vv({ venue: e6 })), o(this, nt).eventSystem.setHoverColor(t48);
  }
  setPolygonHoverColor(t48, e6) {
    o(this, nt).polygonHoverColors.setPolygonHoverColor(t48, e6);
  }
  clearPolygonHoverColor(t48) {
    o(this, nt).polygonHoverColors.clearPolygonHoverColor(t48);
  }
  clearAllPolygonHoverColors() {
    o(this, nt).polygonHoverColors.clearAllPolygonHoverColors();
  }
  tryRendering(t48) {
  }
  getPrimaryLocationForPolygon(t48) {
    let e6 = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Dv({ venue: e6 })), Bh(t48, this.venue);
  }
  getPolygonsAtCoordinate(t48, e6) {
    let i = o(this, nt).venue.venue.slug;
    return ht.addPendingEvent(new Lv({ venue: i })), o(this, nt).getPolygonsAtCoordinate(t48, e6);
  }
  getPolygonsAtScreenCoordinate(t48, e6, i) {
    return o(this, nt).getPolygonsAtScreenCoordinate(t48, e6, i);
  }
  getMappedinCoordinateAtScreenCoordinate(t48, e6, i) {
    return o(this, nt).convertScreenCoordinateToMapCoordinate(t48, e6, i);
  }
  setAmbientOcclusionSettings(t48) {
    o(this, nt).renderer.implementation.effectComposer.setAmbientOcclusionConfiguration(t48), o(this, nt).tryRendering();
  }
  setAntialiasSettings(t48) {
    o(this, nt).renderer.implementation.effectComposer.setAntialiasConfiguration(t48), o(this, nt).tryRendering();
  }
  destroy() {
    let t48 = o(this, nt).venue.venue.slug;
    ht.addPendingEvent(new Sv({ venue: t48 })), o(this, nt).destroy();
  }
};
nt = /* @__PURE__ */ new WeakMap(), q(Y9, "MapView");
var Wb = Y9;
c();
var Q9 = class {
  constructor(t48 = "en-US", e6 = 256, i, n) {
    v(this, "lang"), v(this, "apiKey"), v(this, "token"), v(this, "tileSize"), v(this, "tilesetId", "microsoft.base.road"), this.lang = t48, this.tileSize = e6, this.apiKey = i, this.token = n;
  }
  makeURL(t48, e6, i) {
    return "https://atlas.microsoft.com/map/tile?api-version=2.0&tilesetId=".concat(this.tilesetId, "&zoom=").concat(i, "&x=").concat(t48, "&y=").concat(e6, "&tileSize=").concat(this.tileSize, "&language=").concat(this.lang, "&view=Auto").concat(this.apiKey ? "&subscription-key=".concat(this.apiKey) : "");
  }
  fetchAttribution(t48, e6) {
    return fetch("https://atlas.microsoft.com/map/attribution?api-version=2022-08-01&tilesetId=".concat(this.tilesetId, "&zoom=").concat(t48, "&bounds=").concat(e6[0] + "," + e6[1] + "," + e6[2] + "," + e6[3]).concat(this.apiKey ? "&subscription-key=".concat(this.apiKey) : ""), { headers: { Authorization: "jwt-sas ".concat(this.token) } });
  }
  fetchTile(t48, e6, i, n) {
    return fetch(this.makeURL(t48, e6, i), { signal: n, headers: { Authorization: "jwt-sas ".concat(this.token) } });
  }
};
q(Q9, "AzureOutdoorContextProvider");
var X9 = Q9;
var K9 = class {
  makeURL(t48, e6, i, n) {
    return null == n ? "https://tile.openstreetmap.org/".concat(i, "/").concat(t48, "/").concat(e6, ".png") : "https://".concat(n, "/").concat(i, "/").concat(t48, "/").concat(e6, ".png");
  }
  async fetchTile(t48, e6, i, n, r) {
    return fetch(this.makeURL(t48, e6, i, r), { signal: n });
  }
};
q(K9, "OpenStreetMapOutdoorContext");
var Z9 = K9;
function WEt(t48, e6, i) {
  return new Promise((n, r) => {
    var o3, s6, a;
    try {
      let { slug: r6 } = e6.venue, l = new Wb(t48, e6, { ...i, onFirstMapLoaded() {
        ht.sendEventNow(new Yv({ venue: r6 })), n(l);
      } });
      Qa.create({ ...null == (o3 = null == l ? void 0 : l.venue) ? void 0 : o3.options, testMode: !(null != (a = null == (s6 = null == l ? void 0 : l.venue) ? void 0 : s6.options) && a.emitAnalyticsEvents) }).mapViewLoaded("3d", false, -1, ""), ht.addPendingEvent(new uv({ venue: r6 }));
    } catch (t49) {
      r(t49);
    }
  });
}
q(WEt, "showVenue");
var L9 = Dg.setAssetManager.bind(Dg);
function $Et(t48) {
  ah.ENABLED = true, null != t48 && (ah.OPTIONS = t48);
}
function eTt(t48) {
  Yl.ENABLED = true, null != t48 && (Yl.OPTIONS = { ...Yl.OPTIONS, ...t48 });
}
q($Et, "__enableTileManager"), q(eTt, "__showWatermark");
export {
  Jf as ACTION_TYPE,
  ua as ANIMATION_TWEENS,
  Gc as AssetManager,
  X9 as AzureOutdoorContextProvider,
  g1 as BEARING_TYPE,
  FT as BundleAssetManager,
  Jy as CAMERA_EASING_MODE,
  Ec as COLLISION_RANKING_TIERS,
  Qa as CustomerAnalytics,
  lE as E_BLUEDOT_EVENT,
  oE as E_BLUEDOT_MARKER_STATE,
  zm as E_BLUEDOT_STATE,
  sE as E_BLUEDOT_STATE_REASON,
  uE as E_CAMERA_DIRECTION,
  Ky as E_CAMERA_EVENT,
  $y as E_MAP_CHANGED_REASON,
  aE as E_SDK_EVENT,
  KS as E_SDK_LOG_LEVEL,
  a6 as GEOLOCATION_STATUS,
  xc as MAP_RENDER_MODE,
  Qy as MARKER_ANCHOR,
  sa as Mappedin,
  yc as MappedinCategory,
  Vo as MappedinCollectionType,
  aa as MappedinCoordinate,
  ia as MappedinDestinationSet,
  tc as MappedinDirections,
  bp as MappedinEvent,
  Ja as MappedinLocation,
  Em as MappedinLocationState,
  Fh as MappedinMap,
  _p as MappedinMapGroup,
  ja as MappedinNavigatable,
  Fs as MappedinNode,
  $a as MappedinPolygon,
  xp as MappedinRankings,
  bc as MappedinVenue,
  yp as MappedinVortex,
  K1 as OfflineSearch,
  Z9 as OpenStreetMapOutdoorContext,
  q3 as PositionUpdater,
  l6 as SAFE_AREA_INSET_TYPE,
  Sp as STACKED_MAPS_STATE,
  Gm as STATE,
  $Et as __enableTileManager,
  eTt as __showWatermark,
  ohe as downloadBundle,
  mH as downloadVenueBundleMVF,
  fH as getVenue,
  pH as getVenueBundle,
  dH as getVenueBundleURL,
  rhe as getVenueMVF,
  she as getVenueMaker,
  hhe as hydrateVenue,
  cE as labelThemes,
  L9 as setAssetManager,
  the as setFetchFn,
  yB as setLoggerLevel,
  WEt as showVenue
};
//# sourceMappingURL=@mappedin_mappedin-js.js.map
